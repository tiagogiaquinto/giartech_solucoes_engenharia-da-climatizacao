function SX(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function BX(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var gj={exports:{}},bg={},xj={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FP;function EX(){if(FP)return jr;FP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function m(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function g(Y,q,U){this.props=Y,this.context=q,this.refs=y,this.updater=U||f}g.prototype.isReactComponent={},g.prototype.setState=function(Y,q){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,q,"setState")},g.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function x(){}x.prototype=g.prototype;function v(Y,q,U){this.props=Y,this.context=q,this.refs=y,this.updater=U||f}var j=v.prototype=new x;j.constructor=v,b(j,g.prototype),j.isPureReactComponent=!0;var B=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function S(Y,q,U){var te,X={},se=null,fe=null;if(q!=null)for(te in q.ref!==void 0&&(fe=q.ref),q.key!==void 0&&(se=""+q.key),q)C.call(q,te)&&!M.hasOwnProperty(te)&&(X[te]=q[te]);var me=arguments.length-2;if(me===1)X.children=U;else if(1<me){for(var pe=Array(me),_e=0;_e<me;_e++)pe[_e]=arguments[_e+2];X.children=pe}if(Y&&Y.defaultProps)for(te in me=Y.defaultProps,me)X[te]===void 0&&(X[te]=me[te]);return{$$typeof:t,type:Y,key:se,ref:fe,props:X,_owner:E.current}}function k(Y,q){return{$$typeof:t,type:Y.type,key:q,ref:Y.ref,props:Y.props,_owner:Y._owner}}function I(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function _(Y){var q={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(U){return q[U]})}var T=/\/+/g;function D(Y,q){return typeof Y=="object"&&Y!==null&&Y.key!=null?_(""+Y.key):q.toString(36)}function L(Y,q,U,te,X){var se=typeof Y;(se==="undefined"||se==="boolean")&&(Y=null);var fe=!1;if(Y===null)fe=!0;else switch(se){case"string":case"number":fe=!0;break;case"object":switch(Y.$$typeof){case t:case e:fe=!0}}if(fe)return fe=Y,X=X(fe),Y=te===""?"."+D(fe,0):te,B(X)?(U="",Y!=null&&(U=Y.replace(T,"$&/")+"/"),L(X,q,U,"",function(_e){return _e})):X!=null&&(I(X)&&(X=k(X,U+(!X.key||fe&&fe.key===X.key?"":(""+X.key).replace(T,"$&/")+"/")+Y)),q.push(X)),1;if(fe=0,te=te===""?".":te+":",B(Y))for(var me=0;me<Y.length;me++){se=Y[me];var pe=te+D(se,me);fe+=L(se,q,U,pe,X)}else if(pe=m(Y),typeof pe=="function")for(Y=pe.call(Y),me=0;!(se=Y.next()).done;)se=se.value,pe=te+D(se,me++),fe+=L(se,q,U,pe,X);else if(se==="object")throw q=String(Y),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return fe}function V(Y,q,U){if(Y==null)return Y;var te=[],X=0;return L(Y,te,"","",function(se){return q.call(U,se,X++)}),te}function z(Y){if(Y._status===-1){var q=Y._result;q=q(),q.then(function(U){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=U)},function(U){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=U)}),Y._status===-1&&(Y._status=0,Y._result=q)}if(Y._status===1)return Y._result.default;throw Y._result}var Z={current:null},G={transition:null},H={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:G,ReactCurrentOwner:E};function ee(){throw Error("act(...) is not supported in production builds of React.")}return jr.Children={map:V,forEach:function(Y,q,U){V(Y,function(){q.apply(this,arguments)},U)},count:function(Y){var q=0;return V(Y,function(){q++}),q},toArray:function(Y){return V(Y,function(q){return q})||[]},only:function(Y){if(!I(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},jr.Component=g,jr.Fragment=r,jr.Profiler=a,jr.PureComponent=v,jr.StrictMode=s,jr.Suspense=c,jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,jr.act=ee,jr.cloneElement=function(Y,q,U){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var te=b({},Y.props),X=Y.key,se=Y.ref,fe=Y._owner;if(q!=null){if(q.ref!==void 0&&(se=q.ref,fe=E.current),q.key!==void 0&&(X=""+q.key),Y.type&&Y.type.defaultProps)var me=Y.type.defaultProps;for(pe in q)C.call(q,pe)&&!M.hasOwnProperty(pe)&&(te[pe]=q[pe]===void 0&&me!==void 0?me[pe]:q[pe])}var pe=arguments.length-2;if(pe===1)te.children=U;else if(1<pe){me=Array(pe);for(var _e=0;_e<pe;_e++)me[_e]=arguments[_e+2];te.children=me}return{$$typeof:t,type:Y.type,key:X,ref:se,props:te,_owner:fe}},jr.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:i,_context:Y},Y.Consumer=Y},jr.createElement=S,jr.createFactory=function(Y){var q=S.bind(null,Y);return q.type=Y,q},jr.createRef=function(){return{current:null}},jr.forwardRef=function(Y){return{$$typeof:l,render:Y}},jr.isValidElement=I,jr.lazy=function(Y){return{$$typeof:u,_payload:{_status:-1,_result:Y},_init:z}},jr.memo=function(Y,q){return{$$typeof:d,type:Y,compare:q===void 0?null:q}},jr.startTransition=function(Y){var q=G.transition;G.transition={};try{Y()}finally{G.transition=q}},jr.unstable_act=ee,jr.useCallback=function(Y,q){return Z.current.useCallback(Y,q)},jr.useContext=function(Y){return Z.current.useContext(Y)},jr.useDebugValue=function(){},jr.useDeferredValue=function(Y){return Z.current.useDeferredValue(Y)},jr.useEffect=function(Y,q){return Z.current.useEffect(Y,q)},jr.useId=function(){return Z.current.useId()},jr.useImperativeHandle=function(Y,q,U){return Z.current.useImperativeHandle(Y,q,U)},jr.useInsertionEffect=function(Y,q){return Z.current.useInsertionEffect(Y,q)},jr.useLayoutEffect=function(Y,q){return Z.current.useLayoutEffect(Y,q)},jr.useMemo=function(Y,q){return Z.current.useMemo(Y,q)},jr.useReducer=function(Y,q,U){return Z.current.useReducer(Y,q,U)},jr.useRef=function(Y){return Z.current.useRef(Y)},jr.useState=function(Y){return Z.current.useState(Y)},jr.useSyncExternalStore=function(Y,q,U){return Z.current.useSyncExternalStore(Y,q,U)},jr.useTransition=function(){return Z.current.useTransition()},jr.version="18.3.1",jr}var OP;function Z3(){return OP||(OP=1,xj.exports=EX()),xj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP;function kX(){if(IP)return bg;IP=1;var t=Z3(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},m=null,f=null;d!==void 0&&(m=""+d),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(f=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:m,ref:f,props:h,_owner:a.current}}return bg.Fragment=r,bg.jsx=o,bg.jsxs=o,bg}var DP;function PX(){return DP||(DP=1,gj.exports=kX()),gj.exports}var n=PX(),F=Z3();const ke=Xr(F),TX=SX({__proto__:null,default:ke},[F]);var Vy={},yj={exports:{}},Oi={},bj={exports:{}},vj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP;function FX(){return MP||(MP=1,(function(t){function e(G,H){var ee=G.length;G.push(H);e:for(;0<ee;){var Y=ee-1>>>1,q=G[Y];if(0<a(q,H))G[Y]=H,G[ee]=q,ee=Y;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var H=G[0],ee=G.pop();if(ee!==H){G[0]=ee;e:for(var Y=0,q=G.length,U=q>>>1;Y<U;){var te=2*(Y+1)-1,X=G[te],se=te+1,fe=G[se];if(0>a(X,ee))se<q&&0>a(fe,X)?(G[Y]=fe,G[se]=ee,Y=se):(G[Y]=X,G[te]=ee,Y=te);else if(se<q&&0>a(fe,ee))G[Y]=fe,G[se]=ee,Y=se;else break e}}return H}function a(G,H){var ee=G.sortIndex-H.sortIndex;return ee!==0?ee:G.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,m=3,f=!1,b=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(G){for(var H=r(d);H!==null;){if(H.callback===null)s(d);else if(H.startTime<=G)s(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(d)}}function B(G){if(y=!1,j(G),!b)if(r(c)!==null)b=!0,z(C);else{var H=r(d);H!==null&&Z(B,H.startTime-G)}}function C(G,H){b=!1,y&&(y=!1,x(S),S=-1),f=!0;var ee=m;try{for(j(H),h=r(c);h!==null&&(!(h.expirationTime>H)||G&&!_());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,m=h.priorityLevel;var q=Y(h.expirationTime<=H);H=t.unstable_now(),typeof q=="function"?h.callback=q:h===r(c)&&s(c),j(H)}else s(c);h=r(c)}if(h!==null)var U=!0;else{var te=r(d);te!==null&&Z(B,te.startTime-H),U=!1}return U}finally{h=null,m=ee,f=!1}}var E=!1,M=null,S=-1,k=5,I=-1;function _(){return!(t.unstable_now()-I<k)}function T(){if(M!==null){var G=t.unstable_now();I=G;var H=!0;try{H=M(!0,G)}finally{H?D():(E=!1,M=null)}}else E=!1}var D;if(typeof v=="function")D=function(){v(T)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=T,D=function(){V.postMessage(null)}}else D=function(){g(T,0)};function z(G){M=G,E||(E=!0,D())}function Z(G,H){S=g(function(){G(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,z(C))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var ee=m;m=H;try{return G()}finally{m=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,H){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ee=m;m=G;try{return H()}finally{m=ee}},t.unstable_scheduleCallback=function(G,H,ee){var Y=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Y+ee:Y):ee=Y,G){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ee+q,G={id:u++,callback:H,priorityLevel:G,startTime:ee,expirationTime:q,sortIndex:-1},ee>Y?(G.sortIndex=ee,e(d,G),r(c)===null&&G===r(d)&&(y?(x(S),S=-1):y=!0,Z(B,ee-Y))):(G.sortIndex=q,e(c,G),b||f||(b=!0,z(C))),G},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(G){var H=m;return function(){var ee=m;m=H;try{return G.apply(this,arguments)}finally{m=ee}}}})(vj)),vj}var LP;function OX(){return LP||(LP=1,bj.exports=FX()),bj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP;function IX(){if(RP)return Oi;RP=1;var t=Z3(),e=OX();function r(A){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+A,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+A+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(A,p){o(A,p),o(A+"Capture",p)}function o(A,p){for(a[A]=p,A=0;A<p.length;A++)s.add(p[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function m(A){return c.call(h,A)?!0:c.call(u,A)?!1:d.test(A)?h[A]=!0:(u[A]=!0,!1)}function f(A,p,w,P){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return P?!1:w!==null?!w.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function b(A,p,w,P){if(p===null||typeof p>"u"||f(A,p,w,P))return!0;if(P)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(A,p,w,P,Q,K,ie){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=P,this.attributeNamespace=Q,this.mustUseProperty=w,this.propertyName=A,this.type=p,this.sanitizeURL=K,this.removeEmptyString=ie}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){g[A]=new y(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var p=A[0];g[p]=new y(p,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){g[A]=new y(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){g[A]=new y(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){g[A]=new y(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){g[A]=new y(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){g[A]=new y(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){g[A]=new y(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){g[A]=new y(A,5,!1,A.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function v(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var p=A.replace(x,v);g[p]=new y(p,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var p=A.replace(x,v);g[p]=new y(p,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var p=A.replace(x,v);g[p]=new y(p,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){g[A]=new y(A,1,!1,A.toLowerCase(),null,!1,!1)}),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){g[A]=new y(A,1,!1,A.toLowerCase(),null,!0,!0)});function j(A,p,w,P){var Q=g.hasOwnProperty(p)?g[p]:null;(Q!==null?Q.type!==0:P||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,w,Q,P)&&(w=null),P||Q===null?m(p)&&(w===null?A.removeAttribute(p):A.setAttribute(p,""+w)):Q.mustUseProperty?A[Q.propertyName]=w===null?Q.type===3?!1:"":w:(p=Q.attributeName,P=Q.attributeNamespace,w===null?A.removeAttribute(p):(Q=Q.type,w=Q===3||Q===4&&w===!0?"":""+w,P?A.setAttributeNS(P,p,w):A.setAttribute(p,w))))}var B=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),_=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),G=Symbol.iterator;function H(A){return A===null||typeof A!="object"?null:(A=G&&A[G]||A["@@iterator"],typeof A=="function"?A:null)}var ee=Object.assign,Y;function q(A){if(Y===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);Y=p&&p[1]||""}return`
`+Y+A}var U=!1;function te(A,p){if(!A||U)return"";U=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ye){var P=Ye}Reflect.construct(A,[],p)}else{try{p.call()}catch(Ye){P=Ye}A.call(p.prototype)}else{try{throw Error()}catch(Ye){P=Ye}A()}}catch(Ye){if(Ye&&P&&typeof Ye.stack=="string"){for(var Q=Ye.stack.split(`
`),K=P.stack.split(`
`),ie=Q.length-1,we=K.length-1;1<=ie&&0<=we&&Q[ie]!==K[we];)we--;for(;1<=ie&&0<=we;ie--,we--)if(Q[ie]!==K[we]){if(ie!==1||we!==1)do if(ie--,we--,0>we||Q[ie]!==K[we]){var Pe=`
`+Q[ie].replace(" at new "," at ");return A.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",A.displayName)),Pe}while(1<=ie&&0<=we);break}}}finally{U=!1,Error.prepareStackTrace=w}return(A=A?A.displayName||A.name:"")?q(A):""}function X(A){switch(A.tag){case 5:return q(A.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return A=te(A.type,!1),A;case 11:return A=te(A.type.render,!1),A;case 1:return A=te(A.type,!0),A;default:return""}}function se(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case M:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case L:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case _:return(A.displayName||"Context")+".Consumer";case I:return(A._context.displayName||"Context")+".Provider";case T:var p=A.render;return A=A.displayName,A||(A=p.displayName||p.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case V:return p=A.displayName||null,p!==null?p:se(A.type)||"Memo";case z:p=A._payload,A=A._init;try{return se(A(p))}catch{}}return null}function fe(A){var p=A.type;switch(A.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=p.render,A=A.displayName||A.name||"",p.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return se(p);case 8:return p===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function me(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function pe(A){var p=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function _e(A){var p=pe(A)?"checked":"value",w=Object.getOwnPropertyDescriptor(A.constructor.prototype,p),P=""+A[p];if(!A.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var Q=w.get,K=w.set;return Object.defineProperty(A,p,{configurable:!0,get:function(){return Q.call(this)},set:function(ie){P=""+ie,K.call(this,ie)}}),Object.defineProperty(A,p,{enumerable:w.enumerable}),{getValue:function(){return P},setValue:function(ie){P=""+ie},stopTracking:function(){A._valueTracker=null,delete A[p]}}}}function ge(A){A._valueTracker||(A._valueTracker=_e(A))}function ye(A){if(!A)return!1;var p=A._valueTracker;if(!p)return!0;var w=p.getValue(),P="";return A&&(P=pe(A)?A.checked?"true":"false":A.value),A=P,A!==w?(p.setValue(A),!0):!1}function Ve(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function st(A,p){var w=p.checked;return ee({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??A._wrapperState.initialChecked})}function Ne(A,p){var w=p.defaultValue==null?"":p.defaultValue,P=p.checked!=null?p.checked:p.defaultChecked;w=me(p.value!=null?p.value:w),A._wrapperState={initialChecked:P,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function J(A,p){p=p.checked,p!=null&&j(A,"checked",p,!1)}function Me(A,p){J(A,p);var w=me(p.value),P=p.type;if(w!=null)P==="number"?(w===0&&A.value===""||A.value!=w)&&(A.value=""+w):A.value!==""+w&&(A.value=""+w);else if(P==="submit"||P==="reset"){A.removeAttribute("value");return}p.hasOwnProperty("value")?le(A,p.type,w):p.hasOwnProperty("defaultValue")&&le(A,p.type,me(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(A.defaultChecked=!!p.defaultChecked)}function Ie(A,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var P=p.type;if(!(P!=="submit"&&P!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+A._wrapperState.initialValue,w||p===A.value||(A.value=p),A.defaultValue=p}w=A.name,w!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,w!==""&&(A.name=w)}function le(A,p,w){(p!=="number"||Ve(A.ownerDocument)!==A)&&(w==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+w&&(A.defaultValue=""+w))}var Se=Array.isArray;function Ze(A,p,w,P){if(A=A.options,p){p={};for(var Q=0;Q<w.length;Q++)p["$"+w[Q]]=!0;for(w=0;w<A.length;w++)Q=p.hasOwnProperty("$"+A[w].value),A[w].selected!==Q&&(A[w].selected=Q),Q&&P&&(A[w].defaultSelected=!0)}else{for(w=""+me(w),p=null,Q=0;Q<A.length;Q++){if(A[Q].value===w){A[Q].selected=!0,P&&(A[Q].defaultSelected=!0);return}p!==null||A[Q].disabled||(p=A[Q])}p!==null&&(p.selected=!0)}}function Oe(A,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return ee({},p,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function dt(A,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(r(92));if(Se(w)){if(1<w.length)throw Error(r(93));w=w[0]}p=w}p==null&&(p=""),w=p}A._wrapperState={initialValue:me(w)}}function _t(A,p){var w=me(p.value),P=me(p.defaultValue);w!=null&&(w=""+w,w!==A.value&&(A.value=w),p.defaultValue==null&&A.defaultValue!==w&&(A.defaultValue=w)),P!=null&&(A.defaultValue=""+P)}function Ge(A){var p=A.textContent;p===A._wrapperState.initialValue&&p!==""&&p!==null&&(A.value=p)}function Ce(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(A,p){return A==null||A==="http://www.w3.org/1999/xhtml"?Ce(p):A==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var ot,Pt=(function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,P,Q){MSApp.execUnsafeLocalFunction(function(){return A(p,w,P,Q)})}:A})(function(A,p){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=p;else{for(ot=ot||document.createElement("div"),ot.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=ot.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;p.firstChild;)A.appendChild(p.firstChild)}});function zt(A,p){if(p){var w=A.firstChild;if(w&&w===A.lastChild&&w.nodeType===3){w.nodeValue=p;return}}A.textContent=p}var mt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zn=["Webkit","ms","Moz","O"];Object.keys(mt).forEach(function(A){zn.forEach(function(p){p=p+A.charAt(0).toUpperCase()+A.substring(1),mt[p]=mt[A]})});function br(A,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||mt.hasOwnProperty(A)&&mt[A]?(""+p).trim():p+"px"}function Xn(A,p){A=A.style;for(var w in p)if(p.hasOwnProperty(w)){var P=w.indexOf("--")===0,Q=br(w,p[w],P);w==="float"&&(w="cssFloat"),P?A.setProperty(w,Q):A[w]=Q}}var Pr=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(A,p){if(p){if(Pr[A]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,A));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Ts(A,p){if(A.indexOf("-")===-1)return typeof p.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wr=null;function ei(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var yr=null,sr=null,ve=null;function xt(A){if(A=ju(A)){if(typeof yr!="function")throw Error(r(280));var p=A.stateNode;p&&(p=tA(p),yr(A.stateNode,A.type,p))}}function Xe(A){sr?ve?ve.push(A):ve=[A]:sr=A}function ft(){if(sr){var A=sr,p=ve;if(ve=sr=null,xt(A),p)for(A=0;A<p.length;A++)xt(p[A])}}function Qr(A,p){return A(p)}function Gt(){}var pt=!1;function de(A,p,w){if(pt)return A(p,w);pt=!0;try{return Qr(A,p,w)}finally{pt=!1,(sr!==null||ve!==null)&&(Gt(),ft())}}function je(A,p){var w=A.stateNode;if(w===null)return null;var P=tA(w);if(P===null)return null;w=P[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(A=A.type,P=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!P;break e;default:A=!1}if(A)return null;if(w&&typeof w!="function")throw Error(r(231,p,typeof w));return w}var Qe=!1;if(l)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch{Qe=!1}function et(A,p,w,P,Q,K,ie,we,Pe){var Ye=Array.prototype.slice.call(arguments,3);try{p.apply(w,Ye)}catch(At){this.onError(At)}}var St=!1,Ue=null,hr=!1,sn=null,ha={onError:function(A){St=!0,Ue=A}};function Fs(A,p,w,P,Q,K,ie,we,Pe){St=!1,Ue=null,et.apply(ha,arguments)}function Hi(A,p,w,P,Q,K,ie,we,Pe){if(Fs.apply(this,arguments),St){if(St){var Ye=Ue;St=!1,Ue=null}else throw Error(r(198));hr||(hr=!0,sn=Ye)}}function Os(A){var p=A,w=A;if(A.alternate)for(;p.return;)p=p.return;else{A=p;do p=A,(p.flags&4098)!==0&&(w=p.return),A=p.return;while(A)}return p.tag===3?w:null}function qi(A){if(A.tag===13){var p=A.memoizedState;if(p===null&&(A=A.alternate,A!==null&&(p=A.memoizedState)),p!==null)return p.dehydrated}return null}function ti(A){if(Os(A)!==A)throw Error(r(188))}function Ao(A){var p=A.alternate;if(!p){if(p=Os(A),p===null)throw Error(r(188));return p!==A?null:A}for(var w=A,P=p;;){var Q=w.return;if(Q===null)break;var K=Q.alternate;if(K===null){if(P=Q.return,P!==null){w=P;continue}break}if(Q.child===K.child){for(K=Q.child;K;){if(K===w)return ti(Q),A;if(K===P)return ti(Q),p;K=K.sibling}throw Error(r(188))}if(w.return!==P.return)w=Q,P=K;else{for(var ie=!1,we=Q.child;we;){if(we===w){ie=!0,w=Q,P=K;break}if(we===P){ie=!0,P=Q,w=K;break}we=we.sibling}if(!ie){for(we=K.child;we;){if(we===w){ie=!0,w=K,P=Q;break}if(we===P){ie=!0,P=K,w=Q;break}we=we.sibling}if(!ie)throw Error(r(189))}}if(w.alternate!==P)throw Error(r(190))}if(w.tag!==3)throw Error(r(188));return w.stateNode.current===w?A:p}function Dl(A){return A=Ao(A),A!==null?kc(A):null}function kc(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var p=kc(A);if(p!==null)return p;A=A.sibling}return null}var Pc=e.unstable_scheduleCallback,Tc=e.unstable_cancelCallback,Kd=e.unstable_shouldYield,bm=e.unstable_requestPaint,Bn=e.unstable_now,Zp=e.unstable_getCurrentPriorityLevel,Ml=e.unstable_ImmediatePriority,Oh=e.unstable_UserBlockingPriority,Wd=e.unstable_NormalPriority,Ih=e.unstable_LowPriority,vm=e.unstable_IdlePriority,Fc=null,vi=null;function Gd(A){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Fc,A,void 0,(A.current.flags&128)===128)}catch{}}var ri=Math.clz32?Math.clz32:jm,Vn=Math.log,wm=Math.LN2;function jm(A){return A>>>=0,A===0?32:31-(Vn(A)/wm|0)|0}var Oc=64,Ll=4194304;function Ic(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function Ca(A,p){var w=A.pendingLanes;if(w===0)return 0;var P=0,Q=A.suspendedLanes,K=A.pingedLanes,ie=w&268435455;if(ie!==0){var we=ie&~Q;we!==0?P=Ic(we):(K&=ie,K!==0&&(P=Ic(K)))}else ie=w&~Q,ie!==0?P=Ic(ie):K!==0&&(P=Ic(K));if(P===0)return 0;if(p!==0&&p!==P&&(p&Q)===0&&(Q=P&-P,K=p&-p,Q>=K||Q===16&&(K&4194240)!==0))return p;if((P&4)!==0&&(P|=w&16),p=A.entangledLanes,p!==0)for(A=A.entanglements,p&=P;0<p;)w=31-ri(p),Q=1<<w,P|=A[w],p&=~Q;return P}function Xd(A,p){switch(A){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sa(A,p){for(var w=A.suspendedLanes,P=A.pingedLanes,Q=A.expirationTimes,K=A.pendingLanes;0<K;){var ie=31-ri(K),we=1<<ie,Pe=Q[ie];Pe===-1?((we&w)===0||(we&P)!==0)&&(Q[ie]=Xd(we,p)):Pe<=p&&(A.expiredLanes|=we),K&=~we}}function Dc(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function Dh(){var A=Oc;return Oc<<=1,(Oc&4194240)===0&&(Oc=64),A}function Mh(A){for(var p=[],w=0;31>w;w++)p.push(A);return p}function Rl(A,p,w){A.pendingLanes|=p,p!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,p=31-ri(p),A[p]=w}function eg(A,p){var w=A.pendingLanes&~p;A.pendingLanes=p,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=p,A.mutableReadLanes&=p,A.entangledLanes&=p,p=A.entanglements;var P=A.eventTimes;for(A=A.expirationTimes;0<w;){var Q=31-ri(w),K=1<<Q;p[Q]=0,P[Q]=-1,A[Q]=-1,w&=~K}}function Yd(A,p){var w=A.entangledLanes|=p;for(A=A.entanglements;w;){var P=31-ri(w),Q=1<<P;Q&p|A[P]&p&&(A[P]|=p),w&=~Q}}var Dr=0;function Jd(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var Nm,Lh,_m,mo,Mc,Ul=!1,Lc=[],En=null,fo=null,zi=null,er=new Map,Rc=new Map,po=[],go="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(A,p){switch(A){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":er.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rc.delete(p.pointerId)}}function Ql(A,p,w,P,Q,K){return A===null||A.nativeEvent!==K?(A={blockedOn:p,domEventName:w,eventSystemFlags:P,nativeEvent:K,targetContainers:[Q]},p!==null&&(p=ju(p),p!==null&&Lh(p)),A):(A.eventSystemFlags|=P,p=A.targetContainers,Q!==null&&p.indexOf(Q)===-1&&p.push(Q),A)}function Zd(A,p,w,P,Q){switch(p){case"focusin":return En=Ql(En,A,p,w,P,Q),!0;case"dragenter":return fo=Ql(fo,A,p,w,P,Q),!0;case"mouseover":return zi=Ql(zi,A,p,w,P,Q),!0;case"pointerover":var K=Q.pointerId;return er.set(K,Ql(er.get(K)||null,A,p,w,P,Q)),!0;case"gotpointercapture":return K=Q.pointerId,Rc.set(K,Ql(Rc.get(K)||null,A,p,w,P,Q)),!0}return!1}function eu(A){var p=Jl(A.target);if(p!==null){var w=Os(p);if(w!==null){if(p=w.tag,p===13){if(p=qi(w),p!==null){A.blockedOn=p,Mc(A.priority,function(){_m(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){A.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}A.blockedOn=null}function tu(A){if(A.blockedOn!==null)return!1;for(var p=A.targetContainers;0<p.length;){var w=nu(A.domEventName,A.eventSystemFlags,p[0],A.nativeEvent);if(w===null){w=A.nativeEvent;var P=new w.constructor(w.type,w);wr=P,w.target.dispatchEvent(P),wr=null}else return p=ju(w),p!==null&&Lh(p),A.blockedOn=w,!1;p.shift()}return!0}function Cm(A,p,w){tu(A)&&w.delete(p)}function tg(){Ul=!1,En!==null&&tu(En)&&(En=null),fo!==null&&tu(fo)&&(fo=null),zi!==null&&tu(zi)&&(zi=null),er.forEach(Cm),Rc.forEach(Cm)}function Jo(A,p){A.blockedOn===p&&(A.blockedOn=null,Ul||(Ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tg)))}function Vi(A){function p(Q){return Jo(Q,A)}if(0<Lc.length){Jo(Lc[0],A);for(var w=1;w<Lc.length;w++){var P=Lc[w];P.blockedOn===A&&(P.blockedOn=null)}}for(En!==null&&Jo(En,A),fo!==null&&Jo(fo,A),zi!==null&&Jo(zi,A),er.forEach(p),Rc.forEach(p),w=0;w<po.length;w++)P=po[w],P.blockedOn===A&&(P.blockedOn=null);for(;0<po.length&&(w=po[0],w.blockedOn===null);)eu(w),w.blockedOn===null&&po.shift()}var ni=B.ReactCurrentBatchConfig,ru=!0;function Uc(A,p,w,P){var Q=Dr,K=ni.transition;ni.transition=null;try{Dr=1,$l(A,p,w,P)}finally{Dr=Q,ni.transition=K}}function Uh(A,p,w,P){var Q=Dr,K=ni.transition;ni.transition=null;try{Dr=4,$l(A,p,w,P)}finally{Dr=Q,ni.transition=K}}function $l(A,p,w,P){if(ru){var Q=nu(A,p,w,P);if(Q===null)Jh(A,p,P,Qc,w),Rh(A,P);else if(Zd(Q,A,p,w,P))P.stopPropagation();else if(Rh(A,P),p&4&&-1<go.indexOf(A)){for(;Q!==null;){var K=ju(Q);if(K!==null&&Nm(K),K=nu(A,p,w,P),K===null&&Jh(A,p,P,Qc,w),K===Q)break;Q=K}Q!==null&&P.stopPropagation()}else Jh(A,p,P,null,w)}}var Qc=null;function nu(A,p,w,P){if(Qc=null,A=ei(P),A=Jl(A),A!==null)if(p=Os(A),p===null)A=null;else if(w=p.tag,w===13){if(A=qi(p),A!==null)return A;A=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;A=null}else p!==A&&(A=null);return Qc=A,null}function Qh(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zp()){case Ml:return 1;case Oh:return 4;case Wd:case Ih:return 16;case vm:return 536870912;default:return 16}default:return 16}}var Ki=null,wi=null,ji=null;function Sm(){if(ji)return ji;var A,p=wi,w=p.length,P,Q="value"in Ki?Ki.value:Ki.textContent,K=Q.length;for(A=0;A<w&&p[A]===Q[A];A++);var ie=w-A;for(P=1;P<=ie&&p[w-P]===Q[K-P];P++);return ji=Q.slice(A,1<P?1-P:void 0)}function Wi(A){var p=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&p===13&&(A=13)):A=p,A===10&&(A=13),32<=A||A===13?A:0}function Ba(){return!0}function su(){return!1}function is(A){function p(w,P,Q,K,ie){this._reactName=w,this._targetInst=Q,this.type=P,this.nativeEvent=K,this.target=ie,this.currentTarget=null;for(var we in A)A.hasOwnProperty(we)&&(w=A[we],this[we]=w?w(K):K[we]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Ba:su,this.isPropagationStopped=su,this}return ee(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),p}var Hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=is(Hl),$c=ee({},Hl,{view:0,detail:0}),$h=is($c),Hc,au,xo,zl=ee({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ct,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==xo&&(xo&&A.type==="mousemove"?(Hc=A.screenX-xo.screenX,au=A.screenY-xo.screenY):au=Hc=0,xo=A),Hc)},movementY:function(A){return"movementY"in A?A.movementY:au}}),iu=is(zl),Bm=ee({},zl,{dataTransfer:0}),rg=is(Bm),ou=ee({},$c,{relatedTarget:0}),Zo=is(ou),Hh=ee({},Hl,{animationName:0,elapsedTime:0,pseudoElement:0}),Vl=is(Hh),qh=ee({},Hl,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),R=is(qh),ne=ee({},Hl,{data:0}),be=is(ne),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ut(A){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(A):(A=tt[A])?!!p[A]:!1}function Ct(){return ut}var qt=ee({},$c,{key:function(A){if(A.key){var p=Be[A.key]||A.key;if(p!=="Unidentified")return p}return A.type==="keypress"?(A=Wi(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?$e[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ct,charCode:function(A){return A.type==="keypress"?Wi(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Wi(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),Ar=is(qt),dr=ee({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cr=is(dr),kn=ee({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ct}),Ln=is(kn),Yn=ee({},Hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ws=is(Yn),bs=ee({},zl,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),Gi=is(bs),si=[9,13,27,32],Ni=l&&"CompositionEvent"in window,Kl=null;l&&"documentMode"in document&&(Kl=document.documentMode);var zh=l&&"TextEvent"in window&&!Kl,lu=l&&(!Ni||Kl&&8<Kl&&11>=Kl),qc=" ",cu=!1;function du(A,p){switch(A){case"keyup":return si.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Rn=!1;function uu(A,p){switch(A){case"compositionend":return zc(p);case"keypress":return p.which!==32?null:(cu=!0,qc);case"textInput":return A=p.data,A===qc&&cu?null:A;default:return null}}function hu(A,p){if(Rn)return A==="compositionend"||!Ni&&du(A,p)?(A=Sm(),ji=wi=Ki=null,Rn=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return lu&&p.locale!=="ko"?null:p.data;default:return null}}var Au={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p==="input"?!!Au[A.type]:p==="textarea"}function Aa(A,p,w,P){Xe(P),p=Tm(p,"onChange"),0<p.length&&(w=new ql("onChange","change",null,w,P),A.push({event:w,listeners:p}))}var Vc=null,el=null;function Em(A){Xh(A,0)}function ma(A){var p=td(A);if(ye(p))return A}function fu(A,p){if(A==="change")return p}var Vh=!1;if(l){var pu;if(l){var yo="oninput"in document;if(!yo){var Wl=document.createElement("div");Wl.setAttribute("oninput","return;"),yo=typeof Wl.oninput=="function"}pu=yo}else pu=!1;Vh=pu&&(!document.documentMode||9<document.documentMode)}function fa(){Vc&&(Vc.detachEvent("onpropertychange",Gs),el=Vc=null)}function Gs(A){if(A.propertyName==="value"&&ma(el)){var p=[];Aa(p,el,A,ei(A)),de(Em,p)}}function Gl(A,p,w){A==="focusin"?(fa(),Vc=p,el=w,Vc.attachEvent("onpropertychange",Gs)):A==="focusout"&&fa()}function tl(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return ma(el)}function rl(A,p){if(A==="click")return ma(p)}function gu(A,p){if(A==="input"||A==="change")return ma(p)}function nl(A,p){return A===p&&(A!==0||1/A===1/p)||A!==A&&p!==p}var Mr=typeof Object.is=="function"?Object.is:nl;function sl(A,p){if(Mr(A,p))return!0;if(typeof A!="object"||A===null||typeof p!="object"||p===null)return!1;var w=Object.keys(A),P=Object.keys(p);if(w.length!==P.length)return!1;for(P=0;P<w.length;P++){var Q=w[P];if(!c.call(p,Q)||!Mr(A[Q],p[Q]))return!1}return!0}function Xs(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function ai(A,p){var w=Xs(A);A=0;for(var P;w;){if(w.nodeType===3){if(P=A+w.textContent.length,A<=p&&P>=p)return{node:w,offset:p-A};A=P}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Xs(w)}}function Kc(A,p){return A&&p?A===p?!0:A&&A.nodeType===3?!1:p&&p.nodeType===3?Kc(A,p.parentNode):"contains"in A?A.contains(p):A.compareDocumentPosition?!!(A.compareDocumentPosition(p)&16):!1:!1}function Kh(){for(var A=window,p=Ve();p instanceof A.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)A=p.contentWindow;else break;p=Ve(A.document)}return p}function Wc(A){var p=A&&A.nodeName&&A.nodeName.toLowerCase();return p&&(p==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||p==="textarea"||A.contentEditable==="true")}function Gc(A){var p=Kh(),w=A.focusedElem,P=A.selectionRange;if(p!==w&&w&&w.ownerDocument&&Kc(w.ownerDocument.documentElement,w)){if(P!==null&&Wc(w)){if(p=P.start,A=P.end,A===void 0&&(A=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(A,w.value.length);else if(A=(p=w.ownerDocument||document)&&p.defaultView||window,A.getSelection){A=A.getSelection();var Q=w.textContent.length,K=Math.min(P.start,Q);P=P.end===void 0?K:Math.min(P.end,Q),!A.extend&&K>P&&(Q=P,P=K,K=Q),Q=ai(w,K);var ie=ai(w,P);Q&&ie&&(A.rangeCount!==1||A.anchorNode!==Q.node||A.anchorOffset!==Q.offset||A.focusNode!==ie.node||A.focusOffset!==ie.offset)&&(p=p.createRange(),p.setStart(Q.node,Q.offset),A.removeAllRanges(),K>P?(A.addRange(p),A.extend(ie.node,ie.offset)):(p.setEnd(ie.node,ie.offset),A.addRange(p)))}}for(p=[],A=w;A=A.parentNode;)A.nodeType===1&&p.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)A=p[w],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var Xc=l&&"documentMode"in document&&11>=document.documentMode,ii=null,al=null,bo=null,il=!1;function ol(A,p,w){var P=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;il||ii==null||ii!==Ve(P)||(P=ii,"selectionStart"in P&&Wc(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),bo&&sl(bo,P)||(bo=P,P=Tm(al,"onSelect"),0<P.length&&(p=new ql("onSelect","select",null,p,w),A.push({event:p,listeners:P}),p.target=ii)))}function Xl(A,p){var w={};return w[A.toLowerCase()]=p.toLowerCase(),w["Webkit"+A]="webkit"+p,w["Moz"+A]="moz"+p,w}var Is={animationend:Xl("Animation","AnimationEnd"),animationiteration:Xl("Animation","AnimationIteration"),animationstart:Xl("Animation","AnimationStart"),transitionend:Xl("Transition","TransitionEnd")},Ea={},an={};l&&(an=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Vr(A){if(Ea[A])return Ea[A];if(!Is[A])return A;var p=Is[A],w;for(w in p)if(p.hasOwnProperty(w)&&w in an)return Ea[A]=p[w];return A}var Un=Vr("animationend"),Jn=Vr("animationiteration"),vo=Vr("animationstart"),xu=Vr("transitionend"),Yc=new Map,Wh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(A,p){Yc.set(A,p),i(p,[A])}for(var yu=0;yu<Wh.length;yu++){var pa=Wh[yu],_i=pa.toLowerCase(),km=pa[0].toUpperCase()+pa.slice(1);wo(_i,"on"+km)}wo(Un,"onAnimationEnd"),wo(Jn,"onAnimationIteration"),wo(vo,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(xu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function Gh(A,p,w){var P=A.type||"unknown-event";A.currentTarget=w,Hi(P,p,void 0,A),A.currentTarget=null}function Xh(A,p){p=(p&4)!==0;for(var w=0;w<A.length;w++){var P=A[w],Q=P.event;P=P.listeners;e:{var K=void 0;if(p)for(var ie=P.length-1;0<=ie;ie--){var we=P[ie],Pe=we.instance,Ye=we.currentTarget;if(we=we.listener,Pe!==K&&Q.isPropagationStopped())break e;Gh(Q,we,Ye),K=Pe}else for(ie=0;ie<P.length;ie++){if(we=P[ie],Pe=we.instance,Ye=we.currentTarget,we=we.listener,Pe!==K&&Q.isPropagationStopped())break e;Gh(Q,we,Ye),K=Pe}}}if(hr)throw A=sn,hr=!1,sn=null,A}function on(A,p){var w=p[Pa];w===void 0&&(w=p[Pa]=new Set);var P=A+"__bubble";w.has(P)||(Yh(p,A,2,!1),w.add(P))}function Pm(A,p,w){var P=0;p&&(P|=4),Yh(w,A,P,p)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Jc(A){if(!A[bu]){A[bu]=!0,s.forEach(function(w){w!=="selectionchange"&&(uy.has(w)||Pm(w,!1,A),Pm(w,!0,A))});var p=A.nodeType===9?A:A.ownerDocument;p===null||p[bu]||(p[bu]=!0,Pm("selectionchange",!1,p))}}function Yh(A,p,w,P){switch(Qh(p)){case 1:var Q=Uc;break;case 4:Q=Uh;break;default:Q=$l}w=Q.bind(null,p,w,A),Q=void 0,!Qe||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(Q=!0),P?Q!==void 0?A.addEventListener(p,w,{capture:!0,passive:Q}):A.addEventListener(p,w,!0):Q!==void 0?A.addEventListener(p,w,{passive:Q}):A.addEventListener(p,w,!1)}function Jh(A,p,w,P,Q){var K=P;if((p&1)===0&&(p&2)===0&&P!==null)e:for(;;){if(P===null)return;var ie=P.tag;if(ie===3||ie===4){var we=P.stateNode.containerInfo;if(we===Q||we.nodeType===8&&we.parentNode===Q)break;if(ie===4)for(ie=P.return;ie!==null;){var Pe=ie.tag;if((Pe===3||Pe===4)&&(Pe=ie.stateNode.containerInfo,Pe===Q||Pe.nodeType===8&&Pe.parentNode===Q))return;ie=ie.return}for(;we!==null;){if(ie=Jl(we),ie===null)return;if(Pe=ie.tag,Pe===5||Pe===6){P=K=ie;continue e}we=we.parentNode}}P=P.return}de(function(){var Ye=K,At=ei(w),gt=[];e:{var ht=Yc.get(A);if(ht!==void 0){var Tt=ql,Lt=A;switch(A){case"keypress":if(Wi(w)===0)break e;case"keydown":case"keyup":Tt=Ar;break;case"focusin":Lt="focus",Tt=Zo;break;case"focusout":Lt="blur",Tt=Zo;break;case"beforeblur":case"afterblur":Tt=Zo;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=Ln;break;case Un:case Jn:case vo:Tt=Vl;break;case xu:Tt=Ws;break;case"scroll":Tt=$h;break;case"wheel":Tt=Gi;break;case"copy":case"cut":case"paste":Tt=R;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Cr}var Ut=(p&4)!==0,ds=!Ut&&A==="scroll",ze=Ut?ht!==null?ht+"Capture":null:ht;Ut=[];for(var De=Ye,We;De!==null;){We=De;var yt=We.stateNode;if(We.tag===5&&yt!==null&&(We=yt,ze!==null&&(yt=je(De,ze),yt!=null&&Ut.push(Zh(De,yt,We)))),ds)break;De=De.return}0<Ut.length&&(ht=new Tt(ht,Lt,null,w,At),gt.push({event:ht,listeners:Ut}))}}if((p&7)===0){e:{if(ht=A==="mouseover"||A==="pointerover",Tt=A==="mouseout"||A==="pointerout",ht&&w!==wr&&(Lt=w.relatedTarget||w.fromElement)&&(Jl(Lt)||Lt[Ys]))break e;if((Tt||ht)&&(ht=At.window===At?At:(ht=At.ownerDocument)?ht.defaultView||ht.parentWindow:window,Tt?(Lt=w.relatedTarget||w.toElement,Tt=Ye,Lt=Lt?Jl(Lt):null,Lt!==null&&(ds=Os(Lt),Lt!==ds||Lt.tag!==5&&Lt.tag!==6)&&(Lt=null)):(Tt=null,Lt=Ye),Tt!==Lt)){if(Ut=iu,yt="onMouseLeave",ze="onMouseEnter",De="mouse",(A==="pointerout"||A==="pointerover")&&(Ut=Cr,yt="onPointerLeave",ze="onPointerEnter",De="pointer"),ds=Tt==null?ht:td(Tt),We=Lt==null?ht:td(Lt),ht=new Ut(yt,De+"leave",Tt,w,At),ht.target=ds,ht.relatedTarget=We,yt=null,Jl(At)===Ye&&(Ut=new Ut(ze,De+"enter",Lt,w,At),Ut.target=We,Ut.relatedTarget=ds,yt=Ut),ds=yt,Tt&&Lt)t:{for(Ut=Tt,ze=Lt,De=0,We=Ut;We;We=Zc(We))De++;for(We=0,yt=ze;yt;yt=Zc(yt))We++;for(;0<De-We;)Ut=Zc(Ut),De--;for(;0<We-De;)ze=Zc(ze),We--;for(;De--;){if(Ut===ze||ze!==null&&Ut===ze.alternate)break t;Ut=Zc(Ut),ze=Zc(ze)}Ut=null}else Ut=null;Tt!==null&&hy(gt,ht,Tt,Ut,!1),Lt!==null&&ds!==null&&hy(gt,ds,Lt,Ut,!0)}}e:{if(ht=Ye?td(Ye):window,Tt=ht.nodeName&&ht.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&ht.type==="file")var Qt=fu;else if(mu(ht))if(Vh)Qt=gu;else{Qt=tl;var Xt=Gl}else(Tt=ht.nodeName)&&Tt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Qt=rl);if(Qt&&(Qt=Qt(A,Ye))){Aa(gt,Qt,w,At);break e}Xt&&Xt(A,ht,Ye),A==="focusout"&&(Xt=ht._wrapperState)&&Xt.controlled&&ht.type==="number"&&le(ht,"number",ht.value)}switch(Xt=Ye?td(Ye):window,A){case"focusin":(mu(Xt)||Xt.contentEditable==="true")&&(ii=Xt,al=Ye,bo=null);break;case"focusout":bo=al=ii=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,ol(gt,w,At);break;case"selectionchange":if(Xc)break;case"keydown":case"keyup":ol(gt,w,At)}var Yt;if(Ni)e:{switch(A){case"compositionstart":var cr="onCompositionStart";break e;case"compositionend":cr="onCompositionEnd";break e;case"compositionupdate":cr="onCompositionUpdate";break e}cr=void 0}else Rn?du(A,w)&&(cr="onCompositionEnd"):A==="keydown"&&w.keyCode===229&&(cr="onCompositionStart");cr&&(lu&&w.locale!=="ko"&&(Rn||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&Rn&&(Yt=Sm()):(Ki=At,wi="value"in Ki?Ki.value:Ki.textContent,Rn=!0)),Xt=Tm(Ye,cr),0<Xt.length&&(cr=new be(cr,A,null,w,At),gt.push({event:cr,listeners:Xt}),Yt?cr.data=Yt:(Yt=zc(w),Yt!==null&&(cr.data=Yt)))),(Yt=zh?uu(A,w):hu(A,w))&&(Ye=Tm(Ye,"onBeforeInput"),0<Ye.length&&(At=new be("onBeforeInput","beforeinput",null,w,At),gt.push({event:At,listeners:Ye}),At.data=Yt))}Xh(gt,p)})}function Zh(A,p,w){return{instance:A,listener:p,currentTarget:w}}function Tm(A,p){for(var w=p+"Capture",P=[];A!==null;){var Q=A,K=Q.stateNode;Q.tag===5&&K!==null&&(Q=K,K=je(A,w),K!=null&&P.unshift(Zh(A,K,Q)),K=je(A,p),K!=null&&P.push(Zh(A,K,Q))),A=A.return}return P}function Zc(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function hy(A,p,w,P,Q){for(var K=p._reactName,ie=[];w!==null&&w!==P;){var we=w,Pe=we.alternate,Ye=we.stateNode;if(Pe!==null&&Pe===P)break;we.tag===5&&Ye!==null&&(we=Ye,Q?(Pe=je(w,K),Pe!=null&&ie.unshift(Zh(w,Pe,we))):Q||(Pe=je(w,K),Pe!=null&&ie.push(Zh(w,Pe,we)))),w=w.return}ie.length!==0&&A.push({event:p,listeners:ie})}var P2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function Ay(A){return(typeof A=="string"?A:""+A).replace(P2,`
`).replace(T2,"")}function Fm(A,p,w){if(p=Ay(p),Ay(A)!==p&&w)throw Error(r(425))}function vu(){}var eA=null,ed=null;function ng(A,p){return A==="textarea"||A==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var sg=typeof setTimeout=="function"?setTimeout:void 0,my=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(A){return fy.resolve(null).then(A).catch(O2)}:sg;function O2(A){setTimeout(function(){throw A})}function ag(A,p){var w=p,P=0;do{var Q=w.nextSibling;if(A.removeChild(w),Q&&Q.nodeType===8)if(w=Q.data,w==="/$"){if(P===0){A.removeChild(Q),Vi(p);return}P--}else w!=="$"&&w!=="$?"&&w!=="$!"||P++;w=Q}while(w);Vi(p)}function ga(A){for(;A!=null;A=A.nextSibling){var p=A.nodeType;if(p===1||p===3)break;if(p===8){if(p=A.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return A}function Ci(A){A=A.previousSibling;for(var p=0;A;){if(A.nodeType===8){var w=A.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return A;p--}else w==="/$"&&p++}A=A.previousSibling}return null}var ka=Math.random().toString(36).slice(2),jo="__reactFiber$"+ka,wu="__reactProps$"+ka,Ys="__reactContainer$"+ka,Pa="__reactEvents$"+ka,I2="__reactListeners$"+ka,D2="__reactHandles$"+ka;function Jl(A){var p=A[jo];if(p)return p;for(var w=A.parentNode;w;){if(p=w[Ys]||w[jo]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(A=Ci(A);A!==null;){if(w=A[jo])return w;A=Ci(A)}return p}A=w,w=A.parentNode}return null}function ju(A){return A=A[jo]||A[Ys],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function td(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(r(33))}function tA(A){return A[wu]||null}var ig=[],ll=-1;function Xi(A){return{current:A}}function Kr(A){0>ll||(A.current=ig[ll],ig[ll]=null,ll--)}function Yr(A,p){ll++,ig[ll]=A.current,A.current=p}var Zl={},Ds=Xi(Zl),Ta=Xi(!1),rd=Zl;function Nu(A,p){var w=A.type.contextTypes;if(!w)return Zl;var P=A.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===p)return P.__reactInternalMemoizedMaskedChildContext;var Q={},K;for(K in w)Q[K]=p[K];return P&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=p,A.__reactInternalMemoizedMaskedChildContext=Q),Q}function Fa(A){return A=A.childContextTypes,A!=null}function Om(){Kr(Ta),Kr(Ds)}function py(A,p,w){if(Ds.current!==Zl)throw Error(r(168));Yr(Ds,p),Yr(Ta,w)}function og(A,p,w){var P=A.stateNode;if(p=p.childContextTypes,typeof P.getChildContext!="function")return w;P=P.getChildContext();for(var Q in P)if(!(Q in p))throw Error(r(108,fe(A)||"Unknown",Q));return ee({},w,P)}function nd(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||Zl,rd=Ds.current,Yr(Ds,A),Yr(Ta,Ta.current),!0}function gy(A,p,w){var P=A.stateNode;if(!P)throw Error(r(169));w?(A=og(A,p,rd),P.__reactInternalMemoizedMergedChildContext=A,Kr(Ta),Kr(Ds),Yr(Ds,A)):Kr(Ta),Yr(Ta,w)}var cl=null,rA=!1,N=!1;function O(A){cl===null?cl=[A]:cl.push(A)}function $(A){rA=!0,O(A)}function W(){if(!N&&cl!==null){N=!0;var A=0,p=Dr;try{var w=cl;for(Dr=1;A<w.length;A++){var P=w[A];do P=P(!0);while(P!==null)}cl=null,rA=!1}catch(Q){throw cl!==null&&(cl=cl.slice(A+1)),Pc(Ml,W),Q}finally{Dr=p,N=!1}}return null}var re=[],ae=0,oe=null,ce=0,Ae=[],xe=0,Ee=null,He=1,qe="";function Re(A,p){re[ae++]=ce,re[ae++]=oe,oe=A,ce=p}function ct(A,p,w){Ae[xe++]=He,Ae[xe++]=qe,Ae[xe++]=Ee,Ee=A;var P=He;A=qe;var Q=32-ri(P)-1;P&=~(1<<Q),w+=1;var K=32-ri(p)+Q;if(30<K){var ie=Q-Q%5;K=(P&(1<<ie)-1).toString(32),P>>=ie,Q-=ie,He=1<<32-ri(p)+Q|w<<Q|P,qe=K+A}else He=1<<K|w<<Q|P,qe=A}function Je(A){A.return!==null&&(Re(A,1),ct(A,1,0))}function Te(A){for(;A===oe;)oe=re[--ae],re[ae]=null,ce=re[--ae],re[ae]=null;for(;A===Ee;)Ee=Ae[--xe],Ae[xe]=null,qe=Ae[--xe],Ae[xe]=null,He=Ae[--xe],Ae[xe]=null}var Fe=null,nt=null,rt=!1,at=null;function Bt(A,p){var w=Eo(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=A,p=A.deletions,p===null?(A.deletions=[w],A.flags|=16):p.push(w)}function wt(A,p){switch(A.tag){case 5:var w=A.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(A.stateNode=p,Fe=A,nt=ga(p.firstChild),!0):!1;case 6:return p=A.pendingProps===""||p.nodeType!==3?null:p,p!==null?(A.stateNode=p,Fe=A,nt=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Ee!==null?{id:He,overflow:qe}:null,A.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Eo(18,null,null,0),w.stateNode=p,w.return=A,A.child=w,Fe=A,nt=null,!0):!1;default:return!1}}function Vt(A){return(A.mode&1)!==0&&(A.flags&128)===0}function jt(A){if(rt){var p=nt;if(p){var w=p;if(!wt(A,p)){if(Vt(A))throw Error(r(418));p=ga(w.nextSibling);var P=Fe;p&&wt(A,p)?Bt(P,w):(A.flags=A.flags&-4097|2,rt=!1,Fe=A)}}else{if(Vt(A))throw Error(r(418));A.flags=A.flags&-4097|2,rt=!1,Fe=A}}}function Tr(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;Fe=A}function Fr(A){if(A!==Fe)return!1;if(!rt)return Tr(A),rt=!0,!1;var p;if((p=A.tag!==3)&&!(p=A.tag!==5)&&(p=A.type,p=p!=="head"&&p!=="body"&&!ng(A.type,A.memoizedProps)),p&&(p=nt)){if(Vt(A))throw Sr(),Error(r(418));for(;p;)Bt(A,p),p=ga(p.nextSibling)}if(Tr(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));e:{for(A=A.nextSibling,p=0;A;){if(A.nodeType===8){var w=A.data;if(w==="/$"){if(p===0){nt=ga(A.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}A=A.nextSibling}nt=null}}else nt=Fe?ga(A.stateNode.nextSibling):null;return!0}function Sr(){for(var A=nt;A;)A=ga(A.nextSibling)}function gr(){nt=Fe=null,rt=!1}function Wr(A){at===null?at=[A]:at.push(A)}var Jr=B.ReactCurrentBatchConfig;function ir(A,p,w){if(A=w.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(r(309));var P=w.stateNode}if(!P)throw Error(r(147,A));var Q=P,K=""+A;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===K?p.ref:(p=function(ie){var we=Q.refs;ie===null?delete we[K]:we[K]=ie},p._stringRef=K,p)}if(typeof A!="string")throw Error(r(284));if(!w._owner)throw Error(r(290,A))}return A}function Pn(A,p){throw A=Object.prototype.toString.call(p),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":A))}function xa(A){var p=A._init;return p(A._payload)}function Kn(A){function p(ze,De){if(A){var We=ze.deletions;We===null?(ze.deletions=[De],ze.flags|=16):We.push(De)}}function w(ze,De){if(!A)return null;for(;De!==null;)p(ze,De),De=De.sibling;return null}function P(ze,De){for(ze=new Map;De!==null;)De.key!==null?ze.set(De.key,De):ze.set(De.index,De),De=De.sibling;return ze}function Q(ze,De){return ze=Du(ze,De),ze.index=0,ze.sibling=null,ze}function K(ze,De,We){return ze.index=We,A?(We=ze.alternate,We!==null?(We=We.index,We<De?(ze.flags|=2,De):We):(ze.flags|=2,De)):(ze.flags|=1048576,De)}function ie(ze){return A&&ze.alternate===null&&(ze.flags|=2),ze}function we(ze,De,We,yt){return De===null||De.tag!==6?(De=uj(We,ze.mode,yt),De.return=ze,De):(De=Q(De,We),De.return=ze,De)}function Pe(ze,De,We,yt){var Qt=We.type;return Qt===M?At(ze,De,We.props.children,yt,We.key):De!==null&&(De.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===z&&xa(Qt)===De.type)?(yt=Q(De,We.props),yt.ref=ir(ze,De,We),yt.return=ze,yt):(yt=My(We.type,We.key,We.props,null,ze.mode,yt),yt.ref=ir(ze,De,We),yt.return=ze,yt)}function Ye(ze,De,We,yt){return De===null||De.tag!==4||De.stateNode.containerInfo!==We.containerInfo||De.stateNode.implementation!==We.implementation?(De=hj(We,ze.mode,yt),De.return=ze,De):(De=Q(De,We.children||[]),De.return=ze,De)}function At(ze,De,We,yt,Qt){return De===null||De.tag!==7?(De=dA(We,ze.mode,yt,Qt),De.return=ze,De):(De=Q(De,We),De.return=ze,De)}function gt(ze,De,We){if(typeof De=="string"&&De!==""||typeof De=="number")return De=uj(""+De,ze.mode,We),De.return=ze,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case C:return We=My(De.type,De.key,De.props,null,ze.mode,We),We.ref=ir(ze,null,De),We.return=ze,We;case E:return De=hj(De,ze.mode,We),De.return=ze,De;case z:var yt=De._init;return gt(ze,yt(De._payload),We)}if(Se(De)||H(De))return De=dA(De,ze.mode,We,null),De.return=ze,De;Pn(ze,De)}return null}function ht(ze,De,We,yt){var Qt=De!==null?De.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Qt!==null?null:we(ze,De,""+We,yt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case C:return We.key===Qt?Pe(ze,De,We,yt):null;case E:return We.key===Qt?Ye(ze,De,We,yt):null;case z:return Qt=We._init,ht(ze,De,Qt(We._payload),yt)}if(Se(We)||H(We))return Qt!==null?null:At(ze,De,We,yt,null);Pn(ze,We)}return null}function Tt(ze,De,We,yt,Qt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return ze=ze.get(We)||null,we(De,ze,""+yt,Qt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case C:return ze=ze.get(yt.key===null?We:yt.key)||null,Pe(De,ze,yt,Qt);case E:return ze=ze.get(yt.key===null?We:yt.key)||null,Ye(De,ze,yt,Qt);case z:var Xt=yt._init;return Tt(ze,De,We,Xt(yt._payload),Qt)}if(Se(yt)||H(yt))return ze=ze.get(We)||null,At(De,ze,yt,Qt,null);Pn(De,yt)}return null}function Lt(ze,De,We,yt){for(var Qt=null,Xt=null,Yt=De,cr=De=0,ta=null;Yt!==null&&cr<We.length;cr++){Yt.index>cr?(ta=Yt,Yt=null):ta=Yt.sibling;var qr=ht(ze,Yt,We[cr],yt);if(qr===null){Yt===null&&(Yt=ta);break}A&&Yt&&qr.alternate===null&&p(ze,Yt),De=K(qr,De,cr),Xt===null?Qt=qr:Xt.sibling=qr,Xt=qr,Yt=ta}if(cr===We.length)return w(ze,Yt),rt&&Re(ze,cr),Qt;if(Yt===null){for(;cr<We.length;cr++)Yt=gt(ze,We[cr],yt),Yt!==null&&(De=K(Yt,De,cr),Xt===null?Qt=Yt:Xt.sibling=Yt,Xt=Yt);return rt&&Re(ze,cr),Qt}for(Yt=P(ze,Yt);cr<We.length;cr++)ta=Tt(Yt,ze,cr,We[cr],yt),ta!==null&&(A&&ta.alternate!==null&&Yt.delete(ta.key===null?cr:ta.key),De=K(ta,De,cr),Xt===null?Qt=ta:Xt.sibling=ta,Xt=ta);return A&&Yt.forEach(function(Mu){return p(ze,Mu)}),rt&&Re(ze,cr),Qt}function Ut(ze,De,We,yt){var Qt=H(We);if(typeof Qt!="function")throw Error(r(150));if(We=Qt.call(We),We==null)throw Error(r(151));for(var Xt=Qt=null,Yt=De,cr=De=0,ta=null,qr=We.next();Yt!==null&&!qr.done;cr++,qr=We.next()){Yt.index>cr?(ta=Yt,Yt=null):ta=Yt.sibling;var Mu=ht(ze,Yt,qr.value,yt);if(Mu===null){Yt===null&&(Yt=ta);break}A&&Yt&&Mu.alternate===null&&p(ze,Yt),De=K(Mu,De,cr),Xt===null?Qt=Mu:Xt.sibling=Mu,Xt=Mu,Yt=ta}if(qr.done)return w(ze,Yt),rt&&Re(ze,cr),Qt;if(Yt===null){for(;!qr.done;cr++,qr=We.next())qr=gt(ze,qr.value,yt),qr!==null&&(De=K(qr,De,cr),Xt===null?Qt=qr:Xt.sibling=qr,Xt=qr);return rt&&Re(ze,cr),Qt}for(Yt=P(ze,Yt);!qr.done;cr++,qr=We.next())qr=Tt(Yt,ze,cr,qr.value,yt),qr!==null&&(A&&qr.alternate!==null&&Yt.delete(qr.key===null?cr:qr.key),De=K(qr,De,cr),Xt===null?Qt=qr:Xt.sibling=qr,Xt=qr);return A&&Yt.forEach(function(CX){return p(ze,CX)}),rt&&Re(ze,cr),Qt}function ds(ze,De,We,yt){if(typeof We=="object"&&We!==null&&We.type===M&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case C:e:{for(var Qt=We.key,Xt=De;Xt!==null;){if(Xt.key===Qt){if(Qt=We.type,Qt===M){if(Xt.tag===7){w(ze,Xt.sibling),De=Q(Xt,We.props.children),De.return=ze,ze=De;break e}}else if(Xt.elementType===Qt||typeof Qt=="object"&&Qt!==null&&Qt.$$typeof===z&&xa(Qt)===Xt.type){w(ze,Xt.sibling),De=Q(Xt,We.props),De.ref=ir(ze,Xt,We),De.return=ze,ze=De;break e}w(ze,Xt);break}else p(ze,Xt);Xt=Xt.sibling}We.type===M?(De=dA(We.props.children,ze.mode,yt,We.key),De.return=ze,ze=De):(yt=My(We.type,We.key,We.props,null,ze.mode,yt),yt.ref=ir(ze,De,We),yt.return=ze,ze=yt)}return ie(ze);case E:e:{for(Xt=We.key;De!==null;){if(De.key===Xt)if(De.tag===4&&De.stateNode.containerInfo===We.containerInfo&&De.stateNode.implementation===We.implementation){w(ze,De.sibling),De=Q(De,We.children||[]),De.return=ze,ze=De;break e}else{w(ze,De);break}else p(ze,De);De=De.sibling}De=hj(We,ze.mode,yt),De.return=ze,ze=De}return ie(ze);case z:return Xt=We._init,ds(ze,De,Xt(We._payload),yt)}if(Se(We))return Lt(ze,De,We,yt);if(H(We))return Ut(ze,De,We,yt);Pn(ze,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,De!==null&&De.tag===6?(w(ze,De.sibling),De=Q(De,We),De.return=ze,ze=De):(w(ze,De),De=uj(We,ze.mode,yt),De.return=ze,ze=De),ie(ze)):w(ze,De)}return ds}var os=Kn(!0),$r=Kn(!1),Js=Xi(null),Zs=null,Tn=null,ls=null;function Ms(){ls=Tn=Zs=null}function Oa(A){var p=Js.current;Kr(Js),A._currentValue=p}function Si(A,p,w){for(;A!==null;){var P=A.alternate;if((A.childLanes&p)!==p?(A.childLanes|=p,P!==null&&(P.childLanes|=p)):P!==null&&(P.childLanes&p)!==p&&(P.childLanes|=p),A===w)break;A=A.return}}function Fn(A,p){Zs=A,ls=Tn=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&p)!==0&&(Pi=!0),A.firstContext=null)}function Zn(A){var p=A._currentValue;if(ls!==A)if(A={context:A,memoizedValue:p,next:null},Tn===null){if(Zs===null)throw Error(r(308));Tn=A,Zs.dependencies={lanes:0,firstContext:A}}else Tn=Tn.next=A;return p}var oi=null;function ec(A){oi===null?oi=[A]:oi.push(A)}function dl(A,p,w,P){var Q=p.interleaved;return Q===null?(w.next=w,ec(p)):(w.next=Q.next,Q.next=w),p.interleaved=w,Hr(A,P)}function Hr(A,p){A.lanes|=p;var w=A.alternate;for(w!==null&&(w.lanes|=p),w=A,A=A.return;A!==null;)A.childLanes|=p,w=A.alternate,w!==null&&(w.childLanes|=p),w=A,A=A.return;return w.tag===3?w.stateNode:null}var No=!1;function Im(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(A,p){A=A.updateQueue,p.updateQueue===A&&(p.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Bi(A,p){return{eventTime:A,lane:p,tag:0,payload:null,callback:null,next:null}}function Ei(A,p,w){var P=A.updateQueue;if(P===null)return null;if(P=P.shared,(Lr&2)!==0){var Q=P.pending;return Q===null?p.next=p:(p.next=Q.next,Q.next=p),P.pending=p,Hr(A,w)}return Q=P.interleaved,Q===null?(p.next=p,ec(P)):(p.next=Q.next,Q.next=p),P.interleaved=p,Hr(A,w)}function sd(A,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var P=p.lanes;P&=A.pendingLanes,w|=P,p.lanes=w,Yd(A,w)}}function ki(A,p){var w=A.updateQueue,P=A.alternate;if(P!==null&&(P=P.updateQueue,w===P)){var Q=null,K=null;if(w=w.firstBaseUpdate,w!==null){do{var ie={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};K===null?Q=K=ie:K=K.next=ie,w=w.next}while(w!==null);K===null?Q=K=p:K=K.next=p}else Q=K=p;w={baseState:P.baseState,firstBaseUpdate:Q,lastBaseUpdate:K,shared:P.shared,effects:P.effects},A.updateQueue=w;return}A=w.lastBaseUpdate,A===null?w.firstBaseUpdate=p:A.next=p,w.lastBaseUpdate=p}function ul(A,p,w,P){var Q=A.updateQueue;No=!1;var K=Q.firstBaseUpdate,ie=Q.lastBaseUpdate,we=Q.shared.pending;if(we!==null){Q.shared.pending=null;var Pe=we,Ye=Pe.next;Pe.next=null,ie===null?K=Ye:ie.next=Ye,ie=Pe;var At=A.alternate;At!==null&&(At=At.updateQueue,we=At.lastBaseUpdate,we!==ie&&(we===null?At.firstBaseUpdate=Ye:we.next=Ye,At.lastBaseUpdate=Pe))}if(K!==null){var gt=Q.baseState;ie=0,At=Ye=Pe=null,we=K;do{var ht=we.lane,Tt=we.eventTime;if((P&ht)===ht){At!==null&&(At=At.next={eventTime:Tt,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Lt=A,Ut=we;switch(ht=p,Tt=w,Ut.tag){case 1:if(Lt=Ut.payload,typeof Lt=="function"){gt=Lt.call(Tt,gt,ht);break e}gt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=Ut.payload,ht=typeof Lt=="function"?Lt.call(Tt,gt,ht):Lt,ht==null)break e;gt=ee({},gt,ht);break e;case 2:No=!0}}we.callback!==null&&we.lane!==0&&(A.flags|=64,ht=Q.effects,ht===null?Q.effects=[we]:ht.push(we))}else Tt={eventTime:Tt,lane:ht,tag:we.tag,payload:we.payload,callback:we.callback,next:null},At===null?(Ye=At=Tt,Pe=gt):At=At.next=Tt,ie|=ht;if(we=we.next,we===null){if(we=Q.shared.pending,we===null)break;ht=we,we=ht.next,ht.next=null,Q.lastBaseUpdate=ht,Q.shared.pending=null}}while(!0);if(At===null&&(Pe=gt),Q.baseState=Pe,Q.firstBaseUpdate=Ye,Q.lastBaseUpdate=At,p=Q.shared.interleaved,p!==null){Q=p;do ie|=Q.lane,Q=Q.next;while(Q!==p)}else K===null&&(Q.shared.lanes=0);iA|=ie,A.lanes=ie,A.memoizedState=gt}}function ad(A,p,w){if(A=p.effects,p.effects=null,A!==null)for(p=0;p<A.length;p++){var P=A[p],Q=P.callback;if(Q!==null){if(P.callback=null,P=w,typeof Q!="function")throw Error(r(191,Q));Q.call(P)}}}var _u={},li=Xi(_u),Cu=Xi(_u),tc=Xi(_u);function hl(A){if(A===_u)throw Error(r(174));return A}function Su(A,p){switch(Yr(tc,p),Yr(Cu,A),Yr(li,_u),A=p.nodeType,A){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:lt(null,"");break;default:A=A===8?p.parentNode:p,p=A.namespaceURI||null,A=A.tagName,p=lt(p,A)}Kr(li),Yr(li,p)}function _o(){Kr(li),Kr(Cu),Kr(tc)}function xy(A){hl(tc.current);var p=hl(li.current),w=lt(p,A.type);p!==w&&(Yr(Cu,A),Yr(li,w))}function cg(A){Cu.current===A&&(Kr(li),Kr(Cu))}var gn=Xi(0);function Yi(A){for(var p=A;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var dg=[];function ug(){for(var A=0;A<dg.length;A++)dg[A]._workInProgressVersionPrimary=null;dg.length=0}var Dm=B.ReactCurrentDispatcher,Mm=B.ReactCurrentBatchConfig,Co=0,vn=null,es=null,Wn=null,Bu=!1,Al=!1,Eu=0,M2=0;function cs(){throw Error(r(321))}function Lm(A,p){if(p===null)return!1;for(var w=0;w<p.length&&w<A.length;w++)if(!Mr(A[w],p[w]))return!1;return!0}function nA(A,p,w,P,Q,K){if(Co=K,vn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Dm.current=A===null||A.memoizedState===null?JG:ZG,A=w(P,Q),Al){K=0;do{if(Al=!1,Eu=0,25<=K)throw Error(r(301));K+=1,Wn=es=null,p.updateQueue=null,Dm.current=eX,A=w(P,Q)}while(Al)}if(Dm.current=jy,p=es!==null&&es.next!==null,Co=0,Wn=es=vn=null,Bu=!1,p)throw Error(r(300));return A}function So(){var A=Eu!==0;return Eu=0,A}function Ji(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?vn.memoizedState=Wn=A:Wn=Wn.next=A,Wn}function ci(){if(es===null){var A=vn.alternate;A=A!==null?A.memoizedState:null}else A=es.next;var p=Wn===null?vn.memoizedState:Wn.next;if(p!==null)Wn=p,es=A;else{if(A===null)throw Error(r(310));es=A,A={memoizedState:es.memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},Wn===null?vn.memoizedState=Wn=A:Wn=Wn.next=A}return Wn}function sA(A,p){return typeof p=="function"?p(A):p}function Rm(A){var p=ci(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=A;var P=es,Q=P.baseQueue,K=w.pending;if(K!==null){if(Q!==null){var ie=Q.next;Q.next=K.next,K.next=ie}P.baseQueue=Q=K,w.pending=null}if(Q!==null){K=Q.next,P=P.baseState;var we=ie=null,Pe=null,Ye=K;do{var At=Ye.lane;if((Co&At)===At)Pe!==null&&(Pe=Pe.next={lane:0,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),P=Ye.hasEagerState?Ye.eagerState:A(P,Ye.action);else{var gt={lane:At,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null};Pe===null?(we=Pe=gt,ie=P):Pe=Pe.next=gt,vn.lanes|=At,iA|=At}Ye=Ye.next}while(Ye!==null&&Ye!==K);Pe===null?ie=P:Pe.next=we,Mr(P,p.memoizedState)||(Pi=!0),p.memoizedState=P,p.baseState=ie,p.baseQueue=Pe,w.lastRenderedState=P}if(A=w.interleaved,A!==null){Q=A;do K=Q.lane,vn.lanes|=K,iA|=K,Q=Q.next;while(Q!==A)}else Q===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function rc(A){var p=ci(),w=p.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=A;var P=w.dispatch,Q=w.pending,K=p.memoizedState;if(Q!==null){w.pending=null;var ie=Q=Q.next;do K=A(K,ie.action),ie=ie.next;while(ie!==Q);Mr(K,p.memoizedState)||(Pi=!0),p.memoizedState=K,p.baseQueue===null&&(p.baseState=K),w.lastRenderedState=K}return[K,P]}function yy(){}function hg(A,p){var w=vn,P=ci(),Q=p(),K=!Mr(P.memoizedState,Q);if(K&&(P.memoizedState=Q,Pi=!0),P=P.queue,$m(vy.bind(null,w,P,A),[A]),P.getSnapshot!==p||K||Wn!==null&&Wn.memoizedState.tag&1){if(w.flags|=2048,di(9,Ag.bind(null,w,P,Q,p),void 0,null),ea===null)throw Error(r(349));(Co&30)!==0||by(w,p,Q)}return Q}function by(A,p,w){A.flags|=16384,A={getSnapshot:p,value:w},p=vn.updateQueue,p===null?(p={lastEffect:null,stores:null},vn.updateQueue=p,p.stores=[A]):(w=p.stores,w===null?p.stores=[A]:w.push(A))}function Ag(A,p,w,P){p.value=w,p.getSnapshot=P,ku(p)&&Um(A)}function vy(A,p,w){return w(function(){ku(p)&&Um(A)})}function ku(A){var p=A.getSnapshot;A=A.value;try{var w=p();return!Mr(A,w)}catch{return!0}}function Um(A){var p=Hr(A,1);p!==null&&xl(p,A,1,-1)}function aA(A){var p=Ji();return typeof A=="function"&&(A=A()),p.memoizedState=p.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sA,lastRenderedState:A},p.queue=A,A=A.dispatch=YG.bind(null,vn,A),[p.memoizedState,A]}function di(A,p,w,P){return A={tag:A,create:p,destroy:w,deps:P,next:null},p=vn.updateQueue,p===null?(p={lastEffect:null,stores:null},vn.updateQueue=p,p.lastEffect=A.next=A):(w=p.lastEffect,w===null?p.lastEffect=A.next=A:(P=w.next,w.next=A,A.next=P,p.lastEffect=A)),A}function ml(){return ci().memoizedState}function Zi(A,p,w,P){var Q=Ji();vn.flags|=A,Q.memoizedState=di(1|p,w,void 0,P===void 0?null:P)}function id(A,p,w,P){var Q=ci();P=P===void 0?null:P;var K=void 0;if(es!==null){var ie=es.memoizedState;if(K=ie.destroy,P!==null&&Lm(P,ie.deps)){Q.memoizedState=di(p,w,K,P);return}}vn.flags|=A,Q.memoizedState=di(1|p,w,K,P)}function Qm(A,p){return Zi(8390656,8,A,p)}function $m(A,p){return id(2048,8,A,p)}function wy(A,p){return id(4,2,A,p)}function Hm(A,p){return id(4,4,A,p)}function qm(A,p){if(typeof p=="function")return A=A(),p(A),function(){p(null)};if(p!=null)return A=A(),p.current=A,function(){p.current=null}}function P6(A,p,w){return w=w!=null?w.concat([A]):null,id(4,4,qm.bind(null,p,A),w)}function L2(){}function T6(A,p){var w=ci();p=p===void 0?null:p;var P=w.memoizedState;return P!==null&&p!==null&&Lm(p,P[1])?P[0]:(w.memoizedState=[A,p],A)}function F6(A,p){var w=ci();p=p===void 0?null:p;var P=w.memoizedState;return P!==null&&p!==null&&Lm(p,P[1])?P[0]:(A=A(),w.memoizedState=[A,p],A)}function O6(A,p,w){return(Co&21)===0?(A.baseState&&(A.baseState=!1,Pi=!0),A.memoizedState=w):(Mr(w,p)||(w=Dh(),vn.lanes|=w,iA|=w,A.baseState=!0),p)}function GG(A,p){var w=Dr;Dr=w!==0&&4>w?w:4,A(!0);var P=Mm.transition;Mm.transition={};try{A(!1),p()}finally{Dr=w,Mm.transition=P}}function I6(){return ci().memoizedState}function XG(A,p,w){var P=Ou(A);if(w={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null},D6(A))M6(p,w);else if(w=dl(A,p,w,P),w!==null){var Q=hi();xl(w,A,P,Q),L6(w,p,P)}}function YG(A,p,w){var P=Ou(A),Q={lane:P,action:w,hasEagerState:!1,eagerState:null,next:null};if(D6(A))M6(p,Q);else{var K=A.alternate;if(A.lanes===0&&(K===null||K.lanes===0)&&(K=p.lastRenderedReducer,K!==null))try{var ie=p.lastRenderedState,we=K(ie,w);if(Q.hasEagerState=!0,Q.eagerState=we,Mr(we,ie)){var Pe=p.interleaved;Pe===null?(Q.next=Q,ec(p)):(Q.next=Pe.next,Pe.next=Q),p.interleaved=Q;return}}catch{}finally{}w=dl(A,p,Q,P),w!==null&&(Q=hi(),xl(w,A,P,Q),L6(w,p,P))}}function D6(A){var p=A.alternate;return A===vn||p!==null&&p===vn}function M6(A,p){Al=Bu=!0;var w=A.pending;w===null?p.next=p:(p.next=w.next,w.next=p),A.pending=p}function L6(A,p,w){if((w&4194240)!==0){var P=p.lanes;P&=A.pendingLanes,w|=P,p.lanes=w,Yd(A,w)}}var jy={readContext:Zn,useCallback:cs,useContext:cs,useEffect:cs,useImperativeHandle:cs,useInsertionEffect:cs,useLayoutEffect:cs,useMemo:cs,useReducer:cs,useRef:cs,useState:cs,useDebugValue:cs,useDeferredValue:cs,useTransition:cs,useMutableSource:cs,useSyncExternalStore:cs,useId:cs,unstable_isNewReconciler:!1},JG={readContext:Zn,useCallback:function(A,p){return Ji().memoizedState=[A,p===void 0?null:p],A},useContext:Zn,useEffect:Qm,useImperativeHandle:function(A,p,w){return w=w!=null?w.concat([A]):null,Zi(4194308,4,qm.bind(null,p,A),w)},useLayoutEffect:function(A,p){return Zi(4194308,4,A,p)},useInsertionEffect:function(A,p){return Zi(4,2,A,p)},useMemo:function(A,p){var w=Ji();return p=p===void 0?null:p,A=A(),w.memoizedState=[A,p],A},useReducer:function(A,p,w){var P=Ji();return p=w!==void 0?w(p):p,P.memoizedState=P.baseState=p,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:p},P.queue=A,A=A.dispatch=XG.bind(null,vn,A),[P.memoizedState,A]},useRef:function(A){var p=Ji();return A={current:A},p.memoizedState=A},useState:aA,useDebugValue:L2,useDeferredValue:function(A){return Ji().memoizedState=A},useTransition:function(){var A=aA(!1),p=A[0];return A=GG.bind(null,A[1]),Ji().memoizedState=A,[p,A]},useMutableSource:function(){},useSyncExternalStore:function(A,p,w){var P=vn,Q=Ji();if(rt){if(w===void 0)throw Error(r(407));w=w()}else{if(w=p(),ea===null)throw Error(r(349));(Co&30)!==0||by(P,p,w)}Q.memoizedState=w;var K={value:w,getSnapshot:p};return Q.queue=K,Qm(vy.bind(null,P,K,A),[A]),P.flags|=2048,di(9,Ag.bind(null,P,K,w,p),void 0,null),w},useId:function(){var A=Ji(),p=ea.identifierPrefix;if(rt){var w=qe,P=He;w=(P&~(1<<32-ri(P)-1)).toString(32)+w,p=":"+p+"R"+w,w=Eu++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=M2++,p=":"+p+"r"+w.toString(32)+":";return A.memoizedState=p},unstable_isNewReconciler:!1},ZG={readContext:Zn,useCallback:T6,useContext:Zn,useEffect:$m,useImperativeHandle:P6,useInsertionEffect:wy,useLayoutEffect:Hm,useMemo:F6,useReducer:Rm,useRef:ml,useState:function(){return Rm(sA)},useDebugValue:L2,useDeferredValue:function(A){var p=ci();return O6(p,es.memoizedState,A)},useTransition:function(){var A=Rm(sA)[0],p=ci().memoizedState;return[A,p]},useMutableSource:yy,useSyncExternalStore:hg,useId:I6,unstable_isNewReconciler:!1},eX={readContext:Zn,useCallback:T6,useContext:Zn,useEffect:$m,useImperativeHandle:P6,useInsertionEffect:wy,useLayoutEffect:Hm,useMemo:F6,useReducer:rc,useRef:ml,useState:function(){return rc(sA)},useDebugValue:L2,useDeferredValue:function(A){var p=ci();return es===null?p.memoizedState=A:O6(p,es.memoizedState,A)},useTransition:function(){var A=rc(sA)[0],p=ci().memoizedState;return[A,p]},useMutableSource:yy,useSyncExternalStore:hg,useId:I6,unstable_isNewReconciler:!1};function fl(A,p){if(A&&A.defaultProps){p=ee({},p),A=A.defaultProps;for(var w in A)p[w]===void 0&&(p[w]=A[w]);return p}return p}function R2(A,p,w,P){p=A.memoizedState,w=w(P,p),w=w==null?p:ee({},p,w),A.memoizedState=w,A.lanes===0&&(A.updateQueue.baseState=w)}var Ny={isMounted:function(A){return(A=A._reactInternals)?Os(A)===A:!1},enqueueSetState:function(A,p,w){A=A._reactInternals;var P=hi(),Q=Ou(A),K=Bi(P,Q);K.payload=p,w!=null&&(K.callback=w),p=Ei(A,K,Q),p!==null&&(xl(p,A,Q,P),sd(p,A,Q))},enqueueReplaceState:function(A,p,w){A=A._reactInternals;var P=hi(),Q=Ou(A),K=Bi(P,Q);K.tag=1,K.payload=p,w!=null&&(K.callback=w),p=Ei(A,K,Q),p!==null&&(xl(p,A,Q,P),sd(p,A,Q))},enqueueForceUpdate:function(A,p){A=A._reactInternals;var w=hi(),P=Ou(A),Q=Bi(w,P);Q.tag=2,p!=null&&(Q.callback=p),p=Ei(A,Q,P),p!==null&&(xl(p,A,P,w),sd(p,A,P))}};function R6(A,p,w,P,Q,K,ie){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(P,K,ie):p.prototype&&p.prototype.isPureReactComponent?!sl(w,P)||!sl(Q,K):!0}function U6(A,p,w){var P=!1,Q=Zl,K=p.contextType;return typeof K=="object"&&K!==null?K=Zn(K):(Q=Fa(p)?rd:Ds.current,P=p.contextTypes,K=(P=P!=null)?Nu(A,Q):Zl),p=new p(w,K),A.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ny,A.stateNode=p,p._reactInternals=A,P&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=Q,A.__reactInternalMemoizedMaskedChildContext=K),p}function Q6(A,p,w,P){A=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,P),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,P),p.state!==A&&Ny.enqueueReplaceState(p,p.state,null)}function U2(A,p,w,P){var Q=A.stateNode;Q.props=w,Q.state=A.memoizedState,Q.refs={},Im(A);var K=p.contextType;typeof K=="object"&&K!==null?Q.context=Zn(K):(K=Fa(p)?rd:Ds.current,Q.context=Nu(A,K)),Q.state=A.memoizedState,K=p.getDerivedStateFromProps,typeof K=="function"&&(R2(A,p,K,w),Q.state=A.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(p=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),p!==Q.state&&Ny.enqueueReplaceState(Q,Q.state,null),ul(A,w,Q,P),Q.state=A.memoizedState),typeof Q.componentDidMount=="function"&&(A.flags|=4194308)}function zm(A,p){try{var w="",P=p;do w+=X(P),P=P.return;while(P);var Q=w}catch(K){Q=`
Error generating stack: `+K.message+`
`+K.stack}return{value:A,source:p,stack:Q,digest:null}}function Q2(A,p,w){return{value:A,source:null,stack:w??null,digest:p??null}}function $2(A,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var tX=typeof WeakMap=="function"?WeakMap:Map;function $6(A,p,w){w=Bi(-1,w),w.tag=3,w.payload={element:null};var P=p.value;return w.callback=function(){Py||(Py=!0,nj=P),$2(A,p)},w}function H6(A,p,w){w=Bi(-1,w),w.tag=3;var P=A.type.getDerivedStateFromError;if(typeof P=="function"){var Q=p.value;w.payload=function(){return P(Q)},w.callback=function(){$2(A,p)}}var K=A.stateNode;return K!==null&&typeof K.componentDidCatch=="function"&&(w.callback=function(){$2(A,p),typeof P!="function"&&(Tu===null?Tu=new Set([this]):Tu.add(this));var ie=p.stack;this.componentDidCatch(p.value,{componentStack:ie!==null?ie:""})}),w}function q6(A,p,w){var P=A.pingCache;if(P===null){P=A.pingCache=new tX;var Q=new Set;P.set(p,Q)}else Q=P.get(p),Q===void 0&&(Q=new Set,P.set(p,Q));Q.has(w)||(Q.add(w),A=fX.bind(null,A,p,w),p.then(A,A))}function z6(A){do{var p;if((p=A.tag===13)&&(p=A.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return A;A=A.return}while(A!==null);return null}function V6(A,p,w,P,Q){return(A.mode&1)===0?(A===p?A.flags|=65536:(A.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Bi(-1,1),p.tag=2,Ei(w,p,1))),w.lanes|=1),A):(A.flags|=65536,A.lanes=Q,A)}var rX=B.ReactCurrentOwner,Pi=!1;function ui(A,p,w,P){p.child=A===null?$r(p,null,w,P):os(p,A.child,w,P)}function K6(A,p,w,P,Q){w=w.render;var K=p.ref;return Fn(p,Q),P=nA(A,p,w,P,K,Q),w=So(),A!==null&&!Pi?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~Q,od(A,p,Q)):(rt&&w&&Je(p),p.flags|=1,ui(A,p,P,Q),p.child)}function W6(A,p,w,P,Q){if(A===null){var K=w.type;return typeof K=="function"&&!dj(K)&&K.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=K,G6(A,p,K,P,Q)):(A=My(w.type,null,P,p,p.mode,Q),A.ref=p.ref,A.return=p,p.child=A)}if(K=A.child,(A.lanes&Q)===0){var ie=K.memoizedProps;if(w=w.compare,w=w!==null?w:sl,w(ie,P)&&A.ref===p.ref)return od(A,p,Q)}return p.flags|=1,A=Du(K,P),A.ref=p.ref,A.return=p,p.child=A}function G6(A,p,w,P,Q){if(A!==null){var K=A.memoizedProps;if(sl(K,P)&&A.ref===p.ref)if(Pi=!1,p.pendingProps=P=K,(A.lanes&Q)!==0)(A.flags&131072)!==0&&(Pi=!0);else return p.lanes=A.lanes,od(A,p,Q)}return H2(A,p,w,P,Q)}function X6(A,p,w){var P=p.pendingProps,Q=P.children,K=A!==null?A.memoizedState:null;if(P.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yr(Km,eo),eo|=w;else{if((w&1073741824)===0)return A=K!==null?K.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:A,cachePool:null,transitions:null},p.updateQueue=null,Yr(Km,eo),eo|=A,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=K!==null?K.baseLanes:w,Yr(Km,eo),eo|=P}else K!==null?(P=K.baseLanes|w,p.memoizedState=null):P=w,Yr(Km,eo),eo|=P;return ui(A,p,Q,w),p.child}function Y6(A,p){var w=p.ref;(A===null&&w!==null||A!==null&&A.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function H2(A,p,w,P,Q){var K=Fa(w)?rd:Ds.current;return K=Nu(p,K),Fn(p,Q),w=nA(A,p,w,P,K,Q),P=So(),A!==null&&!Pi?(p.updateQueue=A.updateQueue,p.flags&=-2053,A.lanes&=~Q,od(A,p,Q)):(rt&&P&&Je(p),p.flags|=1,ui(A,p,w,Q),p.child)}function J6(A,p,w,P,Q){if(Fa(w)){var K=!0;nd(p)}else K=!1;if(Fn(p,Q),p.stateNode===null)Cy(A,p),U6(p,w,P),U2(p,w,P,Q),P=!0;else if(A===null){var ie=p.stateNode,we=p.memoizedProps;ie.props=we;var Pe=ie.context,Ye=w.contextType;typeof Ye=="object"&&Ye!==null?Ye=Zn(Ye):(Ye=Fa(w)?rd:Ds.current,Ye=Nu(p,Ye));var At=w.getDerivedStateFromProps,gt=typeof At=="function"||typeof ie.getSnapshotBeforeUpdate=="function";gt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(we!==P||Pe!==Ye)&&Q6(p,ie,P,Ye),No=!1;var ht=p.memoizedState;ie.state=ht,ul(p,P,ie,Q),Pe=p.memoizedState,we!==P||ht!==Pe||Ta.current||No?(typeof At=="function"&&(R2(p,w,At,P),Pe=p.memoizedState),(we=No||R6(p,w,we,P,ht,Pe,Ye))?(gt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(p.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=P,p.memoizedState=Pe),ie.props=P,ie.state=Pe,ie.context=Ye,P=we):(typeof ie.componentDidMount=="function"&&(p.flags|=4194308),P=!1)}else{ie=p.stateNode,lg(A,p),we=p.memoizedProps,Ye=p.type===p.elementType?we:fl(p.type,we),ie.props=Ye,gt=p.pendingProps,ht=ie.context,Pe=w.contextType,typeof Pe=="object"&&Pe!==null?Pe=Zn(Pe):(Pe=Fa(w)?rd:Ds.current,Pe=Nu(p,Pe));var Tt=w.getDerivedStateFromProps;(At=typeof Tt=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(we!==gt||ht!==Pe)&&Q6(p,ie,P,Pe),No=!1,ht=p.memoizedState,ie.state=ht,ul(p,P,ie,Q);var Lt=p.memoizedState;we!==gt||ht!==Lt||Ta.current||No?(typeof Tt=="function"&&(R2(p,w,Tt,P),Lt=p.memoizedState),(Ye=No||R6(p,w,Ye,P,ht,Lt,Pe)||!1)?(At||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(P,Lt,Pe),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(P,Lt,Pe)),typeof ie.componentDidUpdate=="function"&&(p.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof ie.componentDidUpdate!="function"||we===A.memoizedProps&&ht===A.memoizedState||(p.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||we===A.memoizedProps&&ht===A.memoizedState||(p.flags|=1024),p.memoizedProps=P,p.memoizedState=Lt),ie.props=P,ie.state=Lt,ie.context=Pe,P=Ye):(typeof ie.componentDidUpdate!="function"||we===A.memoizedProps&&ht===A.memoizedState||(p.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||we===A.memoizedProps&&ht===A.memoizedState||(p.flags|=1024),P=!1)}return q2(A,p,w,P,K,Q)}function q2(A,p,w,P,Q,K){Y6(A,p);var ie=(p.flags&128)!==0;if(!P&&!ie)return Q&&gy(p,w,!1),od(A,p,K);P=p.stateNode,rX.current=p;var we=ie&&typeof w.getDerivedStateFromError!="function"?null:P.render();return p.flags|=1,A!==null&&ie?(p.child=os(p,A.child,null,K),p.child=os(p,null,we,K)):ui(A,p,we,K),p.memoizedState=P.state,Q&&gy(p,w,!0),p.child}function Z6(A){var p=A.stateNode;p.pendingContext?py(A,p.pendingContext,p.pendingContext!==p.context):p.context&&py(A,p.context,!1),Su(A,p.containerInfo)}function eP(A,p,w,P,Q){return gr(),Wr(Q),p.flags|=256,ui(A,p,w,P),p.child}var z2={dehydrated:null,treeContext:null,retryLane:0};function V2(A){return{baseLanes:A,cachePool:null,transitions:null}}function tP(A,p,w){var P=p.pendingProps,Q=gn.current,K=!1,ie=(p.flags&128)!==0,we;if((we=ie)||(we=A!==null&&A.memoizedState===null?!1:(Q&2)!==0),we?(K=!0,p.flags&=-129):(A===null||A.memoizedState!==null)&&(Q|=1),Yr(gn,Q&1),A===null)return jt(p),A=p.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((p.mode&1)===0?p.lanes=1:A.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(ie=P.children,A=P.fallback,K?(P=p.mode,K=p.child,ie={mode:"hidden",children:ie},(P&1)===0&&K!==null?(K.childLanes=0,K.pendingProps=ie):K=Ly(ie,P,0,null),A=dA(A,P,w,null),K.return=p,A.return=p,K.sibling=A,p.child=K,p.child.memoizedState=V2(w),p.memoizedState=z2,A):K2(p,ie));if(Q=A.memoizedState,Q!==null&&(we=Q.dehydrated,we!==null))return nX(A,p,ie,P,we,Q,w);if(K){K=P.fallback,ie=p.mode,Q=A.child,we=Q.sibling;var Pe={mode:"hidden",children:P.children};return(ie&1)===0&&p.child!==Q?(P=p.child,P.childLanes=0,P.pendingProps=Pe,p.deletions=null):(P=Du(Q,Pe),P.subtreeFlags=Q.subtreeFlags&14680064),we!==null?K=Du(we,K):(K=dA(K,ie,w,null),K.flags|=2),K.return=p,P.return=p,P.sibling=K,p.child=P,P=K,K=p.child,ie=A.child.memoizedState,ie=ie===null?V2(w):{baseLanes:ie.baseLanes|w,cachePool:null,transitions:ie.transitions},K.memoizedState=ie,K.childLanes=A.childLanes&~w,p.memoizedState=z2,P}return K=A.child,A=K.sibling,P=Du(K,{mode:"visible",children:P.children}),(p.mode&1)===0&&(P.lanes=w),P.return=p,P.sibling=null,A!==null&&(w=p.deletions,w===null?(p.deletions=[A],p.flags|=16):w.push(A)),p.child=P,p.memoizedState=null,P}function K2(A,p){return p=Ly({mode:"visible",children:p},A.mode,0,null),p.return=A,A.child=p}function _y(A,p,w,P){return P!==null&&Wr(P),os(p,A.child,null,w),A=K2(p,p.pendingProps.children),A.flags|=2,p.memoizedState=null,A}function nX(A,p,w,P,Q,K,ie){if(w)return p.flags&256?(p.flags&=-257,P=Q2(Error(r(422))),_y(A,p,ie,P)):p.memoizedState!==null?(p.child=A.child,p.flags|=128,null):(K=P.fallback,Q=p.mode,P=Ly({mode:"visible",children:P.children},Q,0,null),K=dA(K,Q,ie,null),K.flags|=2,P.return=p,K.return=p,P.sibling=K,p.child=P,(p.mode&1)!==0&&os(p,A.child,null,ie),p.child.memoizedState=V2(ie),p.memoizedState=z2,K);if((p.mode&1)===0)return _y(A,p,ie,null);if(Q.data==="$!"){if(P=Q.nextSibling&&Q.nextSibling.dataset,P)var we=P.dgst;return P=we,K=Error(r(419)),P=Q2(K,P,void 0),_y(A,p,ie,P)}if(we=(ie&A.childLanes)!==0,Pi||we){if(P=ea,P!==null){switch(ie&-ie){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=(Q&(P.suspendedLanes|ie))!==0?0:Q,Q!==0&&Q!==K.retryLane&&(K.retryLane=Q,Hr(A,Q),xl(P,A,Q,-1))}return cj(),P=Q2(Error(r(421))),_y(A,p,ie,P)}return Q.data==="$?"?(p.flags|=128,p.child=A.child,p=pX.bind(null,A),Q._reactRetry=p,null):(A=K.treeContext,nt=ga(Q.nextSibling),Fe=p,rt=!0,at=null,A!==null&&(Ae[xe++]=He,Ae[xe++]=qe,Ae[xe++]=Ee,He=A.id,qe=A.overflow,Ee=p),p=K2(p,P.children),p.flags|=4096,p)}function rP(A,p,w){A.lanes|=p;var P=A.alternate;P!==null&&(P.lanes|=p),Si(A.return,p,w)}function W2(A,p,w,P,Q){var K=A.memoizedState;K===null?A.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:P,tail:w,tailMode:Q}:(K.isBackwards=p,K.rendering=null,K.renderingStartTime=0,K.last=P,K.tail=w,K.tailMode=Q)}function nP(A,p,w){var P=p.pendingProps,Q=P.revealOrder,K=P.tail;if(ui(A,p,P.children,w),P=gn.current,(P&2)!==0)P=P&1|2,p.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=p.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&rP(A,w,p);else if(A.tag===19)rP(A,w,p);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break e;for(;A.sibling===null;){if(A.return===null||A.return===p)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}P&=1}if(Yr(gn,P),(p.mode&1)===0)p.memoizedState=null;else switch(Q){case"forwards":for(w=p.child,Q=null;w!==null;)A=w.alternate,A!==null&&Yi(A)===null&&(Q=w),w=w.sibling;w=Q,w===null?(Q=p.child,p.child=null):(Q=w.sibling,w.sibling=null),W2(p,!1,Q,w,K);break;case"backwards":for(w=null,Q=p.child,p.child=null;Q!==null;){if(A=Q.alternate,A!==null&&Yi(A)===null){p.child=Q;break}A=Q.sibling,Q.sibling=w,w=Q,Q=A}W2(p,!0,w,null,K);break;case"together":W2(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Cy(A,p){(p.mode&1)===0&&A!==null&&(A.alternate=null,p.alternate=null,p.flags|=2)}function od(A,p,w){if(A!==null&&(p.dependencies=A.dependencies),iA|=p.lanes,(w&p.childLanes)===0)return null;if(A!==null&&p.child!==A.child)throw Error(r(153));if(p.child!==null){for(A=p.child,w=Du(A,A.pendingProps),p.child=w,w.return=p;A.sibling!==null;)A=A.sibling,w=w.sibling=Du(A,A.pendingProps),w.return=p;w.sibling=null}return p.child}function sX(A,p,w){switch(p.tag){case 3:Z6(p),gr();break;case 5:xy(p);break;case 1:Fa(p.type)&&nd(p);break;case 4:Su(p,p.stateNode.containerInfo);break;case 10:var P=p.type._context,Q=p.memoizedProps.value;Yr(Js,P._currentValue),P._currentValue=Q;break;case 13:if(P=p.memoizedState,P!==null)return P.dehydrated!==null?(Yr(gn,gn.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?tP(A,p,w):(Yr(gn,gn.current&1),A=od(A,p,w),A!==null?A.sibling:null);Yr(gn,gn.current&1);break;case 19:if(P=(w&p.childLanes)!==0,(A.flags&128)!==0){if(P)return nP(A,p,w);p.flags|=128}if(Q=p.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Yr(gn,gn.current),P)break;return null;case 22:case 23:return p.lanes=0,X6(A,p,w)}return od(A,p,w)}var sP,G2,aP,iP;sP=function(A,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)A.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},G2=function(){},aP=function(A,p,w,P){var Q=A.memoizedProps;if(Q!==P){A=p.stateNode,hl(li.current);var K=null;switch(w){case"input":Q=st(A,Q),P=st(A,P),K=[];break;case"select":Q=ee({},Q,{value:void 0}),P=ee({},P,{value:void 0}),K=[];break;case"textarea":Q=Oe(A,Q),P=Oe(A,P),K=[];break;default:typeof Q.onClick!="function"&&typeof P.onClick=="function"&&(A.onclick=vu)}Ur(w,P);var ie;w=null;for(Ye in Q)if(!P.hasOwnProperty(Ye)&&Q.hasOwnProperty(Ye)&&Q[Ye]!=null)if(Ye==="style"){var we=Q[Ye];for(ie in we)we.hasOwnProperty(ie)&&(w||(w={}),w[ie]="")}else Ye!=="dangerouslySetInnerHTML"&&Ye!=="children"&&Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&Ye!=="autoFocus"&&(a.hasOwnProperty(Ye)?K||(K=[]):(K=K||[]).push(Ye,null));for(Ye in P){var Pe=P[Ye];if(we=Q?.[Ye],P.hasOwnProperty(Ye)&&Pe!==we&&(Pe!=null||we!=null))if(Ye==="style")if(we){for(ie in we)!we.hasOwnProperty(ie)||Pe&&Pe.hasOwnProperty(ie)||(w||(w={}),w[ie]="");for(ie in Pe)Pe.hasOwnProperty(ie)&&we[ie]!==Pe[ie]&&(w||(w={}),w[ie]=Pe[ie])}else w||(K||(K=[]),K.push(Ye,w)),w=Pe;else Ye==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,we=we?we.__html:void 0,Pe!=null&&we!==Pe&&(K=K||[]).push(Ye,Pe)):Ye==="children"?typeof Pe!="string"&&typeof Pe!="number"||(K=K||[]).push(Ye,""+Pe):Ye!=="suppressContentEditableWarning"&&Ye!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ye)?(Pe!=null&&Ye==="onScroll"&&on("scroll",A),K||we===Pe||(K=[])):(K=K||[]).push(Ye,Pe))}w&&(K=K||[]).push("style",w);var Ye=K;(p.updateQueue=Ye)&&(p.flags|=4)}},iP=function(A,p,w,P){w!==P&&(p.flags|=4)};function mg(A,p){if(!rt)switch(A.tailMode){case"hidden":p=A.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?A.tail=null:w.sibling=null;break;case"collapsed":w=A.tail;for(var P=null;w!==null;)w.alternate!==null&&(P=w),w=w.sibling;P===null?p||A.tail===null?A.tail=null:A.tail.sibling=null:P.sibling=null}}function Ia(A){var p=A.alternate!==null&&A.alternate.child===A.child,w=0,P=0;if(p)for(var Q=A.child;Q!==null;)w|=Q.lanes|Q.childLanes,P|=Q.subtreeFlags&14680064,P|=Q.flags&14680064,Q.return=A,Q=Q.sibling;else for(Q=A.child;Q!==null;)w|=Q.lanes|Q.childLanes,P|=Q.subtreeFlags,P|=Q.flags,Q.return=A,Q=Q.sibling;return A.subtreeFlags|=P,A.childLanes=w,p}function aX(A,p,w){var P=p.pendingProps;switch(Te(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ia(p),null;case 1:return Fa(p.type)&&Om(),Ia(p),null;case 3:return P=p.stateNode,_o(),Kr(Ta),Kr(Ds),ug(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(A===null||A.child===null)&&(Fr(p)?p.flags|=4:A===null||A.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,at!==null&&(ij(at),at=null))),G2(A,p),Ia(p),null;case 5:cg(p);var Q=hl(tc.current);if(w=p.type,A!==null&&p.stateNode!=null)aP(A,p,w,P,Q),A.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!P){if(p.stateNode===null)throw Error(r(166));return Ia(p),null}if(A=hl(li.current),Fr(p)){P=p.stateNode,w=p.type;var K=p.memoizedProps;switch(P[jo]=p,P[wu]=K,A=(p.mode&1)!==0,w){case"dialog":on("cancel",P),on("close",P);break;case"iframe":case"object":case"embed":on("load",P);break;case"video":case"audio":for(Q=0;Q<Yl.length;Q++)on(Yl[Q],P);break;case"source":on("error",P);break;case"img":case"image":case"link":on("error",P),on("load",P);break;case"details":on("toggle",P);break;case"input":Ne(P,K),on("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!K.multiple},on("invalid",P);break;case"textarea":dt(P,K),on("invalid",P)}Ur(w,K),Q=null;for(var ie in K)if(K.hasOwnProperty(ie)){var we=K[ie];ie==="children"?typeof we=="string"?P.textContent!==we&&(K.suppressHydrationWarning!==!0&&Fm(P.textContent,we,A),Q=["children",we]):typeof we=="number"&&P.textContent!==""+we&&(K.suppressHydrationWarning!==!0&&Fm(P.textContent,we,A),Q=["children",""+we]):a.hasOwnProperty(ie)&&we!=null&&ie==="onScroll"&&on("scroll",P)}switch(w){case"input":ge(P),Ie(P,K,!0);break;case"textarea":ge(P),Ge(P);break;case"select":case"option":break;default:typeof K.onClick=="function"&&(P.onclick=vu)}P=Q,p.updateQueue=P,P!==null&&(p.flags|=4)}else{ie=Q.nodeType===9?Q:Q.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=Ce(w)),A==="http://www.w3.org/1999/xhtml"?w==="script"?(A=ie.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof P.is=="string"?A=ie.createElement(w,{is:P.is}):(A=ie.createElement(w),w==="select"&&(ie=A,P.multiple?ie.multiple=!0:P.size&&(ie.size=P.size))):A=ie.createElementNS(A,w),A[jo]=p,A[wu]=P,sP(A,p,!1,!1),p.stateNode=A;e:{switch(ie=Ts(w,P),w){case"dialog":on("cancel",A),on("close",A),Q=P;break;case"iframe":case"object":case"embed":on("load",A),Q=P;break;case"video":case"audio":for(Q=0;Q<Yl.length;Q++)on(Yl[Q],A);Q=P;break;case"source":on("error",A),Q=P;break;case"img":case"image":case"link":on("error",A),on("load",A),Q=P;break;case"details":on("toggle",A),Q=P;break;case"input":Ne(A,P),Q=st(A,P),on("invalid",A);break;case"option":Q=P;break;case"select":A._wrapperState={wasMultiple:!!P.multiple},Q=ee({},P,{value:void 0}),on("invalid",A);break;case"textarea":dt(A,P),Q=Oe(A,P),on("invalid",A);break;default:Q=P}Ur(w,Q),we=Q;for(K in we)if(we.hasOwnProperty(K)){var Pe=we[K];K==="style"?Xn(A,Pe):K==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&Pt(A,Pe)):K==="children"?typeof Pe=="string"?(w!=="textarea"||Pe!=="")&&zt(A,Pe):typeof Pe=="number"&&zt(A,""+Pe):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(a.hasOwnProperty(K)?Pe!=null&&K==="onScroll"&&on("scroll",A):Pe!=null&&j(A,K,Pe,ie))}switch(w){case"input":ge(A),Ie(A,P,!1);break;case"textarea":ge(A),Ge(A);break;case"option":P.value!=null&&A.setAttribute("value",""+me(P.value));break;case"select":A.multiple=!!P.multiple,K=P.value,K!=null?Ze(A,!!P.multiple,K,!1):P.defaultValue!=null&&Ze(A,!!P.multiple,P.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(A.onclick=vu)}switch(w){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Ia(p),null;case 6:if(A&&p.stateNode!=null)iP(A,p,A.memoizedProps,P);else{if(typeof P!="string"&&p.stateNode===null)throw Error(r(166));if(w=hl(tc.current),hl(li.current),Fr(p)){if(P=p.stateNode,w=p.memoizedProps,P[jo]=p,(K=P.nodeValue!==w)&&(A=Fe,A!==null))switch(A.tag){case 3:Fm(P.nodeValue,w,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&Fm(P.nodeValue,w,(A.mode&1)!==0)}K&&(p.flags|=4)}else P=(w.nodeType===9?w:w.ownerDocument).createTextNode(P),P[jo]=p,p.stateNode=P}return Ia(p),null;case 13:if(Kr(gn),P=p.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(rt&&nt!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Sr(),gr(),p.flags|=98560,K=!1;else if(K=Fr(p),P!==null&&P.dehydrated!==null){if(A===null){if(!K)throw Error(r(318));if(K=p.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(r(317));K[jo]=p}else gr(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Ia(p),K=!1}else at!==null&&(ij(at),at=null),K=!0;if(!K)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=w,p):(P=P!==null,P!==(A!==null&&A.memoizedState!==null)&&P&&(p.child.flags|=8192,(p.mode&1)!==0&&(A===null||(gn.current&1)!==0?Ls===0&&(Ls=3):cj())),p.updateQueue!==null&&(p.flags|=4),Ia(p),null);case 4:return _o(),G2(A,p),A===null&&Jc(p.stateNode.containerInfo),Ia(p),null;case 10:return Oa(p.type._context),Ia(p),null;case 17:return Fa(p.type)&&Om(),Ia(p),null;case 19:if(Kr(gn),K=p.memoizedState,K===null)return Ia(p),null;if(P=(p.flags&128)!==0,ie=K.rendering,ie===null)if(P)mg(K,!1);else{if(Ls!==0||A!==null&&(A.flags&128)!==0)for(A=p.child;A!==null;){if(ie=Yi(A),ie!==null){for(p.flags|=128,mg(K,!1),P=ie.updateQueue,P!==null&&(p.updateQueue=P,p.flags|=4),p.subtreeFlags=0,P=w,w=p.child;w!==null;)K=w,A=P,K.flags&=14680066,ie=K.alternate,ie===null?(K.childLanes=0,K.lanes=A,K.child=null,K.subtreeFlags=0,K.memoizedProps=null,K.memoizedState=null,K.updateQueue=null,K.dependencies=null,K.stateNode=null):(K.childLanes=ie.childLanes,K.lanes=ie.lanes,K.child=ie.child,K.subtreeFlags=0,K.deletions=null,K.memoizedProps=ie.memoizedProps,K.memoizedState=ie.memoizedState,K.updateQueue=ie.updateQueue,K.type=ie.type,A=ie.dependencies,K.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),w=w.sibling;return Yr(gn,gn.current&1|2),p.child}A=A.sibling}K.tail!==null&&Bn()>Wm&&(p.flags|=128,P=!0,mg(K,!1),p.lanes=4194304)}else{if(!P)if(A=Yi(ie),A!==null){if(p.flags|=128,P=!0,w=A.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),mg(K,!0),K.tail===null&&K.tailMode==="hidden"&&!ie.alternate&&!rt)return Ia(p),null}else 2*Bn()-K.renderingStartTime>Wm&&w!==1073741824&&(p.flags|=128,P=!0,mg(K,!1),p.lanes=4194304);K.isBackwards?(ie.sibling=p.child,p.child=ie):(w=K.last,w!==null?w.sibling=ie:p.child=ie,K.last=ie)}return K.tail!==null?(p=K.tail,K.rendering=p,K.tail=p.sibling,K.renderingStartTime=Bn(),p.sibling=null,w=gn.current,Yr(gn,P?w&1|2:w&1),p):(Ia(p),null);case 22:case 23:return lj(),P=p.memoizedState!==null,A!==null&&A.memoizedState!==null!==P&&(p.flags|=8192),P&&(p.mode&1)!==0?(eo&1073741824)!==0&&(Ia(p),p.subtreeFlags&6&&(p.flags|=8192)):Ia(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function iX(A,p){switch(Te(p),p.tag){case 1:return Fa(p.type)&&Om(),A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 3:return _o(),Kr(Ta),Kr(Ds),ug(),A=p.flags,(A&65536)!==0&&(A&128)===0?(p.flags=A&-65537|128,p):null;case 5:return cg(p),null;case 13:if(Kr(gn),A=p.memoizedState,A!==null&&A.dehydrated!==null){if(p.alternate===null)throw Error(r(340));gr()}return A=p.flags,A&65536?(p.flags=A&-65537|128,p):null;case 19:return Kr(gn),null;case 4:return _o(),null;case 10:return Oa(p.type._context),null;case 22:case 23:return lj(),null;case 24:return null;default:return null}}var Sy=!1,Da=!1,oX=typeof WeakSet=="function"?WeakSet:Set,It=null;function Vm(A,p){var w=A.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(P){ts(A,p,P)}else w.current=null}function X2(A,p,w){try{w()}catch(P){ts(A,p,P)}}var oP=!1;function lX(A,p){if(eA=ru,A=Kh(),Wc(A)){if("selectionStart"in A)var w={start:A.selectionStart,end:A.selectionEnd};else e:{w=(w=A.ownerDocument)&&w.defaultView||window;var P=w.getSelection&&w.getSelection();if(P&&P.rangeCount!==0){w=P.anchorNode;var Q=P.anchorOffset,K=P.focusNode;P=P.focusOffset;try{w.nodeType,K.nodeType}catch{w=null;break e}var ie=0,we=-1,Pe=-1,Ye=0,At=0,gt=A,ht=null;t:for(;;){for(var Tt;gt!==w||Q!==0&&gt.nodeType!==3||(we=ie+Q),gt!==K||P!==0&&gt.nodeType!==3||(Pe=ie+P),gt.nodeType===3&&(ie+=gt.nodeValue.length),(Tt=gt.firstChild)!==null;)ht=gt,gt=Tt;for(;;){if(gt===A)break t;if(ht===w&&++Ye===Q&&(we=ie),ht===K&&++At===P&&(Pe=ie),(Tt=gt.nextSibling)!==null)break;gt=ht,ht=gt.parentNode}gt=Tt}w=we===-1||Pe===-1?null:{start:we,end:Pe}}else w=null}w=w||{start:0,end:0}}else w=null;for(ed={focusedElem:A,selectionRange:w},ru=!1,It=p;It!==null;)if(p=It,A=p.child,(p.subtreeFlags&1028)!==0&&A!==null)A.return=p,It=A;else for(;It!==null;){p=It;try{var Lt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Lt!==null){var Ut=Lt.memoizedProps,ds=Lt.memoizedState,ze=p.stateNode,De=ze.getSnapshotBeforeUpdate(p.elementType===p.type?Ut:fl(p.type,Ut),ds);ze.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var We=p.stateNode.containerInfo;We.nodeType===1?We.textContent="":We.nodeType===9&&We.documentElement&&We.removeChild(We.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(yt){ts(p,p.return,yt)}if(A=p.sibling,A!==null){A.return=p.return,It=A;break}It=p.return}return Lt=oP,oP=!1,Lt}function fg(A,p,w){var P=p.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var Q=P=P.next;do{if((Q.tag&A)===A){var K=Q.destroy;Q.destroy=void 0,K!==void 0&&X2(p,w,K)}Q=Q.next}while(Q!==P)}}function By(A,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&A)===A){var P=w.create;w.destroy=P()}w=w.next}while(w!==p)}}function Y2(A){var p=A.ref;if(p!==null){var w=A.stateNode;switch(A.tag){case 5:A=w;break;default:A=w}typeof p=="function"?p(A):p.current=A}}function lP(A){var p=A.alternate;p!==null&&(A.alternate=null,lP(p)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(p=A.stateNode,p!==null&&(delete p[jo],delete p[wu],delete p[Pa],delete p[I2],delete p[D2])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function cP(A){return A.tag===5||A.tag===3||A.tag===4}function dP(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||cP(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function J2(A,p,w){var P=A.tag;if(P===5||P===6)A=A.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(A,p):w.insertBefore(A,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(A,w)):(p=w,p.appendChild(A)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=vu));else if(P!==4&&(A=A.child,A!==null))for(J2(A,p,w),A=A.sibling;A!==null;)J2(A,p,w),A=A.sibling}function Z2(A,p,w){var P=A.tag;if(P===5||P===6)A=A.stateNode,p?w.insertBefore(A,p):w.appendChild(A);else if(P!==4&&(A=A.child,A!==null))for(Z2(A,p,w),A=A.sibling;A!==null;)Z2(A,p,w),A=A.sibling}var ya=null,pl=!1;function Pu(A,p,w){for(w=w.child;w!==null;)uP(A,p,w),w=w.sibling}function uP(A,p,w){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Fc,w)}catch{}switch(w.tag){case 5:Da||Vm(w,p);case 6:var P=ya,Q=pl;ya=null,Pu(A,p,w),ya=P,pl=Q,ya!==null&&(pl?(A=ya,w=w.stateNode,A.nodeType===8?A.parentNode.removeChild(w):A.removeChild(w)):ya.removeChild(w.stateNode));break;case 18:ya!==null&&(pl?(A=ya,w=w.stateNode,A.nodeType===8?ag(A.parentNode,w):A.nodeType===1&&ag(A,w),Vi(A)):ag(ya,w.stateNode));break;case 4:P=ya,Q=pl,ya=w.stateNode.containerInfo,pl=!0,Pu(A,p,w),ya=P,pl=Q;break;case 0:case 11:case 14:case 15:if(!Da&&(P=w.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){Q=P=P.next;do{var K=Q,ie=K.destroy;K=K.tag,ie!==void 0&&((K&2)!==0||(K&4)!==0)&&X2(w,p,ie),Q=Q.next}while(Q!==P)}Pu(A,p,w);break;case 1:if(!Da&&(Vm(w,p),P=w.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=w.memoizedProps,P.state=w.memoizedState,P.componentWillUnmount()}catch(we){ts(w,p,we)}Pu(A,p,w);break;case 21:Pu(A,p,w);break;case 22:w.mode&1?(Da=(P=Da)||w.memoizedState!==null,Pu(A,p,w),Da=P):Pu(A,p,w);break;default:Pu(A,p,w)}}function hP(A){var p=A.updateQueue;if(p!==null){A.updateQueue=null;var w=A.stateNode;w===null&&(w=A.stateNode=new oX),p.forEach(function(P){var Q=gX.bind(null,A,P);w.has(P)||(w.add(P),P.then(Q,Q))})}}function gl(A,p){var w=p.deletions;if(w!==null)for(var P=0;P<w.length;P++){var Q=w[P];try{var K=A,ie=p,we=ie;e:for(;we!==null;){switch(we.tag){case 5:ya=we.stateNode,pl=!1;break e;case 3:ya=we.stateNode.containerInfo,pl=!0;break e;case 4:ya=we.stateNode.containerInfo,pl=!0;break e}we=we.return}if(ya===null)throw Error(r(160));uP(K,ie,Q),ya=null,pl=!1;var Pe=Q.alternate;Pe!==null&&(Pe.return=null),Q.return=null}catch(Ye){ts(Q,p,Ye)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)AP(p,A),p=p.sibling}function AP(A,p){var w=A.alternate,P=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(gl(p,A),nc(A),P&4){try{fg(3,A,A.return),By(3,A)}catch(Ut){ts(A,A.return,Ut)}try{fg(5,A,A.return)}catch(Ut){ts(A,A.return,Ut)}}break;case 1:gl(p,A),nc(A),P&512&&w!==null&&Vm(w,w.return);break;case 5:if(gl(p,A),nc(A),P&512&&w!==null&&Vm(w,w.return),A.flags&32){var Q=A.stateNode;try{zt(Q,"")}catch(Ut){ts(A,A.return,Ut)}}if(P&4&&(Q=A.stateNode,Q!=null)){var K=A.memoizedProps,ie=w!==null?w.memoizedProps:K,we=A.type,Pe=A.updateQueue;if(A.updateQueue=null,Pe!==null)try{we==="input"&&K.type==="radio"&&K.name!=null&&J(Q,K),Ts(we,ie);var Ye=Ts(we,K);for(ie=0;ie<Pe.length;ie+=2){var At=Pe[ie],gt=Pe[ie+1];At==="style"?Xn(Q,gt):At==="dangerouslySetInnerHTML"?Pt(Q,gt):At==="children"?zt(Q,gt):j(Q,At,gt,Ye)}switch(we){case"input":Me(Q,K);break;case"textarea":_t(Q,K);break;case"select":var ht=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!K.multiple;var Tt=K.value;Tt!=null?Ze(Q,!!K.multiple,Tt,!1):ht!==!!K.multiple&&(K.defaultValue!=null?Ze(Q,!!K.multiple,K.defaultValue,!0):Ze(Q,!!K.multiple,K.multiple?[]:"",!1))}Q[wu]=K}catch(Ut){ts(A,A.return,Ut)}}break;case 6:if(gl(p,A),nc(A),P&4){if(A.stateNode===null)throw Error(r(162));Q=A.stateNode,K=A.memoizedProps;try{Q.nodeValue=K}catch(Ut){ts(A,A.return,Ut)}}break;case 3:if(gl(p,A),nc(A),P&4&&w!==null&&w.memoizedState.isDehydrated)try{Vi(p.containerInfo)}catch(Ut){ts(A,A.return,Ut)}break;case 4:gl(p,A),nc(A);break;case 13:gl(p,A),nc(A),Q=A.child,Q.flags&8192&&(K=Q.memoizedState!==null,Q.stateNode.isHidden=K,!K||Q.alternate!==null&&Q.alternate.memoizedState!==null||(rj=Bn())),P&4&&hP(A);break;case 22:if(At=w!==null&&w.memoizedState!==null,A.mode&1?(Da=(Ye=Da)||At,gl(p,A),Da=Ye):gl(p,A),nc(A),P&8192){if(Ye=A.memoizedState!==null,(A.stateNode.isHidden=Ye)&&!At&&(A.mode&1)!==0)for(It=A,At=A.child;At!==null;){for(gt=It=At;It!==null;){switch(ht=It,Tt=ht.child,ht.tag){case 0:case 11:case 14:case 15:fg(4,ht,ht.return);break;case 1:Vm(ht,ht.return);var Lt=ht.stateNode;if(typeof Lt.componentWillUnmount=="function"){P=ht,w=ht.return;try{p=P,Lt.props=p.memoizedProps,Lt.state=p.memoizedState,Lt.componentWillUnmount()}catch(Ut){ts(P,w,Ut)}}break;case 5:Vm(ht,ht.return);break;case 22:if(ht.memoizedState!==null){pP(gt);continue}}Tt!==null?(Tt.return=ht,It=Tt):pP(gt)}At=At.sibling}e:for(At=null,gt=A;;){if(gt.tag===5){if(At===null){At=gt;try{Q=gt.stateNode,Ye?(K=Q.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none"):(we=gt.stateNode,Pe=gt.memoizedProps.style,ie=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,we.style.display=br("display",ie))}catch(Ut){ts(A,A.return,Ut)}}}else if(gt.tag===6){if(At===null)try{gt.stateNode.nodeValue=Ye?"":gt.memoizedProps}catch(Ut){ts(A,A.return,Ut)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===A)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===A)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===A)break e;At===gt&&(At=null),gt=gt.return}At===gt&&(At=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:gl(p,A),nc(A),P&4&&hP(A);break;case 21:break;default:gl(p,A),nc(A)}}function nc(A){var p=A.flags;if(p&2){try{e:{for(var w=A.return;w!==null;){if(cP(w)){var P=w;break e}w=w.return}throw Error(r(160))}switch(P.tag){case 5:var Q=P.stateNode;P.flags&32&&(zt(Q,""),P.flags&=-33);var K=dP(A);Z2(A,K,Q);break;case 3:case 4:var ie=P.stateNode.containerInfo,we=dP(A);J2(A,we,ie);break;default:throw Error(r(161))}}catch(Pe){ts(A,A.return,Pe)}A.flags&=-3}p&4096&&(A.flags&=-4097)}function cX(A,p,w){It=A,mP(A)}function mP(A,p,w){for(var P=(A.mode&1)!==0;It!==null;){var Q=It,K=Q.child;if(Q.tag===22&&P){var ie=Q.memoizedState!==null||Sy;if(!ie){var we=Q.alternate,Pe=we!==null&&we.memoizedState!==null||Da;we=Sy;var Ye=Da;if(Sy=ie,(Da=Pe)&&!Ye)for(It=Q;It!==null;)ie=It,Pe=ie.child,ie.tag===22&&ie.memoizedState!==null?gP(Q):Pe!==null?(Pe.return=ie,It=Pe):gP(Q);for(;K!==null;)It=K,mP(K),K=K.sibling;It=Q,Sy=we,Da=Ye}fP(A)}else(Q.subtreeFlags&8772)!==0&&K!==null?(K.return=Q,It=K):fP(A)}}function fP(A){for(;It!==null;){var p=It;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Da||By(5,p);break;case 1:var P=p.stateNode;if(p.flags&4&&!Da)if(w===null)P.componentDidMount();else{var Q=p.elementType===p.type?w.memoizedProps:fl(p.type,w.memoizedProps);P.componentDidUpdate(Q,w.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var K=p.updateQueue;K!==null&&ad(p,K,P);break;case 3:var ie=p.updateQueue;if(ie!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}ad(p,ie,w)}break;case 5:var we=p.stateNode;if(w===null&&p.flags&4){w=we;var Pe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&w.focus();break;case"img":Pe.src&&(w.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ye=p.alternate;if(Ye!==null){var At=Ye.memoizedState;if(At!==null){var gt=At.dehydrated;gt!==null&&Vi(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Da||p.flags&512&&Y2(p)}catch(ht){ts(p,p.return,ht)}}if(p===A){It=null;break}if(w=p.sibling,w!==null){w.return=p.return,It=w;break}It=p.return}}function pP(A){for(;It!==null;){var p=It;if(p===A){It=null;break}var w=p.sibling;if(w!==null){w.return=p.return,It=w;break}It=p.return}}function gP(A){for(;It!==null;){var p=It;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{By(4,p)}catch(Pe){ts(p,w,Pe)}break;case 1:var P=p.stateNode;if(typeof P.componentDidMount=="function"){var Q=p.return;try{P.componentDidMount()}catch(Pe){ts(p,Q,Pe)}}var K=p.return;try{Y2(p)}catch(Pe){ts(p,K,Pe)}break;case 5:var ie=p.return;try{Y2(p)}catch(Pe){ts(p,ie,Pe)}}}catch(Pe){ts(p,p.return,Pe)}if(p===A){It=null;break}var we=p.sibling;if(we!==null){we.return=p.return,It=we;break}It=p.return}}var dX=Math.ceil,Ey=B.ReactCurrentDispatcher,ej=B.ReactCurrentOwner,Bo=B.ReactCurrentBatchConfig,Lr=0,ea=null,vs=null,ba=0,eo=0,Km=Xi(0),Ls=0,pg=null,iA=0,ky=0,tj=0,gg=null,Ti=null,rj=0,Wm=1/0,ld=null,Py=!1,nj=null,Tu=null,Ty=!1,Fu=null,Fy=0,xg=0,sj=null,Oy=-1,Iy=0;function hi(){return(Lr&6)!==0?Bn():Oy!==-1?Oy:Oy=Bn()}function Ou(A){return(A.mode&1)===0?1:(Lr&2)!==0&&ba!==0?ba&-ba:Jr.transition!==null?(Iy===0&&(Iy=Dh()),Iy):(A=Dr,A!==0||(A=window.event,A=A===void 0?16:Qh(A.type)),A)}function xl(A,p,w,P){if(50<xg)throw xg=0,sj=null,Error(r(185));Rl(A,w,P),((Lr&2)===0||A!==ea)&&(A===ea&&((Lr&2)===0&&(ky|=w),Ls===4&&Iu(A,ba)),Fi(A,P),w===1&&Lr===0&&(p.mode&1)===0&&(Wm=Bn()+500,rA&&W()))}function Fi(A,p){var w=A.callbackNode;Sa(A,p);var P=Ca(A,A===ea?ba:0);if(P===0)w!==null&&Tc(w),A.callbackNode=null,A.callbackPriority=0;else if(p=P&-P,A.callbackPriority!==p){if(w!=null&&Tc(w),p===1)A.tag===0?$(yP.bind(null,A)):O(yP.bind(null,A)),F2(function(){(Lr&6)===0&&W()}),w=null;else{switch(Jd(P)){case 1:w=Ml;break;case 4:w=Oh;break;case 16:w=Wd;break;case 536870912:w=vm;break;default:w=Wd}w=SP(w,xP.bind(null,A))}A.callbackPriority=p,A.callbackNode=w}}function xP(A,p){if(Oy=-1,Iy=0,(Lr&6)!==0)throw Error(r(327));var w=A.callbackNode;if(Gm()&&A.callbackNode!==w)return null;var P=Ca(A,A===ea?ba:0);if(P===0)return null;if((P&30)!==0||(P&A.expiredLanes)!==0||p)p=Dy(A,P);else{p=P;var Q=Lr;Lr|=2;var K=vP();(ea!==A||ba!==p)&&(ld=null,Wm=Bn()+500,lA(A,p));do try{AX();break}catch(we){bP(A,we)}while(!0);Ms(),Ey.current=K,Lr=Q,vs!==null?p=0:(ea=null,ba=0,p=Ls)}if(p!==0){if(p===2&&(Q=Dc(A),Q!==0&&(P=Q,p=aj(A,Q))),p===1)throw w=pg,lA(A,0),Iu(A,P),Fi(A,Bn()),w;if(p===6)Iu(A,P);else{if(Q=A.current.alternate,(P&30)===0&&!uX(Q)&&(p=Dy(A,P),p===2&&(K=Dc(A),K!==0&&(P=K,p=aj(A,K))),p===1))throw w=pg,lA(A,0),Iu(A,P),Fi(A,Bn()),w;switch(A.finishedWork=Q,A.finishedLanes=P,p){case 0:case 1:throw Error(r(345));case 2:cA(A,Ti,ld);break;case 3:if(Iu(A,P),(P&130023424)===P&&(p=rj+500-Bn(),10<p)){if(Ca(A,0)!==0)break;if(Q=A.suspendedLanes,(Q&P)!==P){hi(),A.pingedLanes|=A.suspendedLanes&Q;break}A.timeoutHandle=sg(cA.bind(null,A,Ti,ld),p);break}cA(A,Ti,ld);break;case 4:if(Iu(A,P),(P&4194240)===P)break;for(p=A.eventTimes,Q=-1;0<P;){var ie=31-ri(P);K=1<<ie,ie=p[ie],ie>Q&&(Q=ie),P&=~K}if(P=Q,P=Bn()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*dX(P/1960))-P,10<P){A.timeoutHandle=sg(cA.bind(null,A,Ti,ld),P);break}cA(A,Ti,ld);break;case 5:cA(A,Ti,ld);break;default:throw Error(r(329))}}}return Fi(A,Bn()),A.callbackNode===w?xP.bind(null,A):null}function aj(A,p){var w=gg;return A.current.memoizedState.isDehydrated&&(lA(A,p).flags|=256),A=Dy(A,p),A!==2&&(p=Ti,Ti=w,p!==null&&ij(p)),A}function ij(A){Ti===null?Ti=A:Ti.push.apply(Ti,A)}function uX(A){for(var p=A;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var P=0;P<w.length;P++){var Q=w[P],K=Q.getSnapshot;Q=Q.value;try{if(!Mr(K(),Q))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===A)break;for(;p.sibling===null;){if(p.return===null||p.return===A)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Iu(A,p){for(p&=~tj,p&=~ky,A.suspendedLanes|=p,A.pingedLanes&=~p,A=A.expirationTimes;0<p;){var w=31-ri(p),P=1<<w;A[w]=-1,p&=~P}}function yP(A){if((Lr&6)!==0)throw Error(r(327));Gm();var p=Ca(A,0);if((p&1)===0)return Fi(A,Bn()),null;var w=Dy(A,p);if(A.tag!==0&&w===2){var P=Dc(A);P!==0&&(p=P,w=aj(A,P))}if(w===1)throw w=pg,lA(A,0),Iu(A,p),Fi(A,Bn()),w;if(w===6)throw Error(r(345));return A.finishedWork=A.current.alternate,A.finishedLanes=p,cA(A,Ti,ld),Fi(A,Bn()),null}function oj(A,p){var w=Lr;Lr|=1;try{return A(p)}finally{Lr=w,Lr===0&&(Wm=Bn()+500,rA&&W())}}function oA(A){Fu!==null&&Fu.tag===0&&(Lr&6)===0&&Gm();var p=Lr;Lr|=1;var w=Bo.transition,P=Dr;try{if(Bo.transition=null,Dr=1,A)return A()}finally{Dr=P,Bo.transition=w,Lr=p,(Lr&6)===0&&W()}}function lj(){eo=Km.current,Kr(Km)}function lA(A,p){A.finishedWork=null,A.finishedLanes=0;var w=A.timeoutHandle;if(w!==-1&&(A.timeoutHandle=-1,my(w)),vs!==null)for(w=vs.return;w!==null;){var P=w;switch(Te(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&Om();break;case 3:_o(),Kr(Ta),Kr(Ds),ug();break;case 5:cg(P);break;case 4:_o();break;case 13:Kr(gn);break;case 19:Kr(gn);break;case 10:Oa(P.type._context);break;case 22:case 23:lj()}w=w.return}if(ea=A,vs=A=Du(A.current,null),ba=eo=p,Ls=0,pg=null,tj=ky=iA=0,Ti=gg=null,oi!==null){for(p=0;p<oi.length;p++)if(w=oi[p],P=w.interleaved,P!==null){w.interleaved=null;var Q=P.next,K=w.pending;if(K!==null){var ie=K.next;K.next=Q,P.next=ie}w.pending=P}oi=null}return A}function bP(A,p){do{var w=vs;try{if(Ms(),Dm.current=jy,Bu){for(var P=vn.memoizedState;P!==null;){var Q=P.queue;Q!==null&&(Q.pending=null),P=P.next}Bu=!1}if(Co=0,Wn=es=vn=null,Al=!1,Eu=0,ej.current=null,w===null||w.return===null){Ls=1,pg=p,vs=null;break}e:{var K=A,ie=w.return,we=w,Pe=p;if(p=ba,we.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var Ye=Pe,At=we,gt=At.tag;if((At.mode&1)===0&&(gt===0||gt===11||gt===15)){var ht=At.alternate;ht?(At.updateQueue=ht.updateQueue,At.memoizedState=ht.memoizedState,At.lanes=ht.lanes):(At.updateQueue=null,At.memoizedState=null)}var Tt=z6(ie);if(Tt!==null){Tt.flags&=-257,V6(Tt,ie,we,K,p),Tt.mode&1&&q6(K,Ye,p),p=Tt,Pe=Ye;var Lt=p.updateQueue;if(Lt===null){var Ut=new Set;Ut.add(Pe),p.updateQueue=Ut}else Lt.add(Pe);break e}else{if((p&1)===0){q6(K,Ye,p),cj();break e}Pe=Error(r(426))}}else if(rt&&we.mode&1){var ds=z6(ie);if(ds!==null){(ds.flags&65536)===0&&(ds.flags|=256),V6(ds,ie,we,K,p),Wr(zm(Pe,we));break e}}K=Pe=zm(Pe,we),Ls!==4&&(Ls=2),gg===null?gg=[K]:gg.push(K),K=ie;do{switch(K.tag){case 3:K.flags|=65536,p&=-p,K.lanes|=p;var ze=$6(K,Pe,p);ki(K,ze);break e;case 1:we=Pe;var De=K.type,We=K.stateNode;if((K.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(Tu===null||!Tu.has(We)))){K.flags|=65536,p&=-p,K.lanes|=p;var yt=H6(K,we,p);ki(K,yt);break e}}K=K.return}while(K!==null)}jP(w)}catch(Qt){p=Qt,vs===w&&w!==null&&(vs=w=w.return);continue}break}while(!0)}function vP(){var A=Ey.current;return Ey.current=jy,A===null?jy:A}function cj(){(Ls===0||Ls===3||Ls===2)&&(Ls=4),ea===null||(iA&268435455)===0&&(ky&268435455)===0||Iu(ea,ba)}function Dy(A,p){var w=Lr;Lr|=2;var P=vP();(ea!==A||ba!==p)&&(ld=null,lA(A,p));do try{hX();break}catch(Q){bP(A,Q)}while(!0);if(Ms(),Lr=w,Ey.current=P,vs!==null)throw Error(r(261));return ea=null,ba=0,Ls}function hX(){for(;vs!==null;)wP(vs)}function AX(){for(;vs!==null&&!Kd();)wP(vs)}function wP(A){var p=CP(A.alternate,A,eo);A.memoizedProps=A.pendingProps,p===null?jP(A):vs=p,ej.current=null}function jP(A){var p=A;do{var w=p.alternate;if(A=p.return,(p.flags&32768)===0){if(w=aX(w,p,eo),w!==null){vs=w;return}}else{if(w=iX(w,p),w!==null){w.flags&=32767,vs=w;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Ls=6,vs=null;return}}if(p=p.sibling,p!==null){vs=p;return}vs=p=A}while(p!==null);Ls===0&&(Ls=5)}function cA(A,p,w){var P=Dr,Q=Bo.transition;try{Bo.transition=null,Dr=1,mX(A,p,w,P)}finally{Bo.transition=Q,Dr=P}return null}function mX(A,p,w,P){do Gm();while(Fu!==null);if((Lr&6)!==0)throw Error(r(327));w=A.finishedWork;var Q=A.finishedLanes;if(w===null)return null;if(A.finishedWork=null,A.finishedLanes=0,w===A.current)throw Error(r(177));A.callbackNode=null,A.callbackPriority=0;var K=w.lanes|w.childLanes;if(eg(A,K),A===ea&&(vs=ea=null,ba=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Ty||(Ty=!0,SP(Wd,function(){return Gm(),null})),K=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||K){K=Bo.transition,Bo.transition=null;var ie=Dr;Dr=1;var we=Lr;Lr|=4,ej.current=null,lX(A,w),AP(w,A),Gc(ed),ru=!!eA,ed=eA=null,A.current=w,cX(w),bm(),Lr=we,Dr=ie,Bo.transition=K}else A.current=w;if(Ty&&(Ty=!1,Fu=A,Fy=Q),K=A.pendingLanes,K===0&&(Tu=null),Gd(w.stateNode),Fi(A,Bn()),p!==null)for(P=A.onRecoverableError,w=0;w<p.length;w++)Q=p[w],P(Q.value,{componentStack:Q.stack,digest:Q.digest});if(Py)throw Py=!1,A=nj,nj=null,A;return(Fy&1)!==0&&A.tag!==0&&Gm(),K=A.pendingLanes,(K&1)!==0?A===sj?xg++:(xg=0,sj=A):xg=0,W(),null}function Gm(){if(Fu!==null){var A=Jd(Fy),p=Bo.transition,w=Dr;try{if(Bo.transition=null,Dr=16>A?16:A,Fu===null)var P=!1;else{if(A=Fu,Fu=null,Fy=0,(Lr&6)!==0)throw Error(r(331));var Q=Lr;for(Lr|=4,It=A.current;It!==null;){var K=It,ie=K.child;if((It.flags&16)!==0){var we=K.deletions;if(we!==null){for(var Pe=0;Pe<we.length;Pe++){var Ye=we[Pe];for(It=Ye;It!==null;){var At=It;switch(At.tag){case 0:case 11:case 15:fg(8,At,K)}var gt=At.child;if(gt!==null)gt.return=At,It=gt;else for(;It!==null;){At=It;var ht=At.sibling,Tt=At.return;if(lP(At),At===Ye){It=null;break}if(ht!==null){ht.return=Tt,It=ht;break}It=Tt}}}var Lt=K.alternate;if(Lt!==null){var Ut=Lt.child;if(Ut!==null){Lt.child=null;do{var ds=Ut.sibling;Ut.sibling=null,Ut=ds}while(Ut!==null)}}It=K}}if((K.subtreeFlags&2064)!==0&&ie!==null)ie.return=K,It=ie;else e:for(;It!==null;){if(K=It,(K.flags&2048)!==0)switch(K.tag){case 0:case 11:case 15:fg(9,K,K.return)}var ze=K.sibling;if(ze!==null){ze.return=K.return,It=ze;break e}It=K.return}}var De=A.current;for(It=De;It!==null;){ie=It;var We=ie.child;if((ie.subtreeFlags&2064)!==0&&We!==null)We.return=ie,It=We;else e:for(ie=De;It!==null;){if(we=It,(we.flags&2048)!==0)try{switch(we.tag){case 0:case 11:case 15:By(9,we)}}catch(Qt){ts(we,we.return,Qt)}if(we===ie){It=null;break e}var yt=we.sibling;if(yt!==null){yt.return=we.return,It=yt;break e}It=we.return}}if(Lr=Q,W(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Fc,A)}catch{}P=!0}return P}finally{Dr=w,Bo.transition=p}}return!1}function NP(A,p,w){p=zm(w,p),p=$6(A,p,1),A=Ei(A,p,1),p=hi(),A!==null&&(Rl(A,1,p),Fi(A,p))}function ts(A,p,w){if(A.tag===3)NP(A,A,w);else for(;p!==null;){if(p.tag===3){NP(p,A,w);break}else if(p.tag===1){var P=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Tu===null||!Tu.has(P))){A=zm(w,A),A=H6(p,A,1),p=Ei(p,A,1),A=hi(),p!==null&&(Rl(p,1,A),Fi(p,A));break}}p=p.return}}function fX(A,p,w){var P=A.pingCache;P!==null&&P.delete(p),p=hi(),A.pingedLanes|=A.suspendedLanes&w,ea===A&&(ba&w)===w&&(Ls===4||Ls===3&&(ba&130023424)===ba&&500>Bn()-rj?lA(A,0):tj|=w),Fi(A,p)}function _P(A,p){p===0&&((A.mode&1)===0?p=1:(p=Ll,Ll<<=1,(Ll&130023424)===0&&(Ll=4194304)));var w=hi();A=Hr(A,p),A!==null&&(Rl(A,p,w),Fi(A,w))}function pX(A){var p=A.memoizedState,w=0;p!==null&&(w=p.retryLane),_P(A,w)}function gX(A,p){var w=0;switch(A.tag){case 13:var P=A.stateNode,Q=A.memoizedState;Q!==null&&(w=Q.retryLane);break;case 19:P=A.stateNode;break;default:throw Error(r(314))}P!==null&&P.delete(p),_P(A,w)}var CP;CP=function(A,p,w){if(A!==null)if(A.memoizedProps!==p.pendingProps||Ta.current)Pi=!0;else{if((A.lanes&w)===0&&(p.flags&128)===0)return Pi=!1,sX(A,p,w);Pi=(A.flags&131072)!==0}else Pi=!1,rt&&(p.flags&1048576)!==0&&ct(p,ce,p.index);switch(p.lanes=0,p.tag){case 2:var P=p.type;Cy(A,p),A=p.pendingProps;var Q=Nu(p,Ds.current);Fn(p,w),Q=nA(null,p,P,A,Q,w);var K=So();return p.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Fa(P)?(K=!0,nd(p)):K=!1,p.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Im(p),Q.updater=Ny,p.stateNode=Q,Q._reactInternals=p,U2(p,P,A,w),p=q2(null,p,P,!0,K,w)):(p.tag=0,rt&&K&&Je(p),ui(null,p,Q,w),p=p.child),p;case 16:P=p.elementType;e:{switch(Cy(A,p),A=p.pendingProps,Q=P._init,P=Q(P._payload),p.type=P,Q=p.tag=yX(P),A=fl(P,A),Q){case 0:p=H2(null,p,P,A,w);break e;case 1:p=J6(null,p,P,A,w);break e;case 11:p=K6(null,p,P,A,w);break e;case 14:p=W6(null,p,P,fl(P.type,A),w);break e}throw Error(r(306,P,""))}return p;case 0:return P=p.type,Q=p.pendingProps,Q=p.elementType===P?Q:fl(P,Q),H2(A,p,P,Q,w);case 1:return P=p.type,Q=p.pendingProps,Q=p.elementType===P?Q:fl(P,Q),J6(A,p,P,Q,w);case 3:e:{if(Z6(p),A===null)throw Error(r(387));P=p.pendingProps,K=p.memoizedState,Q=K.element,lg(A,p),ul(p,P,null,w);var ie=p.memoizedState;if(P=ie.element,K.isDehydrated)if(K={element:P,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},p.updateQueue.baseState=K,p.memoizedState=K,p.flags&256){Q=zm(Error(r(423)),p),p=eP(A,p,P,w,Q);break e}else if(P!==Q){Q=zm(Error(r(424)),p),p=eP(A,p,P,w,Q);break e}else for(nt=ga(p.stateNode.containerInfo.firstChild),Fe=p,rt=!0,at=null,w=$r(p,null,P,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(gr(),P===Q){p=od(A,p,w);break e}ui(A,p,P,w)}p=p.child}return p;case 5:return xy(p),A===null&&jt(p),P=p.type,Q=p.pendingProps,K=A!==null?A.memoizedProps:null,ie=Q.children,ng(P,Q)?ie=null:K!==null&&ng(P,K)&&(p.flags|=32),Y6(A,p),ui(A,p,ie,w),p.child;case 6:return A===null&&jt(p),null;case 13:return tP(A,p,w);case 4:return Su(p,p.stateNode.containerInfo),P=p.pendingProps,A===null?p.child=os(p,null,P,w):ui(A,p,P,w),p.child;case 11:return P=p.type,Q=p.pendingProps,Q=p.elementType===P?Q:fl(P,Q),K6(A,p,P,Q,w);case 7:return ui(A,p,p.pendingProps,w),p.child;case 8:return ui(A,p,p.pendingProps.children,w),p.child;case 12:return ui(A,p,p.pendingProps.children,w),p.child;case 10:e:{if(P=p.type._context,Q=p.pendingProps,K=p.memoizedProps,ie=Q.value,Yr(Js,P._currentValue),P._currentValue=ie,K!==null)if(Mr(K.value,ie)){if(K.children===Q.children&&!Ta.current){p=od(A,p,w);break e}}else for(K=p.child,K!==null&&(K.return=p);K!==null;){var we=K.dependencies;if(we!==null){ie=K.child;for(var Pe=we.firstContext;Pe!==null;){if(Pe.context===P){if(K.tag===1){Pe=Bi(-1,w&-w),Pe.tag=2;var Ye=K.updateQueue;if(Ye!==null){Ye=Ye.shared;var At=Ye.pending;At===null?Pe.next=Pe:(Pe.next=At.next,At.next=Pe),Ye.pending=Pe}}K.lanes|=w,Pe=K.alternate,Pe!==null&&(Pe.lanes|=w),Si(K.return,w,p),we.lanes|=w;break}Pe=Pe.next}}else if(K.tag===10)ie=K.type===p.type?null:K.child;else if(K.tag===18){if(ie=K.return,ie===null)throw Error(r(341));ie.lanes|=w,we=ie.alternate,we!==null&&(we.lanes|=w),Si(ie,w,p),ie=K.sibling}else ie=K.child;if(ie!==null)ie.return=K;else for(ie=K;ie!==null;){if(ie===p){ie=null;break}if(K=ie.sibling,K!==null){K.return=ie.return,ie=K;break}ie=ie.return}K=ie}ui(A,p,Q.children,w),p=p.child}return p;case 9:return Q=p.type,P=p.pendingProps.children,Fn(p,w),Q=Zn(Q),P=P(Q),p.flags|=1,ui(A,p,P,w),p.child;case 14:return P=p.type,Q=fl(P,p.pendingProps),Q=fl(P.type,Q),W6(A,p,P,Q,w);case 15:return G6(A,p,p.type,p.pendingProps,w);case 17:return P=p.type,Q=p.pendingProps,Q=p.elementType===P?Q:fl(P,Q),Cy(A,p),p.tag=1,Fa(P)?(A=!0,nd(p)):A=!1,Fn(p,w),U6(p,P,Q),U2(p,P,Q,w),q2(null,p,P,!0,A,w);case 19:return nP(A,p,w);case 22:return X6(A,p,w)}throw Error(r(156,p.tag))};function SP(A,p){return Pc(A,p)}function xX(A,p,w,P){this.tag=A,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Eo(A,p,w,P){return new xX(A,p,w,P)}function dj(A){return A=A.prototype,!(!A||!A.isReactComponent)}function yX(A){if(typeof A=="function")return dj(A)?1:0;if(A!=null){if(A=A.$$typeof,A===T)return 11;if(A===V)return 14}return 2}function Du(A,p){var w=A.alternate;return w===null?(w=Eo(A.tag,p,A.key,A.mode),w.elementType=A.elementType,w.type=A.type,w.stateNode=A.stateNode,w.alternate=A,A.alternate=w):(w.pendingProps=p,w.type=A.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=A.flags&14680064,w.childLanes=A.childLanes,w.lanes=A.lanes,w.child=A.child,w.memoizedProps=A.memoizedProps,w.memoizedState=A.memoizedState,w.updateQueue=A.updateQueue,p=A.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=A.sibling,w.index=A.index,w.ref=A.ref,w}function My(A,p,w,P,Q,K){var ie=2;if(P=A,typeof A=="function")dj(A)&&(ie=1);else if(typeof A=="string")ie=5;else e:switch(A){case M:return dA(w.children,Q,K,p);case S:ie=8,Q|=8;break;case k:return A=Eo(12,w,p,Q|2),A.elementType=k,A.lanes=K,A;case D:return A=Eo(13,w,p,Q),A.elementType=D,A.lanes=K,A;case L:return A=Eo(19,w,p,Q),A.elementType=L,A.lanes=K,A;case Z:return Ly(w,Q,K,p);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case I:ie=10;break e;case _:ie=9;break e;case T:ie=11;break e;case V:ie=14;break e;case z:ie=16,P=null;break e}throw Error(r(130,A==null?A:typeof A,""))}return p=Eo(ie,w,p,Q),p.elementType=A,p.type=P,p.lanes=K,p}function dA(A,p,w,P){return A=Eo(7,A,P,p),A.lanes=w,A}function Ly(A,p,w,P){return A=Eo(22,A,P,p),A.elementType=Z,A.lanes=w,A.stateNode={isHidden:!1},A}function uj(A,p,w){return A=Eo(6,A,null,p),A.lanes=w,A}function hj(A,p,w){return p=Eo(4,A.children!==null?A.children:[],A.key,p),p.lanes=w,p.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},p}function bX(A,p,w,P,Q){this.tag=p,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mh(0),this.expirationTimes=Mh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mh(0),this.identifierPrefix=P,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function Aj(A,p,w,P,Q,K,ie,we,Pe){return A=new bX(A,p,w,we,Pe),p===1?(p=1,K===!0&&(p|=8)):p=0,K=Eo(3,null,null,p),A.current=K,K.stateNode=A,K.memoizedState={element:P,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Im(K),A}function vX(A,p,w){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:P==null?null:""+P,children:A,containerInfo:p,implementation:w}}function BP(A){if(!A)return Zl;A=A._reactInternals;e:{if(Os(A)!==A||A.tag!==1)throw Error(r(170));var p=A;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Fa(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(A.tag===1){var w=A.type;if(Fa(w))return og(A,w,p)}return p}function EP(A,p,w,P,Q,K,ie,we,Pe){return A=Aj(w,P,!0,A,Q,K,ie,we,Pe),A.context=BP(null),w=A.current,P=hi(),Q=Ou(w),K=Bi(P,Q),K.callback=p??null,Ei(w,K,Q),A.current.lanes=Q,Rl(A,Q,P),Fi(A,P),A}function Ry(A,p,w,P){var Q=p.current,K=hi(),ie=Ou(Q);return w=BP(w),p.context===null?p.context=w:p.pendingContext=w,p=Bi(K,ie),p.payload={element:A},P=P===void 0?null:P,P!==null&&(p.callback=P),A=Ei(Q,p,ie),A!==null&&(xl(A,Q,ie,K),sd(A,Q,ie)),ie}function Uy(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function kP(A,p){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var w=A.retryLane;A.retryLane=w!==0&&w<p?w:p}}function mj(A,p){kP(A,p),(A=A.alternate)&&kP(A,p)}function wX(){return null}var PP=typeof reportError=="function"?reportError:function(A){console.error(A)};function fj(A){this._internalRoot=A}Qy.prototype.render=fj.prototype.render=function(A){var p=this._internalRoot;if(p===null)throw Error(r(409));Ry(A,p,null,null)},Qy.prototype.unmount=fj.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var p=A.containerInfo;oA(function(){Ry(null,A,null,null)}),p[Ys]=null}};function Qy(A){this._internalRoot=A}Qy.prototype.unstable_scheduleHydration=function(A){if(A){var p=mo();A={blockedOn:null,target:A,priority:p};for(var w=0;w<po.length&&p!==0&&p<po[w].priority;w++);po.splice(w,0,A),w===0&&eu(A)}};function pj(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function $y(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function TP(){}function jX(A,p,w,P,Q){if(Q){if(typeof P=="function"){var K=P;P=function(){var Ye=Uy(ie);K.call(Ye)}}var ie=EP(p,P,A,0,null,!1,!1,"",TP);return A._reactRootContainer=ie,A[Ys]=ie.current,Jc(A.nodeType===8?A.parentNode:A),oA(),ie}for(;Q=A.lastChild;)A.removeChild(Q);if(typeof P=="function"){var we=P;P=function(){var Ye=Uy(Pe);we.call(Ye)}}var Pe=Aj(A,0,!1,null,null,!1,!1,"",TP);return A._reactRootContainer=Pe,A[Ys]=Pe.current,Jc(A.nodeType===8?A.parentNode:A),oA(function(){Ry(p,Pe,w,P)}),Pe}function Hy(A,p,w,P,Q){var K=w._reactRootContainer;if(K){var ie=K;if(typeof Q=="function"){var we=Q;Q=function(){var Pe=Uy(ie);we.call(Pe)}}Ry(p,ie,A,Q)}else ie=jX(w,p,A,Q,P);return Uy(ie)}Nm=function(A){switch(A.tag){case 3:var p=A.stateNode;if(p.current.memoizedState.isDehydrated){var w=Ic(p.pendingLanes);w!==0&&(Yd(p,w|1),Fi(p,Bn()),(Lr&6)===0&&(Wm=Bn()+500,W()))}break;case 13:oA(function(){var P=Hr(A,1);if(P!==null){var Q=hi();xl(P,A,1,Q)}}),mj(A,1)}},Lh=function(A){if(A.tag===13){var p=Hr(A,134217728);if(p!==null){var w=hi();xl(p,A,134217728,w)}mj(A,134217728)}},_m=function(A){if(A.tag===13){var p=Ou(A),w=Hr(A,p);if(w!==null){var P=hi();xl(w,A,p,P)}mj(A,p)}},mo=function(){return Dr},Mc=function(A,p){var w=Dr;try{return Dr=A,p()}finally{Dr=w}},yr=function(A,p,w){switch(p){case"input":if(Me(A,w),p=w.name,w.type==="radio"&&p!=null){for(w=A;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var P=w[p];if(P!==A&&P.form===A.form){var Q=tA(P);if(!Q)throw Error(r(90));ye(P),Me(P,Q)}}}break;case"textarea":_t(A,w);break;case"select":p=w.value,p!=null&&Ze(A,!!w.multiple,p,!1)}},Qr=oj,Gt=oA;var NX={usingClientEntryPoint:!1,Events:[ju,td,tA,Xe,ft,oj]},yg={findFiberByHostInstance:Jl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_X={bundleType:yg.bundleType,version:yg.version,rendererPackageName:yg.rendererPackageName,rendererConfig:yg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=Dl(A),A===null?null:A.stateNode},findFiberByHostInstance:yg.findFiberByHostInstance||wX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qy.isDisabled&&qy.supportsFiber)try{Fc=qy.inject(_X),vi=qy}catch{}}return Oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NX,Oi.createPortal=function(A,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pj(p))throw Error(r(200));return vX(A,p,null,w)},Oi.createRoot=function(A,p){if(!pj(A))throw Error(r(299));var w=!1,P="",Q=PP;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(P=p.identifierPrefix),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError)),p=Aj(A,1,!1,null,null,w,!1,P,Q),A[Ys]=p.current,Jc(A.nodeType===8?A.parentNode:A),new fj(p)},Oi.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var p=A._reactInternals;if(p===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=Dl(p),A=A===null?null:A.stateNode,A},Oi.flushSync=function(A){return oA(A)},Oi.hydrate=function(A,p,w){if(!$y(p))throw Error(r(200));return Hy(null,A,p,!0,w)},Oi.hydrateRoot=function(A,p,w){if(!pj(A))throw Error(r(405));var P=w!=null&&w.hydratedSources||null,Q=!1,K="",ie=PP;if(w!=null&&(w.unstable_strictMode===!0&&(Q=!0),w.identifierPrefix!==void 0&&(K=w.identifierPrefix),w.onRecoverableError!==void 0&&(ie=w.onRecoverableError)),p=EP(p,null,A,1,w??null,Q,!1,K,ie),A[Ys]=p.current,Jc(A),P)for(A=0;A<P.length;A++)w=P[A],Q=w._getVersion,Q=Q(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,Q]:p.mutableSourceEagerHydrationData.push(w,Q);return new Qy(p)},Oi.render=function(A,p,w){if(!$y(p))throw Error(r(200));return Hy(null,A,p,!1,w)},Oi.unmountComponentAtNode=function(A){if(!$y(A))throw Error(r(40));return A._reactRootContainer?(oA(function(){Hy(null,null,A,!1,function(){A._reactRootContainer=null,A[Ys]=null})}),!0):!1},Oi.unstable_batchedUpdates=oj,Oi.unstable_renderSubtreeIntoContainer=function(A,p,w,P){if(!$y(w))throw Error(r(200));if(A==null||A._reactInternals===void 0)throw Error(r(38));return Hy(A,p,w,!1,P)},Oi.version="18.3.1-next-f1338f8080-20240426",Oi}var UP;function t9(){if(UP)return yj.exports;UP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yj.exports=IX(),yj.exports}var QP;function DX(){if(QP)return Vy;QP=1;var t=t9();return Vy.createRoot=t.createRoot,Vy.hydrateRoot=t.hydrateRoot,Vy}var MX=DX();const LX=Xr(MX);t9();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},F0.apply(this,arguments)}var Yu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yu||(Yu={}));const $P="popstate";function RX(t){t===void 0&&(t={});function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return Y4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:Cv(a)}return QX(e,r,null,t)}function Bs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function r9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UX(){return Math.random().toString(36).substr(2,8)}function HP(t,e){return{usr:t.state,key:t.key,idx:e}}function Y4(t,e,r,s){return r===void 0&&(r=null),F0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Mp(e):e,{state:r,key:e&&e.key||s||UX()})}function Cv(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Mp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function QX(t,e,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Yu.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(F0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Yu.Pop;let g=u(),x=g==null?null:g-d;d=g,c&&c({action:l,location:y.location,delta:x})}function m(g,x){l=Yu.Push;let v=Y4(y.location,g,x);d=u()+1;let j=HP(v,d),B=y.createHref(v);try{o.pushState(j,"",B)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(B)}i&&c&&c({action:l,location:y.location,delta:1})}function f(g,x){l=Yu.Replace;let v=Y4(y.location,g,x);d=u();let j=HP(v,d),B=y.createHref(v);o.replaceState(j,"",B),i&&c&&c({action:l,location:y.location,delta:0})}function b(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof g=="string"?g:Cv(g);return v=v.replace(/ $/,"%20"),Bs(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let y={get action(){return l},get location(){return t(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener($P,h),c=g,()=>{a.removeEventListener($P,h),c=null}},createHref(g){return e(a,g)},createURL:b,encodeLocation(g){let x=b(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:m,replace:f,go(g){return o.go(g)}};return y}var qP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qP||(qP={}));function $X(t,e,r){return r===void 0&&(r="/"),HX(t,e,r)}function HX(t,e,r,s){let a=typeof e=="string"?Mp(e):e,i=eE(a.pathname||"/",r);if(i==null)return null;let o=n9(t);qX(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=rY(i);l=ZX(o[c],d)}return l}function n9(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Bs(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=ih([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(Bs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),n9(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:YX(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of s9(i.path))a(i,o,c)}),e}function s9(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=s9(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:JX(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const zX=/^:[\w-]+$/,VX=3,KX=2,WX=1,GX=10,XX=-2,zP=t=>t==="*";function YX(t,e){let r=t.split("/"),s=r.length;return r.some(zP)&&(s+=XX),e&&(s+=KX),r.filter(a=>!zP(a)).reduce((a,i)=>a+(zX.test(i)?VX:i===""?WX:GX),s)}function JX(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function ZX(t,e,r){let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=eY({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ih([i,h.pathname]),pathnameBase:iY(ih([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=ih([i,h.pathnameBase]))}return o}function eY(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=tY(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:m,isOptional:f}=u;if(m==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[h];return f&&!b?d[m]=void 0:d[m]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function tY(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),r9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function rY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return r9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function nY(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:a=""}=typeof t=="string"?Mp(t):t;return{pathname:r?r.startsWith("/")?r:sY(r,e):e,search:oY(s),hash:lY(a)}}function sY(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function wj(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aY(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function a9(t,e){let r=aY(t);return e?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function i9(t,e,r,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=Mp(t):(a=F0({},t),Bs(!a.pathname||!a.pathname.includes("?"),wj("?","pathname","search",a)),Bs(!a.pathname||!a.pathname.includes("#"),wj("#","pathname","hash",a)),Bs(!a.search||!a.search.includes("#"),wj("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!s&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;a.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=nY(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ih=t=>t.join("/").replace(/\/\/+/g,"/"),iY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const o9=["post","put","patch","delete"];new Set(o9);const dY=["get",...o9];new Set(dY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},O0.apply(this,arguments)}const tE=F.createContext(null),uY=F.createContext(null),dm=F.createContext(null),i1=F.createContext(null),Ud=F.createContext({outlet:null,matches:[],isDataRoute:!1}),l9=F.createContext(null);function hY(t,e){let{relative:r}=e===void 0?{}:e;Qx()||Bs(!1);let{basename:s,navigator:a}=F.useContext(dm),{hash:i,pathname:o,search:l}=d9(t,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:ih([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Qx(){return F.useContext(i1)!=null}function Ch(){return Qx()||Bs(!1),F.useContext(i1).location}function c9(t){F.useContext(dm).static||F.useLayoutEffect(t)}function Vs(){let{isDataRoute:t}=F.useContext(Ud);return t?SY():AY()}function AY(){Qx()||Bs(!1);let t=F.useContext(tE),{basename:e,future:r,navigator:s}=F.useContext(dm),{matches:a}=F.useContext(Ud),{pathname:i}=Ch(),o=JSON.stringify(a9(a,r.v7_relativeSplatPath)),l=F.useRef(!1);return c9(()=>{l.current=!0}),F.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=i9(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ih([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}const mY=F.createContext(null);function fY(t){let e=F.useContext(Ud).outlet;return e&&F.createElement(mY.Provider,{value:t},e)}function rE(){let{matches:t}=F.useContext(Ud),e=t[t.length-1];return e?e.params:{}}function d9(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=F.useContext(dm),{matches:a}=F.useContext(Ud),{pathname:i}=Ch(),o=JSON.stringify(a9(a,s.v7_relativeSplatPath));return F.useMemo(()=>i9(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function pY(t,e){return gY(t,e)}function gY(t,e,r,s){Qx()||Bs(!1);let{navigator:a}=F.useContext(dm),{matches:i}=F.useContext(Ud),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Ch(),u;if(e){var h;let g=typeof e=="string"?Mp(e):e;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||Bs(!1),u=g}else u=d;let m=u.pathname||"/",f=m;if(c!=="/"){let g=c.replace(/^\//,"").split("/");f="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let b=$X(t,{pathname:f}),y=wY(b&&b.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ih([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ih([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return e&&y?F.createElement(i1.Provider,{value:{location:O0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Yu.Pop}},y):y}function xY(){let t=CY(),e=cY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:a},r):null,null)}const yY=F.createElement(xY,null);class bY extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?F.createElement(Ud.Provider,{value:this.props.routeContext},F.createElement(l9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vY(t){let{routeContext:e,match:r,children:s}=t,a=F.useContext(tE);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),F.createElement(Ud.Provider,{value:e},s)}function wY(t,e,r,s){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);u>=0||Bs(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:f}=r,b=h.route.loader&&m[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,m)=>{let f,b=!1,y=null,g=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||yY,c&&(d<0&&m===0?(BY("route-fallback"),b=!0,g=null):d===m&&(b=!0,g=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,m+1)),v=()=>{let j;return f?j=y:b?j=g:h.route.Component?j=F.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,F.createElement(vY,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?F.createElement(bY,{location:r.location,revalidation:r.revalidation,component:y,error:f,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var u9=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(u9||{}),h9=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(h9||{});function jY(t){let e=F.useContext(tE);return e||Bs(!1),e}function NY(t){let e=F.useContext(uY);return e||Bs(!1),e}function _Y(t){let e=F.useContext(Ud);return e||Bs(!1),e}function A9(t){let e=_Y(),r=e.matches[e.matches.length-1];return r.route.id||Bs(!1),r.route.id}function CY(){var t;let e=F.useContext(l9),r=NY(),s=A9();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function SY(){let{router:t}=jY(u9.UseNavigateStable),e=A9(h9.UseNavigateStable),r=F.useRef(!1);return c9(()=>{r.current=!0}),F.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,O0({fromRouteId:e},i)))},[t,e])}const VP={};function BY(t,e,r){VP[t]||(VP[t]=!0)}function EY(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function kY(t){return fY(t.context)}function Dt(t){Bs(!1)}function PY(t){let{basename:e="/",children:r=null,location:s,navigationType:a=Yu.Pop,navigator:i,static:o=!1,future:l}=t;Qx()&&Bs(!1);let c=e.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:c,navigator:i,static:o,future:O0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Mp(s));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:b="default"}=s,y=F.useMemo(()=>{let g=eE(u,c);return g==null?null:{location:{pathname:g,search:h,hash:m,state:f,key:b},navigationType:a}},[c,u,h,m,f,b,a]);return y==null?null:F.createElement(dm.Provider,{value:d},F.createElement(i1.Provider,{children:r,value:y}))}function TY(t){let{children:e,location:r}=t;return pY(J4(e),r)}new Promise(()=>{});function J4(t,e){e===void 0&&(e=[]);let r=[];return F.Children.forEach(t,(s,a)=>{if(!F.isValidElement(s))return;let i=[...e,a];if(s.type===F.Fragment){r.push.apply(r,J4(s.props.children,i));return}s.type!==Dt&&Bs(!1),!s.props.index||!s.props.children||Bs(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=J4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z4(){return Z4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Z4.apply(this,arguments)}function FY(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function OY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IY(t,e){return t.button===0&&(!e||e==="_self")&&!OY(t)}function eS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function DY(t,e){let r=eS(t);return e&&e.forEach((s,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const MY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LY="6";try{window.__reactRouterVersion=LY}catch{}const RY="startTransition",KP=TX[RY];function UY(t){let{basename:e,children:r,future:s,window:a}=t,i=F.useRef();i.current==null&&(i.current=RX({window:a,v5Compat:!0}));let o=i.current,[l,c]=F.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=F.useCallback(h=>{d&&KP?KP(()=>c(h)):c(h)},[c,d]);return F.useLayoutEffect(()=>o.listen(u),[o,u]),F.useEffect(()=>EY(s),[s]),F.createElement(PY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const QY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$Y=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=F.forwardRef(function(e,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=FY(e,MY),{basename:f}=F.useContext(dm),b,y=!1;if(typeof d=="string"&&$Y.test(d)&&(b=d,QY))try{let j=new URL(window.location.href),B=d.startsWith("//")?new URL(j.protocol+d):new URL(d),C=eE(B.pathname,f);B.origin===j.origin&&C!=null?d=C+B.search+B.hash:y=!0}catch{}let g=hY(d,{relative:a}),x=HY(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function v(j){s&&s(j),j.defaultPrevented||x(j)}return F.createElement("a",Z4({},m,{href:b||g,onClick:y||i?s:v,ref:r,target:c}))});var WP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(WP||(WP={}));var GP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GP||(GP={}));function HY(t,e){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Vs(),d=Ch(),u=d9(t,{relative:o});return F.useCallback(h=>{if(IY(h,r)){h.preventDefault();let m=s!==void 0?s:Cv(d)===Cv(u);c(t,{replace:m,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,t,i,o,l])}function m9(t){let e=F.useRef(eS(t)),r=F.useRef(!1),s=Ch(),a=F.useMemo(()=>DY(s.search,r.current?null:e.current),[s.search]),i=Vs(),o=F.useCallback((l,c)=>{const d=eS(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const nE=F.createContext({});function sE(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const aE=typeof window<"u",f9=aE?F.useLayoutEffect:F.useEffect,o1=F.createContext(null);function iE(t,e){t.indexOf(e)===-1&&t.push(e)}function oE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ed=(t,e,r)=>r>e?e:r<t?t:r;let lE=()=>{};const kd={},p9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function g9(t){return typeof t=="object"&&t!==null}const x9=t=>/^0[^.\s]+$/u.test(t);function cE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vo=t=>t,qY=(t,e)=>r=>e(t(r)),$x=(...t)=>t.reduce(qY),I0=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class dE{constructor(){this.subscriptions=[]}add(e){return iE(this.subscriptions,e),()=>oE(this.subscriptions,e)}notify(e,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pc=t=>t*1e3,Qo=t=>t/1e3;function y9(t,e){return e?t*(1e3/e):0}const b9=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,zY=1e-7,VY=12;function KY(t,e,r,s,a){let i,o,l=0;do o=e+(r-e)/2,i=b9(o,s,a)-t,i>0?r=o:e=o;while(Math.abs(i)>zY&&++l<VY);return o}function Hx(t,e,r,s){if(t===e&&r===s)return Vo;const a=i=>KY(i,0,1,t,r);return i=>i===0||i===1?i:b9(a(i),e,s)}const v9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,w9=t=>e=>1-t(1-e),j9=Hx(.33,1.53,.69,.99),uE=w9(j9),N9=v9(uE),_9=t=>(t*=2)<1?.5*uE(t):.5*(2-Math.pow(2,-10*(t-1))),hE=t=>1-Math.sin(Math.acos(t)),C9=w9(hE),S9=v9(hE),WY=Hx(.42,0,1,1),GY=Hx(0,0,.58,1),B9=Hx(.42,0,.58,1),XY=t=>Array.isArray(t)&&typeof t[0]!="number",E9=t=>Array.isArray(t)&&typeof t[0]=="number",YY={linear:Vo,easeIn:WY,easeInOut:B9,easeOut:GY,circIn:hE,circInOut:S9,circOut:C9,backIn:uE,backInOut:N9,backOut:j9,anticipate:_9},JY=t=>typeof t=="string",XP=t=>{if(E9(t)){lE(t.length===4);const[e,r,s,a]=t;return Hx(e,r,s,a)}else if(JY(t))return YY[t];return t},Ky=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZY(t,e){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,m=!1)=>{const b=m&&a?r:s;return h&&o.add(u),b.has(u)||b.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const eJ=40;function k9(t,e){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ky.reduce((j,B)=>(j[B]=ZY(i),j),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:b}=o,y=()=>{const j=kd.useManualTiming?a.timestamp:performance.now();r=!1,kd.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(j-a.timestamp,eJ),1)),a.timestamp=j,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),m.process(a),f.process(a),b.process(a),a.isProcessing=!1,r&&e&&(s=!1,t(y))},g=()=>{r=!0,s=!0,a.isProcessing||t(y)};return{schedule:Ky.reduce((j,B)=>{const C=o[B];return j[B]=(E,M=!1,S=!1)=>(r||g(),C.schedule(E,M,S)),j},{}),cancel:j=>{for(let B=0;B<Ky.length;B++)o[Ky[B]].cancel(j)},state:a,steps:o}}const{schedule:Hn,cancel:mh,state:wa,steps:jj}=k9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vo,!0);let av;function tJ(){av=void 0}const Ri={now:()=>(av===void 0&&Ri.set(wa.isProcessing||kd.useManualTiming?wa.timestamp:performance.now()),av),set:t=>{av=t,queueMicrotask(tJ)}},P9=t=>e=>typeof e=="string"&&e.startsWith(t),AE=P9("--"),rJ=P9("var(--"),mE=t=>rJ(t)?nJ.test(t.split("/*")[0].trim()):!1,nJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},D0={...Lp,transform:t=>Ed(0,1,t)},Wy={...Lp,default:1},a0=t=>Math.round(t*1e5)/1e5,fE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function sJ(t){return t==null}const aJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pE=(t,e)=>r=>!!(typeof r=="string"&&aJ.test(r)&&r.startsWith(t)||e&&!sJ(r)&&Object.prototype.hasOwnProperty.call(r,e)),T9=(t,e,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(fE);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},iJ=t=>Ed(0,255,t),Nj={...Lp,transform:t=>Math.round(iJ(t))},OA={test:pE("rgb","red"),parse:T9("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+Nj.transform(t)+", "+Nj.transform(e)+", "+Nj.transform(r)+", "+a0(D0.transform(s))+")"};function oJ(t){let e="",r="",s="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const tS={test:pE("#"),parse:oJ,transform:OA.transform},qx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$u=qx("deg"),gc=qx("%"),or=qx("px"),lJ=qx("vh"),cJ=qx("vw"),YP={...gc,parse:t=>gc.parse(t)/100,transform:t=>gc.transform(t*100)},Bf={test:pE("hsl","hue"),parse:T9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+gc.transform(a0(e))+", "+gc.transform(a0(r))+", "+a0(D0.transform(s))+")"},Cs={test:t=>OA.test(t)||tS.test(t)||Bf.test(t),parse:t=>OA.test(t)?OA.parse(t):Bf.test(t)?Bf.parse(t):tS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?OA.transform(t):Bf.transform(t),getAnimatableNone:t=>{const e=Cs.parse(t);return e.alpha=0,Cs.transform(e)}},dJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uJ(t){return isNaN(t)&&typeof t=="string"&&(t.match(fE)?.length||0)+(t.match(dJ)?.length||0)>0}const F9="number",O9="color",hJ="var",AJ="var(",JP="${}",mJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function M0(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(mJ,c=>(Cs.test(c)?(s.color.push(i),a.push(O9),r.push(Cs.parse(c))):c.startsWith(AJ)?(s.var.push(i),a.push(hJ),r.push(c)):(s.number.push(i),a.push(F9),r.push(parseFloat(c))),++i,JP)).split(JP);return{values:r,split:l,indexes:s,types:a}}function I9(t){return M0(t).values}function D9(t){const{split:e,types:r}=M0(t),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===F9?i+=a0(a[o]):l===O9?i+=Cs.transform(a[o]):i+=a[o]}return i}}const fJ=t=>typeof t=="number"?0:Cs.test(t)?Cs.getAnimatableNone(t):t;function pJ(t){const e=I9(t);return D9(t)(e.map(fJ))}const fh={test:uJ,parse:I9,createTransformer:D9,getAnimatableNone:pJ};function _j(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function gJ({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=_j(c,l,t+1/3),i=_j(c,l,t),o=_j(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function Sv(t,e){return r=>r>0?e:t}const Gn=(t,e,r)=>t+(e-t)*r,Cj=(t,e,r)=>{const s=t*t,a=r*(e*e-s)+s;return a<0?0:Math.sqrt(a)},xJ=[tS,OA,Bf],yJ=t=>xJ.find(e=>e.test(t));function ZP(t){const e=yJ(t);if(!e)return!1;let r=e.parse(t);return e===Bf&&(r=gJ(r)),r}const eT=(t,e)=>{const r=ZP(t),s=ZP(e);if(!r||!s)return Sv(t,e);const a={...r};return i=>(a.red=Cj(r.red,s.red,i),a.green=Cj(r.green,s.green,i),a.blue=Cj(r.blue,s.blue,i),a.alpha=Gn(r.alpha,s.alpha,i),OA.transform(a))},rS=new Set(["none","hidden"]);function bJ(t,e){return rS.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function vJ(t,e){return r=>Gn(t,e,r)}function gE(t){return typeof t=="number"?vJ:typeof t=="string"?mE(t)?Sv:Cs.test(t)?eT:NJ:Array.isArray(t)?M9:typeof t=="object"?Cs.test(t)?eT:wJ:Sv}function M9(t,e){const r=[...t],s=r.length,a=t.map((i,o)=>gE(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function wJ(t,e){const r={...t,...e},s={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(s[a]=gE(t[a])(t[a],e[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function jJ(t,e){const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][s[i]],l=t.values[o]??0;r[a]=l,s[i]++}return r}const NJ=(t,e)=>{const r=fh.createTransformer(e),s=M0(t),a=M0(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?rS.has(t)&&!a.values.length||rS.has(e)&&!s.values.length?bJ(t,e):$x(M9(jJ(s,a),a.values),r):Sv(t,e)};function L9(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Gn(t,e,r):gE(t)(t,e)}const _J=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Hn.update(e,r),stop:()=>mh(e),now:()=>wa.isProcessing?wa.timestamp:Ri.now()}},R9=(t,e,r=10)=>{let s="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)s+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Bv=2e4;function xE(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<Bv;)e+=r,s=t.next(e);return e>=Bv?1/0:e}function CJ(t,e=100,r){const s=r({...t,keyframes:[0,e]}),a=Math.min(xE(s),Bv);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:Qo(a)}}const SJ=5;function U9(t,e,r){const s=Math.max(e-SJ,0);return y9(r-t(s),e-s)}const ns={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sj=.001;function BJ({duration:t=ns.duration,bounce:e=ns.bounce,velocity:r=ns.velocity,mass:s=ns.mass}){let a,i,o=1-e;o=Ed(ns.minDamping,ns.maxDamping,o),t=Ed(ns.minDuration,ns.maxDuration,Qo(t)),o<1?(a=d=>{const u=d*o,h=u*t,m=u-r,f=nS(d,o),b=Math.exp(-h);return Sj-m/f*b},i=d=>{const h=d*o*t,m=h*r+r,f=Math.pow(o,2)*Math.pow(d,2)*t,b=Math.exp(-h),y=nS(Math.pow(d,2),o);return(-a(d)+Sj>0?-1:1)*((m-f)*b)/y}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-Sj+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=kJ(a,i,l);if(t=pc(t),isNaN(c))return{stiffness:ns.stiffness,damping:ns.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const EJ=12;function kJ(t,e,r){let s=r;for(let a=1;a<EJ;a++)s=s-t(s)/e(s);return s}function nS(t,e){return t*Math.sqrt(1-e*e)}const PJ=["duration","bounce"],TJ=["stiffness","damping","mass"];function tT(t,e){return e.some(r=>t[r]!==void 0)}function FJ(t){let e={velocity:ns.velocity,stiffness:ns.stiffness,damping:ns.damping,mass:ns.mass,isResolvedFromDuration:!1,...t};if(!tT(t,TJ)&&tT(t,PJ))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*Ed(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:ns.mass,stiffness:a,damping:i}}else{const r=BJ(t);e={...e,...r,mass:ns.mass},e.isResolvedFromDuration=!0}return e}function Ev(t=ns.visualDuration,e=ns.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=FJ({...r,velocity:-Qo(r.velocity||0)}),b=m||0,y=d/(2*Math.sqrt(c*u)),g=o-i,x=Qo(Math.sqrt(c/u)),v=Math.abs(g)<5;s||(s=v?ns.restSpeed.granular:ns.restSpeed.default),a||(a=v?ns.restDelta.granular:ns.restDelta.default);let j;if(y<1){const C=nS(x,y);j=E=>{const M=Math.exp(-y*x*E);return o-M*((b+y*x*g)/C*Math.sin(C*E)+g*Math.cos(C*E))}}else if(y===1)j=C=>o-Math.exp(-x*C)*(g+(b+x*g)*C);else{const C=x*Math.sqrt(y*y-1);j=E=>{const M=Math.exp(-y*x*E),S=Math.min(C*E,300);return o-M*((b+y*x*g)*Math.sinh(S)+C*g*Math.cosh(S))/C}}const B={calculatedDuration:f&&h||null,next:C=>{const E=j(C);if(f)l.done=C>=h;else{let M=C===0?b:0;y<1&&(M=C===0?pc(b):U9(j,C,E));const S=Math.abs(M)<=s,k=Math.abs(o-E)<=a;l.done=S&&k}return l.value=l.done?o:E,l},toString:()=>{const C=Math.min(xE(B),Bv),E=R9(M=>B.next(C*M).value,C,30);return C+"ms "+E},toTransition:()=>{}};return B}Ev.applyToOptions=t=>{const e=CJ(t,100,Ev);return t.ease=e.ease,t.duration=pc(e.duration),t.type="keyframes",t};function sS({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],m={done:!1,value:h},f=S=>l!==void 0&&S<l||c!==void 0&&S>c,b=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=r*e;const g=h+y,x=o===void 0?g:o(g);x!==g&&(y=x-h);const v=S=>-y*Math.exp(-S/s),j=S=>x+v(S),B=S=>{const k=v(S),I=j(S);m.done=Math.abs(k)<=d,m.value=m.done?x:I};let C,E;const M=S=>{f(m.value)&&(C=S,E=Ev({keyframes:[m.value,b(m.value)],velocity:U9(j,S,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return M(0),{calculatedDuration:null,next:S=>{let k=!1;return!E&&C===void 0&&(k=!0,B(S),M(S)),C!==void 0&&S>=C?E.next(S-C):(!k&&B(S),m)}}}function OJ(t,e,r){const s=[],a=r||kd.mix||L9,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Vo:e;l=$x(c,l)}s.push(l)}return s}function IJ(t,e,{clamp:r=!0,ease:s,mixer:a}={}){const i=t.length;if(lE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=OJ(e,s,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const m=I0(t[h],t[h+1],u);return l[h](m)};return r?u=>d(Ed(t[0],t[i-1],u)):d}function DJ(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const a=I0(0,e,s);t.push(Gn(r,1,a))}}function MJ(t){const e=[0];return DJ(e,t.length-1),e}function LJ(t,e){return t.map(r=>r*e)}function RJ(t,e){return t.map(()=>e||B9).splice(0,t.length-1)}function i0({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const a=XY(s)?s.map(XP):XP(s),i={done:!1,value:e[0]},o=LJ(r&&r.length===e.length?r:MJ(e),t),l=IJ(o,e,{ease:Array.isArray(a)?a:RJ(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const UJ=t=>t!==null;function yE(t,{repeat:e,repeatType:r="loop"},s,a=1){const i=t.filter(UJ),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const QJ={decay:sS,inertia:sS,tween:i0,keyframes:i0,spring:Ev};function Q9(t){typeof t.type=="string"&&(t.type=QJ[t.type])}class bE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const $J=t=>t/100;class vE extends bE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ri.now()&&this.tick(Ri.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Q9(e);const{type:r=i0,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||i0;c!==i0&&typeof l[0]!="number"&&(this.mixKeyframes=$x($J,L9(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=xE(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:b,onUpdate:y,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,B=s;if(h){const S=Math.min(this.currentTime,a)/l;let k=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&k--,k=Math.min(k,h+1),!!(k%2)&&(m==="reverse"?(I=1-I,f&&(I-=f/l)):m==="mirror"&&(B=o)),j=Ed(0,1,I)*l}const C=v?{done:!1,value:u[0]}:B.next(j);i&&(C.value=i(C.value));let{done:E}=C;!v&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return M&&b!==sS&&(C.value=yE(u,this.options,g,this.speed)),y&&y(C.value),M&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Qo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(this.currentTime)}set time(e){e=pc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ri.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Qo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=_J,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ri.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function HJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const IA=t=>t*180/Math.PI,aS=t=>{const e=IA(Math.atan2(t[1],t[0]));return iS(e)},qJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:aS,rotateZ:aS,skewX:t=>IA(Math.atan(t[1])),skewY:t=>IA(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},iS=t=>(t=t%360,t<0&&(t+=360),t),rT=aS,nT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),sT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),zJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:sT,scale:t=>(nT(t)+sT(t))/2,rotateX:t=>iS(IA(Math.atan2(t[6],t[5]))),rotateY:t=>iS(IA(Math.atan2(-t[2],t[0]))),rotateZ:rT,rotate:rT,skewX:t=>IA(Math.atan(t[4])),skewY:t=>IA(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function oS(t){return t.includes("scale")?1:0}function lS(t,e){if(!t||t==="none")return oS(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=zJ,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=qJ,a=l}if(!a)return oS(e);const i=s[e],o=a[1].split(",").map(KJ);return typeof i=="function"?i(o):o[i]}const VJ=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return lS(r,e)};function KJ(t){return parseFloat(t.trim())}const Rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Up=new Set(Rp),aT=t=>t===Lp||t===or,WJ=new Set(["x","y","z"]),GJ=Rp.filter(t=>!WJ.has(t));function XJ(t){const e=[];return GJ.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const qA={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>lS(e,"x"),y:(t,{transform:e})=>lS(e,"y")};qA.translateX=qA.x;qA.translateY=qA.y;const zA=new Set;let cS=!1,dS=!1,uS=!1;function $9(){if(dS){const t=Array.from(zA).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const a=XJ(s);a.length&&(r.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}dS=!1,cS=!1,zA.forEach(t=>t.complete(uS)),zA.clear()}function H9(){zA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dS=!0)})}function YJ(){uS=!0,H9(),$9(),uS=!1}class wE{constructor(e,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(zA.add(this),cS||(cS=!0,Hn.read(H9),Hn.resolveKeyframes($9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&r){const l=s.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}HJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),zA.delete(this)}cancel(){this.state==="scheduled"&&(zA.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const JJ=t=>t.startsWith("--");function ZJ(t,e,r){JJ(e)?t.style.setProperty(e,r):t.style[e]=r}const eZ=cE(()=>window.ScrollTimeline!==void 0),tZ={};function rZ(t,e){const r=cE(t);return()=>tZ[e]??r()}const q9=rZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qg=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,iT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qg([0,.65,.55,1]),circOut:qg([.55,0,1,.45]),backIn:qg([.31,.01,.66,-.59]),backOut:qg([.33,1.53,.69,.99])};function z9(t,e){if(t)return typeof t=="function"?q9()?R9(t,e):"ease-out":E9(t)?qg(t):Array.isArray(t)?t.map(r=>z9(r,e)||iT.easeOut):iT[t]}function nZ(t,e,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const h=z9(l,a);Array.isArray(h)&&(u.easing=h);const m={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),t.animate(u,m)}function V9(t){return typeof t=="function"&&"applyToOptions"in t}function sZ({type:t,...e}){return V9(t)&&q9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class aZ extends bE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,lE(typeof e.type!="string");const d=sZ(e);this.animation=nZ(r,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=yE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):ZJ(r,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qo(e)}get time(){return Qo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&eZ()?(this.animation.timeline=e,Vo):r(this)}}const K9={anticipate:_9,backInOut:N9,circInOut:S9};function iZ(t){return t in K9}function oZ(t){typeof t.ease=="string"&&iZ(t.ease)&&(t.ease=K9[t.ease])}const oT=10;class lZ extends aZ{constructor(e){oZ(e),Q9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new vE({...o,autoplay:!1}),c=pc(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-oT).value,l.sample(c).value,oT),l.stop()}}const lT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fh.test(t)||t==="0")&&!t.startsWith("url("));function cZ(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function dZ(t,e,r,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=lT(a,e),l=lT(i,e);return!o||!l?!1:cZ(t)||(r==="spring"||V9(r))&&s}function hS(t){t.duration=0,t.type="keyframes"}const uZ=new Set(["opacity","clipPath","filter","transform"]),hZ=cE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function AZ(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return hZ()&&r&&uZ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const mZ=40;class fZ extends bE{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ri.now();const m={autoplay:e,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},f=u?.KeyframeResolver||wE;this.keyframeResolver=new f(l,(b,y,g)=>this.onKeyframesResolved(b,y,m,!g),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Ri.now(),dZ(e,i,o,l)||((kd.instantAnimations||!c)&&u?.(yE(e,s,r)),e[0]=e[e.length-1],hS(s),s.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>mZ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},f=!d&&AZ(m)?new lZ({...m,element:m.motionValue.owner.current}):new vE(m);f.finished.then(()=>this.notifyFinished()).catch(Vo),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const pZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gZ(t){const e=pZ.exec(t);if(!e)return[,];const[,r,s,a]=e;return[`--${r??s}`,a]}function W9(t,e,r=1){const[s,a]=gZ(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return p9(o)?parseFloat(o):o}return mE(a)?W9(a,e,r+1):a}function jE(t,e){return t?.[e]??t?.default??t}const G9=new Set(["width","height","top","left","right","bottom",...Rp]),xZ={test:t=>t==="auto",parse:t=>t},X9=t=>e=>e.test(t),Y9=[Lp,or,gc,$u,cJ,lJ,xZ],cT=t=>Y9.find(X9(t));function yZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||x9(t):!0}const bZ=new Set(["brightness","contrast","saturate","opacity"]);function vZ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(fE)||[];if(!s)return t;const a=r.replace(s,"");let i=bZ.has(e)?1:0;return s!==r&&(i*=100),e+"("+i+a+")"}const wZ=/\b([a-z-]*)\(.*?\)/gu,AS={...fh,getAnimatableNone:t=>{const e=t.match(wZ);return e?e.map(vZ).join(" "):t}},dT={...Lp,transform:Math.round},jZ={rotate:$u,rotateX:$u,rotateY:$u,rotateZ:$u,scale:Wy,scaleX:Wy,scaleY:Wy,scaleZ:Wy,skew:$u,skewX:$u,skewY:$u,distance:or,translateX:or,translateY:or,translateZ:or,x:or,y:or,z:or,perspective:or,transformPerspective:or,opacity:D0,originX:YP,originY:YP,originZ:or},NE={borderWidth:or,borderTopWidth:or,borderRightWidth:or,borderBottomWidth:or,borderLeftWidth:or,borderRadius:or,radius:or,borderTopLeftRadius:or,borderTopRightRadius:or,borderBottomRightRadius:or,borderBottomLeftRadius:or,width:or,maxWidth:or,height:or,maxHeight:or,top:or,right:or,bottom:or,left:or,padding:or,paddingTop:or,paddingRight:or,paddingBottom:or,paddingLeft:or,margin:or,marginTop:or,marginRight:or,marginBottom:or,marginLeft:or,backgroundPositionX:or,backgroundPositionY:or,...jZ,zIndex:dT,fillOpacity:D0,strokeOpacity:D0,numOctaves:dT},NZ={...NE,color:Cs,backgroundColor:Cs,outlineColor:Cs,fill:Cs,stroke:Cs,borderColor:Cs,borderTopColor:Cs,borderRightColor:Cs,borderBottomColor:Cs,borderLeftColor:Cs,filter:AS,WebkitFilter:AS},J9=t=>NZ[t];function Z9(t,e){let r=J9(t);return r!==AS&&(r=fh),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const _Z=new Set(["auto","none","0"]);function CZ(t,e,r){let s=0,a;for(;s<t.length&&!a;){const i=t[s];typeof i=="string"&&!_Z.has(i)&&M0(i).values.length&&(a=t[s]),s++}if(a&&r)for(const i of e)t[i]=Z9(r,a)}class SZ extends wE{constructor(e,r,s,a,i){super(e,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),mE(d))){const u=W9(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!G9.has(s)||e.length!==2)return;const[a,i]=e,o=cT(a),l=cT(i);if(o!==l)if(aT(o)&&aT(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else qA[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||yZ(e[a]))&&s.push(a);s.length&&CZ(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qA[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=qA[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function BZ(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=r?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const e$=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function t$(t){return g9(t)&&"offsetHeight"in t}const uT=30,EZ=t=>!isNaN(parseFloat(t));class kZ{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Ri.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Ri.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=EZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new dE);const s=this.events[e].add(r);return e==="change"?()=>{s(),Hn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>uT)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,uT);return y9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ip(t,e){return new kZ(t,e)}const{schedule:_E}=k9(queueMicrotask,!1),Nl={x:!1,y:!1};function r$(){return Nl.x||Nl.y}function PZ(t){return t==="x"||t==="y"?Nl[t]?null:(Nl[t]=!0,()=>{Nl[t]=!1}):Nl.x||Nl.y?null:(Nl.x=Nl.y=!0,()=>{Nl.x=Nl.y=!1})}function n$(t,e){const r=BZ(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[r,a,()=>s.abort()]}function hT(t){return!(t.pointerType==="touch"||r$())}function TZ(t,e,r={}){const[s,a,i]=n$(t,r),o=l=>{if(!hT(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{hT(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const s$=(t,e)=>e?t===e?!0:s$(t,e.parentElement):!1,CE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,FZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function OZ(t){return FZ.has(t.tagName)||t.tabIndex!==-1}const iv=new WeakSet;function AT(t){return e=>{e.key==="Enter"&&t(e)}}function Bj(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const IZ=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=AT(()=>{if(iv.has(r))return;Bj(r,"down");const a=AT(()=>{Bj(r,"up")}),i=()=>Bj(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function mT(t){return CE(t)&&!r$()}function DZ(t,e,r={}){const[s,a,i]=n$(t,r),o=l=>{const c=l.currentTarget;if(!mT(l))return;iv.add(c);const d=e(c,l),u=(f,b)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),iv.has(c)&&iv.delete(c),mT(f)&&typeof d=="function"&&d(f,{success:b})},h=f=>{u(f,c===window||c===document||r.useGlobalTarget||s$(c,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),t$(l)&&(l.addEventListener("focus",d=>IZ(d,a)),!OZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function a$(t){return g9(t)&&"ownerSVGElement"in t}function MZ(t){return a$(t)&&t.tagName==="svg"}const Ga=t=>!!(t&&t.getVelocity),LZ=[...Y9,Cs,fh],RZ=t=>LZ.find(X9(t)),SE=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function fT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UZ(...t){return e=>{let r=!1;const s=t.map(a=>{const i=fT(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():fT(t[a],null)}}}}function QZ(...t){return F.useCallback(UZ(...t),t)}class $Z extends F.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=t$(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HZ({children:t,isPresent:e,anchorX:r,root:s}){const a=F.useId(),i=F.useRef(null),o=F.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=F.useContext(SE),c=QZ(i,t?.ref);return F.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:m,right:f}=o.current;if(e||!i.current||!d||!u)return;const b=r==="left"?`left: ${m}`:`right: ${f}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");l&&(y.nonce=l);const g=s??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${b}px !important;
            top: ${h}px !important;
          }
        `),()=>{g.contains(y)&&g.removeChild(y)}},[e]),n.jsx($Z,{isPresent:e,childRef:i,sizeRef:o,children:F.cloneElement(t,{ref:c})})}const qZ=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=sE(zZ),u=F.useId();let h=!0,m=F.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:f=>{d.set(f,!0);for(const b of d.values())if(!b)return;s&&s()},register:f=>(d.set(f,!1),()=>d.delete(f))}),[r,d,s]);return i&&h&&(m={...m}),F.useMemo(()=>{d.forEach((f,b)=>d.set(b,!1))},[r]),F.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),o==="popLayout"&&(t=n.jsx(HZ,{isPresent:r,anchorX:l,root:c,children:t})),n.jsx(o1.Provider,{value:m,children:t})};function zZ(){return new Map}function i$(t=!0){const e=F.useContext(o1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,i=F.useId();F.useEffect(()=>{if(t)return a(i)},[t]);const o=F.useCallback(()=>t&&s&&s(i),[i,s,t]);return!r&&s?[!1,o]:[!0]}const Gy=t=>t.key||"";function pT(t){const e=[];return F.Children.forEach(t,r=>{F.isValidElement(r)&&e.push(r)}),e}const Nt=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=i$(o),h=F.useMemo(()=>pT(t),[t]),m=o&&!d?[]:h.map(Gy),f=F.useRef(!0),b=F.useRef(h),y=sE(()=>new Map),[g,x]=F.useState(h),[v,j]=F.useState(h);f9(()=>{f.current=!1,b.current=h;for(let E=0;E<v.length;E++){const M=Gy(v[E]);m.includes(M)?y.delete(M):y.get(M)!==!0&&y.set(M,!1)}},[v,m.length,m.join("-")]);const B=[];if(h!==g){let E=[...h];for(let M=0;M<v.length;M++){const S=v[M],k=Gy(S);m.includes(k)||(E.splice(M,0,S),B.push(S))}return i==="wait"&&B.length&&(E=B),j(pT(E)),x(h),null}const{forceRender:C}=F.useContext(nE);return n.jsx(n.Fragment,{children:v.map(E=>{const M=Gy(E),S=o&&!d?!1:h===v||m.includes(M),k=()=>{if(y.has(M))y.set(M,!0);else return;let I=!0;y.forEach(_=>{_||(I=!1)}),I&&(C?.(),j(b.current),o&&u?.(),s&&s())};return n.jsx(qZ,{isPresent:S,initial:!f.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:S?void 0:k,anchorX:l,children:E},M)})})},o$=F.createContext({strict:!1}),gT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},op={};for(const t in gT)op[t]={isEnabled:e=>gT[t].some(r=>!!e[r])};function VZ(t){for(const e in t)op[e]={...op[e],...t[e]}}const KZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KZ.has(t)}let l$=t=>!kv(t);function WZ(t){typeof t=="function"&&(l$=e=>e.startsWith("on")?!kv(e):t(e))}try{WZ(require("@emotion/is-prop-valid").default)}catch{}function GZ(t,e,r){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(l$(a)||r===!0&&kv(a)||!e&&!kv(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const l1=F.createContext({});function c1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function L0(t){return typeof t=="string"||Array.isArray(t)}const BE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EE=["initial",...BE];function d1(t){return c1(t.animate)||EE.some(e=>L0(t[e]))}function c$(t){return!!(d1(t)||t.variants)}function XZ(t,e){if(d1(t)){const{initial:r,animate:s}=t;return{initial:r===!1||L0(r)?r:void 0,animate:L0(s)?s:void 0}}return t.inherit!==!1?e:{}}function YZ(t){const{initial:e,animate:r}=XZ(t,F.useContext(l1));return F.useMemo(()=>({initial:e,animate:r}),[xT(e),xT(r)])}function xT(t){return Array.isArray(t)?t.join(" "):t}const R0={};function JZ(t){for(const e in t)R0[e]=t[e],AE(e)&&(R0[e].isCSSVariable=!0)}function d$(t,{layout:e,layoutId:r}){return Up.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!R0[t]||t==="opacity")}const ZZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eee=Rp.length;function tee(t,e,r){let s="",a=!0;for(let i=0;i<eee;i++){const o=Rp[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=e$(l,NE[o]);if(!c){a=!1;const u=ZZ[o]||o;s+=`${u}(${d}) `}r&&(e[o]=d)}}return s=s.trim(),r?s=r(e,a?"":s):a&&(s="none"),s}function kE(t,e,r){const{style:s,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Up.has(c)){o=!0;continue}else if(AE(c)){a[c]=d;continue}else{const u=e$(d,NE[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||r?s.transform=tee(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const PE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u$(t,e,r){for(const s in e)!Ga(e[s])&&!d$(s,r)&&(t[s]=e[s])}function ree({transformTemplate:t},e){return F.useMemo(()=>{const r=PE();return kE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function nee(t,e){const r=t.style||{},s={};return u$(s,r,t),Object.assign(s,ree(t,e)),s}function see(t,e){const r={},s=nee(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const aee={offset:"stroke-dashoffset",array:"stroke-dasharray"},iee={offset:"strokeDashoffset",array:"strokeDasharray"};function oee(t,e,r=1,s=0,a=!0){t.pathLength=1;const i=a?aee:iee;t[i.offset]=or.transform(-s);const o=or.transform(e),l=or.transform(r);t[i.array]=`${o} ${l}`}function h$(t,{attrX:e,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(kE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&oee(h,a,i,o,!1)}const A$=()=>({...PE(),attrs:{}}),m$=t=>typeof t=="string"&&t.toLowerCase()==="svg";function lee(t,e,r,s){const a=F.useMemo(()=>{const i=A$();return h$(i,e,m$(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};u$(i,t.style,t),a.style={...i,...a.style}}return a}const cee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TE(t){return typeof t!="string"||t.includes("-")?!1:!!(cee.indexOf(t)>-1||/[A-Z]/u.test(t))}function dee(t,e,r,{latestValues:s},a,i=!1){const l=(TE(t)?lee:see)(e,s,a,t),c=GZ(e,typeof t=="string",i),d=t!==F.Fragment?{...c,...l,ref:r}:{},{children:u}=e,h=F.useMemo(()=>Ga(u)?u.get():u,[u]);return F.createElement(t,{...d,children:h})}function yT(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function FE(t,e,r,s){if(typeof e=="function"){const[a,i]=yT(s);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=yT(s);e=e(r!==void 0?r:t.custom,a,i)}return e}function ov(t){return Ga(t)?t.get():t}function uee({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,a){return{latestValues:hee(r,s,a,t),renderState:e()}}function hee(t,e,r,s){const a={},i=s(t,{});for(const m in i)a[m]=ov(i[m]);let{initial:o,animate:l}=t;const c=d1(t),d=c$(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!c1(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const b=FE(t,m[f]);if(b){const{transitionEnd:y,transition:g,...x}=b;for(const v in x){let j=x[v];if(Array.isArray(j)){const B=u?j.length-1:0;j=j[B]}j!==null&&(a[v]=j)}for(const v in y)a[v]=y[v]}}}return a}const f$=t=>(e,r)=>{const s=F.useContext(l1),a=F.useContext(o1),i=()=>uee(t,e,s,a);return r?i():sE(i)};function OE(t,e,r){const{style:s}=t,a={};for(const i in s)(Ga(s[i])||e.style&&Ga(e.style[i])||d$(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const Aee=f$({scrapeMotionValuesFromProps:OE,createRenderState:PE});function p$(t,e,r){const s=OE(t,e,r);for(const a in t)if(Ga(t[a])||Ga(e[a])){const i=Rp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=t[a]}return s}const mee=f$({scrapeMotionValuesFromProps:p$,createRenderState:A$}),fee=Symbol.for("motionComponentSymbol");function Ef(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pee(t,e,r){return F.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):Ef(r)&&(r.current=s))},[e])}const IE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gee="framerAppearId",g$="data-"+IE(gee),x$=F.createContext({});function xee(t,e,r,s,a){const{visualElement:i}=F.useContext(l1),o=F.useContext(o$),l=F.useContext(o1),c=F.useContext(SE).reducedMotion,d=F.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=F.useContext(x$);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&yee(d.current,r,a,h);const m=F.useRef(!1);F.useInsertionEffect(()=>{u&&m.current&&u.update(r,l)});const f=r[g$],b=F.useRef(!!f&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return f9(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),b.current&&u.animationState&&u.animationState.animateChanges())}),F.useEffect(()=>{u&&(!b.current&&u.animationState&&u.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),b.current=!1),u.enteringChildren=void 0)}),u}function yee(t,e,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:y$(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&Ef(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function y$(t){if(t)return t.options.allowProjection!==!1?t.projection:y$(t.parent)}function Ej(t,{forwardMotionProps:e=!1}={},r,s){r&&VZ(r);const a=TE(t)?mee:Aee;function i(l,c){let d;const u={...F.useContext(SE),...l,layoutId:bee(l)},{isStatic:h}=u,m=YZ(l),f=a(l,h);if(!h&&aE){vee();const b=wee(u);d=b.MeasureLayout,m.visualElement=xee(t,f,u,s,b.ProjectionNode)}return n.jsxs(l1.Provider,{value:m,children:[d&&m.visualElement?n.jsx(d,{visualElement:m.visualElement,...u}):null,dee(t,l,pee(f,m.visualElement,c),f,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=F.forwardRef(i);return o[fee]=t,o}function bee({layoutId:t}){const e=F.useContext(nE).id;return e&&t!==void 0?e+"-"+t:t}function vee(t,e){F.useContext(o$).strict}function wee(t){const{drag:e,layout:r}=op;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function jee(t,e){if(typeof Proxy>"u")return Ej;const r=new Map,s=(i,o)=>Ej(i,o,t,e),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,Ej(o,void 0,t,e)),r.get(o))})}function b$({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function Nee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _ee(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function kj(t){return t===void 0||t===1}function mS({scale:t,scaleX:e,scaleY:r}){return!kj(t)||!kj(e)||!kj(r)}function vA(t){return mS(t)||v$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function v$(t){return bT(t.x)||bT(t.y)}function bT(t){return t&&t!=="0%"}function Pv(t,e,r){const s=t-r,a=e*s;return r+a}function vT(t,e,r,s,a){return a!==void 0&&(t=Pv(t,a,s)),Pv(t,r,s)+e}function fS(t,e=0,r=1,s,a){t.min=vT(t.min,e,r,s,a),t.max=vT(t.max,e,r,s,a)}function w$(t,{x:e,y:r}){fS(t.x,e.translate,e.scale,e.originPoint),fS(t.y,r.translate,r.scale,r.originPoint)}const wT=.999999999999,jT=1.0000000000001;function Cee(t,e,r,s=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Pf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,w$(t,o)),s&&vA(i.latestValues)&&Pf(t,i.latestValues))}e.x<jT&&e.x>wT&&(e.x=1),e.y<jT&&e.y>wT&&(e.y=1)}function kf(t,e){t.min=t.min+e,t.max=t.max+e}function NT(t,e,r,s,a=.5){const i=Gn(t.min,t.max,a);fS(t,e,r,i,s)}function Pf(t,e){NT(t.x,e.x,e.scaleX,e.scale,e.originX),NT(t.y,e.y,e.scaleY,e.scale,e.originY)}function j$(t,e){return b$(_ee(t.getBoundingClientRect(),e))}function See(t,e,r){const s=j$(t,r),{scroll:a}=e;return a&&(kf(s.x,a.offset.x),kf(s.y,a.offset.y)),s}const _T=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tf=()=>({x:_T(),y:_T()}),CT=()=>({min:0,max:0}),hs=()=>({x:CT(),y:CT()}),pS={current:null},N$={current:!1};function Bee(){if(N$.current=!0,!!aE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>pS.current=t.matches;t.addEventListener("change",e),e()}else pS.current=!1}const Eee=new WeakMap;function kee(t,e,r){for(const s in e){const a=e[s],i=r[s];if(Ga(a))t.addValue(s,a);else if(Ga(i))t.addValue(s,ip(a,{owner:t}));else if(i!==a)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(s);t.addValue(s,ip(o!==void 0?o:a,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const ST=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pee{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ri.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Hn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=d1(r),this.isVariantNode=c$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const f=h[m];c[m]!==void 0&&Ga(f)&&f.set(c[m])}}mount(e){this.current=e,Eee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),N$.current||Bee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pS.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),mh(this.notifyUpdate),mh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Up.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Hn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in op){const r=op[e];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<ST.length;s++){const a=ST[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=kee(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=ip(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(p9(s)||x9(s))?s=parseFloat(s):!RZ(s)&&fh.test(r)&&(s=Z9(e,r)),this.setBaseTarget(e,Ga(s)?s.get():s)),Ga(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=FE(this.props,r,this.presenceContext?.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Ga(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new dE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){_E.render(this.render)}}class _$ extends Pee{constructor(){super(...arguments),this.KeyframeResolver=SZ}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ga(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function C$(t,{style:e,vars:r},s,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function Tee(t){return window.getComputedStyle(t)}class Fee extends _${constructor(){super(...arguments),this.type="html",this.renderInstance=C$}readValueFromInstance(e,r){if(Up.has(r))return this.projection?.isProjecting?oS(r):VJ(e,r);{const s=Tee(e),a=(AE(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return j$(e,r)}build(e,r,s){kE(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return OE(e,r,s)}}const S$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Oee(t,e,r,s){C$(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(S$.has(a)?a:IE(a),e.attrs[a])}class Iee extends _${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Up.has(r)){const s=J9(r);return s&&s.default||0}return r=S$.has(r)?r:IE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return p$(e,r,s)}build(e,r,s){h$(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,a){Oee(e,r,s,a)}mount(e){this.isSVGTag=m$(e.tagName),super.mount(e)}}const Dee=(t,e)=>TE(t)?new Iee(e):new Fee(e,{allowProjection:t!==F.Fragment});function $f(t,e,r){const s=t.getProps();return FE(s,e,r!==void 0?r:s.custom,t)}const gS=t=>Array.isArray(t);function Mee(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ip(r))}function Lee(t){return gS(t)?t[t.length-1]||0:t}function Ree(t,e){const r=$f(t,e);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=Lee(i[o]);Mee(t,o,l)}}function Uee(t){return!!(Ga(t)&&t.add)}function xS(t,e){const r=t.getValue("willChange");if(Uee(r))return r.add(e);if(!r&&kd.WillChange){const s=new kd.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function B$(t){return t.props[g$]}const Qee=t=>t!==null;function $ee(t,{repeat:e,repeatType:r="loop"},s){const a=t.filter(Qee),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Hee={type:"spring",stiffness:500,damping:25,restSpeed:10},qee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),zee={type:"keyframes",duration:.8},Vee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kee=(t,{keyframes:e})=>e.length>2?zee:Up.has(t)?t.startsWith("scale")?qee(e[1]):Hee:Vee;function Wee({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const DE=(t,e,r,s={},a,i)=>o=>{const l=jE(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-pc(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};Wee(l)||Object.assign(u,Kee(t,u)),u.duration&&(u.duration=pc(u.duration)),u.repeatDelay&&(u.repeatDelay=pc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(hS(u),u.delay===0&&(h=!0)),(kd.instantAnimations||kd.skipAnimations)&&(h=!0,hS(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const m=$ee(u.keyframes,l);if(m!==void 0){Hn.update(()=>{u.onUpdate(m),u.onComplete()});return}}return l.isSync?new vE(u):new fZ(u)};function Gee({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function E$(t,e,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),m=l[u];if(m===void 0||d&&Gee(d,u))continue;const f={delay:r,...jE(i||{},u)},b=h.get();if(b!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===b&&!f.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const x=B$(t);if(x){const v=window.MotionHandoffAnimation(x,u,Hn);v!==null&&(f.startTime=v,y=!0)}}xS(t,u),h.start(DE(u,h,m,t.shouldReduceMotion&&G9.has(u)?{type:!1}:f,t,y));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{Hn.update(()=>{o&&Ree(t,o)})}),c}function k$(t,e,r,s=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:l-i*s}function yS(t,e,r={}){const s=$f(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(E$(t,s,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return Xee(t,e,c,d,u,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function Xee(t,e,r=0,s=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(yS(c,e,{...o,delay:r+(typeof s=="function"?0:s)+k$(t.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Yee(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>yS(t,i,r));s=Promise.all(a)}else if(typeof e=="string")s=yS(t,e,r);else{const a=typeof e=="function"?$f(t,e,r.custom):e;s=Promise.all(E$(t,a,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function P$(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const Jee=EE.length;function T$(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?T$(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Jee;r++){const s=EE[r],a=t.props[s];(L0(a)||a===!1)&&(e[s]=a)}return e}const Zee=[...BE].reverse(),ete=BE.length;function tte(t){return e=>Promise.all(e.map(({animation:r,options:s})=>Yee(t,r,s)))}function rte(t){let e=tte(t),r=BT(),s=!0;const a=c=>(d,u)=>{const h=$f(t,u,c==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:m,transitionEnd:f,...b}=h;d={...d,...b,...f}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=T$(t.parent)||{},h=[],m=new Set;let f={},b=1/0;for(let g=0;g<ete;g++){const x=Zee[g],v=r[x],j=d[x]!==void 0?d[x]:u[x],B=L0(j),C=x===c?v.isActive:null;C===!1&&(b=g);let E=j===u[x]&&j!==d[x]&&B;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),v.protectedKeys={...f},!v.isActive&&C===null||!j&&!v.prevProp||c1(j)||typeof j=="boolean")continue;const M=nte(v.prevProp,j);let S=M||x===c&&v.isActive&&!E&&B||g>b&&B,k=!1;const I=Array.isArray(j)?j:[j];let _=I.reduce(a(x),{});C===!1&&(_={});const{prevResolvedValues:T={}}=v,D={...T,..._},L=Z=>{S=!0,m.has(Z)&&(k=!0,m.delete(Z)),v.needsAnimating[Z]=!0;const G=t.getValue(Z);G&&(G.liveStyle=!1)};for(const Z in D){const G=_[Z],H=T[Z];if(f.hasOwnProperty(Z))continue;let ee=!1;gS(G)&&gS(H)?ee=!P$(G,H):ee=G!==H,ee?G!=null?L(Z):m.add(Z):G!==void 0&&m.has(Z)?L(Z):v.protectedKeys[Z]=!0}v.prevProp=j,v.prevResolvedValues=_,v.isActive&&(f={...f,..._}),s&&t.blockInitialAnimation&&(S=!1);const V=E&&M;S&&(!V||k)&&h.push(...I.map(Z=>{const G={type:x};if(typeof Z=="string"&&s&&!V&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ee=$f(H,Z);if(H.enteringChildren&&ee){const{delayChildren:Y}=ee.transition||{};G.delay=k$(H.enteringChildren,t,Y)}}return{animation:Z,options:G}}))}if(m.size){const g={};if(typeof d.initial!="boolean"){const x=$f(t,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(g.transition=x.transition)}m.forEach(x=>{const v=t.getBaseTarget(x),j=t.getValue(x);j&&(j.liveStyle=!0),g[x]=v??null}),h.push({animation:g})}let y=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(h):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=BT()}}}function nte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!P$(e,t):!1}function uA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BT(){return{animate:uA(!0),whileInView:uA(),whileHover:uA(),whileTap:uA(),whileDrag:uA(),whileFocus:uA(),exit:uA()}}class Sh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ste extends Sh{constructor(e){super(e),e.animationState||(e.animationState=rte(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();c1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ate=0;class ite extends Sh{constructor(){super(...arguments),this.id=ate++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ote={animation:{Feature:ste},exit:{Feature:ite}};function U0(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function zx(t){return{point:{x:t.pageX,y:t.pageY}}}const lte=t=>e=>CE(e)&&t(e,zx(e));function o0(t,e,r,s){return U0(t,e,lte(r),s)}const F$=1e-4,cte=1-F$,dte=1+F$,O$=.01,ute=0-O$,hte=0+O$;function mi(t){return t.max-t.min}function Ate(t,e,r){return Math.abs(t-e)<=r}function ET(t,e,r,s=.5){t.origin=s,t.originPoint=Gn(e.min,e.max,t.origin),t.scale=mi(r)/mi(e),t.translate=Gn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=cte&&t.scale<=dte||isNaN(t.scale))&&(t.scale=1),(t.translate>=ute&&t.translate<=hte||isNaN(t.translate))&&(t.translate=0)}function l0(t,e,r,s){ET(t.x,e.x,r.x,s?s.originX:void 0),ET(t.y,e.y,r.y,s?s.originY:void 0)}function kT(t,e,r){t.min=r.min+e.min,t.max=t.min+mi(e)}function mte(t,e,r){kT(t.x,e.x,r.x),kT(t.y,e.y,r.y)}function PT(t,e,r){t.min=e.min-r.min,t.max=t.min+mi(e)}function c0(t,e,r){PT(t.x,e.x,r.x),PT(t.y,e.y,r.y)}function Io(t){return[t("x"),t("y")]}const I$=({current:t})=>t?t.ownerDocument.defaultView:null,TT=(t,e)=>Math.abs(t-e);function fte(t,e){const r=TT(t.x,e.x),s=TT(t.y,e.y);return Math.sqrt(r**2+s**2)}class D${constructor(e,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Tj(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,b=fte(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!b)return;const{point:y}=m,{timestamp:g}=wa;this.history.push({...y,timestamp:g});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,m)},this.handlePointerMove=(m,f)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Pj(f,this.transformPagePoint),Hn.update(this.updatePoint,!0)},this.handlePointerUp=(m,f)=>{this.end();const{onEnd:b,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Tj(m.type==="pointercancel"?this.lastMoveEventInfo:Pj(f,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,x),y&&y(m,x)},!CE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=zx(e),c=Pj(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=wa;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(e,Tj(c,this.history)),this.removeListeners=$x(o0(this.contextWindow,"pointermove",this.handlePointerMove),o0(this.contextWindow,"pointerup",this.handlePointerUp),o0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mh(this.updatePoint)}}function Pj(t,e){return e?{point:e(t.point)}:t}function FT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tj({point:t},e){return{point:t,delta:FT(t,M$(e)),offset:FT(t,pte(e)),velocity:gte(e,.1)}}function pte(t){return t[0]}function M$(t){return t[t.length-1]}function gte(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const a=M$(t);for(;r>=0&&(s=t[r],!(a.timestamp-s.timestamp>pc(e)));)r--;if(!s)return{x:0,y:0};const i=Qo(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function xte(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Gn(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Gn(r,t,s.max):Math.min(t,r)),t}function OT(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function yte(t,{top:e,left:r,bottom:s,right:a}){return{x:OT(t.x,r,a),y:OT(t.y,e,s)}}function IT(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function bte(t,e){return{x:IT(t.x,e.x),y:IT(t.y,e.y)}}function vte(t,e){let r=.5;const s=mi(t),a=mi(e);return a>s?r=I0(e.min,e.max-s,t.min):s>a&&(r=I0(t.min,t.max-a,e.min)),Ed(0,1,r)}function wte(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const bS=.35;function jte(t=bS){return t===!1?t=0:t===!0&&(t=bS),{x:DT(t,"left","right"),y:DT(t,"top","bottom")}}function DT(t,e,r){return{min:MT(t,e),max:MT(t,r)}}function MT(t,e){return typeof t=="number"?t:t[e]||0}const Nte=new WeakMap;class _te{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(zx(h).point)},o=(h,m)=>{const{drag:f,dragPropagation:b,onDragStart:y}=this.getProps();if(f&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PZ(f),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Io(x=>{let v=this.getAxisMotionValue(x).get()||0;if(gc.test(v)){const{projection:j}=this.visualElement;if(j&&j.layout){const B=j.layout.layoutBox[x];B&&(v=mi(B)*(parseFloat(v)/100))}}this.originPoint[x]=v}),y&&Hn.postRender(()=>y(h,m)),xS(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:f,dragDirectionLock:b,onDirectionLock:y,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:x}=m;if(b&&this.currentDirection===null){this.currentDirection=Cte(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,x),this.updateAxis("y",m.point,x),this.visualElement.render(),g&&g(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Io(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new D$(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:I$(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Hn.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:a}=this.getProps();if(!s||!Xy(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=xte(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ef(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=yte(s.layoutBox,e):this.constraints=!1,this.elastic=jte(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Io(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=wte(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ef(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=See(s,a.root,this.visualElement.getTransformPagePoint());let o=bte(a.layout.layoutBox,i);if(r){const l=r(Nee(o));this.hasMutatedConstraints=!!l,l&&(o=b$(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Io(u=>{if(!Xy(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,b={type:"inertia",velocity:s?e[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,b)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return xS(this.visualElement,e),s.start(DE(e,s,0,r,this.visualElement,!1))}stopAnimation(){Io(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Io(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Io(r=>{const{drag:s}=this.getProps();if(!Xy(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Gn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!Ef(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Io(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=vte({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Io(o=>{if(!Xy(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Gn(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Nte.set(this.visualElement,this);const e=this.visualElement.current,r=o0(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ef(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Hn.read(s);const o=U0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Io(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=bS,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Xy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Cte(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Ste extends Sh{constructor(e){super(e),this.removeGroupControls=Vo,this.removeListeners=Vo,this.controls=new _te(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vo}unmount(){this.removeGroupControls(),this.removeListeners()}}const LT=t=>(e,r)=>{t&&Hn.postRender(()=>t(e,r))};class Bte extends Sh{constructor(){super(...arguments),this.removePointerDownListener=Vo}onPointerDown(e){this.session=new D$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:LT(e),onStart:LT(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Hn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=o0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const lv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const vg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(or.test(t))t=parseFloat(t);else return t;const r=RT(t,e.target.x),s=RT(t,e.target.y);return`${r}% ${s}%`}},Ete={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,a=fh.parse(t);if(a.length>5)return s;const i=fh.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Gn(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let Fj=!1;class kte extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;JZ(Pte),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),Fj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,Fj=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Hn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_E.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=e;Fj=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L$(t){const[e,r]=i$(),s=F.useContext(nE);return n.jsx(kte,{...t,layoutGroup:s,switchLayoutGroup:F.useContext(x$),isPresent:e,safeToRemove:r})}const Pte={borderRadius:{...vg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vg,borderTopRightRadius:vg,borderBottomLeftRadius:vg,borderBottomRightRadius:vg,boxShadow:Ete};function Tte(t,e,r){const s=Ga(t)?t:ip(t);return s.start(DE("",s,e,r)),s.animation}const Fte=(t,e)=>t.depth-e.depth;class Ote{constructor(){this.children=[],this.isDirty=!1}add(e){iE(this.children,e),this.isDirty=!0}remove(e){oE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Fte),this.isDirty=!1,this.children.forEach(e)}}function Ite(t,e){const r=Ri.now(),s=({timestamp:a})=>{const i=a-r;i>=e&&(mh(s),t(i-e))};return Hn.setup(s,!0),()=>mh(s)}const R$=["TopLeft","TopRight","BottomLeft","BottomRight"],Dte=R$.length,UT=t=>typeof t=="string"?parseFloat(t):t,QT=t=>typeof t=="number"||or.test(t);function Mte(t,e,r,s,a,i){a?(t.opacity=Gn(0,r.opacity??1,Lte(s)),t.opacityExit=Gn(e.opacity??1,0,Rte(s))):i&&(t.opacity=Gn(e.opacity??1,r.opacity??1,s));for(let o=0;o<Dte;o++){const l=`border${R$[o]}Radius`;let c=$T(e,l),d=$T(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||QT(c)===QT(d)?(t[l]=Math.max(Gn(UT(c),UT(d),s),0),(gc.test(d)||gc.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Gn(e.rotate||0,r.rotate||0,s))}function $T(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Lte=U$(0,.5,C9),Rte=U$(.5,.95,Vo);function U$(t,e,r){return s=>s<t?0:s>e?1:r(I0(t,e,s))}function HT(t,e){t.min=e.min,t.max=e.max}function ko(t,e){HT(t.x,e.x),HT(t.y,e.y)}function qT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zT(t,e,r,s,a){return t-=e,t=Pv(t,1/r,s),a!==void 0&&(t=Pv(t,1/a,s)),t}function Ute(t,e=0,r=1,s=.5,a,i=t,o=t){if(gc.test(e)&&(e=parseFloat(e),e=Gn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Gn(i.min,i.max,s);t===i&&(l-=e),t.min=zT(t.min,e,r,l,a),t.max=zT(t.max,e,r,l,a)}function VT(t,e,[r,s,a],i,o){Ute(t,e[r],e[s],e[a],e.scale,i,o)}const Qte=["x","scaleX","originX"],$te=["y","scaleY","originY"];function KT(t,e,r,s){VT(t.x,e,Qte,r?r.x:void 0,s?s.x:void 0),VT(t.y,e,$te,r?r.y:void 0,s?s.y:void 0)}function WT(t){return t.translate===0&&t.scale===1}function Q$(t){return WT(t.x)&&WT(t.y)}function GT(t,e){return t.min===e.min&&t.max===e.max}function Hte(t,e){return GT(t.x,e.x)&&GT(t.y,e.y)}function XT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $$(t,e){return XT(t.x,e.x)&&XT(t.y,e.y)}function YT(t){return mi(t.x)/mi(t.y)}function JT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class qte{constructor(){this.members=[]}add(e){iE(this.members,e),e.scheduleRender()}remove(e){if(oE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zte(t,e,r){let s="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:b}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),f&&(s+=`skewX(${f}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Oj=["","X","Y","Z"],Vte=1e3;let Kte=0;function Ij(t,e,r,s){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function H$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=B$(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Hn,!(a||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&H$(s)}function q$({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=Kte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xte),this.nodes.forEach(ere),this.nodes.forEach(tre),this.nodes.forEach(Yte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ote)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new dE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=a$(o)&&!MZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;Hn.read(()=>{h=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==h&&(h=f,this.root.updateBlockedByResize=!0,u&&u(),u=Ite(m,250),lv.hasAnimatedSinceResize&&(lv.hasAnimatedSinceResize=!1,this.nodes.forEach(tF)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||ire,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!$$(this.targetLayout,f),v=!h&&m;if(this.options.layoutRoot||this.resumeFrom||v||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...jE(b,"layout"),onPlay:y,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,v)}else h||tF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),mh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rre),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&H$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ZT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zte),this.nodes.forEach(Wte),this.nodes.forEach(Gte)):this.nodes.forEach(eF),this.clearAllSnapshots();const l=Ri.now();wa.delta=Ed(0,1e3/60,l-wa.timestamp),wa.timestamp=l,wa.isProcessing=!0,jj.update.process(wa),jj.preRender.process(wa),jj.render.process(wa),wa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_E.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jte),this.sharedNodes.forEach(nre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!mi(this.snapshot.measuredBox.x)&&!mi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Q$(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||vA(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ore(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return hs();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(lre))){const{scroll:d}=this.root;d&&(kf(l.x,d.offset.x),kf(l.y,d.offset.y))}return l}removeElementScroll(o){const l=hs();if(ko(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&ko(l,o),kf(l.x,u.offset.x),kf(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=hs();ko(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pf(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vA(u.latestValues)&&Pf(c,u.latestValues)}return vA(this.latestValues)&&Pf(c,this.latestValues),c}removeTransform(o){const l=hs();ko(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!vA(d.latestValues))continue;mS(d.latestValues)&&d.updateSnapshot();const u=hs(),h=d.measurePageBox();ko(u,h),KT(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return vA(this.latestValues)&&KT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=wa.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),c0(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hs(),this.targetWithTransforms=hs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ko(this.target,this.layout.layoutBox),w$(this.target,this.targetDelta)):ko(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hs(),this.relativeTargetOrigin=hs(),c0(this.relativeTargetOrigin,this.target,m.target),ko(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||mS(this.parent.latestValues)||v$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wa.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ko(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Cee(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=hs());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qT(this.prevProjectionDelta.x,this.projectionDelta.x),qT(this.prevProjectionDelta.y,this.projectionDelta.y)),l0(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!JT(this.projectionDelta.x,this.prevProjectionDelta.x)||!JT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tf(),this.projectionDelta=Tf(),this.projectionDeltaWithTransform=Tf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Tf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=hs(),f=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=f!==b,g=this.getStack(),x=!g||g.members.length<=1,v=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(are));this.animationProgress=0;let j;this.mixTargetDelta=B=>{const C=B/1e3;rF(h.x,o.x,C),rF(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(c0(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sre(this.relativeTarget,this.relativeTargetOrigin,m,C),j&&Hte(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=hs()),ko(j,this.relativeTarget)),y&&(this.animationValues=u,Mte(u,d,this.latestValues,C,v,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(mh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hn.update(()=>{lv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ip(0)),this.currentAnimation=Tte(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&z$(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||hs();const h=mi(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const m=mi(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}ko(l,c),Pf(l,u),l0(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qte),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&Ij("z",o,d,this.animationValues);for(let u=0;u<Oj.length;u++)Ij(`rotate${Oj[u]}`,o,d,this.animationValues),Ij(`skew${Oj[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ov(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ov(l?.pointerEvents)||""),this.hasProjected&&!vA(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=zte(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:m,y:f}=this.projectionDelta;o.transformOrigin=`${m.origin*100}% ${f.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const b in R0){if(u[b]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:x}=R0[b],v=h==="none"?u[b]:y(u[b],d);if(g){const j=g.length;for(let B=0;B<j;B++)o[g[B]]=v}else x?this.options.visualElement.renderState.vars[b]=v:o[b]=v}this.options.layoutId&&(o.pointerEvents=d===this?ov(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(ZT),this.root.sharedNodes.clear()}}}function Wte(t){t.updateLayout()}function Gte(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Io(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],m=mi(h);h.min=r[u].min,h.max=h.min+m}):z$(a,e.layoutBox,r)&&Io(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],m=mi(r[u]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+m)});const o=Tf();l0(o,r,e.layoutBox);const l=Tf();i?l0(l,t.applyTransform(s,!0),e.measuredBox):l0(l,r,e.layoutBox);const c=!Q$(o);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:m}=u;if(h&&m){const f=hs();c0(f,e.layoutBox,h.layoutBox);const b=hs();c0(b,r,m.layoutBox),$$(f,b)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=f,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Xte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Jte(t){t.clearSnapshot()}function ZT(t){t.clearMeasurements()}function eF(t){t.isLayoutDirty=!1}function Zte(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ere(t){t.resolveTargetDelta()}function tre(t){t.calcProjection()}function rre(t){t.resetSkewAndRotation()}function nre(t){t.removeLeadSnapshot()}function rF(t,e,r){t.translate=Gn(e.translate,0,r),t.scale=Gn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function nF(t,e,r,s){t.min=Gn(e.min,r.min,s),t.max=Gn(e.max,r.max,s)}function sre(t,e,r,s){nF(t.x,e.x,r.x,s),nF(t.y,e.y,r.y,s)}function are(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ire={duration:.45,ease:[.4,0,.1,1]},sF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aF=sF("applewebkit/")&&!sF("chrome/")?Math.round:Vo;function iF(t){t.min=aF(t.min),t.max=aF(t.max)}function ore(t){iF(t.x),iF(t.y)}function z$(t,e,r){return t==="position"||t==="preserve-aspect"&&!Ate(YT(e),YT(r),.2)}function lre(t){return t!==t.root&&t.scroll?.wasRoot}const cre=q$({attachResizeListener:(t,e)=>U0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dj={current:void 0},V$=q$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dj.current){const t=new cre({});t.mount(window),t.setOptions({layoutScroll:!0}),Dj.current=t}return Dj.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),dre={pan:{Feature:Bte},drag:{Feature:Ste,ProjectionNode:V$,MeasureLayout:L$}};function oF(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Hn.postRender(()=>i(e,zx(e)))}class ure extends Sh{mount(){const{current:e}=this.node;e&&(this.unmount=TZ(e,(r,s)=>(oF(this.node,s,"Start"),a=>oF(this.node,a,"End"))))}unmount(){}}class hre extends Sh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$x(U0(this.node.current,"focus",()=>this.onFocus()),U0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lF(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Hn.postRender(()=>i(e,zx(e)))}class Are extends Sh{mount(){const{current:e}=this.node;e&&(this.unmount=DZ(e,(r,s)=>(lF(this.node,s,"Start"),(a,{success:i})=>lF(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vS=new WeakMap,Mj=new WeakMap,mre=t=>{const e=vS.get(t.target);e&&e(t)},fre=t=>{t.forEach(mre)};function pre({root:t,...e}){const r=t||document;Mj.has(r)||Mj.set(r,{});const s=Mj.get(r),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(fre,{root:t,...e})),s[a]}function gre(t,e,r){const s=pre(e);return vS.set(t,r),s.observe(t),()=>{vS.delete(t),s.unobserve(t)}}const xre={some:0,all:1};class yre extends Sh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:xre[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return gre(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(bre(e,r))&&this.startObserver()}unmount(){}}function bre({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const vre={inView:{Feature:yre},tap:{Feature:Are},focus:{Feature:hre},hover:{Feature:ure}},wre={layout:{ProjectionNode:V$,MeasureLayout:L$}},jre={...ote,...vre,...dre,...wre},ue=jee(jre,Dee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_re=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),cF=t=>{const e=_re(t);return e.charAt(0).toUpperCase()+e.slice(1)},K$=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),Cre=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>F.createElement("svg",{ref:c,...Sre,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:K$("lucide",a),...!i&&!Cre(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>F.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=F.forwardRef(({className:s,...a},i)=>F.createElement(Bre,{ref:i,iconNode:e,className:K$(`lucide-${Nre(cF(t))}`,`lucide-${t}`,s),...a}));return r.displayName=cF(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],oh=Ke("activity",Ere);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],wS=Ke("archive",kre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],ME=Ke("arrow-down-right",Pre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],u1=Ke("arrow-down",Tre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qd=Ke("arrow-left",Fre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uo=Ke("arrow-right",Ore);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],h1=Ke("arrow-up-right",Ire);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Hf=Ke("arrow-up",Dre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],LE=Ke("award",Mre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qf=Ke("bell",Lre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Ure=Ke("book",Rre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Yy=Ke("bot",Qre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],zf=Ke("brain",$re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],qre=Ke("briefcase",Hre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],hc=Ke("building-2",zre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],VA=Ke("building",Vre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],jS=Ke("calculator",Kre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kr=Ke("calendar",Wre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],cv=Ke("camera",Gre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Tv=Ke("car",Xre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],DA=Ke("chart-bar",Yre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oa=Ke("chart-column",Jre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]],dF=Ke("chart-gantt",Zre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],W$=Ke("chart-line",ene);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dv=Ke("chart-pie",tne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],nne=Ke("check-check",rne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mn=Ke("check",sne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oo=Ke("chevron-down",ane);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Fv=Ke("chevron-left",ine);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A1=Ke("chevron-right",one);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xc=Ke("chevron-up",lne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],xs=Ke("circle-alert",cne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ja=Ke("circle-check-big",dne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Es=Ke("circle-check",une);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Ane=Ke("circle-pause",hne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],RE=Ke("circle-play",mne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pne=Ke("circle-question-mark",fne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],xne=Ke("circle-user",gne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Q0=Ke("circle-x",yne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],lh=Ke("circle",bne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],yi=Ke("clipboard-list",vne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tr=Ke("clock",wne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],G$=Ke("cloud",jne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],_ne=Ke("code",Nne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Sne=Ke("coffee",Cne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],Ene=Ke("command",Bne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Pd=Ke("copy",kne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pn=Ke("credit-card",Pne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vx=Ke("crown",Tne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],lp=Ke("database",Fne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pr=Ke("dollar-sign",One);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ys=Ke("download",Ine);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dne=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],X$=Ke("ellipsis-vertical",Dne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Y$=Ke("external-link",Mne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],m1=Ke("eye-off",Lne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],la=Ke("eye",Rne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],uF=Ke("facebook",Une);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],NS=Ke("file-check",Qne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Hne=Ke("file-down",$ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],zne=Ke("file-pen-line",qne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vt=Ke("file-text",Vne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],f1=Ke("file",Kne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],uv=Ke("flag",Wne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Xne=Ke("folder-kanban",Gne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Jy=Ke("folder-open",Yne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Zne=Ke("folder-plus",Jne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Ov=Ke("folder",ese);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]],rse=Ke("fuel",tse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],p1=Ke("funnel",nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],hF=Ke("git-branch",sse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$0=Ke("globe",ase);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],ose=Ke("grip-vertical",ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cse=Ke("heart",lse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],H0=Ke("history",dse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hse=Ke("house",use);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mse=Ke("image",Ase);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],pse=Ke("inbox",fse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ko=Ke("info",gse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],AF=Ke("instagram",xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Vf=Ke("key",yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],vse=Ke("layout-grid",bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],jse=Ke("library",wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],um=Ke("list-filter",Nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Lj=Ke("list",_se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],q0=Ke("loader-circle",Cse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Qp=Ke("loader",Sse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],J$=Ke("lock-open",Bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ro=Ke("lock",Ese);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mF=Ke("log-out",kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ks=Ke("mail",Pse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lo=Ke("map-pin",Tse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Ose=Ke("maximize-2",Fse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dse=Ke("menu",Ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Kf=Ke("message-circle",Mse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Iv=Ke("message-square",Lse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Use=Ke("mic-off",Rse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],$se=Ke("mic",Qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],qse=Ke("minimize-2",Hse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M5 12h14",key:"1ays0h"}]],z0=Ke("minus",zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Kse=Ke("monitor",Vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Gse=Ke("moon",Wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],V0=Ke("navigation",Xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],$t=Ke("package",Yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],g1=Ke("palette",Jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],eae=Ke("paperclip",Zse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],rae=Ke("pause",tae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sae=Ke("pen",nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],iae=Ke("phone-off",aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ya=Ke("phone",oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],_S=Ke("play",lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ot=Ke("plus",cae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ph=Ke("printer",dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],fF=Ke("receipt",uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zs=Ke("refresh-cw",hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Z$=Ke("rotate-ccw",Aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Nr=Ke("save",mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ir=Ke("search",fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bi=Ke("send",pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],xae=Ke("server",gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gh=Ke("settings",yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],eH=Ke("share-2",bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vae=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rn=Ke("shield",vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ff=Ke("shopping-cart",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],tH=Ke("sliders-vertical",jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],UE=Ke("smartphone",Nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Cae=Ke("smile",_ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],pF=Ke("snowflake",Sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tm=Ke("sparkles",Bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dv=Ke("square-check-big",Eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fi=Ke("square-pen",kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Tae=Ke("square",Pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Na=Ke("star",Fae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Iae=Ke("sun",Oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Mae=Ke("table",Dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Rae=Ke("tablet",Lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],CS=Ke("tag",Uae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],xh=Ke("target",Qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Hae=Ke("thumbs-down",$ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],zae=Ke("thumbs-up",qae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],rr=Ke("trash-2",Vae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],El=Ke("trending-down",Kae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Or=Ke("trending-up",Wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],un=Ke("triangle-alert",Gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],QE=Ke("truck",Xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],d0=Ke("upload",Yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zae=Ke("user-check",Jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eie=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],tie=Ke("user-cog",eie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],rH=Ke("user-plus",rie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],sie=Ke("user-x",nie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nn=Ke("user",aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zt=Ke("users",iie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Rj=Ke("video",oie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gF=Ke("video-off",lie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],die=Ke("volume-2",cie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Zy=Ke("wallet",uie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],$E=Ke("wrench",hie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Et=Ke("x",Aie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ho=Ke("zap",mie),fie=()=>n.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center z-50",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}})]}),n.jsxs("div",{className:"text-center z-10",children:[n.jsx(ue.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"flex items-center justify-center mb-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(ue.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:n.jsx(yi,{className:"h-10 w-10 text-white"})}),n.jsx(ue.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:n.jsx($t,{className:"h-4 w-4 text-white"})})]})}),n.jsx(ue.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"text-4xl font-bold text-white mb-4",children:"Sistema OS"}),n.jsx(ue.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"text-lg text-white/80 mb-8",children:"Gestão integrada de ordens de serviço"}),n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"w-64 h-1 bg-white/20 rounded-full overflow-hidden mx-auto",children:n.jsx(ue.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1.4,duration:1,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full"})}),n.jsx(ue.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.4},className:"text-sm text-white/60 mt-4",children:"Carregando o sistema..."})]})]}),pie="modulepreload",gie=function(t){return"/"+t},xF={},yh=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=c(r.map(d=>{if(d=gie(d),d in xF)return;xF[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":pie,u||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,b)=>{m.addEventListener("load",f),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},xie=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yh(async()=>{const{default:s}=await Promise.resolve().then(()=>$p);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class HE extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class yF extends HE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class bF extends HE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vF extends HE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var SS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(SS||(SS={}));var yie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class bie{constructor(e,{headers:r={},customFetch:s,region:a=SS.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=xie(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return yie(this,arguments,void 0,function*(r,s={}){var a;try{const{headers:i,method:o,body:l,signal:c}=s;let d={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let m;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=l):typeof l=="string"?(d["Content-Type"]="text/plain",m=l):typeof FormData<"u"&&l instanceof FormData?m=l:(d["Content-Type"]="application/json",m=JSON.stringify(l)));const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:m,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new yF(x)}),b=f.headers.get("x-relay-error");if(b&&b==="true")throw new bF(f);if(!f.ok)throw new vF(f);let y=((a=f.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield f.json():y==="application/octet-stream"?g=yield f.blob():y==="text/event-stream"?g=f:y==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new yF(i)}:{data:null,error:i,response:i instanceof vF||i instanceof bF?i.context:void 0}}})}}var ra={},Xm={},Ym={},Jm={},Zm={},ef={},vie=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cp=vie();const wie=cp.fetch,nH=cp.fetch.bind(cp),sH=cp.Headers,jie=cp.Request,Nie=cp.Response,$p=Object.freeze(Object.defineProperty({__proto__:null,Headers:sH,Request:jie,Response:Nie,default:nH,fetch:wie},Symbol.toStringTag,{value:"Module"})),_ie=BX($p);var eb={},wF;function aH(){if(wF)return eb;wF=1,Object.defineProperty(eb,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return eb.default=t,eb}var jF;function iH(){if(jF)return ef;jF=1;var t=ef&&ef.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ef,"__esModule",{value:!0});const e=t(_ie),r=t(aH());class s{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,h,m,f;let b=null,y=null,g=null,x=d.status,v=d.statusText;if(d.ok){if(this.method!=="HEAD"){const E=await d.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=E:y=JSON.parse(E))}const B=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(m=d.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");B&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(b={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,x=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const B=await d.text();try{b=JSON.parse(B),Array.isArray(b)&&d.status===404&&(y=[],b=null,x=200,v="OK")}catch{d.status===404&&B===""?(x=204,v="No Content"):b={message:B}}if(b&&this.isMaybeSingle&&(!((f=b?.details)===null||f===void 0)&&f.includes("0 rows"))&&(b=null,x=200,v="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:y,count:g,status:x,statusText:v}});return this.shouldThrowOnError||(c=c.catch(d=>{var u,h,m;return{error:{message:`${(u=d?.name)!==null&&u!==void 0?u:"FetchError"}: ${d?.message}`,details:`${(h=d?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(m=d?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return ef.default=s,ef}var NF;function oH(){if(NF)return Zm;NF=1;var t=Zm&&Zm.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zm,"__esModule",{value:!0});const e=t(iH());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${m}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Zm.default=r,Zm}var _F;function qE(){if(_F)return Jm;_F=1;var t=Jm&&Jm.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Jm,"__esModule",{value:!0});const e=t(oH());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Jm.default=r,Jm}var CF;function lH(){if(CF)return Ym;CF=1;var t=Ym&&Ym.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ym,"__esModule",{value:!0});const e=t(qE());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((m,f)=>m.concat(Object.keys(f)),[]);if(h.length>0){const m=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ym.default=r,Ym}var SF;function Cie(){if(SF)return Xm;SF=1;var t=Xm&&Xm.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xm,"__esModule",{value:!0});const e=t(lH()),r=t(qE());class s{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const m=new URL(`${this.url}/rpc/${i}`);let f;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{m.searchParams.append(y,g)})):(h="POST",f=o);const b=new Headers(this.headers);return d&&b.set("Prefer",`count=${d}`),new r.default({method:h,url:m,headers:b,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Xm.default=s,Xm}var BF;function Sie(){if(BF)return ra;BF=1;var t=ra&&ra.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(ra,"__esModule",{value:!0}),ra.PostgrestError=ra.PostgrestBuilder=ra.PostgrestTransformBuilder=ra.PostgrestFilterBuilder=ra.PostgrestQueryBuilder=ra.PostgrestClient=void 0;const e=t(Cie());ra.PostgrestClient=e.default;const r=t(lH());ra.PostgrestQueryBuilder=r.default;const s=t(qE());ra.PostgrestFilterBuilder=s.default;const a=t(oH());ra.PostgrestTransformBuilder=a.default;const i=t(iH());ra.PostgrestBuilder=i.default;const o=t(aH());return ra.PostgrestError=o.default,ra.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},ra}var Bie=Sie();const Eie=Xr(Bie),{PostgrestClient:kie,PostgrestQueryBuilder:aDe,PostgrestFilterBuilder:iDe,PostgrestTransformBuilder:oDe,PostgrestBuilder:lDe,PostgrestError:cDe}=Eie;class Pie{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Tie="2.75.0",Fie=`realtime-js/${Tie}`,Oie="1.0.0",BS=1e4,Iie=1e3,Die=100;var u0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(u0||(u0={}));var Qs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Qs||(Qs={}));var Cl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cl||(Cl={}));var ES;(function(t){t.websocket="websocket"})(ES||(ES={}));var EA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(EA||(EA={}));class Mie{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+a));o=o+a;const c=s.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class cH{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var wn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(wn||(wn={}));const EF=(t,e,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Lie(o,t,e,a),i),{}):{}},Lie=(t,e,r,s)=>{const a=e.find(l=>l.name===t),i=a?.type,o=r[t];return i&&!s.includes(i)?dH(i,o):kS(o)},dH=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return $ie(e,r)}switch(t){case wn.bool:return Rie(e);case wn.float4:case wn.float8:case wn.int2:case wn.int4:case wn.int8:case wn.numeric:case wn.oid:return Uie(e);case wn.json:case wn.jsonb:return Qie(e);case wn.timestamp:return Hie(e);case wn.abstime:case wn.date:case wn.daterange:case wn.int4range:case wn.int8range:case wn.money:case wn.reltime:case wn.text:case wn.time:case wn.timestamptz:case wn.timetz:case wn.tsrange:case wn.tstzrange:return kS(e);default:return kS(e)}},kS=t=>t,Rie=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Uie=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Qie=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$ie=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>dH(e,l))}return t},Hie=t=>typeof t=="string"?t.replace(" ","T"):t,uH=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Uj{constructor(e,r,s={},a=BS){this.channel=e,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kF;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kF||(kF={}));class h0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=h0.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=h0.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=h0.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const m=u.map(g=>g.presence_ref),f=h.map(g=>g.presence_ref),b=u.filter(g=>f.indexOf(g.presence_ref)<0),y=h.filter(g=>m.indexOf(g.presence_ref)<0);b.length>0&&(l[d]=b),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(e,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[l].unshift(...m)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const a=e[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PF;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(PF||(PF={}));var A0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(A0||(A0={}));var gd;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gd||(gd={}));class zE{constructor(e,r={config:{}},s){var a,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Qs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Uj(this,Cl.join,this.params,this.timeout),this.rejoinTimer=new cH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qs.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cl.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new h0(this),this.broadcastEndpointURL=uH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Qs.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[A0.PRESENCE]&&this.bindings[A0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(gd.CHANNEL_ERROR,f)),this._onClose(()=>e?.(gd.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket.setAuth(),f===void 0){e?.(gd.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(b=y?.length)!==null&&b!==void 0?b:0,x=[];for(let v=0;v<g;v++){const j=y[v],{filter:{event:B,schema:C,table:E,filter:M}}=j,S=f&&f[v];if(S&&S.event===B&&S.schema===C&&S.table===E&&S.filter===M)x.push(Object.assign(Object.assign({},j),{id:S.id}));else{this.unsubscribe(),this.state=Qs.errored,e?.(gd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(gd.SUBSCRIBED);return}}).receive("error",f=>{this.state=Qs.errored,e?.(gd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(gd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Qs.joined&&e===A0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cl.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Uj(this,Cl.leave,{},e),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qs.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Uj(this,e,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Die){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=Cl;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let m=this._onMessage(o,r,s);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var b,y,g;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((g=(y=f.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(m,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var b,y,g,x,v,j;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const B=f.id,C=(b=f.filter)===null||b===void 0?void 0:b.event;return B&&((y=r.ids)===null||y===void 0?void 0:y.includes(B))&&(C==="*"||C?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const B=(v=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return B==="*"||B===((j=r?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:y,table:g,commit_timestamp:x,type:v,errors:j}=b;m=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:x,eventType:v,new:{},old:{},errors:j}),this._getPayloadRecords(b))}f.callback(m,s)})}_isClosed(){return this.state===Qs.closed}_isJoined(){return this.state===Qs.joined}_isJoining(){return this.state===Qs.joining}_isLeaving(){return this.state===Qs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&zE.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cl.close,{},e)}_onError(e){this._on(Cl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=EF(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=EF(e.columns,e.old_record)),r}}const Qj=()=>{},tb={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qie=[1e3,2e3,5e3,1e4],zie=1e4,Vie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kie{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=BS,this.transport=null,this.heartbeatIntervalMs=tb.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qj,this.ref=0,this.reconnectTimer=null,this.logger=Qj,this.conn=null,this.sendBuffer=[],this.serializer=new Mie,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>yh(async()=>{const{default:l}=await Promise.resolve().then(()=>$p);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ES.websocket}`,this.httpEndpoint=uH(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pie.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oie}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case u0.connecting:return EA.Connecting;case u0.open:return EA.Open;case u0.closing:return EA.Closing;default:return EA.Closed}}isConnected(){return this.connectionState()===EA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new zE(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Iie,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tb.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${s}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Vie],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:Fie};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Cl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new cH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tb.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,a,i,o,l,c,d,u;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:BS,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:tb.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Qj,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(h=>qie[h-1]||zie),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((h,m)=>m(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class VE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function _s(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Wie extends VE{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class PS extends VE{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Gie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const hH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yh(async()=>{const{default:s}=await Promise.resolve().then(()=>$p);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Xie=()=>Gie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yh(()=>Promise.resolve().then(()=>$p),void 0)).Response:Response}),TS=t=>{if(Array.isArray(t))return t.map(r=>TS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=TS(s)}),e},Yie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var hm=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const $j=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Jie=(t,e,r)=>hm(void 0,void 0,void 0,function*(){const s=yield Xie();t instanceof s&&!r?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";e(new Wie($j(a),i,o))}).catch(a=>{e(new PS($j(a),a))}):e(new PS($j(t),t))}),Zie=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!s?a:(Yie(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Kx(t,e,r,s,a,i){return hm(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Zie(e,s,a,i)).then(c=>{if(!c.ok)throw c;return s?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Jie(c,l,s))})})}function Mv(t,e,r,s){return hm(this,void 0,void 0,function*(){return Kx(t,"GET",e,r,s)})}function lc(t,e,r,s,a){return hm(this,void 0,void 0,function*(){return Kx(t,"POST",e,s,a,r)})}function FS(t,e,r,s,a){return hm(this,void 0,void 0,function*(){return Kx(t,"PUT",e,s,a,r)})}function eoe(t,e,r,s){return hm(this,void 0,void 0,function*(){return Kx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function AH(t,e,r,s,a){return hm(this,void 0,void 0,function*(){return Kx(t,"DELETE",e,s,a,r)})}var toe=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class roe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return toe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_s(e))return{data:null,error:e};throw e}})}}var noe=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class soe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new roe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return noe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_s(e))return{data:null,error:e};throw e}})}}var Ii=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const aoe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},TF={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ioe{constructor(e,r={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=hH(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,a){return Ii(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},TF),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?FS:lc)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(_s(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,a){return Ii(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:TF.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield FS(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(_s(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ii(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield lc(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new VE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_s(s))return{data:null,error:s};throw s}})}update(e,r,s){return Ii(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Ii(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}copy(e,r,s){return Ii(this,void 0,void 0,function*(){try{return{data:{path:(yield lc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,s){return Ii(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield lc(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,s){return Ii(this,void 0,void 0,function*(){try{const a=yield lc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>Mv(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new soe(c,this.shouldThrowOnError)}info(e){return Ii(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield Mv(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:TS(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_s(s))return{data:null,error:s};throw s}})}exists(e){return Ii(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield eoe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_s(s)&&s instanceof PS){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return Ii(this,void 0,void 0,function*(){try{return{data:yield AH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}})}list(e,r,s){return Ii(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aoe),r),{prefix:e||""});return{data:yield lc(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}listV2(e,r){return Ii(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield lc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_s(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const ooe="2.75.0",loe={"X-Client-Info":`storage-js/${ooe}`};var tf=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class coe{constructor(e,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},loe),r),this.fetch=hH(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return tf(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(_s(e))return{data:null,error:e};throw e}})}getBucket(e){return tf(this,void 0,void 0,function*(){try{return{data:yield Mv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}})}createBucket(e){return tf(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield lc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(_s(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return tf(this,void 0,void 0,function*(){try{return{data:yield FS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(_s(s))return{data:null,error:s};throw s}})}emptyBucket(e){return tf(this,void 0,void 0,function*(){try{return{data:yield lc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}})}deleteBucket(e){return tf(this,void 0,void 0,function*(){try{return{data:yield AH(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(_s(r))return{data:null,error:r};throw r}})}}class doe extends coe{constructor(e,r={},s,a){super(e,r,s,a)}from(e){return new ioe(this.url,this.headers,e,this.fetch)}}const uoe="2.75.0";let zg="";typeof Deno<"u"?zg="deno":typeof document<"u"?zg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zg="react-native":zg="node";const hoe={"X-Client-Info":`supabase-js-${zg}/${uoe}`},Aoe={headers:hoe},moe={schema:"public"},foe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},poe={};var goe=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const xoe=t=>{let e;return t?e=t:typeof fetch>"u"?e=nH:e=fetch,(...r)=>e(...r)},yoe=()=>typeof Headers>"u"?sH:Headers,boe=(t,e,r)=>{const s=xoe(r),a=yoe();return(i,o)=>goe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var voe=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};function woe(t){return t.endsWith("/")?t:t+"/"}function joe(t,e){var r,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,m={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=l?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>voe(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Noe(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(woe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const mH="2.75.0",wf=30*1e3,OS=3,Hj=OS*wf,_oe="http://localhost:9999",Coe="supabase.auth.token",Soe={"X-Client-Info":`gotrue-js/${mH}`},IS="X-Supabase-Api-Version",fH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Boe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Eoe=600*1e3;class K0 extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function Jt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class koe extends K0{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Poe(t){return Jt(t)&&t.name==="AuthApiError"}class kA extends K0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Bh extends K0{constructor(e,r,s,a){super(e,s,a),this.name=r,this.status=s}}class Hu extends Bh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Toe(t){return Jt(t)&&t.name==="AuthSessionMissingError"}class rf extends Bh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class rb extends Bh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class nb extends Bh{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Foe(t){return Jt(t)&&t.name==="AuthImplicitGrantRedirectError"}class FF extends Bh{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class DS extends Bh{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function qj(t){return Jt(t)&&t.name==="AuthRetryableFetchError"}class OF extends Bh{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class MS extends Bh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Lv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IF=` 	
\r=`.split(""),Ooe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<IF.length;e+=1)t[IF[e].charCodeAt(0)]=-2;for(let e=0;e<Lv.length;e+=1)t[Lv[e].charCodeAt(0)]=e;return t})();function DF(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Lv[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Lv[s]),e.queuedBits-=6}}function pH(t,e,r){const s=Ooe[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function MF(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Moe(o,s,r)};for(let o=0;o<t.length;o+=1)pH(t.charCodeAt(o),a,i);return e.join("")}function Ioe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Doe(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Ioe(s,e)}}function Moe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wf(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)pH(t.charCodeAt(a),r,s);return new Uint8Array(e)}function Loe(t){const e=[];return Doe(t,r=>e.push(r)),new Uint8Array(e)}function MA(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>DF(a,r,s)),DF(null,r,s),e.join("")}function Roe(t){return Math.round(Date.now()/1e3)+t}function Uoe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ro=()=>typeof window<"u"&&typeof document<"u",hA={tested:!1,writable:!1},gH=()=>{if(!ro())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hA.tested)return hA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hA.tested=!0,hA.writable=!0}catch{hA.tested=!0,hA.writable=!1}return hA.writable};function Qoe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{e[a]=s}),e}const xH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yh(async()=>{const{default:s}=await Promise.resolve().then(()=>$p);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},$oe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",jf=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},AA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lu=async(t,e)=>{await t.removeItem(e)};class x1{constructor(){this.promise=new x1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}x1.promiseConstructor=Promise;function zj(t){const e=t.split(".");if(e.length!==3)throw new MS("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Boe.test(e[s]))throw new MS("JWT not in base64url format");return{header:JSON.parse(MF(e[0])),payload:JSON.parse(MF(e[1])),signature:Wf(e[2]),raw:{header:e[0],payload:e[1]}}}async function Hoe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qoe(t,e){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function zoe(t){return("0"+t.toString(16)).substr(-2)}function Voe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,zoe).join("")}async function Koe(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function Woe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Koe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nf(t,e,r=!1){const s=Voe();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await jf(t,`${e}-code-verifier`,a);const i=await Woe(s);return[i,s===i?"plain":"s256"]}const Goe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xoe(t){const e=t.headers.get(IS);if(!e||!e.match(Goe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Yoe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Joe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zoe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sf(t){if(!Zoe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vj(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LF(t){return JSON.parse(JSON.stringify(t))}var ele=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};const wA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tle=[502,503,504];async function RF(t){var e;if(!$oe(t))throw new DS(wA(t),0);if(tle.includes(t.status))throw new DS(wA(t),t.status);let r;try{r=await t.json()}catch(i){throw new kA(wA(i),i)}let s;const a=Xoe(t);if(a&&a.getTime()>=fH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new OF(wA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Hu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new OF(wA(r),t.status,r.weak_password.reasons);throw new koe(wA(r),t.status||500,s)}const rle=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function fr(t,e,r,s){var a;const i=Object.assign({},s?.headers);i[IS]||(i[IS]=fH["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await nle(t,e,r+l,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(c):{data:Object.assign({},c),error:null}}async function nle(t,e,r,s,a,i){const o=rle(e,s,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new DS(wA(c),0)}if(l.ok||await RF(l),s?.noResolveJson)return l;try{return await l.json()}catch(c){await RF(c)}}function wl(t){var e;let r=null;ile(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Roe(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function UF(t){const e=wl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function sle(t){return{data:t,error:null}}function ale(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=t,o=ele(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function QF(t){return t}function ile(t){return t.access_token&&t.refresh_token&&t.expires_in}const Kj=["global","local","others"];var ole=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};class lle{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=xH(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Kj[0]){if(Kj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kj.join(", ")}`);try{return await fr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await fr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gu})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=ole(e,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await fr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:ale,redirectTo:r?.redirectTo})}catch(r){if(Jt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await fr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gu})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await fr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:QF});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(b.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Jt(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){sf(e);try{return await fr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gu})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){sf(e);try{return await fr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gu})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){sf(e);try{return await fr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gu})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){sf(e.userId);try{const{data:r,error:s}=await fr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){sf(e.userId),sf(e.id);try{return{data:await fr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await fr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:QF});if(u.error)throw u.error;const h=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(b.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(Jt(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await fr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await fr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await fr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await fr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}function $F(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const af={debug:!!(globalThis&&gH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cle extends yH{}async function dle(t,e,r){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),af.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){af.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{af.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw af.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cle(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(af.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function ule(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bH(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hle(t){return parseInt(t,16)}function Ale(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function mle(t){var e;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=bH(t.address),b=u?`${u}://${s}`:s,y=t.statement?`${t.statement}
`:"",g=`${b} wants you to sign in with your Ethereum account:
${f}

${y}`;let x=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),d){let v=`
Resources:`;for(const j of d){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);v+=`
- ${j}`}x+=v}return`${g}
${x}`}class Ns extends Error{constructor({message:e,code:r,cause:s,name:a}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Rv extends Ns{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function fle({error:t,options:e}){var r,s,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ns({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ns({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ns({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ns({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ns({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ns({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ns({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(wH(o)){if(i.rp.id!==o)return new Ns({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ns({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ns({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function ple({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ns({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ns({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(wH(s)){if(r.rpId!==s)return new Ns({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ns({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ns({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ns({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var vH=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};class gle{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const xle=new gle;function yle(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,a=vH(t,["challenge","user","excludeCredentials"]),i=Wf(e).buffer,o=Object.assign(Object.assign({},r),{id:Wf(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Wf(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function ble(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=vH(t,["challenge","allowCredentials"]),a=Wf(e).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Wf(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function vle(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:MA(new Uint8Array(t.response.attestationObject)),clientDataJSON:MA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wle(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:MA(new Uint8Array(a.authenticatorData)),clientDataJSON:MA(new Uint8Array(a.clientDataJSON)),signature:MA(new Uint8Array(a.signature)),userHandle:a.userHandle?MA(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wH(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function HF(){var t,e;return!!(ro()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function jle(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rv("Browser returned unexpected credential type",e)}:{data:null,error:new Rv("Empty credential response",e)}}catch(e){return{data:null,error:fle({error:e,options:t})}}}async function Nle(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Rv("Browser returned unexpected credential type",e)}:{data:null,error:new Rv("Empty credential response",e)}}catch(e){return{data:null,error:ple({error:e,options:t})}}}const _le={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Cle={userVerification:"preferred",hints:["security-key"]};function Uv(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const l=s[i];e(l)?s[i]=Uv(l,o):s[i]=Uv(o)}else s[i]=o}return s}function Sle(t,e){return Uv(_le,t,e||{})}function Ble(t,e){return Uv(Cle,t,e||{})}class Ele{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??xle.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Sle(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await jle({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=Ble(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await Nle(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new kA("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new K0("rpId is required for WebAuthn authentication")};try{if(!HF())return{data:null,error:new kA("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new kA("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new K0("rpId is required for WebAuthn registration")};try{if(!HF())return{data:null,error:new kA("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return Jt(o)?{data:null,error:o}:{data:null,error:new kA("Unexpected error in register",o)}}}}ule();const kle={url:_oe,storageKey:Coe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Soe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function qF(t,e,r){return await r()}const of={};class W0{get jwks(){var e,r;return(r=(e=of[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){of[this.storageKey]=Object.assign(Object.assign({},of[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=of[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){of[this.storageKey]=Object.assign(Object.assign({},of[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=W0.nextInstanceID,W0.nextInstanceID+=1,this.instanceID>0&&ro()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},kle),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new lle({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xH(a.fetch),this.lock=a.lock||qF,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ro()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=dle:this.lock=qF,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ele(this)},this.persistSession?(a.storage?this.storage=a.storage:gH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$F(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=$F(this.memoryStorage)),ro()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mH}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Qoe(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ro()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Foe(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Jt(r)?{error:r}:{error:new kA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,a;try{const i=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:wl}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,a;try{let i;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await nf(this.storage,this.storageKey)),i=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:b},xform:wl})}else if("phone"in e){const{phone:u,password:h,options:m}=e;i=await fr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=m?.data)!==null&&s!==void 0?s:{},channel:(a=m?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:wl})}else throw new rb("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:UF})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await fr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:UF})}else throw new rb("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new rf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,a,i,o,l,c,d,u,h,m;let f,b;if("message"in e)f=e.message,b=e.signature;else{const{chain:y,wallet:g,statement:x,options:v}=e;let j;if(ro())if(typeof g=="object")j=g;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")j=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const B=new URL((r=v?.url)!==null&&r!==void 0?r:window.location.href),C=await j.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=bH(C[0]);let M=(s=v?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!M){const k=await j.request({method:"eth_chainId"});M=hle(k)}const S={domain:B.host,address:E,statement:x,uri:B.href,version:"1",chainId:M,nonce:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=v?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=v?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=mle(S),b=await j.request({method:"personal_sign",params:[Ale(f),E]})}try{const{data:y,error:g}=await fr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:wl});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new rf}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if(Jt(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,s,a,i,o,l,c,d,u,h,m,f;let b,y;if("message"in e)b=e.message,y=e.signature;else{const{chain:g,wallet:x,statement:v,options:j}=e;let B;if(ro())if(typeof x=="object")B=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))B=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=x}const C=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const E=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),v?{statement:v}:null));let M;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")M=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)M=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${C.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(s=j?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=j?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((o=j?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((l=j?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((c=j?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((h=(u=j?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...j.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const E=await B.signMessage(new TextEncoder().encode(b),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:g,error:x}=await fr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:MA(y)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:wl});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new rf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if(Jt(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await AA(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await fr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:wl});if(await Lu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new rf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Jt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=e,l=await fr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:wl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await nf(this.storage,this.storageKey));const{error:h}=await fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await fr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new rb("You must provide either an email or phone number.")}catch(l){if(Jt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,s;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await fr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:wl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if(Jt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nf(this.storage,this.storageKey)),await fr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:sle})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Hu;const{error:a}=await fr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Jt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:i}=e,{error:o}=await fr(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:a,options:i}=e,{data:o,error:l}=await fr(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new rb("You must provide either an email or phone number and a type")}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await AA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Hj:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await AA(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Vj()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gu}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hu}:await fr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Gu})})}catch(r){if(Jt(r))return Toe(r)&&(await this._removeSession(),await Lu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Hu;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await nf(this.storage,this.storageKey));const{data:d,error:u}=await fr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Gu});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(Jt(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hu;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=zj(e.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Jt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Hu;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Jt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ro())throw new nb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new nb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new FF("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new FF("No code detected.");const{data:v,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new nb("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let m=u+h;c&&(m=parseInt(c));const f=m-u;f*1e3<=wf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const b=m-h;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,u);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if(Jt(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await AA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Poe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Lu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Uoe(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await nf(this.storage,this.storageKey,!0));try{return await fr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Jt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:m}=i;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fr(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return ro()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Jt(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await fr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:wl}),{data:m,error:f}=h;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new rf}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),{data:m,error:f})}catch(a){if(Jt(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await fr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await qoe(async a=>(a>0&&await Hoe(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await fr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wl})),(a,i)=>{const o=200*Math.pow(2,a);return i&&qj(i)&&Date.now()+o-s<wf})}catch(s){if(this._debug(r,"error",s),Jt(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ro()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await AA(this.storage,this.storageKey);if(a&&this.userStorage){let o=await AA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await jf(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:Vj()}else if(a&&!a.user&&!a.user){const o=await AA(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Lu(this.storage,this.storageKey+"-user"),await jf(this.storage,this.storageKey,a)):a.user=Vj()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hj;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Hj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),qj(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Hu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new x1;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Hu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Jt(i)){const o={data:null,error:i};return qj(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await jf(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=LF(a);await jf(this.storage,this.storageKey,i)}else{const a=LF(r);await jf(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Lu(this.storage,this.storageKey),await Lu(this.storage,this.storageKey+"-code-verifier"),await Lu(this.storage,this.storageKey+"-user"),this.userStorage&&await Lu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ro()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wf);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/wf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${wf}ms, refresh threshold is ${OS} ticks`),a<=OS&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof yH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ro()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await nf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await fr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await fr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?vle(e.webauthn.credential_response):wle(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await fr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await fr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:yle(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ble(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zj(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+Eoe>a)return s;const{data:i,error:o}=await fr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:f,error:b}=await this.getSession();if(b||!f.session)return{data:null,error:b};s=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=zj(s);r?.allowExpired||Yoe(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=Joe(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Loe(`${l}.${c}`)))throw new MS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(Jt(s))return{data:null,error:s};throw s}}}W0.nextInstanceID=0;const Ple=W0;class Tle extends Ple{constructor(e){super(e)}}var Fle=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class Ole{constructor(e,r,s){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Noe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:moe,realtime:poe,auth:Object.assign(Object.assign({},foe),{storageKey:c}),global:Aoe},u=joe(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=boe(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new kie(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new doe(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new bie(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Fle(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tle({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ile=(t,e,r)=>new Ole(t,e,r);function Dle(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Dle()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Mle(t){const e=t.tipo_pessoa==="pj";return{id:t.id,name:t.nome_razao||"",email:t.email,phone:t.telefone,address:"",client_type:t.tipo_pessoa?.toUpperCase()||"PF",document:e?t.cnpj:t.cpf,company_name:e?t.nome_razao:void 0,notes:t.observacoes,created_at:t.created_at,updated_at:t.updated_at||t.created_at}}function jH(t,e,r){let s="pending";if(t.status){const o=t.status.toLowerCase();o==="pending"||o.includes("aberta")||o.includes("pendente")?s="pending":o==="in_progress"||o.includes("execução")||o.includes("agendada")||o.includes("andamento")?s="in_progress":o==="completed"||o.includes("conclu")?s="completed":o==="cancelled"||o.includes("cancel")?s="cancelled":["pending","in_progress","completed","cancelled"].includes(o)&&(s=o)}const a=r?.find(o=>o.principal===!0)||r?.[0];let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{...t,id:t.id,order_number:t.order_number||t.id,client_id:t.customer_id,client_name:e?.nome_razao||"",client_phone:e?.telefone||"",client_email:e?.email,client_address:i,client_city:a?.cidade||"",client_state:a?.estado||"",client_cep:a?.cep||"",client_document:e?.tipo_pessoa==="pj"?e?.cnpj:e?.cpf,client_company_name:e?.tipo_pessoa==="pj"?e?.nome_razao:void 0,description:t.description||"",status:s,created_at:t.opened_at,due_date:t.scheduled_at,scheduled_at:t.scheduled_at,estimated_value:t.total_value,actual_value:t.total_value,notes:t.notes||"",updated_at:t.opened_at}}function NH(t,e,r){let s="pending";if(t.status){const o=t.status.toLowerCase();o==="aberta"||o==="pendente"?s="pending":o==="em andamento"||o==="execução"?s="in_progress":o==="concluida"||o==="finalizada"?s="completed":o==="cancelada"&&(s="cancelled")}const a=r?.find(o=>o.principal===!0)||r?.[0];let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{id:t.id,order_number:t.codigo||t.id,client_id:t.customer_id,client_name:e?.nome_razao||"",client_phone:e?.telefone||"",client_email:e?.email,client_address:i,client_city:a?.cidade||"",client_state:a?.estado||"",client_cep:a?.cep||"",client_document:e?.tipo_pessoa==="pj"?e?.cnpj:e?.cpf,client_company_name:e?.tipo_pessoa==="pj"?e?.nome_razao:void 0,description:t.descricao||"",status:s,created_at:t.created_at,due_date:t.data,estimated_value:t.total,actual_value:t.total,notes:"",updated_at:t.created_at}}function KE(t){return{id:t.id,name:t.name,category:t.category,quantity:t.quantity||0,min_stock:t.min_quantity||0,price:t.unit_price||t.unit_cost||0,supplier:t.supplier_name||"",sku:t.code,location:t.location,description:t.description,created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()}}function _H(t){const e=()=>{const r=Date.now().toString(36),s=Math.random().toString(36).substring(2,7);return`INV-${r}-${s}`.toUpperCase()};return{name:t.name||"",description:t.description||void 0,code:t.sku&&t.sku.trim()!==""?t.sku:e(),category:t.category||void 0,quantity:t.quantity,min_quantity:t.min_stock,unit_price:t.price,unit_cost:t.cost||t.price,location:t.location||void 0,supplier_name:t.supplier||void 0,active:!0}}class Lle{cache=new Map;defaultTTL=300*1e3;set(e,r,s=this.defaultTTL){this.cache.set(e,{data:r,timestamp:Date.now(),expiresIn:s})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(e),null):r.data:null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const r=new RegExp(e);Array.from(this.cache.keys()).forEach(s=>{r.test(s)&&this.cache.delete(s)})}clear(){this.cache.clear()}getOrFetch(e,r,s){const a=this.get(e);return a!==null?Promise.resolve(a):r().then(i=>(this.set(e,i,s),i))}}const Wo=new Lle;class zF extends Error{constructor(e,r,s=500){super(e),this.code=r,this.statusCode=s,this.name="AppError"}}const Td=t=>{if("code"in t&&"message"in t){const e=t,s={23505:"Este registro já existe no sistema",23503:"Não é possível excluir este registro pois existem dados vinculados",23502:"Campos obrigatórios não foram preenchidos","42P01":"Tabela não encontrada no banco de dados",PGRST116:"Nenhum registro encontrado",42501:"Você não tem permissão para realizar esta ação"}[e.code]||e.message;return new zF(s,e.code,400)}return new zF(t.message||"Erro desconhecido",void 0,500)},Rle="https://hevvpugkhcmujiyncysq.supabase.co",Ule="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",he=Ile(Rle,Ule,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});let Qle=[{id:"1",name:"Instalação de Ar Condicionado Split",category:"Instalação",description:"Instalação completa de ar condicionado split incluindo suporte, tubulação e testes",estimated_time:"3 horas",base_price:350,materials:[{name:"Suporte para Ar Condicionado",quantity:1},{name:"Tubulação de Cobre 3m",quantity:1},{name:"Cabo PP 3x2.5mm 5m",quantity:1}],instructions:["Verificar local de instalação","Instalar suporte da unidade externa","Fixar unidade interna","Conectar tubulação","Fazer conexão elétrica","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Manutenção Preventiva",category:"Manutenção",description:"Limpeza de filtros, verificação de gás e limpeza geral do equipamento",estimated_time:"1.5 horas",base_price:180,materials:[{name:"Produto de Limpeza",quantity:1},{name:"Filtro de Ar",quantity:1}],instructions:["Desligar equipamento","Remover e limpar filtros","Verificar nível de gás","Limpar serpentinas","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Reparo de Vazamento",category:"Reparo",description:"Identificação e reparo de vazamentos no sistema de refrigeração",estimated_time:"2 horas",base_price:250,materials:[{name:"Gás Refrigerante R410A",quantity:1},{name:"Vedante",quantity:1}],instructions:["Localizar vazamento","Reparar ponto de vazamento","Testar vedação","Recarregar gás","Testar pressão"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}],$le=[{id:"1",name:"João Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - São Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - São Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",company_name:"Empresa ABC Ltda",trade_name:"ABC Corp",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"},{id:"3",name:"Maria Santos",email:"maria@email.com",phone:"(11) 97777-9012",address:"Rua das Palmeiras, 456 - São Paulo, SP",client_type:"PF",document:"987.654.321-00",created_at:"2023-12-13T08:00:00",updated_at:"2023-12-13T08:00:00"}],Hle=[{id:"OS-2023-001",order_number:"OS-2023-001",client_name:"João Silva",client_phone:"(11) 99999-1234",client_address:"Rua das Flores, 123",service_type:"Instalação de Ar Condicionado",description:"Instalação de ar condicionado split 12.000 BTUs no quarto principal",priority:"high",status:"in_progress",assigned_to:"Carlos Técnico",created_at:"2023-12-15T08:00:00",due_date:"2023-12-18",estimated_value:850,notes:"Cliente solicitou instalação urgente. Verificar voltagem antes da instalação.",updated_at:"2023-12-15T08:00:00"}],qle=[{id:"1",name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,min_stock:2,price:1800,supplier:"Fornecedor A",sku:"AC-12000-220",location:"Prateleira A3",description:"Ar condicionado split 12.000 BTUs, 220V",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Suporte para Ar Condicionado",category:"Acessórios",quantity:15,min_stock:5,price:50,supplier:"Fornecedor B",sku:"SUP-AC-001",location:"Prateleira B1",description:"Suporte universal para unidade externa",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Tubulação de Cobre 3m",category:"Materiais",quantity:8,min_stock:3,price:80,supplier:"Fornecedor C",sku:"TUB-CU-3M",location:"Prateleira C2",description:'Tubulação de cobre 1/4" x 3/8" - 3 metros',created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}];const zle=async t=>{try{const{data:e,error:r}=await he.from("service_orders").insert([{order_number:t.order_number,client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,client_address:t.client_address,service_type:t.service_type,description:t.description,priority:t.priority,status:t.status,assigned_to:t.assigned_to,due_date:t.due_date,estimated_value:t.estimated_value,notes:t.notes}]).select().single();if(r)throw Td(r);return Wo.invalidatePattern("service_orders"),e}catch(e){throw Td(e)}},Vle=async()=>Wo.getOrFetch("service_orders_v2",async()=>{try{const[t,e,r]=await Promise.all([he.from("orders").select("*").order("created_at",{ascending:!1}),he.from("service_orders").select("*").order("created_at",{ascending:!1}),he.from("customers").select("*")]),s=r.data||[],a=new Map(s.map(o=>[o.id,o])),i=[];return t.data&&t.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(NH(o,l))}),e.data&&e.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(jH(o,l))}),i.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()),i}catch(t){return console.error("Error fetching service orders:",t),Hle}},30*1e3),hv=async t=>{try{const[e,r,s,a,i,o,l,c]=await Promise.all([he.from("orders").select("*").eq("id",t).maybeSingle(),he.from("service_orders").select("*").eq("id",t).maybeSingle(),he.from("customers").select("*"),he.from("customer_addresses").select("*"),he.from("service_order_items").select(`
        *,
        service_catalog:service_catalog_id(
          id,
          name,
          description,
          base_price,
          category,
          escopo_servico,
          requisitos_tecnicos,
          avisos_seguranca,
          passos_execucao,
          resultados_esperados,
          padroes_qualidade,
          informacoes_garantia,
          observacoes_tecnicas,
          tempo_estimado_minutos
        )
      `).eq("service_order_id",t),he.from("service_order_materials").select("*, material:material_id(name, unit)").eq("service_order_id",t),he.from("service_order_labor").select("*, employee:staff_id(id, name)").eq("service_order_id",t),he.from("service_order_team").select("*, employee:employee_id(id, name)").eq("service_order_id",t)]),d=s.data||[],u=new Map(d.map(b=>[b.id,b])),h=a.data||[],m=new Map;h.forEach(b=>{m.has(b.customer_id)||m.set(b.customer_id,[]),m.get(b.customer_id).push(b)});let f=null;if(e.data){const b=e.data,y=b.customer_id?u.get(b.customer_id):void 0,g=b.customer_id?m.get(b.customer_id):void 0;f=NH(b,y,g)}if(r.data){const b=r.data,y=b.customer_id?u.get(b.customer_id):void 0,g=b.customer_id?m.get(b.customer_id):void 0;f=jH(b,y,g)}if(f){const b=new Map,y=new Map;(o.data||[]).forEach(g=>{const x=g.service_order_item_id;x&&(b.has(x)||b.set(x,[]),b.get(x).push({id:g.id,material_id:g.material_id,nome:g.material_name||g.nome_material||g.material?.name||"Material",quantidade:g.quantity||g.quantidade||0,unidade_medida:g.material_unit||g.material?.unit||"un",preco_compra_unitario:g.unit_cost_at_time||g.preco_compra||g.unit_price||0,preco_venda_unitario:g.unit_sale_price||g.preco_venda||g.unit_price||0,preco_compra:g.total_cost||g.custo_total||0,preco_venda:g.total_sale_price||g.valor_total||g.total_price||0,custo_total:g.total_cost||g.custo_total||0,valor_total:g.total_sale_price||g.valor_total||g.total_price||0,lucro:g.lucro||0}))}),(l.data||[]).forEach(g=>{const x=g.service_order_item_id;x&&(y.has(x)||y.set(x,[]),y.get(x).push({id:g.id,staff_id:g.staff_id,nome:g.nome_funcionario||g.employee?.name||"Funcionário",tempo_minutos:g.tempo_minutos||(g.hours?g.hours*60:0)||0,custo_hora:g.custo_hora||g.hourly_rate||0,custo_total:g.custo_total||g.total_cost||0}))}),f.items=(i.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,service_catalog_id:g.service_catalog_id,service_name:g.service_catalog?.name||"",descricao:g.descricao||g.notes||g.service_catalog?.description||g.service_catalog?.name||"",description:g.notes||g.service_catalog?.description||g.service_catalog?.name||"",name:g.service_catalog?.name||"",escopo:g.escopo_detalhado||g.escopo||g.service_catalog?.escopo_servico||"",escopo_detalhado:g.escopo_detalhado||g.escopo||g.service_catalog?.escopo_servico||"",quantidade:g.quantity||g.quantidade||1,quantity:g.quantity||1,preco_unitario:g.unit_price||g.preco_unitario||0,unit_price:g.unit_price||0,preco_total:g.total_price||g.preco_total||0,total_price:g.total_price||0,tempo_estimado_minutos:g.estimated_duration||g.tempo_estimado_minutos||0,estimated_duration:g.estimated_duration||0,custo_materiais:g.custo_materiais||0,custo_mao_obra:g.custo_mao_obra||0,custo_total:g.custo_total||0,lucro:g.lucro||0,margem_lucro:g.margem_lucro||0,notes:g.notes||"",difficulty_level:g.difficulty_level||1,difficulty_multiplier:g.difficulty_multiplier||1,base_unit_price:g.base_unit_price||g.unit_price||0,materiais:b.get(g.id)||[],funcionarios:y.get(g.id)||[],created_at:g.created_at,updated_at:g.updated_at})),f.materials=(o.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,material_id:g.material_id,material_name:g.material_name,nome:g.material_name,quantity:g.quantity||0,quantidade:g.quantity||0,unit_price:g.unit_price||0,preco_compra_unitario:g.unit_price||0,total_price:g.total_price||0,custo_total:g.total_price||0,notes:g.notes||"",created_at:g.created_at,updated_at:g.updated_at})),f.team=(c.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,employee_id:g.employee_id,nome:g.employee?.name||"Funcionário",name:g.employee?.name||"Funcionário",role:g.role||g.employee?.especialidade||g.employee?.role||"",assigned_at:g.assigned_at,created_at:g.created_at}))}return f}catch(e){return console.error("Error fetching service order by ID:",e),null}},VF=async(t,e)=>{try{const{data:r,error:s}=await he.from("service_orders").update(e).eq("id",t).select().single();if(s)throw Td(s);return Wo.invalidatePattern("service_orders"),r}catch(r){throw Td(r)}},CH=async t=>{try{const{data:e,error:r}=await he.rpc("delete_service_order_complete",{p_service_order_id:t});if(r)throw Td(r);return Wo.invalidatePattern("service_orders"),e}catch(e){throw Td(e)}},Kle=async t=>{try{const e=_H(t),{data:r,error:s}=await he.from("inventory_items").insert([e]).select().single();if(s)throw Td(s);return Wo.invalidatePattern("inventory"),KE(r)}catch(e){throw Td(e)}},Wle=async()=>Wo.getOrFetch("inventory_items",async()=>{try{const{data:t,error:e}=await he.from("inventory_items").select("*").order("name");if(e)throw Td(e);return t.map(KE)}catch(t){return console.error("Error fetching inventory items:",t),qle}},300*1e3),Gle=async(t,e)=>{const r=_H(e),{data:s,error:a}=await he.from("inventory_items").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating inventory item:",a),a;return Wo.invalidatePattern("inventory"),KE(s)},Xle=async t=>{const{error:e}=await he.from("inventory_items").delete().eq("id",t);if(e)throw console.error("Error deleting inventory item:",e),e},Yle=async()=>{const{data:t,error:e}=await he.from("customers").select("*").order("nome_razao");return e?(console.error("Error fetching clients:",e),$le):t.map(Mle)},Jle=async t=>{try{const{error:e}=await he.from("customers").delete().eq("id",t);if(e)throw e.code==="23503"?new Error("Não é possível excluir este cliente pois existem registros vinculados (ordens de serviço, contratos, etc). Exclua os registros vinculados primeiro."):e;Wo.invalidatePattern("clients"),Wo.invalidatePattern("customers")}catch(e){throw console.error("Error deleting client:",e),e}},Zle=async t=>{let e=null;if(t.contract_type){const{data:i}=await he.from("contract_types").select("id").eq("active",!0).limit(1).maybeSingle();i&&(e=i.id)}const r={customer_id:t.client_id||t.customer_id,contract_number:t.contract_number,start_date:t.start_date,end_date:t.end_date,value:t.value,status:t.status,payment_frequency:t.frequency,notes:t.notes||t.terms_and_conditions,contract_type_id:e},{data:s,error:a}=await he.from("contracts").insert([r]).select().single();if(a)throw console.error("Error creating contract:",a),a;return s},ece=async t=>{const{data:e,error:r}=await he.from("contracts").select("*, customers(*)").eq("customer_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching client contracts:",r),[]):e},tce=async(t,e)=>{const r={...e,customer_id:e.client_id||e.customer_id};delete r.client_id;const{data:s,error:a}=await he.from("contracts").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating contract:",a),a;return s},rce=async t=>{const{error:e}=await he.from("contracts").delete().eq("id",t);if(e)throw console.error("Error deleting contract:",e),e},nce=async t=>{const e={name:t.name,description:t.description,category:t.category,base_price:t.base_price,active:t.is_active!==void 0?t.is_active:t.active!==void 0?t.active:!0};if(t.estimated_time){const a=parseFloat(t.estimated_time);isNaN(a)||(e.estimated_duration=a)}else t.estimated_duration&&(e.estimated_duration=t.estimated_duration);const{data:r,error:s}=await he.from("service_catalog").insert([e]).select().single();if(s)throw console.error("Error creating service catalog item:",s),s;return r},sce=async()=>{const{data:t,error:e}=await he.from("service_catalog").select("*").eq("active",!0).order("name");return e?(console.error("Error fetching service catalog:",e),Qle):t},ace=async(t,e)=>{const r={};if(e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),e.base_price!==void 0&&(r.base_price=e.base_price),e.is_active!==void 0?r.active=e.is_active:e.active!==void 0&&(r.active=e.active),e.estimated_time){const i=parseFloat(e.estimated_time);isNaN(i)||(r.estimated_duration=i)}else e.estimated_duration!==void 0&&(r.estimated_duration=e.estimated_duration);const{data:s,error:a}=await he.from("service_catalog").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating service catalog item:",a),a;return s},ice=async t=>{const{error:e}=await he.from("service_catalog").delete().eq("id",t);if(e)throw console.error("Error deleting service catalog item:",e),e},oce=async()=>{const{data:t,error:e}=await he.from("agenda_events").select("*").order("start_date",{ascending:!0});return e?(console.error("Error fetching agenda events:",e),[]):t},lce=async t=>{const{data:e,error:r}=await he.from("agenda_events").insert([t]).select().single();if(r)throw console.error("Error creating agenda event:",r),r;return e},Wj=async(t,e)=>{const{data:r,error:s}=await he.from("agenda_events").update(e).eq("id",t).select().single();if(s)throw console.error("Error updating agenda event:",s),s;return r},cce=async t=>{const{error:e}=await he.from("agenda_events").delete().eq("id",t);if(e)throw console.error("Error deleting agenda event:",e),e};class SH{provider;chunkingConfig;constructor(){this.chunkingConfig={chunkSize:500,chunkOverlap:50,separators:[`

`,`
`,". ","! ","? "]},this.provider=this.createMockProvider()}async indexDocument(e){try{const{data:r,error:s}=await he.from("thomaz_knowledge_sources").select("*").eq("id",e).single();if(s)throw s;const a=this.chunkText(r.content);for(let i=0;i<a.length;i++){const o=a[i],l=await this.provider.generateEmbedding(o);await he.from("thomaz_document_chunks").insert({source_id:e,chunk_index:i,chunk_text:o,chunk_size:o.length,embedding:l,metadata:{source_title:r.title,source_type:r.source_type,category:r.category}})}console.log(`✅ Indexed ${a.length} chunks for document: ${r.title}`)}catch(r){throw console.error("Index Document Error:",r),r}}async indexAllDocuments(){try{const{data:e,error:r}=await he.from("thomaz_knowledge_sources").select("id, title").eq("is_active",!0);if(r)throw r;console.log(`📚 Indexando ${e?.length||0} documentos...`);for(const s of e||[]){const{data:a}=await he.from("thomaz_document_chunks").select("id").eq("source_id",s.id).limit(1);!a||a.length===0?(console.log(`📄 Indexando: ${s.title}`),await this.indexDocument(s.id)):console.log(`⏭️  Pulando: ${s.title} (já indexado)`)}console.log("✅ Indexação completa!")}catch(e){throw console.error("Index All Documents Error:",e),e}}chunkText(e){const r=[],s=e.split(/\s+/),{chunkSize:a,chunkOverlap:i}=this.chunkingConfig;let o=0;for(;o<s.length;){const l=s.slice(o,o+a).join(" ");r.push(l),o+=a-i}return r}async searchSimilar(e,r={}){try{const{threshold:s=.7,limit:a=5,sourceType:i,sensitivity:o="public"}=r,l=await this.provider.generateEmbedding(e),{data:c,error:d}=await he.rpc("thomaz_search_similar_chunks",{query_embedding:l,match_threshold:s,match_count:a,filter_source_type:i,filter_sensitivity:o});if(d)throw d;return c||[]}catch(s){return console.error("Search Similar Error:",s),[]}}createMockProvider(){return{name:"mock",dimension:1536,generateEmbedding:async e=>{const r=new Array(1536).fill(0),s=this.simpleHash(e);for(let a=0;a<1536;a++)r[a]=Math.sin(s*(a+1))*.5+.5;return r}}}simpleHash(e){let r=0;for(let s=0;s<e.length;s++){const a=e.charCodeAt(s);r=(r<<5)-r+a,r=r&r}return Math.abs(r)/2147483647}async configureOpenAIProvider(e){console.log("OpenAI provider configuration pending")}async reindexDocument(e){await he.from("thomaz_document_chunks").delete().eq("source_id",e),await this.indexDocument(e)}}class BH{memoryCache=new Map;sessionContexts=new Map;CACHE_TTL=900*1e3;SESSION_TTL=3600*1e3;async getSessionContext(e){if(this.sessionContexts.has(e)){const r=this.sessionContexts.get(e);if(Date.now()-r.lastActivity.getTime()<this.SESSION_TTL)return r}try{const{data:r,error:s}=await he.from("thomaz_conversations").select("*").eq("session_id",e).order("created_at",{ascending:!1}).limit(10);if(s)throw s;if(!r||r.length===0)return null;const a=this.extractTopics(r),i=this.summarizeConversation(r),o={sessionId:e,userId:r[0].user_id,userRole:r[0].user_role||"user",companyId:r[0].company_id,recentTopics:a,conversationSummary:i,lastActivity:new Date,metadata:{}};return this.sessionContexts.set(e,o),o}catch(r){return console.error("Get Session Context Error:",r),null}}async updateSessionContext(e,r){const a={...await this.getSessionContext(e)||{sessionId:e,userRole:"user",recentTopics:[],conversationSummary:"",lastActivity:new Date,metadata:{}},...r,lastActivity:new Date};this.sessionContexts.set(e,a)}extractTopics(e){const r=new Set;for(const s of e){s.intent&&r.add(s.intent);const a=s.content?.toLowerCase()||"",i=["orçamento","financeiro","margem","estoque","cliente","os","ordem de serviço","relatório","dashboard"];for(const o of i)a.includes(o)&&r.add(o)}return Array.from(r).slice(0,5)}summarizeConversation(e){if(e.length===0)return"Nova conversa";const r=e.filter(i=>i.role==="user");if(r.length===0)return"Aguardando primeira mensagem";const s=r[0].content;return`Contexto recente: ${s.substring(0,100)}${s.length>100?"...":""}`}set(e,r,s=this.CACHE_TTL){const a=new Date(Date.now()+s);this.memoryCache.set(e,{key:e,value:r,expiresAt:a})}get(e){const r=this.memoryCache.get(e);return r?r.expiresAt<new Date?(this.memoryCache.delete(e),null):r.value:null}cleanExpired(){const e=new Date;for(const[r,s]of this.memoryCache.entries())s.expiresAt<e&&this.memoryCache.delete(r);for(const[r,s]of this.sessionContexts.entries())e.getTime()-s.lastActivity.getTime()>this.SESSION_TTL&&this.sessionContexts.delete(r)}startAutoCleanup(){setInterval(()=>{this.cleanExpired()},300*1e3)}cacheRetrievedDocs(e,r){const s=`retrieved_docs:${e}`;this.set(s,r,this.CACHE_TTL)}getCachedRetrievedDocs(e){const r=`retrieved_docs:${e}`;return this.get(r)}}class dce{embeddingsService;cacheService;errors=[];constructor(){this.embeddingsService=new SH,this.cacheService=new BH}async initialize(){const e=Date.now();console.log("🚀 Inicializando ThomazAI...");const r={database:!1,knowledgeBase:!1,embeddings:!1,cache:!1},s={totalDocuments:0,totalChunks:0,conversations24h:0,highConfidenceRate:0};try{await this.checkDatabase(),r.database=!0,console.log("✅ Database: Conectado")}catch(o){this.errors.push(`Database: ${o}`),console.error("❌ Database: Falha na conexão")}try{const o=await this.checkKnowledgeBase();r.knowledgeBase=!0,s.totalDocuments=o.totalDocuments,s.totalChunks=o.totalChunks,console.log(`✅ Knowledge Base: ${s.totalDocuments} docs, ${s.totalChunks} chunks`)}catch(o){this.errors.push(`Knowledge Base: ${o}`),console.error("❌ Knowledge Base: Falha")}try{await this.initializeEmbeddings(),r.embeddings=!0,console.log("✅ Embeddings: Inicializados")}catch(o){this.errors.push(`Embeddings: ${o}`),console.error("⚠️  Embeddings: Usando modo fallback"),r.embeddings=!0}try{this.cacheService.startAutoCleanup(),r.cache=!0,console.log("✅ Cache: Ativo (limpeza automática a cada 5min)")}catch(o){this.errors.push(`Cache: ${o}`),console.error("❌ Cache: Falha")}try{const o=await this.collectUsageMetrics();s.conversations24h=o.conversations24h,s.highConfidenceRate=o.highConfidenceRate,console.log(`📊 Métricas: ${s.conversations24h} conversas (24h), ${s.highConfidenceRate}% confiança`)}catch(o){console.warn("⚠️  Métricas não disponíveis:",o)}const a=Date.now()-e,i=r.database&&r.knowledgeBase;return i?console.log(`✅ ThomazAI pronto! (${a}ms)`):console.error(`❌ ThomazAI com problemas (${this.errors.length} erros)`),{success:i,duration:a,checks:r,errors:this.errors,metrics:s}}async checkDatabase(){const{error:e}=await he.from("thomaz_knowledge_sources").select("id").limit(1);if(e)throw e}async checkKnowledgeBase(){const{data:e,error:r}=await he.from("thomaz_knowledge_sources").select("id",{count:"exact"}).eq("is_active",!0);if(r)throw r;const{data:s,error:a}=await he.from("thomaz_document_chunks").select("id",{count:"exact"});if(a)throw a;return{totalDocuments:e?.length||0,totalChunks:s?.length||0}}async initializeEmbeddings(){const{data:e,error:r}=await he.from("thomaz_knowledge_sources").select("id, title").eq("is_active",!0);if(r)throw r;if(!e||e.length===0)return;let s=0;for(const a of e){const{data:i}=await he.from("thomaz_document_chunks").select("id").eq("source_id",a.id).limit(1);(!i||i.length===0)&&s++}s>0&&(console.log(`📝 ${s} documentos precisam de indexação`),console.log("⏳ Indexação será feita em background..."),setTimeout(()=>{this.embeddingsService.indexAllDocuments().then(()=>console.log("✅ Indexação em background concluída")).catch(a=>console.error("❌ Erro na indexação:",a))},5e3))}async collectUsageMetrics(){const{data:e,error:r}=await he.from("thomaz_conversations").select("id, confidence").gte("created_at",new Date(Date.now()-864e5).toISOString());if(r)return{conversations24h:0,highConfidenceRate:0};const s=e?.length||0,a=e?.filter(i=>i.confidence>.85).length||0;return{conversations24h:s,highConfidenceRate:s>0?Math.round(a/s*100):0}}async healthCheck(){try{const{data:e,error:r}=await he.rpc("thomaz_health_check");if(r)throw r;return e}catch(e){return console.error("Health check error:",e),null}}async forceReindex(){console.log("🔄 Iniciando reindexação completa...");try{await this.embeddingsService.indexAllDocuments(),console.log("✅ Reindexação concluída")}catch(e){throw console.error("❌ Erro na reindexação:",e),e}}}let Gj=null;function uce(){return Gj||(Gj=new dce),Gj}async function hce(){return await uce().initialize()}function Ace({isOpen:t,onClose:e}){const[r,s]=F.useState(""),[a,i]=F.useState([]),[o,l]=F.useState(!1),[c,d]=F.useState(0),u=Vs(),h=[{id:"new-os",type:"action",title:"Nova Ordem de Serviço",subtitle:"Criar OS rapidamente",url:"/service-orders/create",icon:n.jsx(Ot,{className:"w-5 h-5 text-blue-600"}),badge:"Ctrl+N"},{id:"new-cliente",type:"action",title:"Novo Cliente",subtitle:"Cadastrar cliente",url:"/clients/new",icon:n.jsx(Ot,{className:"w-5 h-5 text-green-600"})},{id:"new-lancamento",type:"action",title:"Novo Lançamento",subtitle:"Adicionar receita/despesa",url:"/financial/new",icon:n.jsx(Ot,{className:"w-5 h-5 text-purple-600"})}],m=F.useCallback(async f=>{if(!f||f.length<2){i(h);return}l(!0);try{const b=[],y=f.toLowerCase(),{data:g}=await he.from("service_orders").select("id, order_number, client_name, status").or(`order_number.ilike.%${f}%,client_name.ilike.%${f}%`).limit(3);g?.forEach(C=>{b.push({id:C.id,type:"os",title:`OS #${C.order_number}`,subtitle:C.client_name,url:`/service-orders/${C.id}`,icon:n.jsx(vt,{className:"w-5 h-5 text-blue-600"}),badge:C.status})});const{data:x}=await he.from("customers").select("id, name, document, phone").or(`name.ilike.%${f}%,document.ilike.%${f}%,phone.ilike.%${f}%`).limit(3);x?.forEach(C=>{b.push({id:C.id,type:"cliente",title:C.name,subtitle:C.document||C.phone,url:`/clients/${C.id}`,icon:n.jsx(Zt,{className:"w-5 h-5 text-green-600"})})});const{data:v}=await he.from("employees").select("id, name, role, phone").or(`name.ilike.%${f}%,role.ilike.%${f}%`).limit(3);v?.forEach(C=>{b.push({id:C.id,type:"funcionario",title:C.name,subtitle:C.role||C.phone,url:`/employees/${C.id}`,icon:n.jsx(xne,{className:"w-5 h-5 text-purple-600"})})});const{data:j}=await he.from("inventory_items").select("id, name, sku, current_stock").or(`name.ilike.%${f}%,sku.ilike.%${f}%`).limit(3);j?.forEach(C=>{b.push({id:C.id,type:"material",title:C.name,subtitle:`SKU: ${C.sku} | Estoque: ${C.current_stock}`,url:`/inventory/${C.id}`,icon:n.jsx($t,{className:"w-5 h-5 text-orange-600"})})});const{data:B}=await he.from("finance_entries").select("id, description, amount, type, due_date").ilike("description",`%${f}%`).order("due_date",{ascending:!1}).limit(3);B?.forEach(C=>{b.push({id:C.id,type:"financeiro",title:C.description,subtitle:`R$ ${C.amount.toFixed(2)} - ${new Date(C.due_date).toLocaleDateString()}`,url:`/financial/${C.id}`,icon:n.jsx(pr,{className:"w-5 h-5 text-emerald-600"}),badge:C.type==="receita"?"Receita":"Despesa"})}),i(b.length>0?b:[{id:"no-results",type:"action",title:"Nenhum resultado encontrado",subtitle:`Nada encontrado para "${f}"`,url:"#",icon:n.jsx(Ir,{className:"w-5 h-5 text-gray-400"})}])}catch(b){console.error("Erro na busca:",b)}finally{l(!1)}},[]);return F.useEffect(()=>{const f=setTimeout(()=>{m(r)},300);return()=>clearTimeout(f)},[r,m]),F.useEffect(()=>{if(!t)return;const f=b=>{if((b.ctrlKey||b.metaKey)&&b.key==="k"){b.preventDefault(),b.stopPropagation();return}b.key==="Escape"?(b.preventDefault(),e()):b.key==="ArrowDown"?(b.preventDefault(),b.stopPropagation(),d(y=>Math.min(y+1,a.length-1))):b.key==="ArrowUp"?(b.preventDefault(),b.stopPropagation(),d(y=>Math.max(y-1,0))):b.key==="Enter"&&(b.preventDefault(),b.stopPropagation(),a[c]&&(u(a[c].url),e()))};return window.addEventListener("keydown",f,{capture:!0}),()=>window.removeEventListener("keydown",f,{capture:!0})},[t,a,c,u,e]),F.useEffect(()=>{t&&(s(""),i(h),d(0))},[t]),t?n.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-[20vh] px-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),n.jsxs("div",{className:"relative w-full max-w-2xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-gray-200",children:[n.jsx(Ir,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),n.jsx("input",{type:"text",value:r,onChange:f=>s(f.target.value),placeholder:"Buscar OSs, clientes, funcionários, materiais...",className:"flex-1 text-lg bg-transparent border-none outline-none",autoFocus:!0}),o&&n.jsx(q0,{className:"w-5 h-5 text-blue-600 animate-spin"}),n.jsx("button",{onClick:e,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Et,{className:"w-5 h-5 text-gray-400"})})]}),n.jsx("div",{className:"max-h-[60vh] overflow-y-auto",children:a.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Ir,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),n.jsx("p",{children:"Digite para buscar..."})]}):n.jsx("div",{className:"py-2",children:a.map((f,b)=>n.jsxs("button",{onClick:()=>{f.url!=="#"&&(u(f.url),e())},className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors ${b===c?"bg-blue-50":""}`,children:[n.jsx("div",{className:"flex-shrink-0",children:f.icon}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:"font-medium text-gray-900",children:f.title}),f.subtitle&&n.jsx("div",{className:"text-sm text-gray-500",children:f.subtitle})]}),f.badge&&n.jsx("div",{className:"flex-shrink-0 text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded",children:f.badge})]},f.id))})}),n.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:"↑↓"}),n.jsx("span",{children:"Navegar"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:"Enter"}),n.jsx("span",{children:"Selecionar"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded border border-gray-300 font-mono",children:"Esc"}),n.jsx("span",{children:"Fechar"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ene,{className:"w-3 h-3"}),n.jsx("span",{children:"+K para abrir"})]})]})]})]}):null}function mce(){const[t,e]=F.useState(!1);return F.useEffect(()=>{const r=s=>{(s.metaKey||s.ctrlKey)&&s.key==="k"&&(s.preventDefault(),s.stopPropagation(),e(a=>!a)),s.key==="Escape"&&e(!1)};return window.addEventListener("keydown",r,{capture:!0}),()=>window.removeEventListener("keydown",r,{capture:!0})},[]),{isSearchOpen:t,openSearch:()=>e(!0),closeSearch:()=>e(!1)}}function fce({isOpen:t,onClose:e}){const[r,s]=F.useState(""),[a,i]=F.useState([]),[o,l]=F.useState(0),[c,d]=F.useState(!1),u=Vs(),h=F.useRef(null),m=[{id:"new-os",type:"action",title:"Nova Ordem de Serviço",icon:n.jsx(Ot,{className:"h-4 w-4"}),link:"/service-orders/create"},{id:"new-customer",type:"action",title:"Novo Cliente",icon:n.jsx(Zt,{className:"h-4 w-4"}),link:"/customers/new"},{id:"new-finance",type:"action",title:"Novo Lançamento Financeiro",icon:n.jsx(pr,{className:"h-4 w-4"}),link:"/financial/new"},{id:"dashboard",type:"page",title:"Dashboard",icon:n.jsx(Or,{className:"h-4 w-4"}),link:"/dashboard"},{id:"service-orders",type:"page",title:"Ordens de Serviço",icon:n.jsx(vt,{className:"h-4 w-4"}),link:"/service-orders"},{id:"customers",type:"page",title:"Clientes",icon:n.jsx(Zt,{className:"h-4 w-4"}),link:"/client-management"},{id:"inventory",type:"page",title:"Estoque",icon:n.jsx($t,{className:"h-4 w-4"}),link:"/inventory"},{id:"settings",type:"page",title:"Configurações",icon:n.jsx(gh,{className:"h-4 w-4"}),link:"/settings"}];F.useEffect(()=>{t&&(h.current?.focus(),s(""),l(0))},[t]),F.useEffect(()=>{if(r.trim()===""){i(m);return}f(r)},[r]);const f=async v=>{d(!0);const j=[];try{const B=v.toLowerCase(),{data:C}=await he.from("service_orders").select("id, order_number, status").or(`order_number.ilike.%${v}%,status.ilike.%${v}%`).limit(5);C?.forEach(I=>{j.push({id:I.id,type:"service_order",title:`OS #${I.order_number}`,subtitle:I.status,icon:n.jsx(vt,{className:"h-4 w-4"}),link:`/service-orders/${I.id}`})});const{data:E}=await he.from("customers").select("id, name, email").or(`name.ilike.%${v}%,email.ilike.%${v}%`).limit(5);E?.forEach(I=>{j.push({id:I.id,type:"customer",title:I.name,subtitle:I.email,icon:n.jsx(Zt,{className:"h-4 w-4"}),link:`/client-management?customer=${I.id}`})});const{data:M}=await he.from("service_catalog").select("id, name, category").ilike("name",`%${v}%`).limit(5);M?.forEach(I=>{j.push({id:I.id,type:"product",title:I.name,subtitle:I.category,icon:n.jsx($t,{className:"h-4 w-4"}),link:`/service-catalog/${I.id}`})});const{data:S}=await he.from("employees").select("id, name, role").ilike("name",`%${v}%`).limit(5);S?.forEach(I=>{j.push({id:I.id,type:"employee",title:I.name,subtitle:I.role,icon:n.jsx(Zt,{className:"h-4 w-4"}),link:`/employees/${I.id}`})});const k=m.filter(I=>I.title.toLowerCase().includes(B));i([...k,...j])}catch(B){console.error("Error searching:",B)}finally{d(!1)}},b=v=>{v.key==="ArrowDown"?(v.preventDefault(),l(j=>(j+1)%a.length)):v.key==="ArrowUp"?(v.preventDefault(),l(j=>(j-1+a.length)%a.length)):v.key==="Enter"?(v.preventDefault(),a[o]&&y(a[o])):v.key==="Escape"&&e()},y=v=>{u(v.link),e()},g=v=>{switch(v){case"service_order":return"Ordem de Serviço";case"customer":return"Cliente";case"product":return"Produto/Serviço";case"employee":return"Funcionário";case"action":return"Ação Rápida";case"page":return"Página";default:return""}},x=v=>{switch(v){case"service_order":return"text-blue-600 bg-blue-50";case"customer":return"text-green-600 bg-green-50";case"product":return"text-purple-600 bg-purple-50";case"employee":return"text-orange-600 bg-orange-50";case"action":return"text-red-600 bg-red-50";case"page":return"text-gray-600 bg-gray-50";default:return"text-gray-600 bg-gray-50"}};return t?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 transition-opacity",onClick:e}),n.jsx("div",{className:"fixed top-20 left-1/2 transform -translate-x-1/2 w-full max-w-2xl z-50",children:n.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-200",children:[n.jsx(Ir,{className:"h-5 w-5 text-gray-400 mr-3"}),n.jsx("input",{ref:h,type:"text",value:r,onChange:v=>s(v.target.value),onKeyDown:b,placeholder:"Buscar em tudo... (↑↓ para navegar, Enter para selecionar, Esc para fechar)",className:"flex-1 outline-none text-gray-900 placeholder-gray-400"}),c&&n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})]}),n.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:a.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Ir,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Nenhum resultado encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Tente buscar por nome, número ou categoria"})]}):n.jsxs("div",{className:"py-2",children:[r===""&&n.jsx("div",{className:"px-3 py-2",children:n.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Ações Rápidas"})}),a.map((v,j)=>n.jsxs("button",{onClick:()=>y(v),className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors ${j===o?"bg-blue-50 border-l-4 border-blue-600":""}`,children:[n.jsx("div",{className:`p-2 rounded-lg ${x(v.type)}`,children:v.icon}),n.jsxs("div",{className:"flex-1 text-left",children:[n.jsx("div",{className:"font-medium text-gray-900",children:v.title}),v.subtitle&&n.jsx("div",{className:"text-sm text-gray-500",children:v.subtitle})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x(v.type)}`,children:g(v.type)}),n.jsx(uo,{className:"h-4 w-4 text-gray-400"})]})]},v.id))]})}),n.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{children:"↑↓ Navegar"}),n.jsx("span",{children:"Enter Selecionar"}),n.jsx("span",{children:"Esc Fechar"})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded",children:"Ctrl"}),n.jsx("span",{children:"+"}),n.jsx("kbd",{className:"px-2 py-1 bg-white border border-gray-300 rounded",children:"K"})]})]})]})})]}):null}function pce(){const[t,e]=F.useState(!1);return F.useEffect(()=>{const r=s=>{(s.metaKey||s.ctrlKey)&&s.key==="k"&&(s.preventDefault(),e(!0))};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[]),{isOpen:t,open:()=>e(!0),close:()=>e(!1),toggle:()=>e(r=>!r)}}function gce(){const t=Vs(),e=Ch(),r=[{icon:n.jsx(hse,{className:"h-6 w-6"}),label:"Início",path:"/dashboard"},{icon:n.jsx(vt,{className:"h-6 w-6"}),label:"OSs",path:"/service-orders"},{icon:n.jsx(Ot,{className:"h-8 w-8"}),label:"Criar",path:"/service-orders/create"},{icon:n.jsx(qf,{className:"h-6 w-6"}),label:"Alertas",path:"/notifications",badge:3},{icon:n.jsx(nn,{className:"h-6 w-6"}),label:"Perfil",path:"/profile"}],s=a=>e.pathname===a||e.pathname.startsWith(a+"/");return n.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-inset-bottom",children:n.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:r.map((a,i)=>{const o=s(a.path),l=i===2;return n.jsx("button",{onClick:()=>t(a.path),className:`flex flex-col items-center justify-center flex-1 relative ${l?"transform -translate-y-6":""}`,children:l?n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full shadow-lg flex items-center justify-center text-white",children:a.icon}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`relative ${o?"text-blue-600":"text-gray-400"}`,children:[a.icon,a.badge&&a.badge>0&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:a.badge>9?"9+":a.badge})]}),n.jsx("span",{className:`text-xs mt-1 font-medium ${o?"text-blue-600":"text-gray-600"}`,children:a.label})]})},a.path)})})})}function xce(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("✅ SW registered:",t),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("🆕 New SW available"),yce())})})}).catch(t=>{console.error("❌ SW registration failed:",t)})})}function yce(){confirm("Nova versão disponível! Deseja atualizar agora?")&&window.location.reload()}function bce(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}const EH=F.createContext(void 0),Mn=()=>{const t=F.useContext(EH);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},vce=({children:t})=>{const[e,r]=F.useState(null),[s,a]=F.useState(null),[i,o]=F.useState(!0);F.useEffect(()=>{const x={id:"mock-admin-id",email:"admin@sistema.com",name:"Administrador",role:"admin",avatar:void 0,status:"active",department_id:void 0,phone:void 0,permissions:["view_dashboard","manage_orders","view_orders","manage_clients","view_clients","manage_inventory","view_inventory","manage_financial","view_financial","view_bank_balances","manage_users","system_settings"]},v={id:"mock-admin-id",email:"admin@sistema.com",aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),app_metadata:{},user_metadata:{}};a(x),r({...x,authUser:v}),o(!1)},[]);const l=s?.role==="admin",c=s?.role==="manager",d=s?.role==="technician",u=s?.role==="external",h=l||c,m=l,f=x=>l?!0:s?.permissions?.includes(x)||!1,b=async(x,v)=>{console.log("Login simulado:",x)},y=async()=>{console.log("Logout simulado")},g=x=>{console.log("Premium feature requested:",x)};return n.jsx(EH.Provider,{value:{user:e,profile:s,isLoading:i,isAdmin:l,isManager:c,isTechnician:d,isExternal:u,isPremium:h,isEnterprise:m,hasPermission:f,login:b,logout:y,onPremiumFeature:g},children:t})},wg=[{id:"inicio",path:"/",icon:DA,label:"Dashboard CFO",description:"20+ KPIs executivos em tempo real para decisões estratégicas"},{id:"agenda",path:"/calendar",icon:kr,label:"Agenda",description:"Compromissos e eventos"},{id:"clients",path:"/client-management",icon:Zt,label:"Clientes",description:"Gestão de clientes PF/PJ"},{id:"fornecedores",path:"/suppliers",icon:hc,label:"Fornecedores",description:"Gestão de fornecedores"},{id:"compras",path:"/purchasing",icon:Ff,label:"Compras",description:"Pedidos e alertas de estoque"},{id:"service-orders",path:"/service-orders",icon:yi,label:"Ordens de Serviço",description:"Gestão de OS"},{id:"rotas",path:"/rotas",icon:V0,label:"Rotas",description:"Rastreamento e gestão de rotas"},{id:"financeiro",path:"/financeiro",icon:pr,label:"Financeiro",description:"Centro financeiro completo com dashboard, movimentações, análises, contas e categorias"},{id:"executivo",path:"/executivo",icon:Or,label:"Consolidado Executivo",description:"Visão consolidada com Credit Scoring, Metas & Targets e análises estratégicas"},{id:"relatorios",path:"/relatorios",icon:vt,label:"Relatórios",description:"Todos os relatórios: dashboards interativos, PDFs profissionais e análises customizadas"},{id:"catalogo",path:"/service-catalog",icon:$E,label:"Catálogo de Serviços",description:"Serviços disponíveis"},{id:"inventory",path:"/inventory",icon:$t,label:"Estoque",description:"Controle de materiais"},{id:"automacoes",path:"/automacoes",icon:oh,label:"Automações",description:"Workflows e automações"},{id:"whatsapp-crm",path:"/whatsapp-crm",icon:Kf,label:"WhatsApp CRM",description:"Gestão de conversas"},{id:"thomaz",path:"/thomaz",icon:zf,label:"Thomaz AI",description:"Consultor Empresarial"},{id:"thomaz-metrics",path:"/thomaz-metrics",icon:zf,label:"Métricas Thomaz",description:"Performance da IA"},{id:"email",path:"/email/inbox",icon:ks,label:"Email Corporativo",description:"Enviar e receber emails"},{id:"library",path:"/digital-library",icon:jse,label:"Biblioteca Digital",description:"Documentos e arquivos"},{id:"funcionarios",path:"/funcionarios",icon:tie,label:"Funcionários",description:"Gestão de funcionários"},{id:"users",path:"/users",icon:Zt,label:"Usuários",description:"Gerenciar usuários"},{id:"access",path:"/access-management",icon:Vf,label:"Gestão de Acessos",description:"Controle de permissões"},{id:"audit",path:"/audit-logs",icon:rn,label:"Auditoria",description:"Rastreamento de operações"},{id:"document-templates",path:"/document-templates",icon:vt,label:"Templates de Documentos",description:"Gerenciar templates de OS, contratos e propostas"},{id:"customization",path:"/visual-customization",icon:g1,label:"Personalização",description:"Customizar interface"},{id:"settings",path:"/settings",icon:gh,label:"Configurações",description:"Configurações gerais"}],wce=({onCollapse:t})=>{const e=Ch(),{user:r,logout:s}=Mn(),[a,i]=F.useState(!1),[o,l]=F.useState(wg),[c,d]=F.useState(null),[u,h]=F.useState(!1),[m,f]=F.useState(0),[b,y]=F.useState({total:0,meeting:0,pagar:0,cobrar:0,operational:0,other:0});F.useEffect(()=>{j().catch(T=>{console.error("Failed to load menu order:",T)}),x(),v();const _=setInterval(()=>{x(),v()},6e4);return()=>clearInterval(_)},[]);const g=()=>r?.email||"default_user",x=async()=>{try{const{data:_,error:T}=await he.rpc("get_critical_stock_count");!T&&_!==null&&f(_)}catch(_){console.error("Error loading stock alerts:",_)}},v=async()=>{try{const{data:_,error:T}=await he.rpc("get_urgent_events_by_type");!T&&_!==null&&y(_)}catch(_){console.error("Error loading agenda alerts:",_)}},j=async()=>{try{const _=g(),{data:T,error:D}=await he.from("user_menu_order").select("menu_items").eq("user_id",_).maybeSingle();if(D){console.warn("Error loading menu order, using defaults:",D);return}if(T&&T.menu_items&&Array.isArray(T.menu_items)){const L=T.menu_items,V=L.map(Z=>wg.find(G=>G.id===Z)).filter(Z=>Z!==void 0),z=wg.filter(Z=>!L.includes(Z.id));l([...V,...z])}}catch(_){console.error("Error loading menu order, using defaults:",_)}},B=async _=>{try{const T=g(),D=_.map(V=>V.id),{error:L}=await he.from("user_menu_order").upsert({user_id:T,menu_items:D,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(L)throw L}catch(T){console.error("Error saving menu order:",T)}},C=(_,T)=>{u&&(d(T),_.dataTransfer.effectAllowed="move")},E=_=>{u&&(_.preventDefault(),_.dataTransfer.dropEffect="move")},M=(_,T)=>{if(!u||!c)return;_.preventDefault();const D=o.findIndex(Z=>Z.id===c),L=o.findIndex(Z=>Z.id===T);if(D===-1||L===-1)return;const V=[...o],[z]=V.splice(D,1);V.splice(L,0,z),l(V),B(V),d(null)},S=()=>{l(wg),B(wg)},k=()=>{const _=!a;i(_),t?.(_)},I=_=>e.pathname===_;return n.jsxs(ue.aside,{initial:{x:0},animate:{width:a?"80px":"280px"},transition:{duration:.3},className:"fixed left-0 top-0 bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col shadow-2xl z-50",children:[n.jsx("div",{className:"p-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!a&&n.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:[n.jsx(DA,{className:"h-8 w-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:"GiarTech"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Sistema Integrado"})]})]}),n.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a?n.jsx(A1,{className:"h-5 w-5"}):n.jsx(Fv,{className:"h-5 w-5"})})]})}),!a&&n.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>h(!u),className:`text-xs px-3 py-1 rounded transition-colors ${u?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:u?"Salvar Ordem":"Editar Menu"}),u&&n.jsxs("button",{onClick:S,className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 hover:bg-gray-600 flex items-center gap-1",title:"Restaurar ordem padrão",children:[n.jsx(Z$,{className:"h-3 w-3"}),"Restaurar"]})]}),u&&n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Arraste os itens para reordenar"})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:o.map(_=>{const T=_.icon,D=I(_.path);return n.jsxs(Pl,{to:_.path,draggable:u,onDragStart:L=>C(L,_.id),onDragOver:E,onDrop:L=>M(L,_.id),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative ${D?"bg-blue-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"} ${u?"cursor-move":"cursor-pointer"} ${c===_.id?"opacity-50":""}`,title:a?_.label:"",children:[u&&!a&&n.jsx(ose,{className:"h-4 w-4 text-gray-400"}),n.jsx(T,{className:`h-5 w-5 ${D?"text-white":"text-gray-400 group-hover:text-white"}`}),!a&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx("p",{className:"font-medium truncate",children:_.label}),_.id==="compras"&&m>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:m}),_.id==="agenda"&&b.total>0&&n.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[b.meeting>0&&n.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Reuniões/Pessoal",children:b.meeting}),b.pagar>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Pagamentos",children:b.pagar}),b.cobrar>0&&n.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Cobranças",children:b.cobrar}),b.operational>0&&n.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Operacional",children:b.operational}),b.other>0&&n.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Outros",children:b.other})]})]}),n.jsx("p",{className:"text-xs opacity-75 truncate",children:_.description})]}),_.id==="compras"&&m>0&&a&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse min-w-[20px] text-center",children:m}),_.id==="agenda"&&b.total>0&&a&&n.jsxs("div",{className:"absolute -top-1 -right-1 flex flex-col gap-0.5",children:[b.meeting>0&&n.jsx("span",{className:"bg-blue-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Reuniões",children:b.meeting}),b.pagar>0&&n.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Pagar",children:b.pagar}),b.cobrar>0&&n.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Cobrar",children:b.cobrar}),b.operational>0&&n.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Operacional",children:b.operational}),b.other>0&&n.jsx("span",{className:"bg-purple-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Outros",children:b.other})]}),D&&!a&&n.jsx(ue.div,{layoutId:"activeIndicator",className:"absolute right-0 top-0 bottom-0 w-1 bg-white rounded-l"})]},_.id)})}),n.jsx("div",{className:"p-4 border-t border-gray-700",children:a?n.jsx("button",{onClick:s,className:"w-full p-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",title:"Sair",children:n.jsx(mF,{className:"h-5 w-5 mx-auto"})}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:r?.name?.[0]||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:r?.name||"Usuário"}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:r?.email||"user@example.com"})]})]}),n.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[n.jsx(mF,{className:"h-5 w-5"}),n.jsx("span",{children:"Sair"})]})]})})]})},Wt=({children:t})=>{const[e,r]=F.useState(!1),[s,a]=F.useState("calc(100% - 280px)"),[i,o]=F.useState("280px"),l=c=>{r(c)};return F.useEffect(()=>{e?(a("calc(100% - 80px)"),o("80px")):(a("calc(100% - 280px)"),o("280px"))},[e]),F.useEffect(()=>{const c=d=>{d.altKey&&d.key==="h"&&console.log("Quick access activated with Alt+H")};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(wce,{onCollapse:l}),n.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:i},children:t||n.jsx(kY,{})})]})},jce=({serviceOrderId:t,onUpdate:e})=>{const[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState(!1),[c,d]=F.useState({service_order_id:t,cost_type:"outros",description:"",amount:0,cost_date:new Date().toISOString().split("T")[0],supplier:"",payment_method:"",invoice_number:"",notes:""}),u=[{value:"material",label:"Material Extra",icon:$t,color:"orange"},{value:"combustivel",label:"Combustível",icon:rse,color:"red"},{value:"deslocamento",label:"Deslocamento",icon:Tv,color:"blue"},{value:"terceirizado",label:"Terceirizado",icon:Zt,color:"purple"},{value:"alimentacao",label:"Alimentação",icon:Sne,color:"green"},{value:"pedagio",label:"Pedágio",icon:pn,color:"yellow"},{value:"estacionamento",label:"Estacionamento",icon:Tv,color:"indigo"},{value:"outros",label:"Outros",icon:pr,color:"gray"}];F.useEffect(()=>{h()},[t]);const h=async()=>{try{i(!0);const{data:v,error:j}=await he.from("service_order_costs").select("*").eq("service_order_id",t).order("cost_date",{ascending:!1});if(j)throw j;s(v||[])}catch(v){console.error("Error loading costs:",v)}finally{i(!1)}},m=async()=>{if(!c.description||!c.amount){alert("Preencha descrição e valor!");return}try{const{error:v}=await he.from("service_order_costs").insert([c]);if(v)throw v;await h(),d({service_order_id:t,cost_type:"outros",description:"",amount:0,cost_date:new Date().toISOString().split("T")[0],supplier:"",payment_method:"",invoice_number:"",notes:""}),l(!1),e&&e()}catch(v){console.error("Error adding cost:",v),alert("Erro ao adicionar custo!")}},f=async v=>{if(confirm("Deseja realmente excluir este custo?"))try{const{error:j}=await he.from("service_order_costs").delete().eq("id",v);if(j)throw j;await h(),e&&e()}catch(j){console.error("Error deleting cost:",j),alert("Erro ao excluir custo!")}},b=v=>u.find(j=>j.value===v)||u[u.length-1],y=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),g=v=>new Date(v).toLocaleDateString("pt-BR"),x=r.reduce((v,j)=>v+Number(j.amount),0);return a?n.jsx("div",{className:"text-center py-8",children:"Carregando custos..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold mb-1",children:"Centro de Custos"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Gerencie todos os custos desta ordem de serviço"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Total de Custos Adicionais"}),n.jsx("p",{className:"text-3xl font-bold",children:y(x)}),n.jsxs("p",{className:"text-blue-100 text-xs mt-1",children:[r.length," ",r.length===1?"item":"itens"]})]})]})}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>l(!o),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[n.jsx(Ot,{className:"h-5 w-5"}),o?"Cancelar":"Adicionar Custo"]})}),n.jsx(Nt,{children:o&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-blue-600"}),"Novo Custo"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Custo"}),n.jsx("select",{value:c.cost_type,onChange:v=>d({...c,cost_type:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:u.map(v=>n.jsx("option",{value:v.value,children:v.label},v.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data do Custo"}),n.jsx("input",{type:"date",value:c.cost_date,onChange:v=>d({...c,cost_date:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição *"}),n.jsx("input",{type:"text",value:c.description,onChange:v=>d({...c,description:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gasolina para deslocamento, Almoço da equipe..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Valor *"}),n.jsx("input",{type:"number",step:"0.01",value:c.amount,onChange:v=>d({...c,amount:parseFloat(v.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor/Local"}),n.jsx("input",{type:"text",value:c.supplier,onChange:v=>d({...c,supplier:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Forma de Pagamento"}),n.jsxs("select",{value:c.payment_method,onChange:v=>d({...c,payment_method:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"debito",children:"Cartão de Débito"}),n.jsx("option",{value:"credito",children:"Cartão de Crédito"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"transferencia",children:"Transferência"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Número da Nota/Cupom"}),n.jsx("input",{type:"text",value:c.invoice_number,onChange:v=>d({...c,invoice_number:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"NF/Cupom"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),n.jsx("textarea",{value:c.notes,onChange:v=>d({...c,notes:v.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observações adicionais..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsx("button",{onClick:m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Custo"})]})]})}),r.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(pr,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum custo adicional registrado"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Adicionar Custo" para começar'})]}):n.jsx("div",{className:"space-y-3",children:r.map(v=>{const j=b(v.cost_type),B=j.icon;return n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`p-2 bg-${j.color}-100 rounded-lg`,children:n.jsx(B,{className:`h-5 w-5 text-${j.color}-600`})}),n.jsxs("div",{children:[n.jsx("h5",{className:"font-semibold text-gray-900",children:v.description}),n.jsx("p",{className:"text-sm text-gray-500",children:j.label})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Data:"}),n.jsx("p",{className:"font-medium",children:g(v.cost_date)})]}),v.supplier&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Fornecedor:"}),n.jsx("p",{className:"font-medium",children:v.supplier})]}),v.payment_method&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Pagamento:"}),n.jsx("p",{className:"font-medium capitalize",children:v.payment_method})]}),v.invoice_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"NF/Cupom:"}),n.jsx("p",{className:"font-medium",children:v.invoice_number})]})]}),v.notes&&n.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:n.jsx("p",{className:"text-sm text-gray-600",children:v.notes})})]}),n.jsxs("div",{className:"flex items-start gap-4 ml-4",children:[n.jsx("div",{className:"text-right",children:n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:y(v.amount)})}),n.jsx("button",{onClick:()=>f(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir custo",children:n.jsx(rr,{className:"h-5 w-5"})})]})]})},v.id)})}),r.length>0&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5 text-blue-600"}),"Resumo por Tipo de Custo"]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:u.map(v=>{const j=r.filter(E=>E.cost_type===v.value),B=j.reduce((E,M)=>E+Number(M.amount),0);if(B===0)return null;const C=v.icon;return n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(C,{className:`h-4 w-4 text-${v.color}-600`}),n.jsx("span",{className:"text-xs text-gray-600",children:v.label})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:y(B)}),n.jsxs("p",{className:"text-xs text-gray-500",children:[j.length," ",j.length===1?"item":"itens"]})]},v.value)})})]})]})},Xj="serviceOrderDraft",Nce=({isOpen:t,onClose:e,onSave:r,orderId:s})=>{const[a,i]=F.useState("dados"),[o,l]=F.useState(!1),[c,d]=F.useState(""),[u,h]=F.useState(""),[m,f]=F.useState(""),[b,y]=F.useState(null),[g,x]=F.useState({customer_id:"",description:"",scheduled_at:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",estimated_hours:0,actual_hours:0,title:"",brand:"",model:"",equipment:"",prazo_execucao_dias:15,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",additional_info:""}),[v,j]=F.useState([]),[B,C]=F.useState(null),[E,M]=F.useState([]),[S,k]=F.useState([]),[I,_]=F.useState([]),[T,D]=F.useState([]),[L,V]=F.useState([]),[z,Z]=F.useState(null),[G,H]=F.useState([]),[ee,Y]=F.useState([]),[q,U]=F.useState([]),[te,X]=F.useState(!1),[se,fe]=F.useState(!1),[me,pe]=F.useState(!1),[_e,ge]=F.useState(!1),[ye,Ve]=F.useState({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}),[st,Ne]=F.useState({name:"",description:"",base_price:0,estimated_time_minutes:60}),[J,Me]=F.useState({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1});F.useEffect(()=>{t?(Ie(),s?le(s):Ze()):i("dados")},[t,s]),F.useEffect(()=>{t&&!s&&Se()},[g,G,ee,q]),F.useEffect(()=>{if(g.customer_id&&v.length>0){const ve=v.find(xt=>xt.id===g.customer_id);C(ve||null)}},[g.customer_id,v]);const Ie=async()=>{try{const[ve,xt,Xe,ft,Qr,Gt,pt]=await Promise.all([he.from("customers").select("*, customer_addresses(*)").order("nome_razao"),he.from("materials").select("*").eq("active",!0).order("name"),he.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),he.from("bank_accounts").select("*").eq("active",!0).order("account_name"),he.from("contract_templates").select("*").order("name"),he.from("service_catalog").select("*, service_catalog_materials(*)").eq("active",!0).order("name"),he.from("company_settings").select("*").limit(1)]);j(ve.data||[]),M(xt.data||[]),k(Xe.data||[]),_(ft.data||[]),D(Qr.data||[]),V(Gt.data||[]),Z(pt.data?.[0]||null)}catch(ve){console.error("Error loading data:",ve)}},le=async ve=>{try{l(!0);const xt=`?_t=${Date.now()}`,[Xe,ft,Qr,Gt]=await Promise.all([he.from("service_orders").select("*").eq("id",ve).single(),he.from("service_order_items").select("*").eq("service_order_id",ve).order("created_at",{ascending:!0}),he.from("service_order_materials").select("*").eq("service_order_id",ve),he.from("service_order_team").select("*").eq("service_order_id",ve)]);console.log("🔄 RELOAD FORÇADO - Items carregados:",ft.data?.length||0);const pt=Xe.data;if(!pt)throw new Error("Ordem não encontrada");if(console.log("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"),console.log("📦 CARREGANDO OS:",ve),console.log("✅ TOTAL DE ITEMS NO BANCO:",ft.data?.length||0),console.log("✅ Items:",ft.data?.map(de=>({id:de.id.substring(0,8),descricao:de.descricao?.substring(0,30),created_at:de.created_at}))),console.log("━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━"),x({customer_id:pt.customer_id||"",description:pt.description||"",scheduled_at:pt.scheduled_at||"",desconto_percentual:pt.discount_percentage||0,desconto_valor:pt.discount_amount||0,show_material_costs:pt.show_material_costs||!1,payment_method:pt.payment_method||"dinheiro",payment_installments:pt.payment_installments||1,warranty_period:pt.warranty_period||90,warranty_type:pt.warranty_type||"days",warranty_terms:pt.warranty_terms||"",bank_account_id:pt.bank_account_id||"",contract_template_id:pt.contract_template_id||"",contract_notes:pt.contract_notes||"",notes:pt.notes||"",estimated_hours:pt.estimated_hours||0,actual_hours:pt.actual_hours||0,title:pt.title||"",brand:pt.brand||"",model:pt.model||"",equipment:pt.equipment||"",prazo_execucao_dias:pt.prazo_execucao_dias||15,relatorio_tecnico:pt.relatorio_tecnico||"",orientacoes_servico:pt.orientacoes_servico||"",escopo_detalhado:pt.escopo_detalhado||"",additional_info:pt.additional_info||""}),ft.data&&ft.data.length>0){const de=await Promise.all(ft.data.map(async je=>{const Qe=await he.from("service_order_materials").select("*").eq("service_order_id",ve).eq("service_order_item_id",je.id),Le=await he.from("service_order_labor").select("*").eq("service_order_id",ve).eq("service_order_item_id",je.id),et=(Qe.data||[]).map(Ue=>({id:Ue.id,material_id:Ue.material_id||"",nome:Ue.material_name||"",quantidade:Ue.quantity||0,unidade_medida:Ue.material_unit||Ue.unit||"un",preco_compra_unitario:Ue.unit_cost||0,preco_venda_unitario:Ue.unit_price||0,custo_total:Ue.total_cost||(Ue.unit_cost||0)*(Ue.quantity||0),valor_total:Ue.total_price||(Ue.unit_price||0)*(Ue.quantity||0),lucro:((Ue.unit_price||0)-(Ue.unit_cost||0))*(Ue.quantity||0)})),St=(Le.data||[]).map(Ue=>({id:Ue.id,staff_id:Ue.staff_id||"",nome:Ue.nome_funcionario||"",tempo_minutos:Ue.hours?Ue.hours*60:0,custo_hora:Ue.hourly_rate||0,custo_total:Ue.total_cost||(Ue.hourly_rate||0)*(Ue.hours||0)}));return{id:je.id,service_catalog_id:je.service_catalog_id||"",descricao:je.descricao||je.notes||"Serviço",escopo:je.escopo_detalhado||"",escopo_detalhado:je.escopo_detalhado||"",quantity:je.quantity||1,preco:je.unit_price||0,preco_unitario:je.unit_price||0,preco_total:je.total_price||0,difficulty_level:typeof je.difficulty_level=="number"?je.difficulty_level:1,complexity_level:typeof je.difficulty_level=="string"?je.difficulty_level:"medium",notes:je.notes||"",materiais:et,mao_obra:St,custo_materiais:et.reduce((Ue,hr)=>Ue+hr.custo_total,0),custo_mao_obra:St.reduce((Ue,hr)=>Ue+hr.custo_total,0),custo_total:je.total_cost||0,lucro:(je.total_price||0)-(je.total_cost||0),margem_lucro:je.total_price?(je.total_price-(je.total_cost||0))/je.total_price*100:0}}));console.log("🔧 Serviços carregados com materiais e mão de obra:",de),H(de)}if(Qr.data&&Qr.data.length>0){const je=Qr.data.filter(Qe=>!Qe.service_order_item_id).map(Qe=>({id:Qe.id,material_id:Qe.material_id||"",nome:Qe.material_name||"",quantidade:Qe.quantity||0,unidade_medida:Qe.material_unit||Qe.unit||"un",preco_custo:Qe.unit_cost||0,preco_unitario:Qe.unit_price||0,custo_total:Qe.total_cost||(Qe.unit_cost||0)*(Qe.quantity||0),valor_total:Qe.total_price||(Qe.unit_price||0)*(Qe.quantity||0),lucro:((Qe.unit_price||0)-(Qe.unit_cost||0))*(Qe.quantity||0)}));console.log("📦 Materiais globais:",je),Y(je)}Gt.data&&Gt.data.length>0&&console.log("👥 Equipe disponível:",Gt.data),console.log("✅ Carregamento completo!")}catch(xt){console.error("❌ Erro ao carregar OS:",xt),alert("Erro ao carregar dados da ordem de serviço: "+xt.message)}finally{l(!1)}},Se=()=>{try{const ve={formData:g,serviceItems:G,globalMaterials:ee,globalLabor:q,timestamp:new Date().toISOString()};localStorage.setItem(Xj,JSON.stringify(ve))}catch(ve){console.error("Error saving draft:",ve)}},Ze=()=>{try{const ve=localStorage.getItem(Xj);if(ve){const xt=JSON.parse(ve);x(xt.formData||g),H(xt.serviceItems||[]),Y(xt.globalMaterials||[]),U(xt.globalLabor||[])}}catch(ve){console.error("Error loading draft:",ve)}},Oe=()=>{try{localStorage.removeItem(Xj)}catch(ve){console.error("Error clearing draft:",ve)}},dt=()=>{H([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0},...G])},_t=ve=>{H(G.filter(xt=>xt.id!==ve))},Ge=(ve,xt)=>{H(G.map(Xe=>{if(Xe.id===ve){const ft={...Xe,...xt};return ft.preco_total=ft.quantidade*ft.preco_unitario,ft.custo_materiais=ft.materiais?.reduce((Qr,Gt)=>Qr+Gt.custo_total,0)||0,ft.custo_mao_obra=ft.funcionarios?.reduce((Qr,Gt)=>Qr+Gt.custo_total,0)||0,ft.custo_total=ft.custo_materiais+ft.custo_mao_obra,ft.lucro=ft.preco_total-ft.custo_total,ft.margem_lucro=ft.custo_total>0?ft.lucro/ft.custo_total*100:0,ft}return Xe}))},Ce=()=>{Y([{id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0},...ee])},lt=ve=>{Y(ee.filter(xt=>xt.id!==ve))},ot=(ve,xt)=>{Y(ee.map(Xe=>{if(Xe.id===ve){const ft={...Xe,...xt};return ft.custo_total=ft.quantidade*ft.preco_compra_unitario,ft.valor_total=ft.quantidade*ft.preco_venda_unitario,ft.lucro=ft.valor_total-ft.custo_total,ft}return Xe}))},Pt=(ve,xt)=>{const Xe=E.find(ft=>ft.id===xt);Xe&&(ot(ve,{material_id:xt,nome:Xe.name,unidade_medida:Xe.unit||"UN",preco_compra_unitario:Number(Xe.unit_cost)||0,preco_venda_unitario:Number(Xe.sale_price)||0}),d(""))},zt=()=>{U([{id:crypto.randomUUID(),staff_id:"",nome:"",tempo_minutos:60,custo_hora:0,custo_total:0},...q])},mt=ve=>{U(q.filter(xt=>xt.id!==ve))},zn=(ve,xt)=>{U(q.map(Xe=>{if(Xe.id===ve){const ft={...Xe,...xt},Qr=ft.tempo_minutos/60;return ft.custo_total=Qr*ft.custo_hora,ft}return Xe}))},br=(ve,xt)=>{const Xe=S.find(ft=>ft.id===xt);Xe&&(zn(ve,{staff_id:xt,nome:Xe.name,custo_hora:Number(Xe.custo_hora)||0}),h(""))},Xn=(ve,xt)=>{const Xe=L.find(ft=>ft.id===xt);Xe&&(Ge(ve,{catalog_service_id:xt,descricao:Xe.name,preco_unitario:Number(Xe.base_price)||0,tempo_estimado_minutos:Number(Xe.estimated_time_minutes)||0}),f(""),y(null))},Pr=()=>{const ve=G.reduce((Le,et)=>Le+et.preco_total,0),xt=g.desconto_valor||ve*(g.desconto_percentual/100),Xe=G.reduce((Le,et)=>Le+et.custo_materiais,0),ft=G.reduce((Le,et)=>Le+et.custo_mao_obra,0),Qr=ee.reduce((Le,et)=>Le+et.custo_total,0),Gt=q.reduce((Le,et)=>Le+et.custo_total,0),pt=Xe+ft+Qr+Gt,de=ve-xt,je=de-pt,Qe=pt>0?je/pt*100:0;return{subtotal:ve,desconto:xt,total:de,custo_total:pt,lucro_total:je,margem_lucro:Qe,custo_total_materiais:Xe+Qr,custo_total_mao_obra:ft+Gt,global_materiais:Qr,global_mao_obra:Gt}},Ur=async()=>{try{if(console.log("📝 Iniciando cadastro de cliente:",ye),!ye.nome_razao){alert("Nome/Razão Social é obrigatório!");return}const{data:ve,error:xt}=await he.from("customers").insert([{...ye,tipo:"fisica",active:!0}]).select().single();if(xt)throw console.error("❌ Erro ao cadastrar cliente:",xt),xt;console.log("✅ Cliente cadastrado:",ve),alert("✅ Cliente cadastrado com sucesso!"),j([...v,ve]),x({...g,customer_id:ve.id}),fe(!1),Ve({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})}catch(ve){console.error("❌ Erro completo:",ve),alert(`❌ Erro ao cadastrar cliente: ${ve.message}`)}},Ts=async()=>{try{if(console.log("🛠️ Iniciando cadastro de serviço:",st),!st.name){alert("Nome do serviço é obrigatório!");return}const{data:ve,error:xt}=await he.from("service_catalog").insert([{...st,active:!0,unit:"un"}]).select().single();if(xt)throw console.error("❌ Erro ao cadastrar serviço:",xt),xt;console.log("✅ Serviço cadastrado:",ve),alert("✅ Serviço cadastrado com sucesso!"),V([...L,ve]),pe(!1),Ne({name:"",description:"",base_price:0,estimated_time_minutes:60})}catch(ve){console.error("❌ Erro completo:",ve),alert(`❌ Erro ao cadastrar serviço: ${ve.message}`)}},wr=async()=>{try{if(console.log("📦 Iniciando cadastro de material:",J),!J.name){alert("Nome do material é obrigatório!");return}const{data:ve,error:xt}=await he.from("inventory_items").insert([{name:J.name,unit:J.unit,purchase_price:J.unit_cost,sale_price:J.unit_price,quantity:J.quantity,active:!0,min_quantity:1}]).select().single();if(xt)throw console.error("❌ Erro ao cadastrar material:",xt),xt;console.log("✅ Material cadastrado:",ve),alert("✅ Material cadastrado com sucesso!"),M([...E,ve]),ge(!1),Me({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})}catch(ve){console.error("❌ Erro completo:",ve),alert(`❌ Erro ao cadastrar material: ${ve.message}`)}},ei=async()=>{if(te){console.warn("⚠️ Salvamento já em andamento, ignorando...");return}try{if(!g.customer_id||G.length===0){alert("Selecione um cliente e adicione pelo menos um serviço!");return}X(!0),l(!0),console.log("🔄 Iniciando salvamento da OS...");const ve=Pr(),xt=g.scheduled_at?new Date(new Date(g.scheduled_at).getTime()+g.warranty_period*(g.warranty_type==="days"?864e5:g.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,Xe={customer_id:g.customer_id,description:g.description,scheduled_at:g.scheduled_at||null,status:"aberta",total_value:ve.total,desconto_percentual:g.desconto_percentual,desconto_valor:g.desconto_valor,custo_total_materiais:ve.custo_total_materiais,custo_total_mao_obra:ve.custo_total_mao_obra,custo_total:ve.custo_total,lucro_total:ve.lucro_total,margem_lucro:ve.margem_lucro,show_material_costs:g.show_material_costs,payment_method:g.payment_method,payment_installments:g.payment_installments,bank_account_id:g.bank_account_id||null,warranty_period:g.warranty_period,warranty_type:g.warranty_type,warranty_terms:g.warranty_terms,warranty_end_date:xt,contract_template_id:g.contract_template_id||null,contract_notes:g.contract_notes,subtotal:ve.subtotal,discount_amount:ve.desconto,final_total:ve.total,notes:g.notes,client_name:B?.nome_razao||"",client_company_name:B?.nome_fantasia||"",client_cnpj:B?.cnpj||"",client_cpf:B?.cpf||"",client_phone:B?.telefone_1||"",client_email:B?.email||"",client_address:B?.endereco_logradouro?`${B.endereco_logradouro}${B.endereco_numero?", "+B.endereco_numero:""}${B.endereco_complemento?" - "+B.endereco_complemento:""}${B.endereco_bairro?", "+B.endereco_bairro:""}`:"",client_city:B?.endereco_cidade||"",client_state:B?.endereco_estado||"",client_cep:B?.endereco_cep||"",payment_methods:"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",payment_pix:z?.cnpj||z?.cpf||"00.000.000/0000-00",title:g.title||"",brand:g.brand||"",model:g.model||"",equipment:g.equipment||"",prazo_execucao_dias:g.prazo_execucao_dias||null,relatorio_tecnico:g.relatorio_tecnico||"",orientacoes_servico:g.orientacoes_servico||"",escopo_detalhado:g.escopo_detalhado||"",additional_info:g.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiança"};let ft=s;if(s){console.log("✏️ Atualizando OS existente:",s);const{error:Gt}=await he.from("service_orders").update(Xe).eq("id",s);if(Gt)throw Gt;await he.from("service_order_items").delete().eq("service_order_id",s),await he.from("service_order_materials").delete().eq("service_order_id",s),await he.from("service_order_labor").delete().eq("service_order_id",s)}else{console.log("➕ Criando nova OS");const{data:Gt,error:pt}=await he.from("service_orders").insert([Xe]).select().single();if(pt)throw pt;ft=Gt.id,console.log("✅ OS criada com ID:",ft)}console.log(`📦 Salvando ${G.length} itens de serviço...`),console.log("🔍 Items antes de salvar:",G.map(Gt=>({id:Gt.id,descricao:Gt.descricao?.substring(0,50),service_catalog_id:Gt.service_catalog_id})));const Qr=G.filter((Gt,pt,de)=>{const je=`${Gt.service_catalog_id||"null"}_${Gt.descricao||""}`;return pt===de.findIndex(Qe=>`${Qe.service_catalog_id||"null"}_${Qe.descricao||""}`===je)});Qr.length!==G.length&&console.warn(`⚠️ Removidas ${G.length-Qr.length} duplicatas!`);for(const Gt of Qr){const pt=Gt,de={service_order_id:ft,service_catalog_id:pt.service_catalog_id||null,descricao:pt.descricao||"",escopo_detalhado:pt.escopo||pt.escopo_detalhado||"",quantity:pt.quantity||1,unit_price:pt.preco||pt.preco_unitario||0,total_price:(pt.quantity||1)*(pt.preco||pt.preco_unitario||0),difficulty_level:typeof pt.difficulty_level=="number"?pt.difficulty_level:1,complexity_level:typeof pt.difficulty_level=="string"?pt.difficulty_level:"medium",notes:pt.notes||""},{data:je,error:Qe}=await he.from("service_order_items").insert([de]).select().single();if(Qe)throw console.error("❌ Erro ao salvar item:",Qe),Qe;if(console.log("✅ Item salvo:",je.id),pt.materiais&&pt.materiais.length>0){console.log(`  📦 Salvando ${pt.materiais.length} materiais do item...`);for(const Le of pt.materiais){const et=Le,St={service_order_id:ft,service_order_item_id:je.id,material_id:et.material_id||null,material_name:et.nome||et.name||"",material_unit:et.unidade_medida||et.unit||"un",quantity:et.quantidade||et.quantity||0,unit_cost:et.preco_custo||et.unit_cost||0,unit_price:et.preco_unitario||et.unit_price||0,total_cost:et.custo_total||et.total_cost||0,total_price:et.valor_total||et.total_price||0},{error:Ue}=await he.from("service_order_materials").insert([St]);if(Ue)throw console.error("❌ Erro ao salvar material:",Ue),Ue}console.log("  ✅ Materiais salvos")}if(pt.mao_obra&&pt.mao_obra.length>0){console.log(`  👷 Salvando ${pt.mao_obra.length} funcionários do item...`);for(const Le of pt.mao_obra){const et=Le,St={service_order_id:ft,service_order_item_id:je.id,staff_id:et.employee_id||et.staff_id||null,nome_funcionario:et.nome||et.name||"",hours:et.tempo_minutos?et.tempo_minutos/60:et.hours||0,hourly_rate:et.custo_hora||et.hourly_rate||0,total_cost:et.custo_total||et.total_cost||0},{error:Ue}=await he.from("service_order_labor").insert([St]);if(Ue)throw console.error("❌ Erro ao salvar mão de obra:",Ue),Ue}console.log("  ✅ Mão de obra salva")}}if(ee&&ee.length>0){console.log(`📦 Salvando ${ee.length} materiais globais...`);for(const Gt of ee){const pt=Gt,de={service_order_id:ft,service_order_item_id:null,material_id:pt.material_id||null,material_name:pt.nome||pt.name||"",material_unit:pt.unidade_medida||pt.unit||"un",quantity:pt.quantidade||pt.quantity||0,unit_cost:pt.preco_custo||pt.unit_cost||0,unit_price:pt.preco_unitario||pt.unit_price||0,total_cost:pt.custo_total||pt.total_cost||0,total_price:pt.valor_total||pt.total_price||0},{error:je}=await he.from("service_order_materials").insert([de]);if(je)throw console.error("❌ Erro ao salvar material global:",je),je}console.log("✅ Materiais globais salvos")}console.log("ℹ️ Salvamento de equipe será implementado"),console.log("✅ OS salva com sucesso! ID:",ft),Oe(),alert("✅ Ordem de Serviço salva com sucesso!"),r(),e()}catch(ve){console.error("❌ Erro ao salvar ordem:",ve),alert("❌ Erro ao salvar ordem de serviço! Verifique o console.")}finally{X(!1),l(!1)}},yr=ve=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve),sr=Pr();return t?n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(vt,{className:"h-7 w-7"}),s?"Editar Ordem de Serviço":"Nova Ordem de Serviço"]}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Preencha os dados em cada aba - salvamento automático"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Básicos",icon:Ko},{id:"servicos",label:"Serviços",icon:$t},{id:"materiais",label:"Materiais",icon:$t},{id:"mao-obra",label:"Mão de Obra",icon:Zt},{id:"pagamento",label:"Pagamento",icon:pr},{id:"garantia",label:"Garantia & Contrato",icon:rn},{id:"custos-extras",label:"Custos Extras",icon:fF},{id:"resumo",label:"Resumo Financeiro",icon:jS}].map(ve=>{const xt=ve.icon;return n.jsxs("button",{onClick:()=>i(ve.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===ve.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(xt,{className:"h-4 w-4"}),ve.label]},ve.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(Nt,{mode:"wait",children:[a==="dados"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:g.customer_id,onChange:ve=>x({...g,customer_id:ve.target.value}),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),v.map(ve=>n.jsx("option",{value:ve.id,children:ve.nome_razao},ve.id))]}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo cliente"),fe(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Cliente",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Cliente"]})]}),B&&n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"CPF/CNPJ:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:B.cpf_cnpj})]}),B.telefone&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Telefone:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:B.telefone})]}),B.email&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Email:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:B.email})]}),B.customer_addresses&&B.customer_addresses.length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Endereço:"}),n.jsxs("span",{className:"text-blue-800 ml-2",children:[B.customer_addresses[0].logradouro,", ",B.customer_addresses[0].numero,B.customer_addresses[0].complemento&&`, ${B.customer_addresses[0].complemento}`," - ",B.customer_addresses[0].bairro,", ",B.customer_addresses[0].cidade," - ",B.customer_addresses[0].estado,", CEP: ",B.customer_addresses[0].cep]})]})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),n.jsx("input",{type:"datetime-local",value:g.scheduled_at,onChange:ve=>x({...g,scheduled_at:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição Geral"}),n.jsx("textarea",{value:g.description,onChange:ve=>x({...g,description:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrição opcional da OS..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações Internas"}),n.jsx("textarea",{value:g.notes,onChange:ve=>x({...g,notes:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Notas internas (não aparecem para o cliente)..."})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold mb-3 text-blue-700",children:"📋 Informações do Orçamento"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Título do Projeto"}),n.jsx("input",{type:"text",value:g.title,onChange:ve=>x({...g,title:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: climatização apartamento da familia"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),n.jsx("input",{type:"text",value:g.brand,onChange:ve=>x({...g,brand:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Midea"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),n.jsx("input",{type:"text",value:g.model,onChange:ve=>x({...g,model:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: VRF"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Aparelho/Equipamento"}),n.jsx("input",{type:"text",value:g.equipment,onChange:ve=>x({...g,equipment:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: cassete 1 via e hiwall"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execução (dias)"}),n.jsx("input",{type:"number",value:g.prazo_execucao_dias,onChange:ve=>x({...g,prazo_execucao_dias:parseInt(ve.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"15"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado"}),n.jsx("textarea",{value:g.escopo_detalhado,onChange:ve=>x({...g,escopo_detalhado:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrição detalhada do escopo do projeto..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatório Técnico"}),n.jsx("textarea",{value:g.relatorio_tecnico,onChange:ve=>x({...g,relatorio_tecnico:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatório técnico do serviço..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientações de Serviço"}),n.jsx("textarea",{value:g.orientacoes_servico,onChange:ve=>x({...g,orientacoes_servico:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Orientações específicas para execução..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informações Adicionais"}),n.jsx("textarea",{value:g.additional_info,onChange:ve=>x({...g,additional_info:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiança"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:"⏱️ Tempo de Execução"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-900",children:"Tempo Previsto (horas)"}),n.jsx("input",{type:"number",value:g.estimated_hours,onChange:ve=>x({...g,estimated_hours:Number(ve.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4"}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Tempo estimado total para execução da OS"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-green-900",children:"Tempo Real (horas)"}),n.jsx("input",{type:"number",value:g.actual_hours,onChange:ve=>x({...g,actual_hours:Number(ve.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: 3.5"}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Tempo real gasto após conclusão"})]})]}),g.estimated_hours>0&&g.actual_hours>0&&n.jsx("div",{className:`mt-3 p-3 rounded-lg ${g.actual_hours<=g.estimated_hours?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:n.jsx("p",{className:`text-sm font-medium ${g.actual_hours<=g.estimated_hours?"text-green-800":"text-red-800"}`,children:g.actual_hours<=g.estimated_hours?"✓ Dentro do prazo estimado!":`⚠️ ${(g.actual_hours-g.estimated_hours).toFixed(1)}h acima do estimado`})})]})]},"dados"),a==="servicos"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Serviços da OS"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de cadastro de novo serviço"),pe(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",title:"Cadastrar Novo Serviço no Sistema",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Cadastrar Novo"]}),n.jsxs("button",{onClick:dt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Serviço"]})]})]}),G.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx($t,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum serviço adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Serviço" para começar'})]}),G.map((ve,xt)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Serviço #",xt+1]}),n.jsx("button",{onClick:()=>_t(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-3 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar no Catálogo de Serviços"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:b===ve.id?m:"",onFocus:()=>y(ve.id),onChange:Xe=>{y(ve.id),f(Xe.target.value)},className:"flex-1 px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no catálogo..."}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo serviço"),pe(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Serviço",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Serviço"]})]}),b===ve.id&&m&&L.filter(Xe=>Xe.name.toLowerCase().includes(m.toLowerCase())||Xe.category&&Xe.category.toLowerCase().includes(m.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:L.filter(Xe=>Xe.name.toLowerCase().includes(m.toLowerCase())||Xe.category&&Xe.category.toLowerCase().includes(m.toLowerCase())).map(Xe=>n.jsxs("button",{type:"button",onClick:()=>Xn(ve.id,Xe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Xe.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("span",{children:Xe.category||"Sem categoria"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[yr(Number(Xe.base_price)||0)," - ",Xe.estimated_time_minutes||0,"min"]})]})]},Xe.id))})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição do Serviço *"}),n.jsx("input",{type:"text",value:ve.descricao,onChange:Xe=>Ge(ve.id,{descricao:Xe.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação de Ar Condicionado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:ve.quantidade,min:"1",onChange:Xe=>Ge(ve.id,{quantidade:Number(Xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unitário"}),n.jsx("input",{type:"number",value:ve.preco_unitario,min:"0",step:"0.01",onChange:Xe=>Ge(ve.id,{preco_unitario:Number(Xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (min)"}),n.jsx("input",{type:"number",value:ve.tempo_estimado_minutos,min:"0",onChange:Xe=>Ge(ve.id,{tempo_estimado_minutos:Number(Xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-900",children:"Preço Total:"}),n.jsx("span",{className:"text-lg font-bold text-blue-900",children:yr(ve.preco_total)})]})})]},`${ve.id}-${xt}`))]},"servicos"),a==="materiais"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Materiais da OS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Materiais que serão consumidos nesta ordem de serviço"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de cadastro de novo material"),ge(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",title:"Cadastrar Novo Material no Sistema",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Cadastrar Novo"]}),n.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Material"]})]})]}),ee.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx($t,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Material" para começar'})]}),ee.map((ve,xt)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",xt+1]}),n.jsx("button",{onClick:()=>lt(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"md:col-span-2 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Material"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:c,onChange:Xe=>d(Xe.target.value),className:"flex-1 px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no estoque..."}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo material"),ge(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-2 whitespace-nowrap",title:"Novo Material",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Material"]})]}),c&&E.filter(Xe=>Xe.name.toLowerCase().includes(c.toLowerCase())||Xe.sku&&Xe.sku.toLowerCase().includes(c.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:E.filter(Xe=>Xe.name.toLowerCase().includes(c.toLowerCase())||Xe.sku&&Xe.sku.toLowerCase().includes(c.toLowerCase())).map(Xe=>n.jsxs("button",{type:"button",onClick:()=>Pt(ve.id,Xe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Xe.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsxs("span",{children:[Xe.sku||"Sem SKU"," - ",Xe.unit]}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["Estoque: ",Xe.quantity]})]})]},Xe.id))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:ve.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um material"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade *"}),n.jsx("input",{type:"number",value:ve.quantidade,min:"0",step:"0.01",onChange:Xe=>ot(ve.id,{quantidade:Number(Xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),n.jsx("input",{type:"text",value:ve.unidade_medida,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unit. (Compra)"}),n.jsx("input",{type:"number",value:ve.preco_compra_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unit. (Venda)"}),n.jsx("input",{type:"number",value:ve.preco_venda_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("span",{className:"text-xs text-red-700",children:"Custo Total:"}),n.jsx("p",{className:"text-lg font-bold text-red-700",children:yr(ve.custo_total)})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[n.jsx("span",{className:"text-xs text-green-700",children:"Valor Total:"}),n.jsx("p",{className:"text-lg font-bold text-green-700",children:yr(ve.valor_total)})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-xs text-blue-700",children:"Lucro:"}),n.jsx("p",{className:"text-lg font-bold text-blue-700",children:yr(ve.lucro)})]})]})]},`material-${ve.id}-${xt}`))]},"materiais"),a==="mao-obra"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Mão de Obra da OS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Funcionários que trabalharão nesta ordem de serviço"})]}),n.jsxs("button",{onClick:zt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Funcionário"]})]}),q.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx(Zt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum funcionário adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Funcionário" para começar'})]}),q.map((ve,xt)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Funcionário #",xt+1]}),n.jsx("button",{onClick:()=>mt(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"md:col-span-2 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Funcionário"}),n.jsx("input",{type:"text",value:u,onChange:Xe=>h(Xe.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar..."}),u&&S.filter(Xe=>Xe.name.toLowerCase().includes(u.toLowerCase())||Xe.role&&Xe.role.toLowerCase().includes(u.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:S.filter(Xe=>Xe.name.toLowerCase().includes(u.toLowerCase())||Xe.role&&Xe.role.toLowerCase().includes(u.toLowerCase())).map(Xe=>n.jsxs("button",{type:"button",onClick:()=>br(ve.id,Xe.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Xe.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("span",{children:Xe.role||"Sem função"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",Number(Xe.custo_hora||0).toFixed(2),"/h"]})]})]},Xe.id))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Funcionário *"}),n.jsx("input",{type:"text",value:ve.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um funcionário"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (minutos) *"}),n.jsx("input",{type:"number",value:ve.tempo_minutos,min:"0",step:"10",onChange:Xe=>zn(ve.id,{tempo_minutos:Number(Xe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo/Hora"}),n.jsx("input",{type:"number",value:ve.custo_hora,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horas Trabalhadas"}),n.jsx("input",{type:"text",value:`${(ve.tempo_minutos/60).toFixed(2)}h`,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-blue-50 text-blue-900 font-semibold"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-900",children:"Custo Total:"}),n.jsx("span",{className:"text-lg font-bold text-blue-900",children:yr(ve.custo_total)})]})})]},`labor-${ve.id}-${xt}`))]},"mao-obra"),a==="pagamento"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("select",{value:g.payment_method,onChange:ve=>x({...g,payment_method:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"debito",children:"Cartão de Débito"}),n.jsx("option",{value:"credito",children:"Cartão de Crédito"}),n.jsx("option",{value:"transferencia",children:"Transferência Bancária"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"cheque",children:"Cheque"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),n.jsxs("select",{value:g.payment_installments,onChange:ve=>x({...g,payment_installments:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"1",children:"À vista"}),[2,3,4,5,6,7,8,9,10,12].map(ve=>n.jsxs("option",{value:ve,children:[ve,"x"]},ve))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancária"}),n.jsxs("select",{value:g.bank_account_id,onChange:ve=>x({...g,bank_account_id:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Padrão"}),I.map(ve=>n.jsxs("option",{value:ve.id,children:[ve.account_name," - ",ve.bank_name]},ve.id))]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5"}),"Desconto (Opcional)"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto Percentual (%)"}),n.jsx("input",{type:"number",value:g.desconto_percentual,min:"0",max:"100",step:"0.01",onChange:ve=>x({...g,desconto_percentual:Number(ve.target.value),desconto_valor:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em 0 se não houver desconto"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto em Reais (R$)"}),n.jsx("input",{type:"number",value:g.desconto_valor,min:"0",step:"0.01",onChange:ve=>x({...g,desconto_valor:Number(ve.target.value),desconto_percentual:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 50.00"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou defina um valor fixo"})]})]})]})]},"pagamento"),a==="garantia"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Período de Garantia"}),n.jsx("input",{type:"number",value:g.warranty_period,min:"0",onChange:ve=>x({...g,warranty_period:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Período"}),n.jsxs("select",{value:g.warranty_type,onChange:ve=>x({...g,warranty_type:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"days",children:"Dias"}),n.jsx("option",{value:"months",children:"Meses"}),n.jsx("option",{value:"years",children:"Anos"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),n.jsx("textarea",{value:g.warranty_terms,onChange:ve=>x({...g,warranty_terms:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condições da garantia..."})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),n.jsxs("select",{value:g.contract_template_id,onChange:ve=>x({...g,contract_template_id:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Nenhum"}),T.map(ve=>n.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações do Contrato"}),n.jsx("textarea",{value:g.contract_notes,onChange:ve=>x({...g,contract_notes:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observações adicionais..."})]})]})]})]},"garantia"),a==="custos-extras"&&s&&n.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:n.jsx(jce,{serviceOrderId:s,onUpdate:()=>{console.log("Custos atualizados")}})},"custos-extras"),a==="custos-extras"&&!s&&n.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[n.jsx(fF,{className:"h-12 w-12 text-yellow-600 mx-auto mb-3"}),n.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Salve a OS primeiro"}),n.jsx("p",{className:"text-yellow-700",children:"Para adicionar custos extras, você precisa primeiro salvar a Ordem de Serviço."})]})},"custos-extras-disabled"),a==="resumo"&&n.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo da Ordem de Serviço"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Informações que serão apresentadas ao cliente"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Serviços Contratados"}),n.jsx("div",{className:"space-y-2",children:G.map((ve,xt)=>n.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-0",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium",children:[xt+1,". ",ve.descricao]}),n.jsxs("span",{className:"text-gray-600 ml-2",children:["(Qtd: ",ve.quantidade,")"]})]}),n.jsx("span",{className:"font-bold text-blue-700",children:yr(ve.preco_total)})]},ve.id))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informações de Pagamento"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Forma de Pagamento:"}),n.jsx("span",{className:"font-semibold capitalize",children:g.payment_method.replace("_"," ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Parcelas:"}),n.jsx("span",{className:"font-semibold",children:g.payment_installments===1?"À vista":`${g.payment_installments}x`})]}),g.payment_installments>1&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Valor por Parcela:"}),n.jsx("span",{className:"font-semibold",children:yr(sr.total/g.payment_installments)})]})]})]}),n.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[n.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Garantia"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Período de Garantia:"}),n.jsxs("span",{className:"font-semibold",children:[g.warranty_period," ",g.warranty_type==="days"?"dias":g.warranty_type==="months"?"meses":"anos"]})]}),g.warranty_terms&&n.jsxs("div",{className:"mt-2 p-3 bg-white rounded border",children:[n.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Termos de Garantia:"}),n.jsx("p",{className:"text-sm text-gray-700",children:g.warranty_terms})]})]})]}),n.jsx("div",{className:"bg-white rounded-lg p-6 border-2 border-gray-300 shadow-sm",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-gray-700",children:"Subtotal dos Serviços:"}),n.jsx("span",{className:"font-bold",children:yr(sr.subtotal)})]}),sr.desconto>0&&n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-gray-700",children:"Desconto Aplicado:"}),n.jsxs("span",{className:"font-bold text-red-600",children:["- ",yr(sr.desconto)]})]}),n.jsxs("div",{className:"border-t-2 pt-3 flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-xl text-gray-900",children:"VALOR TOTAL DA PROPOSTA:"}),n.jsx("span",{className:"font-bold text-3xl text-green-600",children:yr(sr.total)})]})]})}),g.contract_notes&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observações do Contrato"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:g.contract_notes})]})]})]})},"resumo")]})}),n.jsxs("div",{className:"border-t p-6 bg-gray-50 rounded-b-xl flex justify-between",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Cancelar"}),n.jsxs("button",{onClick:ei,disabled:o,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),o?"Salvando...":s?"Atualizar OS":"Salvar OS"]})]})]}),se&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:ve=>{ve.target===ve.currentTarget&&(fe(!1),Ve({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:ve=>ve.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(nn,{className:"h-5 w-5 text-green-600"}),"Novo Cliente"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome/Razão Social *"}),n.jsx("input",{type:"text",value:ye.nome_razao,onChange:ve=>Ve({...ye,nome_razao:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo ou razão social"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF/CNPJ"}),n.jsx("input",{type:"text",value:ye.cnpj_cpf,onChange:ve=>Ve({...ye,cnpj_cpf:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:ye.telefone,onChange:ve=>Ve({...ye,telefone:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(00) 00000-0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:ye.email,onChange:ve=>Ve({...ye,email:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"email@exemplo.com"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{fe(!1),Ve({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Ur,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Cadastrar"})]})]})}),me&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:ve=>{ve.target===ve.currentTarget&&(pe(!1),Ne({name:"",description:"",base_price:0,estimated_time_minutes:60}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:ve=>ve.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-blue-600"}),"Novo Serviço"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Serviço *"}),n.jsx("input",{type:"text",value:st.name,onChange:ve=>Ne({...st,name:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação Elétrica"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição"}),n.jsx("textarea",{value:st.description,onChange:ve=>Ne({...st,description:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Descreva o serviço...",rows:3})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Base (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:st.base_price,onChange:ve=>Ne({...st,base_price:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),n.jsx("input",{type:"number",value:st.estimated_time_minutes,onChange:ve=>Ne({...st,estimated_time_minutes:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{pe(!1),Ne({name:"",description:"",base_price:0,estimated_time_minutes:60})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Ts,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Cadastrar"})]})]})}),_e&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[10000] p-4",onClick:ve=>{ve.target===ve.currentTarget&&(ge(!1),Me({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:ve=>ve.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-orange-600"}),"Novo Material"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:J.name,onChange:ve=>Me({...J,name:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Ex: Tubo PVC 100mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),n.jsxs("select",{value:J.unit,onChange:ve=>Me({...J,unit:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"un",children:"Unidade (un)"}),n.jsx("option",{value:"m",children:"Metro (m)"}),n.jsx("option",{value:"kg",children:"Quilograma (kg)"}),n.jsx("option",{value:"l",children:"Litro (l)"}),n.jsx("option",{value:"cx",children:"Caixa (cx)"}),n.jsx("option",{value:"pç",children:"Peça (pç)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:J.quantity,onChange:ve=>Me({...J,quantity:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Custo (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:J.unit_cost,onChange:ve=>Me({...J,unit_cost:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Venda (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:J.unit_price,onChange:ve=>Me({...J,unit_price:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{ge(!1),Me({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:wr,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Cadastrar"})]})]})})]}):null},_ce=()=>{const{isAdmin:t}=Mn(),e=Vs(),[r,s]=m9(),[a,i]=F.useState(""),[o,l]=F.useState("all"),[c,d]=F.useState("all"),[u,h]=F.useState([]),[m,f]=F.useState(!0),[b,y]=F.useState(null),[g,x]=F.useState(!1),[v,j]=F.useState(null),[B,C]=F.useState(!1),[E,M]=F.useState(!1),[S,k]=F.useState(void 0);F.useEffect(()=>{I()},[]),F.useEffect(()=>{const Y=r.get("edit");Y&&(k(Y),M(!0),s({}))},[r]);const I=async()=>{try{f(!0);const Y=await Vle();h(Y||[]),y(null)}catch(Y){console.error("Error loading service orders:",Y),y("Erro ao carregar ordens de serviço"),h([])}finally{f(!1)}},_=async Y=>{try{if(confirm(`Deseja duplicar a OS ${Y.order_number}?`)){const q={...Y,id:void 0,order_number:`${Y.order_number}-COPIA`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await zle(q),await I(),alert("OS duplicada com sucesso!")}}catch(q){console.error("Error duplicating order:",q),alert("Erro ao duplicar OS")}},T=async(Y,q)=>{try{h(U=>U.map(te=>te.id===Y?{...te,status:q,updated_at:new Date().toISOString()}:te)),await VF(Y,{status:q,updated_at:new Date().toISOString()}),Wo.invalidate("service_orders_v2")}catch(U){console.error("Error updating status:",U),alert(`Erro ao atualizar status: ${U}`),await I()}},D=async Y=>{try{const q=Y.status==="pending"?"in_progress":Y.status==="in_progress"?"completed":Y.status;confirm(`Deseja ${q==="in_progress"?"iniciar":"concluir"} a OS ${Y.order_number}?`)&&(h(U=>U.map(te=>te.id===Y.id?{...te,status:q,updated_at:new Date().toISOString()}:te)),await VF(Y.id,{status:q,updated_at:new Date().toISOString()}),Wo.invalidate("service_orders_v2"),alert(`OS ${q==="in_progress"?"iniciada":"concluída"} com sucesso!`))}catch(q){console.error("Error executing order:",q),alert("Erro ao executar ação"),await I()}},L=Y=>{j(Y),x(!0)},V=async()=>{if(v)try{C(!0),h(Y=>Y.filter(q=>q.id!==v.id)),await CH(v.id),Wo.invalidate("service_orders_v2"),x(!1),j(null),alert("Ordem de serviço excluída com sucesso!")}catch(Y){console.error("Error deleting order:",Y),await I(),alert(`Erro ao excluir ordem de serviço: ${Y?.message||"Erro desconhecido"}`)}finally{C(!1)}},z=()=>{x(!1),j(null)},Z=u.filter(Y=>{const q=Y.order_number.toLowerCase().includes(a.toLowerCase())||Y.client_name.toLowerCase().includes(a.toLowerCase())||Y.service_type.toLowerCase().includes(a.toLowerCase()),U=o==="all"||Y.status===o,te=c==="all"||Y.priority===c;return q&&U&&te}),G=Y=>{switch(Y){case"pending":case"pendente":return"bg-yellow-100 text-yellow-800";case"in_progress":case"em_andamento":return"bg-blue-100 text-blue-800";case"on_hold":case"pausado":case"pausada":return"bg-orange-100 text-orange-800";case"completed":case"concluido":case"concluida":return"bg-green-100 text-green-800";case"cancelled":case"cancelado":case"cancelada":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},H=Y=>{switch(Y){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},ee=Y=>{switch(Y){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Desconhecida"}};return n.jsxs("div",{className:"space-y-6",children:[b&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(xs,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:b})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ordens de Serviço"}),n.jsxs("button",{onClick:()=>{k(void 0),M(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Nova OS"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por número, cliente ou serviço...",value:a,onChange:Y=>i(Y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:o,onChange:Y=>l(Y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"in_progress",children:"Em Andamento"}),n.jsx("option",{value:"completed",children:"Concluída"}),n.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),n.jsxs("select",{value:c,onChange:Y=>d(Y.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Prioridades"}),n.jsx("option",{value:"high",children:"Alta"}),n.jsx("option",{value:"medium",children:"Média"}),n.jsx("option",{value:"low",children:"Baixa"})]})]})]})}),m?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando ordens..."})]}):n.jsx("div",{className:"space-y-4",children:Z.length>0?Z.map((Y,q)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(yi,{className:"h-5 w-5 text-white mx-auto mb-0.5"}),n.jsx("span",{className:"text-xs font-bold text-white/90",children:Y.order_number})]})}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:["OS-",Y.order_number]})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Y.service_type||"Sem descrição"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${H(Y.priority)}`,children:ee(Y.priority)}),n.jsxs("select",{value:Y.status,onChange:U=>T(Y.id,U.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 cursor-pointer ${G(Y.status)}`,children:[n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"in_progress",children:"Em Andamento"}),n.jsx("option",{value:"on_hold",children:"Pausado"}),n.jsx("option",{value:"completed",children:"Concluído"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(nn,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-900",children:Y.client_name})]}),n.jsx("p",{className:"text-xs text-gray-600 ml-6",children:Y.client_phone})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),n.jsx("p",{className:"text-sm text-gray-900",children:Y.assigned_to})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prazo"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(kr,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-900",children:Y.due_date?new Date(Y.due_date).toLocaleDateString("pt-BR"):Y.service_date?new Date(Y.service_date).toLocaleDateString("pt-BR"):"Não definido"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:Y.description}),n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:U=>{U.stopPropagation(),e(`/service-orders/${Y.id}/view`)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar OS",children:n.jsx(la,{className:"h-4 w-4"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),k(Y.id),M(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar OS",children:n.jsx(pn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),D(Y)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:Y.status==="pending"?"Iniciar OS":Y.status==="in_progress"?"Concluir OS":"OS Concluída",disabled:Y.status==="completed",children:n.jsx(RE,{className:"h-4 w-4"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),_(Y)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicar OS",children:n.jsx(Pd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),L(Y)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir OS",children:n.jsx(rr,{className:"h-4 w-4"})})]})]})]},Y.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(yi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma ordem encontrada"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos ordens de serviço com os filtros selecionados."}),n.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:n.jsx(rr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Serviço"}),n.jsx("p",{className:"text-red-100 text-sm",children:"Esta ação não pode ser desfeita"})]})]})})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xs,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Você está prestes a excluir a seguinte OS:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Número:"})," ",v?.order_number]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Cliente:"})," ",v?.client_name]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Serviço:"})," ",v?.service_type]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Valor:"})," R$ ",(v?.total_cost||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"⚠️ Atenção!"}),n.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados serão permanentemente removidos do sistema. Esta ação é irreversível."})]})]})}),n.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:z,disabled:B,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:V,disabled:B,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:B?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rr,{className:"h-5 w-5"}),"Confirmar Exclusão"]})})]})]})]})}),n.jsx(Nce,{isOpen:E,onClose:()=>{M(!1),k(void 0)},onSave:()=>{I(),M(!1),k(void 0)},orderId:S})]})};function hn(t){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(t)}var Ka=Uint8Array,io=Uint16Array,WE=Int32Array,y1=new Ka([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b1=new Ka([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LS=new Ka([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),kH=function(t,e){for(var r=new io(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];for(var a=new WE(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},PH=kH(y1,2),TH=PH.b,RS=PH.r;TH[28]=258,RS[258]=28;var FH=kH(b1,0),Cce=FH.b,KF=FH.r,US=new io(32768);for(var In=0;In<32768;++In){var Ru=(In&43690)>>1|(In&21845)<<1;Ru=(Ru&52428)>>2|(Ru&13107)<<2,Ru=(Ru&61680)>>4|(Ru&3855)<<4,US[In]=((Ru&65280)>>8|(Ru&255)<<8)>>1}var yc=(function(t,e,r){for(var s=t.length,a=0,i=new io(e);a<s;++a)t[a]&&++i[t[a]-1];var o=new io(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new io(1<<e);var c=15-e;for(a=0;a<s;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,m=h|(1<<u)-1;h<=m;++h)l[US[h]>>c]=d}else for(l=new io(s),a=0;a<s;++a)t[a]&&(l[a]=US[o[t[a]-1]++]>>15-t[a]);return l}),bh=new Ka(288);for(var In=0;In<144;++In)bh[In]=8;for(var In=144;In<256;++In)bh[In]=9;for(var In=256;In<280;++In)bh[In]=7;for(var In=280;In<288;++In)bh[In]=8;var G0=new Ka(32);for(var In=0;In<32;++In)G0[In]=5;var Sce=yc(bh,9,0),Bce=yc(bh,9,1),Ece=yc(G0,5,0),kce=yc(G0,5,1),Yj=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},yl=function(t,e,r){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&r},Jj=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},GE=function(t){return(t+7)/8|0},OH=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ka(t.subarray(e,r))},Pce=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_l=function(t,e,r){var s=new Error(e||Pce[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,_l),!r)throw s;return s},Tce=function(t,e,r,s){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Ka(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new Ka(a*3));var d=function(ge){var ye=r.length;if(ge>ye){var Ve=new Ka(Math.max(ye*2,ge));Ve.set(r),r=Ve}},u=e.f||0,h=e.p||0,m=e.b||0,f=e.l,b=e.d,y=e.m,g=e.n,x=a*8;do{if(!f){u=yl(t,h,1);var v=yl(t,h+1,3);if(h+=3,v)if(v==1)f=Bce,b=kce,y=9,g=5;else if(v==2){var E=yl(t,h,31)+257,M=yl(t,h+10,15)+4,S=E+yl(t,h+5,31)+1;h+=14;for(var k=new Ka(S),I=new Ka(19),_=0;_<M;++_)I[LS[_]]=yl(t,h+_*3,7);h+=M*3;for(var T=Yj(I),D=(1<<T)-1,L=yc(I,T,1),_=0;_<S;){var V=L[yl(t,h,D)];h+=V&15;var j=V>>4;if(j<16)k[_++]=j;else{var z=0,Z=0;for(j==16?(Z=3+yl(t,h,3),h+=2,z=k[_-1]):j==17?(Z=3+yl(t,h,7),h+=3):j==18&&(Z=11+yl(t,h,127),h+=7);Z--;)k[_++]=z}}var G=k.subarray(0,E),H=k.subarray(E);y=Yj(G),g=Yj(H),f=yc(G,y,1),b=yc(H,g,1)}else _l(1);else{var j=GE(h)+4,B=t[j-4]|t[j-3]<<8,C=j+B;if(C>a){c&&_l(0);break}l&&d(m+B),r.set(t.subarray(j,C),m),e.b=m+=B,e.p=h=C*8,e.f=u;continue}if(h>x){c&&_l(0);break}}l&&d(m+131072);for(var ee=(1<<y)-1,Y=(1<<g)-1,q=h;;q=h){var z=f[Jj(t,h)&ee],U=z>>4;if(h+=z&15,h>x){c&&_l(0);break}if(z||_l(2),U<256)r[m++]=U;else if(U==256){q=h,f=null;break}else{var te=U-254;if(U>264){var _=U-257,X=y1[_];te=yl(t,h,(1<<X)-1)+TH[_],h+=X}var se=b[Jj(t,h)&Y],fe=se>>4;se||_l(3),h+=se&15;var H=Cce[fe];if(fe>3){var X=b1[fe];H+=Jj(t,h)&(1<<X)-1,h+=X}if(h>x){c&&_l(0);break}l&&d(m+131072);var me=m+te;if(m<H){var pe=i-H,_e=Math.min(H,me);for(pe+m<0&&_l(3);m<_e;++m)r[m]=s[pe+m]}for(;m<me;++m)r[m]=r[m-H]}}e.l=f,e.p=q,e.b=m,e.f=u,f&&(u=1,e.m=y,e.d=b,e.n=g)}while(!u);return m!=r.length&&o?OH(r,0,m):r.subarray(0,m)},cd=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},jg=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},Zj=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var a=r.length,i=r.slice();if(!a)return{t:DH,l:0};if(a==1){var o=new Ka(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,E){return C.f-E.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var m=i[0].s,s=1;s<a;++s)i[s].s>m&&(m=i[s].s);var f=new io(m+1),b=QS(r[u-1],f,0);if(b>e){var s=0,y=0,g=b-e,x=1<<g;for(i.sort(function(E,M){return f[M.s]-f[E.s]||E.f-M.f});s<a;++s){var v=i[s].s;if(f[v]>e)y+=x-(1<<b-f[v]),f[v]=e;else break}for(y>>=g;y>0;){var j=i[s].s;f[j]<e?y-=1<<e-f[j]++-1:++s}for(;s>=0&&y;--s){var B=i[s].s;f[B]==e&&(--f[B],++y)}b=e}return{t:new Ka(f),l:b}},QS=function(t,e,r){return t.s==-1?Math.max(QS(t.l,e,r+1),QS(t.r,e,r+1)):e[t.s]=r},WF=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new io(++e),s=0,a=t[0],i=1,o=function(c){r[s++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,s),n:e}},Ng=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},IH=function(t,e,r){var s=r.length,a=GE(e+2);t[a]=s&255,t[a+1]=s>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<s;++i)t[a+i+4]=r[i];return(a+4+s)*8},GF=function(t,e,r,s,a,i,o,l,c,d,u){cd(e,u++,r),++a[256];for(var h=Zj(a,15),m=h.t,f=h.l,b=Zj(i,15),y=b.t,g=b.l,x=WF(m),v=x.c,j=x.n,B=WF(y),C=B.c,E=B.n,M=new io(19),S=0;S<v.length;++S)++M[v[S]&31];for(var S=0;S<C.length;++S)++M[C[S]&31];for(var k=Zj(M,7),I=k.t,_=k.l,T=19;T>4&&!I[LS[T-1]];--T);var D=d+5<<3,L=Ng(a,bh)+Ng(i,G0)+o,V=Ng(a,m)+Ng(i,y)+o+14+3*T+Ng(M,I)+2*M[16]+3*M[17]+7*M[18];if(c>=0&&D<=L&&D<=V)return IH(e,u,t.subarray(c,c+d));var z,Z,G,H;if(cd(e,u,1+(V<L)),u+=2,V<L){z=yc(m,f,0),Z=m,G=yc(y,g,0),H=y;var ee=yc(I,_,0);cd(e,u,j-257),cd(e,u+5,E-1),cd(e,u+10,T-4),u+=14;for(var S=0;S<T;++S)cd(e,u+3*S,I[LS[S]]);u+=3*T;for(var Y=[v,C],q=0;q<2;++q)for(var U=Y[q],S=0;S<U.length;++S){var te=U[S]&31;cd(e,u,ee[te]),u+=I[te],te>15&&(cd(e,u,U[S]>>5&127),u+=U[S]>>12)}}else z=Sce,Z=bh,G=Ece,H=G0;for(var S=0;S<l;++S){var X=s[S];if(X>255){var te=X>>18&31;jg(e,u,z[te+257]),u+=Z[te+257],te>7&&(cd(e,u,X>>23&31),u+=y1[te]);var se=X&31;jg(e,u,G[se]),u+=H[se],se>3&&(jg(e,u,X>>5&8191),u+=b1[se])}else jg(e,u,z[X]),u+=Z[X]}return jg(e,u,z[256]),u+Z[256]},Fce=new WE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),DH=new Ka(0),Oce=function(t,e,r,s,a,i){var o=i.z||t.length,l=new Ka(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=Fce[e-1],m=h>>13,f=h&8191,b=(1<<r)-1,y=i.p||new io(32768),g=i.h||new io(b+1),x=Math.ceil(r/3),v=2*x,j=function(st){return(t[st]^t[st+1]<<x^t[st+2]<<v)&b},B=new WE(25e3),C=new io(288),E=new io(32),M=0,S=0,k=i.i||0,I=0,_=i.w||0,T=0;k+2<o;++k){var D=j(k),L=k&32767,V=g[D];if(y[L]=V,g[D]=L,_<=k){var z=o-k;if((M>7e3||I>24576)&&(z>423||!d)){u=GF(t,c,0,B,C,E,S,I,T,k-T,u),I=M=S=0,T=k;for(var Z=0;Z<286;++Z)C[Z]=0;for(var Z=0;Z<30;++Z)E[Z]=0}var G=2,H=0,ee=f,Y=L-V&32767;if(z>2&&D==j(k-Y))for(var q=Math.min(m,z)-1,U=Math.min(32767,k),te=Math.min(258,z);Y<=U&&--ee&&L!=V;){if(t[k+G]==t[k+G-Y]){for(var X=0;X<te&&t[k+X]==t[k+X-Y];++X);if(X>G){if(G=X,H=Y,X>q)break;for(var se=Math.min(Y,X-2),fe=0,Z=0;Z<se;++Z){var me=k-Y+Z&32767,pe=y[me],_e=me-pe&32767;_e>fe&&(fe=_e,V=me)}}}L=V,V=y[L],Y+=L-V&32767}if(H){B[I++]=268435456|RS[G]<<18|KF[H];var ge=RS[G]&31,ye=KF[H]&31;S+=y1[ge]+b1[ye],++C[257+ge],++E[ye],_=k+G,++M}else B[I++]=t[k],++C[t[k]]}}for(k=Math.max(k,_);k<o;++k)B[I++]=t[k],++C[t[k]];u=GF(t,c,d,B,C,E,S,I,T,k-T,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=g,i.p=y,i.i=k,i.w=_)}else{for(var k=i.w||0;k<o+d;k+=65535){var Ve=k+65535;Ve>=o&&(c[u/8|0]=d,Ve=o),u=IH(c,u+1,t.subarray(k,Ve))}i.i=o}return OH(l,0,s+GE(u)+a)},MH=function(){var t=1,e=0;return{p:function(r){for(var s=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}t=s,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ice=function(t,e,r,s,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Ka(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Oce(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,s,a)},LH=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Dce=function(t,e){var r=e.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=MH();a.p(e.dictionary),LH(t,2,a.d())}},Mce=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&_l(6,"invalid zlib data"),(t[1]>>5&1)==1&&_l(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function $S(t,e){e||(e={});var r=MH();r.p(t);var s=Ice(t,e,e.dictionary?6:2,4);return Dce(s,e),LH(s,s.length-4,r.d()),s}function Lce(t,e){return Tce(t.subarray(Mce(t),-4),{i:2},e,e)}var Rce=typeof TextDecoder<"u"&&new TextDecoder,Uce=0;try{Rce.decode(DH,{stream:!0}),Uce=1}catch{}var ar=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function eN(){ar.console&&typeof ar.console.log=="function"&&ar.console.log.apply(ar.console,arguments)}var xn={log:eN,warn:function(t){ar.console&&(typeof ar.console.warn=="function"?ar.console.warn.apply(ar.console,arguments):eN.call(null,arguments))},error:function(t){ar.console&&(typeof ar.console.error=="function"?ar.console.error.apply(ar.console,arguments):eN(t))}};function tN(t,e,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){jA(s.response,e,r)},s.onerror=function(){xn.error("could not download file")},s.send()}function XF(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function sb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var m0,HS,jA=ar.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==ar?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=ar.URL||ar.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?XF(a.href)?tN(t,e,r):sb(a,a.target="_blank"):sb(a)):(a.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(a.href)}),4e4),setTimeout((function(){sb(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(XF(t))tN(t,e,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){sb(s)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:hn(i)!=="object"&&(xn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return tN(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(ar.HTMLElement)||ar.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var c=ar.URL||ar.webkitURL,d=c.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function RH(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rN(t,e){var r=t[0],s=t[1],a=t[2],i=t[3];r=Ma(r,s,a,i,e[0],7,-680876936),i=Ma(i,r,s,a,e[1],12,-389564586),a=Ma(a,i,r,s,e[2],17,606105819),s=Ma(s,a,i,r,e[3],22,-1044525330),r=Ma(r,s,a,i,e[4],7,-176418897),i=Ma(i,r,s,a,e[5],12,1200080426),a=Ma(a,i,r,s,e[6],17,-1473231341),s=Ma(s,a,i,r,e[7],22,-45705983),r=Ma(r,s,a,i,e[8],7,1770035416),i=Ma(i,r,s,a,e[9],12,-1958414417),a=Ma(a,i,r,s,e[10],17,-42063),s=Ma(s,a,i,r,e[11],22,-1990404162),r=Ma(r,s,a,i,e[12],7,1804603682),i=Ma(i,r,s,a,e[13],12,-40341101),a=Ma(a,i,r,s,e[14],17,-1502002290),r=La(r,s=Ma(s,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=La(i,r,s,a,e[6],9,-1069501632),a=La(a,i,r,s,e[11],14,643717713),s=La(s,a,i,r,e[0],20,-373897302),r=La(r,s,a,i,e[5],5,-701558691),i=La(i,r,s,a,e[10],9,38016083),a=La(a,i,r,s,e[15],14,-660478335),s=La(s,a,i,r,e[4],20,-405537848),r=La(r,s,a,i,e[9],5,568446438),i=La(i,r,s,a,e[14],9,-1019803690),a=La(a,i,r,s,e[3],14,-187363961),s=La(s,a,i,r,e[8],20,1163531501),r=La(r,s,a,i,e[13],5,-1444681467),i=La(i,r,s,a,e[2],9,-51403784),a=La(a,i,r,s,e[7],14,1735328473),r=Ra(r,s=La(s,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Ra(i,r,s,a,e[8],11,-2022574463),a=Ra(a,i,r,s,e[11],16,1839030562),s=Ra(s,a,i,r,e[14],23,-35309556),r=Ra(r,s,a,i,e[1],4,-1530992060),i=Ra(i,r,s,a,e[4],11,1272893353),a=Ra(a,i,r,s,e[7],16,-155497632),s=Ra(s,a,i,r,e[10],23,-1094730640),r=Ra(r,s,a,i,e[13],4,681279174),i=Ra(i,r,s,a,e[0],11,-358537222),a=Ra(a,i,r,s,e[3],16,-722521979),s=Ra(s,a,i,r,e[6],23,76029189),r=Ra(r,s,a,i,e[9],4,-640364487),i=Ra(i,r,s,a,e[12],11,-421815835),a=Ra(a,i,r,s,e[15],16,530742520),r=Ua(r,s=Ra(s,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Ua(i,r,s,a,e[7],10,1126891415),a=Ua(a,i,r,s,e[14],15,-1416354905),s=Ua(s,a,i,r,e[5],21,-57434055),r=Ua(r,s,a,i,e[12],6,1700485571),i=Ua(i,r,s,a,e[3],10,-1894986606),a=Ua(a,i,r,s,e[10],15,-1051523),s=Ua(s,a,i,r,e[1],21,-2054922799),r=Ua(r,s,a,i,e[8],6,1873313359),i=Ua(i,r,s,a,e[15],10,-30611744),a=Ua(a,i,r,s,e[6],15,-1560198380),s=Ua(s,a,i,r,e[13],21,1309151649),r=Ua(r,s,a,i,e[4],6,-145523070),i=Ua(i,r,s,a,e[11],10,-1120210379),a=Ua(a,i,r,s,e[2],15,718787259),s=Ua(s,a,i,r,e[9],21,-343485551),t[0]=Ju(r,t[0]),t[1]=Ju(s,t[1]),t[2]=Ju(a,t[2]),t[3]=Ju(i,t[3])}function v1(t,e,r,s,a,i){return e=Ju(Ju(e,t),Ju(s,i)),Ju(e<<a|e>>>32-a,r)}function Ma(t,e,r,s,a,i,o){return v1(e&r|~e&s,t,e,a,i,o)}function La(t,e,r,s,a,i,o){return v1(e&s|r&~s,t,e,a,i,o)}function Ra(t,e,r,s,a,i,o){return v1(e^r^s,t,e,a,i,o)}function Ua(t,e,r,s,a,i,o){return v1(r^(e|~s),t,e,a,i,o)}function UH(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)rN(s,Qce(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(rN(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,rN(s,a),s}function Qce(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}m0=ar.atob.bind(ar),HS=ar.btoa.bind(ar);var YF="0123456789abcdef".split("");function $ce(t){for(var e="",r=0;r<4;r++)e+=YF[t>>8*r+4&15]+YF[t>>8*r&15];return e}function Hce(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function qS(t){return UH(t).map(Hce).join("")}var qce=(function(t){for(var e=0;e<t.length;e++)t[e]=$ce(t[e]);return t.join("")})(UH("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ju(t,e){if(qce){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zS(t,e){var r,s,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,s=l}else l=s;var h=e.length,m=0,f=0,b="";for(c=0;c<h;c++)f=(f+(u=l[m=(m+1)%256]))%256,l[m]=l[f],l[f]=u,o=l[(l[m]+l[f])%256],b+=String.fromCharCode(e.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var JF={print:4,modify:8,copy:16,"annot-forms":32};function Nf(t,e,r,s){this.v=1,this.r=2;var a=192;t.forEach((function(l){if(JF.perm!==void 0)throw new Error("Invalid permission: "+l);a+=JF[l]})),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=qS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=zS(this.encryptionKey,this.padding)}function _f(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,s=0;s<r;s++){var a=t.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[s]}return e}function ZF(t){if(hn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in e)if(e[s][r])return delete e[s][r],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,s)}catch(l){ar.console&&xn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Qv(t){if(!(this instanceof Qv))return new Qv(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function QH(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function PA(t,e,r,s,a){if(!(this instanceof PA))return new PA(t,e,r,s,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,QH.call(this,s,a)}function Of(t,e,r,s,a){if(!(this instanceof Of))return new Of(t,e,r,s,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,QH.call(this,s,a)}function Kt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;hn(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},f={internal:{},__private__:{}};f.__private__.PubSub=ZF;var b="1.3",y=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(R){b=R};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var x=f.__private__.getPageFormat=function(R){return g[R]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},j=v.COMPAT;function B(){this.saveGraphicsState(),J(new je(mt,0,0,-mt,0,Vl()*mt).toString()+" cm"),this.setFontSize(this.getFontSize()/mt),d="n",j=v.ADVANCED}function C(){this.restoreGraphicsState(),d="S",j=v.COMPAT}var E=f.__private__.combineFontStyleAndFontWeight=function(R,ne){if(R=="bold"&&ne=="normal"||R=="bold"&&ne==400||R=="normal"&&ne=="italic"||R=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(R=ne==400||ne==="normal"?R==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||R!=="normal"?(ne==700?"bold":ne)+""+R:"bold"),R};f.advancedAPI=function(R){var ne=j===v.COMPAT;return ne&&B.call(this),typeof R!="function"||(R(this),ne&&C.call(this)),this},f.compatAPI=function(R){var ne=j===v.ADVANCED;return ne&&C.call(this),typeof R!="function"||(R(this),ne&&B.call(this)),this},f.isAdvancedAPI=function(){return j===v.ADVANCED};var M,S=function(R){if(j!==v.ADVANCED)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},k=f.roundToPrecision=f.__private__.roundToPrecision=function(R,ne){var be=e||ne;if(isNaN(R)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(be).replace(/0+$/,"")};M=f.hpf=f.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return k(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return k(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return k(R,16)};var I=f.f2=f.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return k(R,2)},_=f.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return k(R,3)},T=f.scale=f.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return j===v.COMPAT?R*mt:j===v.ADVANCED?R:void 0},D=function(R){return j===v.COMPAT?Vl()-R:j===v.ADVANCED?R:void 0},L=function(R){return T(D(R))};f.__private__.setPrecision=f.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var V,z="00000000000000000000000000000000",Z=f.__private__.getFileId=function(){return z},G=f.__private__.setFileId=function(R){return z=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():z.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),u!==null&&(En=new Nf(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};f.setFileId=function(R){return G(R),this},f.getFileId=function(){return Z()};var H=f.__private__.convertDateToPDFDate=function(R){var ne=R.getTimezoneOffset(),be=ne<0?"+":"-",Be=Math.floor(Math.abs(ne/60)),$e=Math.abs(ne%60),tt=[be,te(Be),"'",te($e),"'"].join("");return["D:",R.getFullYear(),te(R.getMonth()+1),te(R.getDate()),te(R.getHours()),te(R.getMinutes()),te(R.getSeconds()),tt].join("")},ee=f.__private__.convertPDFDateToDate=function(R){var ne=parseInt(R.substr(2,4),10),be=parseInt(R.substr(6,2),10)-1,Be=parseInt(R.substr(8,2),10),$e=parseInt(R.substr(10,2),10),tt=parseInt(R.substr(12,2),10),ut=parseInt(R.substr(14,2),10);return new Date(ne,be,Be,$e,tt,ut,0)},Y=f.__private__.setCreationDate=function(R){var ne;if(R===void 0&&(R=new Date),R instanceof Date)ne=H(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=R}return V=ne},q=f.__private__.getCreationDate=function(R){var ne=V;return R==="jsDate"&&(ne=ee(V)),ne};f.setCreationDate=function(R){return Y(R),this},f.getCreationDate=function(R){return q(R)};var U,te=f.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},X=f.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},se=0,fe=[],me=[],pe=0,_e=[],ge=[],ye=!1,Ve=me,st=function(){se=0,pe=0,me=[],fe=[],_e=[],ha=Ue(),Fs=Ue()};f.__private__.setCustomOutputDestination=function(R){ye=!0,Ve=R};var Ne=function(R){ye||(Ve=R)};f.__private__.resetCustomOutputDestination=function(){ye=!1,Ve=me};var J=f.__private__.out=function(R){return R=R.toString(),pe+=R.length+1,Ve.push(R),Ve},Me=f.__private__.write=function(R){return J(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},Ie=f.__private__.getArrayBuffer=function(R){for(var ne=R.length,be=new ArrayBuffer(ne),Be=new Uint8Array(be);ne--;)Be[ne]=R.charCodeAt(ne);return be},le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return le};var Se=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(R){return Se=j===v.ADVANCED?R/mt:R,this};var Ze,Oe=f.__private__.getFontSize=f.getFontSize=function(){return j===v.COMPAT?Se:Se*mt},dt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(R){return dt=R,this},f.__private__.getR2L=f.getR2L=function(){return dt};var _t,Ge=f.__private__.setZoomMode=function(R){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))Ze=R;else if(isNaN(R)){if(ne.indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');Ze=R}else Ze=parseInt(R,10)};f.__private__.getZoomMode=function(){return Ze};var Ce,lt=f.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');_t=R};f.__private__.getPageMode=function(){return _t};var ot=f.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Ce=R};f.__private__.getLayoutMode=function(){return Ce},f.__private__.setDisplayMode=f.setDisplayMode=function(R,ne,be){return Ge(R),ot(ne),lt(be),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(R){if(Object.keys(Pt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[R]},f.__private__.getDocumentProperties=function(){return Pt},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(R){for(var ne in Pt)Pt.hasOwnProperty(ne)&&R[ne]&&(Pt[ne]=R[ne]);return this},f.__private__.setDocumentProperty=function(R,ne){if(Object.keys(Pt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[R]=ne};var zt,mt,zn,br,Xn,Pr={},Ur={},Ts=[],wr={},ei={},yr={},sr={},ve=null,xt=0,Xe=[],ft=new ZF(f),Qr=t.hotfixes||[],Gt={},pt={},de=[],je=function R(ne,be,Be,$e,tt,ut){if(!(this instanceof R))return new R(ne,be,Be,$e,tt,ut);isNaN(ne)&&(ne=1),isNaN(be)&&(be=0),isNaN(Be)&&(Be=0),isNaN($e)&&($e=1),isNaN(tt)&&(tt=0),isNaN(ut)&&(ut=0),this._matrix=[ne,be,Be,$e,tt,ut]};Object.defineProperty(je.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(je.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(je.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(je.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(je.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(je.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(je.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(je.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(je.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(je.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(je.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(je.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(je.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(je.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(je.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(je.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),je.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(R)},je.prototype.multiply=function(R){var ne=R.sx*this.sx+R.shy*this.shx,be=R.sx*this.shy+R.shy*this.sy,Be=R.shx*this.sx+R.sy*this.shx,$e=R.shx*this.shy+R.sy*this.sy,tt=R.tx*this.sx+R.ty*this.shx+this.tx,ut=R.tx*this.shy+R.ty*this.sy+this.ty;return new je(ne,be,Be,$e,tt,ut)},je.prototype.decompose=function(){var R=this.sx,ne=this.shy,be=this.shx,Be=this.sy,$e=this.tx,tt=this.ty,ut=Math.sqrt(R*R+ne*ne),Ct=(R/=ut)*be+(ne/=ut)*Be;be-=R*Ct,Be-=ne*Ct;var qt=Math.sqrt(be*be+Be*Be);return Ct/=qt,R*(Be/=qt)<ne*(be/=qt)&&(R=-R,ne=-ne,Ct=-Ct,ut=-ut),{scale:new je(ut,0,0,qt,0,0),translate:new je(1,0,0,1,$e,tt),rotate:new je(R,ne,-ne,R,0,0),skew:new je(1,0,Ct,1,0,0)}},je.prototype.toString=function(R){return this.join(" ")},je.prototype.inversed=function(){var R=this.sx,ne=this.shy,be=this.shx,Be=this.sy,$e=this.tx,tt=this.ty,ut=1/(R*Be-ne*be),Ct=Be*ut,qt=-ne*ut,Ar=-be*ut,dr=R*ut;return new je(Ct,qt,Ar,dr,-Ct*$e-Ar*tt,-qt*$e-dr*tt)},je.prototype.applyToPoint=function(R){var ne=R.x*this.sx+R.y*this.shx+this.tx,be=R.x*this.shy+R.y*this.sy+this.ty;return new xo(ne,be)},je.prototype.applyToRectangle=function(R){var ne=this.applyToPoint(R),be=this.applyToPoint(new xo(R.x+R.w,R.y+R.h));return new zl(ne.x,ne.y,be.x-ne.x,be.y-ne.y)},je.prototype.clone=function(){var R=this.sx,ne=this.shy,be=this.shx,Be=this.sy,$e=this.tx,tt=this.ty;return new je(R,ne,be,Be,$e,tt)},f.Matrix=je;var Qe=f.matrixMult=function(R,ne){return ne.multiply(R)},Le=new je(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Le;var et=function(R,ne){if(!ei[R]){var be=(ne instanceof PA?"Sh":"P")+(Object.keys(wr).length+1).toString(10);ne.id=be,ei[R]=be,wr[be]=ne,ft.publish("addPattern",ne)}};f.ShadingPattern=PA,f.TilingPattern=Of,f.addShadingPattern=function(R,ne){return S("addShadingPattern()"),et(R,ne),this},f.beginTilingPattern=function(R){S("beginTilingPattern()"),Bm(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},f.endTilingPattern=function(R,ne){S("endTilingPattern()"),ne.stream=ge[U].join(`
`),et(R,ne),ft.publish("endTilingPattern",ne),de.pop().restore()};var St=f.__private__.newObject=function(){var R=Ue();return hr(R,!0),R},Ue=f.__private__.newObjectDeferred=function(){return se++,fe[se]=function(){return pe},se},hr=function(R,ne){return ne=typeof ne=="boolean"&&ne,fe[R]=pe,ne&&J(R+" 0 obj"),R},sn=f.__private__.newAdditionalObject=function(){var R={objId:Ue(),content:""};return _e.push(R),R},ha=Ue(),Fs=Ue(),Hi=f.__private__.decodeColorString=function(R){var ne=R.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var be=parseFloat(ne[0]);ne=[be,be,be,"r"]}for(var Be="#",$e=0;$e<3;$e++)Be+=("0"+Math.floor(255*parseFloat(ne[$e])).toString(16)).slice(-2);return Be},Os=f.__private__.encodeColorString=function(R){var ne;typeof R=="string"&&(R={ch1:R});var be=R.ch1,Be=R.ch2,$e=R.ch3,tt=R.ch4,ut=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Ct=new RH(be);if(Ct.ok)be=Ct.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var qt=parseInt(be.substr(1),16);be=qt>>16&255,Be=qt>>8&255,$e=255&qt}if(Be===void 0||tt===void 0&&be===Be&&Be===$e)if(typeof be=="string")ne=be+" "+ut[0];else switch(R.precision){case 2:ne=I(be/255)+" "+ut[0];break;case 3:default:ne=_(be/255)+" "+ut[0]}else if(tt===void 0||hn(tt)==="object"){if(tt&&!isNaN(tt.a)&&tt.a===0)return ne=["1.","1.","1.",ut[1]].join(" ");if(typeof be=="string")ne=[be,Be,$e,ut[1]].join(" ");else switch(R.precision){case 2:ne=[I(be/255),I(Be/255),I($e/255),ut[1]].join(" ");break;default:case 3:ne=[_(be/255),_(Be/255),_($e/255),ut[1]].join(" ")}}else if(typeof be=="string")ne=[be,Be,$e,tt,ut[2]].join(" ");else switch(R.precision){case 2:ne=[I(be),I(Be),I($e),I(tt),ut[2]].join(" ");break;case 3:default:ne=[_(be),_(Be),_($e),_(tt),ut[2]].join(" ")}return ne},qi=f.__private__.getFilters=function(){return o},ti=f.__private__.putStream=function(R){var ne=(R=R||{}).data||"",be=R.filters||qi(),Be=R.alreadyAppliedFilters||[],$e=R.addLength1||!1,tt=ne.length,ut=R.objectId,Ct=function(Ws){return Ws};if(u!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ct=En.encryptor(ut,0));var qt={};be===!0&&(be=["FlateEncode"]);var Ar=R.additionalKeyValues||[],dr=(qt=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(ne,be):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(qt.data.length!==0&&(Ar.push({key:"Length",value:qt.data.length}),$e===!0&&Ar.push({key:"Length1",value:tt})),dr.length!=0)if(dr.split("/").length-1==1)Ar.push({key:"Filter",value:dr});else{Ar.push({key:"Filter",value:"["+dr+"]"});for(var Cr=0;Cr<Ar.length;Cr+=1)if(Ar[Cr].key==="DecodeParms"){for(var kn=[],Ln=0;Ln<qt.reverseChain.split("/").length-1;Ln+=1)kn.push("null");kn.push(Ar[Cr].value),Ar[Cr].value="["+kn.join(" ")+"]"}}J("<<");for(var Yn=0;Yn<Ar.length;Yn++)J("/"+Ar[Yn].key+" "+Ar[Yn].value);J(">>"),qt.data.length!==0&&(J("stream"),J(Ct(qt.data)),J("endstream"))},Ao=f.__private__.putPage=function(R){var ne=R.number,be=R.data,Be=R.objId,$e=R.contentsObjId;hr(Be,!0),J("<</Type /Page"),J("/Parent "+R.rootDictionaryObjId+" 0 R"),J("/Resources "+R.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(M(R.mediaBox.bottomLeftX))+" "+parseFloat(M(R.mediaBox.bottomLeftY))+" "+M(R.mediaBox.topRightX)+" "+M(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&J("/CropBox ["+M(R.cropBox.bottomLeftX)+" "+M(R.cropBox.bottomLeftY)+" "+M(R.cropBox.topRightX)+" "+M(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&J("/BleedBox ["+M(R.bleedBox.bottomLeftX)+" "+M(R.bleedBox.bottomLeftY)+" "+M(R.bleedBox.topRightX)+" "+M(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&J("/TrimBox ["+M(R.trimBox.bottomLeftX)+" "+M(R.trimBox.bottomLeftY)+" "+M(R.trimBox.topRightX)+" "+M(R.trimBox.topRightY)+"]"),R.artBox!==null&&J("/ArtBox ["+M(R.artBox.bottomLeftX)+" "+M(R.artBox.bottomLeftY)+" "+M(R.artBox.topRightX)+" "+M(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&J("/UserUnit "+R.userUnit),ft.publish("putPage",{objId:Be,pageContext:Xe[ne],pageNumber:ne,page:be}),J("/Contents "+$e+" 0 R"),J(">>"),J("endobj");var tt=be.join(`
`);return j===v.ADVANCED&&(tt+=`
Q`),hr($e,!0),ti({data:tt,filters:qi(),objectId:$e}),J("endobj"),Be},Dl=f.__private__.putPages=function(){var R,ne,be=[];for(R=1;R<=xt;R++)Xe[R].objId=Ue(),Xe[R].contentsObjId=Ue();for(R=1;R<=xt;R++)be.push(Ao({number:R,data:ge[R],objId:Xe[R].objId,contentsObjId:Xe[R].contentsObjId,mediaBox:Xe[R].mediaBox,cropBox:Xe[R].cropBox,bleedBox:Xe[R].bleedBox,trimBox:Xe[R].trimBox,artBox:Xe[R].artBox,userUnit:Xe[R].userUnit,rootDictionaryObjId:ha,resourceDictionaryObjId:Fs}));hr(ha,!0),J("<</Type /Pages");var Be="/Kids [";for(ne=0;ne<xt;ne++)Be+=be[ne]+" 0 R ";J(Be+"]"),J("/Count "+xt),J(">>"),J("endobj"),ft.publish("postPutPages")},kc=function(R){ft.publish("putFont",{font:R,out:J,newObject:St,putStream:ti}),R.isAlreadyPutted!==!0&&(R.objectNumber=St(),J("<<"),J("/Type /Font"),J("/BaseFont /"+_f(R.postScriptName)),J("/Subtype /Type1"),typeof R.encoding=="string"&&J("/Encoding /"+R.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Pc=function(){for(var R in Pr)Pr.hasOwnProperty(R)&&(h===!1||h===!0&&m.hasOwnProperty(R))&&kc(Pr[R])},Tc=function(R){R.objectNumber=St();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[M(R.x),M(R.y),M(R.x+R.width),M(R.y+R.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var be=R.pages[1].join(`
`);ti({data:be,additionalKeyValues:ne,objectId:R.objectNumber}),J("endobj")},Kd=function(){for(var R in Gt)Gt.hasOwnProperty(R)&&Tc(Gt[R])},bm=function(R,ne){var be,Be=[],$e=1/(ne-1);for(be=0;be<1;be+=$e)Be.push(be);if(Be.push(1),R[0].offset!=0){var tt={offset:0,color:R[0].color};R.unshift(tt)}if(R[R.length-1].offset!=1){var ut={offset:1,color:R[R.length-1].color};R.push(ut)}for(var Ct="",qt=0,Ar=0;Ar<Be.length;Ar++){for(be=Be[Ar];be>R[qt+1].offset;)qt++;var dr=R[qt].offset,Cr=(be-dr)/(R[qt+1].offset-dr),kn=R[qt].color,Ln=R[qt+1].color;Ct+=X(Math.round((1-Cr)*kn[0]+Cr*Ln[0]).toString(16))+X(Math.round((1-Cr)*kn[1]+Cr*Ln[1]).toString(16))+X(Math.round((1-Cr)*kn[2]+Cr*Ln[2]).toString(16))}return Ct.trim()},Bn=function(R,ne){ne||(ne=21);var be=St(),Be=bm(R.colors,ne),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+ne+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ti({data:Be,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),J("endobj"),R.objectNumber=St(),J("<< /ShadingType "+R.type),J("/ColorSpace /DeviceRGB");var tt="/Coords ["+M(parseFloat(R.coords[0]))+" "+M(parseFloat(R.coords[1]))+" ";R.type===2?tt+=M(parseFloat(R.coords[2]))+" "+M(parseFloat(R.coords[3])):tt+=M(parseFloat(R.coords[2]))+" "+M(parseFloat(R.coords[3]))+" "+M(parseFloat(R.coords[4]))+" "+M(parseFloat(R.coords[5])),J(tt+="]"),R.matrix&&J("/Matrix ["+R.matrix.toString()+"]"),J("/Function "+be+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Zp=function(R,ne){var be=Ue(),Be=St();ne.push({resourcesOid:be,objectOid:Be}),R.objectNumber=Be;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+R.boundingBox.map(M).join(" ")+"]"}),$e.push({key:"XStep",value:M(R.xStep)}),$e.push({key:"YStep",value:M(R.yStep)}),$e.push({key:"Resources",value:be+" 0 R"}),R.matrix&&$e.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),ti({data:R.stream,additionalKeyValues:$e,objectId:R.objectNumber}),J("endobj")},Ml=function(R){var ne;for(ne in wr)wr.hasOwnProperty(ne)&&(wr[ne]instanceof PA?Bn(wr[ne]):wr[ne]instanceof Of&&Zp(wr[ne],R))},Oh=function(R){for(var ne in R.objectNumber=St(),J("<<"),R)switch(ne){case"opacity":J("/ca "+I(R[ne]));break;case"stroke-opacity":J("/CA "+I(R[ne]))}J(">>"),J("endobj")},Wd=function(){var R;for(R in yr)yr.hasOwnProperty(R)&&Oh(yr[R])},Ih=function(){for(var R in J("/XObject <<"),Gt)Gt.hasOwnProperty(R)&&Gt[R].objectNumber>=0&&J("/"+R+" "+Gt[R].objectNumber+" 0 R");ft.publish("putXobjectDict"),J(">>")},vm=function(){En.oid=St(),J("<<"),J("/Filter /Standard"),J("/V "+En.v),J("/R "+En.r),J("/U <"+En.toHexString(En.U)+">"),J("/O <"+En.toHexString(En.O)+">"),J("/P "+En.P),J(">>"),J("endobj")},Fc=function(){for(var R in J("/Font <<"),Pr)Pr.hasOwnProperty(R)&&(h===!1||h===!0&&m.hasOwnProperty(R))&&J("/"+R+" "+Pr[R].objectNumber+" 0 R");J(">>")},vi=function(){if(Object.keys(wr).length>0){for(var R in J("/Shading <<"),wr)wr.hasOwnProperty(R)&&wr[R]instanceof PA&&wr[R].objectNumber>=0&&J("/"+R+" "+wr[R].objectNumber+" 0 R");ft.publish("putShadingPatternDict"),J(">>")}},Gd=function(R){if(Object.keys(wr).length>0){for(var ne in J("/Pattern <<"),wr)wr.hasOwnProperty(ne)&&wr[ne]instanceof f.TilingPattern&&wr[ne].objectNumber>=0&&wr[ne].objectNumber<R&&J("/"+ne+" "+wr[ne].objectNumber+" 0 R");ft.publish("putTilingPatternDict"),J(">>")}},ri=function(){if(Object.keys(yr).length>0){var R;for(R in J("/ExtGState <<"),yr)yr.hasOwnProperty(R)&&yr[R].objectNumber>=0&&J("/"+R+" "+yr[R].objectNumber+" 0 R");ft.publish("putGStateDict"),J(">>")}},Vn=function(R){hr(R.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Fc(),vi(),Gd(R.objectOid),ri(),Ih(),J(">>"),J("endobj")},wm=function(){var R=[];Pc(),Wd(),Kd(),Ml(R),ft.publish("putResources"),R.forEach(Vn),Vn({resourcesOid:Fs,objectOid:Number.MAX_SAFE_INTEGER}),ft.publish("postPutResources")},jm=function(){ft.publish("putAdditionalObjects");for(var R=0;R<_e.length;R++){var ne=_e[R];hr(ne.objId,!0),J(ne.content),J("endobj")}ft.publish("postPutAdditionalObjects")},Oc=function(R){Ur[R.fontName]=Ur[R.fontName]||{},Ur[R.fontName][R.fontStyle]=R.id},Ll=function(R,ne,be,Be,$e){var tt={id:"F"+(Object.keys(Pr).length+1).toString(10),postScriptName:R,fontName:ne,fontStyle:be,encoding:Be,isStandardFont:$e||!1,metadata:{}};return ft.publish("addFont",{font:tt,instance:this}),Pr[tt.id]=tt,Oc(tt),tt.id},Ic=function(R){for(var ne=0,be=le.length;ne<be;ne++){var Be=Ll.call(this,R[ne][0],R[ne][1],R[ne][2],le[ne][3],!0);h===!1&&(m[Be]=!0);var $e=R[ne][0].split("-");Oc({id:Be,fontName:$e[0],fontStyle:$e[1]||""})}ft.publish("addFonts",{fonts:Pr,dictionary:Ur})},Ca=function(R){return R.foo=function(){try{return R.apply(this,arguments)}catch(Be){var ne=Be.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var be="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Be.message;if(!ar.console)throw new Error(be);ar.console.error(be,Be),ar.alert&&alert(be)}},R.foo.bar=R,R.foo},Xd=function(R,ne){var be,Be,$e,tt,ut,Ct,qt,Ar,dr;if($e=(ne=ne||{}).sourceEncoding||"Unicode",ut=ne.outputEncoding,(ne.autoencode||ut)&&Pr[zt].metadata&&Pr[zt].metadata[$e]&&Pr[zt].metadata[$e].encoding&&(tt=Pr[zt].metadata[$e].encoding,!ut&&Pr[zt].encoding&&(ut=Pr[zt].encoding),!ut&&tt.codePages&&(ut=tt.codePages[0]),typeof ut=="string"&&(ut=tt[ut]),ut)){for(qt=!1,Ct=[],be=0,Be=R.length;be<Be;be++)(Ar=ut[R.charCodeAt(be)])?Ct.push(String.fromCharCode(Ar)):Ct.push(R[be]),Ct[be].charCodeAt(0)>>8&&(qt=!0);R=Ct.join("")}for(be=R.length;qt===void 0&&be!==0;)R.charCodeAt(be-1)>>8&&(qt=!0),be--;if(!qt)return R;for(Ct=ne.noBOM?[]:[254,255],be=0,Be=R.length;be<Be;be++){if((dr=(Ar=R.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ct.push(dr),Ct.push(Ar-(dr<<8))}return String.fromCharCode.apply(void 0,Ct)},Sa=f.__private__.pdfEscape=f.pdfEscape=function(R,ne){return Xd(R,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dc=f.__private__.beginPage=function(R){ge[++xt]=[],Xe[xt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Rl(xt),Ne(ge[U])},Dh=function(R,ne){var be,Be,$e;switch(r=ne||r,typeof R=="string"&&(be=x(R.toLowerCase()),Array.isArray(be)&&(Be=be[0],$e=be[1])),Array.isArray(R)&&(Be=R[0]*mt,$e=R[1]*mt),isNaN(Be)&&(Be=a[0],$e=a[1]),(Be>14400||$e>14400)&&(xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),$e=Math.min(14400,$e)),a=[Be,$e],r.substr(0,1)){case"l":$e>Be&&(a=[$e,Be]);break;case"p":Be>$e&&(a=[$e,Be])}Dc(a),Qc(Uh),J(Ba),$h!==0&&J($h+" J"),Hc!==0&&J(Hc+" j"),ft.publish("addPage",{pageNumber:xt})},Mh=function(R){R>0&&R<=xt&&(ge.splice(R,1),Xe.splice(R,1),xt--,U>xt&&(U=xt),this.setPage(U))},Rl=function(R){R>0&&R<=xt&&(U=R)},eg=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ge.length-1},Yd=function(R,ne,be){var Be,$e=void 0;return be=be||{},R=R!==void 0?R:Pr[zt].fontName,ne=ne!==void 0?ne:Pr[zt].fontStyle,Be=R.toLowerCase(),Ur[Be]!==void 0&&Ur[Be][ne]!==void 0?$e=Ur[Be][ne]:Ur[R]!==void 0&&Ur[R][ne]!==void 0?$e=Ur[R][ne]:be.disableWarning===!1&&xn.warn("Unable to look up font label for font '"+R+"', '"+ne+"'. Refer to getFontList() for available fonts."),$e||be.noFallback||($e=Ur.times[ne])==null&&($e=Ur.times.normal),$e},Dr=f.__private__.putInfo=function(){var R=St(),ne=function(Be){return Be};for(var be in u!==null&&(ne=En.encryptor(R,0)),J("<<"),J("/Producer ("+Sa(ne("jsPDF "+Kt.version))+")"),Pt)Pt.hasOwnProperty(be)&&Pt[be]&&J("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Sa(ne(Pt[be]))+")");J("/CreationDate ("+Sa(ne(V))+")"),J(">>"),J("endobj")},Jd=f.__private__.putCatalog=function(R){var ne=(R=R||{}).rootDictionaryObjId||ha;switch(St(),J("<<"),J("/Type /Catalog"),J("/Pages "+ne+" 0 R"),Ze||(Ze="fullwidth"),Ze){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+Ze;be.substr(be.length-1)==="%"&&(Ze=parseInt(Ze)/100),typeof Ze=="number"&&J("/OpenAction [3 0 R /XYZ null null "+I(Ze)+"]")}switch(Ce||(Ce="continuous"),Ce){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}_t&&J("/PageMode /"+_t),ft.publish("putCatalog"),J(">>"),J("endobj")},Nm=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(se+1)),J("/Root "+se+" 0 R"),J("/Info "+(se-1)+" 0 R"),u!==null&&J("/Encrypt "+En.oid+" 0 R"),J("/ID [ <"+z+"> <"+z+"> ]"),J(">>")},Lh=f.__private__.putHeader=function(){J("%PDF-"+b),J("%ºß¬à")},_m=f.__private__.putXRef=function(){var R="0000000000";J("xref"),J("0 "+(se+1)),J("0000000000 65535 f ");for(var ne=1;ne<=se;ne++)typeof fe[ne]=="function"?J((R+fe[ne]()).slice(-10)+" 00000 n "):fe[ne]!==void 0?J((R+fe[ne]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},mo=f.__private__.buildDocument=function(){st(),Ne(me),ft.publish("buildDocument"),Lh(),Dl(),jm(),wm(),u!==null&&vm(),Dr(),Jd();var R=pe;return _m(),Nm(),J("startxref"),J(""+R),J("%%EOF"),Ne(ge[U]),me.join(`
`)},Mc=f.__private__.getBlob=function(R){return new Blob([Ie(R)],{type:"application/pdf"})},Ul=f.output=f.__private__.output=Ca((function(R,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",R){case void 0:return mo();case"save":f.save(ne.filename);break;case"arraybuffer":return Ie(mo());case"blob":return Mc(mo());case"bloburi":case"bloburl":if(ar.URL!==void 0&&typeof ar.URL.createObjectURL=="function")return ar.URL&&ar.URL.createObjectURL(Mc(mo()))||void 0;xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Be=mo();try{be=HS(Be)}catch{be=HS(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+ne.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",tt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&($e=ne.pdfObjectUrl,tt="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+tt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Ct=ar.open();return Ct!==null&&Ct.document.write(ut),Ct}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ar)==="[object Window]"){var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Ar=ar.open();if(Ar!==null){Ar.document.write(qt);var dr=this;Ar.document.documentElement.querySelector("#pdfViewer").onload=function(){Ar.document.title=ne.filename,Ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dr.output("bloburl"))}}return Ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ar)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',kn=ar.open();if(kn!==null&&(kn.document.write(Cr),kn.document.title=ne.filename),kn||typeof safari>"u")return kn;break;case"datauri":case"dataurl":return ar.document.location.href=this.output("datauristring",ne);default:return null}})),Lc=function(R){return Array.isArray(Qr)===!0&&Qr.indexOf(R)>-1};switch(s){case"pt":mt=1;break;case"mm":mt=72/25.4;break;case"cm":mt=72/2.54;break;case"in":mt=72;break;case"px":mt=Lc("px_scaling")==1?.75:96/72;break;case"pc":case"em":mt=12;break;case"ex":mt=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);mt=s}var En=null;Y(),G();var fo=function(R){return u!==null?En.encryptor(R,0):function(ne){return ne}},zi=f.__private__.getPageInfo=f.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xe[R].objId,pageNumber:R,pageContext:Xe[R]}},er=f.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Xe)if(Xe[ne].objId===R)break;return zi(ne)},Rc=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Xe[U].objId,pageNumber:U,pageContext:Xe[U]}};f.addPage=function(){return Dh.apply(this,arguments),this},f.setPage=function(){return Rl.apply(this,arguments),Ne.call(this,ge[U]),this},f.insertPage=function(R){return this.addPage(),this.movePage(U,R),this},f.movePage=function(R,ne){var be,Be;if(R>ne){be=ge[R],Be=Xe[R];for(var $e=R;$e>ne;$e--)ge[$e]=ge[$e-1],Xe[$e]=Xe[$e-1];ge[ne]=be,Xe[ne]=Be,this.setPage(ne)}else if(R<ne){be=ge[R],Be=Xe[R];for(var tt=R;tt<ne;tt++)ge[tt]=ge[tt+1],Xe[tt]=Xe[tt+1];ge[ne]=be,Xe[ne]=Be,this.setPage(ne)}return this},f.deletePage=function(){return Mh.apply(this,arguments),this},f.__private__.text=f.text=function(R,ne,be,Be,$e){var tt,ut,Ct,qt,Ar,dr,Cr,kn,Ln,Yn=(Be=Be||{}).scope||this;if(typeof R=="number"&&typeof ne=="number"&&(typeof be=="string"||Array.isArray(be))){var Ws=be;be=ne,ne=R,R=Ws}if(arguments[3]instanceof je?(S("The transform parameter of text() with a Matrix value"),Ln=$e):(Ct=arguments[4],qt=arguments[5],hn(Cr=arguments[3])==="object"&&Cr!==null||(typeof Ct=="string"&&(qt=Ct,Ct=null),typeof Cr=="string"&&(qt=Cr,Cr=null),typeof Cr=="number"&&(Ct=Cr,Cr=null),Be={flags:Cr,angle:Ct,align:qt})),isNaN(ne)||isNaN(be)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return Yn;var bs="",Gi=!1,si=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Uc,Ni=Yn.internal.scaleFactor;function Kl(an){return an=an.split("	").join(Array(Be.TabLen||9).join(" ")),Sa(an,Cr)}function zh(an){for(var Vr,Un=an.concat(),Jn=[],vo=Un.length;vo--;)typeof(Vr=Un.shift())=="string"?Jn.push(Vr):Array.isArray(an)&&(Vr.length===1||Vr[1]===void 0&&Vr[2]===void 0)?Jn.push(Vr[0]):Jn.push([Vr[0],Vr[1],Vr[2]]);return Jn}function lu(an,Vr){var Un;if(typeof an=="string")Un=Vr(an)[0];else if(Array.isArray(an)){for(var Jn,vo,xu=an.concat(),Yc=[],Wh=xu.length;Wh--;)typeof(Jn=xu.shift())=="string"?Yc.push(Vr(Jn)[0]):Array.isArray(Jn)&&typeof Jn[0]=="string"&&(vo=Vr(Jn[0],Jn[1],Jn[2]),Yc.push([vo[0],vo[1],vo[2]]));Un=Yc}return Un}var qc=!1,cu=!0;if(typeof R=="string")qc=!0;else if(Array.isArray(R)){var du=R.concat();ut=[];for(var zc,Rn=du.length;Rn--;)(typeof(zc=du.shift())!="string"||Array.isArray(zc)&&typeof zc[0]!="string")&&(cu=!1);qc=cu}if(qc===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var uu=Se/Yn.internal.scaleFactor,hu=uu*(si-1);switch(Be.baseline){case"bottom":be-=hu;break;case"top":be+=uu-hu;break;case"hanging":be+=uu-2*hu;break;case"middle":be+=uu/2-hu}if((dr=Be.maxWidth||0)>0&&(typeof R=="string"?R=Yn.splitTextToSize(R,dr):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce((function(an,Vr){return an.concat(Yn.splitTextToSize(Vr,dr))}),[]))),tt={text:R,x:ne,y:be,options:Be,mutex:{pdfEscape:Sa,activeFontKey:zt,fonts:Pr,activeFontSize:Se}},ft.publish("preProcessText",tt),R=tt.text,Ct=(Be=tt.options).angle,!(Ln instanceof je)&&Ct&&typeof Ct=="number"){Ct*=Math.PI/180,Be.rotationDirection===0&&(Ct=-Ct),j===v.ADVANCED&&(Ct=-Ct);var Au=Math.cos(Ct),mu=Math.sin(Ct);Ln=new je(Au,mu,-mu,Au,0,0)}else Ct&&Ct instanceof je&&(Ln=Ct);j!==v.ADVANCED||Ln||(Ln=Le),(Ar=Be.charSpace||ql)!==void 0&&(bs+=M(T(Ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(kn=Be.horizontalScale)!==void 0&&(bs+=M(100*kn)+` Tz
`),Be.lang;var Aa=-1,Vc=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,el=Yn.internal.getCurrentPageInfo().pageContext;switch(Vc){case 0:case!1:case"fill":Aa=0;break;case 1:case!0:case"stroke":Aa=1;break;case 2:case"fillThenStroke":Aa=2;break;case 3:case"invisible":Aa=3;break;case 4:case"fillAndAddForClipping":Aa=4;break;case 5:case"strokeAndAddPathForClipping":Aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Aa=6;break;case 7:case"addToPathForClipping":Aa=7}var Em=el.usedRenderingMode!==void 0?el.usedRenderingMode:-1;Aa!==-1?bs+=Aa+` Tr
`:Em!==-1&&(bs+=`0 Tr
`),Aa!==-1&&(el.usedRenderingMode=Aa),qt=Be.align||"left";var ma,fu=Se*si,Vh=Yn.internal.pageSize.getWidth(),pu=Pr[zt];Ar=Be.charSpace||ql,dr=Be.maxWidth||0,Cr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var yo=[],Wl=function(an){return Yn.getStringUnitWidth(an,{font:pu,charSpace:Ar,fontSize:Se,doKerning:!1})*Se/Ni};if(Object.prototype.toString.call(R)==="[object Array]"){var fa;ut=zh(R),qt!=="left"&&(ma=ut.map(Wl));var Gs,Gl=0;if(qt==="right"){ne-=ma[0],R=[],Rn=ut.length;for(var tl=0;tl<Rn;tl++)tl===0?(Gs=wi(ne),fa=ji(be)):(Gs=T(Gl-ma[tl]),fa=-fu),R.push([ut[tl],Gs,fa]),Gl=ma[tl]}else if(qt==="center"){ne-=ma[0]/2,R=[],Rn=ut.length;for(var rl=0;rl<Rn;rl++)rl===0?(Gs=wi(ne),fa=ji(be)):(Gs=T((Gl-ma[rl])/2),fa=-fu),R.push([ut[rl],Gs,fa]),Gl=ma[rl]}else if(qt==="left"){R=[],Rn=ut.length;for(var gu=0;gu<Rn;gu++)R.push(ut[gu])}else if(qt==="justify"&&pu.encoding==="Identity-H"){R=[],Rn=ut.length,dr=dr!==0?dr:Vh;for(var nl=0,Mr=0;Mr<Rn;Mr++)if(fa=Mr===0?ji(be):-fu,Gs=Mr===0?wi(ne):nl,Mr<Rn-1){var sl=T((dr-ma[Mr])/(ut[Mr].split(" ").length-1)),Xs=ut[Mr].split(" ");R.push([Xs[0]+" ",Gs,fa]),nl=0;for(var ai=1;ai<Xs.length;ai++){var Kc=(Wl(Xs[ai-1]+" "+Xs[ai])-Wl(Xs[ai]))*Ni+sl;ai==Xs.length-1?R.push([Xs[ai],Kc,0]):R.push([Xs[ai]+" ",Kc,0]),nl-=Kc}}else R.push([ut[Mr],Gs,fa]);R.push(["",nl,0])}else{if(qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Rn=ut.length,dr=dr!==0?dr:Vh,Mr=0;Mr<Rn;Mr++)fa=Mr===0?ji(be):-fu,Gs=Mr===0?wi(ne):0,Mr<Rn-1?yo.push(M(T((dr-ma[Mr])/(ut[Mr].split(" ").length-1)))):yo.push(0),R.push([ut[Mr],Gs,fa])}}var Kh=typeof Be.R2L=="boolean"?Be.R2L:dt;Kh===!0&&(R=lu(R,(function(an,Vr,Un){return[an.split("").reverse().join(""),Vr,Un]}))),tt={text:R,x:ne,y:be,options:Be,mutex:{pdfEscape:Sa,activeFontKey:zt,fonts:Pr,activeFontSize:Se}},ft.publish("postProcessText",tt),R=tt.text,Gi=tt.mutex.isHex||!1;var Wc=Pr[zt].encoding;Wc!=="WinAnsiEncoding"&&Wc!=="StandardEncoding"||(R=lu(R,(function(an,Vr,Un){return[Kl(an),Vr,Un]}))),ut=zh(R),R=[];for(var Gc,Xc,ii,al=0,bo=1,il=Array.isArray(ut[0])?bo:al,ol="",Xl=function(an,Vr,Un){var Jn="";return Un instanceof je?(Un=typeof Be.angle=="number"?Qe(Un,new je(1,0,0,1,an,Vr)):Qe(new je(1,0,0,1,an,Vr),Un),j===v.ADVANCED&&(Un=Qe(new je(1,0,0,-1,0,0),Un)),Jn=Un.join(" ")+` Tm
`):Jn=M(an)+" "+M(Vr)+` Td
`,Jn},Is=0;Is<ut.length;Is++){switch(ol="",il){case bo:ii=(Gi?"<":"(")+ut[Is][0]+(Gi?">":")"),Gc=parseFloat(ut[Is][1]),Xc=parseFloat(ut[Is][2]);break;case al:ii=(Gi?"<":"(")+ut[Is]+(Gi?">":")"),Gc=wi(ne),Xc=ji(be)}yo!==void 0&&yo[Is]!==void 0&&(ol=yo[Is]+` Tw
`),Is===0?R.push(ol+Xl(Gc,Xc,Ln)+ii):il===al?R.push(ol+ii):il===bo&&R.push(ol+Xl(Gc,Xc,Ln)+ii)}R=il===al?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Ea=`BT
/`;return Ea+=zt+" "+Se+` Tf
`,Ea+=M(Se*si)+` TL
`,Ea+=is+`
`,Ea+=bs,Ea+=R,J(Ea+="ET"),m[zt]=!0,Yn};var po=f.__private__.clip=f.clip=function(R){return J(R==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return po("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var go=f.__private__.isValidStyle=function(R){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(ne=!0),ne};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(R){return go(R)&&(d=R),this};var Rh=f.__private__.getStyle=f.getStyle=function(R){var ne=d;switch(R){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=R}return ne},Ql=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(R){return Zd("f",R),this},f.fillEvenOdd=function(R){return Zd("f*",R),this},f.fillStroke=function(R){return Zd("B",R),this},f.fillStrokeEvenOdd=function(R){return Zd("B*",R),this};var Zd=function(R,ne){hn(ne)==="object"?Cm(ne,R):J(R)},eu=function(R){R===null||j===v.ADVANCED&&R===void 0||(R=Rh(R),J(R))};function tu(R,ne,be,Be,$e){var tt=new Of(ne||this.boundingBox,be||this.xStep,Be||this.yStep,this.gState,$e||this.matrix);tt.stream=this.stream;var ut=R+"$$"+this.cloneIndex+++"$$";return et(ut,tt),tt}var Cm=function(R,ne){var be=ei[R.key],Be=wr[be];if(Be instanceof PA)J("q"),J(tg(ne)),Be.gState&&f.setGState(Be.gState),J(R.matrix.toString()+" cm"),J("/"+be+" sh"),J("Q");else if(Be instanceof Of){var $e=new je(1,0,0,-1,0,Vl());R.matrix&&($e=$e.multiply(R.matrix||Le),be=tu.call(Be,R.key,R.boundingBox,R.xStep,R.yStep,$e).id),J("q"),J("/Pattern cs"),J("/"+be+" scn"),Be.gState&&f.setGState(Be.gState),J(ne),J("Q")}},tg=function(R){switch(R){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Jo=f.moveTo=function(R,ne){return J(M(T(R))+" "+M(L(ne))+" m"),this},Vi=f.lineTo=function(R,ne){return J(M(T(R))+" "+M(L(ne))+" l"),this},ni=f.curveTo=function(R,ne,be,Be,$e,tt){return J([M(T(R)),M(L(ne)),M(T(be)),M(L(Be)),M(T($e)),M(L(tt)),"c"].join(" ")),this};f.__private__.line=f.line=function(R,ne,be,Be,$e){if(isNaN(R)||isNaN(ne)||isNaN(be)||isNaN(Be)||!go($e))throw new Error("Invalid arguments passed to jsPDF.line");return j===v.COMPAT?this.lines([[be-R,Be-ne]],R,ne,[1,1],$e||"S"):this.lines([[be-R,Be-ne]],R,ne,[1,1]).stroke()},f.__private__.lines=f.lines=function(R,ne,be,Be,$e,tt){var ut,Ct,qt,Ar,dr,Cr,kn,Ln,Yn,Ws,bs,Gi;if(typeof R=="number"&&(Gi=be,be=ne,ne=R,R=Gi),Be=Be||[1,1],tt=tt||!1,isNaN(ne)||isNaN(be)||!Array.isArray(R)||!Array.isArray(Be)||!go($e)||typeof tt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Jo(ne,be),ut=Be[0],Ct=Be[1],Ar=R.length,Ws=ne,bs=be,qt=0;qt<Ar;qt++)(dr=R[qt]).length===2?(Ws=dr[0]*ut+Ws,bs=dr[1]*Ct+bs,Vi(Ws,bs)):(Cr=dr[0]*ut+Ws,kn=dr[1]*Ct+bs,Ln=dr[2]*ut+Ws,Yn=dr[3]*Ct+bs,Ws=dr[4]*ut+Ws,bs=dr[5]*Ct+bs,ni(Cr,kn,Ln,Yn,Ws,bs));return tt&&Ql(),eu($e),this},f.path=function(R){for(var ne=0;ne<R.length;ne++){var be=R[ne],Be=be.c;switch(be.op){case"m":Jo(Be[0],Be[1]);break;case"l":Vi(Be[0],Be[1]);break;case"c":ni.apply(this,Be);break;case"h":Ql()}}return this},f.__private__.rect=f.rect=function(R,ne,be,Be,$e){if(isNaN(R)||isNaN(ne)||isNaN(be)||isNaN(Be)||!go($e))throw new Error("Invalid arguments passed to jsPDF.rect");return j===v.COMPAT&&(Be=-Be),J([M(T(R)),M(L(ne)),M(T(be)),M(T(Be)),"re"].join(" ")),eu($e),this},f.__private__.triangle=f.triangle=function(R,ne,be,Be,$e,tt,ut){if(isNaN(R)||isNaN(ne)||isNaN(be)||isNaN(Be)||isNaN($e)||isNaN(tt)||!go(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-R,Be-ne],[$e-be,tt-Be],[R-$e,ne-tt]],R,ne,[1,1],ut,!0),this},f.__private__.roundedRect=f.roundedRect=function(R,ne,be,Be,$e,tt,ut){if(isNaN(R)||isNaN(ne)||isNaN(be)||isNaN(Be)||isNaN($e)||isNaN(tt)||!go(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ct=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*be),tt=Math.min(tt,.5*Be),this.lines([[be-2*$e,0],[$e*Ct,0,$e,tt-tt*Ct,$e,tt],[0,Be-2*tt],[0,tt*Ct,-$e*Ct,tt,-$e,tt],[2*$e-be,0],[-$e*Ct,0,-$e,-tt*Ct,-$e,-tt],[0,2*tt-Be],[0,-tt*Ct,$e*Ct,-tt,$e,-tt]],R+$e,ne,[1,1],ut,!0),this},f.__private__.ellipse=f.ellipse=function(R,ne,be,Be,$e){if(isNaN(R)||isNaN(ne)||isNaN(be)||isNaN(Be)||!go($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var tt=4/3*(Math.SQRT2-1)*be,ut=4/3*(Math.SQRT2-1)*Be;return Jo(R+be,ne),ni(R+be,ne-ut,R+tt,ne-Be,R,ne-Be),ni(R-tt,ne-Be,R-be,ne-ut,R-be,ne),ni(R-be,ne+ut,R-tt,ne+Be,R,ne+Be),ni(R+tt,ne+Be,R+be,ne+ut,R+be,ne),eu($e),this},f.__private__.circle=f.circle=function(R,ne,be,Be){if(isNaN(R)||isNaN(ne)||isNaN(be)||!go(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ne,be,be,Be)},f.setFont=function(R,ne,be){return be&&(ne=E(ne,be)),zt=Yd(R,ne,{disableWarning:!1}),this};var ru=f.__private__.getFont=f.getFont=function(){return Pr[Yd.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var R,ne,be={};for(R in Ur)if(Ur.hasOwnProperty(R))for(ne in be[R]=[],Ur[R])Ur[R].hasOwnProperty(ne)&&be[R].push(ne);return be},f.addFont=function(R,ne,be,Be,$e){var tt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&tt.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&tt.indexOf(arguments[3])==-1&&(be=E(be,Be)),$e=$e||"Identity-H",Ll.call(this,R,ne,be,$e)};var Uc,Uh=t.lineWidth||.200025,$l=f.__private__.getLineWidth=f.getLineWidth=function(){return Uh},Qc=f.__private__.setLineWidth=f.setLineWidth=function(R){return Uh=R,J(M(T(R))+" w"),this};f.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(R,ne){if(R=R||[],ne=ne||0,isNaN(ne)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map((function(be){return M(T(be))})).join(" "),ne=M(T(ne)),J("["+R+"] "+ne+" d"),this};var nu=f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Uc};f.__private__.getLineHeight=f.getLineHeight=function(){return Se*Uc};var Qh=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Uc=R),this},Ki=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Uc};Qh(t.lineHeight);var wi=f.__private__.getHorizontalCoordinate=function(R){return T(R)},ji=f.__private__.getVerticalCoordinate=function(R){return j===v.ADVANCED?R:Xe[U].mediaBox.topRightY-Xe[U].mediaBox.bottomLeftY-T(R)},Sm=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(R){return M(wi(R))},Wi=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(R){return M(ji(R))},Ba=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Hi(Ba)},f.__private__.setStrokeColor=f.setDrawColor=function(R,ne,be,Be){return Ba=Os({ch1:R,ch2:ne,ch3:be,ch4:Be,pdfColorType:"draw",precision:2}),J(Ba),this};var su=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Hi(su)},f.__private__.setFillColor=f.setFillColor=function(R,ne,be,Be){return su=Os({ch1:R,ch2:ne,ch3:be,ch4:Be,pdfColorType:"fill",precision:2}),J(su),this};var is=t.textColor||"0 g",Hl=f.__private__.getTextColor=f.getTextColor=function(){return Hi(is)};f.__private__.setTextColor=f.setTextColor=function(R,ne,be,Be){return is=Os({ch1:R,ch2:ne,ch3:be,ch4:Be,pdfColorType:"text",precision:3}),this};var ql=t.charSpace,$c=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(ql||0)};f.__private__.setCharSpace=f.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ql=R,this};var $h=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(R){var ne=f.CapJoinStyles[R];if(ne===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $h=ne,J(ne+" J"),this};var Hc=0;f.__private__.setLineJoin=f.setLineJoin=function(R){var ne=f.CapJoinStyles[R];if(ne===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Hc=ne,J(ne+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(M(T(R))+" M"),this},f.GState=Qv,f.setGState=function(R){(R=typeof R=="string"?yr[sr[R]]:au(null,R)).equals(ve)||(J("/"+R.id+" gs"),ve=R)};var au=function(R,ne){if(!R||!sr[R]){var be=!1;for(var Be in yr)if(yr.hasOwnProperty(Be)&&yr[Be].equals(ne)){be=!0;break}if(be)ne=yr[Be];else{var $e="GS"+(Object.keys(yr).length+1).toString(10);yr[$e]=ne,ne.id=$e}return R&&(sr[R]=ne.id),ft.publish("addGState",ne),ne}};f.addGState=function(R,ne){return au(R,ne),this},f.saveGraphicsState=function(){return J("q"),Ts.push({key:zt,size:Se,color:is}),this},f.restoreGraphicsState=function(){J("Q");var R=Ts.pop();return zt=R.key,Se=R.size,is=R.color,ve=null,this},f.setCurrentTransformationMatrix=function(R){return J(R.toString()+" cm"),this},f.comment=function(R){return J("#"+R),this};var xo=function(R,ne){var be=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(tt){isNaN(tt)||(be=parseFloat(tt))}});var Be=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(tt){isNaN(tt)||(Be=parseFloat(tt))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(tt){$e=tt.toString()}}),this},zl=function(R,ne,be,Be){xo.call(this,R,ne),this.type="rect";var $e=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(ut){isNaN(ut)||($e=parseFloat(ut))}});var tt=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return tt},set:function(ut){isNaN(ut)||(tt=parseFloat(ut))}}),this},iu=function(){this.page=xt,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=Xe.slice(0),this.x=zn,this.y=br,this.matrix=Xn,this.width=Zo(U),this.height=Vl(U),this.outputDestination=Ve,this.id="",this.objectNumber=-1};iu.prototype.restore=function(){xt=this.page,U=this.currentPage,Xe=this.pagesContext,ge=this.pages,zn=this.x,br=this.y,Xn=this.matrix,Hh(U,this.width),qh(U,this.height),Ve=this.outputDestination};var Bm=function(R,ne,be,Be,$e){de.push(new iu),xt=U=0,ge=[],zn=R,br=ne,Xn=$e,Dc([be,Be])},rg=function(R){if(pt[R])de.pop().restore();else{var ne=new iu,be="Xo"+(Object.keys(Gt).length+1).toString(10);ne.id=be,pt[R]=be,Gt[be]=ne,ft.publish("addFormObject",ne),de.pop().restore()}};for(var ou in f.beginFormObject=function(R,ne,be,Be,$e){return Bm(R,ne,be,Be,$e),this},f.endFormObject=function(R){return rg(R),this},f.doFormObject=function(R,ne){var be=Gt[pt[R]];return J("q"),J(ne.toString()+" cm"),J("/"+be.id+" Do"),J("Q"),this},f.getFormObject=function(R){var ne=Gt[pt[R]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},f.save=function(R,ne){return R=R||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(jA(Mc(mo()),R),typeof jA.unload=="function"&&ar.setTimeout&&setTimeout(jA.unload,911),this):new Promise((function(be,Be){try{var $e=jA(Mc(mo()),R);typeof jA.unload=="function"&&ar.setTimeout&&setTimeout(jA.unload,911),be($e)}catch(tt){Be(tt.message)}}))},Kt.API)Kt.API.hasOwnProperty(ou)&&(ou==="events"&&Kt.API.events.length?(function(R,ne){var be,Be,$e;for($e=ne.length-1;$e!==-1;$e--)be=ne[$e][0],Be=ne[$e][1],R.subscribe.apply(R,[be].concat(typeof Be=="function"?[Be]:Be))})(ft,Kt.API.events):f[ou]=Kt.API[ou]);var Zo=f.getPageWidth=function(R){return(Xe[R=R||U].mediaBox.topRightX-Xe[R].mediaBox.bottomLeftX)/mt},Hh=f.setPageWidth=function(R,ne){Xe[R].mediaBox.topRightX=ne*mt+Xe[R].mediaBox.bottomLeftX},Vl=f.getPageHeight=function(R){return(Xe[R=R||U].mediaBox.topRightY-Xe[R].mediaBox.bottomLeftY)/mt},qh=f.setPageHeight=function(R,ne){Xe[R].mediaBox.topRightY=ne*mt+Xe[R].mediaBox.bottomLeftY};return f.internal={pdfEscape:Sa,getStyle:Rh,getFont:ru,getFontSize:Oe,getCharSpace:$c,getTextColor:Hl,getLineHeight:nu,getLineHeightFactor:Ki,getLineWidth:$l,write:Me,getHorizontalCoordinate:wi,getVerticalCoordinate:ji,getCoordinateString:Sm,getVerticalCoordinateString:Wi,collections:{},newObject:St,newAdditionalObject:sn,newObjectDeferred:Ue,newObjectDeferredBegin:hr,getFilters:qi,putStream:ti,events:ft,scaleFactor:mt,pageSize:{getWidth:function(){return Zo(U)},setWidth:function(R){Hh(U,R)},getHeight:function(){return Vl(U)},setHeight:function(R){qh(U,R)}},encryptionOptions:u,encryption:En,getEncryptor:fo,output:Ul,getNumberOfPages:eg,pages:ge,out:J,f2:I,f3:_,getPageInfo:zi,getPageInfoByObjId:er,getCurrentPageInfo:Rc,getPDFVersion:y,Point:xo,Rectangle:zl,Matrix:je,hasHotfix:Lc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Zo(U)},set:function(R){Hh(U,R)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Vl(U)},set:function(R){qh(U,R)},enumerable:!0,configurable:!0}),Ic.call(f,le),zt="F1",Dh(a,r),ft.publish("initialized"),f}Nf.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Nf.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},Nf.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Nf.prototype.processOwnerPassword=function(t,e){return zS(qS(e).substr(0,5),t)},Nf.prototype.encryptor=function(t,e){var r=qS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return zS(r,s)}},Qv.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||hn(t)!==hn(this))return!1;var s=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&s--;return s===0},Kt.API={events:[]},Kt.version="2.5.2";var rs=Kt.API,XE=1,Am=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},lf=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(t){return t.toFixed(2)},Uu=function(t){return t.toFixed(5)};rs.__acroform__={};var Qi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},eO=function(t){return t*XE},ic=function(t){var e=new HH,r=Rt.internal.getHeight(t)||0,s=Rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mr(s)),Number(mr(r))],e},zce=rs.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Vce=rs.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},Kce=rs.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ms=rs.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Kce(t,e-1)},fs=rs.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return zce(t,e-1)},ps=rs.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vce(t,e-1)},Wce=rs.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(mr(c.lowerLeft_X)),Number(mr(c.lowerLeft_Y)),Number(mr(c.upperRight_X)),Number(mr(c.upperRight_Y))]},Gce=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,s=VS(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+mr(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=ic(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},VS=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map((function(_){return _.split(`
`)})):a.map((function(_){return[_]}));var i=r,o=Rt.internal.getHeight(t)||0;o=o<0?-o:o;var l=Rt.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(_,T,D){if(_+1<a.length){var L=T+" "+a[_+1][0];return ab(L,t,D).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=ab("3",t,i).height,m=t.multiline?o-i:(o-h)/2,f=m+=2,b=0,y=0,g=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+ab(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",v=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var B=!1;if(a[j].length!==1&&g!==a[j].length-1){if((h+2)*(v+2)+2>o)continue e;x+=a[j][g],B=!0,y=j,j--}else{x=(x+=a[j][g]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var C=parseInt(j),E=c(C,x,i),M=j>=a.length-1;if(E&&!M){x+=" ",g=0;continue}if(E||M){if(M)y=C;else if(t.multiline&&(h+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(v+2)+2>o)continue e;y=C}}for(var S="",k=b;k<=y;k++){var I=a[k];if(t.multiline){if(k===y){S+=I[g]+" ",g=(g+1)%I.length;continue}if(k===b){S+=I[I.length-1]+" ";continue}}S+=I[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=ab(S,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=mr(d)+" "+mr(f)+` Td
`,e+="("+Am(S)+`) Tj
`,e+=-mr(d)+` 0 Td
`,f=-(i+2),u=0,b=B?y:y+1,v++,x=""}break}return s.text=e,s.fontSize=i,s},ab=function(t,e,r){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Xce={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Yce=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(s){return s.type===r.type&&s.object===r.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Jce=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var s=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),hn(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[s]}},Zce=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Tl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Xce)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");XE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new qH,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&Yce(i,r)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Wce(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Rt.createDefaultAppearanceStream(l),hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Gce(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var f=l.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var b=f[o];typeof b=="function"&&(b=b.call(a,l)),h+="/"+o+" "+b+" ",a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(a,l)),h+="/"+o+" "+b,a.internal.acroformPlugin.xForms.indexOf(b)>=0||a.internal.acroformPlugin.xForms.push(b);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&Jce(a.internal.acroformPlugin.xForms,a)})(r,t)})),t.internal.acroformPlugin.isInitialized=!0}},$H=rs.__acroform__.arrayToPdfArray=function(t,e,r){var s=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),hn(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(s=r.internal.getEncryptor(e)),a+="("+Am(s(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},nN=function(t,e,r){var s=function(a){return a};return e!==void 0&&r&&(s=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Am(s(t))+")"},Ac=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ac.prototype.toString=function(){return this.objId+" 0 R"},Ac.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ac.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var s=e[r],a=this[s];a&&(Array.isArray(a)?t.push({key:s,value:$H(a,this.objId,this.scope)}):a instanceof Ac?(a.scope=this.scope,t.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:s,value:a}))}return t};var HH=function(){Ac.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Qi(HH,Ac);var qH=function(){Ac.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Am(r(t))+")"}},set:function(r){t=r}})};Qi(qH,Ac);var Tl=function t(){Ac.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ms(e,3)},set:function(x){x?this.F=fs(e,3):this.F=ps(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof $v)return;i="FieldObject"+t.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Am(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/XE:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof $v||this instanceof KA))return nN(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof aa?m:nN(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof aa?x:x.substr(0,1)==="("?lf(x.substr(1,x.length-2)):lf(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof aa?lf(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof aa?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof aa?f:nN(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof aa?x:x.substr(0,1)==="("?lf(x.substr(1,x.length-2)):lf(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof aa?lf(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof aa?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,1)},set:function(x){x?this.Ff=fs(this.Ff,1):this.Ff=ps(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,2)},set:function(x){x?this.Ff=fs(this.Ff,2):this.Ff=ps(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,3)},set:function(x){x?this.Ff=fs(this.Ff,3):this.Ff=ps(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');g=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(g){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Qi(Tl,Ac);var Gf=function(){Tl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return $H(e,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,18)},set:function(r){r?this.Ff=fs(this.Ff,18):this.Ff=ps(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=fs(this.Ff,19):this.Ff=ps(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,20)},set:function(r){r?(this.Ff=fs(this.Ff,20),e.sort()):this.Ff=ps(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,22)},set:function(r){r?this.Ff=fs(this.Ff,22):this.Ff=ps(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,23)},set:function(r){r?this.Ff=fs(this.Ff,23):this.Ff=ps(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,27)},set:function(r){r?this.Ff=fs(this.Ff,27):this.Ff=ps(this.Ff,27)}}),this.hasAppearanceStream=!1};Qi(Gf,Tl);var Xf=function(){Gf.call(this),this.fontName="helvetica",this.combo=!1};Qi(Xf,Gf);var Yf=function(){Xf.call(this),this.combo=!0};Qi(Yf,Xf);var Av=function(){Yf.call(this),this.edit=!0};Qi(Av,Yf);var aa=function(){Tl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,15)},set:function(r){r?this.Ff=fs(this.Ff,15):this.Ff=ps(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,16)},set:function(r){r?this.Ff=fs(this.Ff,16):this.Ff=ps(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,17)},set:function(r){r?this.Ff=fs(this.Ff,17):this.Ff=ps(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,26)},set:function(r){r?this.Ff=fs(this.Ff,26):this.Ff=ps(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+Am(r(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){hn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Qi(aa,Tl);var mv=function(){aa.call(this),this.pushButton=!0};Qi(mv,aa);var Jf=function(){aa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Qi(Jf,aa);var $v=function(){var t,e;Tl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+Am(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){hn(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qi($v,Tl),Jf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Jf.prototype.createOption=function(t){var e=new $v;return e.Parent=this,e.optionName=t,this.Kids.push(e),ede.call(this.scope,e),e};var fv=function(){aa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};Qi(fv,aa);var KA=function(){Tl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,13)},set:function(e){e?this.Ff=fs(this.Ff,13):this.Ff=ps(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,21)},set:function(e){e?this.Ff=fs(this.Ff,21):this.Ff=ps(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,23)},set:function(e){e?this.Ff=fs(this.Ff,23):this.Ff=ps(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,24)},set:function(e){e?this.Ff=fs(this.Ff,24):this.Ff=ps(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,25)},set:function(e){e?this.Ff=fs(this.Ff,25):this.Ff=ps(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,26)},set:function(e){e?this.Ff=fs(this.Ff,26):this.Ff=ps(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qi(KA,Tl);var pv=function(){KA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ms(this.Ff,14)},set:function(t){t?this.Ff=fs(this.Ff,14):this.Ff=ps(this.Ff,14)}}),this.password=!0};Qi(pv,KA);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=VS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+mr(Rt.internal.getWidth(t))+" "+mr(Rt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+mr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=ic(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=[],i=Rt.internal.getHeight(t),o=Rt.internal.getWidth(t),l=VS(t,t.caption);return a.push("1 g"),a.push("0 0 "+mr(o)+" "+mr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mr(o-1)+" "+mr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+mr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Rt.internal.getWidth(t))+" "+mr(Rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Rt.RadioButton.Circle.YesNormal,e.D[t]=Rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ic(t);e.scope=t.scope;var r=[],s=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Rt.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Uu(Rt.internal.getWidth(t)/2)+" "+Uu(Rt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=[],s=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5)),o=Number((s*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Rt.internal.getWidth(t)/2)+" "+Uu(Rt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Rt.internal.getWidth(t)/2)+" "+Uu(Rt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=[],s=Rt.internal.getWidth(t)<=Rt.internal.getHeight(t)?Rt.internal.getWidth(t)/4:Rt.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Rt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Rt.internal.getWidth(t)/2)+" "+Uu(Rt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Rt.RadioButton.Cross.YesNormal,e.D[t]=Rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ic(t);e.scope=t.scope;var r=[],s=Rt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+mr(Rt.internal.getWidth(t)-2)+" "+mr(Rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mr(s.x1.x)+" "+mr(s.x1.y)+" m"),r.push(mr(s.x2.x)+" "+mr(s.x2.y)+" l"),r.push(mr(s.x4.x)+" "+mr(s.x4.y)+" m"),r.push(mr(s.x3.x)+" "+mr(s.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=Rt.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+mr(Rt.internal.getWidth(t))+" "+mr(Rt.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+mr(Rt.internal.getWidth(t)-2)+" "+mr(Rt.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(mr(r.x1.x)+" "+mr(r.x1.y)+" m"),s.push(mr(r.x2.x)+" "+mr(r.x2.y)+" l"),s.push(mr(r.x4.x)+" "+mr(r.x4.y)+" m"),s.push(mr(r.x3.x)+" "+mr(r.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=ic(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Rt.internal.getWidth(t))+" "+mr(Rt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Rt.internal.getWidth(t),r=Rt.internal.getHeight(t),s=Math.min(e,r);return{x1:{x:(e-s)/2,y:(r-s)/2+s},x2:{x:(e-s)/2+s,y:(r-s)/2},x3:{x:(e-s)/2,y:(r-s)/2},x4:{x:(e-s)/2+s,y:(r-s)/2+s}}}},Rt.internal.getWidth=function(t){var e=0;return hn(t)==="object"&&(e=eO(t.Rect[2])),e},Rt.internal.getHeight=function(t){var e=0;return hn(t)==="object"&&(e=eO(t.Rect[3])),e};var ede=rs.addField=function(t){if(Zce(this,t),!(t instanceof Tl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};rs.AcroFormChoiceField=Gf,rs.AcroFormListBox=Xf,rs.AcroFormComboBox=Yf,rs.AcroFormEditBox=Av,rs.AcroFormButton=aa,rs.AcroFormPushButton=mv,rs.AcroFormRadioButton=Jf,rs.AcroFormCheckBox=fv,rs.AcroFormTextField=KA,rs.AcroFormPasswordField=pv,rs.AcroFormAppearance=Rt,rs.AcroForm={ChoiceField:Gf,ListBox:Xf,ComboBox:Yf,EditBox:Av,Button:aa,PushButton:mv,RadioButton:Jf,CheckBox:fv,TextField:KA,PasswordField:pv,Appearance:Rt},Kt.AcroForm={ChoiceField:Gf,ListBox:Xf,ComboBox:Yf,EditBox:Av,Button:aa,PushButton:mv,RadioButton:Jf,CheckBox:fv,TextField:KA,PasswordField:pv,Appearance:Rt};Kt.AcroForm;function zH(t){return t.reduce((function(e,r,s){return e[r]=s,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(_,T){var D,L,V,z,Z,G=e;if((T=T||e)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(E(_))for(Z in r)for(V=r[Z],D=0;D<V.length;D+=1){for(z=!0,L=0;L<V[D].length;L+=1)if(V[D][L]!==void 0&&V[D][L]!==_[L]){z=!1;break}if(z===!0){G=Z;break}}else for(Z in r)for(V=r[Z],D=0;D<V.length;D+=1){for(z=!0,L=0;L<V[D].length;L+=1)if(V[D][L]!==void 0&&V[D][L]!==_.charCodeAt(L)){z=!1;break}if(z===!0){G=Z;break}}return G===e&&T!==e&&(G=T),G},a=function _(T){for(var D=this.internal.write,L=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:T.width}),z.push({key:"Height",value:T.height}),T.colorSpace===g.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===g.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var Z="",G=0,H=T.transparency.length;G<H;G++)Z+=T.transparency[G]+" "+T.transparency[G]+" ";z.push({key:"Mask",value:"["+Z+"]"})}T.sMask!==void 0&&z.push({key:"SMask",value:T.objectId+1+" 0 R"});var ee=T.filter!==void 0?["/"+T.filter]:void 0;if(L({data:T.data,additionalKeyValues:z,alreadyAppliedFilters:ee,objectId:T.objectId}),D("endobj"),"sMask"in T&&T.sMask!==void 0){var Y="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,q={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Y,data:T.sMask};"filter"in T&&(q.filter=T.filter),_.call(this,q)}if(T.colorSpace===g.INDEXED){var U=this.internal.newObject();L({data:S(new Uint8Array(T.palette)),objectId:U}),D("endobj")}},i=function(){var _=this.internal.collections.addImage_images;for(var T in _)a.call(this,_[T])},o=function(){var _,T=this.internal.collections.addImage_images,D=this.internal.write;for(var L in T)D("/I"+(_=T[L]).index,_.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var _=this.internal.collections.addImage_images;return l.call(this),_},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(_){return typeof t["process"+_.toUpperCase()]=="function"},h=function(_){return hn(_)==="object"&&_.nodeType===1},m=function(_,T){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var D=""+_.getAttribute("src");if(D.indexOf("data:image/")===0)return m0(unescape(D).split("base64,").pop());var L=t.loadFile(D,!0);if(L!==void 0)return L}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var V;switch(T){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return m0(_.toDataURL(V,1).split("base64,").pop())}},f=function(_){var T=this.internal.collections.addImage_images;if(T){for(var D in T)if(_===T[D].alias)return T[D]}},b=function(_,T,D){return _||T||(_=-96,T=-96),_<0&&(_=-1*D.width*72/_/this.internal.scaleFactor),T<0&&(T=-1*D.height*72/T/this.internal.scaleFactor),_===0&&(_=T*D.width/D.height),T===0&&(T=_*D.height/D.width),[_,T]},y=function(_,T,D,L,V,z){var Z=b.call(this,D,L,V),G=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString,ee=c.call(this);if(D=Z[0],L=Z[1],ee[V.index]=V,z){z*=Math.PI/180;var Y=Math.cos(z),q=Math.sin(z),U=function(X){return X.toFixed(4)},te=[U(Y),U(q),U(-1*q),U(Y),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,G(_),H(T+L),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([G(D),"0","0",G(L),"0","0","cm"].join(" "))):this.internal.write([G(D),"0","0",G(L),G(_),H(T+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(_){var T,D,L=0;if(typeof _=="string")for(D=_.length,T=0;T<D;T++)L=(L<<5)-L+_.charCodeAt(T),L|=0;else if(E(_))for(D=_.byteLength/2,T=0;T<D;T++)L=(L<<5)-L+_[T],L|=0;return L},j=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var T=!0;return _.length===0&&(T=!1),_.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(T=!1),T},B=t.__addimage__.extractImageFromDataUrl=function(_){var T=(_=_||"").split("base64,"),D=null;if(T.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(L)&&(D={mimeType:L[1],charset:L[2],data:T[1]})}return D},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(_){return C()&&_ instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(_){return C()&&typeof Uint32Array<"u"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},M=t.__addimage__.binaryStringToUint8Array=function(_){for(var T=_.length,D=new Uint8Array(T),L=0;L<T;L++)D[L]=_.charCodeAt(L);return D},S=t.__addimage__.arrayBufferToBinaryString=function(_){for(var T="",D=E(_)?_:new Uint8Array(_),L=0;L<D.length;L+=8192)T+=String.fromCharCode.apply(null,D.subarray(L,L+8192));return T};t.addImage=function(){var _,T,D,L,V,z,Z,G,H;if(typeof arguments[1]=="number"?(T=e,D=arguments[1],L=arguments[2],V=arguments[3],z=arguments[4],Z=arguments[5],G=arguments[6],H=arguments[7]):(T=arguments[1],D=arguments[2],L=arguments[3],V=arguments[4],z=arguments[5],Z=arguments[6],G=arguments[7],H=arguments[8]),hn(_=arguments[0])==="object"&&!h(_)&&"imageData"in _){var ee=_;_=ee.imageData,T=ee.format||T||e,D=ee.x||D||0,L=ee.y||L||0,V=ee.w||ee.width||V,z=ee.h||ee.height||z,Z=ee.alias||Z,G=ee.compression||G,H=ee.rotation||ee.angle||H}var Y=this.internal.getFilters();if(G===void 0&&Y.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(D)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var q=k.call(this,_,T,Z,G);return y.call(this,D,L,V,z,q,H),this};var k=function(_,T,D,L){var V,z,Z;if(typeof _=="string"&&s(_)===e){_=unescape(_);var G=I(_,!1);(G!==""||(G=t.loadFile(_,!0))!==void 0)&&(_=G)}if(h(_)&&(_=m(_,T)),T=s(_,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((Z=D)==null||Z.length===0)&&(D=(function(H){return typeof H=="string"||E(H)?v(H):E(H.data)?v(H.data):null})(_)),(V=f.call(this,D))||(C()&&(_ instanceof Uint8Array||T==="RGBA"||(z=_,_=M(_))),V=this["process"+T.toUpperCase()](_,d.call(this),D,(function(H){return H&&typeof H=="string"&&(H=H.toUpperCase()),H in t.image_compression?H:x.NONE})(L),z)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},I=t.__addimage__.convertBase64ToBinaryString=function(_,T){var D;T=typeof T!="boolean"||T;var L,V="";if(typeof _=="string"){L=(D=B(_))!==null?D.data:_;try{V=m0(L)}catch(z){if(T)throw j(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(_){var T,D,L="";if(h(_)&&(_=m(_)),typeof _=="string"&&s(_)===e&&((L=I(_,!1))===""&&(L=t.loadFile(_)||""),_=L),D=s(_),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!C()||_ instanceof Uint8Array||(_=M(_)),!(T=this["process"+D.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=D,T}})(Kt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Kt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<d.length;m++){s=d[m];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),v=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+f(x(s.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+f(x(v))+") >>",y.content=i;var j=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+j,s.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(y.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var B=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+f(b(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var C=this.annotations._nameMap[s.options.name];s.options.pageNumber=C.page,s.options.top=C.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var E=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+E+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},t.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(Kt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&a.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(y){var g=0,x=r,v="",j=0;for(g=0;g<y.length;g+=1)x[y.charCodeAt(g)]!==void 0?(j++,typeof(x=x[y.charCodeAt(g)])=="number"&&(v+=String.fromCharCode(x),x=r,j=0),g===y.length-1&&(x=r,v+=y.charAt(g-(j-1)),g-=j-1,j=0)):(x=r,v+=y.charAt(g-j),g-=j,j=0);return v};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&s[y.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(y,g,x){return o(y)?i(y)===!1?-1:!d(y)||!o(g)&&!o(x)||!o(x)&&l(g)||l(y)&&!o(g)||l(y)&&c(g)||l(y)&&l(g)?0:u(y)&&o(g)&&!l(g)&&o(x)&&d(x)?3:l(y)||!o(x)?1:2:-1},f=function(y){var g=0,x=0,v=0,j="",B="",C="",E=(y=y||"").split("\\s+"),M=[];for(g=0;g<E.length;g+=1){for(M.push(""),x=0;x<E[g].length;x+=1)j=E[g][x],B=E[g][x-1],C=E[g][x+1],o(j)?(v=m(j,B,C),M[g]+=v!==-1?String.fromCharCode(e[j.charCodeAt(0)][v]):j):M[g]+=j;M[g]=h(M[g])}return M.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var y,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(g)){var v=0;for(x=[],v=0;v<g.length;v+=1)Array.isArray(g[v])?x.push([f(g[v][0]),g[v][1],g[v][2]]):x.push([f(g[v])]);y=x}else y=f(g);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",b])})(Kt.API),Kt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Kt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),m=d.scaleFactor||this.internal.scaleFactor,f=0,b=0,y=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(j,B){return j.concat(g.splitTextToSize(B,x))}),[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)f<(y=this.getStringUnitWidth(c[v],{font:h})*u)&&(f=y);return f!==0&&(b=c.length),{w:f/=m,h:Math.max((b*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,f&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,m){if(s.call(this),!u)throw new Error("No data for PDF table.");var f,b,y,g,x=[],v=[],j=[],B={},C={},E=[],M=[],S=(m=m||{}).autoSize||!1,k=m.printHeaders!==!1,I=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,_=m.margins||Object.assign({width:this.getPageWidth()},e),T=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",L=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=L,this.setFontSize(I),h==null)v=x=Object.keys(u[0]),j=x.map((function(){return"left"}));else if(Array.isArray(h)&&hn(h[0])==="object")for(x=h.map((function(ee){return ee.name})),v=h.map((function(ee){return ee.prompt||ee.name||""})),j=h.map((function(ee){return ee.align||"left"})),f=0;f<h.length;f+=1)C[h[f].name]=h[f].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(v=x=h,j=x.map((function(){return"left"})));if(S||Array.isArray(h)&&typeof h[0]=="string")for(f=0;f<x.length;f+=1){for(B[g=x[f]]=u.map((function(ee){return ee[g]})),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=B[g],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)E.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[g]=Math.max.apply(null,E)+T+T,E=[]}if(k){var V={};for(f=0;f<x.length;f+=1)V[x[f]]={},V[x[f]].text=v[f],V[x[f]].align=j[f];var z=l.call(this,V,C);M=x.map((function(ee){return new i(c,d,C[ee],z,V[ee].text,void 0,V[ee].align)})),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var Z=h.reduce((function(ee,Y){return ee[Y.name]=Y.align,ee}),{});for(f=0;f<u.length;f+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:f,data:u[f]},this);var G=l.call(this,u[f],C);for(y=0;y<x.length;y+=1){var H=u[f][x[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:f,col:y,data:H},this),o.call(this,new i(c,d,C[x[y]],G,H,f+2,Z[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map((function(f){var b=c[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[f]-u-u)}),this).map((function(f){return this.getLineHeightFactor()*f.length*h/m+u+u}),this).reduce((function(f,b){return Math.max(f,b)}),0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(b)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}})(Kt.API);var VH={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KH=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KS=zH(KH),WH=[100,200,300,400,500,600,700,800,900],tde=zH(WH);function WS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return VH[i=i||"normal"]?i:"normal"})(t.style),s=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(t.weight),a=(function(i){return typeof KS[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:s,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,s].join(" ")}}}function tO(t,e,r,s){var a;for(a=r;a>=0&&a<e.length;a+=s)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=s)if(t[e[a]])return t[e[a]]}var rde={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},rO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function nO(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function nde(t,e,r){for(var s=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},rde,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=WS(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[s]))throw new Error("Could not find a font-family for the rule '"+nO(i)+"' and default family '"+s+"'.");if(o=(function(c,d){if(d[c])return d[c];var u=KS[c],h=u<=KS.normal?-1:1,m=tO(d,KH,u,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m})(i.stretch,o),o=(function(c,d){if(d[c])return d[c];for(var u=VH[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)})(i.style,o),!(o=(function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=tde[c],h=tO(d,WH,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+nO(i)+"'.");return o}function sO(t){return t.trimLeft()}function sde(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function ade(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ib,aO,iO,sN=["times"];(function(t){var e,r,s,a,i,o,l,c,d,u=function(q){return q=q||{},this.isStrokeTransparent=q.isStrokeTransparent||!1,this.strokeOpacity=q.strokeOpacity||1,this.strokeStyle=q.strokeStyle||"#000000",this.fillStyle=q.fillStyle||"#000000",this.isFillTransparent=q.isFillTransparent||!1,this.fillOpacity=q.fillOpacity||1,this.font=q.font||"10px sans-serif",this.textBaseline=q.textBaseline||"alphabetic",this.textAlign=q.textAlign||"left",this.lineWidth=q.lineWidth||1,this.lineJoin=q.lineJoin||"miter",this.lineCap=q.lineCap||"butt",this.path=q.path||[],this.transform=q.transform!==void 0?q.transform.clone():new c,this.globalCompositeOperation=q.globalCompositeOperation||"normal",this.globalAlpha=q.globalAlpha||1,this.clip_path=q.clip_path||[],this.currentPoint=q.currentPoint||new o,this.miterLimit=q.miterLimit||10,this.lastPoint=q.lastPoint||new o,this.lineDashOffset=q.lineDashOffset||0,this.lineDash=q.lineDash||[],this.margin=q.margin||[0,0,0,0],this.prevPageLastElemOffset=q.prevPageLastElemOffset||0,this.ignoreClearRect=typeof q.ignoreClearRect!="boolean"||q.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(q){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=q;Object.defineProperty(this,"pdf",{get:function(){return U}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(Ne){te=!!Ne}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Ne){X=!!Ne}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Ne){isNaN(Ne)||(se=Ne)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ne){isNaN(Ne)||(fe=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Ne){var J;typeof Ne=="number"?J=[Ne,Ne,Ne,Ne]:((J=new Array(4))[0]=Ne[0],J[1]=Ne.length>=2?Ne[1]:J[0],J[2]=Ne.length>=3?Ne[2]:J[0],J[3]=Ne.length>=4?Ne[3]:J[1]),d.margin=J}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Ne){me=Ne}});var pe=0;Object.defineProperty(this,"lastBreak",{get:function(){return pe},set:function(Ne){pe=Ne}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Ne){_e=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Ne){Ne instanceof u&&(d=Ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Ne){d.path=Ne}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(Ne){ge=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var J;J=m(Ne),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var J=m(Ne);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var ye=null;function Ve(Ne,J){if(ye===null){var Me=(function(Ie){var le=[];return Object.keys(Ie).forEach((function(Se){Ie[Se].forEach((function(Ze){var Oe=null;switch(Ze){case"bold":Oe={family:Se,weight:"bold"};break;case"italic":Oe={family:Se,style:"italic"};break;case"bolditalic":Oe={family:Se,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Se}}Oe!==null&&(Oe.ref={name:Se,style:Ze},le.push(Oe))}))})),le})(Ne.getFontList());ye=(function(Ie){for(var le={},Se=0;Se<Ie.length;++Se){var Ze=WS(Ie[Se]),Oe=Ze.family,dt=Ze.stretch,_t=Ze.style,Ge=Ze.weight;le[Oe]=le[Oe]||{},le[Oe][dt]=le[Oe][dt]||{},le[Oe][dt][_t]=le[Oe][dt][_t]||{},le[Oe][dt][_t][Ge]=Ze}return le})(Me.concat(J))}return ye}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Ne){ye=null,st=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var J;if(this.ctx.font=Ne,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Me=J[1],Ie=(J[2],J[3]),le=J[4],Se=(J[5],J[6]),Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(le)[2];le=Math.floor(Ze==="px"?parseFloat(le)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(le)*this.pdf.getFontSize():parseFloat(le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(le);var Oe=(function(Pt){var zt,mt,zn=[],br=Pt.trim();if(br==="")return sN;if(br in rO)return[rO[br]];for(;br!=="";){switch(mt=null,zt=(br=sO(br)).charAt(0)){case'"':case"'":mt=sde(br.substring(1),zt);break;default:mt=ade(br)}if(mt===null||(zn.push(mt[0]),(br=sO(mt[1]))!==""&&br.charAt(0)!==","))return sN;br=br.replace(/^,/,"")}return zn})(Se);if(this.fontFaces){var dt=nde(Ve(this.pdf,this.fontFaces),Oe.map((function(Pt){return{family:Pt,stretch:"normal",weight:Ie,style:Me}})));this.pdf.setFont(dt.ref.name,dt.ref.style)}else{var _t="";(Ie==="bold"||parseInt(Ie,10)>=700||Me==="bold")&&(_t="bold"),Me==="italic"&&(_t+="italic"),_t.length===0&&(_t="normal");for(var Ge="",Ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},lt=0;lt<Oe.length;lt++){if(this.pdf.internal.getFont(Oe[lt],_t,{noFallback:!0,disableWarning:!0})!==void 0){Ge=Oe[lt];break}if(_t==="bolditalic"&&this.pdf.internal.getFont(Oe[lt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=Oe[lt],_t="bold";else if(this.pdf.internal.getFont(Oe[lt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=Oe[lt],_t="normal";break}}if(Ge===""){for(var ot=0;ot<Oe.length;ot++)if(Ce[Oe[ot]]){Ge=Ce[Oe[ot]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,_t)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,Y.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,Y.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};h.prototype.setLineDash=function(q){this.lineDash=q},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){B.call(this,"fill",!1)},h.prototype.stroke=function(){B.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(q,U){if(isNaN(q)||isNaN(U))throw xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(q,U)},h.prototype.closePath=function(){var q=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&hn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){q=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(q.x,q.y)},h.prototype.lineTo=function(q,U){if(isNaN(q)||isNaN(U))throw xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},h.prototype.quadraticCurveTo=function(q,U,te,X){if(isNaN(te)||isNaN(X)||isNaN(q)||isNaN(U))throw xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(te,X)),fe=this.ctx.transform.applyToPoint(new o(q,U));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},h.prototype.bezierCurveTo=function(q,U,te,X,se,fe){if(isNaN(se)||isNaN(fe)||isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X))throw xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(se,fe)),pe=this.ctx.transform.applyToPoint(new o(q,U)),_e=this.ctx.transform.applyToPoint(new o(te,X));this.path.push({type:"bct",x1:pe.x,y1:pe.y,x2:_e.x,y2:_e.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},h.prototype.arc=function(q,U,te,X,se,fe){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X)||isNaN(se))throw xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(q,U));q=me.x,U=me.y;var pe=this.ctx.transform.applyToPoint(new o(0,te)),_e=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(pe.x-_e.x,2)+Math.pow(pe.y-_e.y,2))}Math.abs(se-X)>=2*Math.PI&&(X=0,se=2*Math.PI),this.path.push({type:"arc",x:q,y:U,radius:te,startAngle:X,endAngle:se,counterclockwise:fe})},h.prototype.arcTo=function(q,U,te,X,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(q,U,te,X){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X))throw xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(q,U),this.lineTo(q+te,U),this.lineTo(q+te,U+X),this.lineTo(q,U+X),this.lineTo(q,U),this.lineTo(q+te,U),this.lineTo(q,U)},h.prototype.fillRect=function(q,U,te,X){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X))throw xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(q,U,te,X),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(q,U,te,X){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X))throw xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(q,U,te,X),this.stroke())},h.prototype.clearRect=function(q,U,te,X){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X))throw xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(q,U,te,X))},h.prototype.save=function(q){q=typeof q!="boolean"||q;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),q){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},h.prototype.restore=function(q){q=typeof q!="boolean"||q;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(U),q&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(q){var U,te,X,se;if(q.isCanvasGradient===!0&&(q=q.getColor()),!q)return{r:0,g:0,b:0,a:0,style:q};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(q))U=0,te=0,X=0,se=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(q);if(fe!==null)U=parseInt(fe[1]),te=parseInt(fe[2]),X=parseInt(fe[3]),se=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(q))!==null)U=parseInt(fe[1]),te=parseInt(fe[2]),X=parseInt(fe[3]),se=parseFloat(fe[4]);else{if(se=1,typeof q=="string"&&q.charAt(0)!=="#"){var me=new RH(q);q=me.ok?me.toHex():"#000000"}q.length===4?(U=q.substring(1,2),U+=U,te=q.substring(2,3),te+=te,X=q.substring(3,4),X+=X):(U=q.substring(1,3),te=q.substring(3,5),X=q.substring(5,7)),U=parseInt(U,16),te=parseInt(te,16),X=parseInt(X,16)}}return{r:U,g:te,b:X,a:se,style:q}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(q,U,te,X){if(isNaN(U)||isNaN(te)||typeof q!="string")throw xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var se=G(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:q,x:U,y:te,scale:fe,angle:se,align:this.textAlign,maxWidth:X})}},h.prototype.strokeText=function(q,U,te,X){if(isNaN(U)||isNaN(te)||typeof q!="string")throw xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){X=isNaN(X)?void 0:X;var se=G(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:q,x:U,y:te,scale:fe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:X})}},h.prototype.measureText=function(q){if(typeof q!="string")throw xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,te=this.pdf.internal.scaleFactor,X=U.internal.getFontSize(),se=U.getStringUnitWidth(q)*X/U.internal.scaleFactor,fe=function(me){var pe=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this};return new fe({width:se*=Math.round(96*te/72*1e4)/1e4})},h.prototype.scale=function(q,U){if(isNaN(q)||isNaN(U))throw xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new c(q,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.rotate=function(q){if(isNaN(q))throw xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(q),Math.sin(q),-Math.sin(q),Math.cos(q),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},h.prototype.translate=function(q,U){if(isNaN(q)||isNaN(U))throw xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new c(1,0,0,1,q,U);this.ctx.transform=this.ctx.transform.multiply(te)},h.prototype.transform=function(q,U,te,X,se,fe){if(isNaN(q)||isNaN(U)||isNaN(te)||isNaN(X)||isNaN(se)||isNaN(fe))throw xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new c(q,U,te,X,se,fe);this.ctx.transform=this.ctx.transform.multiply(me)},h.prototype.setTransform=function(q,U,te,X,se,fe){q=isNaN(q)?1:q,U=isNaN(U)?0:U,te=isNaN(te)?0:te,X=isNaN(X)?1:X,se=isNaN(se)?0:se,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(q,U,te,X,se,fe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(q,U,te,X,se,fe,me,pe,_e){var ge=this.pdf.getImageProperties(q),ye=1,Ve=1,st=1,Ne=1;X!==void 0&&pe!==void 0&&(st=pe/X,Ne=_e/se,ye=ge.width/X*pe/X,Ve=ge.height/se*_e/se),fe===void 0&&(fe=U,me=te,U=0,te=0),X!==void 0&&pe===void 0&&(pe=X,_e=se),X===void 0&&pe===void 0&&(pe=ge.width,_e=ge.height);for(var J,Me=this.ctx.transform.decompose(),Ie=G(Me.rotate.shx),le=new c,Se=(le=(le=(le=le.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale)).applyToRectangle(new l(fe-U*st,me-te*Ne,X*ye,se*Ve)),Ze=g.call(this,Se),Oe=[],dt=0;dt<Ze.length;dt+=1)Oe.indexOf(Ze[dt])===-1&&Oe.push(Ze[dt]);if(j(Oe),this.autoPaging)for(var _t=Oe[0],Ge=Oe[Oe.length-1],Ce=_t;Ce<Ge+1;Ce++){this.pdf.setPage(Ce);var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ot=Ce===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],mt=Ce===1?0:Pt+(Ce-2)*zt;if(this.ctx.clip_path.length!==0){var zn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(J,this.posX+this.margin[3],-mt+ot+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=zn}var br=JSON.parse(JSON.stringify(Se));br=v([br],this.posX+this.margin[3],-mt+ot+this.ctx.prevPageLastElemOffset)[0];var Xn=(Ce>_t||Ce<Ge)&&y.call(this);Xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,zt,null).clip().discardPath()),this.pdf.addImage(q,"JPEG",br.x,br.y,br.w,br.h,null,null,Ie),Xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(q,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,Ie)};var g=function(q,U,te){var X=[];U=U||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(q.type){default:case"mt":case"lt":X.push(Math.floor((q.y+se)/te)+1);break;case"arc":X.push(Math.floor((q.y+se-q.radius)/te)+1),X.push(Math.floor((q.y+se+q.radius)/te)+1);break;case"qct":var fe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x,q.y);X.push(Math.floor((fe.y+se)/te)+1),X.push(Math.floor((fe.y+fe.h+se)/te)+1);break;case"bct":var me=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,q.x1,q.y1,q.x2,q.y2,q.x,q.y);X.push(Math.floor((me.y+se)/te)+1),X.push(Math.floor((me.y+me.h+se)/te)+1);break;case"rect":X.push(Math.floor((q.y+se)/te)+1),X.push(Math.floor((q.y+q.h+se)/te)+1)}for(var pe=0;pe<X.length;pe+=1)for(;this.pdf.internal.getNumberOfPages()<X[pe];)x.call(this);return X},x=function(){var q=this.fillStyle,U=this.strokeStyle,te=this.font,X=this.lineCap,se=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=q,this.strokeStyle=U,this.font=te,this.lineCap=X,this.lineWidth=se,this.lineJoin=fe},v=function(q,U,te){for(var X=0;X<q.length;X++)switch(q[X].type){case"bct":q[X].x2+=U,q[X].y2+=te;case"qct":q[X].x1+=U,q[X].y1+=te;case"mt":case"lt":case"arc":default:q[X].x+=U,q[X].y+=te}return q},j=function(q){return q.sort((function(U,te){return U-te}))},B=function(q,U){for(var te,X,se=this.fillStyle,fe=this.strokeStyle,me=this.lineCap,pe=this.lineWidth,_e=Math.abs(pe*this.ctx.transform.scaleX),ge=this.lineJoin,ye=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),st=[],Ne=0;Ne<Ve.length;Ne++)if(Ve[Ne].x!==void 0)for(var J=g.call(this,Ve[Ne]),Me=0;Me<J.length;Me+=1)st.indexOf(J[Me])===-1&&st.push(J[Me]);for(var Ie=0;Ie<st.length;Ie++)for(;this.pdf.internal.getNumberOfPages()<st[Ie];)x.call(this);if(j(st),this.autoPaging)for(var le=st[0],Se=st[st.length-1],Ze=le;Ze<Se+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=se,this.strokeStyle=fe,this.lineCap=me,this.lineWidth=_e,this.lineJoin=ge;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dt=Ze===1?this.posY+this.margin[0]:this.margin[0],_t=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ce=Ze===1?0:_t+(Ze-2)*Ge;if(this.ctx.clip_path.length!==0){var lt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(te,this.posX+this.margin[3],-Ce+dt+this.ctx.prevPageLastElemOffset),C.call(this,q,!0),this.path=lt}if(X=JSON.parse(JSON.stringify(ye)),this.path=v(X,this.posX+this.margin[3],-Ce+dt+this.ctx.prevPageLastElemOffset),U===!1||Ze===0){var ot=(Ze>le||Ze<Se)&&y.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ge,null).clip().discardPath()),C.call(this,q,U),ot&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}else this.lineWidth=_e,C.call(this,q,U),this.lineWidth=pe;this.path=ye},C=function(q,U){if((q!=="stroke"||U||!b.call(this))&&(q==="stroke"||U||!f.call(this))){for(var te,X,se=[],fe=this.path,me=0;me<fe.length;me++){var pe=fe[me];switch(pe.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:pe,deltas:[],abs:[]});break;case"lt":var _e=se.length;if(fe[me-1]&&!isNaN(fe[me-1].x)&&(te=[pe.x-fe[me-1].x,pe.y-fe[me-1].y],_e>0)){for(;_e>=0;_e--)if(se[_e-1].close!==!0&&se[_e-1].begin!==!0){se[_e-1].deltas.push(te),se[_e-1].abs.push(pe);break}}break;case"bct":te=[pe.x1-fe[me-1].x,pe.y1-fe[me-1].y,pe.x2-fe[me-1].x,pe.y2-fe[me-1].y,pe.x-fe[me-1].x,pe.y-fe[me-1].y],se[se.length-1].deltas.push(te);break;case"qct":var ge=fe[me-1].x+2/3*(pe.x1-fe[me-1].x),ye=fe[me-1].y+2/3*(pe.y1-fe[me-1].y),Ve=pe.x+2/3*(pe.x1-pe.x),st=pe.y+2/3*(pe.y1-pe.y),Ne=pe.x,J=pe.y;te=[ge-fe[me-1].x,ye-fe[me-1].y,Ve-fe[me-1].x,st-fe[me-1].y,Ne-fe[me-1].x,J-fe[me-1].y],se[se.length-1].deltas.push(te);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(pe)}}X=U?null:q==="stroke"?"stroke":"fill";for(var Me=!1,Ie=0;Ie<se.length;Ie++)if(se[Ie].arc)for(var le=se[Ie].abs,Se=0;Se<le.length;Se++){var Ze=le[Se];Ze.type==="arc"?S.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,U,!Me):D.call(this,Ze.x,Ze.y),Me=!0}else if(se[Ie].close===!0)this.pdf.internal.out("h"),Me=!1;else if(se[Ie].begin!==!0){var Oe=se[Ie].start.x,dt=se[Ie].start.y;L.call(this,se[Ie].deltas,Oe,dt),Me=!0}X&&k.call(this,X),U&&I.call(this)}},E=function(q){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return q-te;case"top":return q+U-te;case"hanging":return q+U-2*te;case"middle":return q+U/2-te;case"ideographic":return q;case"alphabetic":default:return q}},M=function(q){return q+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var q=function(){};return q.colorStops=[],q.addColorStop=function(U,te){this.colorStops.push([U,te])},q.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},q.isCanvasGradient=!0,q},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(q,U,te,X,se,fe,me,pe,_e){for(var ge=z.call(this,te,X,se,fe),ye=0;ye<ge.length;ye++){var Ve=ge[ye];ye===0&&(_e?_.call(this,Ve.x1+q,Ve.y1+U):D.call(this,Ve.x1+q,Ve.y1+U)),V.call(this,q,U,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}pe?I.call(this):k.call(this,me)},k=function(q){switch(q){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(q,U){this.pdf.internal.out(r(q)+" "+s(U)+" m")},T=function(q){var U;switch(q.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var te=this.pdf.getTextDimensions(q.text),X=E.call(this,q.y),se=M.call(this,X)-te.h,fe=this.ctx.transform.applyToPoint(new o(q.x,X)),me=this.ctx.transform.decompose(),pe=new c;pe=(pe=(pe=pe.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var _e,ge,ye,Ve=this.ctx.transform.applyToRectangle(new l(q.x,X,te.w,te.h)),st=pe.applyToRectangle(new l(q.x,se,te.w,te.h)),Ne=g.call(this,st),J=[],Me=0;Me<Ne.length;Me+=1)J.indexOf(Ne[Me])===-1&&J.push(Ne[Me]);if(j(J),this.autoPaging)for(var Ie=J[0],le=J[J.length-1],Se=Ie;Se<le+1;Se++){this.pdf.setPage(Se);var Ze=Se===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[2],_t=dt-this.margin[0],Ge=this.pdf.internal.pageSize.width-this.margin[1],Ce=Ge-this.margin[3],lt=Se===1?0:Oe+(Se-2)*_t;if(this.ctx.clip_path.length!==0){var ot=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(_e,this.posX+this.margin[3],-1*lt+Ze),C.call(this,"fill",!0),this.path=ot}var Pt=v([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-lt+Ze+this.ctx.prevPageLastElemOffset)[0];q.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*q.scale),ye=this.lineWidth,this.lineWidth=ye*q.scale);var zt=this.autoPaging!=="text";if(zt||Pt.y+Pt.h<=dt){if(zt||Pt.y>=Ze&&Pt.x<=Ge){var mt=zt?q.text:this.pdf.splitTextToSize(q.text,q.maxWidth||Ge-Pt.x)[0],zn=v([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-lt+Ze+this.ctx.prevPageLastElemOffset)[0],br=zt&&(Se>Ie||Se<le)&&y.call(this);br&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,_t,null).clip().discardPath()),this.pdf.text(mt,zn.x,zn.y,{angle:q.angle,align:U,renderingMode:q.renderingMode}),br&&this.pdf.restoreGraphicsState()}}else Pt.y<dt&&(this.ctx.prevPageLastElemOffset+=dt-Pt.y);q.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ye)}else q.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*q.scale),ye=this.lineWidth,this.lineWidth=ye*q.scale),this.pdf.text(q.text,fe.x+this.posX,fe.y+this.posY,{angle:q.angle,align:U,renderingMode:q.renderingMode,maxWidth:q.maxWidth}),q.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=ye)},D=function(q,U,te,X){te=te||0,X=X||0,this.pdf.internal.out(r(q+te)+" "+s(U+X)+" l")},L=function(q,U,te){return this.pdf.lines(q,U,te,null,null)},V=function(q,U,te,X,se,fe,me,pe){this.pdf.internal.out([e(a(te+q)),e(i(X+U)),e(a(se+q)),e(i(fe+U)),e(a(me+q)),e(i(pe+U)),"c"].join(" "))},z=function(q,U,te,X){for(var se=2*Math.PI,fe=Math.PI/2;U>te;)U-=se;var me=Math.abs(te-U);me<se&&X&&(me=se-me);for(var pe=[],_e=X?-1:1,ge=U;me>1e-5;){var ye=ge+_e*Math.min(me,fe);pe.push(Z.call(this,q,ge,ye)),me-=Math.abs(ye-ge),ge=ye}return pe},Z=function(q,U,te){var X=(te-U)/2,se=q*Math.cos(X),fe=q*Math.sin(X),me=se,pe=-fe,_e=me*me+pe*pe,ge=_e+me*se+pe*fe,ye=4/3*(Math.sqrt(2*_e*ge)-ge)/(me*fe-pe*se),Ve=me-ye*pe,st=pe+ye*me,Ne=Ve,J=-st,Me=X+U,Ie=Math.cos(Me),le=Math.sin(Me);return{x1:q*Math.cos(U),y1:q*Math.sin(U),x2:Ve*Ie-st*le,y2:Ve*le+st*Ie,x3:Ne*Ie-J*le,y3:Ne*le+J*Ie,x4:q*Math.cos(te),y4:q*Math.sin(te)}},G=function(q){return 180*q/Math.PI},H=function(q,U,te,X,se,fe){var me=q+.5*(te-q),pe=U+.5*(X-U),_e=se+.5*(te-se),ge=fe+.5*(X-fe),ye=Math.min(q,se,me,_e),Ve=Math.max(q,se,me,_e),st=Math.min(U,fe,pe,ge),Ne=Math.max(U,fe,pe,ge);return new l(ye,st,Ve-ye,Ne-st)},ee=function(q,U,te,X,se,fe,me,pe){var _e,ge,ye,Ve,st,Ne,J,Me,Ie,le,Se,Ze,Oe,dt,_t=te-q,Ge=X-U,Ce=se-te,lt=fe-X,ot=me-se,Pt=pe-fe;for(ge=0;ge<41;ge++)Ie=(J=(ye=q+(_e=ge/40)*_t)+_e*((st=te+_e*Ce)-ye))+_e*(st+_e*(se+_e*ot-st)-J),le=(Me=(Ve=U+_e*Ge)+_e*((Ne=X+_e*lt)-Ve))+_e*(Ne+_e*(fe+_e*Pt-Ne)-Me),ge==0?(Se=Ie,Ze=le,Oe=Ie,dt=le):(Se=Math.min(Se,Ie),Ze=Math.min(Ze,le),Oe=Math.max(Oe,Ie),dt=Math.max(dt,le));return new l(Math.round(Se),Math.round(Ze),Math.round(Oe-Se),Math.round(dt-Ze))},Y=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var q,U,te=(q=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:q,lineDashOffset:U}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Kt.API),(function(t){var e=function(i){var o,l,c,d,u,h,m,f,b,y;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(y=u%85))/85)-(b=u%85))/85)-(f=u%85))/85)-(m=u%85))/85)%85,l.push(h+33,m+33,f+33,b+33,y+33)):l.push(122);return(function(g,x){for(var v=x;v>0;v--)g.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,h=String,m="length",f=255,b="charCodeAt",y="slice",g="replace";for(i[y](-2),i=i[y](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[y](i[m]%5||5))[m];u>d;d+=5)l=52200625*(i[b](d)-33)+614125*(i[b](d+1)-33)+7225*(i[b](d+2)-33)+85*(i[b](d+3)-33)+(i[b](d+4)-33),c.push(f&l>>24,f&l>>16,f&l>>8,f&l);return(function(x,v){for(var j=v;j>0;j--)x.pop()})(c,o[m]),h.fromCharCode.apply(h,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=$S(o)).reduce((function(c,d){return c+String.fromCharCode(d)}),"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(Kt.API),(function(t){t.loadFile=function(e,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,m=0,f=function(b){var y=b.length,g=[],x=String.fromCharCode;for(m=0;m<y;m+=1)g.push(x(255&b.charCodeAt(m)));return g.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(f(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return f(h.responseText)})(a,i,o)}catch{}return l})(e,r,s)},t.loadImageFile=t.loadFile})(Kt.API),(function(t){function e(){return(ar.html2canvas?Promise.resolve(ar.html2canvas):yh(()=>Promise.resolve().then(()=>q0e),void 0)).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(ar.DOMPurify?Promise.resolve(ar.DOMPurify):yh(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var s=function(o){var l=hn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),m=d.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(c(m,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",(function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var m=0;m<d.length;++m){var f=d[m],b=f.src.find((function(y){return y.format==="truetype"}));b&&c.addFont(b.url,f.ref.name,f.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},i.prototype.get=function(o,l){return this.then((function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},i.prototype.setMargin=function(o){return this.then((function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then((function(){(o=o||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,d),h})).then(d,u).then((function(h){return c.updateProgress(1),h}))}))},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Kt.getPageSize=function(o,l,c){if(hn(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var f,b=0,y=0;if(m.hasOwnProperty(h))b=m[h][1]/u,y=m[h][0]/u;else try{b=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>b&&(f=y,y=b,b=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>y&&(f=y,y=b,b=f)}return{width:y,height:b,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(WS):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}})(Kt.API),Kt.API.addJS=function(t){return iO=t,this.internal.events.subscribe("postPutResources",(function(){ib=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ib+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),aO=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+iO+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){ib!==void 0&&aO!==void 0&&this.internal.out("/Names <</JavaScript "+ib+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(Kt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var m,f=256*h.charCodeAt(4)+h.charCodeAt(5),b=h.length,y={width:0,height:0,numcomponents:1},g=4;g<b;g+=2){if(g+=f,e.indexOf(h.charCodeAt(g+1))!==-1){m=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),y={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:m,numcomponents:h.charCodeAt(g+9)};break}f=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}})(Kt.API);var cf,ob,oO,lO,cO,ide=(function(){var t,e,r;function s(i){var o,l,c,d,u,h,m,f,b,y,g,x,v,j;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),b=(function(){var B,C;for(C=[],B=0;B<4;++B)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),i=h?.data||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(v=0;0<=y?v<y:v>y;0<=y?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(g=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,g.slice(0,m)),this.text[f]=String.fromCharCode.apply(String,g.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,m,f,b){var y,g,x,v,j,B,C,E,M,S,k,I,_,T,D,L,V,z,Z,G,H,ee=Math.ceil((d.width-h)/f),Y=Math.ceil((d.height-m)/b),q=d.width==ee&&d.height==Y;for(T=o*ee,I=q?l:new Uint8Array(T*Y),B=i.length,_=0,g=0;_<Y&&c<B;){switch(i[c++]){case 0:for(v=V=0;V<T;v=V+=1)I[g++]=i[c++];break;case 1:for(v=z=0;z<T;v=z+=1)y=i[c++],j=v<o?0:I[g-o],I[g++]=(y+j)%256;break;case 2:for(v=Z=0;Z<T;v=Z+=1)y=i[c++],x=(v-v%o)/o,D=_&&I[(_-1)*T+x*o+v%o],I[g++]=(D+y)%256;break;case 3:for(v=G=0;G<T;v=G+=1)y=i[c++],x=(v-v%o)/o,j=v<o?0:I[g-o],D=_&&I[(_-1)*T+x*o+v%o],I[g++]=(y+Math.floor((j+D)/2))%256;break;case 4:for(v=H=0;H<T;v=H+=1)y=i[c++],x=(v-v%o)/o,j=v<o?0:I[g-o],_===0?D=L=0:(D=I[(_-1)*T+x*o+v%o],L=x&&I[(_-1)*T+(x-1)*o+v%o]),C=j+D-L,E=Math.abs(C-j),S=Math.abs(C-D),k=Math.abs(C-L),M=E<=S&&E<=k?j:S<=k?D:L,I[g++]=(y+M)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!q){var U=((m+_*b)*d.width+h)*o,te=_*T;for(v=0;v<ee;v+=1){for(var X=0;X<o;X+=1)l[U++]=I[te++];U+=(f-1)*o}}_++}}return i=Lce(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,u,h,m,f;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=h=0,m=l.length;h<m;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(f=u[i++])!=null?f:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,u,h,m,f,b,y,g,x;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),b=(d=i.data||i).length,h=y||o,u=m=0,c===1)for(;u<b;)f=y?4*o[u/4]:m,g=h[f++],d[u++]=g,d[u++]=g,d[u++]=g,d[u++]=l?h[f++]:255,m=f;else for(;u<b;)f=y?4*o[u/4]:m,d[u++]=h[f++],d[u++]=h[f++],d[u++]=h[f++],d[u++]=l?h[f++]:255,m=f},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(ar)==="[object Window]"){try{e=ar.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,u,h,m,f;if(this.animation){for(f=[],l=u=0,h=(m=this.animation.frames).length;u<h;l=++u)o=m[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,f.push(o.image=t(c));return f}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),d?.disposeOp===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,u,h,m=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var f,b;if(f=l++%d,b=c[f],m.renderFrame(i,f),d>1&&l/d<u)return m.animation._timeout=setTimeout(o,b.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ode(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,m=null,f=0,b=null;for(this.width=r,this.height=s;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],(1&y)==0&&(m=null),f=y>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,B=t[e++],C=B>>6&1,E=1<<(7&B)+1,M=l,S=c,k=!1;B>>7&&(k=!0,M=e,S=E,e+=3*E);var I=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}u.push({x:g,y:x,width:v,height:j,has_local_palette:k,palette_offset:M,palette_size:S,data_offset:I,data_length:e-I,transparent_index:m,interlaced:!!C,delay:h,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,D){var L=this.frameInfo(T),V=L.width*L.height,z=new Uint8Array(V);dO(t,L.data_offset,z,V);var Z=L.palette_offset,G=L.transparent_index;G===null&&(G=256);var H=L.width,ee=r-H,Y=H,q=4*(L.y*r+L.x),U=4*((L.y+L.height)*r+L.x),te=q,X=4*ee;L.interlaced===!0&&(X+=4*r*7);for(var se=8,fe=0,me=z.length;fe<me;++fe){var pe=z[fe];if(Y===0&&(Y=H,(te+=X)>=U&&(X=4*ee+4*r*(se-1),te=q+(H+ee)*(se<<1),se>>=1)),pe===G)te+=4;else{var _e=t[Z+3*pe],ge=t[Z+3*pe+1],ye=t[Z+3*pe+2];D[te++]=ye,D[te++]=ge,D[te++]=_e,D[te++]=255}--Y}},this.decodeAndBlitFrameRGBA=function(T,D){var L=this.frameInfo(T),V=L.width*L.height,z=new Uint8Array(V);dO(t,L.data_offset,z,V);var Z=L.palette_offset,G=L.transparent_index;G===null&&(G=256);var H=L.width,ee=r-H,Y=H,q=4*(L.y*r+L.x),U=4*((L.y+L.height)*r+L.x),te=q,X=4*ee;L.interlaced===!0&&(X+=4*r*7);for(var se=8,fe=0,me=z.length;fe<me;++fe){var pe=z[fe];if(Y===0&&(Y=H,(te+=X)>=U&&(X=4*ee+4*r*(se-1),te=q+(H+ee)*(se<<1),se>>=1)),pe===G)te+=4;else{var _e=t[Z+3*pe],ge=t[Z+3*pe+1],ye=t[Z+3*pe+2];D[te++]=_e,D[te++]=ge,D[te++]=ye,D[te++]=255}--Y}}}function dO(t,e,r,s){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,m=0,f=t[e++],b=new Int32Array(4096),y=null;;){for(;u<16&&f!==0;)h|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var g=h&d;if(h>>=c,u-=c,g!==i){if(g===o)break;for(var x=g<l?g:y,v=0,j=x;j>i;)j=b[j]>>8,++v;var B=j;if(m+v+(x!==g?1:0)>s)return void xn.log("Warning, gif stream longer than expected.");r[m++]=B;var C=m+=v;for(x!==g&&(r[m++]=B),j=x;v--;)j=b[j],r[--C]=255&j,j>>=8;y!==null&&l<4096&&(b[l++]=y<<8|B,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=g}else l=o+1,d=(1<<(c=a+1))-1,y=null}return m!==s&&xn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function aN(t){var e,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),m=new Array(65535),f=new Array(64),b=new Array(64),y=[],g=0,x=7,v=new Array(64),j=new Array(64),B=new Array(64),C=new Array(256),E=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(q,U){for(var te=0,X=0,se=new Array,fe=1;fe<=16;fe++){for(var me=1;me<=q[fe];me++)se[U[X]]=[],se[U[X]][0]=te,se[U[X]][1]=fe,X++,te++;te*=2}return se}function Z(q){for(var U=q[0],te=q[1]-1;te>=0;)U&1<<te&&(g|=1<<x),te--,--x<0&&(g==255?(G(255),G(0)):G(g),x=7,g=0)}function G(q){y.push(q)}function H(q){G(q>>8&255),G(255&q)}function ee(q,U,te,X,se){for(var fe,me=se[0],pe=se[240],_e=(function(le,Se){var Ze,Oe,dt,_t,Ge,Ce,lt,ot,Pt,zt,mt=0;for(Pt=0;Pt<8;++Pt){Ze=le[mt],Oe=le[mt+1],dt=le[mt+2],_t=le[mt+3],Ge=le[mt+4],Ce=le[mt+5],lt=le[mt+6];var zn=Ze+(ot=le[mt+7]),br=Ze-ot,Xn=Oe+lt,Pr=Oe-lt,Ur=dt+Ce,Ts=dt-Ce,wr=_t+Ge,ei=_t-Ge,yr=zn+wr,sr=zn-wr,ve=Xn+Ur,xt=Xn-Ur;le[mt]=yr+ve,le[mt+4]=yr-ve;var Xe=.707106781*(xt+sr);le[mt+2]=sr+Xe,le[mt+6]=sr-Xe;var ft=.382683433*((yr=ei+Ts)-(xt=Pr+br)),Qr=.5411961*yr+ft,Gt=1.306562965*xt+ft,pt=.707106781*(ve=Ts+Pr),de=br+pt,je=br-pt;le[mt+5]=je+Qr,le[mt+3]=je-Qr,le[mt+1]=de+Gt,le[mt+7]=de-Gt,mt+=8}for(mt=0,Pt=0;Pt<8;++Pt){Ze=le[mt],Oe=le[mt+8],dt=le[mt+16],_t=le[mt+24],Ge=le[mt+32],Ce=le[mt+40],lt=le[mt+48];var Qe=Ze+(ot=le[mt+56]),Le=Ze-ot,et=Oe+lt,St=Oe-lt,Ue=dt+Ce,hr=dt-Ce,sn=_t+Ge,ha=_t-Ge,Fs=Qe+sn,Hi=Qe-sn,Os=et+Ue,qi=et-Ue;le[mt]=Fs+Os,le[mt+32]=Fs-Os;var ti=.707106781*(qi+Hi);le[mt+16]=Hi+ti,le[mt+48]=Hi-ti;var Ao=.382683433*((Fs=ha+hr)-(qi=St+Le)),Dl=.5411961*Fs+Ao,kc=1.306562965*qi+Ao,Pc=.707106781*(Os=hr+St),Tc=Le+Pc,Kd=Le-Pc;le[mt+40]=Kd+Dl,le[mt+24]=Kd-Dl,le[mt+8]=Tc+kc,le[mt+56]=Tc-kc,mt++}for(Pt=0;Pt<64;++Pt)zt=le[Pt]*Se[Pt],f[Pt]=zt>0?zt+.5|0:zt-.5|0;return f})(q,U),ge=0;ge<64;++ge)b[M[ge]]=_e[ge];var ye=b[0]-te;te=b[0],ye==0?Z(X[0]):(Z(X[m[fe=32767+ye]]),Z(h[fe]));for(var Ve=63;Ve>0&&b[Ve]==0;)Ve--;if(Ve==0)return Z(me),te;for(var st,Ne=1;Ne<=Ve;){for(var J=Ne;b[Ne]==0&&Ne<=Ve;)++Ne;var Me=Ne-J;if(Me>=16){st=Me>>4;for(var Ie=1;Ie<=st;++Ie)Z(pe);Me&=15}fe=32767+b[Ne],Z(se[(Me<<4)+m[fe]]),Z(h[fe]),Ne++}return Ve!=63&&Z(me),te}function Y(q){q=Math.min(Math.max(q,1),100),i!=q&&((function(U){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var se=o((te[X]*U+50)/100);se=Math.min(Math.max(se,1),255),l[M[X]]=se}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var pe=o((fe[me]*U+50)/100);pe=Math.min(Math.max(pe,1),255),c[M[me]]=pe}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,ye=0;ye<8;ye++)for(var Ve=0;Ve<8;Ve++)d[ge]=1/(l[M[ge]]*_e[ye]*_e[Ve]*8),u[ge]=1/(c[M[ge]]*_e[ye]*_e[Ve]*8),ge++})(q<50?Math.floor(5e3/q):Math.floor(200-2*q)),i=q)}this.encode=function(q,U){U&&Y(U),y=new Array,g=0,x=7,H(65496),H(65504),H(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),H(1),H(1),G(0),G(0),(function(){H(65499),H(132),G(0);for(var Oe=0;Oe<64;Oe++)G(l[Oe]);G(1);for(var dt=0;dt<64;dt++)G(c[dt])})(),(function(Oe,dt){H(65472),H(17),G(8),H(dt),H(Oe),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})(q.width,q.height),(function(){H(65476),H(418),G(0);for(var Oe=0;Oe<16;Oe++)G(S[Oe+1]);for(var dt=0;dt<=11;dt++)G(k[dt]);G(16);for(var _t=0;_t<16;_t++)G(I[_t+1]);for(var Ge=0;Ge<=161;Ge++)G(_[Ge]);G(1);for(var Ce=0;Ce<16;Ce++)G(T[Ce+1]);for(var lt=0;lt<=11;lt++)G(D[lt]);G(17);for(var ot=0;ot<16;ot++)G(L[ot+1]);for(var Pt=0;Pt<=161;Pt++)G(V[Pt])})(),H(65498),H(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var te=0,X=0,se=0;g=0,x=7,this.encode.displayName="_encode_";for(var fe,me,pe,_e,ge,ye,Ve,st,Ne,J=q.data,Me=q.width,Ie=q.height,le=4*Me,Se=0;Se<Ie;){for(fe=0;fe<le;){for(ge=le*Se+fe,Ve=-1,st=0,Ne=0;Ne<64;Ne++)ye=ge+(st=Ne>>3)*le+(Ve=4*(7&Ne)),Se+st>=Ie&&(ye-=le*(Se+1+st-Ie)),fe+Ve>=le&&(ye-=fe+Ve-le+4),me=J[ye++],pe=J[ye++],_e=J[ye++],v[Ne]=(E[me]+E[pe+256>>0]+E[_e+512>>0]>>16)-128,j[Ne]=(E[me+768>>0]+E[pe+1024>>0]+E[_e+1280>>0]>>16)-128,B[Ne]=(E[me+1280>>0]+E[pe+1536>>0]+E[_e+1792>>0]>>16)-128;te=ee(v,d,te,e,s),X=ee(j,u,X,r,a),se=ee(B,u,se,r,a),fe+=32}Se+=8}if(x>=0){var Ze=[];Ze[1]=x+1,Ze[0]=(1<<x+1)-1,Z(Ze)}return H(65497),new Uint8Array(y)},t=t||50,(function(){for(var q=String.fromCharCode,U=0;U<256;U++)C[U]=q(U)})(),e=z(S,k),r=z(T,D),s=z(I,_),a=z(L,V),(function(){for(var q=1,U=2,te=1;te<=15;te++){for(var X=q;X<U;X++)m[32767+X]=te,h[32767+X]=[],h[32767+X][1]=te,h[32767+X][0]=X;for(var se=-(U-1);se<=-q;se++)m[32767+se]=te,h[32767+se]=[],h[32767+se][1]=te,h[32767+se][0]=U-1+se;q<<=1,U<<=1}})(),(function(){for(var q=0;q<256;q++)E[q]=19595*q,E[q+256>>0]=38470*q,E[q+512>>0]=7471*q+32768,E[q+768>>0]=-11059*q,E[q+1024>>0]=-21709*q,E[q+1280>>0]=32768*q+8421375,E[q+1536>>0]=-27439*q,E[q+1792>>0]=-5329*q})(),Y(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function bl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uO(t){function e(S){if(!S)throw Error("assert :P")}function r(S,k,I){for(var _=0;4>_;_++)if(S[k+_]!=I.charCodeAt(_))return!0;return!1}function s(S,k,I,_,T){for(var D=0;D<T;D++)S[k+D]=I[_+D]}function a(S,k,I,_){for(var T=0;T<_;T++)S[k+T]=I}function i(S){return new Int32Array(S)}function o(S,k){for(var I=[],_=0;_<S;_++)I.push(new k);return I}function l(S,k){var I=[];return(function _(T,D,L){for(var V=L[D],z=0;z<V&&(T.push(L.length>D+1?[]:new k),!(L.length<D+1));z++)_(T[z],D+1,L)})(I,0,S),I}var c=function(){var S=this;function k(N,O){for(var $=1<<O-1>>>0;N&$;)$>>>=1;return $?(N&$-1)+$:N}function I(N,O,$,W,re){e(!(W%$));do N[O+(W-=$)]=re;while(0<W)}function _(N,O,$,W,re){if(e(2328>=re),512>=re)var ae=i(512);else if((ae=i(re))==null)return 0;return(function(oe,ce,Ae,xe,Ee,He){var qe,Re,ct=ce,Je=1<<Ae,Te=i(16),Fe=i(16);for(e(Ee!=0),e(xe!=null),e(oe!=null),e(0<Ae),Re=0;Re<Ee;++Re){if(15<xe[Re])return 0;++Te[xe[Re]]}if(Te[0]==Ee)return 0;for(Fe[1]=0,qe=1;15>qe;++qe){if(Te[qe]>1<<qe)return 0;Fe[qe+1]=Fe[qe]+Te[qe]}for(Re=0;Re<Ee;++Re)qe=xe[Re],0<xe[Re]&&(He[Fe[qe]++]=Re);if(Fe[15]==1)return(xe=new T).g=0,xe.value=He[0],I(oe,ct,1,Je,xe),Je;var nt,rt=-1,at=Je-1,Bt=0,wt=1,Vt=1,jt=1<<Ae;for(Re=0,qe=1,Ee=2;qe<=Ae;++qe,Ee<<=1){if(wt+=Vt<<=1,0>(Vt-=Te[qe]))return 0;for(;0<Te[qe];--Te[qe])(xe=new T).g=qe,xe.value=He[Re++],I(oe,ct+Bt,Ee,jt,xe),Bt=k(Bt,qe)}for(qe=Ae+1,Ee=2;15>=qe;++qe,Ee<<=1){if(wt+=Vt<<=1,0>(Vt-=Te[qe]))return 0;for(;0<Te[qe];--Te[qe]){if(xe=new T,(Bt&at)!=rt){for(ct+=jt,nt=1<<(rt=qe)-Ae;15>rt&&!(0>=(nt-=Te[rt]));)++rt,nt<<=1;Je+=jt=1<<(nt=rt-Ae),oe[ce+(rt=Bt&at)].g=nt+Ae,oe[ce+rt].value=ct-ce-rt}xe.g=qe-Ae,xe.value=He[Re++],I(oe,ct+(Bt>>Ae),Ee,jt,xe),Bt=k(Bt,qe)}}return wt!=2*Fe[15]-1?0:Je})(N,O,$,W,re,ae)}function T(){this.value=this.g=0}function D(){this.value=this.g=0}function L(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Rn,D)}function V(N,O,$,W){e(N!=null),e(O!=null),e(2147483648>W),N.Ca=254,N.I=0,N.b=-8,N.Ka=0,N.oa=O,N.pa=$,N.Jd=O,N.Yc=$+W,N.Zc=4<=W?$+W-4+1:$,fe(N)}function z(N,O){for(var $=0;0<O--;)$|=pe(N,128)<<O;return $}function Z(N,O){var $=z(N,O);return me(N)?-$:$}function G(N,O,$,W){var re,ae=0;for(e(N!=null),e(O!=null),e(4294967288>W),N.Sb=W,N.Ra=0,N.u=0,N.h=0,4<W&&(W=4),re=0;re<W;++re)ae+=O[$+re]<<8*re;N.Ra=ae,N.bb=W,N.oa=O,N.pa=$}function H(N){for(;8<=N.u&&N.bb<N.Sb;)N.Ra>>>=8,N.Ra+=N.oa[N.pa+N.bb]<<Au-8>>>0,++N.bb,N.u-=8;te(N)&&(N.h=1,N.u=0)}function ee(N,O){if(e(0<=O),!N.h&&O<=hu){var $=U(N)&uu[O];return N.u+=O,H(N),$}return N.h=1,N.u=0}function Y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(N){return N.Ra>>>(N.u&Au-1)>>>0}function te(N){return e(N.bb<=N.Sb),N.h||N.bb==N.Sb&&N.u>Au}function X(N,O){N.u=O,N.h=te(N)}function se(N){N.u>=mu&&(e(N.u>=mu),H(N))}function fe(N){e(N!=null&&N.oa!=null),N.pa<N.Zc?(N.I=(N.oa[N.pa++]|N.I<<8)>>>0,N.b+=8):(e(N!=null&&N.oa!=null),N.pa<N.Yc?(N.b+=8,N.I=N.oa[N.pa++]|N.I<<8):N.Ka?N.b=0:(N.I<<=8,N.b+=8,N.Ka=1))}function me(N){return z(N,1)}function pe(N,O){var $=N.Ca;0>N.b&&fe(N);var W=N.b,re=$*O>>>8,ae=(N.I>>>W>re)+0;for(ae?($-=re,N.I-=re+1<<W>>>0):$=re+1,W=$,re=0;256<=W;)re+=8,W>>=8;return W=7^re+Aa[W],N.b-=W,N.Ca=($<<W)-1,ae}function _e(N,O,$){N[O+0]=$>>24&255,N[O+1]=$>>16&255,N[O+2]=$>>8&255,N[O+3]=$>>0&255}function ge(N,O){return N[O+0]<<0|N[O+1]<<8}function ye(N,O){return ge(N,O)|N[O+2]<<16}function Ve(N,O){return ge(N,O)|ge(N,O+2)<<16}function st(N,O){var $=1<<O;return e(N!=null),e(0<O),N.X=i($),N.X==null?0:(N.Mb=32-O,N.Xa=O,1)}function Ne(N,O){e(N!=null),e(O!=null),e(N.Xa==O.Xa),s(O.X,0,N.X,0,1<<O.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Me(N,O,$,W){e($!=null),e(W!=null);var re=$[0],ae=W[0];return re==0&&(re=(N*ae+O/2)/O),ae==0&&(ae=(O*re+N/2)/N),0>=re||0>=ae?0:($[0]=re,W[0]=ae,1)}function Ie(N,O){return N+(1<<O)-1>>>O}function le(N,O){return((4278255360&N)+(4278255360&O)>>>0&4278255360)+((16711935&N)+(16711935&O)>>>0&16711935)>>>0}function Se(N,O){S[O]=function($,W,re,ae,oe,ce,Ae){var xe;for(xe=0;xe<oe;++xe){var Ee=S[N](ce[Ae+xe-1],re,ae+xe);ce[Ae+xe]=le($[W+xe],Ee)}}}function Ze(){this.ud=this.hd=this.jd=0}function Oe(N,O){return((4278124286&(N^O))>>>1)+(N&O)>>>0}function dt(N){return 0<=N&&256>N?N:0>N?0:255<N?255:void 0}function _t(N,O){return dt(N+(N-O+.5>>1))}function Ge(N,O,$){return Math.abs(O-$)-Math.abs(N-$)}function Ce(N,O,$,W,re,ae,oe){for(W=ae[oe-1],$=0;$<re;++$)ae[oe+$]=W=le(N[O+$],W)}function lt(N,O,$,W,re){var ae;for(ae=0;ae<$;++ae){var oe=N[O+ae],ce=oe>>8&255,Ae=16711935&(Ae=(Ae=16711935&oe)+((ce<<16)+ce));W[re+ae]=(4278255360&oe)+Ae>>>0}}function ot(N,O){O.jd=N>>0&255,O.hd=N>>8&255,O.ud=N>>16&255}function Pt(N,O,$,W,re,ae){var oe;for(oe=0;oe<W;++oe){var ce=O[$+oe],Ae=ce>>>8,xe=ce,Ee=255&(Ee=(Ee=ce>>>16)+((N.jd<<24>>24)*(Ae<<24>>24)>>>5));xe=255&(xe=(xe=xe+((N.hd<<24>>24)*(Ae<<24>>24)>>>5))+((N.ud<<24>>24)*(Ee<<24>>24)>>>5)),re[ae+oe]=(4278255360&ce)+(Ee<<16)+xe}}function zt(N,O,$,W,re){S[O]=function(ae,oe,ce,Ae,xe,Ee,He,qe,Re){for(Ae=He;Ae<qe;++Ae)for(He=0;He<Re;++He)xe[Ee++]=re(ce[W(ae[oe++])])},S[N]=function(ae,oe,ce,Ae,xe,Ee,He){var qe=8>>ae.b,Re=ae.Ea,ct=ae.K[0],Je=ae.w;if(8>qe)for(ae=(1<<ae.b)-1,Je=(1<<qe)-1;oe<ce;++oe){var Te,Fe=0;for(Te=0;Te<Re;++Te)Te&ae||(Fe=W(Ae[xe++])),Ee[He++]=re(ct[Fe&Je]),Fe>>=qe}else S["VP8LMapColor"+$](Ae,xe,ct,Je,Ee,He,oe,ce,Re)}}function mt(N,O,$,W,re){for($=O+$;O<$;){var ae=N[O++];W[re++]=ae>>16&255,W[re++]=ae>>8&255,W[re++]=ae>>0&255}}function zn(N,O,$,W,re){for($=O+$;O<$;){var ae=N[O++];W[re++]=ae>>16&255,W[re++]=ae>>8&255,W[re++]=ae>>0&255,W[re++]=ae>>24&255}}function br(N,O,$,W,re){for($=O+$;O<$;){var ae=(oe=N[O++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;W[re++]=ae,W[re++]=oe}}function Xn(N,O,$,W,re){for($=O+$;O<$;){var ae=(oe=N[O++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;W[re++]=ae,W[re++]=oe}}function Pr(N,O,$,W,re){for($=O+$;O<$;){var ae=N[O++];W[re++]=ae>>0&255,W[re++]=ae>>8&255,W[re++]=ae>>16&255}}function Ur(N,O,$,W,re,ae){if(ae==0)for($=O+$;O<$;)_e(W,((ae=N[O++])[0]>>24|ae[1]>>8&65280|ae[2]<<8&16711680|ae[3]<<24)>>>0),re+=32;else s(W,re,N,O,$)}function Ts(N,O){S[O][0]=S[N+"0"],S[O][1]=S[N+"1"],S[O][2]=S[N+"2"],S[O][3]=S[N+"3"],S[O][4]=S[N+"4"],S[O][5]=S[N+"5"],S[O][6]=S[N+"6"],S[O][7]=S[N+"7"],S[O][8]=S[N+"8"],S[O][9]=S[N+"9"],S[O][10]=S[N+"10"],S[O][11]=S[N+"11"],S[O][12]=S[N+"12"],S[O][13]=S[N+"13"],S[O][14]=S[N+"0"],S[O][15]=S[N+"0"]}function wr(N){return N==bu||N==Jc||N==Yh||N==Jh}function ei(){this.eb=[],this.size=this.A=this.fb=0}function yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function sr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ei,this.f.kb=new yr,this.sd=null}function ve(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xe(N){return alert("todo:WebPSamplerProcessPlane"),N.T}function ft(N,O){var $=N.T,W=O.ba.f.RGBA,re=W.eb,ae=W.fb+N.ka*W.A,oe=Pa[O.ba.S],ce=N.y,Ae=N.O,xe=N.f,Ee=N.N,He=N.ea,qe=N.W,Re=O.cc,ct=O.dc,Je=O.Mc,Te=O.Nc,Fe=N.ka,nt=N.ka+N.T,rt=N.U,at=rt+1>>1;for(Fe==0?oe(ce,Ae,null,null,xe,Ee,He,qe,xe,Ee,He,qe,re,ae,null,null,rt):(oe(O.ec,O.fc,ce,Ae,Re,ct,Je,Te,xe,Ee,He,qe,re,ae-W.A,re,ae,rt),++$);Fe+2<nt;Fe+=2)Re=xe,ct=Ee,Je=He,Te=qe,Ee+=N.Rc,qe+=N.Rc,ae+=2*W.A,oe(ce,(Ae+=2*N.fa)-N.fa,ce,Ae,Re,ct,Je,Te,xe,Ee,He,qe,re,ae-W.A,re,ae,rt);return Ae+=N.fa,N.j+nt<N.o?(s(O.ec,O.fc,ce,Ae,rt),s(O.cc,O.dc,xe,Ee,at),s(O.Mc,O.Nc,He,qe,at),$--):1&nt||oe(ce,Ae,null,null,xe,Ee,He,qe,xe,Ee,He,qe,re,ae+W.A,null,null,rt),$}function Qr(N,O,$){var W=N.F,re=[N.J];if(W!=null){var ae=N.U,oe=O.ba.S,ce=oe==Xh||oe==Yh;O=O.ba.f.RGBA;var Ae=[0],xe=N.ka;Ae[0]=N.T,N.Kb&&(xe==0?--Ae[0]:(--xe,re[0]-=N.width),N.j+N.ka+N.T==N.o&&(Ae[0]=N.o-N.j-xe));var Ee=O.eb;xe=O.fb+xe*O.A,N=Vr(W,re[0],N.width,ae,Ae,Ee,xe+(ce?0:3),O.A),e($==Ae),N&&wr(oe)&&Ea(Ee,xe,ce,ae,Ae,O.A)}return 0}function Gt(N){var O=N.ma,$=O.ba.S,W=11>$,re=$==Yl||$==Gh||$==Xh||$==on||$==12||wr($);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!cu(O.Oa,N,re?11:12))return 0;if(re&&wr($)&&ut(),N.da)alert("todo:use_scaling");else{if(W){if(O.Ib=Xe,N.Kb){if($=N.U+1>>1,O.memory=i(N.U+2*$),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+N.U,O.Mc=O.cc,O.Nc=O.dc+$,O.Ib=ft,ut()}}else alert("todo:EmitYUV");re&&(O.Jb=Qr,W&&$e())}if(W&&!Ds){for(N=0;256>N;++N)Ta[N]=89858*(N-128)+Xi>>ll,Fa[N]=-22014*(N-128)+Xi,Nu[N]=-45773*(N-128),rd[N]=113618*(N-128)+Xi>>ll;for(N=Kr;N<Yr;++N)O=76283*(N-16)+Xi>>ll,Om[N-Kr]=si(O,255),py[N-Kr]=si(O+8>>4,15);Ds=1}return 1}function pt(N){var O=N.ma,$=N.U,W=N.T;return e(!(1&N.ka)),0>=$||0>=W?0:($=O.Ib(N,O),O.Jb!=null&&O.Jb(N,O,$),O.Dc+=$,1)}function de(N){N.ma.memory=null}function je(N,O,$,W){return ee(N,8)!=47?0:(O[0]=ee(N,14)+1,$[0]=ee(N,14)+1,W[0]=ee(N,1),ee(N,3)!=0?0:!N.h)}function Qe(N,O){if(4>N)return N+1;var $=N-2>>1;return(2+(1&N)<<$)+ee(O,$)+1}function Le(N,O){return 120<O?O-120:1<=($=(($=T2[O-1])>>4)*N+(8-(15&$)))?$:1;var $}function et(N,O,$){var W=U($),re=N[O+=255&W].g-8;return 0<re&&(X($,$.u+8),W=U($),O+=N[O].value,O+=W&(1<<re)-1),X($,$.u+N[O].g),N[O].value}function St(N,O,$){return $.g+=N.g,$.value+=N.value<<O>>>0,e(8>=$.g),N.g}function Ue(N,O,$){var W=N.xc;return e((O=W==0?0:N.vc[N.md*($>>W)+(O>>W)])<N.Wb),N.Ya[O]}function hr(N,O,$,W){var re=N.ab,ae=N.c*O,oe=N.C;O=oe+O;var ce=$,Ae=W;for(W=N.Ta,$=N.Ua;0<re--;){var xe=N.gc[re],Ee=oe,He=O,qe=ce,Re=Ae,ct=(Ae=W,ce=$,xe.Ea);switch(e(Ee<He),e(He<=xe.nc),xe.hc){case 2:Em(qe,Re,(He-Ee)*ct,Ae,ce);break;case 0:var Je=Ee,Te=He,Fe=Ae,nt=ce,rt=(jt=xe).Ea;Je==0&&(Vc(qe,Re,null,null,1,Fe,nt),Ce(qe,Re+1,0,0,rt-1,Fe,nt+1),Re+=rt,nt+=rt,++Je);for(var at=1<<jt.b,Bt=at-1,wt=Ie(rt,jt.b),Vt=jt.K,jt=jt.w+(Je>>jt.b)*wt;Je<Te;){var Tr=Vt,Fr=jt,Sr=1;for(el(qe,Re,Fe,nt-rt,1,Fe,nt);Sr<rt;){var gr=(Sr&~Bt)+at;gr>rt&&(gr=rt),(0,yo[Tr[Fr++]>>8&15])(qe,Re+ +Sr,Fe,nt+Sr-rt,gr-Sr,Fe,nt+Sr),Sr=gr}Re+=rt,nt+=rt,++Je&Bt||(jt+=wt)}He!=xe.nc&&s(Ae,ce-ct,Ae,ce+(He-Ee-1)*ct,ct);break;case 1:for(ct=qe,Te=Re,rt=(qe=xe.Ea)-(nt=qe&~(Fe=(Re=1<<xe.b)-1)),Je=Ie(qe,xe.b),at=xe.K,xe=xe.w+(Ee>>xe.b)*Je;Ee<He;){for(Bt=at,wt=xe,Vt=new Ze,jt=Te+nt,Tr=Te+qe;Te<jt;)ot(Bt[wt++],Vt),Wl(Vt,ct,Te,Re,Ae,ce),Te+=Re,ce+=Re;Te<Tr&&(ot(Bt[wt++],Vt),Wl(Vt,ct,Te,rt,Ae,ce),Te+=rt,ce+=rt),++Ee&Fe||(xe+=Je)}break;case 3:if(qe==Ae&&Re==ce&&0<xe.b){for(Te=Ae,qe=ct=ce+(He-Ee)*ct-(nt=(He-Ee)*Ie(xe.Ea,xe.b)),Re=Ae,Fe=ce,Je=[],nt=(rt=nt)-1;0<=nt;--nt)Je[nt]=Re[Fe+nt];for(nt=rt-1;0<=nt;--nt)Te[qe+nt]=Je[nt];ma(xe,Ee,He,Ae,ct,Ae,ce)}else ma(xe,Ee,He,qe,Re,Ae,ce)}ce=W,Ae=$}Ae!=$&&s(W,$,ce,Ae,ae)}function sn(N,O){var $=N.V,W=N.Ba+N.c*N.C,re=O-N.C;if(e(O<=N.l.o),e(16>=re),0<re){var ae=N.l,oe=N.Ta,ce=N.Ua,Ae=ae.width;if(hr(N,re,$,W),re=ce=[ce],e(($=N.C)<(W=O)),e(ae.v<ae.va),W>ae.o&&(W=ae.o),$<ae.j){var xe=ae.j-$;$=ae.j,re[0]+=xe*Ae}if($>=W?$=0:(re[0]+=4*ae.v,ae.ka=$-ae.j,ae.U=ae.va-ae.v,ae.T=W-$,$=1),$){if(ce=ce[0],11>($=N.ca).S){var Ee=$.f.RGBA,He=(W=$.S,re=ae.U,ae=ae.T,xe=Ee.eb,Ee.A),qe=ae;for(Ee=Ee.fb+N.Ma*Ee.A;0<qe--;){var Re=oe,ct=ce,Je=re,Te=xe,Fe=Ee;switch(W){case km:fa(Re,ct,Je,Te,Fe);break;case Yl:Gs(Re,ct,Je,Te,Fe);break;case bu:Gs(Re,ct,Je,Te,Fe),Ea(Te,Fe,0,Je,1,0);break;case uy:rl(Re,ct,Je,Te,Fe);break;case Gh:Ur(Re,ct,Je,Te,Fe,1);break;case Jc:Ur(Re,ct,Je,Te,Fe,1),Ea(Te,Fe,0,Je,1,0);break;case Xh:Ur(Re,ct,Je,Te,Fe,0);break;case Yh:Ur(Re,ct,Je,Te,Fe,0),Ea(Te,Fe,1,Je,1,0);break;case on:Gl(Re,ct,Je,Te,Fe);break;case Jh:Gl(Re,ct,Je,Te,Fe),an(Te,Fe,Je,1,0);break;case Pm:tl(Re,ct,Je,Te,Fe);break;default:e(0)}ce+=Ae,Ee+=He}N.Ma+=ae}else alert("todo:EmitRescaledRowsYUVA");e(N.Ma<=$.height)}}N.C=O,e(N.C<=N.i)}function ha(N){var O;if(0<N.ua)return 0;for(O=0;O<N.Wb;++O){var $=N.Ya[O].G,W=N.Ya[O].H;if(0<$[1][W[1]+0].g||0<$[2][W[2]+0].g||0<$[3][W[3]+0].g)return 0}return 1}function Fs(N,O,$,W,re,ae){if(N.Z!=0){var oe=N.qd,ce=N.rd;for(e(Ys[N.Z]!=null);O<$;++O)Ys[N.Z](oe,ce,W,re,W,re,ae),oe=W,ce=re,re+=ae;N.qd=oe,N.rd=ce}}function Hi(N,O){var $=N.l.ma,W=$.Z==0||$.Z==1?N.l.j:N.C;if(W=N.C<W?W:N.C,e(O<=N.l.o),O>W){var re=N.l.width,ae=$.ca,oe=$.tb+re*W,ce=N.V,Ae=N.Ba+N.c*W,xe=N.gc;e(N.ab==1),e(xe[0].hc==3),Vh(xe[0],W,O,ce,Ae,ae,oe),Fs($,W,O,ae,oe,re)}N.C=N.Ma=O}function Os(N,O,$,W,re,ae,oe){var ce=N.$/W,Ae=N.$%W,xe=N.m,Ee=N.s,He=$+N.$,qe=He;re=$+W*re;var Re=$+W*ae,ct=280+Ee.ua,Je=N.Pb?ce:16777216,Te=0<Ee.ua?Ee.Wa:null,Fe=Ee.wc,nt=He<Re?Ue(Ee,Ae,ce):null;e(N.C<ae),e(Re<=re);var rt=!1;e:for(;;){for(;rt||He<Re;){var at=0;if(ce>=Je){var Bt=He-$;e((Je=N).Pb),Je.wd=Je.m,Je.xd=Bt,0<Je.s.ua&&Ne(Je.s.Wa,Je.s.vb),Je=ce+Fm}if(Ae&Fe||(nt=Ue(Ee,Ae,ce)),e(nt!=null),nt.Qb&&(O[He]=nt.qb,rt=!0),!rt)if(se(xe),nt.jc){at=xe,Bt=O;var wt=He,Vt=nt.pd[U(at)&Rn-1];e(nt.jc),256>Vt.g?(X(at,at.u+Vt.g),Bt[wt]=Vt.value,at=0):(X(at,at.u+Vt.g-256),e(256<=Vt.value),at=Vt.value),at==0&&(rt=!0)}else at=et(nt.G[0],nt.H[0],xe);if(xe.h)break;if(rt||256>at){if(!rt)if(nt.nd)O[He]=(nt.qb|at<<8)>>>0;else{if(se(xe),rt=et(nt.G[1],nt.H[1],xe),se(xe),Bt=et(nt.G[2],nt.H[2],xe),wt=et(nt.G[3],nt.H[3],xe),xe.h)break;O[He]=(wt<<24|rt<<16|at<<8|Bt)>>>0}if(rt=!1,++He,++Ae>=W&&(Ae=0,++ce,oe!=null&&ce<=ae&&!(ce%16)&&oe(N,ce),Te!=null))for(;qe<He;)at=O[qe++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at}else if(280>at){if(at=Qe(at-256,xe),Bt=et(nt.G[4],nt.H[4],xe),se(xe),Bt=Le(W,Bt=Qe(Bt,xe)),xe.h)break;if(He-$<Bt||re-He<at)break e;for(wt=0;wt<at;++wt)O[He+wt]=O[He+wt-Bt];for(He+=at,Ae+=at;Ae>=W;)Ae-=W,++ce,oe!=null&&ce<=ae&&!(ce%16)&&oe(N,ce);if(e(He<=re),Ae&Fe&&(nt=Ue(Ee,Ae,ce)),Te!=null)for(;qe<He;)at=O[qe++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at}else{if(!(at<ct))break e;for(rt=at-280,e(Te!=null);qe<He;)at=O[qe++],Te.X[(506832829*at&4294967295)>>>Te.Mb]=at;at=He,e(!(rt>>>(Bt=Te).Xa)),O[at]=Bt.X[rt],rt=!0}rt||e(xe.h==te(xe))}if(N.Pb&&xe.h&&He<re)e(N.m.h),N.a=5,N.m=N.wd,N.$=N.xd,0<N.s.ua&&Ne(N.s.vb,N.s.Wa);else{if(xe.h)break e;oe?.(N,ce>ae?ae:ce),N.a=0,N.$=He-$}return 1}return N.a=3,0}function qi(N){e(N!=null),N.vc=null,N.yc=null,N.Ya=null;var O=N.Wa;O!=null&&(O.X=null),N.vb=null,e(N!=null)}function ti(){var N=new rg;return N==null?null:(N.a=0,N.xb=wu,Ts("Predictor","VP8LPredictors"),Ts("Predictor","VP8LPredictors_C"),Ts("PredictorAdd","VP8LPredictorsAdd"),Ts("PredictorAdd","VP8LPredictorsAdd_C"),Em=lt,Wl=Pt,fa=mt,Gs=zn,Gl=br,tl=Xn,rl=Pr,S.VP8LMapColor32b=fu,S.VP8LMapColor8b=pu,N)}function Ao(N,O,$,W,re){var ae=1,oe=[N],ce=[O],Ae=W.m,xe=W.s,Ee=null,He=0;e:for(;;){if($)for(;ae&&ee(Ae,1);){var qe=oe,Re=ce,ct=W,Je=1,Te=ct.m,Fe=ct.gc[ct.ab],nt=ee(Te,2);if(ct.Oc&1<<nt)ae=0;else{switch(ct.Oc|=1<<nt,Fe.hc=nt,Fe.Ea=qe[0],Fe.nc=Re[0],Fe.K=[null],++ct.ab,e(4>=ct.ab),nt){case 0:case 1:Fe.b=ee(Te,3)+2,Je=Ao(Ie(Fe.Ea,Fe.b),Ie(Fe.nc,Fe.b),0,ct,Fe.K),Fe.K=Fe.K[0];break;case 3:var rt,at=ee(Te,8)+1,Bt=16<at?0:4<at?1:2<at?2:3;if(qe[0]=Ie(Fe.Ea,Bt),Fe.b=Bt,rt=Je=Ao(at,1,0,ct,Fe.K)){var wt,Vt=at,jt=Fe,Tr=1<<(8>>jt.b),Fr=i(Tr);if(Fr==null)rt=0;else{var Sr=jt.K[0],gr=jt.w;for(Fr[0]=jt.K[0][0],wt=1;wt<1*Vt;++wt)Fr[wt]=le(Sr[gr+wt],Fr[wt-1]);for(;wt<4*Tr;++wt)Fr[wt]=0;jt.K[0]=null,jt.K[0]=Fr,rt=1}}Je=rt;break;case 2:break;default:e(0)}ae=Je}}if(oe=oe[0],ce=ce[0],ae&&ee(Ae,1)&&!(ae=1<=(He=ee(Ae,4))&&11>=He)){W.a=3;break e}var Wr;if(Wr=ae)t:{var Jr,ir,Pn,xa=W,Kn=oe,os=ce,$r=He,Js=$,Zs=xa.m,Tn=xa.s,ls=[null],Ms=1,Oa=0,Si=Ay[$r];r:for(;;){if(Js&&ee(Zs,1)){var Fn=ee(Zs,3)+2,Zn=Ie(Kn,Fn),oi=Ie(os,Fn),ec=Zn*oi;if(!Ao(Zn,oi,0,xa,ls))break r;for(ls=ls[0],Tn.xc=Fn,Jr=0;Jr<ec;++Jr){var dl=ls[Jr]>>8&65535;ls[Jr]=dl,dl>=Ms&&(Ms=dl+1)}}if(Zs.h)break r;for(ir=0;5>ir;++ir){var Hr=Zc[ir];!ir&&0<$r&&(Hr+=1<<$r),Oa<Hr&&(Oa=Hr)}var No=o(Ms*Si,T),Im=Ms,lg=o(Im,L);if(lg==null)var Bi=null;else e(65536>=Im),Bi=lg;var Ei=i(Oa);if(Bi==null||Ei==null||No==null){xa.a=1;break r}var sd=No;for(Jr=Pn=0;Jr<Ms;++Jr){var ki=Bi[Jr],ul=ki.G,ad=ki.H,_u=0,li=1,Cu=0;for(ir=0;5>ir;++ir){Hr=Zc[ir],ul[ir]=sd,ad[ir]=Pn,!ir&&0<$r&&(Hr+=1<<$r);s:{var tc,hl=Hr,Su=xa,_o=Ei,xy=sd,cg=Pn,gn=0,Yi=Su.m,dg=ee(Yi,1);if(a(_o,0,0,hl),dg){var ug=ee(Yi,1)+1,Dm=ee(Yi,1),Mm=ee(Yi,Dm==0?1:8);_o[Mm]=1,ug==2&&(_o[Mm=ee(Yi,8)]=1);var Co=1}else{var vn=i(19),es=ee(Yi,4)+4;if(19<es){Su.a=3;var Wn=0;break s}for(tc=0;tc<es;++tc)vn[P2[tc]]=ee(Yi,3);var Bu=void 0,Al=void 0,Eu=Su,M2=vn,cs=hl,Lm=_o,nA=0,So=Eu.m,Ji=8,ci=o(128,T);n:for(;_(ci,0,7,M2,19);){if(ee(So,1)){var sA=2+2*ee(So,3);if((Bu=2+ee(So,sA))>cs)break n}else Bu=cs;for(Al=0;Al<cs&&Bu--;){se(So);var Rm=ci[0+(127&U(So))];X(So,So.u+Rm.g);var rc=Rm.value;if(16>rc)Lm[Al++]=rc,rc!=0&&(Ji=rc);else{var yy=rc==16,hg=rc-16,by=Tm[hg],Ag=ee(So,Zh[hg])+by;if(Al+Ag>cs)break n;for(var vy=yy?Ji:0;0<Ag--;)Lm[Al++]=vy}}nA=1;break n}nA||(Eu.a=3),Co=nA}(Co=Co&&!Yi.h)&&(gn=_(xy,cg,8,_o,hl)),Co&&gn!=0?Wn=gn:(Su.a=3,Wn=0)}if(Wn==0)break r;if(li&&hy[ir]==1&&(li=sd[Pn].g==0),_u+=sd[Pn].g,Pn+=Wn,3>=ir){var ku,Um=Ei[0];for(ku=1;ku<Hr;++ku)Ei[ku]>Um&&(Um=Ei[ku]);Cu+=Um}}if(ki.nd=li,ki.Qb=0,li&&(ki.qb=(ul[3][ad[3]+0].value<<24|ul[1][ad[1]+0].value<<16|ul[2][ad[2]+0].value)>>>0,_u==0&&256>ul[0][ad[0]+0].value&&(ki.Qb=1,ki.qb+=ul[0][ad[0]+0].value<<8)),ki.jc=!ki.Qb&&6>Cu,ki.jc){var aA,di=ki;for(aA=0;aA<Rn;++aA){var ml=aA,Zi=di.pd[ml],id=di.G[0][di.H[0]+ml];256<=id.value?(Zi.g=id.g+256,Zi.value=id.value):(Zi.g=0,Zi.value=0,ml>>=St(id,8,Zi),ml>>=St(di.G[1][di.H[1]+ml],16,Zi),ml>>=St(di.G[2][di.H[2]+ml],0,Zi),St(di.G[3][di.H[3]+ml],24,Zi))}}}Tn.vc=ls,Tn.Wb=Ms,Tn.Ya=Bi,Tn.yc=No,Wr=1;break t}Wr=0}if(!(ae=Wr)){W.a=3;break e}if(0<He){if(xe.ua=1<<He,!st(xe.Wa,He)){W.a=1,ae=0;break e}}else xe.ua=0;var Qm=W,$m=oe,wy=ce,Hm=Qm.s,qm=Hm.xc;if(Qm.c=$m,Qm.i=wy,Hm.md=Ie($m,qm),Hm.wc=qm==0?-1:(1<<qm)-1,$){W.xb=jo;break e}if((Ee=i(oe*ce))==null){W.a=1,ae=0;break e}ae=(ae=Os(W,Ee,0,oe,ce,ce,null))&&!Ae.h;break e}return ae?(re!=null?re[0]=Ee:(e(Ee==null),e($)),W.$=0,$||qi(xe)):qi(xe),ae}function Dl(N,O){var $=N.c*N.i,W=$+O+16*O;return e(N.c<=O),N.V=i(W),N.V==null?(N.Ta=null,N.Ua=0,N.a=1,0):(N.Ta=N.V,N.Ua=N.Ba+$+O,1)}function kc(N,O){var $=N.C,W=O-$,re=N.V,ae=N.Ba+N.c*$;for(e(O<=N.l.o);0<W;){var oe=16<W?16:W,ce=N.l.ma,Ae=N.l.width,xe=Ae*oe,Ee=ce.ca,He=ce.tb+Ae*$,qe=N.Ta,Re=N.Ua;hr(N,oe,re,ae),Un(qe,Re,Ee,He,xe),Fs(ce,$,$+oe,Ee,He,Ae),W-=oe,re+=oe*N.c,$+=oe}e($==O),N.C=N.Ma=O}function Pc(){this.ub=this.yd=this.td=this.Rb=0}function Tc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Kd(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function bm(){this.Yb=(function(){var N=[];return(function O($,W,re){for(var ae=re[W],oe=0;oe<ae&&($.push(re.length>W+1?[]:0),!(re.length<W+1));oe++)O($[oe],W+1,re)})(N,0,[3,11]),N})()}function Bn(){this.jb=i(3),this.Wc=l([4,8],bm),this.Xc=l([4,17],bm)}function Zp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ml(){this.ld=this.La=this.dd=this.tc=0}function Oh(){this.Na=this.la=0}function Wd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ih(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vm(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ml),this.Y=0,this.ya=Array(new Ih),this.aa=0,this.l=new Gd}function Fc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function vi(){this.cb=this.a=0,this.sc="",this.m=new Y,this.Od=new Pc,this.Kc=new Tc,this.ed=new Zp,this.Qa=new Kd,this.Ic=this.$c=this.Aa=0,this.D=new vm,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Y),this.ia=0,this.pb=o(4,Wd),this.Pa=new Bn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fc),this.Hd=0,this.rb=Array(new Oh),this.sb=0,this.wa=Array(new Ml),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ih),this.L=this.aa=0,this.gd=l([4,2],Ml),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ri(){var N=new vi;return N!=null&&(N.a=0,N.sc="OK",N.cb=0,N.Xb=0,ed||(ed=Oc)),N}function Vn(N,O,$){return N.a==0&&(N.a=O,N.sc=$,N.cb=0),0}function wm(N,O,$){return 3<=$&&N[O+0]==157&&N[O+1]==1&&N[O+2]==42}function jm(N,O){if(N==null)return 0;if(N.a=0,N.sc="OK",O==null)return Vn(N,2,"null VP8Io passed to VP8GetHeaders()");var $=O.data,W=O.w,re=O.ha;if(4>re)return Vn(N,7,"Truncated header.");var ae=$[W+0]|$[W+1]<<8|$[W+2]<<16,oe=N.Od;if(oe.Rb=!(1&ae),oe.td=ae>>1&7,oe.yd=ae>>4&1,oe.ub=ae>>5,3<oe.td)return Vn(N,3,"Incorrect keyframe parameters.");if(!oe.yd)return Vn(N,4,"Frame not displayable.");W+=3,re-=3;var ce=N.Kc;if(oe.Rb){if(7>re)return Vn(N,7,"cannot parse picture header");if(!wm($,W,re))return Vn(N,3,"Bad code word");ce.c=16383&($[W+4]<<8|$[W+3]),ce.Td=$[W+4]>>6,ce.i=16383&($[W+6]<<8|$[W+5]),ce.Ud=$[W+6]>>6,W+=7,re-=7,N.za=ce.c+15>>4,N.Ub=ce.i+15>>4,O.width=ce.c,O.height=ce.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,a((ae=N.Pa).jb,0,255,ae.jb.length),e((ae=N.Qa)!=null),ae.Cb=0,ae.Bb=0,ae.Fb=1,a(ae.Zb,0,0,ae.Zb.length),a(ae.Lb,0,0,ae.Lb)}if(oe.ub>re)return Vn(N,7,"bad partition length");V(ae=N.m,$,W,oe.ub),W+=oe.ub,re-=oe.ub,oe.Rb&&(ce.Ld=me(ae),ce.Kd=me(ae)),ce=N.Qa;var Ae,xe=N.Pa;if(e(ae!=null),e(ce!=null),ce.Cb=me(ae),ce.Cb){if(ce.Bb=me(ae),me(ae)){for(ce.Fb=me(ae),Ae=0;4>Ae;++Ae)ce.Zb[Ae]=me(ae)?Z(ae,7):0;for(Ae=0;4>Ae;++Ae)ce.Lb[Ae]=me(ae)?Z(ae,6):0}if(ce.Bb)for(Ae=0;3>Ae;++Ae)xe.jb[Ae]=me(ae)?z(ae,8):255}else ce.Bb=0;if(ae.Ka)return Vn(N,3,"cannot parse segment header");if((ce=N.ed).zd=me(ae),ce.Tb=z(ae,6),ce.wb=z(ae,3),ce.Pc=me(ae),ce.Pc&&me(ae)){for(xe=0;4>xe;++xe)me(ae)&&(ce.vd[xe]=Z(ae,6));for(xe=0;4>xe;++xe)me(ae)&&(ce.od[xe]=Z(ae,6))}if(N.L=ce.Tb==0?0:ce.zd?1:2,ae.Ka)return Vn(N,3,"cannot parse filter header");var Ee=re;if(re=Ae=W,W=Ae+Ee,ce=Ee,N.Xb=(1<<z(N.m,2))-1,Ee<3*(xe=N.Xb))$=7;else{for(Ae+=3*xe,ce-=3*xe,Ee=0;Ee<xe;++Ee){var He=$[re+0]|$[re+1]<<8|$[re+2]<<16;He>ce&&(He=ce),V(N.Jc[+Ee],$,Ae,He),Ae+=He,ce-=He,re+=3}V(N.Jc[+xe],$,Ae,ce),$=Ae<W?0:5}if($!=0)return Vn(N,$,"cannot parse partitions");for($=z(Ae=N.m,7),re=me(Ae)?Z(Ae,4):0,W=me(Ae)?Z(Ae,4):0,ce=me(Ae)?Z(Ae,4):0,xe=me(Ae)?Z(Ae,4):0,Ae=me(Ae)?Z(Ae,4):0,Ee=N.Qa,He=0;4>He;++He){if(Ee.Cb){var qe=Ee.Zb[He];Ee.Fb||(qe+=$)}else{if(0<He){N.pb[He]=N.pb[0];continue}qe=$}var Re=N.pb[He];Re.Sc[0]=vu[si(qe+re,127)],Re.Sc[1]=eA[si(qe+0,127)],Re.Eb[0]=2*vu[si(qe+W,127)],Re.Eb[1]=101581*eA[si(qe+ce,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=vu[si(qe+xe,117)],Re.Qc[1]=eA[si(qe+Ae,127)],Re.lc=qe+Ae}if(!oe.Rb)return Vn(N,4,"Not a key frame.");for(me(ae),oe=N.Pa,$=0;4>$;++$){for(re=0;8>re;++re)for(W=0;3>W;++W)for(ce=0;11>ce;++ce)xe=pe(ae,O2[$][re][W][ce])?z(ae,8):fy[$][re][W][ce],oe.Wc[$][re].Yb[W][ce]=xe;for(re=0;17>re;++re)oe.Xc[$][re]=oe.Wc[$][ag[re]]}return N.kc=me(ae),N.kc&&(N.Bd=z(ae,8)),N.cb=1}function Oc(N,O,$,W,re,ae,oe){var ce=O[re].Yb[$];for($=0;16>re;++re){if(!pe(N,ce[$+0]))return re;for(;!pe(N,ce[$+1]);)if(ce=O[++re].Yb[0],$=0,re==16)return 16;var Ae=O[re+1].Yb;if(pe(N,ce[$+2])){var xe=N,Ee=0;if(pe(xe,(qe=ce)[(He=$)+3]))if(pe(xe,qe[He+6])){for(ce=0,He=2*(Ee=pe(xe,qe[He+8]))+(qe=pe(xe,qe[He+9+Ee])),Ee=0,qe=ng[He];qe[ce];++ce)Ee+=Ee+pe(xe,qe[ce]);Ee+=3+(8<<He)}else pe(xe,qe[He+7])?(Ee=7+2*pe(xe,165),Ee+=pe(xe,145)):Ee=5+pe(xe,159);else Ee=pe(xe,qe[He+4])?3+pe(xe,qe[He+5]):2;ce=Ae[2]}else Ee=1,ce=Ae[1];Ae=oe+sg[re],0>(xe=N).b&&fe(xe);var He,qe=xe.b,Re=(He=xe.Ca>>1)-(xe.I>>qe)>>31;--xe.b,xe.Ca+=Re,xe.Ca|=1,xe.I-=(He+1&Re)<<qe,ae[Ae]=((Ee^Re)-Re)*W[(0<re)+0]}return 16}function Ll(N){var O=N.rb[N.sb-1];O.la=0,O.Na=0,a(N.zc,0,0,N.zc.length),N.ja=0}function Ic(N,O){if(N==null)return 0;if(O==null)return Vn(N,2,"NULL VP8Io parameter in VP8Decode().");if(!N.cb&&!jm(N,O))return 0;if(e(N.cb),O.ac==null||O.ac(O)){O.ob&&(N.L=0);var $=nd[N.L];if(N.L==2?(N.yb=0,N.zb=0):(N.yb=O.v-$>>4,N.zb=O.j-$>>4,0>N.yb&&(N.yb=0),0>N.zb&&(N.zb=0)),N.Va=O.o+15+$>>4,N.Hb=O.va+15+$>>4,N.Hb>N.za&&(N.Hb=N.za),N.Va>N.Ub&&(N.Va=N.Ub),0<N.L){var W=N.ed;for($=0;4>$;++$){var re;if(N.Qa.Cb){var ae=N.Qa.Lb[$];N.Qa.Fb||(ae+=W.Tb)}else ae=W.Tb;for(re=0;1>=re;++re){var oe=N.gd[$][re],ce=ae;if(W.Pc&&(ce+=W.vd[0],re&&(ce+=W.od[0])),0<(ce=0>ce?0:63<ce?63:ce)){var Ae=ce;0<W.wb&&(Ae=4<W.wb?Ae>>2:Ae>>1)>9-W.wb&&(Ae=9-W.wb),1>Ae&&(Ae=1),oe.dd=Ae,oe.tc=2*ce+Ae,oe.ld=40<=ce?2:15<=ce?1:0}else oe.tc=0;oe.La=re}}}$=0}else Vn(N,6,"Frame setup failed"),$=N.a;if($=$==0){if($){N.$c=0,0<N.Aa||(N.Ic=cl);e:{$=N.Ic,W=4*(Ae=N.za);var xe=32*Ae,Ee=Ae+1,He=0<N.L?Ae*(0<N.Aa?2:1):0,qe=(N.Aa==2?2:1)*Ae;if((oe=W+832+(re=3*(16*$+nd[N.L])/2*xe)+(ae=N.Fa!=null&&0<N.Fa.length?N.Kc.c*N.Kc.i:0))!=oe)$=0;else{if(oe>N.Vb){if(N.Vb=0,N.Ec=i(oe),N.Fc=0,N.Ec==null){$=Vn(N,1,"no memory during frame initialization.");break e}N.Vb=oe}oe=N.Ec,ce=N.Fc,N.Ac=oe,N.Bc=ce,ce+=W,N.Gd=o(xe,Fc),N.Hd=0,N.rb=o(Ee+1,Oh),N.sb=1,N.wa=He?o(He,Ml):null,N.Y=0,N.D.Nb=0,N.D.wa=N.wa,N.D.Y=N.Y,0<N.Aa&&(N.D.Y+=Ae),e(!0),N.oc=oe,N.pc=ce,ce+=832,N.ya=o(qe,Ih),N.aa=0,N.D.ya=N.ya,N.D.aa=N.aa,N.Aa==2&&(N.D.aa+=Ae),N.R=16*Ae,N.B=8*Ae,Ae=(xe=nd[N.L])*N.R,xe=xe/2*N.B,N.sa=oe,N.ta=ce+Ae,N.qa=N.sa,N.ra=N.ta+16*$*N.R+xe,N.Ha=N.qa,N.Ia=N.ra+8*$*N.B+xe,N.$c=0,ce+=re,N.mb=ae?oe:null,N.nb=ae?ce:null,e(ce+ae<=N.Fc+N.Vb),Ll(N),a(N.Ac,N.Bc,0,W),$=1}}if($){if(O.ka=0,O.y=N.sa,O.O=N.ta,O.f=N.qa,O.N=N.ra,O.ea=N.Ha,O.Vd=N.Ia,O.fa=N.R,O.Rc=N.B,O.F=null,O.J=0,!Wh){for($=-255;255>=$;++$)Jn[255+$]=0>$?-$:$;for($=-1020;1020>=$;++$)vo[1020+$]=-128>$?-128:127<$?127:$;for($=-112;112>=$;++$)xu[112+$]=-16>$?-16:15<$?15:$;for($=-255;510>=$;++$)Yc[255+$]=0>$?0:255<$?255:$;Wh=1}gu=Dr,nl=Mh,sl=Rl,Xs=eg,ai=Yd,Mr=Dh,Kc=su,Kh=is,Wc=$c,Gc=$h,Xc=Hl,ii=ql,al=Hc,bo=au,il=Ki,ol=wi,Xl=ji,Is=Sm,Ci[0]=go,Ci[1]=Nm,Ci[2]=Rc,Ci[3]=po,Ci[4]=Rh,Ci[5]=Zd,Ci[6]=Ql,Ci[7]=eu,Ci[8]=Cm,Ci[9]=tu,ga[0]=Lc,ga[1]=_m,ga[2]=mo,ga[3]=Mc,ga[4]=En,ga[5]=fo,ga[6]=zi,ka[0]=ni,ka[1]=Lh,ka[2]=tg,ka[3]=Jo,ka[4]=Uc,ka[5]=ru,ka[6]=Uh,$=1}else $=0}$&&($=(function(Re,ct){for(Re.M=0;Re.M<Re.Va;++Re.M){var Je,Te=Re.Jc[Re.M&Re.Xb],Fe=Re.m,nt=Re;for(Je=0;Je<nt.za;++Je){var rt=Fe,at=nt,Bt=at.Ac,wt=at.Bc+4*Je,Vt=at.zc,jt=at.ya[at.aa+Je];if(at.Qa.Bb?jt.$b=pe(rt,at.Pa.jb[0])?2+pe(rt,at.Pa.jb[2]):pe(rt,at.Pa.jb[1]):jt.$b=0,at.kc&&(jt.Ad=pe(rt,at.Bd)),jt.Za=!pe(rt,145)+0,jt.Za){var Tr=jt.Ob,Fr=0;for(at=0;4>at;++at){var Sr,gr=Vt[0+at];for(Sr=0;4>Sr;++Sr){gr=F2[Bt[wt+Sr]][gr];for(var Wr=my[pe(rt,gr[0])];0<Wr;)Wr=my[2*Wr+pe(rt,gr[Wr])];gr=-Wr,Bt[wt+Sr]=gr}s(Tr,Fr,Bt,wt,4),Fr+=4,Vt[0+at]=gr}}else gr=pe(rt,156)?pe(rt,128)?1:3:pe(rt,163)?2:0,jt.Ob[0]=gr,a(Bt,wt,gr,4),a(Vt,0,gr,4);jt.Dd=pe(rt,142)?pe(rt,114)?pe(rt,183)?1:3:2:0}if(nt.m.Ka)return Vn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(nt=Te,rt=(Fe=Re).rb[Fe.sb-1],Bt=Fe.rb[Fe.sb+Fe.ja],Je=Fe.ya[Fe.aa+Fe.ja],wt=Fe.kc?Je.Ad:0)rt.la=Bt.la=0,Je.Za||(rt.Na=Bt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var Jr,ir;if(rt=Bt,Bt=nt,wt=Fe.Pa.Xc,Vt=Fe.ya[Fe.aa+Fe.ja],jt=Fe.pb[Vt.$b],at=Vt.ad,Tr=0,Fr=Fe.rb[Fe.sb-1],gr=Sr=0,a(at,Tr,0,384),Vt.Za)var Pn=0,xa=wt[3];else{Wr=i(16);var Kn=rt.Na+Fr.Na;if(Kn=ed(Bt,wt[1],Kn,jt.Eb,0,Wr,0),rt.Na=Fr.Na=(0<Kn)+0,1<Kn)gu(Wr,0,at,Tr);else{var os=Wr[0]+3>>3;for(Wr=0;256>Wr;Wr+=16)at[Tr+Wr]=os}Pn=1,xa=wt[0]}var $r=15&rt.la,Js=15&Fr.la;for(Wr=0;4>Wr;++Wr){var Zs=1&Js;for(os=ir=0;4>os;++os)$r=$r>>1|(Zs=(Kn=ed(Bt,xa,Kn=Zs+(1&$r),jt.Sc,Pn,at,Tr))>Pn)<<7,ir=ir<<2|(3<Kn?3:1<Kn?2:at[Tr+0]!=0),Tr+=16;$r>>=4,Js=Js>>1|Zs<<7,Sr=(Sr<<8|ir)>>>0}for(xa=$r,Pn=Js>>4,Jr=0;4>Jr;Jr+=2){for(ir=0,$r=rt.la>>4+Jr,Js=Fr.la>>4+Jr,Wr=0;2>Wr;++Wr){for(Zs=1&Js,os=0;2>os;++os)Kn=Zs+(1&$r),$r=$r>>1|(Zs=0<(Kn=ed(Bt,wt[2],Kn,jt.Qc,0,at,Tr)))<<3,ir=ir<<2|(3<Kn?3:1<Kn?2:at[Tr+0]!=0),Tr+=16;$r>>=2,Js=Js>>1|Zs<<5}gr|=ir<<4*Jr,xa|=$r<<4<<Jr,Pn|=(240&Js)<<Jr}rt.la=xa,Fr.la=Pn,Vt.Hc=Sr,Vt.Gc=gr,Vt.ia=43690&gr?0:jt.ia,wt=!(Sr|gr)}if(0<Fe.L&&(Fe.wa[Fe.Y+Fe.ja]=Fe.gd[Je.$b][Je.Za],Fe.wa[Fe.Y+Fe.ja].La|=!wt),nt.Ka)return Vn(Re,7,"Premature end-of-file encountered.")}if(Ll(Re),Fe=ct,nt=1,Je=(Te=Re).D,rt=0<Te.L&&Te.M>=Te.zb&&Te.M<=Te.Va,Te.Aa==0)e:{if(Je.M=Te.M,Je.uc=rt,lu(Te,Je),nt=1,Je=(ir=Te.D).Nb,rt=(gr=nd[Te.L])*Te.R,Bt=gr/2*Te.B,Wr=16*Je*Te.R,os=8*Je*Te.B,wt=Te.sa,Vt=Te.ta-rt+Wr,jt=Te.qa,at=Te.ra-Bt+os,Tr=Te.Ha,Fr=Te.Ia-Bt+os,Js=($r=ir.M)==0,Sr=$r>=Te.Va-1,Te.Aa==2&&lu(Te,ir),ir.uc)for(Zs=(Kn=Te).D.M,e(Kn.D.uc),ir=Kn.yb;ir<Kn.Hb;++ir){Pn=ir,xa=Zs;var Tn=(ls=(Hr=Kn).D).Nb;Jr=Hr.R;var ls=ls.wa[ls.Y+Pn],Ms=Hr.sa,Oa=Hr.ta+16*Tn*Jr+16*Pn,Si=ls.dd,Fn=ls.tc;if(Fn!=0)if(e(3<=Fn),Hr.L==1)0<Pn&&ol(Ms,Oa,Jr,Fn+4),ls.La&&Is(Ms,Oa,Jr,Fn),0<xa&&il(Ms,Oa,Jr,Fn+4),ls.La&&Xl(Ms,Oa,Jr,Fn);else{var Zn=Hr.B,oi=Hr.qa,ec=Hr.ra+8*Tn*Zn+8*Pn,dl=Hr.Ha,Hr=Hr.Ia+8*Tn*Zn+8*Pn;Tn=ls.ld,0<Pn&&(Kh(Ms,Oa,Jr,Fn+4,Si,Tn),Gc(oi,ec,dl,Hr,Zn,Fn+4,Si,Tn)),ls.La&&(ii(Ms,Oa,Jr,Fn,Si,Tn),bo(oi,ec,dl,Hr,Zn,Fn,Si,Tn)),0<xa&&(Kc(Ms,Oa,Jr,Fn+4,Si,Tn),Wc(oi,ec,dl,Hr,Zn,Fn+4,Si,Tn)),ls.La&&(Xc(Ms,Oa,Jr,Fn,Si,Tn),al(oi,ec,dl,Hr,Zn,Fn,Si,Tn))}}if(Te.ia&&alert("todo:DitherRow"),Fe.put!=null){if(ir=16*$r,$r=16*($r+1),Js?(Fe.y=Te.sa,Fe.O=Te.ta+Wr,Fe.f=Te.qa,Fe.N=Te.ra+os,Fe.ea=Te.Ha,Fe.W=Te.Ia+os):(ir-=gr,Fe.y=wt,Fe.O=Vt,Fe.f=jt,Fe.N=at,Fe.ea=Tr,Fe.W=Fr),Sr||($r-=gr),$r>Fe.o&&($r=Fe.o),Fe.F=null,Fe.J=null,Te.Fa!=null&&0<Te.Fa.length&&ir<$r&&(Fe.J=qh(Te,Fe,ir,$r-ir),Fe.F=Te.mb,Fe.F==null&&Fe.F.length==0)){nt=Vn(Te,3,"Could not decode alpha data.");break e}ir<Fe.j&&(gr=Fe.j-ir,ir=Fe.j,e(!(1&gr)),Fe.O+=Te.R*gr,Fe.N+=Te.B*(gr>>1),Fe.W+=Te.B*(gr>>1),Fe.F!=null&&(Fe.J+=Fe.width*gr)),ir<$r&&(Fe.O+=Fe.v,Fe.N+=Fe.v>>1,Fe.W+=Fe.v>>1,Fe.F!=null&&(Fe.J+=Fe.v),Fe.ka=ir-Fe.j,Fe.U=Fe.va-Fe.v,Fe.T=$r-ir,nt=Fe.put(Fe))}Je+1!=Te.Ic||Sr||(s(Te.sa,Te.ta-rt,wt,Vt+16*Te.R,rt),s(Te.qa,Te.ra-Bt,jt,at+8*Te.B,Bt),s(Te.Ha,Te.Ia-Bt,Tr,Fr+8*Te.B,Bt))}if(!nt)return Vn(Re,6,"Output aborted.")}return 1})(N,O)),O.bc!=null&&O.bc(O),$&=1}return $?(N.cb=0,$):0}function Ca(N,O,$,W,re){re=N[O+$+32*W]+(re>>3),N[O+$+32*W]=-256&re?0>re?0:255:re}function Xd(N,O,$,W,re,ae){Ca(N,O,0,$,W+re),Ca(N,O,1,$,W+ae),Ca(N,O,2,$,W-ae),Ca(N,O,3,$,W-re)}function Sa(N){return(20091*N>>16)+N}function Dc(N,O,$,W){var re,ae=0,oe=i(16);for(re=0;4>re;++re){var ce=N[O+0]+N[O+8],Ae=N[O+0]-N[O+8],xe=(35468*N[O+4]>>16)-Sa(N[O+12]),Ee=Sa(N[O+4])+(35468*N[O+12]>>16);oe[ae+0]=ce+Ee,oe[ae+1]=Ae+xe,oe[ae+2]=Ae-xe,oe[ae+3]=ce-Ee,ae+=4,O++}for(re=ae=0;4>re;++re)ce=(N=oe[ae+0]+4)+oe[ae+8],Ae=N-oe[ae+8],xe=(35468*oe[ae+4]>>16)-Sa(oe[ae+12]),Ca($,W,0,0,ce+(Ee=Sa(oe[ae+4])+(35468*oe[ae+12]>>16))),Ca($,W,1,0,Ae+xe),Ca($,W,2,0,Ae-xe),Ca($,W,3,0,ce-Ee),ae++,W+=32}function Dh(N,O,$,W){var re=N[O+0]+4,ae=35468*N[O+4]>>16,oe=Sa(N[O+4]),ce=35468*N[O+1]>>16;Xd($,W,0,re+oe,N=Sa(N[O+1]),ce),Xd($,W,1,re+ae,N,ce),Xd($,W,2,re-ae,N,ce),Xd($,W,3,re-oe,N,ce)}function Mh(N,O,$,W,re){Dc(N,O,$,W),re&&Dc(N,O+16,$,W+4)}function Rl(N,O,$,W){nl(N,O+0,$,W,1),nl(N,O+32,$,W+128,1)}function eg(N,O,$,W){var re;for(N=N[O+0]+4,re=0;4>re;++re)for(O=0;4>O;++O)Ca($,W,O,re,N)}function Yd(N,O,$,W){N[O+0]&&Xs(N,O+0,$,W),N[O+16]&&Xs(N,O+16,$,W+4),N[O+32]&&Xs(N,O+32,$,W+128),N[O+48]&&Xs(N,O+48,$,W+128+4)}function Dr(N,O,$,W){var re,ae=i(16);for(re=0;4>re;++re){var oe=N[O+0+re]+N[O+12+re],ce=N[O+4+re]+N[O+8+re],Ae=N[O+4+re]-N[O+8+re],xe=N[O+0+re]-N[O+12+re];ae[0+re]=oe+ce,ae[8+re]=oe-ce,ae[4+re]=xe+Ae,ae[12+re]=xe-Ae}for(re=0;4>re;++re)oe=(N=ae[0+4*re]+3)+ae[3+4*re],ce=ae[1+4*re]+ae[2+4*re],Ae=ae[1+4*re]-ae[2+4*re],xe=N-ae[3+4*re],$[W+0]=oe+ce>>3,$[W+16]=xe+Ae>>3,$[W+32]=oe-ce>>3,$[W+48]=xe-Ae>>3,W+=64}function Jd(N,O,$){var W,re=O-32,ae=pa,oe=255-N[re-1];for(W=0;W<$;++W){var ce,Ae=ae,xe=oe+N[O-1];for(ce=0;ce<$;++ce)N[O+ce]=Ae[xe+N[re+ce]];O+=32}}function Nm(N,O){Jd(N,O,4)}function Lh(N,O){Jd(N,O,8)}function _m(N,O){Jd(N,O,16)}function mo(N,O){var $;for($=0;16>$;++$)s(N,O+32*$,N,O-32,16)}function Mc(N,O){var $;for($=16;0<$;--$)a(N,O,N[O-1],16),O+=32}function Ul(N,O,$){var W;for(W=0;16>W;++W)a(O,$+32*W,N,16)}function Lc(N,O){var $,W=16;for($=0;16>$;++$)W+=N[O-1+32*$]+N[O+$-32];Ul(W>>5,N,O)}function En(N,O){var $,W=8;for($=0;16>$;++$)W+=N[O-1+32*$];Ul(W>>4,N,O)}function fo(N,O){var $,W=8;for($=0;16>$;++$)W+=N[O+$-32];Ul(W>>4,N,O)}function zi(N,O){Ul(128,N,O)}function er(N,O,$){return N+2*O+$+2>>2}function Rc(N,O){var $,W=O-32;for(W=new Uint8Array([er(N[W-1],N[W+0],N[W+1]),er(N[W+0],N[W+1],N[W+2]),er(N[W+1],N[W+2],N[W+3]),er(N[W+2],N[W+3],N[W+4])]),$=0;4>$;++$)s(N,O+32*$,W,0,W.length)}function po(N,O){var $=N[O-1],W=N[O-1+32],re=N[O-1+64],ae=N[O-1+96];_e(N,O+0,16843009*er(N[O-1-32],$,W)),_e(N,O+32,16843009*er($,W,re)),_e(N,O+64,16843009*er(W,re,ae)),_e(N,O+96,16843009*er(re,ae,ae))}function go(N,O){var $,W=4;for($=0;4>$;++$)W+=N[O+$-32]+N[O-1+32*$];for(W>>=3,$=0;4>$;++$)a(N,O+32*$,W,4)}function Rh(N,O){var $=N[O-1+0],W=N[O-1+32],re=N[O-1+64],ae=N[O-1-32],oe=N[O+0-32],ce=N[O+1-32],Ae=N[O+2-32],xe=N[O+3-32];N[O+0+96]=er(W,re,N[O-1+96]),N[O+1+96]=N[O+0+64]=er($,W,re),N[O+2+96]=N[O+1+64]=N[O+0+32]=er(ae,$,W),N[O+3+96]=N[O+2+64]=N[O+1+32]=N[O+0+0]=er(oe,ae,$),N[O+3+64]=N[O+2+32]=N[O+1+0]=er(ce,oe,ae),N[O+3+32]=N[O+2+0]=er(Ae,ce,oe),N[O+3+0]=er(xe,Ae,ce)}function Ql(N,O){var $=N[O+1-32],W=N[O+2-32],re=N[O+3-32],ae=N[O+4-32],oe=N[O+5-32],ce=N[O+6-32],Ae=N[O+7-32];N[O+0+0]=er(N[O+0-32],$,W),N[O+1+0]=N[O+0+32]=er($,W,re),N[O+2+0]=N[O+1+32]=N[O+0+64]=er(W,re,ae),N[O+3+0]=N[O+2+32]=N[O+1+64]=N[O+0+96]=er(re,ae,oe),N[O+3+32]=N[O+2+64]=N[O+1+96]=er(ae,oe,ce),N[O+3+64]=N[O+2+96]=er(oe,ce,Ae),N[O+3+96]=er(ce,Ae,Ae)}function Zd(N,O){var $=N[O-1+0],W=N[O-1+32],re=N[O-1+64],ae=N[O-1-32],oe=N[O+0-32],ce=N[O+1-32],Ae=N[O+2-32],xe=N[O+3-32];N[O+0+0]=N[O+1+64]=ae+oe+1>>1,N[O+1+0]=N[O+2+64]=oe+ce+1>>1,N[O+2+0]=N[O+3+64]=ce+Ae+1>>1,N[O+3+0]=Ae+xe+1>>1,N[O+0+96]=er(re,W,$),N[O+0+64]=er(W,$,ae),N[O+0+32]=N[O+1+96]=er($,ae,oe),N[O+1+32]=N[O+2+96]=er(ae,oe,ce),N[O+2+32]=N[O+3+96]=er(oe,ce,Ae),N[O+3+32]=er(ce,Ae,xe)}function eu(N,O){var $=N[O+0-32],W=N[O+1-32],re=N[O+2-32],ae=N[O+3-32],oe=N[O+4-32],ce=N[O+5-32],Ae=N[O+6-32],xe=N[O+7-32];N[O+0+0]=$+W+1>>1,N[O+1+0]=N[O+0+64]=W+re+1>>1,N[O+2+0]=N[O+1+64]=re+ae+1>>1,N[O+3+0]=N[O+2+64]=ae+oe+1>>1,N[O+0+32]=er($,W,re),N[O+1+32]=N[O+0+96]=er(W,re,ae),N[O+2+32]=N[O+1+96]=er(re,ae,oe),N[O+3+32]=N[O+2+96]=er(ae,oe,ce),N[O+3+64]=er(oe,ce,Ae),N[O+3+96]=er(ce,Ae,xe)}function tu(N,O){var $=N[O-1+0],W=N[O-1+32],re=N[O-1+64],ae=N[O-1+96];N[O+0+0]=$+W+1>>1,N[O+2+0]=N[O+0+32]=W+re+1>>1,N[O+2+32]=N[O+0+64]=re+ae+1>>1,N[O+1+0]=er($,W,re),N[O+3+0]=N[O+1+32]=er(W,re,ae),N[O+3+32]=N[O+1+64]=er(re,ae,ae),N[O+3+64]=N[O+2+64]=N[O+0+96]=N[O+1+96]=N[O+2+96]=N[O+3+96]=ae}function Cm(N,O){var $=N[O-1+0],W=N[O-1+32],re=N[O-1+64],ae=N[O-1+96],oe=N[O-1-32],ce=N[O+0-32],Ae=N[O+1-32],xe=N[O+2-32];N[O+0+0]=N[O+2+32]=$+oe+1>>1,N[O+0+32]=N[O+2+64]=W+$+1>>1,N[O+0+64]=N[O+2+96]=re+W+1>>1,N[O+0+96]=ae+re+1>>1,N[O+3+0]=er(ce,Ae,xe),N[O+2+0]=er(oe,ce,Ae),N[O+1+0]=N[O+3+32]=er($,oe,ce),N[O+1+32]=N[O+3+64]=er(W,$,oe),N[O+1+64]=N[O+3+96]=er(re,W,$),N[O+1+96]=er(ae,re,W)}function tg(N,O){var $;for($=0;8>$;++$)s(N,O+32*$,N,O-32,8)}function Jo(N,O){var $;for($=0;8>$;++$)a(N,O,N[O-1],8),O+=32}function Vi(N,O,$){var W;for(W=0;8>W;++W)a(O,$+32*W,N,8)}function ni(N,O){var $,W=8;for($=0;8>$;++$)W+=N[O+$-32]+N[O-1+32*$];Vi(W>>4,N,O)}function ru(N,O){var $,W=4;for($=0;8>$;++$)W+=N[O+$-32];Vi(W>>3,N,O)}function Uc(N,O){var $,W=4;for($=0;8>$;++$)W+=N[O-1+32*$];Vi(W>>3,N,O)}function Uh(N,O){Vi(128,N,O)}function $l(N,O,$){var W=N[O-$],re=N[O+0],ae=3*(re-W)+wo[1020+N[O-2*$]-N[O+$]],oe=yu[112+(ae+4>>3)];N[O-$]=pa[255+W+yu[112+(ae+3>>3)]],N[O+0]=pa[255+re-oe]}function Qc(N,O,$,W){var re=N[O+0],ae=N[O+$];return _i[255+N[O-2*$]-N[O-$]]>W||_i[255+ae-re]>W}function nu(N,O,$,W){return 4*_i[255+N[O-$]-N[O+0]]+_i[255+N[O-2*$]-N[O+$]]<=W}function Qh(N,O,$,W,re){var ae=N[O-3*$],oe=N[O-2*$],ce=N[O-$],Ae=N[O+0],xe=N[O+$],Ee=N[O+2*$],He=N[O+3*$];return 4*_i[255+ce-Ae]+_i[255+oe-xe]>W?0:_i[255+N[O-4*$]-ae]<=re&&_i[255+ae-oe]<=re&&_i[255+oe-ce]<=re&&_i[255+He-Ee]<=re&&_i[255+Ee-xe]<=re&&_i[255+xe-Ae]<=re}function Ki(N,O,$,W){var re=2*W+1;for(W=0;16>W;++W)nu(N,O+W,$,re)&&$l(N,O+W,$)}function wi(N,O,$,W){var re=2*W+1;for(W=0;16>W;++W)nu(N,O+W*$,1,re)&&$l(N,O+W*$,1)}function ji(N,O,$,W){var re;for(re=3;0<re;--re)Ki(N,O+=4*$,$,W)}function Sm(N,O,$,W){var re;for(re=3;0<re;--re)wi(N,O+=4,$,W)}function Wi(N,O,$,W,re,ae,oe,ce){for(ae=2*ae+1;0<re--;){if(Qh(N,O,$,ae,oe))if(Qc(N,O,$,ce))$l(N,O,$);else{var Ae=N,xe=O,Ee=$,He=Ae[xe-2*Ee],qe=Ae[xe-Ee],Re=Ae[xe+0],ct=Ae[xe+Ee],Je=Ae[xe+2*Ee],Te=27*(nt=wo[1020+3*(Re-qe)+wo[1020+He-ct]])+63>>7,Fe=18*nt+63>>7,nt=9*nt+63>>7;Ae[xe-3*Ee]=pa[255+Ae[xe-3*Ee]+nt],Ae[xe-2*Ee]=pa[255+He+Fe],Ae[xe-Ee]=pa[255+qe+Te],Ae[xe+0]=pa[255+Re-Te],Ae[xe+Ee]=pa[255+ct-Fe],Ae[xe+2*Ee]=pa[255+Je-nt]}O+=W}}function Ba(N,O,$,W,re,ae,oe,ce){for(ae=2*ae+1;0<re--;){if(Qh(N,O,$,ae,oe))if(Qc(N,O,$,ce))$l(N,O,$);else{var Ae=N,xe=O,Ee=$,He=Ae[xe-Ee],qe=Ae[xe+0],Re=Ae[xe+Ee],ct=yu[112+((Je=3*(qe-He))+4>>3)],Je=yu[112+(Je+3>>3)],Te=ct+1>>1;Ae[xe-2*Ee]=pa[255+Ae[xe-2*Ee]+Te],Ae[xe-Ee]=pa[255+He+Je],Ae[xe+0]=pa[255+qe-ct],Ae[xe+Ee]=pa[255+Re-Te]}O+=W}}function su(N,O,$,W,re,ae){Wi(N,O,$,1,16,W,re,ae)}function is(N,O,$,W,re,ae){Wi(N,O,1,$,16,W,re,ae)}function Hl(N,O,$,W,re,ae){var oe;for(oe=3;0<oe;--oe)Ba(N,O+=4*$,$,1,16,W,re,ae)}function ql(N,O,$,W,re,ae){var oe;for(oe=3;0<oe;--oe)Ba(N,O+=4,1,$,16,W,re,ae)}function $c(N,O,$,W,re,ae,oe,ce){Wi(N,O,re,1,8,ae,oe,ce),Wi($,W,re,1,8,ae,oe,ce)}function $h(N,O,$,W,re,ae,oe,ce){Wi(N,O,1,re,8,ae,oe,ce),Wi($,W,1,re,8,ae,oe,ce)}function Hc(N,O,$,W,re,ae,oe,ce){Ba(N,O+4*re,re,1,8,ae,oe,ce),Ba($,W+4*re,re,1,8,ae,oe,ce)}function au(N,O,$,W,re,ae,oe,ce){Ba(N,O+4,1,re,8,ae,oe,ce),Ba($,W+4,1,re,8,ae,oe,ce)}function xo(){this.ba=new sr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function iu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bm(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new T}function rg(){this.xb=this.a=0,this.l=new Gd,this.ca=new sr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bm,this.ab=0,this.gc=o(4,iu),this.Oc=0}function ou(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zo(N,O,$,W,re,ae,oe){for(N=N==null?0:N[O+0],O=0;O<oe;++O)re[ae+O]=N+$[W+O]&255,N=re[ae+O]}function Hh(N,O,$,W,re,ae,oe){var ce;if(N==null)Zo(null,null,$,W,re,ae,oe);else for(ce=0;ce<oe;++ce)re[ae+ce]=N[O+ce]+$[W+ce]&255}function Vl(N,O,$,W,re,ae,oe){if(N==null)Zo(null,null,$,W,re,ae,oe);else{var ce,Ae=N[O+0],xe=Ae,Ee=Ae;for(ce=0;ce<oe;++ce)xe=Ee+(Ae=N[O+ce])-xe,Ee=$[W+ce]+(-256&xe?0>xe?0:255:xe)&255,xe=Ae,re[ae+ce]=Ee}}function qh(N,O,$,W){var re=O.width,ae=O.o;if(e(N!=null&&O!=null),0>$||0>=W||$+W>ae)return null;if(!N.Cc){if(N.ga==null){var oe;if(N.ga=new ou,(oe=N.ga==null)||(oe=O.width*O.o,e(N.Gb.length==0),N.Gb=i(oe),N.Uc=0,N.Gb==null?oe=0:(N.mb=N.Gb,N.nb=N.Uc,N.rc=null,oe=1),oe=!oe),!oe){oe=N.ga;var ce=N.Fa,Ae=N.P,xe=N.qc,Ee=N.mb,He=N.nb,qe=Ae+1,Re=xe-1,ct=oe.l;if(e(ce!=null&&Ee!=null&&O!=null),Ys[0]=null,Ys[1]=Zo,Ys[2]=Hh,Ys[3]=Vl,oe.ca=Ee,oe.tb=He,oe.c=O.width,oe.i=O.height,e(0<oe.c&&0<oe.i),1>=xe)O=0;else if(oe.$a=ce[Ae+0]>>0&3,oe.Z=ce[Ae+0]>>2&3,oe.Lc=ce[Ae+0]>>4&3,Ae=ce[Ae+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||Ae)O=0;else if(ct.put=pt,ct.ac=Gt,ct.bc=de,ct.ma=oe,ct.width=O.width,ct.height=O.height,ct.Da=O.Da,ct.v=O.v,ct.va=O.va,ct.j=O.j,ct.o=O.o,oe.$a)e:{e(oe.$a==1),O=ti();t:for(;;){if(O==null){O=0;break e}if(e(oe!=null),oe.mc=O,O.c=oe.c,O.i=oe.i,O.l=oe.l,O.l.ma=oe,O.l.width=oe.c,O.l.height=oe.i,O.a=0,G(O.m,ce,qe,Re),!Ao(oe.c,oe.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&ha(O.s)?(oe.ic=1,ce=O.c*O.i,O.Ta=null,O.Ua=0,O.V=i(ce),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(oe.ic=0,O=Dl(O,oe.c)),!O))break t;O=1;break e}oe.mc=null,O=0}else O=Re>=oe.c*oe.i;oe=!O}if(oe)return null;N.ga.Lc!=1?N.Ga=0:W=ae-$}e(N.ga!=null),e($+W<=ae);e:{if(O=(ce=N.ga).c,ae=ce.l.o,ce.$a==0){if(qe=N.rc,Re=N.Vc,ct=N.Fa,Ae=N.P+1+$*O,xe=N.mb,Ee=N.nb+$*O,e(Ae<=N.P+N.qc),ce.Z!=0)for(e(Ys[ce.Z]!=null),oe=0;oe<W;++oe)Ys[ce.Z](qe,Re,ct,Ae,xe,Ee,O),qe=xe,Re=Ee,Ee+=O,Ae+=O;else for(oe=0;oe<W;++oe)s(xe,Ee,ct,Ae,O),qe=xe,Re=Ee,Ee+=O,Ae+=O;N.rc=qe,N.Vc=Re}else{if(e(ce.mc!=null),O=$+W,e((oe=ce.mc)!=null),e(O<=oe.i),oe.C>=O)O=1;else if(ce.ic||$e(),ce.ic){ce=oe.V,qe=oe.Ba,Re=oe.c;var Je=oe.i,Te=(ct=1,Ae=oe.$/Re,xe=oe.$%Re,Ee=oe.m,He=oe.s,oe.$),Fe=Re*Je,nt=Re*O,rt=He.wc,at=Te<nt?Ue(He,xe,Ae):null;e(Te<=Fe),e(O<=Je),e(ha(He));t:for(;;){for(;!Ee.h&&Te<nt;){if(xe&rt||(at=Ue(He,xe,Ae)),e(at!=null),se(Ee),256>(Je=et(at.G[0],at.H[0],Ee)))ce[qe+Te]=Je,++Te,++xe>=Re&&(xe=0,++Ae<=O&&!(Ae%16)&&Hi(oe,Ae));else{if(!(280>Je)){ct=0;break t}Je=Qe(Je-256,Ee);var Bt,wt=et(at.G[4],at.H[4],Ee);if(se(Ee),!(Te>=(wt=Le(Re,wt=Qe(wt,Ee)))&&Fe-Te>=Je)){ct=0;break t}for(Bt=0;Bt<Je;++Bt)ce[qe+Te+Bt]=ce[qe+Te+Bt-wt];for(Te+=Je,xe+=Je;xe>=Re;)xe-=Re,++Ae<=O&&!(Ae%16)&&Hi(oe,Ae);Te<nt&&xe&rt&&(at=Ue(He,xe,Ae))}e(Ee.h==te(Ee))}Hi(oe,Ae>O?O:Ae);break t}!ct||Ee.h&&Te<Fe?(ct=0,oe.a=Ee.h?5:3):oe.$=Te,O=ct}else O=Os(oe,oe.V,oe.Ba,oe.c,oe.i,O,kc);if(!O){W=0;break e}}$+W>=ae&&(N.Cc=1),W=1}if(!W)return null;if(N.Cc&&((W=N.ga)!=null&&(W.mc=null),N.ga=null,0<N.Ga))return alert("todo:WebPDequantizeLevels"),null}return N.nb+$*re}function R(N,O,$,W,re,ae){for(;0<re--;){var oe,ce=N,Ae=O+($?1:0),xe=N,Ee=O+($?0:3);for(oe=0;oe<W;++oe){var He=xe[Ee+4*oe];He!=255&&(He*=32897,ce[Ae+4*oe+0]=ce[Ae+4*oe+0]*He>>23,ce[Ae+4*oe+1]=ce[Ae+4*oe+1]*He>>23,ce[Ae+4*oe+2]=ce[Ae+4*oe+2]*He>>23)}O+=ae}}function ne(N,O,$,W,re){for(;0<W--;){var ae;for(ae=0;ae<$;++ae){var oe=N[O+2*ae+0],ce=15&(xe=N[O+2*ae+1]),Ae=4369*ce,xe=(240&xe|xe>>4)*Ae>>16;N[O+2*ae+0]=(240&oe|oe>>4)*Ae>>16&240|(15&oe|oe<<4)*Ae>>16>>4&15,N[O+2*ae+1]=240&xe|ce}O+=re}}function be(N,O,$,W,re,ae,oe,ce){var Ae,xe,Ee=255;for(xe=0;xe<re;++xe){for(Ae=0;Ae<W;++Ae){var He=N[O+Ae];ae[oe+4*Ae]=He,Ee&=He}O+=$,oe+=ce}return Ee!=255}function Be(N,O,$,W,re){var ae;for(ae=0;ae<re;++ae)$[W+ae]=N[O+ae]>>8}function $e(){Ea=R,an=ne,Vr=be,Un=Be}function tt(N,O,$){S[N]=function(W,re,ae,oe,ce,Ae,xe,Ee,He,qe,Re,ct,Je,Te,Fe,nt,rt){var at,Bt=rt-1>>1,wt=ce[Ae+0]|xe[Ee+0]<<16,Vt=He[qe+0]|Re[ct+0]<<16;e(W!=null);var jt=3*wt+Vt+131074>>2;for(O(W[re+0],255&jt,jt>>16,Je,Te),ae!=null&&(jt=3*Vt+wt+131074>>2,O(ae[oe+0],255&jt,jt>>16,Fe,nt)),at=1;at<=Bt;++at){var Tr=ce[Ae+at]|xe[Ee+at]<<16,Fr=He[qe+at]|Re[ct+at]<<16,Sr=wt+Tr+Vt+Fr+524296,gr=Sr+2*(Tr+Vt)>>3;jt=gr+wt>>1,wt=(Sr=Sr+2*(wt+Fr)>>3)+Tr>>1,O(W[re+2*at-1],255&jt,jt>>16,Je,Te+(2*at-1)*$),O(W[re+2*at-0],255&wt,wt>>16,Je,Te+(2*at-0)*$),ae!=null&&(jt=Sr+Vt>>1,wt=gr+Fr>>1,O(ae[oe+2*at-1],255&jt,jt>>16,Fe,nt+(2*at-1)*$),O(ae[oe+2*at+0],255&wt,wt>>16,Fe,nt+(2*at+0)*$)),wt=Tr,Vt=Fr}1&rt||(jt=3*wt+Vt+131074>>2,O(W[re+rt-1],255&jt,jt>>16,Je,Te+(rt-1)*$),ae!=null&&(jt=3*Vt+wt+131074>>2,O(ae[oe+rt-1],255&jt,jt>>16,Fe,nt+(rt-1)*$)))}}function ut(){Pa[km]=I2,Pa[Yl]=Jl,Pa[uy]=D2,Pa[Gh]=ju,Pa[Xh]=td,Pa[on]=tA,Pa[Pm]=ig,Pa[bu]=Jl,Pa[Jc]=ju,Pa[Yh]=td,Pa[Jh]=tA}function Ct(N){return N&-16384?0>N?0:255:N>>Zl}function qt(N,O){return Ct((19077*N>>8)+(26149*O>>8)-14234)}function Ar(N,O,$){return Ct((19077*N>>8)-(6419*O>>8)-(13320*$>>8)+8708)}function dr(N,O){return Ct((19077*N>>8)+(33050*O>>8)-17685)}function Cr(N,O,$,W,re){W[re+0]=qt(N,$),W[re+1]=Ar(N,O,$),W[re+2]=dr(N,O)}function kn(N,O,$,W,re){W[re+0]=dr(N,O),W[re+1]=Ar(N,O,$),W[re+2]=qt(N,$)}function Ln(N,O,$,W,re){var ae=Ar(N,O,$);O=ae<<3&224|dr(N,O)>>3,W[re+0]=248&qt(N,$)|ae>>5,W[re+1]=O}function Yn(N,O,$,W,re){var ae=240&dr(N,O)|15;W[re+0]=240&qt(N,$)|Ar(N,O,$)>>4,W[re+1]=ae}function Ws(N,O,$,W,re){W[re+0]=255,Cr(N,O,$,W,re+1)}function bs(N,O,$,W,re){kn(N,O,$,W,re),W[re+3]=255}function Gi(N,O,$,W,re){Cr(N,O,$,W,re),W[re+3]=255}function si(N,O){return 0>N?0:N>O?O:N}function Ni(N,O,$){S[N]=function(W,re,ae,oe,ce,Ae,xe,Ee,He){for(var qe=Ee+(-2&He)*$;Ee!=qe;)O(W[re+0],ae[oe+0],ce[Ae+0],xe,Ee),O(W[re+1],ae[oe+0],ce[Ae+0],xe,Ee+$),re+=2,++oe,++Ae,Ee+=2*$;1&He&&O(W[re+0],ae[oe+0],ce[Ae+0],xe,Ee)}}function Kl(N,O,$){return $==0?N==0?O==0?6:5:O==0?4:0:$}function zh(N,O,$,W,re){switch(N>>>30){case 3:nl(O,$,W,re,0);break;case 2:Mr(O,$,W,re);break;case 1:Xs(O,$,W,re)}}function lu(N,O){var $,W,re=O.M,ae=O.Nb,oe=N.oc,ce=N.pc+40,Ae=N.oc,xe=N.pc+584,Ee=N.oc,He=N.pc+600;for($=0;16>$;++$)oe[ce+32*$-1]=129;for($=0;8>$;++$)Ae[xe+32*$-1]=129,Ee[He+32*$-1]=129;for(0<re?oe[ce-1-32]=Ae[xe-1-32]=Ee[He-1-32]=129:(a(oe,ce-32-1,127,21),a(Ae,xe-32-1,127,9),a(Ee,He-32-1,127,9)),W=0;W<N.za;++W){var qe=O.ya[O.aa+W];if(0<W){for($=-1;16>$;++$)s(oe,ce+32*$-4,oe,ce+32*$+12,4);for($=-1;8>$;++$)s(Ae,xe+32*$-4,Ae,xe+32*$+4,4),s(Ee,He+32*$-4,Ee,He+32*$+4,4)}var Re=N.Gd,ct=N.Hd+W,Je=qe.ad,Te=qe.Hc;if(0<re&&(s(oe,ce-32,Re[ct].y,0,16),s(Ae,xe-32,Re[ct].f,0,8),s(Ee,He-32,Re[ct].ea,0,8)),qe.Za){var Fe=oe,nt=ce-32+16;for(0<re&&(W>=N.za-1?a(Fe,nt,Re[ct].y[15],4):s(Fe,nt,Re[ct+1].y,0,4)),$=0;4>$;$++)Fe[nt+128+$]=Fe[nt+256+$]=Fe[nt+384+$]=Fe[nt+0+$];for($=0;16>$;++$,Te<<=2)Fe=oe,nt=ce+og[$],Ci[qe.Ob[$]](Fe,nt),zh(Te,Je,16*+$,Fe,nt)}else if(Fe=Kl(W,re,qe.Ob[0]),ga[Fe](oe,ce),Te!=0)for($=0;16>$;++$,Te<<=2)zh(Te,Je,16*+$,oe,ce+og[$]);for($=qe.Gc,Fe=Kl(W,re,qe.Dd),ka[Fe](Ae,xe),ka[Fe](Ee,He),Te=Je,Fe=Ae,nt=xe,255&(qe=$>>0)&&(170&qe?sl(Te,256,Fe,nt):ai(Te,256,Fe,nt)),qe=Ee,Te=He,255&($>>=8)&&(170&$?sl(Je,320,qe,Te):ai(Je,320,qe,Te)),re<N.Ub-1&&(s(Re[ct].y,0,oe,ce+480,16),s(Re[ct].f,0,Ae,xe+224,8),s(Re[ct].ea,0,Ee,He+224,8)),$=8*ae*N.B,Re=N.sa,ct=N.ta+16*W+16*ae*N.R,Je=N.qa,qe=N.ra+8*W+$,Te=N.Ha,Fe=N.Ia+8*W+$,$=0;16>$;++$)s(Re,ct+$*N.R,oe,ce+32*$,16);for($=0;8>$;++$)s(Je,qe+$*N.B,Ae,xe+32*$,8),s(Te,Fe+$*N.B,Ee,He+32*$,8)}}function qc(N,O,$,W,re,ae,oe,ce,Ae){var xe=[0],Ee=[0],He=0,qe=Ae!=null?Ae.kd:0,Re=Ae??new zl;if(N==null||12>$)return 7;Re.data=N,Re.w=O,Re.ha=$,O=[O],$=[$],Re.gb=[Re.gb];e:{var ct=O,Je=$,Te=Re.gb;if(e(N!=null),e(Je!=null),e(Te!=null),Te[0]=0,12<=Je[0]&&!r(N,ct[0],"RIFF")){if(r(N,ct[0]+8,"WEBP")){Te=3;break e}var Fe=Ve(N,ct[0]+4);if(12>Fe||4294967286<Fe){Te=3;break e}if(qe&&Fe>Je[0]-8){Te=7;break e}Te[0]=Fe,ct[0]+=12,Je[0]-=12}Te=0}if(Te!=0)return Te;for(Fe=0<Re.gb[0],$=$[0];;){e:{var nt=N;Je=O,Te=$;var rt=xe,at=Ee,Bt=ct=[0];if((jt=He=[He])[0]=0,8>Te[0])Te=7;else{if(!r(nt,Je[0],"VP8X")){if(Ve(nt,Je[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var wt=Ve(nt,Je[0]+8),Vt=1+ye(nt,Je[0]+12);if(2147483648<=Vt*(nt=1+ye(nt,Je[0]+15))){Te=3;break e}Bt!=null&&(Bt[0]=wt),rt!=null&&(rt[0]=Vt),at!=null&&(at[0]=nt),Je[0]+=18,Te[0]-=18,jt[0]=1}Te=0}}if(He=He[0],ct=ct[0],Te!=0)return Te;if(Je=!!(2&ct),!Fe&&He)return 3;if(ae!=null&&(ae[0]=!!(16&ct)),oe!=null&&(oe[0]=Je),ce!=null&&(ce[0]=0),oe=xe[0],ct=Ee[0],He&&Je&&Ae==null){Te=0;break}if(4>$){Te=7;break}if(Fe&&He||!Fe&&!He&&!r(N,O[0],"ALPH")){$=[$],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{wt=N,Te=O,Fe=$;var jt=Re.gb;rt=Re.na,at=Re.P,Bt=Re.Sa,Vt=22,e(wt!=null),e(Fe!=null),nt=Te[0];var Tr=Fe[0];for(e(rt!=null),e(Bt!=null),rt[0]=null,at[0]=null,Bt[0]=0;;){if(Te[0]=nt,Fe[0]=Tr,8>Tr){Te=7;break e}var Fr=Ve(wt,nt+4);if(4294967286<Fr){Te=3;break e}var Sr=8+Fr+1&-2;if(Vt+=Sr,0<jt&&Vt>jt){Te=3;break e}if(!r(wt,nt,"VP8 ")||!r(wt,nt,"VP8L")){Te=0;break e}if(Tr[0]<Sr){Te=7;break e}r(wt,nt,"ALPH")||(rt[0]=wt,at[0]=nt+8,Bt[0]=Fr),nt+=Sr,Tr-=Sr}}if($=$[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Te!=0)break}$=[$],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(jt=N,Te=O,Fe=$,rt=Re.gb[0],at=Re.Ja,Bt=Re.xa,wt=Te[0],nt=!r(jt,wt,"VP8 "),Vt=!r(jt,wt,"VP8L"),e(jt!=null),e(Fe!=null),e(at!=null),e(Bt!=null),8>Fe[0])Te=7;else{if(nt||Vt){if(jt=Ve(jt,wt+4),12<=rt&&jt>rt-12){Te=3;break e}if(qe&&jt>Fe[0]-8){Te=7;break e}at[0]=jt,Te[0]+=8,Fe[0]-=8,Bt[0]=Vt}else Bt[0]=5<=Fe[0]&&jt[wt+0]==47&&!(jt[wt+4]>>5),at[0]=Fe[0];Te=0}if($=$[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],O=O[0],Te!=0)break;if(4294967286<Re.Ja)return 3;if(ce==null||Je||(ce[0]=Re.xa?2:1),oe=[oe],ct=[ct],Re.xa){if(5>$){Te=7;break}ce=oe,qe=ct,Je=ae,N==null||5>$?N=0:5<=$&&N[O+0]==47&&!(N[O+4]>>5)?(Fe=[0],jt=[0],rt=[0],G(at=new q,N,O,$),je(at,Fe,jt,rt)?(ce!=null&&(ce[0]=Fe[0]),qe!=null&&(qe[0]=jt[0]),Je!=null&&(Je[0]=rt[0]),N=1):N=0):N=0}else{if(10>$){Te=7;break}ce=ct,N==null||10>$||!wm(N,O+3,$-3)?N=0:(qe=N[O+0]|N[O+1]<<8|N[O+2]<<16,Je=16383&(N[O+7]<<8|N[O+6]),N=16383&(N[O+9]<<8|N[O+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Re.Ja||!Je||!N?N=0:(oe&&(oe[0]=Je),ce&&(ce[0]=N),N=1))}if(!N||(oe=oe[0],ct=ct[0],He&&(xe[0]!=oe||Ee[0]!=ct)))return 3;Ae!=null&&(Ae[0]=Re,Ae.offset=O-Ae.w,e(4294967286>O-Ae.w),e(Ae.offset==Ae.ha-$));break}return Te==0||Te==7&&He&&Ae==null?(ae!=null&&(ae[0]|=Re.na!=null&&0<Re.na.length),W!=null&&(W[0]=oe),re!=null&&(re[0]=ct),0):Te}function cu(N,O,$){var W=O.width,re=O.height,ae=0,oe=0,ce=W,Ae=re;if(O.Da=N!=null&&0<N.Da,O.Da&&(ce=N.cd,Ae=N.bd,ae=N.v,oe=N.j,11>$||(ae&=-2,oe&=-2),0>ae||0>oe||0>=ce||0>=Ae||ae+ce>W||oe+Ae>re))return 0;if(O.v=ae,O.j=oe,O.va=ae+ce,O.o=oe+Ae,O.U=ce,O.T=Ae,O.da=N!=null&&0<N.da,O.da){if(!Me(ce,Ae,$=[N.ib],ae=[N.hb]))return 0;O.ib=$[0],O.hb=ae[0]}return O.ob=N!=null&&N.ob,O.Kb=N==null||!N.Sd,O.da&&(O.ob=O.ib<3*W/4&&O.hb<3*re/4,O.Kb=0),1}function du(N){if(N==null)return 2;if(11>N.S){var O=N.f.RGBA;O.fb+=(N.height-1)*O.A,O.A=-O.A}else O=N.f.kb,N=N.height,O.O+=(N-1)*O.fa,O.fa=-O.fa,O.N+=(N-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(N-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(N-1)*O.lb,O.lb=-O.lb);return 0}function zc(N,O,$,W){if(W==null||0>=N||0>=O)return 2;if($!=null){if($.Da){var re=$.cd,ae=$.bd,oe=-2&$.v,ce=-2&$.j;if(0>oe||0>ce||0>=re||0>=ae||oe+re>N||ce+ae>O)return 2;N=re,O=ae}if($.da){if(!Me(N,O,re=[$.ib],ae=[$.hb]))return 2;N=re[0],O=ae[0]}}W.width=N,W.height=O;e:{var Ae=W.width,xe=W.height;if(N=W.S,0>=Ae||0>=xe||!(N>=km&&13>N))N=2;else{if(0>=W.Rd&&W.sd==null){oe=ae=re=O=0;var Ee=(ce=Ae*rA[N])*xe;if(11>N||(ae=(xe+1)/2*(O=(Ae+1)/2),N==12&&(oe=(re=Ae)*xe)),(xe=i(Ee+2*ae+oe))==null){N=1;break e}W.sd=xe,11>N?((Ae=W.f.RGBA).eb=xe,Ae.fb=0,Ae.A=ce,Ae.size=Ee):((Ae=W.f.kb).y=xe,Ae.O=0,Ae.fa=ce,Ae.Fd=Ee,Ae.f=xe,Ae.N=0+Ee,Ae.Ab=O,Ae.Cd=ae,Ae.ea=xe,Ae.W=0+Ee+ae,Ae.Db=O,Ae.Ed=ae,N==12&&(Ae.F=xe,Ae.J=0+Ee+2*ae),Ae.Tc=oe,Ae.lb=re)}if(O=1,re=W.S,ae=W.width,oe=W.height,re>=km&&13>re)if(11>re)N=W.f.RGBA,O&=(ce=Math.abs(N.A))*(oe-1)+ae<=N.size,O&=ce>=ae*rA[re],O&=N.eb!=null;else{N=W.f.kb,ce=(ae+1)/2,Ee=(oe+1)/2,Ae=Math.abs(N.fa),xe=Math.abs(N.Ab);var He=Math.abs(N.Db),qe=Math.abs(N.lb),Re=qe*(oe-1)+ae;O&=Ae*(oe-1)+ae<=N.Fd,O&=xe*(Ee-1)+ce<=N.Cd,O=(O&=He*(Ee-1)+ce<=N.Ed)&Ae>=ae&xe>=ce&He>=ce,O&=N.y!=null,O&=N.f!=null,O&=N.ea!=null,re==12&&(O&=qe>=ae,O&=Re<=N.Tc,O&=N.F!=null)}else O=0;N=O?0:2}}return N!=0||$!=null&&$.fd&&(N=du(W)),N}var Rn=64,uu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hu=24,Au=32,mu=8,Aa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(N){return N},S.Predictor2=function(N,O,$){return O[$+0]},S.Predictor3=function(N,O,$){return O[$+1]},S.Predictor4=function(N,O,$){return O[$-1]},S.Predictor5=function(N,O,$){return Oe(Oe(N,O[$+1]),O[$+0])},S.Predictor6=function(N,O,$){return Oe(N,O[$-1])},S.Predictor7=function(N,O,$){return Oe(N,O[$+0])},S.Predictor8=function(N,O,$){return Oe(O[$-1],O[$+0])},S.Predictor9=function(N,O,$){return Oe(O[$+0],O[$+1])},S.Predictor10=function(N,O,$){return Oe(Oe(N,O[$-1]),Oe(O[$+0],O[$+1]))},S.Predictor11=function(N,O,$){var W=O[$+0];return 0>=Ge(W>>24&255,N>>24&255,(O=O[$-1])>>24&255)+Ge(W>>16&255,N>>16&255,O>>16&255)+Ge(W>>8&255,N>>8&255,O>>8&255)+Ge(255&W,255&N,255&O)?W:N},S.Predictor12=function(N,O,$){var W=O[$+0];return(dt((N>>24&255)+(W>>24&255)-((O=O[$-1])>>24&255))<<24|dt((N>>16&255)+(W>>16&255)-(O>>16&255))<<16|dt((N>>8&255)+(W>>8&255)-(O>>8&255))<<8|dt((255&N)+(255&W)-(255&O)))>>>0},S.Predictor13=function(N,O,$){var W=O[$-1];return(_t((N=Oe(N,O[$+0]))>>24&255,W>>24&255)<<24|_t(N>>16&255,W>>16&255)<<16|_t(N>>8&255,W>>8&255)<<8|_t(N>>0&255,W>>0&255))>>>0};var Vc=S.PredictorAdd0;S.PredictorAdd1=Ce,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var el=S.PredictorAdd2;zt("ColorIndexInverseTransform","MapARGB","32b",(function(N){return N>>8&255}),(function(N){return N})),zt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(N){return N}),(function(N){return N>>8&255}));var Em,ma=S.ColorIndexInverseTransform,fu=S.MapARGB,Vh=S.VP8LColorIndexInverseTransformAlpha,pu=S.MapAlpha,yo=S.VP8LPredictorsAdd=[];yo.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Wl,fa,Gs,Gl,tl,rl,gu,nl,Mr,sl,Xs,ai,Kc,Kh,Wc,Gc,Xc,ii,al,bo,il,ol,Xl,Is,Ea,an,Vr,Un,Jn=i(511),vo=i(2041),xu=i(225),Yc=i(767),Wh=0,wo=vo,yu=xu,pa=Yc,_i=Jn,km=0,Yl=1,uy=2,Gh=3,Xh=4,on=5,Pm=6,bu=7,Jc=8,Yh=9,Jh=10,Zh=[2,3,7],Tm=[3,3,11],Zc=[280,256,256,256,40],hy=[0,1,1,1,0],P2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],T2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ay=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fm=8,vu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ed=null,ng=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],sg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],my=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],fy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],F2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],O2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ag=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ga=[],Ci=[],ka=[],jo=1,wu=2,Ys=[],Pa=[];tt("UpsampleRgbLinePair",Cr,3),tt("UpsampleBgrLinePair",kn,3),tt("UpsampleRgbaLinePair",Gi,4),tt("UpsampleBgraLinePair",bs,4),tt("UpsampleArgbLinePair",Ws,4),tt("UpsampleRgba4444LinePair",Yn,2),tt("UpsampleRgb565LinePair",Ln,2);var I2=S.UpsampleRgbLinePair,D2=S.UpsampleBgrLinePair,Jl=S.UpsampleRgbaLinePair,ju=S.UpsampleBgraLinePair,td=S.UpsampleArgbLinePair,tA=S.UpsampleRgba4444LinePair,ig=S.UpsampleRgb565LinePair,ll=16,Xi=1<<ll-1,Kr=-227,Yr=482,Zl=6,Ds=0,Ta=i(256),rd=i(256),Nu=i(256),Fa=i(256),Om=i(Yr-Kr),py=i(Yr-Kr);Ni("YuvToRgbRow",Cr,3),Ni("YuvToBgrRow",kn,3),Ni("YuvToRgbaRow",Gi,4),Ni("YuvToBgraRow",bs,4),Ni("YuvToArgbRow",Ws,4),Ni("YuvToRgba4444Row",Yn,2),Ni("YuvToRgb565Row",Ln,2);var og=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nd=[0,2,8],gy=[8,7,6,4,4,2,2,2,1,1,1,1],cl=1;this.WebPDecodeRGBA=function(N,O,$,W,re){var ae=Yl,oe=new xo,ce=new sr;oe.ba=ce,ce.S=ae,ce.width=[ce.width],ce.height=[ce.height];var Ae=ce.width,xe=ce.height,Ee=new ve;if(Ee==null||N==null)var He=2;else e(Ee!=null),He=qc(N,O,$,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if(He!=0?Ae=0:(Ae!=null&&(Ae[0]=Ee.width[0]),xe!=null&&(xe[0]=Ee.height[0]),Ae=1),Ae){ce.width=ce.width[0],ce.height=ce.height[0],W!=null&&(W[0]=ce.width),re!=null&&(re[0]=ce.height);e:{if(W=new Gd,(re=new zl).data=N,re.w=O,re.ha=$,re.kd=1,O=[0],e(re!=null),((N=qc(re.data,re.w,re.ha,null,null,null,O,null,re))==0||N==7)&&O[0]&&(N=4),(O=N)==0){if(e(oe!=null),W.data=re.data,W.w=re.w+re.offset,W.ha=re.ha-re.offset,W.put=pt,W.ac=Gt,W.bc=de,W.ma=oe,re.xa){if((N=ti())==null){oe=1;break e}if((function(qe,Re){var ct=[0],Je=[0],Te=[0];t:for(;;){if(qe==null)return 0;if(Re==null)return qe.a=2,0;if(qe.l=Re,qe.a=0,G(qe.m,Re.data,Re.w,Re.ha),!je(qe.m,ct,Je,Te)){qe.a=3;break t}if(qe.xb=wu,Re.width=ct[0],Re.height=Je[0],!Ao(ct[0],Je[0],1,qe,null))break t;return 1}return e(qe.a!=0),0})(N,W)){if(W=(O=zc(W.width,W.height,oe.Oa,oe.ba))==0){t:{W=N;r:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e(($=W.l)!=null),e((re=$.ma)!=null),W.xb!=0){if(W.ca=re.ba,W.tb=re.tb,e(W.ca!=null),!cu(re.Oa,$,Gh)){W.a=2;break r}if(!Dl(W,$.width)||$.da)break r;if(($.da||wr(W.ca.S))&&$e(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&$e()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!st(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!Os(W,W.V,W.Ba,W.c,W.i,$.o,sn))break r;re.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(O=N.a)}else O=N.a}else{if((N=new ri)==null){oe=1;break e}if(N.Fa=re.na,N.P=re.P,N.qc=re.Sa,jm(N,W)){if((O=zc(W.width,W.height,oe.Oa,oe.ba))==0){if(N.Aa=0,$=oe.Oa,e((re=N)!=null),$!=null){if(0<(Ae=0>(Ae=$.Md)?0:100<Ae?255:255*Ae/100)){for(xe=Ee=0;4>xe;++xe)12>(He=re.pb[xe]).lc&&(He.ia=Ae*gy[0>He.lc?0:He.lc]>>3),Ee|=He.ia;Ee&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=$.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}Ic(N,W)||(O=N.a)}}else O=N.a}O==0&&oe.Oa!=null&&oe.Oa.fd&&(O=du(oe.ba))}oe=O}ae=oe!=0?null:11>ae?ce.f.RGBA.eb:ce.f.kb.y}else ae=null;return ae};var rA=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(S,k){for(var I="",_=0;_<4;_++)I+=String.fromCharCode(S[k++]);return I}function u(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16)>>>0}function h(S,k){return(S[k+0]<<0|S[k+1]<<8|S[k+2]<<16|S[k+3]<<24)>>>0}new c;var m=[0],f=[0],b=[],y=new c,g=t,x=(function(S,k){var I={},_=0,T=!1,D=0,L=0;if(I.frames=[],!(function(U,te,X,se){for(var fe=0;fe<se;fe++)if(U[te+fe]!=X.charCodeAt(fe))return!0;return!1})(S,k,"RIFF",4)){var V,z;for(h(S,k+=4),k+=8;k<S.length;){var Z=d(S,k),G=h(S,k+=4);k+=4;var H=G+(1&G);switch(Z){case"VP8 ":case"VP8L":I.frames[_]===void 0&&(I.frames[_]={}),(q=I.frames[_]).src_off=T?L:k-8,q.src_size=D+G+8,_++,T&&(T=!1,D=0,L=0);break;case"VP8X":(q=I.header={}).feature_flags=S[k];var ee=k+4;q.canvas_width=1+u(S,ee),ee+=3,q.canvas_height=1+u(S,ee),ee+=3;break;case"ALPH":T=!0,D=H+8,L=k-8;break;case"ANIM":(q=I.header).bgcolor=h(S,k),ee=k+4,q.loop_count=(V=S)[(z=ee)+0]<<0|V[z+1]<<8,ee+=2;break;case"ANMF":var Y,q;(q=I.frames[_]={}).offset_x=2*u(S,k),k+=3,q.offset_y=2*u(S,k),k+=3,q.width=1+u(S,k),k+=3,q.height=1+u(S,k),k+=3,q.duration=u(S,k),k+=3,Y=S[k++],q.dispose=1&Y,q.blend=Y>>1&1}Z!="ANMF"&&(k+=H)}return I}})(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,j=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,m=[v.canvas_height],f=[v.canvas_width];for(var B=0;B<j.length&&j[B].blend!=0;B++);}var C=j[0],E=y.WebPDecodeRGBA(g,C.src_off,C.src_size,f,m);C.rgba=E,C.imgwidth=f[0],C.imgheight=m[0];for(var M=0;M<f[0]*m[0]*4;M++)b[M]=E[M];return this.width=f,this.height=m,this.data=b,this}(function(t){var e=function(){return typeof $S=="function"},r=function(m,f,b,y){var g=4,x=o;switch(y){case t.image_compression.FAST:g=1,x=i;break;case t.image_compression.MEDIUM:g=6,x=l;break;case t.image_compression.SLOW:g=9,x=c}m=s(m,f,b,x);var v=$S(m,{level:g});return t.__addimage__.arrayBufferToBinaryString(v)},s=function(m,f,b,y){for(var g,x,v,j=m.length/f,B=new Uint8Array(m.length+j),C=u(),E=0;E<j;E+=1){if(v=E*f,g=m.subarray(v,v+f),y)B.set(y(g,b,x),v+E);else{for(var M,S=C.length,k=[];M<S;M+=1)k[M]=C[M](g,b,x);var I=h(k.concat());B.set(k[I],v+E)}x=g}return B},a=function(m){var f=Array.apply([],m);return f.unshift(0),f},i=function(m,f){var b,y=[],g=m.length;y[0]=1;for(var x=0;x<g;x+=1)b=m[x-f]||0,y[x+1]=m[x]-b+256&255;return y},o=function(m,f,b){var y,g=[],x=m.length;g[0]=2;for(var v=0;v<x;v+=1)y=b&&b[v]||0,g[v+1]=m[v]-y+256&255;return g},l=function(m,f,b){var y,g,x=[],v=m.length;x[0]=3;for(var j=0;j<v;j+=1)y=m[j-f]||0,g=b&&b[j]||0,x[j+1]=m[j]+256-(y+g>>>1)&255;return x},c=function(m,f,b){var y,g,x,v,j=[],B=m.length;j[0]=4;for(var C=0;C<B;C+=1)y=m[C-f]||0,g=b&&b[C]||0,x=b&&b[C-f]||0,v=d(y,g,x),j[C+1]=m[C]-v+256&255;return j},d=function(m,f,b){if(m===f&&f===b)return m;var y=Math.abs(f-b),g=Math.abs(m-b),x=Math.abs(m+f-b-b);return y<=g&&y<=x?m:g<=x?f:b},u=function(){return[a,i,o,l,c]},h=function(m){var f=m.map((function(b){return b.reduce((function(y,g){return y+Math.abs(g)}),0)}));return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(m,f,b,y){var g,x,v,j,B,C,E,M,S,k,I,_,T,D,L,V=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(v=new ide(m)).imgData,x=v.bits,g=v.colorSpace,B=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){S=(M=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,I=new Uint8Array(S*v.colors),k=new Uint8Array(S);var Z,G=v.pixelBitlength-v.bits;for(D=0,L=0;D<S;D++){for(T=M[D],Z=0;Z<G;)I[L++]=T>>>Z&255,Z+=v.bits;k[D]=T>>>Z&255}}if(v.bits===16){S=(M=new Uint32Array(v.decodePixels().buffer)).length,I=new Uint8Array(S*(32/v.pixelBitlength)*v.colors),k=new Uint8Array(S*(32/v.pixelBitlength)),_=v.colors>1,D=0,L=0;for(var H=0;D<S;)T=M[D++],I[L++]=T>>>0&255,_&&(I[L++]=T>>>16&255,T=M[D++],I[L++]=T>>>0&255),k[H++]=T>>>16&255;x=8}y!==t.image_compression.NONE&&e()?(m=r(I,v.width*v.colors,v.colors,y),E=r(k,v.width,1,y)):(m=I,E=k,V=void 0)}if(v.colorType===3&&(g=this.color_spaces.INDEXED,C=v.palette,v.transparency.indexed)){var ee=v.transparency.indexed,Y=0;for(D=0,S=ee.length;D<S;++D)Y+=ee[D];if((Y/=255)===S-1&&ee.indexOf(0)!==-1)j=[ee.indexOf(0)];else if(Y!==S){for(M=v.decodePixels(),k=new Uint8Array(M.length),D=0,S=M.length;D<S;D++)k[D]=ee[M[D]];E=r(k,v.width,1)}}var q=(function(U){var te;switch(U){case t.image_compression.FAST:te=11;break;case t.image_compression.MEDIUM:te=13;break;case t.image_compression.SLOW:te=14;break;default:te=12}return te})(y);return V===this.decode.FLATE_DECODE&&(z="/Predictor "+q+" "),z+="/Colors "+B+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:b,data:m,index:f,filter:V,decodeParameters:z,transparency:j,palette:C,sMask:E,predictor:q,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:g}}}})(Kt.API),(function(t){t.processGIF89A=function(e,r,s,a){var i=new ode(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new aN(100).encode(d,100);return t.processJPEG.call(this,u,r,s,a)},t.processGIF87A=t.processGIF89A})(Kt.API),bl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},bl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){xn.log("bit decode error:"+r)}},bl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},bl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},bl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},bl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},bl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},bl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},bl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},bl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,s,a){var i=new bl(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new aN(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(Kt.API),uO.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,s,a){var i=new uO(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new aN(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(Kt.API),Kt.API.processRGBA=function(t,e,r){for(var s=t.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],m=s[d+2],f=s[d+3];i[l++]=u,i[l++]=h,i[l++]=m,o[c++]=f}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},cf=Kt.API,ob=cf.getCharWidthsArray=function(t,e){var r,s,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,m=0,f=t.length,b=0,y=l[0]||c,g=[];for(r=0;r<f;r++)s=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(m=h&&hn(d[s])==="object"&&!isNaN(parseInt(d[s][b],10))?d[s][b]/u:0,g.push((l[s]||y)/c+m)),b=s;return g},oO=cf.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return cf.processArabic&&(t=cf.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,a)/r:ob.apply(this,arguments).reduce((function(i,o){return i+o}),0)},lO=function(t,e,r,s){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>s&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},cO=function(t,e,r){r||(r={});var s,a,i,o,l,c,d,u=[],h=[u],m=r.textIndent||0,f=0,b=0,y=t.split(" "),g=ob.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),v=[];y.map((function(B){(B=B.split(/\s*\n/)).length>1?v=v.concat(B.map((function(C,E){return(E&&C.length?`
`:"")+C}))):v.push(B[0])})),y=v,c=oO.apply(this,[x,r])}for(i=0,o=y.length;i<o;i++){var j=0;if(s=y[i],c&&s[0]==`
`&&(s=s.substr(1),j=1),m+f+(b=(a=ob.apply(this,[s,r])).reduce((function(B,C){return B+C}),0))>e||j){if(b>e){for(l=lO.apply(this,[s,a,e-(m+f),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);b=a.slice(s.length-(u[0]?u[0].length:0)).reduce((function(B,C){return B+C}),0)}else u=[s];h.push(u),m=b+c,f=g}else u.push(s),m+=f+b,f=g}return d=c?function(B,C){return(C?x:"")+B.join(" ")}:function(B){return B.join(" ")},h.map(d)},cf.splitTextToSize=function(t,e,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(cO.apply(this,[s[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},s={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=e[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var m,f,b,y,g=["{"];for(var x in h){if(m=h[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=i(x).slice(2)).slice(0,-1)+s[f.slice(-1)]),typeof m=="number")m<0?(b=i(m).slice(3),y="-"):(b=i(m).slice(2),y=""),b=y+b.slice(0,-1)+s[b.slice(-1)];else{if(hn(m)!=="object")throw new Error("Don't know what to do with value type "+hn(m)+".");b=o(m)}g.push(f+b)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,f,b,y,g={},x=1,v=g,j=[],B="",C="",E=h.length-1,M=1;M<E;M+=1)(y=h[M])=="'"?m?(b=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(j.push([v,b]),v={},b=void 0):y=="}"?((f=j.pop())[0][f[1]]=v,b=void 0,v=f[0]):y=="-"?x=-1:b===void 0?r.hasOwnProperty(y)?(B+=r[y],b=parseInt(B,16)*x,x=1,B=""):B+=y:r.hasOwnProperty(y)?(C+=r[y],v[b]=parseInt(C,16)*x,x=1,b=void 0,C=""):C+=y;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var m=h.font,f=u.Unicode[m.postScriptName];f&&(m.metadata.Unicode={},m.metadata.Unicode.widths=f.widths,m.metadata.Unicode.kerning=f.kerning);var b=d.Unicode[m.postScriptName];b&&(m.metadata.Unicode.encoding=b,m.encoding=b.codePages[0])}])})(Kt.API),(function(t){var e=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(m0(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(Kt),(function(t){function e(){return(ar.canvg?Promise.resolve(ar.canvg):yh(()=>import("./index.es--cIlFbUN.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Kt.API.addSvgAsImage=function(r,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then((function(b){return b.fromString(h,r,m)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(b){return b.render(m)})).then((function(){f.addImage(u.toDataURL("image/jpeg",1),s,a,i,o,c,d)}))}})(),Kt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,r);return this},Kt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function m(b,y){var g,x=!1;for(g=0;g<b.length;g+=1)b[g]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=l.length;for(h=0;h<f;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(hn(t)==="object"){for(a in t)if(i=t[a],m(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Kt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,m=i.length;h<m;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,m=(l=Object.keys(i).sort((function(f,b){return f-b}))).length;h<m;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),f="",b=0;b<m.length;b++)f+=String.fromCharCode(m[b]);var y=d();u({data:f,addLength1:!0,objectId:y}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_f(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var v=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+_f(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+_f(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,m="",f=0;f<h.length;f++)m+=String.fromCharCode(h[f]);var b=d();u({data:m,addLength1:!0,objectId:b}),c("endobj");var y=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var g=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+_f(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+_f(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},m=h.pdfEscape,f=h.activeFontKey,b=h.fonts,y=f,g="",x=0,v="",j=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(v=l,y=f,Array.isArray(l)&&(v=l[0]),x=0;x<v.length;x+=1)b[y].metadata.hasOwnProperty("cmap")&&(o=b[y].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),o||v[x].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?g+=v[x]:g+="";var B="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?B=m(g,y).split("").map((function(C){return C.charCodeAt(0).toString(16)})).join(""):j==="Identity-H"&&(B=r(g,b[y])),h.isHex=!0,{text:B,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(Kt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return e.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Kt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,j=0;this.__bidiEngine__={};var B=function(_){var T=_.charCodeAt(),D=T>>8,L=y[D];return L!==void 0?h[256*L+(255&T)]:D===252||D===253?"AL":x.test(D)?"L":D===8?"R":"N"},C=function(_){for(var T,D=0;D<_.length;D++){if((T=B(_.charAt(D)))==="L")return!1;if(T==="R")return!0}return!1},E=function(_,T,D,L){var V,z,Z,G,H=T[L];switch(H){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(H="AN");break;case"AL":v=!0,H="R";break;case"WS":H="N";break;case"CS":L<1||L+1>=T.length||(V=D[L-1])!=="EN"&&V!=="AN"||(z=T[L+1])!=="EN"&&z!=="AN"?H="N":v&&(z="AN"),H=z===V?z:"N";break;case"ES":H=(V=L>0?D[L-1]:"B")==="EN"&&L+1<T.length&&T[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&D[L-1]==="EN"){H="EN";break}if(v){H="N";break}for(Z=L+1,G=T.length;Z<G&&T[Z]==="ET";)Z++;H=Z<G&&T[Z]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(G=T.length,Z=L+1;Z<G&&T[Z]==="NSM";)Z++;if(Z<G){var ee=_[L],Y=ee>=1425&&ee<=2303||ee===64286;if(V=T[Z],Y&&(V==="R"||V==="AL")){H="R";break}}}H=L<1||(V=T[L-1])==="B"?"N":D[L-1];break;case"B":v=!1,a=!0,H=j;break;case"S":i=!0,H="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":H="N"}return H},M=function(_,T,D){var L=_.split("");return D&&S(L,D,{hiLevel:j}),L.reverse(),T&&T.reverse(),L.join("")},S=function(_,T,D){var L,V,z,Z,G,H=-1,ee=_.length,Y=0,q=[],U=j?f:m,te=[];for(v=!1,a=!1,i=!1,V=0;V<ee;V++)te[V]=B(_[V]);for(z=0;z<ee;z++){if(G=Y,q[z]=E(_,te,q,z),L=240&(Y=U[G][b[q[z]]]),Y&=15,T[z]=Z=U[Y][5],L>0)if(L===16){for(V=H;V<z;V++)T[V]=1;H=-1}else H=-1;if(U[Y][6])H===-1&&(H=z);else if(H>-1){for(V=H;V<z;V++)T[V]=Z;H=-1}te[z]==="B"&&(T[z]=0),D.hiLevel|=Z}i&&(function(X,se,fe){for(var me=0;me<fe;me++)if(X[me]==="S"){se[me]=j;for(var pe=me-1;pe>=0&&X[pe]==="WS";pe--)se[pe]=j}})(te,T,ee)},k=function(_,T,D,L,V){if(!(V.hiLevel<_)){if(_===1&&j===1&&!a)return T.reverse(),void(D&&D.reverse());for(var z,Z,G,H,ee=T.length,Y=0;Y<ee;){if(L[Y]>=_){for(G=Y+1;G<ee&&L[G]>=_;)G++;for(H=Y,Z=G-1;H<Z;H++,Z--)z=T[H],T[H]=T[Z],T[Z]=z,D&&(z=D[H],D[H]=D[Z],D[Z]=z);Y=G}Y++}}},I=function(_,T,D){var L=_.split(""),V={hiLevel:j};return D||(D=[]),S(L,D,V),(function(z,Z,G){if(G.hiLevel!==0&&u)for(var H,ee=0;ee<z.length;ee++)Z[ee]===1&&(H=g.indexOf(z[ee]))>=0&&(z[ee]=g[H+1])})(L,D,V),k(2,L,T,D,V),k(1,L,T,D,V),L.join("")};return this.__bidiEngine__.doBidiReorder=function(_,T,D){if((function(V,z){if(z)for(var Z=0;Z<V.length;Z++)z[Z]=Z;l===void 0&&(l=C(V)),d===void 0&&(d=C(V))})(_,T),o||!c||d)if(o&&c&&l^d)j=l?1:0,_=M(_,T,D);else if(!o&&c&&d)j=l?1:0,_=I(_,T,D),_=M(_,T);else if(!o||l||c||d){if(o&&!c&&l^d)_=M(_,T),l?(j=0,_=I(_,T,D)):(j=1,_=I(_,T,D),_=M(_,T));else if(o&&l&&!c&&d)j=1,_=I(_,T,D),_=M(_,T);else if(!o&&!c&&l^d){var L=u;l?(j=1,_=I(_,T,D),j=0,u=!1,_=I(_,T,D),u=L):(j=0,_=I(_,T,D),_=M(_,T),j=1,u=!1,_=I(_,T,D),u=L,_=M(_,T))}}else j=0,_=I(_,T,D);else j=l?1:0,_=I(_,T,D);return _},this.__bidiEngine__.setOptions=function(_){_&&(o=_.isInputVisual,c=_.isOutputVisual,l=_.isInputRtl,d=_.isOutputRtl,u=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Kt),Kt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new vh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new wde(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new lde(this.contents),this.head=new dde(this),this.name=new fde(this),this.cmap=new GH(this),this.toUnicode={},this.hhea=new ude(this),this.maxp=new pde(this),this.hmtx=new gde(this),this.post=new Ade(this),this.os2=new hde(this),this.loca=new vde(this),this.glyf=new xde(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,s){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t})();var Fl,vh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,s;for(s=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var r,s,a;for(a=[],r=0,s=e.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,s,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,s;return r=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,s;for(r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(e){var r,s,a,i;for(i=[],s=0,a=e.length;s<a;s++)r=e[s],i.push(this.writeByte(r));return i},t})(),lde=(function(){var t;function e(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(r){var s,a,i,o,l,c,d,u,h,m,f,b,y;for(y in f=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(f)/c),o=Math.floor(h/c),u=16*f-h,(a=new vh).writeInt(this.scalarType),a.writeShort(f),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*f,d=a.pos+i,l=null,b=[],r)for(m=r[y],a.writeString(y),a.writeInt(t(m)),a.writeInt(d),a.writeInt(m.length),b=b.concat(m),y==="head"&&(l=d),d+=m.length;d%4;)b.push(0),d++;return a.write(b),s=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(s),a.data},t=function(r){var s,a,i,o;for(r=XH.call(r);r.length%4;)r.push(0);for(i=new vh(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},e})(),cde={}.hasOwnProperty,_c=function(t,e){for(var r in e)cde.call(e,r)&&(t[r]=e[r]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Fl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var dde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var s;return(s=new vh).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},e})(),hO=(function(){function t(e,r){var s,a,i,o,l,c,d,u,h,m,f,b,y,g,x,v,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),m=f/2,e.pos+=6,i=(function(){var B,C;for(C=[],c=B=0;0<=m?B<m:B>m;c=0<=m?++B:--B)C.push(e.readUInt16());return C})(),e.pos+=2,y=(function(){var B,C;for(C=[],c=B=0;0<=m?B<m:B>m;c=0<=m?++B:--B)C.push(e.readUInt16());return C})(),d=(function(){var B,C;for(C=[],c=B=0;0<=m?B<m:B>m;c=0<=m?++B:--B)C.push(e.readUInt16());return C})(),u=(function(){var B,C;for(C=[],c=B=0;0<=m?B<m:B>m;c=0<=m?++B:--B)C.push(e.readUInt16());return C})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var B,C;for(C=[],c=B=0;0<=a?B<a:B>a;c=0<=a?++B:--B)C.push(e.readUInt16());return C})(),c=x=0,j=i.length;x<j;c=++x)for(g=i[c],s=v=b=y[c];b<=g?v<=g:v>=g;s=b<=g?++v:--v)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-b)-(m-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}e.pos=h}return t.encode=function(e,r){var s,a,i,o,l,c,d,u,h,m,f,b,y,g,x,v,j,B,C,E,M,S,k,I,_,T,D,L,V,z,Z,G,H,ee,Y,q,U,te,X,se,fe,me,pe,_e,ge,ye;switch(L=new vh,o=Object.keys(e).sort((function(Ve,st){return Ve-st})),r){case"macroman":for(y=0,g=(function(){var Ve=[];for(b=0;b<256;++b)Ve.push(0);return Ve})(),v={0:0},i={},V=0,H=o.length;V<H;V++)v[pe=e[a=o[V]]]==null&&(v[pe]=++y),i[a]={old:e[a],new:v[e[a]]},g[a]=v[e[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(g),{charMap:i,subtable:L.data,maxGlyphID:y+1};case"unicode":for(T=[],h=[],j=0,v={},s={},x=d=null,z=0,ee=o.length;z<ee;z++)v[C=e[a=o[z]]]==null&&(v[C]=++j),s[a]={old:C,new:v[C]},l=v[C]-a,x!=null&&l===d||(x&&h.push(x),T.push(a),d=l),x=a;for(x&&h.push(x),h.push(65535),T.push(65535),I=2*(k=T.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),m=Math.log(S/2)/Math.LN2,M=2*k-S,c=[],E=[],f=[],b=Z=0,Y=T.length;Z<Y;b=++Z){if(_=T[b],u=h[b],_===65535){c.push(0),E.push(0);break}if(_-(D=s[_].new)>=32768)for(c.push(0),E.push(2*(f.length+k-b)),a=G=_;_<=u?G<=u:G>=u;a=_<=u?++G:--G)f.push(s[a].new);else c.push(D-_),E.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*k+2*f.length),L.writeUInt16(0),L.writeUInt16(I),L.writeUInt16(S),L.writeUInt16(m),L.writeUInt16(M),fe=0,q=h.length;fe<q;fe++)a=h[fe],L.writeUInt16(a);for(L.writeUInt16(0),me=0,U=T.length;me<U;me++)a=T[me],L.writeUInt16(a);for(_e=0,te=c.length;_e<te;_e++)l=c[_e],L.writeUInt16(l);for(ge=0,X=E.length;ge<X;ge++)B=E[ge],L.writeUInt16(B);for(ye=0,se=f.length;ye<se;ye++)y=f[ye],L.writeUInt16(y);return{charMap:s,subtable:L.data,maxGlyphID:j+1}}},t})(),GH=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="cmap",e.prototype.parse=function(r){var s,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new hO(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(r,s){var a,i;return s==null&&(s="macroman"),a=hO.encode(r,s),(i=new vh).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),ude=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),hde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var s,a;for(a=[],s=0;s<10;++s)a.push(r.readByte());return a})(),this.charRange=(function(){var s,a;for(a=[],s=0;s<4;++s)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),Ade=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="post",e.prototype.parse=function(r){var s,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)s=r.readByte(),i.push(this.names.push(r.readString(s)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e})(),mde=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},fde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="name",e.prototype.parse=function(r){var s,a,i,o,l,c,d,u,h,m,f;for(r.pos=this.offset,r.readShort(),s=r.readShort(),c=r.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=h=0,m=a.length;h<m;o=++h)i=a[o],r.pos=i.offset,u=r.readString(i.length),l=new mde(u,i),d[f=i.nameID]==null&&(d[f]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),pde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),gde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var s,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],s=u=0;0<=i?u<i:u>i;s=0<=i?++u:--u)h.push(r.readInt16());return h})(),this.widths=(function(){var u,h,m,f;for(f=[],u=0,h=(m=this.metrics).length;u<h;u++)o=m[u],f.push(o.advance);return f}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),XH=[].slice,xde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var s,a,i,o,l,c,d,u,h,m;return r in this.cache?this.cache[r]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+a,l=(c=new vh(s.read(i))).readShort(),u=c.readShort(),m=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new bde(c,u,m,d,h):new yde(c,l,u,m,d,h),this.cache[r]))},e.prototype.encode=function(r,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=r[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e})(),yde=(function(){function t(e,r,s,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),bde=(function(){function t(e,r,s,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,s;for(r=new vh(XH.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),vde=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return _c(e,Fl),e.prototype.tag="loca",e.prototype.parse=function(r){var s,a;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e})(),wde=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[r],e[r]=a[s];return e},t.prototype.glyphsFor=function(e){var r,s,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},t.prototype.encode=function(e,r){var s,a,i,o,l,c,d,u,h,m,f,b,y,g,x;for(a in s=GH.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},x=s.charMap)f[(c=x[a]).old]=c.new;for(b in m=s.maxGlyphID,o)b in f||(f[b]=m++);return u=(function(v){var j,B;for(j in B={},v)B[v[j]]=j;return B})(f),h=Object.keys(u).sort((function(v,j){return v-j})),y=(function(){var v,j,B;for(B=[],v=0,j=h.length;v<j;v++)l=h[v],B.push(u[l]);return B})(),i=this.font.glyf.encode(o,y,f),d=this.font.loca.encode(i.offsets,y),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();Kt.API.PDFObject=(function(){var t;function e(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},e.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function YH(t,e,r,s,a){s=s||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,h="",m=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(h=typeof t=="string"?t.split(u):t,m=h.length||1),r+=l*(2-i),s.valign==="middle"?r-=m/2*d:s.valign==="bottom"&&(r-=m*d),s.halign==="center"||s.halign==="right"){var f=l;if(s.halign==="center"&&(f*=.5),h&&m>=1){for(var b=0;b<h.length;b++)a.text(h[b],e-a.getStringUnitWidth(h[b])*f,r),r+=d;return a}e-=a.getStringUnitWidth(t)*f}return s.halign==="justify"?a.text(t,e,r,{maxWidth:s.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var AO={},Zf=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:AO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var s,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,s){return this.jsPDFDocument.splitTextToSize(e,r,s)},t.prototype.rect=function(e,r,s,a,i){return this.jsPDFDocument.rect(e,r,s,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return AO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),GS=function(t,e){return GS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},GS(t,e)};function JH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");GS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ZH=(function(t){JH(e,t);function e(r){var s=t.call(this)||this;return s._element=r,s}return e})(Array);function jde(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Nde(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Hv(t,e,r){r.applyStyles(e,!0);var s=Array.isArray(t)?t:[t],a=s.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function eq(t,e,r,s){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=tq(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),s.y-r.y,o)}function tq(t,e){var r=t>0,s=e||e===0;return r&&s?"DF":r?"S":s?"F":null}function w1(t,e){var r,s,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(s=t.top)!==null&&s!==void 0?s:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function rq(t,e){var r=w1(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function _de(t,e,r,s,a){var i={},o=1.3333333333333333,l=iN(e,function(j){return a.getComputedStyle(j).backgroundColor});l!=null&&(i.fillColor=l);var c=iN(e,function(j){return a.getComputedStyle(j).color});c!=null&&(i.textColor=c);var d=Sde(s,r);d&&(i.cellPadding=d);var u="borderTopColor",h=o*r,m=s.borderTopWidth;if(s.borderBottomWidth===m&&s.borderRightWidth===m&&s.borderLeftWidth===m){var f=(parseFloat(m)||0)/h;f&&(i.lineWidth=f)}else i.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/h,right:(parseFloat(s.borderRightWidth)||0)/h,bottom:(parseFloat(s.borderBottomWidth)||0)/h,left:(parseFloat(s.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var b=iN(e,function(j){return a.getComputedStyle(j)[u]});b!=null&&(i.lineColor=b);var y=["left","right","center","justify"];y.indexOf(s.textAlign)!==-1&&(i.halign=s.textAlign),y=["middle","bottom","top"],y.indexOf(s.verticalAlign)!==-1&&(i.valign=s.verticalAlign);var g=parseInt(s.fontSize||"");isNaN(g)||(i.fontSize=g/o);var x=Cde(s);x&&(i.fontStyle=x);var v=(s.fontFamily||"").toLowerCase();return t.indexOf(v)!==-1&&(i.font=v),i}function Cde(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function iN(t,e){var r=nq(t,e);if(!r)return null;var s=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var a=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],i=parseInt(s[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function nq(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:nq(t.parentElement,e):r}function Sde(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/s}),o=w1(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function sq(t,e,r,s,a){var i,o;s===void 0&&(s=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],m=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:m};for(var f=0;f<l.rows.length;f++){var b=l.rows[f],y=(o=(i=b?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),g=Bde(c,d,r,b,s,a);g&&(y==="thead"?u.push(g):y==="tfoot"?m.push(g):h.push(g))}return{head:u,body:h,foot:m}}function Bde(t,e,r,s,a,i){for(var o=new ZH(s),l=0;l<s.cells.length;l++){var c=s.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=_de(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Ede(c)})}}var h=r.getComputedStyle(s);if(o.length>0&&(a||h.display!=="none"))return o}function Ede(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function kde(t,e,r){for(var s=0,a=[t,e,r];s<a.length;s++){var i=a[s];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function bd(t,e,r,s,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function aq(t,e){var r=new Zf(t),s=r.getDocumentOptions(),a=r.getGlobalOptions();kde(a,s,e);var i=bd({},a,s,e),o;typeof window<"u"&&(o=window);var l=Pde(a,s,e),c=Tde(a,s,e),d=Fde(r,i),u=Ide(r,i,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function Pde(t,e,r){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],h=r[c];s.columnStyles=bd({},d,u,h)}else{var m=[t,e,r],f=m.map(function(b){return b[c]||{}});s[c]=bd({},f[0],f[1],f[2])}},i=0,o=Object.keys(s);i<o.length;i++){var l=o[i];a(l)}return s}function Tde(t,e,r){for(var s=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=s;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Fde(t,e){var r,s,a,i,o,l,c,d,u,h,m,f,b=w1(e.margin,40/t.scaleFactor()),y=(r=Ode(t,e.startY))!==null&&r!==void 0?r:b.top,g;e.showFoot===!0?g="everyPage":e.showFoot===!1?g="never":g=(s=e.showFoot)!==null&&s!==void 0?s:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var v=(i=e.useCss)!==null&&i!==void 0?i:!1,j=e.theme||(v?"plain":"striped"),B=!!e.horizontalPageBreak,C=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:v,theme:j,startY:y,margin:b,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:x,showFoot:g,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:B,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(f=e.horizontalPageBreakBehaviour)!==null&&f!==void 0?f:"afterAllRows"}}function Ode(t,e){var r=t.getLastAutoTable(),s=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/s:null}function Ide(t,e,r){var s=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=sq(t,e.html,r,o,e.useCss)||{};s=l.head||s,a=l.body||s,i=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Dde(s,a,i);return{columns:c,head:s,body:a,foot:i}}function Dde(t,e,r){var s=t[0]||e[0]||r[0]||[],a=[];return Object.keys(s).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(s)?l=s[parseInt(i)]:l=s[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(s)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var XS=(function(){function t(e,r,s){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=s,this.doc=e.getDocument()}return t})(),Mde=(function(t){JH(e,t);function e(r,s,a,i,o,l){var c=t.call(this,r,s,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e})(XS),Lde=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,s,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new Mde(e,this,s,a,i,o),h=d(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var s=0,a=this.hooks.didDrawPage;s<a.length;s++){var i=a[s];i(new XS(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var s=0,a=this.hooks.willDrawPage;s<a.length;s++){var i=a[s];i(new XS(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var s=this.settings.margin;return e-s.left-s.right}},t})(),iq=(function(){function t(e,r,s,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof ZH&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=s,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(s,a){var i;return Math.max(s,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(s){var a=r.cells[s.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var s=this;return e.reduce(function(a,i){var o=s.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},t})(),oq=(function(){function t(e,r,s){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=s,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");s=this.x+a/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var s=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=s*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=w1(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),Rde=(function(){function t(e,r,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=s}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,s=0,a=e.allRows();s<a.length;s++){var i=a[s],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function Ude(t,e){Qde(t,e);var r=[],s=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),s+=i.width});var a=e.getWidth(t.pageSize().width)-s;a&&(a=YS(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=YS(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Hde(e),qde(e,t),$de(e)}function Qde(t,e){var r=t.scaleFactor(),s=e.settings.horizontalPageBreak,a=rq(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=Hv(d.text,d.styles,t)+h;var m=Hv(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=m+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||s===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/r;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function YS(t,e,r){for(var s=e,a=t.reduce(function(f,b){return f+b.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=s*l,d=o.width+c,u=r(o),h=d<u?u:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(f){return e<0?f.width>r(f):!0});m.length&&(e=YS(m,e,r))}return e}function $de(t){for(var e={},r=1,s=t.allRows(),a=0;a<s.length;a++)for(var i=s[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=s.length-a,m=u.rowSpan>h?h:u.rowSpan;e[c.index]={cell:u,left:m,row:i}}}}}function Hde(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var s=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete s.cells[c.index];else if(a){var d=a;delete s.cells[c.index],a=null,d.width=c.width+i}else{var d=s.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function qde(t,e){for(var r={count:0,height:0},s=0,a=t.allRows();s<a.length;s++){for(var i=a[s],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=mO(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=mO(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<m*d.rowSpan?r={height:m,count:d.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>i.height&&(i.height=m)}}r.count--}}function mO(t,e,r,s,a){return t.map(function(i){return zde(i,e,r,s,a)})}function zde(t,e,r,s,a){var i=1e4*s.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Hv(t,r,s))return t;for(;e<Hv(t+a,r,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function lq(t,e){var r=new Zf(t),s=Vde(e,r.scaleFactor()),a=new Lde(e,s);return Ude(r,a),r.applyStyles(r.userStyles),a}function Vde(t,e){var r=t.content,s=Wde(r.columns);if(r.head.length===0){var a=fO(s,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=fO(s,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:s,head:oN("head",r.head,s,o,i,e),body:oN("body",r.body,s,o,i,e),foot:oN("foot",r.foot,s,o,i,e)}}function oN(t,e,r,s,a,i){var o={},l=e.map(function(c,d){for(var u=0,h={},m=0,f=0,b=0,y=r;b<y.length;b++){var g=y[b];if(o[g.index]==null||o[g.index].left===0)if(f===0){var x=void 0;Array.isArray(c)?x=c[g.index-m-u]:x=c[g.dataKey];var v={};typeof x=="object"&&!Array.isArray(x)&&(v=x?.styles||{});var j=Gde(t,g,d,a,s,i,v),B=new oq(x,j,t);h[g.dataKey]=B,h[g.index]=B,f=B.colSpan-1,o[g.index]={left:B.rowSpan-1,times:f}}else f--,m++;else o[g.index].left--,f=o[g.index].times,u++}return new iq(c,d,t,h)});return l}function fO(t,e){var r={};return t.forEach(function(s){if(s.raw!=null){var a=Kde(e,s.raw);a!=null&&(r[s.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Kde(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Wde(t){return t.map(function(e,r){var s,a;return typeof e=="object"?a=(s=e.dataKey)!==null&&s!==void 0?s:r:a=r,new Rde(a,e,r)})}function Gde(t,e,r,s,a,i,o){var l=Nde(s),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=bd({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},h=t==="body"?u:{},m=t==="body"&&r%2===0?bd({},l.alternateRow,a.alternateRowStyles):{},f=jde(i),b=bd({},f,d,m,h);return bd(b,o)}function Xde(t,e,r){var s;r===void 0&&(r={});var a=rq(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(m){var f=e.columns.find(function(b){return b.dataKey===m||b.index===m});f&&!i.has(f.index)&&(i.set(f.index,!0),o.push(f.index),l.push(e.columns[f.index]),a-=f.wrappedWidth)});for(var d=!0,u=(s=r?.start)!==null&&s!==void 0?s:0;u<e.columns.length;){if(i.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||a>=h)d=!1,o.push(u),l.push(e.columns[u]),a-=h;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function Yde(t,e){for(var r=[],s=0;s<e.columns.length;s++){var a=Xde(t,e,{start:s});a.columns.length&&(r.push(a),s=a.lastIndex)}return r}function cq(t,e){var r=e.settings,s=r.startY,a=r.margin,i={x:a.left,y:s},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=s+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(m,f){return m+f.height},0);l+=d}var u=new Zf(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(uq(u),i.y=a.top),e.callWillDrawPageHooks(u,i);var h=bd({},i);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?Jde(u,e,h,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(m){return Fd(u,e,m,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(m,f){var b=f===e.body.length-1;qv(u,e,m,b,h,i,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(m){return Fd(u,e,m,i,e.columns)})),eq(u,e,h,i),e.callEndPageHooks(u,i),e.finalY=i.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function Jde(t,e,r,s){var a=Yde(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?f0(t,e,r,s,d.columns,!0):pO(t,e,s,d.columns),Zde(t,e,r,s,d.columns),lN(t,e,s,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?f0(t,e,r,s,u,!0):pO(t,e,s,u),d=gO(t,e,o+1,s,u),lN(t,e,s,u)}var h=d-o;a.slice(1).forEach(function(m){t.applyStyles(t.userStyles),f0(t,e,r,s,m.columns,!0),gO(t,e,o+1,s,m.columns,h),lN(t,e,s,m.columns)}),o=d};o<e.body.length-1;)c()}function pO(t,e,r,s){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Fd(t,e,i,r,s)})}function Zde(t,e,r,s,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;qv(t,e,i,l,r,s,a)})}function gO(t,e,r,s,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,h=dq(t,e,u,s);c.canEntireRowFit(h,a)&&(Fd(t,e,c,s,a),l=r+d)}),l}function lN(t,e,r,s){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Fd(t,e,i,r,s)})}function eue(t,e,r){var s=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/s);return Math.max(0,i)}function tue(t,e,r,s){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new oq(d.raw,d.styles,d.section);u=bd(u,d),u.text=[];var h=eue(d,e,s);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var m=s.scaleFactor(),f=s.getLineHeightFactor();d.contentHeight=d.getContentHeight(m,f),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(m,f),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var b=new iq(t.raw,-1,t.section,a,!0);b.height=i;for(var y=0,g=r.columns;y<g.length;y++){var c=g[y],u=b.cells[c.index];u&&(u.height=b.height);var d=t.cells[c.index];d&&(d.height=t.height)}return b}function rue(t,e,r,s){var a=t.pageSize().height,i=s.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var c=e.getMinimumRowHeight(s.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(s.columns),h=e.getMaxCellHeight(s.columns)>l;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function qv(t,e,r,s,a,i,o){var l=dq(t,e,s,i);if(r.canEntireRowFit(l,o))Fd(t,e,r,i,o);else if(rue(t,r,l,e)){var c=tue(r,l,e,t);Fd(t,e,r,i,o),f0(t,e,a,i,o),qv(t,e,c,s,a,i,o)}else f0(t,e,a,i,o),qv(t,e,r,s,a,i,o)}function Fd(t,e,r,s,a){s.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){s.x+=l.width;continue}t.applyStyles(c.styles),c.x=s.x,c.y=s.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,s);if(d===!1){s.x+=l.width;continue}nue(t,c,s);var u=c.getTextPos();YH(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,s),s.x+=l.width}s.y+=r.height}function nue(t,e,r){var s=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var a=tq(s.lineWidth,s.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),sue(t,e,r,s.lineWidth))}function sue(t,e,r,s){var a,i,o,l;s.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.top,a,i,o,l)),s.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.bottom,a,i,o,l)),s.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.left,a,i,o,l)),s.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.right,a,i,o,l));function c(d,u,h,m,f){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,m,f,"S")}}function dq(t,e,r,s){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-s.y-a}function f0(t,e,r,s,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Fd(t,e,l,s,a)}),e.callEndPageHooks(t,s);var o=e.settings.margin;eq(t,e,r,s),uq(t),e.pageNumber++,s.x=o.left,s.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,s),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Fd(t,e,l,s,a)}),t.applyStyles(t.userStyles))}function uq(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function aue(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var s=e[0],a=aq(this,s),i=lq(this,a);return cq(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,s,a){YH(e,r,s,a,this)},t.API.autoTableSetDefaults=function(e){return Zf.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Zf.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var s;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Zf(this),i=sq(a,e,window,r,!1),o=i.head,l=i.body,c=((s=o[0])===null||s===void 0?void 0:s.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var cN;function hq(t,e){var r=aq(t,e),s=lq(t,r);cq(t,s)}try{if(typeof window<"u"&&window){var xO=window,yO=xO.jsPDF||((cN=xO.jspdf)===null||cN===void 0?void 0:cN.jsPDF);yO&&aue(yO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const ws={name:"Giartech Soluções",cnpj:"37.509.897/0001-93",address:"Rua Quito, 14",neighborhood:"Nossa Sra do Ó",city:"São Paulo",state:"SP",zip:"02734-010",phone:"(11) 5555-2560",email:"diretor@giartechsolucoes.com.br",website:"giartechsolucoes.com.br",instagram:"@giartech.soluções",pix:"37209897000193",owner:"Tiago Bruno Giaquinto",whatsapp:"(35) 1511-9666",bank_name:"CORA",bank_agency:"0001",bank_account:"1412009-3",account_type:"Corrente"},j1=async()=>{try{const{data:t}=await he.from("company_settings").select("*").limit(1).maybeSingle();if(t){const e=[t.address_street,t.address_number].filter(Boolean).join(", "),r=[t.address_street,t.address_number,t.address_neighborhood,t.address_city,t.address_state,t.address_zip&&`CEP: ${t.address_zip}`].filter(Boolean).join(", ");return{name:t.company_name||ws.name,cnpj:t.cnpj||ws.cnpj,address:e||ws.address,neighborhood:t.address_neighborhood||ws.neighborhood,city:t.address_city||ws.city,state:t.address_state||ws.state,zip:t.address_zip||ws.zip,phone:t.phone||ws.phone,email:t.email||ws.email,website:t.website||ws.website,instagram:t.instagram||ws.instagram,pix:t.pix_key||ws.pix,fullAddress:r,owner:t.owner_name||ws.owner,whatsapp:t.whatsapp||ws.whatsapp,bank_name:t.bank_name||ws.bank_name,bank_agency:t.bank_agency||ws.bank_agency,bank_account:t.bank_account||ws.bank_account,account_type:t.account_type||ws.account_type}}return ws}catch(t){return console.error("Error loading company info:",t),ws}};function iue(t,e){const r=e||t.service_catalog||{};return{service_catalog_id:t.service_catalog_id||r.id,service_name:t.service_name||r.name||t.descricao||t.description||"Serviço",description:t.descricao||t.description||r.description||"",service_description:t.service_description||r.description||"",scope:t.escopo_detalhado||t.escopo||t.scope||r.escopo_servico||"",service_scope:t.escopo_detalhado||t.escopo||r.escopo_servico||"",escopo_detalhado:t.escopo_detalhado||r.escopo_servico||"",technical_requirements:t.requisitos_tecnicos||r.requisitos_tecnicos||"",safety_warnings:t.avisos_seguranca||r.avisos_seguranca||"",execution_steps:t.passos_execucao||r.passos_execucao||"",expected_results:t.resultados_esperados||r.resultados_esperados||"",quality_standards:t.padroes_qualidade||r.padroes_qualidade||"",warranty_info:t.informacoes_garantia||r.informacoes_garantia||"",observations:t.observacoes_tecnicas||t.observacoes||r.observacoes_tecnicas||"",unit:t.unit||t.unidade||r.unit||"un.",unit_price:parseFloat(t.unit_price||t.preco_unitario||r.base_price||0),quantity:parseFloat(t.quantity||t.quantidade||1),total_price:parseFloat(t.total_price||t.preco_total||t.quantity*t.unit_price||0),estimated_duration:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0,tempo_estimado_minutos:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0,materials:t.materiais||t.materials||[],team:t.funcionarios||t.team||[]}}function JS(t){return!t||!Array.isArray(t)?[]:t.map(e=>iue(e,e.service_catalog))}function oue(t){let e=t.service_name||"Serviço";const r=t.service_description||t.description;r&&r!==e&&(e+=`
${r}`);const s=t.service_scope||t.scope||t.escopo_detalhado;s&&(e+=`

ESCOPO DO SERVIÇO:
${s}`),t.technical_requirements&&(e+=`

REQUISITOS TÉCNICOS:
${t.technical_requirements}`),t.safety_warnings&&(e+=`

⚠ AVISOS DE SEGURANÇA:
${t.safety_warnings}`),t.execution_steps&&(e+=`

PASSOS DE EXECUÇÃO:
${t.execution_steps}`),t.expected_results&&(e+=`

RESULTADOS ESPERADOS:
${t.expected_results}`),t.quality_standards&&(e+=`

PADRÕES DE QUALIDADE:
${t.quality_standards}`),t.warranty_info&&(e+=`

🛡 GARANTIA:
${t.warranty_info}`),t.observations&&(e+=`

OBSERVAÇÕES:
${t.observations}`);const a=t.estimated_duration||t.tempo_estimado_minutos;if(a&&a>0){const i=Math.floor(a/60),o=a%60;i>0&&o>0?e+=`

⏱ Tempo estimado: ${i}h ${o}min`:i>0?e+=`

⏱ Tempo estimado: ${i} hora${i>1?"s":""}`:e+=`

⏱ Tempo estimado: ${o} minutos`}return t.materials&&t.materials.length>0&&(e+=`

📦 MATERIAIS UTILIZADOS:`,t.materials.forEach(i=>{const o=i.nome||i.material_name||i.name||"Material",l=i.quantidade||i.quantity||1,c=i.unidade_medida||i.unit||"un",d=i.preco_venda||i.unit_price||i.preco_venda_unitario||0;e+=`
  • ${o} - ${l} ${c} - R$ ${d.toFixed(2)}`})),t.team&&t.team.length>0&&(e+=`

👷 EQUIPE RESPONSÁVEL:`,t.team.forEach(i=>{const o=i.nome||i.employee_name||i.name||"Funcionário",l=i.cargo||i.role||i.position||"";l?e+=`
  • ${o} (${l})`:e+=`
  • ${o}`})),e}const p0=async t=>{const e=await j1(),r=new Kt,s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=20;let o=15;const l=[15,86,125],c=[230,240,250],d=[51,51,51],u=[102,102,102],h=()=>new Promise(k=>{const I=new Image;I.crossOrigin="anonymous",I.onload=()=>{const _=document.createElement("canvas");_.width=I.width,_.height=I.height;const T=_.getContext("2d");T?(T.drawImage(I,0,0),k(_.toDataURL("image/jpeg",.9))):k("")},I.onerror=()=>{const _=new Image;_.crossOrigin="anonymous",_.onload=()=>{const T=document.createElement("canvas");T.width=_.width,T.height=_.height;const D=T.getContext("2d");D?(D.drawImage(_,0,0),k(T.toDataURL("image/jpeg",.9))):k("")},_.onerror=()=>k(""),_.src="/image.png"},I.src="/8.jpg"}),m=async k=>{const I=await h();if(I)try{r.addImage(I,"JPEG",i,o,40,40)}catch(L){console.error("Erro ao adicionar logo:",L)}r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(...l),r.text(e.name,i+45,o+5),r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d);let _=o+11;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i+45,_),_+=4,r.text(`CNPJ: ${e.cnpj}`,i+45,_),_+=4,r.text(e.address,i+45,_),_+=4,r.text(`${e.city}-${e.state}`,i+45,_),_+=4,r.text(`CEP ${e.zip||"02734-010"}`,i+45,_);const T=s-i;r.setFontSize(9),r.setTextColor(...d),r.setFontSize(8),r.setTextColor(...u),r.text("Data:",T-50,o+5),r.setTextColor(...d),r.text(new Date(t.date).toLocaleDateString("pt-BR"),T-5,o+5,{align:"right"});let D=o+11;r.setTextColor(...u),r.text("Email:",T-60,D),r.setTextColor(...d),r.text(e.email,T-5,D,{align:"right"}),D+=4,r.setTextColor(...u),r.text("Tel:",T-60,D),r.setTextColor(...d),r.text(e.phone,T-5,D,{align:"right"}),D+=4,e.instagram&&(r.setTextColor(...u),r.text("Instagram:",T-60,D),r.setTextColor(...d),r.text(e.instagram,T-5,D,{align:"right"}))},f=()=>{const k=a-18;r.setDrawColor(220,220,220),r.setLineWidth(.3),r.line(i,k,s-i,k),r.setFont("times","normal"),r.setFontSize(7),r.setTextColor(120,120,120);let I=k+3;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i,I),r.text(`Email: ${e.email}`,s-i,I,{align:"right"}),I+=3,r.text(`CNPJ: ${e.cnpj}`,i,I),r.text(`Tel: ${e.phone}`,s-i,I,{align:"right"}),I+=3,r.text(e.address,i,I),e.instagram&&r.text(`@${e.instagram}`,s-i,I,{align:"right"}),I+=3,r.text(`${e.city}-${e.state} - CEP ${e.zip||"02734-010"}`,i,I),r.text(e.website||"tgarconnection.com.br",s-i,I,{align:"right"})};if(await m(),o=60,r.setFont("times","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("Sua satisfação é o que motiva a nossa dedicação.",s/2,o,{align:"center"}),o+=10,r.setFillColor(...l),r.rect(i,o,s-2*i,15,"F"),r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(`Ordem de serviço ${t.order_number}`,i+5,o+7),t.title&&(r.setFont("times","normal"),r.setFontSize(11),r.text(t.title,i+5,o+12)),o+=20,r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...d),r.text(`Cliente: ${t.client.name}`,i,o),o+=6,r.setFont("times","normal"),r.setFontSize(9),t.client.company_name&&(r.text(t.client.company_name,i,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i,o),o+=4),t.client.address&&(r.text(t.client.address,i,o),o+=4,t.client.city&&(r.text(`${t.client.city}, ${t.client.state}-${t.client.state}`,i,o),o+=4),t.client.cep&&(r.text(`CEP ${t.client.cep}`,i,o),o+=4)),t.client.email&&(r.setFontSize(9),r.setTextColor(...u),r.text("Email:",i,o),r.setTextColor(...d),r.text(t.client.email,i+15,o),o+=4),t.client.phone&&(r.setFontSize(9),r.setTextColor(...u),r.text("Tel:",i,o),r.setTextColor(...d),r.text(t.client.phone,i+15,o),o+=4),o+=6,t.basic_info){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informações básicas",i+3,o+5.5),o+=12,r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d);const k=(s-2*i)/2;r.setFont("helvetica","bold"),r.text("Prazo de execução",i,o),r.text("Marca",i+k,o),o+=4,r.setFont("times","normal"),r.text(t.basic_info.deadline,i,o),t.basic_info.brand&&r.text(t.basic_info.brand,i+k,o),o+=6,r.setFont("helvetica","bold"),r.text("Modelo",i,o),r.text("Aparelho",i+k,o),o+=4,r.setFont("times","normal"),t.basic_info.model&&r.text(t.basic_info.model,i,o),t.basic_info.equipment&&r.text(t.basic_info.equipment,i+k,o),o+=8}r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Serviços",i+3,o+5.5),o+=12;const b=[],y=[];t.items.forEach(k=>{const I=oue(k),_=k.service_description?.toLowerCase().includes("material")||k.service_description?.toLowerCase().includes("peça")||I.toLowerCase().includes("material"),T=[I,k.unit,t.hide_material_prices&&_?"-":`R$ ${k.unit_price.toFixed(2)}`,k.quantity.toString(),t.hide_material_prices&&_?"-":`R$ ${k.total_price.toFixed(2)}`];_&&t.hide_material_prices?y.push(T):b.push(T)}),t.hide_material_prices&&y.length>0&&b.push(...y),hq(r,{startY:o,head:[["Descrição do Serviço","Unidade","Preço Unit.","Qtd.","Total"]],body:b,theme:"plain",styles:{fontSize:9,cellPadding:{top:4,right:3,bottom:4,left:3},textColor:d,lineColor:[255,255,255],lineWidth:0},headStyles:{fillColor:c,textColor:l,fontStyle:"bold",halign:"left",lineWidth:0},columnStyles:{0:{cellWidth:85},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:15,halign:"center"},4:{cellWidth:30,halign:"right"}},margin:{left:i,right:i},alternateRowStyles:{fillColor:[250,250,250]},didParseCell:function(k){k.row.index===b.length&&k.section==="body"&&(k.cell.styles.fontStyle="bold")}}),o=r.lastAutoTable.finalY+5,r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d);const g=s-i-70;r.text("Serviços",g,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=6,r.setFont("helvetica","bold"),r.setTextColor(...l),r.text("Subtotal",g,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=6,t.discount>0&&(r.setFont("times","normal"),r.setTextColor(...d),r.text("Desconto sobre serviços",g,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,s-i,o,{align:"right"}),o+=6),r.setFillColor(...l),r.rect(g-5,o-5,s-g+5-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(255,255,255),r.text("Total",g,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,s-i-3,o+2,{align:"right"}),o+=15,r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Pagamento",i+3,o+5.5),o+=14;const x=(s-2*i)/2;r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Meios de pagamento",i,o),o+=5,r.setFont("times","normal");const v=r.splitTextToSize(t.payment.methods,x-10);r.text(v,i,o);const j=v.length*4;let B=o-5;if(r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("PIX",i+x,B),B+=5,r.setFont("times","normal"),r.text(t.payment.pix||e.cnpj,i+x,B),o+=j+10,f(),r.addPage(),o=20,t.payment.bank_details){r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Dados bancários",i,o),o+=5,r.setFont("times","normal");const k=t.payment.bank_details;r.text(`Banco: ${k.bank}`,i,o),o+=4,r.text(`Agência: ${k.agency}`,i,o),o+=4,r.text(`Conta: ${k.account}`,i,o),o+=4,r.text(`Tipo de conta: ${k.account_type}`,i,o),o+=4,r.text(`Titular da conta (CPF/CNPJ): ${k.holder}`,i,o);const I=o;o=20,r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Condições de pagamento",i+x,o),o+=5,r.setFont("times","normal");const _=r.splitTextToSize(t.payment.conditions,x-10);r.text(_,i+x,o),o=Math.max(I,o+_.length*4)+10}if(t.warranty){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,t.warranty.period&&(r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Período de garantia",i,o),o+=4,r.setFont("times","normal"),r.text(t.warranty.period,i,o),o+=8),r.setFont("helvetica","bold"),r.text("Condições da garantia",i,o),o+=4,r.setFont("times","normal");const k=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",I=r.splitTextToSize(k,s-2*i-6);r.text(I,i,o),o+=I.length*4+8}if(t.contract_clauses&&t.contract_clauses.length>0&&(r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Cláusulas contratuais",i+3,o+5.5),o+=12,r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d),t.contract_clauses.forEach(k=>{o>a-60&&(f(),r.addPage(),o=15),r.setFont("helvetica","bold"),r.text(k.title,i,o),o+=5,r.setFont("times","normal"),k.items.forEach(I=>{const _=r.splitTextToSize(I,s-2*i-6);r.text(_,i,o),o+=_.length*4}),o+=4})),t.additional_info){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informações adicionais",i+3,o+5.5),o+=12,r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d);const k=r.splitTextToSize(t.additional_info,s-2*i-6);r.text(k,i,o),o+=k.length*4+8}r.setFont("times","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("obrigado pela confiança, estaremos à disposição.",s/2,o,{align:"center"}),o+=8,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,s/2,o,{align:"center"}),o+=10,r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(255,255,255),r.setFillColor(...l),r.rect(i,o,s-2*i,8,"F"),r.text("Termos e Condições do Contrato",i+3,o+5),o+=12,r.setFont("times","normal"),r.setFontSize(9),r.setTextColor(...d),["1. OBJETO: Este contrato tem como objeto a prestação de serviços conforme descritos nesta Ordem de Serviço.","2. PRAZO: Os serviços serão executados no prazo especificado, salvo em casos de força maior.","3. PAGAMENTO: O pagamento deverá ser realizado conforme condições especificadas neste documento.","4. GARANTIA: A garantia dos serviços está sujeita às condições descritas na seção de Garantia.","5. RESPONSABILIDADES: O contratante deve fornecer acesso adequado e condições necessárias para execução dos serviços.","6. CANCELAMENTO: Cancelamentos devem ser comunicados com antecedência mínima de 24 horas.","7. MANUTENÇÃO: Para manter a validade da garantia estendida, as manutenções preventivas devem ser realizadas nos prazos estabelecidos.","8. ACEITAÇÃO: A assinatura deste documento implica na aceitação integral de todos os termos aqui descritos."].forEach(k=>{r.splitTextToSize(k,s-2*i-4).forEach(_=>{o>a-40&&(f(),r.addPage(),o=20),r.text(_,i+2,o),o+=4}),o+=2}),f(),r.addPage(),o=a/2-40;const E=(s-2*i-20)/2,M=i,S=s/2+10;r.setDrawColor(...d),r.setLineWidth(.5),r.line(M,o,M+E,o),r.line(S,o,S+E,o),o+=6,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(e.name,M+E/2,o,{align:"center"}),r.text(t.client.name,S+E/2,o,{align:"center"}),o+=5,r.setFont("times","normal"),r.setFontSize(9),r.text(e.owner||"Tiago Bruno Giaquinto",M+E/2,o,{align:"center"}),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,S+E/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,S+E/2,o,{align:"center"}),o+=5,r.setFont("times","italic"),r.setFontSize(8),r.setTextColor(...u),r.text("diretor técnico",M+E/2,o,{align:"center"}),f(),r.save(`Ordem_de_servico_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)},lue=({key:t,data:e,enabled:r=!0,interval:s=3e4,onSave:a})=>{const[i,o]=F.useState(!1),[l,c]=F.useState(null),[d,u]=F.useState(null),h=F.useRef(),m=F.useRef(e);F.useEffect(()=>{m.current=e},[e]);const f=F.useCallback(async()=>{if(!(!r||!m.current))try{o(!0),u(null);const{data:g}=await he.from("service_order_drafts").select("id").eq("draft_name",t).maybeSingle();if(g){const{error:x}=await he.from("service_order_drafts").update({draft_data:m.current,last_saved_at:new Date().toISOString()}).eq("id",g.id);if(x)throw x}else{const{error:x}=await he.from("service_order_drafts").insert({draft_name:t,draft_data:m.current,user_id:null});if(x)throw x}c(new Date),a?.(!0)}catch(g){console.error("Erro ao salvar rascunho:",g),u(g.message),a?.(!1)}finally{o(!1)}},[r,t,a]);F.useEffect(()=>{if(r)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{f()},s),()=>{h.current&&clearTimeout(h.current)}},[e,r,s,f]);const b=F.useCallback(async()=>{await f()},[f]),y=F.useCallback(async()=>{try{const{error:g}=await he.from("service_order_drafts").delete().eq("draft_name",t);if(g)throw g;c(null)}catch(g){console.error("Erro ao limpar rascunho:",g),u(g.message)}},[t]);return{isSaving:i,lastSaved:l,error:d,manualSave:b,clearDraft:y}},cue=({services:t,recentServices:e=[],favoriteServices:r=[],onSelect:s,placeholder:a="Buscar serviço..."})=>{const[i,o]=F.useState(""),[l,c]=F.useState(!1),[d,u]=F.useState(0),[h,m]=F.useState([]),f=F.useRef(null),b=F.useRef(null);F.useEffect(()=>{if(i.trim()){const j=i.toLowerCase(),B=t.filter(C=>C.name.toLowerCase().includes(j)||C.description?.toLowerCase().includes(j)||C.category?.toLowerCase().includes(j));m(B.slice(0,10))}else{const j=t.filter(E=>r.includes(E.id)),B=t.filter(E=>e.includes(E.id)),C=[...j,...B.filter(E=>!r.includes(E.id))];m(C.slice(0,8))}u(0)},[i,t,e,r]),F.useEffect(()=>{const j=B=>{b.current&&!b.current.contains(B.target)&&f.current&&!f.current.contains(B.target)&&c(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const y=j=>{if(!l){(j.key==="Enter"||j.key==="ArrowDown")&&(c(!0),j.preventDefault());return}switch(j.key){case"ArrowDown":j.preventDefault(),u(B=>(B+1)%h.length);break;case"ArrowUp":j.preventDefault(),u(B=>(B-1+h.length)%h.length);break;case"Enter":j.preventDefault(),h[d]&&g(h[d]);break;case"Escape":c(!1),f.current?.blur();break}},g=j=>{s(j),o(""),c(!1),f.current?.blur()},x=j=>j?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(j):"Sob consulta",v=j=>{if(!j)return"";if(j<60)return`${j}min`;const B=Math.floor(j/60),C=j%60;return C>0?`${B}h${C}min`:`${B}h`};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{ref:f,type:"text",value:i,onChange:j=>o(j.target.value),onFocus:()=>c(!0),onKeyDown:y,placeholder:a,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"}),i&&n.jsx("button",{onClick:()=>{o(""),f.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"w-5 h-5"})})]}),n.jsx(Nt,{children:l&&h.length>0&&n.jsxs(ue.div,{ref:b,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-96 overflow-y-auto",children:[!i&&n.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b",children:[r.length>0&&"Favoritos e Recentes",r.length===0&&e.length>0&&"Usados Recentemente",r.length===0&&e.length===0&&"Todos os Serviços"]}),h.map((j,B)=>{const C=r.includes(j.id),E=e.includes(j.id),M=B===d;return n.jsx(ue.button,{onClick:()=>g(j),className:`w-full px-4 py-3 text-left transition-colors border-b last:border-b-0 ${M?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:B*.02},children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C&&n.jsx(Na,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"font-medium text-gray-900 truncate",children:j.name})]}),j.description&&n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:j.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[j.category&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:j.category}),j.estimated_time&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"}),v(j.estimated_time)]}),j.materials_count&&j.materials_count>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx($t,{className:"w-3 h-3"}),j.materials_count," materiais"]}),E&&!C&&n.jsx("span",{className:"text-blue-600",children:"Usado recentemente"})]})]}),j.base_price&&n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-semibold text-gray-900",children:x(j.base_price)})})]})},j.id)}),i&&h.length===0&&n.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[n.jsx(Ir,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Nenhum serviço encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Tente buscar por outro termo"})]})]})})]})},due=({isOpen:t,onClose:e,onSelect:r})=>{const[s,a]=F.useState([]),[i,o]=F.useState(!0),[l,c]=F.useState(""),[d,u]=F.useState("all");F.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{o(!0);const{data:y,error:g}=await he.from("service_order_templates").select("*").order("usage_count",{ascending:!1});if(g)throw g;a(y||[])}catch(y){console.error("Erro ao carregar templates:",y)}finally{o(!1)}},m=async y=>{try{await he.rpc("increment_template_usage",{template_id:y.id}),r(y.template_data),e()}catch(g){console.error("Erro ao usar template:",g),r(y.template_data),e()}},f=[...new Set(s.map(y=>y.category))],b=s.filter(y=>{const g=l===""||y.name.toLowerCase().includes(l.toLowerCase())||y.description?.toLowerCase().includes(l.toLowerCase()),x=d==="all"||y.category===d;return g&&x});return t?n.jsx(Nt,{children:n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:n.jsxs(ue.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:y=>y.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Templates de OS"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Escolha um template para começar rapidamente"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Et,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 border-b bg-gray-50",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Buscar template...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Todos"}),f.map(y=>n.jsx("button",{onClick:()=>u(y),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${d===y?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:y.replace("-"," ")},y))]})]})}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum template encontrado"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Tente buscar com outros termos ou categorias"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:b.map((y,g)=>n.jsxs(ue.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05},onClick:()=>m(y),className:"bg-white border-2 border-gray-200 hover:border-blue-500 rounded-lg p-4 text-left transition-all hover:shadow-lg group",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:n.jsx(vt,{className:"w-5 h-5 text-blue-600 group-hover:text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:y.name}),n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:y.category.replace("-"," ")})]})]})}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Pd,{className:"w-3 h-3"}),y.usage_count," usos"]}),y.is_public&&n.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Público"})]}),n.jsx(Na,{className:"w-4 h-4 text-yellow-500"})]}),y.template_data.serviceItems&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("span",{className:"text-xs text-gray-600",children:[y.template_data.serviceItems.length," serviços inclusos"]})})]},y.id))})}),n.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"})})]})})}):null},uue=({subtotal:t,discount:e,total:r,costMaterials:s,costLabor:a,totalCost:i,profit:o,margin:l,className:c=""})=>{const d=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),u=b=>b>=30?"text-green-600":b>=15?"text-yellow-600":"text-red-600",h=b=>b>=30?"bg-green-50 border-green-200":b>=15?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",m=b=>b>=30?n.jsx(Ja,{className:"w-5 h-5"}):b>=15?n.jsx(Ko,{className:"w-5 h-5"}):n.jsx(un,{className:"w-5 h-5"}),f=b=>b>=30?"Margem excelente!":b>=15?"Margem adequada":"Margem baixa - Atenção!";return n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:`bg-white border border-gray-200 rounded-lg p-6 shadow-lg ${c}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b",children:[n.jsx(pr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Análise Financeira"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(t)})]}),e>0&&n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Desconto"}),n.jsxs("span",{className:"font-medium text-red-600",children:["- ",d(e)]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d(r)})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Custos"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Materiais"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(s)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Mão de Obra"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(a)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Custo Total"}),n.jsx("span",{className:"font-semibold text-gray-900",children:d(i)})]})]})]}),n.jsxs(ue.div,{initial:{scale:.95},animate:{scale:1},className:`p-4 rounded-lg border-2 ${h(l)}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:u(l),children:m(l)}),n.jsx("span",{className:"font-semibold text-gray-900",children:"Lucro"})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"text-xl font-bold text-gray-900",children:d(o)})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:f(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`text-2xl font-bold ${u(l)}`,children:[l.toFixed(1),"%"]}),l>=15?n.jsx(Or,{className:`w-5 h-5 ${u(l)}`}):n.jsx(El,{className:`w-5 h-5 ${u(l)}`})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-current/20",children:n.jsx("div",{className:"flex gap-2 text-xs",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-600 mb-1",children:"Distribuição"}),n.jsxs("div",{className:"flex gap-1 h-2 rounded-full overflow-hidden bg-gray-200",children:[n.jsx("div",{className:"bg-blue-500",style:{width:`${r>0?s/r*100:0}%`},title:"Materiais"}),n.jsx("div",{className:"bg-purple-500",style:{width:`${r>0?a/r*100:0}%`},title:"Mão de Obra"}),n.jsx("div",{className:"bg-green-500",style:{width:`${r>0?o/r*100:0}%`},title:"Lucro"})]})]})})})]},l),l<15&&n.jsx(ue.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(un,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-red-800",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Margem Abaixo do Recomendado"}),n.jsx("p",{className:"text-xs",children:"Considere aumentar o valor ou reduzir custos. Margem ideal: 30% ou mais."})]})]})}),l>=30&&o>1e3&&n.jsx(ue.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ja,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-green-800",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Excelente Negócio!"}),n.jsx("p",{className:"text-xs",children:"Margem saudável e lucro acima da média. Continue assim!"})]})]})})]})]})},bO=()=>{const t=Vs(),{id:e}=rE(),[r]=m9(),s=r.get("edit")||e,a=!!s,[i,o]=F.useState(!1),[l,c]=F.useState([]),[d,u]=F.useState(null),[h,m]=F.useState([]),[f,b]=F.useState([]),[y,g]=F.useState([]),[x,v]=F.useState([]),[j,B]=F.useState([]),[C,E]=F.useState([]),[M,S]=F.useState(!1),[k,I]=F.useState(!1),[_,T]=F.useState(""),[D,L]=F.useState(""),[V,z]=F.useState(!1),[Z,G]=F.useState(""),[H,ee]=F.useState({customer_id:"",description:"",scheduled_at:"",prazo_execucao_dias:7,data_inicio_execucao:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,show_value:!0,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",payment_method:"dinheiro",payment_installments:1,payment_conditions:"Sinal de 50% e o valor restante após a conclusão.",warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",custo_deslocamento:0,custo_estacionamento:0,custo_pedagio:0,custo_outros:0,descricao_outros:"",company_name:"",company_cnpj:"",company_address:"",company_phone:"",company_email:"",payment_methods_text:"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",payment_pix:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"Corrente",bank_holder:"",contract_clauses:"",additional_info:"Trabalhamos para que seus projetos, se tornem realidade."}),[Y,q]=F.useState([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}]),[U,te]=F.useState({subtotal:0,desconto:0,total:0,custo_total_materiais:0,custo_total_mao_obra:0,custo_total:0,lucro_total:0,margem_lucro:0}),[X,se]=F.useState({}),[fe,me]=F.useState({company:!1,bankData:!1,additionalClauses:!1}),[pe,_e]=F.useState(!1),[ge,ye]=F.useState(!1),[Ve,st]=F.useState(!1),[Ne,J]=F.useState({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}),[Me,Ie]=F.useState({name:"",description:"",base_price:0,estimated_time_minutes:60}),[le,Se]=F.useState({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}),Ze=de=>{me(je=>({...je,[de]:!je[de]}))},{isSaving:Oe,lastSaved:dt,error:_t}=lue({key:"service-order-draft",data:{formData:H,serviceItems:Y,totals:U},interval:3e4,onSave:async de=>{if(!a&&H.customer_id&&H.description){const{error:je}=await he.from("service_order_drafts").upsert({user_id:(await he.auth.getUser()).data.user?.id,customer_id:H.customer_id,draft_name:`OS - ${l.find(Qe=>Qe.id===H.customer_id)?.name||"Cliente"} - ${new Date().toLocaleString("pt-BR")}`,draft_data:de,last_saved_at:new Date().toISOString()});if(je)throw je}}});F.useEffect(()=>{ot(),a&&s&&Ge(s)},[s]),F.useEffect(()=>{wr()},[Y,H.desconto_percentual,H.desconto_valor]);const Ge=async de=>{try{o(!0);const je=await hv(de);if(je&&(ee({customer_id:je.client_id||"",description:je.description||"",scheduled_at:je.due_date?new Date(je.due_date).toISOString().slice(0,16):je.scheduled_at?new Date(je.scheduled_at).toISOString().slice(0,16):"",prazo_execucao_dias:je.prazo_execucao_dias||7,data_inicio_execucao:je.data_inicio_execucao?new Date(je.data_inicio_execucao).toISOString().split("T")[0]:"",desconto_percentual:je.desconto_percentual||je.discount_percentage||0,desconto_valor:je.desconto_valor||je.discount_amount||je.discount_value||0,show_material_costs:je.show_material_costs||!1,show_value:je.show_value!==!1,relatorio_tecnico:je.relatorio_tecnico||"",orientacoes_servico:je.orientacoes_servico||"",escopo_detalhado:je.escopo_detalhado||"",payment_method:je.payment_method||"dinheiro",payment_installments:je.payment_installments||1,payment_conditions:je.payment_conditions||"Sinal de 50% e o valor restante após a conclusão.",warranty_period:je.warranty_period||90,warranty_type:je.warranty_type||"days",warranty_terms:je.warranty_terms||"",bank_account_id:je.bank_account_id||"",contract_template_id:je.contract_template_id||"",contract_notes:je.contract_notes||"",notes:je.notes||"",custo_deslocamento:je.custo_deslocamento||0,custo_estacionamento:je.custo_estacionamento||0,custo_pedagio:je.custo_pedagio||0,custo_outros:je.custo_outros||0,descricao_outros:je.descricao_outros||"",company_name:je.company_name||"",company_cnpj:je.company_cnpj||"",company_address:je.company_address||"",company_phone:je.company_phone||"",company_email:je.company_email||"",payment_methods_text:je.payment_methods_text||"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",payment_pix:je.payment_pix||"",bank_name:je.bank_name||"",bank_agency:je.bank_agency||"",bank_account:je.bank_account||"",bank_account_type:je.bank_account_type||"Corrente",bank_holder:je.bank_holder||"",contract_clauses:je.contract_clauses||"",additional_info:je.additional_info||"Trabalhamos para que seus projetos, se tornem realidade."}),G(je.order_number||""),je.client_id&&Ce(je.client_id),je.items&&je.items.length>0)){const Qe=je.items.map(Le=>{const et=(Le.materiais||Le.materials||[]).map(Ue=>({id:Ue.id||crypto.randomUUID(),material_id:Ue.material_id||"",nome:Ue.nome||Ue.material_name||Ue.name||"",quantidade:Ue.quantidade||Ue.quantity||0,unidade_medida:Ue.unidade_medida||Ue.material_unit||Ue.unit||"un",preco_compra_unitario:Ue.preco_compra_unitario||Ue.unit_cost_at_time||Ue.unit_price||0,preco_venda_unitario:Ue.preco_venda_unitario||Ue.unit_sale_price||Ue.preco_unitario||0,preco_compra:Ue.preco_compra||Ue.total_cost||0,preco_venda:Ue.preco_venda||Ue.valor_total||Ue.total_sale_price||Ue.total_price||0,custo_total:Ue.custo_total||Ue.total_cost||0,valor_total:Ue.valor_total||Ue.total_sale_price||Ue.total_price||0,lucro:Ue.lucro||0})),St=(Le.funcionarios||Le.labor||[]).map(Ue=>({id:Ue.id||crypto.randomUUID(),staff_id:Ue.staff_id||Ue.employee_id||"",nome:Ue.nome||Ue.nome_funcionario||Ue.name||"",tempo_minutos:Ue.tempo_minutos||Ue.time_minutes||0,custo_hora:Ue.custo_hora||Ue.hourly_rate||0,custo_total:Ue.custo_total||Ue.total_cost||0}));return{id:Le.id||crypto.randomUUID(),service_catalog_id:Le.service_catalog_id||null,descricao:Le.descricao||Le.description||Le.service_name||Le.service_catalog?.name||"",escopo:Le.escopo||Le.escopo_detalhado||Le.service_scope||"",escopo_detalhado:Le.escopo_detalhado||Le.escopo||Le.service_scope||"",quantidade:Le.quantidade||Le.quantity||1,preco_unitario:Le.preco_unitario||Le.unit_price||0,preco_total:Le.preco_total||Le.total_price||0,tempo_estimado_minutos:Le.tempo_estimado_minutos||Le.estimated_duration||Le.estimated_time||0,materiais:et,funcionarios:St,custo_materiais:Le.custo_materiais||Le.cost_materials||0,custo_mao_obra:Le.custo_mao_obra||Le.cost_labor||0,custo_total:Le.custo_total||Le.total_cost||0,lucro:Le.lucro||Le.profit||0,margem_lucro:Le.margem_lucro||Le.profit_margin||0}});q(Qe)}}catch(je){console.error("Error loading order data:",je)}finally{o(!1)}},Ce=async de=>{try{const[je,Qe]=await Promise.all([he.from("customers").select("*").eq("id",de).single(),he.from("customer_addresses").select("*").eq("customer_id",de).eq("principal",!0).maybeSingle()]);if(je.data){const Le={...je.data,address:Qe.data};u(Le),Qe.data&&T(je.data.email||"")}}catch(je){console.error("Error loading customer details:",je)}},lt=de=>{ee({...H,customer_id:de}),de?Ce(de):u(null)},ot=async()=>{try{const[de,je,Qe,Le,et,St,Ue]=await Promise.all([he.from("customers").select("*").order("nome_razao"),he.from("materials").select("*").eq("active",!0).order("name"),he.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),he.from("bank_accounts").select("*").eq("active",!0).order("account_name"),he.from("contract_templates").select("*").order("name"),he.from("service_catalog").select(`
          *,
          service_catalog_materials (
            id,
            material_id,
            quantity,
            material_name,
            material_unit,
            unit_cost_at_time,
            unit_sale_price
          )
        `).order("name"),he.from("inventory").select("*").order("name")]);c(de.data||[]),m(je.data||[]),b(Qe.data||[]),g(Le.data||[]),v(et.data||[]),B(St.data||[]),E(Ue.data||[])}catch(de){console.error("Error loading data:",de)}},Pt=()=>{q([...Y,{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}])},zt=de=>{q(Y.filter(je=>je.id!==de))},mt=(de,je)=>{q(Qe=>Qe.map(Le=>{if(Le.id===de){const et={...Le,...je};return et.preco_total=et.quantidade*et.preco_unitario,et.custo_materiais=et.materiais.reduce((St,Ue)=>St+Ue.custo_total,0),et.custo_mao_obra=et.funcionarios.reduce((St,Ue)=>St+Ue.custo_total,0),et.custo_total=et.custo_materiais+et.custo_mao_obra,et.lucro=et.preco_total-et.custo_total,et.margem_lucro=et.preco_total>0?et.lucro/et.preco_total*100:0,et}return Le}))},zn=de=>{const je=Y.find(Le=>Le.id===de);if(!je)return;const Qe={id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,preco_compra:0,preco_venda:0,custo_total:0,valor_total:0,lucro:0};mt(de,{materiais:[...je.materiais,Qe]})},br=(de,je)=>{const Qe=Y.find(Le=>Le.id===de);Qe&&mt(de,{materiais:Qe.materiais.filter(Le=>Le.id!==je)})},Xn=(de,je,Qe)=>{const Le=Y.find(St=>St.id===de);if(!Le)return;const et=Le.materiais.map(St=>{if(St.id===je){const Ue={...St,...Qe},hr=Ue.preco_compra_unitario||0,sn=Ue.preco_venda_unitario||0;return Ue.custo_total=Ue.quantidade*hr,Ue.valor_total=Ue.quantidade*sn,Ue.lucro=Ue.valor_total-Ue.custo_total,Ue}return St});mt(de,{materiais:et})},Pr=(de,je,Qe)=>{const Le=h.find(hr=>hr.id===Qe);if(!Le)return;const et=Number(Le.unit_cost)||0,St=Number(Le.sale_price)||0,Ue=Le.unit||"UN";Xn(de,je,{material_id:Qe,nome:Le.name,unidade_medida:Ue,preco_compra_unitario:et,preco_venda_unitario:St,preco_compra:et,preco_venda:St})},Ur=(de,je)=>{const Qe=Y.find(Le=>Le.id===de);Qe&&mt(de,{funcionarios:Qe.funcionarios.filter(Le=>Le.id!==je)})},Ts=(de,je,Qe)=>{const Le=Y.find(St=>St.id===de);if(!Le)return;const et=Le.funcionarios.map(St=>{if(St.id===je){const Ue={...St,...Qe};return Ue.custo_total=Ue.tempo_minutos/60*Ue.custo_hora,Ue}return St});mt(de,{funcionarios:et})},wr=()=>{const de=Y.reduce((ha,Fs)=>ha+Fs.preco_total,0),je=(H.custo_deslocamento||0)+(H.custo_estacionamento||0)+(H.custo_pedagio||0)+(H.custo_outros||0),Qe=H.desconto_valor||de*(H.desconto_percentual/100),Le=de-je-Qe,et=Y.reduce((ha,Fs)=>ha+Fs.custo_materiais,0),St=Y.reduce((ha,Fs)=>ha+Fs.custo_mao_obra,0),Ue=et+St+je,hr=Le-Ue,sn=Le>0?hr/Le*100:0;te({subtotal:de,desconto:Qe,total:Le,custo_total_materiais:et,custo_total_mao_obra:St,custo_total:Ue,lucro_total:hr,margem_lucro:sn})},ei=async()=>{try{if(!H.customer_id||Y.length===0){alert("Selecione um cliente e adicione pelo menos um serviço!");return}o(!0);const de=H.scheduled_at?new Date(new Date(H.scheduled_at).getTime()+H.warranty_period*(H.warranty_type==="days"?864e5:H.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,je={client_id:H.customer_id||null,customer_id:H.customer_id||null,description:H.description,scheduled_at:H.scheduled_at||null,due_date:H.scheduled_at||null,prazo_execucao_dias:H.prazo_execucao_dias,data_inicio_execucao:H.data_inicio_execucao||null,status:"aberta",total_value:U.total,subtotal_value:U.subtotal,discount_value:U.desconto,desconto_percentual:H.desconto_percentual,desconto_valor:H.desconto_valor,custo_total_materiais:U.custo_total_materiais,custo_total_mao_obra:U.custo_total_mao_obra,custo_total:U.custo_total,lucro_total:U.lucro_total,margem_lucro:U.margem_lucro,show_material_costs:H.show_material_costs,show_value:H.show_value,relatorio_tecnico:H.relatorio_tecnico,orientacoes_servico:H.orientacoes_servico,escopo_detalhado:H.escopo_detalhado,payment_method:H.payment_method,payment_installments:H.payment_installments,bank_account_id:H.bank_account_id||null,warranty_period:H.warranty_period,warranty_type:H.warranty_type,warranty_terms:H.warranty_terms,warranty_end_date:de,contract_template_id:H.contract_template_id||null,contract_notes:H.contract_notes,notes:H.notes,subtotal:U.subtotal,discount_amount:U.desconto,final_total:U.total};let Qe;if(a&&s){const{data:Le,error:et}=await he.from("service_orders").update(je).eq("id",s).select().single();if(et)throw et;Qe=Le,await he.from("service_order_items").delete().eq("service_order_id",s),await he.from("service_order_materials").delete().eq("service_order_id",s),await he.from("service_order_labor").delete().eq("service_order_id",s)}else{const{data:Le,error:et}=await he.from("service_orders").insert([je]).select().single();if(et)throw et;Qe=Le}if(!Qe)throw new Error("Erro ao salvar ordem");for(const Le of Y){const{data:et,error:St}=await he.from("service_order_items").insert([{service_order_id:Qe.id,service_catalog_id:Le.service_catalog_id||null,descricao:Le.descricao||Le.nome||"",escopo_detalhado:Le.escopo||Le.escopo_detalhado||"",quantidade:Le.quantidade,preco_unitario:Le.preco_unitario,preco_total:Le.preco_total,tempo_estimado_minutos:Le.tempo_estimado_minutos,custo_materiais:Le.custo_materiais,custo_mao_obra:Le.custo_mao_obra,custo_total:Le.custo_total,lucro:Le.lucro,margem_lucro:Le.margem_lucro}]).select().single();if(St)throw St;if(Le.materiais.length>0){const Ue=Le.materiais.map(sn=>({service_order_id:Qe.id,service_order_item_id:et.id,material_id:sn.material_id,nome_material:sn.nome,quantidade:sn.quantidade,preco_compra:sn.preco_compra,preco_venda:sn.preco_venda,custo_total:sn.custo_total,valor_total:sn.valor_total,lucro:sn.lucro})),{error:hr}=await he.from("service_order_materials").insert(Ue);if(hr)throw hr}if(Le.funcionarios.length>0){const Ue=Le.funcionarios.map(sn=>({service_order_id:Qe.id,service_order_item_id:et.id,staff_id:sn.staff_id,nome_funcionario:sn.nome,tempo_minutos:sn.tempo_minutos,custo_hora:sn.custo_hora,custo_total:sn.custo_total})),{error:hr}=await he.from("service_order_labor").insert(Ue);if(hr)throw hr}}alert(a?"Ordem de Serviço atualizada com sucesso!":"Ordem de Serviço criada com sucesso!"),t("/service-orders")}catch(de){console.error("Error saving:",de),alert(`Erro ao ${a?"atualizar":"salvar"} ordem de serviço!`)}finally{o(!1)}},yr=async()=>{try{const de=d||l.find(Ue=>Ue.id===H.customer_id);if(!de){alert("Cliente não encontrado!");return}const je=await j1(),Qe=de.address||{},Le=[Qe.logradouro,Qe.numero,Qe.complemento,Qe.bairro].filter(Boolean).join(", "),et={order_number:Z||"TEMP-"+Date.now(),created_at:new Date().toISOString(),status:"aberta",customer:{nome_razao:de.nome_razao||de.name||"Cliente",cnpj_cpf:de.cnpj_cpf||de.cnpj||de.cpf||"",email:de.email||"",telefone:de.telefone||de.phone||"",endereco:Le||de.endereco||de.address||"",cidade:Qe.cidade||de.cidade||de.city||"",estado:Qe.estado||de.estado||de.state||"",cep:Qe.cep||de.cep||de.zip_code||""},description:H.description,scheduled_at:H.scheduled_at,items:Y.map(Ue=>({descricao:Ue.descricao,quantidade:Ue.quantidade,preco_unitario:Ue.preco_unitario,preco_total:Ue.preco_total,tempo_estimado_minutos:Ue.tempo_estimado_minutos,materiais:Ue.materiais.map(hr=>({nome:hr.nome,quantidade:hr.quantidade,unidade_medida:hr.unidade_medida,preco_venda_unitario:hr.preco_venda_unitario,valor_total:hr.valor_total})),funcionarios:Ue.funcionarios.map(hr=>({nome:hr.nome,tempo_minutos:hr.tempo_minutos,custo_total:hr.custo_total}))})),payment_method:H.payment_method,payment_installments:H.payment_installments,bank_account:y.find(Ue=>Ue.id===H.bank_account_id)?.account_name||"",warranty_period:H.warranty_period,warranty_type:H.warranty_type,warranty_terms:H.warranty_terms,contract_notes:H.contract_notes,subtotal:U.subtotal,desconto_percentual:H.desconto_percentual,desconto_valor:H.desconto_valor,discount_amount:U.desconto,final_total:U.total,custo_total:U.custo_total,lucro_total:U.lucro_total,margem_lucro:U.margem_lucro,notes:H.notes,prazo_execucao_dias:H.prazo_execucao_dias,data_inicio_execucao:H.data_inicio_execucao,data_fim_execucao:H.data_inicio_execucao&&H.prazo_execucao_dias?new Date(new Date(H.data_inicio_execucao).getTime()+H.prazo_execucao_dias*864e5).toISOString().split("T")[0]:null,additional_costs:{deslocamento:H.custo_deslocamento,estacionamento:H.custo_estacionamento,pedagio:H.custo_pedagio,outros:H.custo_outros,descricao_outros:H.descricao_outros}},St={order_number:Z||"NOVA-OS",date:new Date().toISOString(),title:H.description||"Ordem de Serviço",client:{name:de.nome_razao||de.name||"Cliente",company_name:de.nome_fantasia||"",cnpj:de.cnpj||"",cpf:de.cpf||"",address:Le||"",city:Qe.cidade||"",state:Qe.estado||"",cep:Qe.cep||"",email:de.email||"",phone:de.telefone||de.phone||""},basic_info:{deadline:`${H.prazo_execucao_dias} dias`,brand:"",model:"",equipment:""},items:Y.map(Ue=>({service_name:Ue.descricao||"Serviço",description:Ue.descricao,scope:"",unit:"un.",unit_price:Ue.preco_unitario,quantity:Ue.quantidade,total_price:Ue.preco_total})),subtotal:U.subtotal,discount:U.desconto,total:U.total,payment:{methods:"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:de.cnpj||de.cpf||"",bank_details:y.find(Ue=>Ue.is_default)?{bank:y.find(Ue=>Ue.is_default)?.bank_name||"",agency:y.find(Ue=>Ue.is_default)?.agency||"",account:y.find(Ue=>Ue.is_default)?.account_number||"",account_type:y.find(Ue=>Ue.is_default)?.account_type==="checking"?"Corrente":"Poupança",holder:y.find(Ue=>Ue.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante após a conclusão."},warranty:{period:`${H.warranty_period} ${H.warranty_type==="days"?"dias":H.warranty_type==="months"?"meses":"anos"}`,conditions:H.warranty_terms||"Garantias referentes à sistemas de novo em tubulações antigas."},contract_clauses:[],additional_info:H.notes||"Trabalhamos para que seus projetos, se tornem realidade."};await p0(St),alert("PDF gerado com sucesso!")}catch(de){console.error("Erro ao gerar PDF:",de),alert("Erro ao gerar PDF!")}},sr=de=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(de),ve=async()=>{if(!s){alert("Salve a ordem de serviço antes de imprimir!");return}try{o(!0);const de=await hv(s);if(!de)throw new Error("OS não encontrada");const je=l.find(Le=>Le.id===de.customer_id),Qe={order_number:de.order_number||"N/A",date:de.created_at||new Date().toISOString(),title:de.description||"Ordem de Serviço",client:{name:je?.nome_razao||je?.name||"Cliente",company_name:je?.nome_fantasia||"",cnpj:je?.cnpj||"",cpf:je?.cpf||"",address:je?.endereco||"",city:je?.cidade||"",state:je?.estado||"",cep:je?.cep||"",email:je?.email||"",phone:je?.telefone||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:JS(de.items||[]),subtotal:de.subtotal||de.total_value||0,discount:de.discount_amount||0,total:de.total_value||0,payment:{methods:"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:je?.cnpj||je?.cpf||"",bank_details:y.find(Le=>Le.is_default)?{bank:y.find(Le=>Le.is_default)?.bank_name||"",agency:y.find(Le=>Le.is_default)?.agency||"",account:y.find(Le=>Le.is_default)?.account_number||"",account_type:y.find(Le=>Le.is_default)?.account_type==="checking"?"Corrente":"Poupança",holder:y.find(Le=>Le.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante após a conclusão."},warranty:{period:"12 meses",conditions:"Garantias referentes à sistemas de novo em tubulações antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await p0(Qe)}catch(de){console.error("Error printing:",de),alert("Erro ao gerar PDF!")}finally{o(!1)}},xt=async()=>{if(!s){alert("Salve a ordem de serviço antes de baixar!");return}try{o(!0);const de=await hv(s);if(!de)throw new Error("OS não encontrada");const je=l.find(Le=>Le.id===de.customer_id),Qe={order_number:de.order_number||"N/A",date:de.created_at||new Date().toISOString(),title:de.description||"Ordem de Serviço",client:{name:je?.nome_razao||je?.name||"Cliente",company_name:je?.nome_fantasia||"",cnpj:je?.cnpj||"",cpf:je?.cpf||"",address:je?.endereco||"",city:je?.cidade||"",state:je?.estado||"",cep:je?.cep||"",email:je?.email||"",phone:je?.telefone||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:JS(de.items||[]),subtotal:de.subtotal||de.total_value||0,discount:de.discount_amount||0,total:de.total_value||0,payment:{methods:"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:je?.cnpj||je?.cpf||"",bank_details:y.find(Le=>Le.is_default)?{bank:y.find(Le=>Le.is_default)?.bank_name||"",agency:y.find(Le=>Le.is_default)?.agency||"",account:y.find(Le=>Le.is_default)?.account_number||"",account_type:y.find(Le=>Le.is_default)?.account_type==="checking"?"Corrente":"Poupança",holder:y.find(Le=>Le.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante após a conclusão."},warranty:{period:"12 meses",conditions:"Garantias referentes à sistemas de novo em tubulações antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await p0(Qe)}catch(de){console.error("Error downloading:",de),alert("Erro ao baixar PDF!")}finally{o(!1)}},Xe=()=>{if(!s){alert("Salve a ordem de serviço antes de enviar!");return}const de=l.find(je=>je.id===H.customer_id);T(de?.email||""),L(`Olá, segue em anexo a Ordem de Serviço ${Z||s}.`),S(!0)},ft=async()=>{if(!_){alert("Digite um email válido!");return}try{z(!0),alert(`Email enviado para: ${_}

Nota: A funcionalidade de envio real requer configuração do servidor de email.`),S(!1)}catch(de){console.error("Error sending email:",de),alert("Erro ao enviar email!")}finally{z(!1)}},Qr=async()=>{try{if(console.log("📝 Iniciando cadastro de cliente:",Ne),!Ne.nome_razao){alert("Nome/Razão Social é obrigatório!");return}const{data:de,error:je}=await he.from("customers").insert([{...Ne,tipo:"fisica",active:!0}]).select().single();if(je)throw console.error("❌ Erro ao cadastrar cliente:",je),je;console.log("✅ Cliente cadastrado:",de),alert("✅ Cliente cadastrado com sucesso!"),c([...l,de]),ee({...H,customer_id:de.id}),_e(!1),J({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})}catch(de){console.error("❌ Erro completo:",de),alert(`❌ Erro ao cadastrar cliente: ${de.message}`)}},Gt=async()=>{try{if(console.log("🛠️ Iniciando cadastro de serviço:",Me),!Me.name){alert("Nome do serviço é obrigatório!");return}const{data:de,error:je}=await he.from("service_catalog").insert([{...Me,active:!0,unit:"un"}]).select().single();if(je)throw console.error("❌ Erro ao cadastrar serviço:",je),je;console.log("✅ Serviço cadastrado:",de),alert("✅ Serviço cadastrado com sucesso!"),B([...j,de]),ye(!1),Ie({name:"",description:"",base_price:0,estimated_time_minutes:60})}catch(de){console.error("❌ Erro completo:",de),alert(`❌ Erro ao cadastrar serviço: ${de.message}`)}},pt=async()=>{try{if(console.log("📦 Iniciando cadastro de material:",le),!le.name){alert("Nome do material é obrigatório!");return}const{data:de,error:je}=await he.from("inventory_items").insert([{name:le.name,unit:le.unit,purchase_price:le.unit_cost,sale_price:le.unit_price,quantity:le.quantity,active:!0,min_quantity:1}]).select().single();if(je)throw console.error("❌ Erro ao cadastrar material:",je),je;console.log("✅ Material cadastrado:",de),alert("✅ Material cadastrado com sucesso!"),E([...C,de]),st(!1),Se({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})}catch(de){console.error("❌ Erro completo:",de),alert(`❌ Erro ao cadastrar material: ${de.message}`)}};return n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen pb-24",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(vt,{className:"h-8 w-8 text-blue-600"}),a?"Editar Ordem de Serviço":"Nova Ordem de Serviço Detalhada"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema completo com múltiplos serviços, materiais e funcionários"})]}),!a&&n.jsxs("div",{className:"text-sm",children:[Oe&&n.jsx("span",{className:"text-blue-600",children:"💾 Salvando..."}),!Oe&&dt&&n.jsxs("span",{className:"text-green-600",children:["✓ Salvo ",new Date(dt).toLocaleTimeString()]}),_t&&n.jsx("span",{className:"text-red-600",children:"⚠️ Erro ao salvar"})]})]}),!a&&n.jsx("div",{className:"mb-4",children:n.jsxs("button",{onClick:()=>I(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-lg",children:[n.jsx(vt,{className:"h-5 w-5"}),"📋 Usar Template de OS"]})}),n.jsx(due,{isOpen:k,onClose:()=>I(!1),onSelect:de=>{ee({...H,...de.formData||{}}),de.serviceItems&&q(de.serviceItems),I(!1)}}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(nn,{className:"h-5 w-5 text-blue-600"}),"Informações Básicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{value:H.customer_id,onChange:de=>lt(de.target.value),className:"flex-1 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),l.map(de=>n.jsx("option",{value:de.id,children:de.nome_razao},de.id))]}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo cliente"),_e(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-1",title:"Novo Cliente",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo"]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),n.jsx("input",{type:"datetime-local",value:H.scheduled_at,onChange:de=>ee({...H,scheduled_at:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Início Execução"}),n.jsx("input",{type:"date",value:H.data_inicio_execucao,onChange:de=>ee({...H,data_inicio_execucao:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execução (dias)"}),n.jsx("input",{type:"number",value:H.prazo_execucao_dias,min:"1",onChange:de=>ee({...H,prazo_execucao_dias:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição Geral"}),n.jsx("textarea",{value:H.description,onChange:de=>ee({...H,description:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrição opcional da OS..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado do Serviço"}),n.jsx("textarea",{value:H.escopo_detalhado,onChange:de=>ee({...H,escopo_detalhado:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva em detalhes tudo que será executado no serviço..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatório Técnico"}),n.jsx("textarea",{value:H.relatorio_tecnico,onChange:de=>ee({...H,relatorio_tecnico:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatório técnico detalhado (diagnóstico, análise, etc)..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientações de Serviço"}),n.jsx("textarea",{value:H.orientacoes_servico,onChange:de=>ee({...H,orientacoes_servico:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Instruções e orientações para a equipe executar o serviço..."})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:H.show_value,onChange:de=>ee({...H,show_value:de.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Exibir valores na proposta (desmarque para enviar ao cliente sem valores ou para funcionários)"})]})})]}),d&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[n.jsx(nn,{className:"h-4 w-4"}),"Dados do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Nome/Razão Social:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.nome_razao})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"CPF/CNPJ:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.cpf||d.cnpj||"Não informado"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Telefone:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.telefone||"Não informado"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.email||"Não informado"})]}),d.address&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"text-gray-600",children:"Endereço:"}),n.jsx("p",{className:"font-medium text-gray-900",children:[d.address.logradouro,d.address.numero,d.address.complemento,d.address.bairro,d.address.cidade,d.address.estado,d.address.cep&&`CEP: ${d.address.cep}`].filter(Boolean).join(", ")})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-green-600"}),"Pagamento e Financeiro"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("select",{value:H.payment_method,onChange:de=>ee({...H,payment_method:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"debito",children:"Cartão de Débito"}),n.jsx("option",{value:"credito",children:"Cartão de Crédito"}),n.jsx("option",{value:"transferencia",children:"Transferência Bancária"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"cheque",children:"Cheque"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),n.jsxs("select",{value:H.payment_installments,onChange:de=>ee({...H,payment_installments:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"1",children:"À vista"}),[2,3,4,5,6,7,8,9,10,12].map(de=>n.jsxs("option",{value:de,children:[de,"x"]},de))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancária"}),n.jsxs("select",{value:H.bank_account_id,onChange:de=>ee({...H,bank_account_id:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Padrão"}),y.map(de=>n.jsxs("option",{value:de.id,children:[de.account_name," - ",de.bank_name]},de.id))]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(tr,{className:"h-5 w-5 text-amber-600"}),"Garantia"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Período de Garantia"}),n.jsx("input",{type:"number",value:H.warranty_period,min:"0",onChange:de=>ee({...H,warranty_period:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Período"}),n.jsxs("select",{value:H.warranty_type,onChange:de=>ee({...H,warranty_type:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"days",children:"Dias"}),n.jsx("option",{value:"months",children:"Meses"}),n.jsx("option",{value:"years",children:"Anos"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),n.jsx("textarea",{value:H.warranty_terms,onChange:de=>ee({...H,warranty_terms:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condições da garantia: cobertura, exclusões, prazos..."})]}),n.jsx("div",{className:"md:col-span-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Garantia:"})," ",H.warranty_period," ",H.warranty_type==="days"?"dias":H.warranty_type==="months"?"meses":"anos"," ",H.scheduled_at&&`(válida até ${new Date(new Date(H.scheduled_at).getTime()+H.warranty_period*(H.warranty_type==="days"?864e5:H.warranty_type==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR")})`]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-green-600"}),"💳 Condições de Pagamento"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condições de Pagamento"}),n.jsx("textarea",{value:H.payment_conditions,onChange:de=>ee({...H,payment_conditions:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Ex: Sinal de 50% e o valor restante após a conclusão, Pagamento à vista com 10% de desconto, Parcelado em 3x sem juros, etc."})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:"💡 Dica:"})," Estas condições aparecerão no PDF da ordem de serviço e na proposta enviada ao cliente."]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 shadow-md border-2 border-red-300",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-red-600"}),"💸 Custos Adicionais (Deduzidos do Total)"]}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 mb-4",children:n.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[n.jsx(xs,{className:"h-4 w-4"}),n.jsx("strong",{children:"⚠️ Atenção:"})," Estes custos serão DEDUZIDOS (subtraídos) do valor total da OS, não adicionados."]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🚗 Deslocamento"}),n.jsx("input",{type:"number",value:H.custo_deslocamento,min:"0",step:"0.01",onChange:de=>ee({...H,custo_deslocamento:Number(de.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🅿️ Estacionamento"}),n.jsx("input",{type:"number",value:H.custo_estacionamento,min:"0",step:"0.01",onChange:de=>ee({...H,custo_estacionamento:Number(de.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"🛣️ Pedágio"}),n.jsx("input",{type:"number",value:H.custo_pedagio,min:"0",step:"0.01",onChange:de=>ee({...H,custo_pedagio:Number(de.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:"💵 Outros Custos"}),n.jsx("input",{type:"number",value:H.custo_outros,min:"0",step:"0.01",onChange:de=>ee({...H,custo_outros:Number(de.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrição dos Outros Custos"}),n.jsx("input",{type:"text",value:H.descricao_outros,onChange:de=>ee({...H,descricao_outros:de.target.value}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"Ex: Alimentação, hospedagem, materiais extras..."})]}),(H.custo_deslocamento>0||H.custo_estacionamento>0||H.custo_pedagio>0||H.custo_outros>0)&&n.jsxs("div",{className:"md:col-span-2 bg-red-100 border-2 border-red-400 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:"💸 Total de Custos a Deduzir:"}),n.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["-",sr((H.custo_deslocamento||0)+(H.custo_estacionamento||0)+(H.custo_pedagio||0)+(H.custo_outros||0))]}),n.jsx("p",{className:"text-xs text-red-700 mt-1 font-semibold",children:"⚠️ Este valor será DEDUZIDO do total da OS"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(vt,{className:"h-5 w-5 text-blue-600"}),"Contrato"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),n.jsxs("select",{value:H.contract_template_id,onChange:de=>ee({...H,contract_template_id:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Sem contrato"}),x.map(de=>n.jsx("option",{value:de.id,children:de.name},de.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações do Contrato"}),n.jsx("textarea",{value:H.contract_notes,onChange:de=>ee({...H,contract_notes:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Cláusulas especiais, condições particulares..."})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 shadow-md border-2 border-blue-300",children:[n.jsxs("button",{type:"button",onClick:()=>Ze("company"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-blue-700 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hc,{className:"h-5 w-5 text-blue-600"}),"🏢 Dados da Empresa no Documento"]}),fe.company?n.jsx(xc,{className:"h-5 w-5"}):n.jsx(oo,{className:"h-5 w-5"})]}),fe.company&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome da Empresa"}),n.jsx("input",{type:"text",value:H.company_name,onChange:de=>ee({...H,company_name:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Deixe vazio para usar configuração padrão"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CNPJ"}),n.jsx("input",{type:"text",value:H.company_cnpj,onChange:de=>ee({...H,company_cnpj:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:H.company_phone,onChange:de=>ee({...H,company_phone:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:H.company_email,onChange:de=>ee({...H,company_email:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com.br"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Endereço Completo"}),n.jsx("textarea",{value:H.company_address,onChange:de=>ee({...H,company_address:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Rua, número, complemento, bairro, cidade - UF, CEP"})]}),n.jsx("div",{className:"md:col-span-2 bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"💡 Dica:"})," Estes dados sobrescrevem as configurações padrão apenas para este documento."]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[n.jsxs("button",{type:"button",onClick:()=>Ze("bankData"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-green-700 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pn,{className:"h-5 w-5 text-green-600"}),"💳 Dados Bancários e Formas de Pagamento"]}),fe.bankData?n.jsx(xc,{className:"h-5 w-5"}):n.jsx(oo,{className:"h-5 w-5"})]}),fe.bankData&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Formas de Pagamento Aceitas"}),n.jsx("input",{type:"text",value:H.payment_methods_text,onChange:de=>ee({...H,payment_methods_text:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Transferência bancária, dinheiro, cartão de crédito..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Chave PIX"}),n.jsx("input",{type:"text",value:H.payment_pix,onChange:de=>ee({...H,payment_pix:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"CPF/CNPJ ou chave aleatória"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Banco"}),n.jsx("input",{type:"text",value:H.bank_name,onChange:de=>ee({...H,bank_name:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome do Banco"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Agência"}),n.jsx("input",{type:"text",value:H.bank_agency,onChange:de=>ee({...H,bank_agency:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta"}),n.jsx("input",{type:"text",value:H.bank_account,onChange:de=>ee({...H,bank_account:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"00000-0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Conta"}),n.jsxs("select",{value:H.bank_account_type,onChange:de=>ee({...H,bank_account_type:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"Corrente",children:"Corrente"}),n.jsx("option",{value:"Poupança",children:"Poupança"}),n.jsx("option",{value:"Salário",children:"Salário"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Titular da Conta"}),n.jsx("input",{type:"text",value:H.bank_holder,onChange:de=>ee({...H,bank_holder:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo do titular"})]}),n.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:"💡 Dica:"})," Estes dados bancários aparecerão no documento para facilitar o pagamento do cliente."]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 shadow-md border-2 border-purple-300",children:[n.jsxs("button",{type:"button",onClick:()=>Ze("additionalClauses"),className:"w-full flex items-center justify-between text-lg font-semibold mb-4 hover:text-purple-700 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zne,{className:"h-5 w-5 text-purple-600"}),"📋 Cláusulas e Informações Adicionais"]}),fe.additionalClauses?n.jsx(xc,{className:"h-5 w-5"}):n.jsx(oo,{className:"h-5 w-5"})]}),fe.additionalClauses&&n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cláusulas Contratuais Adicionais"}),n.jsx("textarea",{value:H.contract_clauses,onChange:de=>ee({...H,contract_clauses:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:5,placeholder:"Digite cláusulas contratuais específicas, termos e condições adicionais..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informações Adicionais / Rodapé"}),n.jsx("textarea",{value:H.additional_info,onChange:de=>ee({...H,additional_info:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Mensagem de rodapé, slogan, avisos importantes..."})]}),n.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-purple-800",children:[n.jsx("strong",{children:"💡 Dica:"})," Use este espaço para adicionar informações que devem aparecer no final do documento."]})})]})]}),Y.map((de,je)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Serviço #",je+1]}),Y.length>1&&n.jsx("button",{onClick:()=>zt(de.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mb-4",children:n.jsxs("div",{className:"flex gap-2 items-end",children:[n.jsx("div",{className:"flex-1",children:n.jsx(cue,{services:j.map(Qe=>({id:Qe.id,name:Qe.name,description:Qe.description,category:Qe.category,base_price:Qe.base_price})),onSelect:Qe=>{if(Qe){const Le=j.find(et=>et.id===Qe.id);if(Le){const St=(Le.service_catalog_materials||[]).map(Ue=>({id:crypto.randomUUID(),material_id:Ue.material_id||"",nome:Ue.material_name||"",quantidade:Number(Ue.quantity)||1,preco_compra:Number(Ue.unit_cost_at_time)||0,preco_venda:Number(Ue.unit_sale_price)||0,unidade_medida:Ue.material_unit||"UN",preco_compra_unitario:Number(Ue.unit_cost_at_time)||0,preco_venda_unitario:Number(Ue.unit_sale_price)||0,custo_total:(Number(Ue.quantity)||1)*(Number(Ue.unit_cost_at_time)||0),valor_total:(Number(Ue.quantity)||1)*(Number(Ue.unit_sale_price)||0),lucro:(Number(Ue.quantity)||1)*(Number(Ue.unit_sale_price)||0)-(Number(Ue.quantity)||1)*(Number(Ue.unit_cost_at_time)||0)}));mt(de.id,{descricao:Le.name,preco_unitario:Number(Le.base_price)||0,tempo_estimado_minutos:Number(Le.estimated_duration)||0,materiais:St,funcionarios:[]})}}}})}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo serviço"),ye(!0)},className:"px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1 whitespace-nowrap",title:"Novo Serviço",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Serviço"]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição do Serviço *"}),n.jsx("input",{type:"text",value:de.descricao,onChange:Qe=>mt(de.id,{descricao:Qe.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação de Ar Condicionado 12k BTU"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (min)"}),n.jsx("input",{type:"number",value:de.tempo_estimado_minutos,onChange:Qe=>mt(de.id,{tempo_estimado_minutos:Number(Qe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:de.quantidade,min:"1",onChange:Qe=>mt(de.id,{quantidade:Number(Qe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Unitário"}),n.jsx("input",{type:"number",value:de.preco_unitario,step:"0.01",onChange:Qe=>mt(de.id,{preco_unitario:Number(Qe.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total"}),n.jsx("input",{type:"text",value:sr(de.preco_total),disabled:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 font-bold"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx($t,{className:"h-4 w-4"}),"Materiais"]}),n.jsx("button",{onClick:()=>zn(de.id),className:"px-3 py-1 text-sm bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:"+ Material"})]}),de.materiais.length>0&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:"🔍 Buscar do Inventário/Estoque"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("select",{onChange:Qe=>{const Le=C.find(et=>et.id===Qe.target.value);if(Le&&de.materiais.length>0){const et=de.materiais[de.materiais.length-1];et.material_id||Xn(de.id,et.id,{material_id:Le.id,nome:Le.name,quantidade:1,preco_compra:Number(Le.purchase_price)||0,preco_venda:Number(Le.sale_price)||0,unidade_medida:Le.unit||"UN"})}Qe.target.value=""},className:"flex-1 px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white",children:[n.jsx("option",{value:"",children:"Selecione um item do estoque..."}),C.map(Qe=>n.jsxs("option",{value:Qe.id,children:[Qe.name," - Estoque: ",Qe.quantity||0," ",Qe.unit||"UN"," - R$ ",Number(Qe.sale_price||0).toFixed(2)]},Qe.id))]}),n.jsxs("button",{type:"button",onClick:()=>{console.log("Abrindo modal de novo material"),st(!0)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors flex items-center gap-1 whitespace-nowrap",title:"Novo Material",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo"]})]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Preenche o último material vazio adicionado"})]}),de.materiais.length===0&&n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum material adicionado"}),de.materiais.map(Qe=>n.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[n.jsxs("select",{value:Qe.material_id,onChange:Le=>Pr(de.id,Qe.id,Le.target.value),className:"col-span-3 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Selecione o material..."}),h.map(Le=>n.jsxs("option",{value:Le.id,children:[Le.name," - ",sr(Number(Le.sale_price))," (",Le.unit||"UN",")"]},Le.id))]}),n.jsxs("div",{className:"col-span-2 relative",children:[n.jsx("input",{type:"number",value:Qe.quantidade,min:"0.01",step:"0.01",onChange:Le=>Xn(de.id,Qe.id,{quantidade:Number(Le.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",placeholder:"Qtd"}),Qe.unidade_medida&&n.jsx("span",{className:"absolute right-3 top-2 text-xs text-gray-500 font-semibold",children:Qe.unidade_medida})]}),n.jsx("button",{onClick:()=>br(de.id,Qe.id),className:"px-3 py-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:n.jsx(rr,{className:"h-4 w-4"})})]}),Qe.material_id&&n.jsxs("div",{className:"space-y-3 mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Custo Unitário:"}),n.jsxs("div",{className:"relative",children:[n.jsx(pr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-orange-500"}),n.jsx("input",{type:"number",value:Qe.preco_compra_unitario||"",onChange:Le=>Xn(de.id,Qe.id,{preco_compra_unitario:Number(Le.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-orange-500",step:"0.01",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Preço de Venda:"}),n.jsxs("div",{className:"relative",children:[n.jsx(pr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-green-500"}),n.jsx("input",{type:"number",value:Qe.preco_venda_unitario||"",onChange:Le=>Xn(de.id,Qe.id,{preco_venda_unitario:Number(Le.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-500",step:"0.01",placeholder:"0.00"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 rounded p-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Custo Total:"}),n.jsx("p",{className:"font-bold text-orange-700",children:sr(Qe.custo_total||0)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Venda Total:"}),n.jsx("p",{className:"font-bold text-green-700",children:sr(Qe.valor_total||0)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Lucro:"}),n.jsx("p",{className:`font-bold ${(Qe.lucro||0)>=0?"text-green-600":"text-red-600"}`,children:sr(Qe.lucro||0)})]})]})]})]},Qe.id))]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(Zt,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-purple-900",children:"Mão de Obra"})]})}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-4 mb-4",children:[n.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[n.jsx(Ir,{className:"h-4 w-4"}),"🔍 Buscar e Adicionar Funcionário"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:X[de.id]||"",onChange:Qe=>se({...X,[de.id]:Qe.target.value}),className:"w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-sm",placeholder:"Digite o nome do funcionário..."}),X[de.id]&&n.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-purple-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:[f.filter(Qe=>{const Le=(Qe.name||Qe.nome||"").toLowerCase(),et=(Qe.role||Qe.cargo||"").toLowerCase(),St=X[de.id].toLowerCase();return Le.includes(St)||et.includes(St)}).map(Qe=>n.jsx("button",{onClick:()=>{const Le={id:crypto.randomUUID(),staff_id:Qe.id,nome:Qe.name||Qe.nome||"Funcionário",tempo_minutos:60,custo_hora:Number(Qe.hourly_rate||Qe.custo_hora||0),custo_total:1*Number(Qe.hourly_rate||Qe.custo_hora||0)};mt(de.id,{funcionarios:[...de.funcionarios,Le]}),se({...X,[de.id]:""})},className:"w-full px-4 py-3 hover:bg-purple-50 transition-colors text-left border-b border-purple-100 last:border-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-purple-900",children:Qe.name||Qe.nome}),n.jsx("p",{className:"text-xs text-gray-600",children:Qe.role||Qe.cargo||"N/A"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",Number(Qe.hourly_rate||Qe.custo_hora||0).toFixed(2),"/h"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para adicionar"})]})]})},Qe.id)),f.filter(Qe=>{const Le=(Qe.name||Qe.nome||"").toLowerCase(),et=(Qe.role||Qe.cargo||"").toLowerCase(),St=X[de.id].toLowerCase();return Le.includes(St)||et.includes(St)}).length===0&&n.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[n.jsx(Zt,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Nenhum funcionário encontrado"})]})]})]}),n.jsx("p",{className:"text-xs text-purple-700 mt-2 flex items-center gap-1",children:"✨ Digite para buscar e adicionar funcionários instantaneamente"})]}),de.funcionarios.length>0&&n.jsx("div",{className:"space-y-3",children:de.funcionarios.map((Qe,Le)=>n.jsxs(ue.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white border-2 border-purple-100 rounded-xl p-4 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-purple-600 font-bold text-sm",children:Le+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900",children:Qe.nome}),n.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",Qe.custo_hora.toFixed(2),"/hora"]})]})]}),n.jsx("button",{onClick:()=>Ur(de.id,Qe.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover funcionário",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"⏱️ Tempo de Trabalho"}),n.jsx("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[10,30,60,120,240,480].map(et=>n.jsx("button",{type:"button",onClick:()=>Ts(de.id,Qe.id,{tempo_minutos:et}),className:`px-2 py-1 rounded-lg text-xs font-semibold transition-all ${Qe.tempo_minutos===et?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:et<60?`${et}m`:`${et/60}h`},et))}),n.jsx("select",{value:Qe.tempo_minutos,onChange:et=>Ts(de.id,Qe.id,{tempo_minutos:Number(et.target.value)}),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Array.from({length:96},(et,St)=>(St+1)*10).map(et=>n.jsx("option",{value:et,children:et<60?`${et} minutos`:et===60?"1 hora":et%60===0?`${et/60} horas`:`${Math.floor(et/60)}h ${et%60}m`},et))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"💵 Custo/Hora"}),n.jsx("input",{type:"text",value:sr(Qe.custo_hora),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-blue-50 font-bold text-blue-700 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"💰 Custo Total"}),n.jsx("input",{type:"text",value:sr(Qe.custo_total),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-green-50 font-bold text-green-700 text-sm"})]})]})]})]},Qe.id))}),de.funcionarios.length===0&&n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[n.jsx(Zt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nenhum funcionário adicionado"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Use a busca acima para adicionar"})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Custo Materiais:"}),n.jsx("p",{className:"font-bold text-orange-600",children:sr(de.custo_materiais)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Custo Mão Obra:"}),n.jsx("p",{className:"font-bold text-blue-600",children:sr(de.custo_mao_obra)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Lucro:"}),n.jsx("p",{className:"font-bold text-green-600",children:sr(de.lucro)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Margem:"}),n.jsxs("p",{className:"font-bold text-purple-600",children:[de.margem_lucro.toFixed(1),"%"]})]})]})]})]},de.id)),n.jsxs("button",{onClick:Pt,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Adicionar Outro Serviço"]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(uue,{subtotal:U.subtotal,discount:U.desconto,total:U.total,costMaterials:U.custo_total_materiais,costLabor:U.custo_total_mao_obra,totalCost:U.custo_total,profit:U.lucro_total,margin:U.margem_lucro}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border sticky top-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal Serviços:"}),n.jsx("span",{className:"font-semibold",children:sr(U.subtotal)})]}),(H.custo_deslocamento||0)+(H.custo_estacionamento||0)+(H.custo_pedagio||0)+(H.custo_outros||0)>0&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-3 space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-orange-700 flex items-center gap-1",children:"💸 Custos Adicionais (Deduzidos)"}),H.custo_deslocamento>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:"🚗 Deslocamento:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",sr(H.custo_deslocamento)]})]}),H.custo_estacionamento>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:"🅿️ Estacionamento:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",sr(H.custo_estacionamento)]})]}),H.custo_pedagio>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:"🛣️ Pedágio:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",sr(H.custo_pedagio)]})]}),H.custo_outros>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-orange-600",children:["💵 ",H.descricao_outros||"Outros",":"]}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",sr(H.custo_outros)]})]}),n.jsxs("div",{className:"pt-2 border-t border-orange-300 flex justify-between",children:[n.jsx("span",{className:"font-bold text-orange-700",children:"Total Deduzido:"}),n.jsxs("span",{className:"font-bold text-red-700",children:["-",sr((H.custo_deslocamento||0)+(H.custo_estacionamento||0)+(H.custo_pedagio||0)+(H.custo_outros||0))]})]})]})}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3 text-red-600",children:"💰 Desconto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto Percentual (%)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",value:H.desconto_percentual,step:"0.1",min:"0",max:"100",onChange:de=>ee({...H,desconto_percentual:Number(de.target.value),desconto_valor:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"}),n.jsx("span",{className:"text-red-700 font-bold text-lg",children:"%"})]})]}),n.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:"— OU —"}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto em Valor (R$)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-red-700 font-bold text-lg",children:"R$"}),n.jsx("input",{type:"number",value:H.desconto_valor,step:"0.01",min:"0",onChange:de=>ee({...H,desconto_valor:Number(de.target.value),desconto_percentual:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]})]}),n.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-3 flex justify-between items-center",children:[n.jsx("span",{className:"text-red-700 font-semibold",children:"Desconto Aplicado:"}),n.jsxs("span",{className:"text-red-700 font-bold text-xl",children:["-",sr(U.desconto)]})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"TOTAL:"}),n.jsx("span",{className:"text-blue-600",children:sr(U.total)})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:H.show_material_costs,onChange:de=>ee({...H,show_material_costs:de.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-gray-700",children:"Mostrar custos dos materiais no documento"})]}),n.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Se desmarcado, apenas os preços de venda serão exibidos"})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4 text-green-600"}),"Informações de Pagamento"]}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border-2 border-green-200",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Forma:"}),n.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:H.payment_method==="dinheiro"?"Dinheiro":H.payment_method==="pix"?"PIX":H.payment_method==="debito"?"Débito":H.payment_method==="credito"?"Crédito":H.payment_method==="transferencia"?"Transferência":H.payment_method==="boleto"?"Boleto":"Cheque"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Parcelas:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[H.payment_installments,"x ",H.payment_installments>1&&`de ${sr(U.total/H.payment_installments)}`]})]}),H.bank_account_id&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Conta:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:y.find(de=>de.id===H.bank_account_id)?.account_name||"Padrão"})]}),H.warranty_period>0&&n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[n.jsx(tr,{className:"h-3 w-3"}),"Garantia:"]}),n.jsxs("span",{className:"font-semibold text-amber-700",children:[H.warranty_period," ",H.warranty_type==="days"?"dias":H.warranty_type==="months"?"meses":"anos"]})]})]})})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Análise de Custos"}),n.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-700",children:"Custo Materiais:"}),n.jsx("span",{className:"font-bold text-orange-700",children:sr(U.custo_total_materiais)})]})}),n.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-blue-700",children:"Custo Mão de Obra:"}),n.jsx("span",{className:"font-bold text-blue-700",children:sr(U.custo_total_mao_obra)})]})}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),n.jsx("span",{className:"font-bold text-gray-900",children:sr(U.custo_total)})]})}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-green-700 font-semibold",children:"Lucro:"}),n.jsx("span",{className:"font-bold text-green-700 text-lg",children:sr(U.lucro_total)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-600 text-sm",children:"Margem:"}),n.jsxs("span",{className:"font-bold text-green-600",children:[U.margem_lucro.toFixed(1),"%"]})]})]})]})]})]})]}),M&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(bi,{className:"h-5 w-5 text-blue-600"}),"Enviar Ordem de Serviço"]}),n.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinatário"}),n.jsx("input",{type:"email",value:_,onChange:de=>T(de.target.value),placeholder:"cliente@email.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),n.jsx("textarea",{value:D,onChange:de=>L(de.target.value),placeholder:"Digite uma mensagem...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:ft,disabled:V,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:V?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(bi,{className:"h-4 w-4"}),"Enviar"]})})]})]})]})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[a&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:ve,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Imprimir OS",children:[n.jsx(ph,{className:"h-4 w-4"}),"Imprimir"]}),n.jsxs("button",{onClick:xt,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Baixar PDF",children:[n.jsx(ys,{className:"h-4 w-4"}),"Download"]}),n.jsxs("button",{onClick:Xe,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Enviar por Email",children:[n.jsx(bi,{className:"h-4 w-4"}),"Enviar"]})]}),n.jsxs("button",{onClick:yr,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-md",title:"Gerar PDF Profissional",children:[n.jsx(Hne,{className:"h-4 w-4"}),"Gerar PDF"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>t("/service-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Cancelar"]}),n.jsxs("button",{onClick:ei,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2 shadow-md",children:[n.jsx(Nr,{className:"h-4 w-4"}),i?"Salvando...":a?"Atualizar OS":"Salvar OS"]})]})]})}),(pe||ge||Ve)&&n.jsxs("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg z-[10000] shadow-lg font-bold animate-pulse",children:["✅ MODAL ABERTO: ",pe?"CLIENTE":ge?"SERVIÇO":"MATERIAL"]}),pe&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:de=>{console.log("Click no backdrop do modal cliente"),de.target===de.currentTarget&&(console.log("🚪 Fechando modal cliente"),_e(!1),J({nome_razao:"",telefone:"",email:"",cnpj_cpf:""}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:de=>de.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx(nn,{className:"h-5 w-5 text-green-600"}),"Novo Cliente"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome/Razão Social *"}),n.jsx("input",{type:"text",value:Ne.nome_razao,onChange:de=>J({...Ne,nome_razao:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Nome completo ou razão social"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF/CNPJ"}),n.jsx("input",{type:"text",value:Ne.cnpj_cpf,onChange:de=>J({...Ne,cnpj_cpf:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:Ne.telefone,onChange:de=>J({...Ne,telefone:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"(00) 00000-0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:Ne.email,onChange:de=>J({...Ne,email:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"email@exemplo.com"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{_e(!1),J({nome_razao:"",telefone:"",email:"",cnpj_cpf:""})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Qr,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Cadastrar"})]})]})}),ge&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:de=>{console.log("Click no backdrop do modal serviço"),de.target===de.currentTarget&&(console.log("🚪 Fechando modal serviço"),ye(!1),Ie({name:"",description:"",base_price:0,estimated_time_minutes:60}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:de=>de.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-blue-600"}),"Novo Serviço"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Serviço *"}),n.jsx("input",{type:"text",value:Me.name,onChange:de=>Ie({...Me,name:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalação de Ar Condicionado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição"}),n.jsx("textarea",{value:Me.description,onChange:de=>Ie({...Me,description:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrição detalhada do serviço"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Base (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:Me.base_price,onChange:de=>Ie({...Me,base_price:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),n.jsx("input",{type:"number",value:Me.estimated_time_minutes,onChange:de=>Ie({...Me,estimated_time_minutes:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"60"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{ye(!1),Ie({name:"",description:"",base_price:0,estimated_time_minutes:60})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Gt,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Cadastrar"})]})]})}),Ve&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[9999] p-4",onClick:de=>{console.log("Click no backdrop do modal material"),de.target===de.currentTarget&&(console.log("🚪 Fechando modal material"),st(!1),Se({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1}))},children:n.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",onClick:de=>de.stopPropagation(),children:[n.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-orange-600"}),"Novo Material"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:le.name,onChange:de=>Se({...le,name:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"Ex: Tubo PVC 100mm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),n.jsxs("select",{value:le.unit,onChange:de=>Se({...le,unit:de.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",children:[n.jsx("option",{value:"un",children:"Unidade (un)"}),n.jsx("option",{value:"m",children:"Metro (m)"}),n.jsx("option",{value:"kg",children:"Quilograma (kg)"}),n.jsx("option",{value:"l",children:"Litro (l)"}),n.jsx("option",{value:"cx",children:"Caixa (cx)"}),n.jsx("option",{value:"pç",children:"Peça (pç)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:le.quantity,onChange:de=>Se({...le,quantity:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Custo (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:le.unit_cost,onChange:de=>Se({...le,unit_cost:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Venda (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:le.unit_price,onChange:de=>Se({...le,unit_price:Number(de.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{st(!1),Se({name:"",unit:"un",unit_cost:0,unit_price:0,quantity:1})},className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:pt,className:"flex-1 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Cadastrar"})]})]})})]})},Aq=6048e5,hue=864e5,lb=43200,vO=1440,wO=Symbol.for("constructDateFrom");function wh(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wO in t?t[wO](e):t instanceof Date?new t.constructor(e):new Date(e)}function ca(t,e){return wh(e||t,t)}let Aue={};function Wx(){return Aue}function X0(t,e){const r=Wx(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ca(t,e?.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function zv(t,e){return X0(t,{...e,weekStartsOn:1})}function mq(t,e){const r=ca(t,e?.in),s=r.getFullYear(),a=wh(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=zv(a),o=wh(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=zv(o);return r.getTime()>=i.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function Vv(t){const e=ca(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function N1(t,...e){const r=wh.bind(null,t||e.find(s=>typeof s=="object"));return e.map(r)}function jO(t,e){const r=ca(t,e?.in);return r.setHours(0,0,0,0),r}function mue(t,e,r){const[s,a]=N1(r?.in,t,e),i=jO(s),o=jO(a),l=+i-Vv(i),c=+o-Vv(o);return Math.round((l-c)/hue)}function fue(t,e){const r=mq(t,e),s=wh(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),zv(s)}function gv(t,e){const r=+ca(t)-+ca(e);return r<0?-1:r>0?1:r}function pue(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gue(t){return!(!pue(t)&&typeof t!="number"||isNaN(+ca(t)))}function xue(t,e,r){const[s,a]=N1(r?.in,t,e),i=s.getFullYear()-a.getFullYear(),o=s.getMonth()-a.getMonth();return i*12+o}function yue(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function bue(t,e){return+ca(t)-+ca(e)}function vue(t,e){const r=ca(t,e?.in);return r.setHours(23,59,59,999),r}function wue(t,e){const r=ca(t,e?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function jue(t,e){const r=ca(t,e?.in);return+vue(r,e)==+wue(r,e)}function Nue(t,e,r){const[s,a,i]=N1(r?.in,t,t,e),o=gv(a,i),l=Math.abs(xue(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=gv(a,i)===-o;jue(s)&&l===1&&gv(s,i)===1&&(c=!1);const d=o*(l-+c);return d===0?0:d}function _ue(t,e,r){const s=bue(t,e)/1e3;return yue(r?.roundingMethod)(s)}function Cue(t,e){const r=ca(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Sue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bue=(t,e,r)=>{let s;const a=Sue[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ep(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Eue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tue={date:ep({formats:Eue,defaultWidth:"full"}),time:ep({formats:kue,defaultWidth:"full"}),dateTime:ep({formats:Pue,defaultWidth:"full"})},Fue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Oue=(t,e,r,s)=>Fue[t];function dc(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Iue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Due={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Que=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$ue={ordinalNumber:Que,era:dc({values:Iue,defaultWidth:"wide"}),quarter:dc({values:Due,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dc({values:Mue,defaultWidth:"wide"}),day:dc({values:Lue,defaultWidth:"wide"}),dayPeriod:dc({values:Rue,defaultWidth:"wide",formattingValues:Uue,defaultFormattingWidth:"wide"})};function uc(t){return(e,r={})=>{const s=r.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?que(l,h=>h.test(o)):Hue(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Hue(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function que(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function fq(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const zue=/^(\d+)(th|st|nd|rd)?/i,Vue=/\d+/i,Kue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wue={any:[/^b/i,/^(a|c)/i]},Gue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xue={any:[/1/i,/2/i,/3/i,/4/i]},Yue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Zue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ehe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},the={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nhe={ordinalNumber:fq({matchPattern:zue,parsePattern:Vue,valueCallback:t=>parseInt(t,10)}),era:uc({matchPatterns:Kue,defaultMatchWidth:"wide",parsePatterns:Wue,defaultParseWidth:"any"}),quarter:uc({matchPatterns:Gue,defaultMatchWidth:"wide",parsePatterns:Xue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uc({matchPatterns:Yue,defaultMatchWidth:"wide",parsePatterns:Jue,defaultParseWidth:"any"}),day:uc({matchPatterns:Zue,defaultMatchWidth:"wide",parsePatterns:ehe,defaultParseWidth:"any"}),dayPeriod:uc({matchPatterns:the,defaultMatchWidth:"any",parsePatterns:rhe,defaultParseWidth:"any"})},pq={code:"en-US",formatDistance:Bue,formatLong:Tue,formatRelative:Oue,localize:$ue,match:nhe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function she(t,e){const r=ca(t,e?.in);return mue(r,Cue(r))+1}function ahe(t,e){const r=ca(t,e?.in),s=+zv(r)-+fue(r);return Math.round(s/Aq)+1}function gq(t,e){const r=ca(t,e?.in),s=r.getFullYear(),a=Wx(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=wh(e?.in||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=X0(o,e),c=wh(e?.in||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=X0(c,e);return+r>=+l?s+1:+r>=+d?s:s-1}function ihe(t,e){const r=Wx(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=gq(t,e),i=wh(e?.in||t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),X0(i,e)}function ohe(t,e){const r=ca(t,e?.in),s=+X0(r,e)-+ihe(r,e);return Math.round(s/Aq)+1}function ln(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Qu={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return ln(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ln(r+1,2)},d(t,e){return ln(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ln(t.getHours()%12||12,e.length)},H(t,e){return ln(t.getHours(),e.length)},m(t,e){return ln(t.getMinutes(),e.length)},s(t,e){return ln(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return ln(a,e.length)}},df={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NO={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Qu.y(t,e)},Y:function(t,e,r,s){const a=gq(t,s),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return ln(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):ln(i,e.length)},R:function(t,e){const r=mq(t);return ln(r,e.length)},u:function(t,e){const r=t.getFullYear();return ln(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return ln(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return ln(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Qu.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return ln(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const a=ohe(t,s);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):ln(a,e.length)},I:function(t,e,r){const s=ahe(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):ln(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Qu.d(t,e)},D:function(t,e,r){const s=she(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):ln(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ln(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ln(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return ln(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let a;switch(s===12?a=df.noon:s===0?a=df.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let a;switch(s>=17?a=df.evening:s>=12?a=df.afternoon:s>=4?a=df.morning:a=df.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Qu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Qu.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):ln(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):ln(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Qu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Qu.s(t,e)},S:function(t,e){return Qu.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return CO(s);case"XXXX":case"XX":return NA(s);case"XXXXX":case"XXX":default:return NA(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return CO(s);case"xxxx":case"xx":return NA(s);case"xxxxx":case"xxx":default:return NA(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_O(s,":");case"OOOO":default:return"GMT"+NA(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_O(s,":");case"zzzz":default:return"GMT"+NA(s,":")}},t:function(t,e,r){const s=Math.trunc(+t/1e3);return ln(s,e.length)},T:function(t,e,r){return ln(+t,e.length)}};function _O(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+e+ln(i,2)}function CO(t,e){return t%60===0?(t>0?"-":"+")+ln(Math.abs(t)/60,2):NA(t,e)}function NA(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=ln(Math.trunc(s/60),2),i=ln(s%60,2);return r+a+e+i}const SO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},lhe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return SO(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",SO(s,e)).replace("{{time}}",xq(a,e))},che={p:xq,P:lhe},dhe=/^D+$/,uhe=/^Y+$/,hhe=["D","DD","YY","YYYY"];function Ahe(t){return dhe.test(t)}function mhe(t){return uhe.test(t)}function fhe(t,e,r){const s=phe(t,e,r);if(console.warn(s),hhe.includes(t))throw new RangeError(s)}function phe(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ghe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yhe=/^'([^]*?)'?$/,bhe=/''/g,vhe=/[a-zA-Z]/;function yn(t,e,r){const s=Wx(),a=r?.locale??s.locale??pq,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=ca(t,r?.in);if(!gue(l))throw new RangeError("Invalid time value");let c=e.match(xhe).map(u=>{const h=u[0];if(h==="p"||h==="P"){const m=che[h];return m(u,a.formatLong)}return u}).join("").match(ghe).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:whe(u)};if(NO[h])return{isToken:!0,value:u};if(h.match(vhe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!r?.useAdditionalWeekYearTokens&&mhe(h)||!r?.useAdditionalDayOfYearTokens&&Ahe(h))&&fhe(h,e,String(t));const m=NO[h[0]];return m(l,h,a.localize,d)}).join("")}function whe(t){const e=t.match(yhe);return e?e[1].replace(bhe,"'"):t}function jhe(t,e,r){const s=Wx(),a=r?.locale??s.locale??pq,i=2520,o=gv(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[c,d]=N1(r?.in,...o>0?[e,t]:[t,e]),u=_ue(d,c),h=(Vv(d)-Vv(c))/1e3,m=Math.round((u-h)/60);let f;if(m<2)return r?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):m===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",m,l);if(m<45)return a.formatDistance("xMinutes",m,l);if(m<90)return a.formatDistance("aboutXHours",1,l);if(m<vO){const b=Math.round(m/60);return a.formatDistance("aboutXHours",b,l)}else{if(m<i)return a.formatDistance("xDays",1,l);if(m<lb){const b=Math.round(m/vO);return a.formatDistance("xDays",b,l)}else if(m<lb*2)return f=Math.round(m/lb),a.formatDistance("aboutXMonths",f,l)}if(f=Nue(d,c),f<12){const b=Math.round(m/lb);return a.formatDistance("xMonths",b,l)}else{const b=f%12,y=Math.trunc(f/12);return b<3?a.formatDistance("aboutXYears",y,l):b<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}}const BO=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),Nhe=t=>({ordem_servico:"OS",orcamento:"ORC",proposta:"PROP",contrato:"CONT",relatorio:"REL",documento:"DOC",nota_fiscal:"NF"})[t]||"DOC",_he=t=>{const{documentType:e,documentNumber:r,clientName:s,customFilename:a}=t;if(a)return a.endsWith(".pdf")?a:`${a}.pdf`;const i=Nhe(e),o=yn(new Date,"dd-MM-yyyy");let l=i;if(r){const c=BO(r);l+=`_${c}`}if(s){const c=BO(s);l+=`_${c}`}return l+=`_${o}.pdf`,l},Che=(t,e)=>{const r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},She=t=>{if(typeof window<"u"&&window.alert){const e=new CustomEvent("toast",{detail:{message:`Documento gerado: ${t}`,type:"success"}});window.dispatchEvent(e)}console.log("✅ PDF gerado:",t)},Bhe=t=>{const e=`❌ Erro ao gerar documento: ${t}`;if(typeof window<"u"){const r=new CustomEvent("toast",{detail:{message:e,type:"error"}});window.dispatchEvent(r)}console.error("❌ Erro na geração do PDF:",t)},Ehe=async(t,e)=>{try{console.log("🖨️ Iniciando geração de documento completo...",e);const r=await t();if(!r||r.size===0)throw new Error("PDF gerado está vazio");const s=_he(e);return Che(r,s),e.showSuccessMessage!==!1&&She(s),{success:!0,filename:s,message:"Documento completo gerado com sucesso em formato PDF",blob:r}}catch(r){const s=r instanceof Error?r.message:"Erro desconhecido";return console.error("Erro ao gerar PDF:",r),e.showSuccessMessage!==!1&&Bhe(s),{success:!1,filename:"",message:`Erro ao gerar documento: ${s}`,error:s}}},khe=t=>{const[e,r]=F.useState(!1),[s,a]=F.useState(null),[i,o]=F.useState(null),l=F.useCallback(async(d,u)=>{r(!0),a(null);const h={documentType:t.documentType,showSuccessMessage:!0,includeImages:!0,format:"A4",orientation:"portrait",...u};try{const m=await Ehe(d,h);return o(m),m.success?t.onSuccess?.(m):(a(m.error||"Erro desconhecido"),t.onError?.(m.error||"Erro desconhecido")),m}catch(m){const f=m instanceof Error?m.message:"Erro ao imprimir documento";return a(f),t.onError?.(f),{success:!1,filename:"",message:f,error:f}}finally{r(!1)}},[t]),c=F.useCallback(()=>{a(null),o(null),r(!1)},[]);return{print:l,isPrinting:e,error:s,lastResult:i,reset:c}},Phe=({documentType:t,generatePDF:e,printOptions:r,label:s="Imprimir Documento",variant:a="primary",size:i="md",fullWidth:o=!1,icon:l=!0,disabled:c=!1,onSuccess:d,onError:u,className:h=""})=>{const{print:m,isPrinting:f,error:b,lastResult:y}=khe({documentType:t,onSuccess:()=>d?.(),onError:B=>u?.(B)}),g=async()=>{await m(e,r)},x=()=>{switch(a){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white";case"secondary":return"bg-gray-600 hover:bg-gray-700 text-white";case"outline":return"border-2 border-blue-600 text-blue-600 hover:bg-blue-50";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},v=()=>{switch(i){case"sm":return"px-3 py-1.5 text-sm";case"md":return"px-4 py-2 text-base";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2 text-base"}},j=()=>l?f?n.jsx(q0,{className:"h-5 w-5 animate-spin"}):y?.success?n.jsx(Ja,{className:"h-5 w-5"}):b?n.jsx(xs,{className:"h-5 w-5"}):n.jsx(ph,{className:"h-5 w-5"}):null;return n.jsxs("button",{onClick:g,disabled:c||f,className:`
        flex items-center justify-center gap-2 font-medium rounded-lg
        transition-all duration-200
        ${x()}
        ${v()}
        ${o?"w-full":""}
        ${c||f?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${h}
      `,title:"Gerar documento completo em PDF (formato A4)",children:[j(),n.jsx("span",{children:f?"Gerando PDF...":s})]})},The=async(t,e)=>{try{const{data:r,error:s}=await he.from("contract_templates").select("*").eq("id",t).single();if(s||!r)return console.error("Template not found:",s),null;const{data:a,error:i}=await he.from("service_orders").select(`
        *,
        customers (
          id,
          name,
          cpf_cnpj,
          email,
          phone,
          customer_addresses (
            logradouro,
            numero,
            complemento,
            bairro,
            cidade,
            estado,
            cep
          )
        )
      `).eq("id",e.serviceOrderId).single();if(i||!a)return console.error("Service order not found:",i),null;const{data:o}=await he.from("service_order_items").select("service_name, description, quantity, unit_price, total_price").eq("service_order_id",e.serviceOrderId),{data:l}=await he.from("company_settings").select("*").limit(1).single(),{data:c}=await he.from("bank_accounts").select("*").eq("is_default",!0).limit(1).maybeSingle(),d=a.customers,u=d?.customer_addresses?.[0],h=u?`${u.logradouro}, ${u.numero}${u.complemento?" - "+u.complemento:""}, ${u.bairro}, ${u.cidade}/${u.estado}, CEP: ${u.cep}`:"Endereço não cadastrado",m=o?.map(E=>`- ${E.service_name}${E.description?": "+E.description:""} (${E.quantity}x R$ ${E.unit_price.toFixed(2)} = R$ ${E.total_price.toFixed(2)})`).join(`
`)||"Serviços conforme OS",f=a.payment_method==="cash"?"Dinheiro":a.payment_method==="credit_card"?"Cartão de Crédito":a.payment_method==="debit_card"?"Cartão de Débito":a.payment_method==="pix"?"PIX":a.payment_method==="bank_transfer"?"Transferência Bancária":a.payment_method==="bank_slip"?"Boleto Bancário":a.payment_method==="promissory_note"?"Nota Promissória":"A definir",b=a.warranty_period||90,y=a.warranty_type||"days",g=y==="days"?`${b} dias`:y==="months"?`${b} meses`:`${b} anos`,x=a.scheduled_at?new Date(a.scheduled_at).toLocaleDateString("pt-BR"):"A definir",v=a.completed_at?new Date(a.completed_at).toLocaleDateString("pt-BR"):"A definir",j=a.scheduled_at&&b?new Date(new Date(a.scheduled_at).getTime()+b*(y==="days"?864e5:y==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR"):"A calcular",B={"[NOME_CLIENTE]":d?.name||"Cliente não informado","[CPF_CNPJ_CLIENTE]":d?.cpf_cnpj||"Não informado","[EMAIL_CLIENTE]":d?.email||"Não informado","[TELEFONE_CLIENTE]":d?.phone||"Não informado","[ENDERECO_CLIENTE]":h,"[NUMERO_OS]":a.order_number||a.id.substring(0,8),"[DATA_OS]":x,"[DATA_CONCLUSAO]":v,"[VALOR_TOTAL]":`R$ ${(a.total_amount||0).toFixed(2)}`,"[VALOR_SUBTOTAL]":`R$ ${(a.subtotal||0).toFixed(2)}`,"[DESCONTO]":`R$ ${(a.discount_amount||0).toFixed(2)}`,"[DESCRICAO_SERVICOS]":m,"[PRAZO_EXECUCAO]":`${a.estimated_duration||0} horas`,"[GARANTIA_PERIODO]":g,"[GARANTIA_ATE]":j,"[FORMA_PAGAMENTO]":f,"[CONDICOES_PAGAMENTO]":f,"[NOME_EMPRESA]":l?.company_name||"Nome da Empresa","[CNPJ_EMPRESA]":l?.cnpj||"CNPJ não informado","[ENDERECO_EMPRESA]":l?.address||"Endereço não informado","[TELEFONE_EMPRESA]":l?.phone||"Telefone não informado","[EMAIL_EMPRESA]":l?.email||"E-mail não informado","[CIDADE]":l?.city||u?.cidade||"Cidade não informada","[ESTADO]":l?.state||u?.estado||"Estado não informado","[BANCO]":c?.bank_name||"Banco não informado","[AGENCIA]":c?.agency||"0000","[CONTA]":c?.account_number||"00000-0","[TIPO_CONTA]":c?.account_type==="checking"?"Conta Corrente":"Conta Poupança","[TITULAR]":c?.account_holder||l?.company_name||"Titular não informado","[CPF_CNPJ_TITULAR]":l?.cnpj||"Não informado","[CHAVE_PIX]":c?.pix_key||"Não informado","[TIPO_CHAVE_PIX]":c?.pix_key_type==="cpf"?"CPF":c?.pix_key_type==="cnpj"?"CNPJ":c?.pix_key_type==="email"?"E-mail":c?.pix_key_type==="phone"?"Telefone":c?.pix_key_type==="random"?"Chave Aleatória":"Não informado","[EMAIL_COMPROVANTE]":l?.email||"Email não informado","[WHATSAPP_CONTATO]":l?.phone||"WhatsApp não informado","[DADOS_BANCARIOS]":c?`Banco: ${c.bank_name}
Agência: ${c.agency}
Conta: ${c.account_number}
PIX: ${c.pix_key||"Não disponível"}`:"Dados bancários não cadastrados","[VALOR_ENTRADA]":`R$ ${((a.total_amount||0)*.3).toFixed(2)}`,"[NUMERO_PARCELAS]":"3","[VALOR_PARCELA]":`R$ ${((a.total_amount||0)*.7/3).toFixed(2)}`,"[DIA_VENCIMENTO]":"10"},C=E=>{let M=E;return Object.entries(B).forEach(([S,k])=>{M=M.replace(new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),k)}),M};return{contract_text:C(r.contract_text||""),contract_clauses:C(r.contract_clauses||""),warranty_terms:C(r.warranty_terms||""),payment_conditions:C(r.payment_conditions||""),bank_details_template:C(r.bank_details_template||"")}}catch(r){return console.error("Error filling contract:",r),null}},Fhe=async()=>{try{const{data:t,error:e}=await he.from("contract_templates").select("*").eq("is_default",!0).eq("active",!0).single();if(e||!t){const{data:r}=await he.from("contract_templates").select("*").eq("active",!0).limit(1).single();return r}return t}catch(t){return console.error("Error getting default template:",t),null}},Ohe=({isOpen:t,onClose:e,serviceOrderId:r,templateId:s})=>{const[a,i]=F.useState(!0),[o,l]=F.useState(null);F.useEffect(()=>{t&&r&&c()},[t,r,s]);const c=async()=>{try{i(!0);let h=s;if(h||(h=(await Fhe())?.id),!h){alert("Nenhum template de contrato disponível"),e();return}const m=await The(h,{serviceOrderId:r});if(!m){alert("Erro ao preencher contrato"),e();return}l(m)}catch(h){console.error("Error loading contract:",h),alert("Erro ao carregar contrato")}finally{i(!1)}},d=()=>{if(!o)return;const h=new Kt,m=15,f=h.internal.pageSize.width,b=h.internal.pageSize.height,y=f-2*m;let g=m;const x=(j,B=10,C=!1)=>{h.setFontSize(B),h.setFont("helvetica",C?"bold":"normal"),h.splitTextToSize(j,y).forEach(M=>{g>b-m&&(h.addPage(),g=m),h.text(M,m,g),g+=B*.5}),g+=3};h.setFontSize(16),h.setFont("helvetica","bold"),h.text("CONTRATO DE PRESTAÇÃO DE SERVIÇOS",f/2,g,{align:"center"}),g+=15,o.contract_text&&(x(o.contract_text,10),g+=5),o.contract_clauses&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CLÁUSULAS CONTRATUAIS",m,g),g+=7,x(o.contract_clauses,10),g+=5),o.warranty_terms&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("TERMOS DE GARANTIA",m,g),g+=7,x(o.warranty_terms,10),g+=5),o.payment_conditions&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CONDIÇÕES DE PAGAMENTO",m,g),g+=7,x(o.payment_conditions,10),g+=5),o.bank_details_template&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("DADOS BANCÁRIOS",m,g),g+=7,x(o.bank_details_template,10),g+=10),g>b-50&&(h.addPage(),g=m),g+=10,h.setFontSize(10),h.text("_________________________________________",m,g),h.text("CONTRATANTE",m+30,g+5),h.text("_________________________________________",f/2+10,g),h.text("CONTRATADA",f/2+40,g+5),g+=15;const v=new Date().toLocaleDateString("pt-BR");h.setFontSize(9),h.text(`Data: ${v}`,f/2,g,{align:"center"}),h.save(`contrato-${r.substring(0,8)}.pdf`)},u=()=>{window.print()};return t?n.jsx(Nt,{children:n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:n.jsxs(ue.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vt,{className:"h-6 w-6"}),n.jsx("h2",{className:"text-xl font-bold",children:"Contrato de Prestação de Serviços"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})})]}),a?n.jsxs("div",{className:"p-12 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando contrato..."})]}):o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] print:overflow-visible print:max-h-none",children:n.jsxs("div",{className:"prose max-w-none",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(vt,{className:"h-5 w-5 text-blue-600"}),"Contrato Principal"]}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:o.contract_text})]}),o.contract_clauses&&n.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[n.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"Cláusulas Contratuais"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-purple-800",children:o.contract_clauses})]}),o.warranty_terms&&n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border-2 border-green-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[n.jsx(mn,{className:"h-5 w-5"}),"Termos de Garantia"]}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-green-800",children:o.warranty_terms})]}),o.payment_conditions&&n.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 mb-6 border-2 border-orange-200",children:[n.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-4",children:"Condições de Pagamento"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-orange-800",children:o.payment_conditions})]}),o.bank_details_template&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-2 border-blue-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Dados Bancários"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-blue-800",children:o.bank_details_template})]}),n.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-gray-300",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),n.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATANTE"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),n.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATADA"})]})]}),n.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t print:hidden",children:[n.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[n.jsx(ph,{className:"h-4 w-4"}),"Imprimir"]}),n.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Baixar PDF"]}),n.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fechar"})]})]}):n.jsx("div",{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Erro ao carregar contrato"})})]})})}):null},Ihe=async t=>{const e=await j1(),r=new Kt,s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=15;let o=20;const l=[15,118,110],c=[20,184,166],d=[52,58,64],u=[248,249,250],h=L=>o+L>a-25?(m(),r.addPage(),o=i,!0):!1,m=()=>{const L=r.getCurrentPageInfo().pageNumber;r.setDrawColor(...u),r.setLineWidth(.5),r.line(i,a-10,s-i,a-10),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`${e.email} | ${e.phone} | ${e.website||e.instagram||""}`,s/2,a-6,{align:"center"}),r.text(`Página ${L}`,s/2,a-3,{align:"center"})},f=()=>new Promise(L=>{const V=new Image;V.crossOrigin="anonymous",V.onload=()=>{const z=document.createElement("canvas");z.width=V.width,z.height=V.height;const Z=z.getContext("2d");Z?(Z.drawImage(V,0,0),L(z.toDataURL("image/jpeg",.8))):L("")},V.onerror=()=>{const z=new Image;z.crossOrigin="anonymous",z.onload=()=>{const Z=document.createElement("canvas");Z.width=z.width,Z.height=z.height;const G=Z.getContext("2d");G?(G.drawImage(z,0,0),L(Z.toDataURL("image/jpeg",.8))):L("")},z.onerror=()=>L(""),z.src="/image.png"},V.src="/8.jpg"});r.setFillColor(...l),r.rect(0,0,s,50,"F");const b=await f();if(b)try{r.addImage(b,"JPEG",i,10,30,30)}catch{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const V=e.name.charAt(0).toUpperCase();r.text(V,i+15,30,{align:"center"})}else{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const L=e.name.charAt(0).toUpperCase();r.text(L,i+15,30,{align:"center"})}r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(e.name,i+50,18),r.setFont("helvetica","normal"),r.setFontSize(8);let y=24;r.text(e.owner||"Proprietário",i+50,y),y+=3.5,r.text(`CNPJ: ${e.cnpj}`,i+50,y),y+=3.5,r.text(e.address,i+50,y),y+=3.5,r.text(`${e.city}-${e.state}${e.zip?" • CEP "+e.zip:""}`,i+50,y);const g=s-i;if(r.text(new Date(t.date).toLocaleDateString("pt-BR"),g,18,{align:"right"}),y=24,r.text(e.email,g,y,{align:"right"}),y+=3.5,r.text(e.phone,g,y,{align:"right"}),y+=3.5,e.instagram&&r.text(e.instagram,g,y,{align:"right"}),o=60,r.setFillColor(...c),r.rect(i,o,s-2*i,t.title?18:12,"F"),r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(255,255,255),r.text(`ORÇAMENTO ${t.order_number}`,s/2,o+8,{align:"center"}),t.title?(r.setFontSize(11),r.setFont("helvetica","normal"),r.text(t.title,s/2,o+14,{align:"center"}),o+=24):o+=18,r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text(`Cliente: ${t.client.name}`,i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.client.company_name&&(r.text(t.client.company_name,i+3,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i+3,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i+3,o),o+=4),t.client.address){const L=[t.client.address,t.client.city&&t.client.state?`${t.client.city}-${t.client.state}`:null,t.client.cep?`CEP ${t.client.cep}`:null].filter(Boolean).join(", "),V=r.splitTextToSize(L,s-2*i-6);r.text(V,i+3,o),o+=V.length*4}t.client.phone&&(r.text(`Tel: ${t.client.phone}`,i+3,o),o+=4),t.client.email&&(r.text(`Email: ${t.client.email}`,i+3,o),o+=4),o+=4,t.basic_info&&(h(30),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informações do Serviço",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Prazo de Execução: ${t.basic_info.deadline}`,i+3,o),o+=4,t.basic_info.start_date&&(r.text(`Data de Início: ${t.basic_info.start_date}`,i+3,o),o+=4),t.basic_info.brand&&(r.text(`Marca: ${t.basic_info.brand}`,i+3,o),o+=4),t.basic_info.model&&(r.text(`Modelo: ${t.basic_info.model}`,i+3,o),o+=4),t.basic_info.equipment&&(r.text(`Equipamento: ${t.basic_info.equipment}`,i+3,o),o+=4),o+=4),h(40),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Serviços e Produtos",i+3,o+5.5),o+=12;const x=t.show_value!==!1,v=t.items.map(L=>{let V=L.service_name||L.description||"Serviço";const z=L.service_description||L.description;z&&z!==V&&(V+=`
${z}`);const Z=L.service_scope||L.scope;Z&&(V+=`

ESCOPO:
${Z}`),L.technical_requirements&&(V+=`

REQUISITOS TÉCNICOS:
${L.technical_requirements}`),L.safety_warnings&&(V+=`

⚠ AVISOS DE SEGURANÇA:
${L.safety_warnings}`),L.execution_steps&&(V+=`

PASSOS:
${L.execution_steps}`),L.expected_results&&(V+=`

RESULTADOS:
${L.expected_results}`),L.quality_standards&&(V+=`

QUALIDADE:
${L.quality_standards}`),L.warranty_info&&(V+=`

🛡 GARANTIA:
${L.warranty_info}`),L.observations&&(V+=`

OBS:
${L.observations}`);const G=L.estimated_duration||L.tempo_estimado_minutos;return G&&(V+=`

⏱ Tempo: ${G}min`),x?[V,L.unit,L.quantity.toString(),`R$ ${L.unit_price.toFixed(2)}`,`R$ ${L.total_price.toFixed(2)}`]:[V,L.unit,L.quantity.toString()]});if(hq(r,{startY:o,head:x?[["Descrição","Un.","Qtd","Preço Unit.","Total"]]:[["Descrição","Un.","Qtd"]],body:v,theme:"grid",headStyles:{fillColor:l,textColor:[255,255,255],fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8,cellPadding:3,textColor:d},columnStyles:x?{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:20,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right",fontStyle:"bold"}}:{0:{cellWidth:130},1:{cellWidth:30,halign:"center"},2:{cellWidth:20,halign:"center"}},margin:{left:i,right:i}}),o=r.lastAutoTable.finalY+5,x){const L=s-i-50;if(r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(...d),r.text("Subtotal:",L,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=5,t.discount>0){r.setTextColor(231,76,60);const V=t.discount_percentage?`Desconto (${t.discount_percentage}%):`:"Desconto:";r.text(V,L,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,s-i,o,{align:"right"}),o+=5}r.setDrawColor(...d),r.setLineWidth(1),r.line(L-10,o,s-i,o),o+=7,r.setFillColor(...l),r.rect(L-15,o-5,s-L+15-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(255,255,255),r.text("TOTAL:",L,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,s-i-3,o+2,{align:"right"}),o+=15}if(t.detailed_scope){h(50),r.setFillColor(219,234,254),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(30,64,175),r.text("Escopo Detalhado do Serviço",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const L=r.splitTextToSize(t.detailed_scope,s-2*i-6);r.text(L,i+3,o),o+=L.length*3.5+8}if(t.technical_report){h(50),r.setFillColor(254,243,199),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(146,64,14),r.text("Relatório Técnico",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const L=r.splitTextToSize(t.technical_report,s-2*i-6);r.text(L,i+3,o),o+=L.length*3.5+8}if(t.service_instructions){h(50),r.setFillColor(220,252,231),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(20,83,45),r.text("Orientações de Serviço",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const L=r.splitTextToSize(t.service_instructions,s-2*i-6);r.text(L,i+3,o),o+=L.length*3.5+8}if(o>a-100&&(m(),r.addPage(),o=i),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Forma de Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Métodos: ${t.payment.methods}`,i+3,o),o+=5,t.payment.pix&&(r.text(`PIX: ${t.payment.pix}`,i+3,o),o+=5),t.payment.bank_details){const L=t.payment.bank_details;r.setFont("helvetica","bold"),r.text("Dados bancários:",i+3,o),o+=5,r.setFont("helvetica","normal"),r.text(`Banco: ${L.bank} | Agência: ${L.agency} | Conta: ${L.account}`,i+3,o),o+=4,r.text(`Tipo: ${L.account_type} | Titular: ${L.holder}`,i+3,o),o+=5}r.setFont("helvetica","bold"),r.text("Condições:",i+3,o),o+=5,r.setFont("helvetica","normal");const C=r.splitTextToSize(t.payment.conditions,s-2*i-6);r.text(C,i+3,o),o+=C.length*4+8,h(50),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d),t.warranty.period&&(r.text(`Período: ${t.warranty.period}`,i+3,o),o+=6);const E=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",M=r.splitTextToSize(E,s-2*i-6);if(r.text(M,i+3,o),o+=M.length*3.5+10,t.additional_info||t.special_conditions){h(30),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Observações",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const L=t.additional_info||t.special_conditions||"",V=r.splitTextToSize(L,s-2*i-6);r.text(V,i+3,o),o+=V.length*4+8}h(40),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const S=o;r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,s/2,S,{align:"center"}),o+=25;const k=i+10,I=s/2-10;r.line(k,o,I,o),o+=5,r.setFont("helvetica","bold"),r.text(e.name,(k+I)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),r.text(e.owner||"Representante Legal",(k+I)/2,o,{align:"center"});const _=s/2+10,T=s-i-10;o-=9,r.line(_,o,T,o),o+=5,r.setFont("helvetica","bold"),r.text(t.client.name,(_+T)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,(_+T)/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,(_+T)/2,o,{align:"center"}),m();const D=r.getNumberOfPages();for(let L=1;L<=D;L++)r.setPage(L),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`Página ${L} de ${D}`,s-i-20,a-3,{align:"right"});r.save(`Orcamento_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)};function Dhe({isOpen:t,onClose:e,data:r}){if(!t)return null;const s=async()=>{try{const c={order_number:r.order_number,date:r.date,title:r.title,client:r.client,basic_info:r.basic_info,items:r.items,subtotal:r.subtotal,discount:r.discount_amount||r.discount,discount_percentage:r.discount>0&&r.subtotal>0?Math.round(r.discount/r.subtotal*100):void 0,total:r.final_total||r.total,show_value:r.show_value,technical_report:r.relatorio_tecnico,service_instructions:r.orientacoes_servico,detailed_scope:r.escopo_detalhado,payment:r.payment,warranty:r.warranty,additional_info:r.additional_notes||r.additional_info,special_conditions:r.additional_info};await Ihe(c)}catch(c){console.error("Erro ao gerar PDF:",c),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},a=()=>{window.print()},i=async()=>{if(navigator.share)try{await navigator.share({title:`Orçamento ${r.order_number}`,text:`Orçamento para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else alert("Compartilhamento não suportado neste navegador")},o=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),l=c=>new Date(c).toLocaleDateString("pt-BR");return n.jsx(Nt,{children:n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vt,{className:"h-6 w-6 text-white"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Orçamento"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:s,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[n.jsx(ys,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),n.jsxs("button",{onClick:a,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[n.jsx(ph,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),n.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[n.jsx(eH,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-teal-800 rounded-lg transition-colors",title:"Fechar",children:n.jsx(Et,{className:"h-5 w-5 text-white"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg my-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-teal-700 to-teal-800 px-8 py-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg",children:n.jsx(hc,{className:"h-12 w-12 text-teal-700"})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-2xl font-bold",children:r.company.name}),n.jsx("p",{className:"text-teal-100 text-sm mt-1",children:r.company.owner}),n.jsxs("p",{className:"text-teal-100 text-sm",children:["CNPJ: ",r.company.cnpj]}),n.jsx("p",{className:"text-teal-100 text-sm",children:r.company.address}),n.jsxs("p",{className:"text-teal-100 text-sm",children:[r.company.city,"-",r.company.state]})]})]}),n.jsxs("div",{className:"text-right text-white",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[n.jsx(kr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:l(r.date)})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[n.jsx(ks,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.email})]}),r.company.phones.map((c,d)=>n.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[n.jsx(Ya,{className:"h-4 w-4"}),n.jsx("span",{children:c})]},d))]})]}),r.company.tagline&&n.jsx("p",{className:"text-center text-teal-100 text-sm mt-4 italic",children:r.company.tagline}),r.company.social&&n.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3",children:[r.company.social.instagram&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx(AF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx(uF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx($0,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.website})]})]})]}),n.jsx("div",{className:"bg-teal-700 px-8 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Orçamento ",r.order_number]}),r.title&&n.jsx("p",{className:"text-teal-100 mt-1",children:r.title})]}),n.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Validade"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"30 dias"})]})]})}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-3",children:["Cliente: ",r.client.name]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[r.client.company_name&&n.jsx("p",{className:"text-gray-700",children:r.client.company_name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.client.cnpj]}),r.client.address&&n.jsx("p",{className:"text-sm text-gray-600",children:r.client.address}),r.client.city&&n.jsxs("p",{className:"text-sm text-gray-600",children:[r.client.city,"-",r.client.state]}),r.client.cep&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",r.client.cep]})]}),n.jsxs("div",{className:"space-y-2",children:[r.client.email&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx(ks,{className:"h-4 w-4 text-teal-600"}),n.jsx("span",{children:r.client.email})]}),r.client.phone&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx(Ya,{className:"h-4 w-4 text-teal-600"}),n.jsx("span",{children:r.client.phone})]})]})]})]}),n.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informações básicas"}),n.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Prazo de execução"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Marca"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Modelo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center",children:[n.jsx(vt,{className:"h-5 w-5 mr-2"}),"Serviços e Produtos"]}),n.jsx("div",{className:"space-y-4",children:r.items.map((c,d)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:`grid ${r.show_value!==!1?"grid-cols-12":"grid-cols-8"} gap-4 mb-3`,children:[n.jsx("div",{className:r.show_value!==!1?"col-span-5":"col-span-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"bg-teal-100 text-teal-700 text-xs font-semibold px-2 py-1 rounded mr-2",children:d+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:c.description}),c.scope&&n.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line mt-2 bg-gray-50 p-2 rounded",children:c.scope})]})]})}),n.jsxs("div",{className:"col-span-1 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Unidade"}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.unit})]}),n.jsxs("div",{className:"col-span-1 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Qtd."}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.quantity})]}),r.show_value!==!1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"col-span-2 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preço unitário"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(c.unit_price)})]}),n.jsxs("div",{className:"col-span-2 text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total"}),n.jsx("p",{className:"text-base font-bold text-teal-700",children:o(c.total_price)})]})]})]})},d))}),r.show_value!==!1&&n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("div",{className:"bg-gray-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subtotal"}),n.jsx("span",{className:"text-base font-semibold text-gray-900",children:o(r.subtotal)})]}),r.discount>0&&n.jsxs("div",{className:"bg-red-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium text-red-700",children:["Desconto ",r.discount>0&&r.subtotal>0?`(${Math.round(r.discount/r.subtotal*100)}%)`:""]}),n.jsxs("span",{className:"text-base font-semibold text-red-700",children:["- ",o(r.discount_amount||r.discount)]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-4 rounded-lg flex items-center justify-between shadow-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-90",children:"Valor Total"}),n.jsx("span",{className:"text-2xl font-bold",children:"TOTAL"})]}),n.jsx("span",{className:"text-3xl font-bold",children:o(r.total||r.final_total||0)})]})]})]}),r.escopo_detalhado&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-blue-50",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Escopo Detalhado do Serviço"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.escopo_detalhado})]}),r.relatorio_tecnico&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-amber-50",children:[n.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"Relatório Técnico"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.relatorio_tecnico})]}),r.orientacoes_servico&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-green-50",children:[n.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:"Orientações de Serviço"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.orientacoes_servico})]}),n.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Pagamento"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Meios de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),r.payment.pix&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"PIX"}),n.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix})]}),(r.payment.bank||r.payment.bank_details)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Dados bancários"}),n.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-1 text-sm",children:[n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Banco:"})," ",r.payment.bank?.name||r.payment.bank_details?.bank]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Agência:"})," ",r.payment.bank?.agency||r.payment.bank_details?.agency]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Conta:"})," ",r.payment.bank?.account||r.payment.bank_details?.account]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Tipo de conta:"})," ",r.payment.bank?.type||r.payment.bank_details?.account_type]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Titular da conta (CPF/CNPJ):"})," ",r.payment.bank?.holder||r.payment.bank_details?.holder]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Condições de pagamento"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:r.payment.conditions})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center space-x-2",children:[n.jsx(rn,{className:"h-5 w-5"}),n.jsx("span",{children:"Garantia"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Condições da garantia"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Cláusulas contratuais"}),n.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.contract_clauses=="string"?r.contract_clauses:Array.isArray(r.contract_clauses)?r.contract_clauses.map((c,d)=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold mb-2",children:c.title}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:c.items.map((u,h)=>n.jsx("li",{children:u},h))})]},d)):""})]}),(r.additional_notes||r.additional_info)&&n.jsxs("div",{className:"px-8 py-6 bg-gray-50",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informações adicionais"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.additional_notes||r.additional_info}),n.jsxs("p",{className:"text-center text-gray-600 italic mt-4",children:[r.company.city,", ",l(r.date)]})]}),n.jsx("div",{className:"px-8 py-8 bg-white",children:n.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900",children:r.company.name}),n.jsx("p",{className:"text-sm text-gray-600",children:r.company.owner}),n.jsx("p",{className:"text-xs text-gray-500",children:"diretor técnico"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900",children:r.client.name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ ",r.client.cnpj]})]})})]})}),n.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ks,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.email})]}),r.company.phones.map((c,d)=>n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Ya,{className:"h-4 w-4"}),n.jsx("span",{children:c})]},d))]}),r.company.social&&n.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-gray-600",children:[r.company.social.instagram&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(AF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(uF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx($0,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.website})]})]})]})]})})]})})})}function Mhe({isOpen:t,onClose:e,data:r}){const[s,a]=F.useState(null);if(F.useEffect(()=>{(async()=>{const h=await j1();a(h)})()},[]),!t||!s)return null;const i=async()=>{try{await p0(r)}catch(u){console.error("Erro ao gerar PDF:",u),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},o=()=>{window.print()},l=async()=>{if(navigator.share)try{await navigator.share({title:`Ordem de Serviço ${r.order_number}`,text:`Ordem de serviço para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copiado para a área de transferência!")}catch(u){console.error("Erro ao copiar link:",u),alert("Não foi possível copiar o link. URL: "+window.location.href)}},c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),d=u=>new Date(u).toLocaleDateString("pt-BR");return n.jsx(Nt,{children:n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(vt,{className:"h-6 w-6 text-white"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Ordem de Serviço"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[n.jsx(ys,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),n.jsxs("button",{onClick:o,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[n.jsx(ph,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),n.jsxs("button",{onClick:l,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[n.jsx(eH,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-950 rounded-lg transition-colors",title:"Fechar",children:n.jsx(Et,{className:"h-5 w-5 text-white"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg",children:[n.jsxs("div",{className:"border-b border-gray-200 p-8",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-900 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white text-3xl font-bold",children:s.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:s.name}),n.jsx("p",{className:"text-sm text-gray-700",children:s.owner}),n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",s.cnpj]}),n.jsx("p",{className:"text-sm text-gray-600",children:s.address}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.city,"-",s.state]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",s.zip]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[n.jsx(kr,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"text-sm text-gray-700",children:d(r.date)})]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(ks,{className:"h-4 w-4"}),n.jsx("span",{children:s.email})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(Ya,{className:"h-4 w-4"}),n.jsx("span",{children:s.phone})]}),s.instagram&&n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx($0,{className:"h-4 w-4"}),n.jsx("span",{children:s.instagram})]})]})]})]}),n.jsx("p",{className:"text-center text-gray-600 italic text-sm",children:"Sua satisfação é o que motiva a nossa dedicação."})]}),n.jsxs("div",{className:"bg-blue-900 text-white px-8 py-6",children:[n.jsxs("h2",{className:"text-3xl font-bold",children:["Ordem de serviço ",r.order_number]}),r.title&&n.jsx("p",{className:"text-blue-100 mt-2",children:r.title})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Cliente: ",r.client.name]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.client.company_name&&n.jsx("p",{children:r.client.company_name}),r.client.cnpj&&n.jsxs("p",{children:["CNPJ: ",r.client.cnpj]}),r.client.cpf&&n.jsxs("p",{children:["CPF: ",r.client.cpf]}),r.client.address&&n.jsxs(n.Fragment,{children:[n.jsx("p",{children:r.client.address}),r.client.city&&n.jsxs("p",{children:[r.client.city,", ",r.client.state,"-",r.client.state]}),r.client.cep&&n.jsxs("p",{children:["CEP ",r.client.cep]})]}),r.client.email&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{children:r.client.email})]}),r.client.phone&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ya,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{children:r.client.phone})]})]})]}),r.basic_info&&n.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informações básicas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Prazo de execução"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Marca"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Modelo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]}),r.basic_info.equipment&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Aparelho"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.equipment})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Serviços"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-300",children:[n.jsx("th",{className:"text-left py-2 font-semibold text-gray-900",children:"Descrição"}),n.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Unidade"}),n.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preço unitário"}),n.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Qtd."}),n.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preço"})]})}),n.jsx("tbody",{children:r.items.map((u,h)=>n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsxs("td",{className:"py-3",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:u.service_name||u.description}),(u.scope||u.service_scope||u.escopo_detalhado)&&n.jsxs("p",{className:"text-xs text-gray-600 mt-1 whitespace-pre-line",children:["ESCOPO:",n.jsx("br",{}),u.scope||u.service_scope||u.escopo_detalhado]}),u.materials&&u.materials.length>0&&n.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded border border-green-200",children:[n.jsx("p",{className:"text-xs font-semibold text-green-900 mb-1",children:"📦 Materiais:"}),u.materials.map((m,f)=>n.jsxs("p",{className:"text-xs text-green-800 ml-2",children:["• ",m.nome||m.material_name||m.name," - ",m.quantidade||m.quantity," ",m.unidade_medida||m.unit||"un"," - ",c(m.preco_venda||m.unit_price||0)]},f))]}),u.team&&u.team.length>0&&n.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:[n.jsx("p",{className:"text-xs font-semibold text-blue-900 mb-1",children:"👷 Equipe:"}),u.team.map((m,f)=>n.jsxs("p",{className:"text-xs text-blue-800 ml-2",children:["• ",m.nome||m.employee_name||m.name," ",m.cargo||m.role?`(${m.cargo||m.role})`:""]},f))]})]}),n.jsx("td",{className:"text-center py-3 text-gray-700",children:u.unit}),n.jsx("td",{className:"text-right py-3 text-gray-900",children:c(u.unit_price)}),n.jsx("td",{className:"text-center py-3 text-gray-700",children:u.quantity}),n.jsx("td",{className:"text-right py-3 font-semibold text-gray-900",children:c(u.total_price)})]},h))})]})}),n.jsxs("div",{className:"mt-6 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Serviços"}),n.jsx("span",{className:"font-semibold text-gray-900",children:c(r.subtotal)})]}),n.jsxs("div",{className:"flex justify-between text-sm font-semibold text-blue-900",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:c(r.subtotal)})]}),r.discount>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Desconto sobre serviços"}),n.jsxs("span",{className:"text-gray-900",children:["- ",c(r.discount)]})]}),n.jsxs("div",{className:"bg-blue-900 text-white px-4 py-3 rounded flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total"}),n.jsx("span",{children:c(r.total)})]})]})]}),n.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Pagamento"}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Meios de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"PIX"}),n.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix||s.cnpj})]})]}),r.payment.bank_details&&n.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-8 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Dados bancários"}),n.jsxs("div",{className:"space-y-1 text-gray-900",children:[n.jsxs("p",{children:["Banco: ",r.payment.bank_details.bank]}),n.jsxs("p",{children:["Agência: ",r.payment.bank_details.agency]}),n.jsxs("p",{children:["Conta: ",r.payment.bank_details.account]}),n.jsxs("p",{children:["Tipo de conta: ",r.payment.bank_details.account_type]}),n.jsxs("p",{children:["Titular da conta (CPF/CNPJ): ",r.payment.bank_details.holder]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Condições de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.conditions})]})]})]}),r.warranty&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Garantia"}),r.warranty.period&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Período de garantia"}),n.jsx("p",{className:"text-gray-900",children:r.warranty.period})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-2",children:"Condições da garantia"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),r.contract_clauses&&r.contract_clauses.length>0&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Cláusulas contratuais"}),n.jsx("div",{className:"space-y-4 text-sm",children:r.contract_clauses.map((u,h)=>n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:u.title}),n.jsx("div",{className:"space-y-1 text-gray-700",children:u.items.map((m,f)=>n.jsx("p",{children:m},f))})]},h))})]}),r.additional_info&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informações adicionais"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:r.additional_info}),n.jsx("p",{className:"text-center text-gray-600 italic text-sm mt-4",children:"obrigado pela confiança, estaremos à disposição."}),n.jsxs("p",{className:"text-center font-semibold text-gray-900 mt-4",children:[r.client.city||s.city,", ",d(r.date)]})]}),n.jsx("div",{className:"px-8 py-12 bg-white",children:n.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:s.name}),n.jsx("p",{className:"text-sm text-gray-700",children:s.owner}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:"diretor técnico"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:r.client.name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-700",children:["CNPJ ",r.client.cnpj]}),r.client.cpf&&n.jsxs("p",{className:"text-sm text-gray-700",children:["CPF ",r.client.cpf]})]})})]})}),n.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600 mb-2",children:[n.jsxs("span",{children:["✉ ",s.email]}),n.jsxs("span",{children:["📞 ",s.phone]}),s.instagram&&n.jsxs("span",{children:["@",s.instagram]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:s.website||"tgarconnection.com.br"})]})]})})]})})})}const Lhe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Rhe=(t,e,r)=>{let s;const a=Lhe[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+s:"há "+s:s},Uhe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Qhe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$he={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hhe={date:ep({formats:Uhe,defaultWidth:"full"}),time:ep({formats:Qhe,defaultWidth:"full"}),dateTime:ep({formats:$he,defaultWidth:"full"})},qhe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},zhe=(t,e,r,s)=>{const a=qhe[t];return typeof a=="function"?a(e):a},Vhe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Khe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Whe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Ghe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},Xhe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},Yhe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Jhe=(t,e)=>{const r=Number(t);return e?.unit==="week"?r+"ª":r+"º"},Zhe={ordinalNumber:Jhe,era:dc({values:Vhe,defaultWidth:"wide"}),quarter:dc({values:Khe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:dc({values:Whe,defaultWidth:"wide"}),day:dc({values:Ghe,defaultWidth:"wide"}),dayPeriod:dc({values:Xhe,defaultWidth:"wide",formattingValues:Yhe,defaultFormattingWidth:"wide"})},eAe=/^(\d+)[ºªo]?/i,tAe=/\d+/i,rAe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},nAe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},sAe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},aAe={any:[/1/i,/2/i,/3/i,/4/i]},iAe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},oAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},lAe={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},cAe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},dAe={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},uAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},hAe={ordinalNumber:fq({matchPattern:eAe,parsePattern:tAe,valueCallback:t=>parseInt(t,10)}),era:uc({matchPatterns:rAe,defaultMatchWidth:"wide",parsePatterns:nAe,defaultParseWidth:"any"}),quarter:uc({matchPatterns:sAe,defaultMatchWidth:"wide",parsePatterns:aAe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uc({matchPatterns:iAe,defaultMatchWidth:"wide",parsePatterns:oAe,defaultParseWidth:"any"}),day:uc({matchPatterns:lAe,defaultMatchWidth:"wide",parsePatterns:cAe,defaultParseWidth:"any"}),dayPeriod:uc({matchPatterns:dAe,defaultMatchWidth:"any",parsePatterns:uAe,defaultParseWidth:"any"})},bc={code:"pt-BR",formatDistance:Rhe,formatLong:Hhe,formatRelative:zhe,localize:Zhe,match:hAe,options:{weekStartsOn:0,firstWeekContainsDate:1}},AAe=({serviceOrderId:t,isOpen:e,onClose:r,currentStatus:s})=>{const[a,i]=F.useState([]),[o,l]=F.useState(!0),[c,d]=F.useState("");F.useEffect(()=>{e&&t&&u()},[e,t]);const u=async()=>{try{l(!0);const{data:x,error:v}=await he.from("service_order_status_history").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(v)throw v;i(x||[])}catch(x){console.error("Erro ao carregar timeline:",x)}finally{l(!1)}},h=async()=>{if(!(!c.trim()||!s))try{const{error:x}=await he.from("service_order_status_history").insert({service_order_id:t,old_status:s,new_status:s,changed_by_name:"Usuário",comments:c.trim()});if(x)throw x;d(""),u()}catch(x){console.error("Erro ao adicionar comentário:",x),alert("Erro ao adicionar comentário")}},m=()=>{const x=["Data/Hora","Status Anterior","Novo Status","Usuário","Tempo no Status","Comentários"],v=a.map(E=>[yn(new Date(E.created_at),"dd/MM/yyyy HH:mm"),f(E.old_status),f(E.new_status),E.changed_by_name||"Sistema",E.duration_in_status||"-",E.comments||""]),j=[x.join(","),...v.map(E=>E.map(M=>`"${M}"`).join(","))].join(`
`),B=new Blob([j],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(B),C.download=`timeline-os-${t}-${Date.now()}.csv`,C.click()},f=x=>({pending:"Pendente",in_progress:"Em Andamento",paused:"Pausada",completed:"Concluída",cancelled:"Cancelada",aberta:"Aberta",em_andamento:"Em Andamento",pausada:"Pausada",concluida:"Concluída",cancelada:"Cancelada"})[x]||x,b=x=>{switch(x){case"pending":case"aberta":return n.jsx(xs,{className:"w-5 h-5"});case"in_progress":case"em_andamento":return n.jsx(RE,{className:"w-5 h-5"});case"paused":case"pausada":return n.jsx(Ane,{className:"w-5 h-5"});case"completed":case"concluida":return n.jsx(Ja,{className:"w-5 h-5"});case"cancelled":case"cancelada":return n.jsx(Q0,{className:"w-5 h-5"});default:return n.jsx(tr,{className:"w-5 h-5"})}},y=x=>{switch(x){case"pending":case"aberta":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"in_progress":case"em_andamento":return"bg-blue-100 text-blue-700 border-blue-300";case"paused":case"pausada":return"bg-orange-100 text-orange-700 border-orange-300";case"completed":case"concluida":return"bg-green-100 text-green-700 border-green-300";case"cancelled":case"cancelada":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},g=x=>{if(!x)return null;const v=x.match(/(\d+):(\d+):(\d+)/);if(!v)return x;const[,j,B]=v,C=parseInt(j),E=parseInt(B);return C>0?`${C}h ${E}min`:`${E}min`};return e?n.jsx(Nt,{children:n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:n.jsxs(ue.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:n.jsx(tr,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Timeline da OS"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Histórico completo de mudanças de status"})]})]}),n.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:n.jsx(Et,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:a.length})," eventos registrados"]}),n.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[n.jsx(ys,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(tr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum histórico disponível"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Os eventos aparecerão aqui conforme a OS evoluir"})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:a.map((x,v)=>{const j=x.old_status!==x.new_status,B=!j;return n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},className:"relative pl-20",children:[n.jsx("div",{className:`absolute left-0 w-16 h-16 rounded-full border-4 border-white flex items-center justify-center shadow-lg ${B?"bg-purple-100 text-purple-600":y(x.new_status)}`,children:B?n.jsx(Iv,{className:"w-6 h-6"}):b(x.new_status)}),n.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[j?n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${y(x.old_status)}`,children:f(x.old_status)}),n.jsx("span",{className:"text-gray-400",children:"→"}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${y(x.new_status)}`,children:f(x.new_status)})]}):n.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comentário Adicionado"}),x.comments&&n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:x.comments}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(nn,{className:"w-4 h-4"}),x.changed_by_name||"Sistema"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-4 h-4"}),yn(new Date(x.created_at),"dd/MM/yyyy 'às' HH:mm",{locale:bc})]}),n.jsx("span",{className:"text-gray-500",children:jhe(new Date(x.created_at),new Date,{addSuffix:!0,locale:bc})})]}),x.duration_in_status&&n.jsxs("div",{className:"mt-2 text-sm text-blue-600 font-medium",children:["⏱️ Tempo no status anterior: ",g(x.duration_in_status)]})]})})})]},x.id)})})]})}),n.jsx("div",{className:"p-6 border-t bg-gray-50",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),onKeyPress:x=>x.key==="Enter"&&h(),placeholder:"Adicionar comentário à timeline...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{onClick:h,disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Adicionar"})]})})]})})}):null},mAe=({serviceOrderId:t,isOpen:e,onClose:r})=>{const[s,a]=F.useState([]),[i,o]=F.useState(!0),[l,c]=F.useState(new Set);F.useEffect(()=>{e&&t&&d()},[e,t]);const d=async()=>{try{o(!0);const{data:x,error:v}=await he.from("service_order_audit_log").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(v)throw v;a(x||[])}catch(x){console.error("Erro ao carregar log de auditoria:",x)}finally{o(!1)}},u=x=>{const v=new Set(l);v.has(x)?v.delete(x):v.add(x),c(v)},h=x=>{switch(x){case"created":return n.jsx(Ot,{className:"w-4 h-4"});case"updated":return n.jsx(fi,{className:"w-4 h-4"});case"deleted":return n.jsx(rr,{className:"w-4 h-4"});default:return n.jsx(vt,{className:"w-4 h-4"})}},m=x=>{switch(x){case"created":return"bg-green-100 text-green-700 border-green-200";case"updated":return"bg-blue-100 text-blue-700 border-blue-200";case"deleted":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},f=x=>({created:"Criado",updated:"Atualizado",deleted:"Excluído",status_changed:"Status Alterado"})[x]||x,b=x=>yn(new Date(x),"dd/MM/yyyy 'às' HH:mm",{locale:bc}),y=x=>{if(!x.old_values||!x.new_values)return[];const v=[],j=x.new_values,B=x.old_values;return Object.keys(j).forEach(C=>{JSON.stringify(j[C])!==JSON.stringify(B[C])&&v.push({field:C,old:B[C],new:j[C]})}),v},g=()=>{const x=["Data/Hora","Ação","Usuário","Descrição"],v=s.map(E=>[yn(new Date(E.created_at),"dd/MM/yyyy HH:mm"),f(E.action),E.user_name||"Sistema",E.changes_summary]),j=[x.join(","),...v.map(E=>E.map(M=>`"${M}"`).join(","))].join(`
`),B=new Blob([j],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(B),C.download=`auditoria-os-${t}-${Date.now()}.csv`,C.click()};return e?n.jsx(Nt,{children:n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:n.jsxs(ue.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:n.jsx(H0,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Histórico de Auditoria"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Todas as alterações e ações realizadas nesta OS"})]})]}),n.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:n.jsx(Et,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 border-b bg-gray-50 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:s.length})," registros encontrados"]}),n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(ys,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(H0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum registro de auditoria"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"As alterações aparecerão aqui automaticamente"})]}):n.jsx("div",{className:"space-y-3",children:s.map((x,v)=>{const j=l.has(x.id),B=y(x);return n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg border-2 flex items-center justify-center flex-shrink-0 ${m(x.action)}`,children:h(x.action)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded border ${m(x.action)}`,children:f(x.action)}),n.jsx("span",{className:"text-xs text-gray-500",children:x.entity_type})]}),n.jsx("p",{className:"text-gray-900 font-medium mb-2",children:x.changes_summary}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(nn,{className:"w-4 h-4"}),x.user_name||"Sistema"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-4 h-4"}),b(x.created_at)]})]}),B.length>0&&n.jsx("button",{onClick:()=>u(x.id),className:"mt-3 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:j?n.jsxs(n.Fragment,{children:[n.jsx(xc,{className:"w-4 h-4"}),"Ocultar detalhes"]}):n.jsxs(n.Fragment,{children:[n.jsx(oo,{className:"w-4 h-4"}),"Ver ",B.length," ",B.length===1?"mudança":"mudanças"]})})]})]}),n.jsx(Nt,{children:j&&B.length>0&&n.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-gray-200 overflow-hidden",children:n.jsx("div",{className:"space-y-2",children:B.map((C,E)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 uppercase",children:C.field.replace(/_/g," ")}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Antes"}),n.jsx("div",{className:"text-red-700 bg-red-50 px-2 py-1 rounded border border-red-200",children:String(C.old??"vazio")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Depois"}),n.jsx("div",{className:"text-green-700 bg-green-50 px-2 py-1 rounded border border-green-200",children:String(C.new??"vazio")})]})]})]},E))})})})]})},x.id)})})}),n.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end",children:n.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"})})]})})}):null},fAe=({serviceOrderId:t,category:e="geral",onComplete:r})=>{const[s,a]=F.useState(null),[i,o]=F.useState([]),[l,c]=F.useState(!0),[d,u]=F.useState(null),[h,m]=F.useState("");F.useEffect(()=>{f()},[t]);const f=async()=>{try{c(!0);let{data:x,error:v}=await he.from("service_order_checklists").select("*").eq("service_order_id",t).maybeSingle();if(v)throw v;if(!x){const{data:C,error:E}=await he.rpc("create_default_checklist",{p_service_order_id:t,p_category:e});if(E)throw E;const{data:M}=await he.from("service_order_checklists").select("*").eq("service_order_id",t).single();x=M}a(x);const{data:j,error:B}=await he.from("service_order_checklist_items").select("*").eq("checklist_id",x.id).order("order_position");if(B)throw B;o(j||[])}catch(x){console.error("Erro ao carregar checklist:",x)}finally{c(!1)}},b=async x=>{u(x.id);try{const v=!x.is_completed,{error:j}=await he.from("service_order_checklist_items").update({is_completed:v,completed_at:v?new Date().toISOString():null,completed_by_name:v?"Usuário":null}).eq("id",x.id);if(j)throw j;if(o(B=>B.map(C=>C.id===x.id?{...C,is_completed:v,completed_at:v?new Date().toISOString():void 0,completed_by_name:v?"Usuário":void 0}:C)),s){const{data:B}=await he.from("service_order_checklists").select("*").eq("id",s.id).single();B&&(a(B),B.progress_percentage===100&&r&&r())}}catch(v){console.error("Erro ao atualizar item:",v),alert("Erro ao atualizar item")}finally{u(null)}},y=async()=>{if(!(!h.trim()||!s))try{const x=Math.max(...i.map(B=>B.order_position),0),{data:v,error:j}=await he.from("service_order_checklist_items").insert({checklist_id:s.id,service_order_id:t,title:h.trim(),is_required:!1,requires_photo:!1,order_position:x+1}).select().single();if(j)throw j;o(B=>[...B,v]),m("")}catch(x){console.error("Erro ao adicionar item:",x),alert("Erro ao adicionar item")}},g=async x=>{if(confirm("Deseja realmente excluir este item?"))try{const{error:v}=await he.from("service_order_checklist_items").delete().eq("id",x);if(v)throw v;o(j=>j.filter(B=>B.id!==x))}catch(v){console.error("Erro ao excluir item:",v),alert("Erro ao excluir item")}};return l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold",children:s.name}),s.description&&n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:s.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl font-bold",children:[s.progress_percentage.toFixed(0),"%"]}),n.jsxs("div",{className:"text-sm text-blue-100",children:[s.completed_items,"/",s.total_items," concluídos"]})]})]}),n.jsx("div",{className:"w-full bg-blue-800 rounded-full h-3 overflow-hidden",children:n.jsx(ue.div,{initial:{width:0},animate:{width:`${s.progress_percentage}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-green-400 to-green-500 shadow-lg"})})]}),n.jsx("div",{className:"divide-y",children:n.jsx(Nt,{children:i.map((x,v)=>n.jsx(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:v*.03},className:`p-4 hover:bg-gray-50 transition-all ${x.is_completed?"bg-green-50":""}`,children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("button",{onClick:()=>b(x),disabled:d===x.id,className:`flex-shrink-0 mt-1 transition-all ${d===x.id?"opacity-50":""}`,children:x.is_completed?n.jsx(Dv,{className:"w-6 h-6 text-green-600"}):n.jsx(Tae,{className:"w-6 h-6 text-gray-400 hover:text-blue-600"})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:`font-medium ${x.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:[x.title,x.is_required&&n.jsx("span",{className:"ml-2 text-xs text-red-600",children:"*obrigatório"})]}),x.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),x.is_completed&&(x.completed_at||x.completed_by_name)&&n.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[x.completed_by_name&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(nn,{className:"w-3 h-3"}),x.completed_by_name]}),x.completed_at&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"w-3 h-3"}),yn(new Date(x.completed_at),"dd/MM/yyyy HH:mm")]})]}),x.requires_photo&&!x.photo_url&&!x.is_completed&&n.jsx("div",{className:"mt-2",children:n.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(cv,{className:"w-4 h-4"}),"Adicionar Foto"]})})]}),!x.is_required&&n.jsx("button",{onClick:()=>g(x.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover item",children:n.jsx(rr,{className:"w-4 h-4"})})]})})]})},x.id))})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:h,onChange:x=>m(x.target.value),onKeyPress:x=>x.key==="Enter"&&y(),placeholder:"Adicionar item personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),n.jsxs("button",{onClick:y,disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"w-4 h-4"}),"Adicionar"]})]})}),s.progress_percentage===100&&n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-green-50 border-t-4 border-green-500",children:n.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[n.jsx(Dv,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg",children:"Checklist Concluído! 🎉"}),n.jsx("div",{className:"text-sm",children:"Todos os itens foram verificados com sucesso"})]})]})})]}):null};function pAe({service:t,isExpanded:e=!1,onToggle:r}){const[s,a]=F.useState(e),i=()=>{a(!s),r?.()},o=t.service_name||t.descricao||"Serviço",l=t.service_description||t.descricao,c=t.service_scope||t.escopo_detalhado,d=t.quantity||t.quantidade||1,u=t.unit_price||t.preco_unitario||0,h=t.total_price||t.preco_total||0,m=t.estimated_duration||t.tempo_estimado_minutos,f=!!(l||c||t.technical_requirements||t.safety_warnings||t.execution_steps||t.expected_results||t.quality_standards||t.warranty_info||t.observations||t.notes);return n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[n.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors",onClick:i,children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vt,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:o}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[n.jsxs("span",{children:["Qtd: ",d]}),n.jsx("span",{children:"•"}),n.jsxs("span",{children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),m&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:"•"}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"h-3 w-3"}),m,"min"]})]})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),n.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),f&&n.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:s?n.jsx(xc,{className:"h-5 w-5 text-gray-600"}):n.jsx(oo,{className:"h-5 w-5 text-gray-600"})})]})]}),s&&f&&n.jsxs("div",{className:"px-4 py-4 space-y-4 border-t border-gray-200",children:[l&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ko,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Descrição"})]}),n.jsx("p",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:l})]}),c&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ja,{className:"h-4 w-4 text-green-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Escopo do Serviço"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:c})]}),t.technical_requirements&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx($E,{className:"h-4 w-4 text-purple-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Requisitos Técnicos"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.technical_requirements})]}),t.safety_warnings&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(un,{className:"h-4 w-4 text-yellow-600"}),n.jsx("h5",{className:"font-semibold text-yellow-900",children:"Avisos de Segurança"})]}),n.jsx("div",{className:"text-yellow-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.safety_warnings})]}),t.execution_steps&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(vt,{className:"h-4 w-4 text-indigo-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Passos de Execução"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:t.execution_steps.split(`
`).map((b,y)=>n.jsxs("div",{className:"flex gap-2 mb-1",children:[n.jsxs("span",{className:"font-semibold text-indigo-600 min-w-[24px]",children:[y+1,"."]}),n.jsx("span",{children:b})]},y))})]}),t.expected_results&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ja,{className:"h-4 w-4 text-green-600"}),n.jsx("h5",{className:"font-semibold text-green-900",children:"Resultados Esperados"})]}),n.jsx("div",{className:"text-green-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.expected_results})]}),t.quality_standards&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(LE,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Padrões de Qualidade"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.quality_standards})]}),t.warranty_info&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(rn,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-blue-900",children:"Garantia"})]}),n.jsx("div",{className:"text-blue-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.warranty_info})]}),(t.observations||t.notes)&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ko,{className:"h-4 w-4 text-gray-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Observações"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.observations||t.notes})]})]}),s&&!f&&n.jsxs("div",{className:"px-4 py-8 text-center border-t border-gray-200",children:[n.jsx(Ko,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma informação detalhada disponível para este serviço."}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Adicione descrições, escopo e requisitos para melhor documentação."})]})]})}function gAe({isOpen:t,onClose:e,serviceItem:r,onSave:s}){const[a,i]=F.useState({service_name:"",service_description:"",service_scope:"",technical_requirements:"",safety_warnings:"",execution_steps:"",expected_results:"",quality_standards:"",warranty_info:"",observations:""}),[o,l]=F.useState(!1);F.useEffect(()=>{r&&t&&i({service_name:r.service_name||r.descricao||"",service_description:r.service_description||r.descricao||"",service_scope:r.service_scope||r.escopo_detalhado||"",technical_requirements:r.technical_requirements||"",safety_warnings:r.safety_warnings||"",execution_steps:r.execution_steps||"",expected_results:r.expected_results||"",quality_standards:r.quality_standards||"",warranty_info:r.warranty_info||"",observations:r.observations||r.notes||""})},[r,t]);const c=async()=>{if(r?.id)try{l(!0);const{error:d}=await he.from("service_order_items").update(a).eq("id",r.id);if(d)throw d;s(),e()}catch(d){console.error("Erro ao salvar:",d),alert("Erro ao salvar informações do serviço")}finally{l(!1)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:"Informações Detalhadas do Serviço"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Adicione descrições completas e requisitos técnicos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(vt,{className:"h-4 w-4 text-blue-600"}),"Nome do Serviço"]}),n.jsx("input",{type:"text",value:a.service_name,onChange:d=>i({...a,service_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalação de Ar Condicionado Split 12.000 BTUs"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Ko,{className:"h-4 w-4 text-blue-600"}),"Descrição Detalhada"]}),n.jsx("textarea",{value:a.service_description,onChange:d=>i({...a,service_description:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Descreva detalhadamente o serviço a ser executado..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(vt,{className:"h-4 w-4 text-green-600"}),"Escopo do Serviço"]}),n.jsx("textarea",{value:a.service_scope,onChange:d=>i({...a,service_scope:d.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`O que está incluído neste serviço? Ex:
• Instalação completa da unidade interna e externa
• Tubulação até 3 metros
• Suporte e dreno
• Testes de funcionamento`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Liste tudo que está incluído no serviço. Use • para bullet points."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx($E,{className:"h-4 w-4 text-purple-600"}),"Requisitos Técnicos"]}),n.jsx("textarea",{value:a.technical_requirements,onChange:d=>i({...a,technical_requirements:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Equipamentos, ferramentas ou condições necessárias..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(un,{className:"h-4 w-4 text-yellow-600"}),"Avisos de Segurança"]}),n.jsx("textarea",{value:a.safety_warnings,onChange:d=>i({...a,safety_warnings:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none bg-yellow-50",placeholder:"EPIs necessários, cuidados especiais, riscos a serem observados..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(vt,{className:"h-4 w-4 text-indigo-600"}),"Passos de Execução"]}),n.jsx("textarea",{value:a.execution_steps,onChange:d=>i({...a,execution_steps:d.target.value}),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`Liste os passos da execução (um por linha)
Ex:
Fixar suporte da unidade interna
Passar tubulação e elétrica
Instalar unidade externa
Fazer vácuo no sistema
Testar funcionamento`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite um passo por linha. Serão numerados automaticamente."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(vt,{className:"h-4 w-4 text-green-600"}),"Resultados Esperados"]}),n.jsx("textarea",{value:a.expected_results,onChange:d=>i({...a,expected_results:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none bg-green-50",placeholder:"O que o cliente pode esperar após a conclusão do serviço..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(LE,{className:"h-4 w-4 text-blue-600"}),"Padrões de Qualidade"]}),n.jsx("textarea",{value:a.quality_standards,onChange:d=>i({...a,quality_standards:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Normas técnicas, certificações, procedimentos de qualidade..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(rn,{className:"h-4 w-4 text-blue-600"}),"Informações de Garantia"]}),n.jsx("textarea",{value:a.warranty_info,onChange:d=>i({...a,warranty_info:d.target.value}),rows:2,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-blue-50",placeholder:"Ex: Garantia de 90 dias para mão de obra e 1 ano para equipamentos"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Ko,{className:"h-4 w-4 text-gray-600"}),"Observações Adicionais"]}),n.jsx("textarea",{value:a.observations,onChange:d=>i({...a,observations:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Outras informações importantes..."})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Preencha o máximo de informações possível para documentação completa"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"}),n.jsxs("button",{onClick:c,disabled:o,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 transition-all disabled:opacity-50 flex items-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),o?"Salvando...":"Salvar Informações"]})]})]})]})}):null}const yq=()=>{const[t,e]=F.useState([]),r=F.useCallback((c,d,u)=>{const h=Math.random().toString(36).substring(7),m={id:h,type:c,message:d,duration:u};return e(f=>[...f,m]),h},[]),s=F.useCallback(c=>{e(d=>d.filter(u=>u.id!==c))},[]),a=F.useCallback((c,d)=>r("success",c,d),[r]),i=F.useCallback((c,d)=>r("error",c,d),[r]),o=F.useCallback((c,d)=>r("warning",c,d),[r]),l=F.useCallback((c,d)=>r("info",c,d),[r]);return{toasts:t,addToast:r,removeToast:s,success:a,error:i,warning:o,info:l}},dN=[{value:"fotos_antes",label:"Fotos Antes",icon:cv,color:"blue"},{value:"fotos_durante",label:"Fotos Durante",icon:cv,color:"yellow"},{value:"fotos_depois",label:"Fotos Depois",icon:cv,color:"green"},{value:"assinaturas",label:"Assinaturas",icon:vt,color:"purple"},{value:"contratos",label:"Contratos",icon:vt,color:"indigo"},{value:"notas_fiscais",label:"Notas Fiscais",icon:vt,color:"red"},{value:"laudos",label:"Laudos",icon:vt,color:"orange"},{value:"projetos",label:"Projetos",icon:Ov,color:"cyan"},{value:"orcamentos",label:"Orçamentos",icon:vt,color:"teal"},{value:"outros",label:"Outros",icon:f1,color:"gray"}];function xAe({serviceOrderId:t,readOnly:e=!1,onDocumentsChange:r}){const[s,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState(!0),[d,u]=F.useState(!1),[h,m]=F.useState(null),[f,b]=F.useState(""),[y,g]=F.useState(null),x=yq();F.useEffect(()=>{v(),j()},[t]);const v=async()=>{try{const{data:D,error:L}=await he.from("service_order_documents").select("*").eq("service_order_id",t).eq("status","active").order("uploaded_at",{ascending:!1});if(L)throw L;a(D||[])}catch(D){console.error("Error loading documents:",D),x.error("Erro ao carregar documentos")}finally{c(!1)}},j=async()=>{try{const{data:D,error:L}=await he.rpc("get_service_order_documents_count",{p_service_order_id:t});if(L)throw L;o(D||[])}catch(D){console.error("Error loading stats:",D)}},B=async(D,L)=>{if(!D.length)return;u(!0);let V=0;try{for(const z of Array.from(D)){if(z.size>10*1024*1024){x.error(`${z.name} excede 10MB`);continue}const Z=await C(z),{error:G}=await he.from("service_order_documents").insert({service_order_id:t,file_name:z.name,file_type:z.type,file_size:z.size,file_url:Z,category:L,title:z.name.split(".")[0],is_visible_to_client:!1,status:"active"});if(G)throw G;V++}x.success(`${V} arquivo(s) enviado(s) com sucesso!`),v(),j(),r?.()}catch(z){console.error("Error uploading files:",z),x.error("Erro ao enviar arquivo(s)")}finally{u(!1)}},C=D=>new Promise((L,V)=>{const z=new FileReader;z.readAsDataURL(D),z.onload=()=>L(z.result),z.onerror=Z=>V(Z)}),E=async D=>{if(confirm("Deseja realmente excluir este documento?"))try{const{error:L}=await he.from("service_order_documents").update({status:"deleted"}).eq("id",D);if(L)throw L;x.success("Documento excluído com sucesso!"),v(),j(),r?.()}catch(L){console.error("Error deleting document:",L),x.error("Erro ao excluir documento")}},M=async(D,L)=>{try{const{error:V}=await he.from("service_order_documents").update({is_visible_to_client:!L}).eq("id",D);if(V)throw V;const z=L?"Documento oculto do cliente":"Documento visível para cliente";x.success(z),v()}catch(V){console.error("Error toggling visibility:",V),x.error("Erro ao alterar visibilidade")}},S=D=>{const L=document.createElement("a");L.href=D.file_url,L.download=D.file_name,L.click()},k=D=>i.find(L=>L.category===D)?.count||0,I=s.filter(D=>{const L=!h||D.category===h,V=!f||D.file_name.toLowerCase().includes(f.toLowerCase())||D.title?.toLowerCase().includes(f.toLowerCase())||D.description?.toLowerCase().includes(f.toLowerCase());return L&&V}),_=D=>D<1024?D+" B":D<1024*1024?(D/1024).toFixed(1)+" KB":(D/(1024*1024)).toFixed(1)+" MB",T=D=>D.startsWith("image/")?mse:vt;return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:dN.slice(0,5).map(D=>{const L=k(D.value),V=D.icon;return n.jsxs("button",{onClick:()=>m(h===D.value?null:D.value),className:`p-4 rounded-lg border-2 transition-all ${h===D.value?`border-${D.color}-500 bg-${D.color}-50`:"border-gray-200 hover:border-gray-300"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(V,{className:`h-5 w-5 text-${D.color}-600`}),n.jsx("span",{className:`text-2xl font-bold text-${D.color}-600`,children:L})]}),n.jsx("p",{className:"text-sm text-gray-600",children:D.label})]},D.value)})}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:f,onChange:D=>b(D.target.value),placeholder:"Buscar documentos...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),!e&&n.jsx("div",{className:"flex gap-2",children:dN.map(D=>{const L=D.icon;return n.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 bg-${D.color}-500 text-white rounded-lg hover:bg-${D.color}-600 cursor-pointer transition-colors`,children:[n.jsx(L,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm font-medium hidden md:inline",children:D.label}),n.jsx("input",{type:"file",multiple:!0,accept:"image/*,application/pdf,.doc,.docx",onChange:V=>V.target.files&&B(V.target.files,D.value),className:"hidden",disabled:d})]},D.value)})})]}),I.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ov,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-2",children:"Nenhum documento encontrado"}),!e&&n.jsx("p",{className:"text-sm text-gray-400",children:"Clique em uma categoria acima para adicionar documentos"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.map(D=>{const L=T(D.file_type),V=dN.find(z=>z.value===D.category);return n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"relative h-48 bg-gray-100 flex items-center justify-center cursor-pointer",onClick:()=>g(D),children:[D.file_type.startsWith("image/")?n.jsx("img",{src:D.file_url,alt:D.file_name,className:"w-full h-full object-cover"}):n.jsx(L,{className:"h-16 w-16 text-gray-400"}),n.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 bg-${V?.color}-500 text-white text-xs rounded`,children:V?.label})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate mb-1",children:D.title||D.file_name}),n.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[_(D.file_size)," • ",new Date(D.uploaded_at).toLocaleDateString("pt-BR")]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>S(D),className:"flex-1 flex items-center justify-center gap-1 px-3 py-1.5 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 text-xs",children:[n.jsx(ys,{className:"h-3.5 w-3.5"}),"Baixar"]}),!e&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>M(D.id,D.is_visible_to_client),className:`p-1.5 rounded ${D.is_visible_to_client?"bg-green-50 text-green-600":"bg-gray-100 text-gray-600"} hover:bg-opacity-80`,title:D.is_visible_to_client?"Visível para cliente":"Oculto do cliente",children:D.is_visible_to_client?n.jsx(la,{className:"h-4 w-4"}):n.jsx(m1,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>E(D.id),className:"p-1.5 bg-red-50 text-red-600 rounded hover:bg-red-100",title:"Excluir",children:n.jsx(rr,{className:"h-4 w-4"})})]})]})]})]},D.id)})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>g(null),children:n.jsxs("div",{className:"bg-white rounded-lg max-w-4xl max-h-[90vh] overflow-auto",onClick:D=>D.stopPropagation(),children:[n.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-lg",children:y.title||y.file_name}),n.jsx("button",{onClick:()=>g(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Et,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4",children:y.file_type.startsWith("image/")?n.jsx("img",{src:y.file_url,alt:y.file_name,className:"w-full h-auto"}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"h-24 w-24 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Visualização não disponível para este tipo de arquivo"}),n.jsx("button",{onClick:()=>S(y),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Baixar Arquivo"})]})})]})}),d&&n.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-3",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),n.jsx("span",{children:"Enviando arquivo(s)..."})]})]})}const yAe=()=>{const{id:t}=rE(),e=Vs(),[r,s]=F.useState(!0),[a,i]=F.useState(null),[o,l]=F.useState(null),[c,d]=F.useState(!1),[u,h]=F.useState(!1),[m,f]=F.useState(!1),[b,y]=F.useState(!1),[g,x]=F.useState(!1),[v,j]=F.useState(!1),[B,C]=F.useState(!1),[E,M]=F.useState(!1),[S,k]=F.useState(!1),[I,_]=F.useState([]),[T,D]=F.useState(null),[L,V]=F.useState(!1),[z,Z]=F.useState(null);F.useEffect(()=>{t&&G()},[t]);const G=async()=>{try{s(!0);const se=await hv(t);if(se){i(se);const{data:fe}=await he.from("customers").select(`
            *,
            customer_addresses(
              logradouro,
              numero,
              complemento,
              bairro,
              cidade,
              estado,
              cep
            )
          `).eq("id",se.client_id).single();l(fe);const{data:me}=await he.from("service_order_items").select(`
            *,
            service_catalog:service_catalog_id(
              id,
              name,
              description,
              base_price,
              category,
              estimated_duration
            )
          `).eq("service_order_id",t),{data:pe}=await he.from("service_order_materials").select(`
            *,
            material:material_id(name, unit)
          `).eq("service_order_id",t),{data:_e}=await he.from("service_order_labor").select(`
            *,
            employee:staff_id(id, name)
          `).eq("service_order_id",t),{data:ge}=await he.from("service_order_team").select(`
            *,
            employee:employee_id(id, name)
          `).eq("service_order_id",t);if(me&&me.length>0){const st=me.map(Ne=>{const J=(pe||[]).filter(Ie=>Ie.service_order_item_id===Ne.id).map(Ie=>({nome:Ie.material_name||Ie.nome_material||Ie.material?.name||"Material",quantidade:Ie.quantity||Ie.quantidade||0,unidade_medida:Ie.material_unit||Ie.material?.unit||"un",preco_unitario:Ie.unit_price||Ie.preco_venda||0,valor_total:Ie.total_price||Ie.valor_total||0})),Me=(_e||[]).filter(Ie=>Ie.service_order_item_id===Ne.id).map(Ie=>({nome:Ie.nome_funcionario||Ie.employee?.name||"Funcionário",tempo_minutos:Ie.tempo_minutos||(Ie.hours?Ie.hours*60:0)||0,custo_hora:Ie.custo_hora||Ie.hourly_rate||0,custo_total:Ie.custo_total||Ie.total_cost||0}));return{id:Ne.id,service_catalog_id:Ne.service_catalog_id,description:Ne.descricao||Ne.notes||Ne.service_catalog?.description||Ne.service_catalog?.name||"",name:Ne.service_catalog?.name||Ne.descricao||"",descricao:Ne.descricao||Ne.notes||Ne.service_catalog?.name||"",escopo:Ne.escopo_detalhado||Ne.escopo||"",escopo_detalhado:Ne.escopo_detalhado||Ne.escopo||"",scope:Ne.escopo_detalhado||Ne.escopo||"",quantity:Ne.quantity||Ne.quantidade||1,quantidade:Ne.quantidade||Ne.quantity||1,unit_price:Ne.unit_price||Ne.preco_unitario||0,preco_unitario:Ne.preco_unitario||Ne.unit_price||0,total_price:Ne.total_price||Ne.preco_total||0,preco_total:Ne.preco_total||Ne.total_price||0,estimated_duration:Ne.estimated_duration||Ne.tempo_estimado_minutos||0,tempo_estimado_minutos:Ne.tempo_estimado_minutos||Ne.estimated_duration||0,materiais:J,funcionarios:Me}});i({...se,items:st,team:(ge||[]).map(Ne=>({id:Ne.id,employee_id:Ne.employee_id,nome:Ne.employee?.name||"Funcionário",role:Ne.role||"",assigned_at:Ne.assigned_at}))})}const{data:ye}=await he.from("bank_accounts").select("*").eq("is_default",!0).maybeSingle();ye&&_([ye]);const{data:Ve}=await he.from("company_settings").select("*").maybeSingle();D(Ve)}}catch(se){console.error("Error loading order:",se),alert("Erro ao carregar ordem de serviço")}finally{s(!1)}},H=async()=>{if(!a||!o)throw new Error("Dados incompletos para gerar PDF");const se=ee();if(!se)throw new Error("Erro ao preparar dados do documento");return await p0(se),new Blob([],{type:"application/pdf"})},ee=()=>{if(!a||!o)return null;const se=o.customer_addresses?.[0];return console.log("📦 PREPARANDO DADOS GIARTECH"),console.log("📦 Total de itens:",a.items?.length),a.items&&a.items.length>0&&(console.log("📝 Primeiro item completo:",JSON.stringify(a.items[0],null,2)),a.items[0]?.service_catalog&&console.log("📚 Catálogo do primeiro item:",JSON.stringify(a.items[0].service_catalog,null,2))),{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.title||a.description||"",client:{name:a.client_name||o.nome_razao||o.name||"Cliente",company_name:a.client_company_name||o.nome_fantasia||"",cnpj:a.client_cnpj||o.cnpj||"",cpf:a.client_cpf||o.cpf||"",address:a.client_address||(se?`${se.logradouro}${se.numero?", "+se.numero:""}`:""),city:a.client_city||se?.cidade||"",state:a.client_state||se?.estado||"",cep:a.client_cep||se?.cep||"",email:a.client_email||o.email||"",phone:a.client_phone||o.telefone||o.phone||""},basic_info:{deadline:a.prazo_execucao_dias?`${a.prazo_execucao_dias} dias`:"15 dias",brand:a.brand||"",model:a.model||"",equipment:a.equipment||""},items:JS(a.items||[]),subtotal:a.subtotal||a.total_value||0,discount:a.discount_amount||a.desconto_valor||0,total:a.final_total||a.total_value||0,payment:{methods:a.payment_methods||"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:a.payment_pix||T?.pix_key||a.client_cnpj||a.client_cpf||"",bank_details:I[0]?{bank:I[0].bank_name||"Banco",agency:I[0].agency||"0001",account:I[0].account_number||"",account_type:I[0].account_type==="checking"?"Corrente":I[0].account_type==="savings"?"Poupança":"Corrente",holder:I[0].account_holder||T?.company_name||""}:void 0,conditions:a.payment_conditions||"Sinal de 50% e o valor restante após a conclusão."},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":a.warranty_type==="months"?"meses":"anos"}`:"12 meses",conditions:a.warranty_terms||`Garantias referentes à sistemas de novo em tubulações antigas, só serão válidas, com os processos de descontaminação das tubulações antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, só são válidas com manutenção semestral comprovada COM LAUDO TÉCNICO.

Garantias extendidas pela nossa empresa, são concedidas em caso de compra das máquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter até 12 meses de acordo com o tipo e capacidade do sistema, mediante a manutenção dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:a.contract_clauses?JSON.parse(a.contract_clauses):[],additional_info:a.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiança"}},Y=se=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(se),q=se=>new Date(se).toLocaleDateString("pt-BR"),U=()=>{d(!0)},te=async()=>{if(t)try{h(!0),await CH(t),alert("Ordem de serviço excluída com sucesso!"),e("/service-orders")}catch(se){console.error("Error deleting order:",se),alert("Erro ao excluir ordem de serviço. Verifique se não há dependências.")}finally{h(!1)}},X=()=>{d(!1)};return r?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e("/service-orders"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Qd,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visualizar Ordem de Serviço"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["OS #",a.order_number]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 shadow-lg",children:[n.jsx(la,{className:"h-4 w-4"}),"Ver Orçamento"]}),n.jsx(Phe,{documentType:"ordem_servico",generatePDF:H,printOptions:{documentNumber:a?.order_number,clientName:o?.nome_razao||o?.name},label:"Imprimir OS Completa",variant:"primary",size:"md"}),n.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg hover:from-teal-700 hover:to-teal-800 flex items-center gap-2 shadow-lg",children:[n.jsx(la,{className:"h-4 w-4"}),"Ver Proposta"]}),n.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 flex items-center gap-2 shadow-lg",children:[n.jsx(vt,{className:"h-4 w-4"}),"Ver Contrato"]}),n.jsxs("button",{onClick:()=>e(`/service-orders?edit=${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(pn,{className:"h-4 w-4"}),"Editar"]}),n.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 flex items-center gap-2 shadow-lg",children:[n.jsx(kr,{className:"h-4 w-4"}),"Timeline"]}),n.jsxs("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:from-amber-700 hover:to-amber-800 flex items-center gap-2 shadow-lg",children:[n.jsx(vt,{className:"h-4 w-4"}),"Checklist"]}),n.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 flex items-center gap-2 shadow-lg",children:[n.jsx(xs,{className:"h-4 w-4"}),"Auditoria"]}),n.jsxs("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 flex items-center gap-2 shadow-lg",children:[n.jsx(vt,{className:"h-4 w-4"}),"Documentos"]}),n.jsxs("button",{onClick:U,className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 shadow-lg",children:[n.jsx(rr,{className:"h-4 w-4"}),"Excluir"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(nn,{className:"h-5 w-5 text-blue-600"}),"Informações do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-gray-900",children:o?.nome_razao||o?.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("p",{className:"text-gray-900",children:o?.telefone||o?.phone||"N/A"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("p",{className:"text-gray-900",children:o?.email||"N/A"})]}),(o?.endereco||o?.address)&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),n.jsxs("p",{className:"text-gray-900",children:[o?.endereco||o?.address,(o?.cidade||o?.city)&&`, ${o?.cidade||o?.city}`,(o?.estado||o?.state)&&` - ${o?.estado||o?.state}`,(o?.cep||o?.zip_code)&&` - CEP: ${o?.cep||o?.zip_code}`]})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(vt,{className:"h-5 w-5 text-blue-600"}),"Detalhes da Ordem"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("p",{className:"text-gray-900",children:a.description||"Sem descrição"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Criação"}),n.jsx("p",{className:"text-gray-900",children:q(a.created_at)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),n.jsx("p",{className:"text-gray-900",children:a.due_date?q(a.due_date):a.service_date?q(a.service_date):"Não definida"})]})]})]})]}),a.items&&a.items.length>0&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5 text-blue-600"}),"Serviços"]}),n.jsxs("button",{onClick:()=>{a.items&&a.items.length>0&&(Z(a.items[0]),V(!0))},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[n.jsx(pn,{className:"h-4 w-4"}),"Editar Informações"]})]}),n.jsx("div",{className:"space-y-3",children:a.items.map((se,fe)=>n.jsx(pAe,{service:se,isExpanded:!1},se.id||fe))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(pr,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),n.jsxs("div",{className:"space-y-3",children:[a.items&&a.items.length>0&&n.jsx("div",{className:"space-y-2 pb-3 border-b",children:a.items.map((se,fe)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 flex-1 mr-2",children:se.descricao||se.description||se.service_name||"Serviço"}),n.jsx("span",{className:"font-medium whitespace-nowrap",children:Y(se.total_price||se.total||(se.unit_price||se.price||0)*(se.quantity||1))})]},fe))}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsx("span",{className:"font-semibold",children:Y(a.subtotal_value||a.total_value||0)})]}),a.discount_value>0&&n.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[n.jsx("span",{children:"Desconto:"}),n.jsxs("span",{className:"font-semibold",children:["-",Y(a.discount_value)]})]}),n.jsx("div",{className:"pt-3 border-t",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:Y(a.total_value||0)})]})})]})]}),n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status Atual:"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in_progress"?"bg-blue-100 text-blue-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status==="completed"?"Concluída":a.status==="in_progress"?"Em Andamento":a.status==="pending"?"Pendente":a.status})})]})})]})]})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:n.jsx(rr,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Serviço"}),n.jsx("p",{className:"text-red-100 text-sm",children:"Esta ação não pode ser desfeita"})]})]})})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xs,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Você está prestes a excluir a seguinte OS:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Número:"})," ",a?.order_number]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Cliente:"})," ",o?.nome_razao||o?.name]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Serviço:"})," ",a?.service_type]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Valor:"})," ",Y(a?.total_cost||0)]})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"⚠️ Atenção!"}),n.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados serão permanentemente removidos do sistema. Esta ação é irreversível."})]})]})}),n.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:X,disabled:u,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:te,disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):n.jsxs(n.Fragment,{children:[n.jsx(rr,{className:"h-5 w-5"}),"Confirmar Exclusão"]})})]})]})]})}),n.jsx(Ohe,{isOpen:m,onClose:()=>f(!1),serviceOrderId:t||""}),a&&o&&n.jsxs(n.Fragment,{children:[n.jsx(Mhe,{isOpen:g,onClose:()=>x(!1),data:ee()}),n.jsx(Dhe,{isOpen:b,onClose:()=>y(!1),data:{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.description||"",client:{name:o.nome_razao||o.name||"Cliente",company_name:o.nome_razao,cnpj:o.cnpj_cpf,address:(()=>{const se=o.customer_addresses?.[0];return se?`${se.logradouro}${se.numero?", "+se.numero:""}${se.complemento?" - "+se.complemento:""}`:o.address_street?`${o.address_street}${o.address_number?", "+o.address_number:""}${o.address_complement?" - "+o.address_complement:""}`:o.endereco||o.address})(),city:o.customer_addresses?.[0]?.cidade||o.address_city||o.cidade||o.city,state:o.customer_addresses?.[0]?.estado||o.address_state||o.estado||o.state,cep:o.customer_addresses?.[0]?.cep||o.address_zip_code||o.cep||o.zip_code,email:o.email,phone:o.telefone||o.phone},company:{name:T?.company_name||"Giartech Soluções",owner:T?.owner_name||"Tiago Bruno Giaquinto",cnpj:T?.cnpj||"375.098.970",address:T?.address||"Rua Quito 14, 14",city:T?.city||"São Paulo",state:T?.state||"SP",cep:T?.zip_code,email:T?.email||"giartechsolucoes@gmail.com",phones:T?.phone?[T.phone]:["+351 511 966 617","+351 511 943 985"],social:{instagram:"@tg.arconnection",facebook:"@tgarconnection",website:"tgarconnection.com.br"},tagline:"Sua satisfação é o que motiva a nossa dedicação"},basic_info:{deadline:a.estimated_hours?`${a.estimated_hours} horas`:"3 DIAS",brand:a.equipment_brand,model:a.equipment_model},items:(a.items||[]).map(se=>({description:se.service_catalog?.name||se.service_name||se.name||se.descricao||se.description||"Serviço",scope:se.notes||se.service_catalog?.description||se.scope||se.description||"",unit:se.unit||"un.",unit_price:se.unit_price||se.preco_unitario||se.price||0,quantity:se.quantity||se.quantidade||1,total_price:se.total_price||se.preco_total||(se.unit_price||se.preco_unitario||se.price||0)*(se.quantity||se.quantidade||1)})),subtotal:a.subtotal_value||a.total_value||0,discount:a.discount_value||a.desconto_valor||0,total:a.total_value||0,show_value:a.show_value!==!1,relatorio_tecnico:a.relatorio_tecnico,orientacoes_servico:a.orientacoes_servico,escopo_detalhado:a.escopo_detalhado,payment:{methods:a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência Bancária":"Transferência bancária, dinheiro, cartão de crédito, cartão de débito ou pix",pix:I[0]?.pix_key||T?.cnpj,bank_details:I[0]?{bank:I[0].bank_name,agency:I[0].agency,account:I[0].account_number,account_type:I[0].account_type==="checking"?"Corrente":"Poupança",holder:I[0].account_holder}:void 0,conditions:a.payment_installments&&a.payment_installments>1?`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência":"Diversos"}
Parcelas: ${a.payment_installments}x
LINK DE PAGAMENTO EM ${a.payment_installments}X SEM JUROS / DEMAIS PARCELAS INCIDÊNCIA DE JUROS DA MÁQUINA
À VISTA 5% DE DESCONTO`:`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Cartão de Crédito":a.payment_method==="cartao_debito"?"Cartão de Débito":a.payment_method==="transferencia"?"Transferência":"À Vista"}
Pagamento à vista com 5% de desconto`},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":"meses"}`:"90 dias",conditions:a.warranty_terms||`Garantias referentes à sistemas de novo em tubulações antigas, só serão válidas, com os processos de descontaminação das tubulações antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, só são válidas com manutenção semestral comprovada COM LAUDO TÉCNICO.

Garantias extendidas pela nossa empresa, são concedidas em caso de compra das máquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter até 12 meses de acordo com o tipo e capacidade do sistema, mediante a manutenção dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:`1. Obrigações do Cliente
1.1. O cliente deve fornecer todas as informações necessárias para a execução adequada dos serviços contratados, incluindo, mas não se limitando a, especificações técnicas, localização e horários preferenciais para a realização dos serviços, como também a planta do imóvel e projeto arquitetônico.
1.2. O cliente deve garantir o acesso seguro e adequado às instalações onde os serviços serão realizados.
1.3. O cliente deve comunicar prontamente qualquer problema ou defeito observado nos serviços prestados.
1.4. É de responsabilidade do cliente o destelhamento e reinstalação do telhado.

2. Obrigações do Contratante
2.1. O contratante deve realizar os serviços de acordo com as especificações técnicas fornecidas pelo cliente e de acordo com os padrões da indústria.
2.2. O contratante deve cumprir todos os prazos acordados para a execução dos serviços.
2.3. O contratante deve manter o cliente informado sobre o progresso dos serviços e quaisquer problemas ou atrasos que possam surgir.

3. Regras de Rescisão
3.1. Ambas as partes têm o direito de rescindir o contrato a qualquer momento, com um aviso prévio de 30 dias.
3.2. Em caso de violação de qualquer uma das obrigações estabelecidas neste contrato, a parte não infratora tem o direito de rescindir o contrato imediatamente, sem necessidade de aviso prévio.

4. Regras Gerais
4.1. Este contrato não cria qualquer relação de parceria, joint venture, emprego ou agência entre as partes.
4.2. Nenhuma das partes pode ceder ou transferir seus direitos ou obrigações sob este contrato sem o consentimento prévio por escrito da outra parte.
4.3. Este contrato constitui o acordo completo entre as partes e substitui todos os acordos anteriores, escritos ou orais, relacionados ao seu objeto.`,additional_info:a.notes||`Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiança

obrigado pela confiança, estaremos à disposição.`}})]}),v&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Timeline de Status"}),n.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:"✕"})]}),n.jsx("div",{className:"p-6",children:n.jsx(AAe,{serviceOrderId:t,isOpen:v,onClose:()=>j(!1)})})]})}),B&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Histórico de Auditoria"}),n.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:"✕"})]}),n.jsx("div",{className:"p-6",children:n.jsx(mAe,{serviceOrderId:t,isOpen:B,onClose:()=>C(!1)})})]})}),E&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Checklist de Execução"}),n.jsx("button",{onClick:()=>M(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:"✕"})]}),n.jsx("div",{className:"p-6",children:n.jsx(fAe,{serviceOrderId:t})})]})}),S&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-7xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white z-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Documentos da OS"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Gerencie fotos, contratos, notas fiscais e outros documentos"})]}),n.jsx("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:"✕"})]}),n.jsx("div",{className:"p-6",children:n.jsx(xAe,{serviceOrderId:t,onDocumentsChange:G})})]})}),n.jsx(gAe,{isOpen:L,onClose:()=>{V(!1),Z(null)},serviceItem:z,onSave:()=>{G(),V(!1),Z(null)}})]}):n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600",children:"Ordem de serviço não encontrada"}),n.jsx("button",{onClick:()=>e("/service-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZS=function(t,e){return ZS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},ZS(t,e)};function Ol(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var eB=function(){return eB=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},eB.apply(this,arguments)};function Ai(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,[])).next())})}function Qa(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function cb(t,e,r){if(arguments.length===2)for(var s=0,a=e.length,i;s<a;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||e)}var Od=(function(){function t(e,r,s,a){this.left=e,this.top=r,this.width=s,this.height=a}return t.prototype.add=function(e,r,s,a){return new t(this.left+e,this.top+r,this.width+s,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var s=Array.from(r).find(function(a){return a.width!==0});return s?new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),_1=function(t,e){return Od.fromClientRect(t,e.getBoundingClientRect())},bAe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Od(0,0,s,a)},C1=function(t){for(var e=[],r=0,s=t.length;r<s;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},As=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},EO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var db=0;db<EO.length;db++)vAe[EO.charCodeAt(db)]=db;var kO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ub=0;ub<kO.length;ub++)Vg[kO.charCodeAt(ub)]=ub;var wAe=function(t){var e=t.length*.75,r=t.length,s,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<r;s+=4)i=Vg[t.charCodeAt(s)],o=Vg[t.charCodeAt(s+1)],l=Vg[t.charCodeAt(s+2)],c=Vg[t.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},jAe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=2)r.push(t[s+1]<<8|t[s]);return r},NAe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},WA=5,YE=11,uN=2,_Ae=YE-WA,bq=65536>>WA,CAe=1<<WA,hN=CAe-1,SAe=1024>>WA,BAe=bq+SAe,EAe=BAe,kAe=32,PAe=EAe+kAe,TAe=65536>>YE,FAe=1<<_Ae,OAe=FAe-1,PO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},IAe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},DAe=function(t,e){var r=wAe(t),s=Array.isArray(r)?NAe(r):new Uint32Array(r),a=Array.isArray(r)?jAe(r):new Uint16Array(r),i=24,o=PO(a,i/2,s[4]/2),l=s[5]===2?PO(a,(i+s[4])/2):IAe(s,Math.ceil((i+s[4])/4));return new MAe(s[0],s[1],s[2],s[3],o,l)},MAe=(function(){function t(e,r,s,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>WA],r=(r<<uN)+(e&hN),this.data[r];if(e<=65535)return r=this.index[bq+(e-55296>>WA)],r=(r<<uN)+(e&hN),this.data[r];if(e<this.highStart)return r=PAe-TAe+(e>>YE),r=this.index[r],r+=e>>WA&OAe,r=this.index[r],r=(r<<uN)+(e&hN),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),TO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",LAe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var hb=0;hb<TO.length;hb++)LAe[TO.charCodeAt(hb)]=hb;var RAe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",FO=50,UAe=1,vq=2,wq=3,QAe=4,$Ae=5,OO=7,jq=8,IO=9,Zu=10,tB=11,DO=12,rB=13,HAe=14,Kg=15,nB=16,Ab=17,_g=18,qAe=19,MO=20,sB=21,Cg=22,AN=23,uf=24,to=25,Wg=26,Gg=27,hf=28,zAe=29,TA=30,VAe=31,mb=32,fb=33,aB=34,iB=35,oB=36,Y0=37,lB=38,xv=39,yv=40,mN=41,Nq=42,KAe=43,WAe=[9001,65288],_q="!",Br="×",pb="÷",cB=DAe(RAe),dd=[TA,oB],dB=[UAe,vq,wq,$Ae],Cq=[Zu,jq],LO=[Gg,Wg],GAe=dB.concat(Cq),RO=[lB,xv,yv,aB,iB],XAe=[Kg,rB],YAe=function(t,e){e===void 0&&(e="strict");var r=[],s=[],a=[];return t.forEach(function(i,o){var l=cB.get(i);if(l>FO?(a.push(!0),l-=FO):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(o),r.push(nB);if(l===QAe||l===tB){if(o===0)return s.push(o),r.push(TA);var c=r[o-1];return GAe.indexOf(c)===-1?(s.push(s[o-1]),r.push(c)):(s.push(o),r.push(TA))}if(s.push(o),l===VAe)return r.push(e==="strict"?sB:Y0);if(l===Nq||l===zAe)return r.push(TA);if(l===KAe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Y0):r.push(TA);r.push(l)}),[s,r,a]},fN=function(t,e,r,s){var a=s[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=s.length;){i++;var o=s[i];if(o===e)return!0;if(o!==Zu)break}if(a===Zu)for(var i=r;i>0;){i--;var l=s[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=s.length;){c++;var o=s[c];if(o===e)return!0;if(o!==Zu)break}if(l!==Zu)break}return!1},UO=function(t,e){for(var r=t;r>=0;){var s=e[r];if(s===Zu)r--;else return s}return 0},JAe=function(t,e,r,s,a){if(r[s]===0)return Br;var i=s-1;if(Array.isArray(a)&&a[i]===!0)return Br;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===vq&&u===wq)return Br;if(dB.indexOf(c)!==-1)return _q;if(dB.indexOf(u)!==-1||Cq.indexOf(u)!==-1)return Br;if(UO(i,e)===jq)return pb;if(cB.get(t[i])===tB||(c===mb||c===fb)&&cB.get(t[l])===tB||c===OO||u===OO||c===IO||[Zu,rB,Kg].indexOf(c)===-1&&u===IO||[Ab,_g,qAe,uf,hf].indexOf(u)!==-1||UO(i,e)===Cg||fN(AN,Cg,i,e)||fN([Ab,_g],sB,i,e)||fN(DO,DO,i,e))return Br;if(c===Zu)return pb;if(c===AN||u===AN)return Br;if(u===nB||c===nB)return pb;if([rB,Kg,sB].indexOf(u)!==-1||c===HAe||d===oB&&XAe.indexOf(c)!==-1||c===hf&&u===oB||u===MO||dd.indexOf(u)!==-1&&c===to||dd.indexOf(c)!==-1&&u===to||c===Gg&&[Y0,mb,fb].indexOf(u)!==-1||[Y0,mb,fb].indexOf(c)!==-1&&u===Wg||dd.indexOf(c)!==-1&&LO.indexOf(u)!==-1||LO.indexOf(c)!==-1&&dd.indexOf(u)!==-1||[Gg,Wg].indexOf(c)!==-1&&(u===to||[Cg,Kg].indexOf(u)!==-1&&e[l+1]===to)||[Cg,Kg].indexOf(c)!==-1&&u===to||c===to&&[to,hf,uf].indexOf(u)!==-1)return Br;if([to,hf,uf,Ab,_g].indexOf(u)!==-1)for(var h=i;h>=0;){var m=e[h];if(m===to)return Br;if([hf,uf].indexOf(m)!==-1)h--;else break}if([Gg,Wg].indexOf(u)!==-1)for(var h=[Ab,_g].indexOf(c)!==-1?o:i;h>=0;){var m=e[h];if(m===to)return Br;if([hf,uf].indexOf(m)!==-1)h--;else break}if(lB===c&&[lB,xv,aB,iB].indexOf(u)!==-1||[xv,aB].indexOf(c)!==-1&&[xv,yv].indexOf(u)!==-1||[yv,iB].indexOf(c)!==-1&&u===yv||RO.indexOf(c)!==-1&&[MO,Wg].indexOf(u)!==-1||RO.indexOf(u)!==-1&&c===Gg||dd.indexOf(c)!==-1&&dd.indexOf(u)!==-1||c===uf&&dd.indexOf(u)!==-1||dd.concat(to).indexOf(c)!==-1&&u===Cg&&WAe.indexOf(t[l])===-1||dd.concat(to).indexOf(u)!==-1&&c===_g)return Br;if(c===mN&&u===mN){for(var f=r[i],b=1;f>0&&(f--,e[f]===mN);)b++;if(b%2!==0)return Br}return c===mb&&u===fb?Br:pb},ZAe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=YAe(t,e.lineBreak),s=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[to,TA,Nq].indexOf(l)!==-1?Y0:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[s,a,o]},eme=(function(){function t(e,r,s,a){this.codePoints=e,this.required=r===_q,this.start=s,this.end=a}return t.prototype.slice=function(){return As.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),tme=function(t,e){var r=C1(t),s=ZAe(r,e),a=s[0],i=s[1],o=s[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=Br;d<l&&(u=JAe(r,i,a,++d,o))===Br;);if(u!==Br||d===l){var h=new eme(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},rme=1,nme=2,Gx=4,QO=8,Kv=10,$O=47,g0=92,sme=9,ame=32,gb=34,Sg=61,ime=35,ome=36,lme=37,xb=39,yb=40,Bg=41,cme=95,Mi=45,dme=33,ume=60,hme=62,Ame=64,mme=91,fme=93,pme=61,gme=123,bb=63,xme=125,HO=124,yme=126,bme=128,qO=65533,pN=42,LA=43,vme=44,wme=58,jme=59,J0=46,Nme=0,_me=8,Cme=11,Sme=14,Bme=31,Eme=127,sc=-1,Sq=48,Bq=97,Eq=101,kme=102,Pme=117,Tme=122,kq=65,Pq=69,Tq=70,Fme=85,Ome=90,qa=function(t){return t>=Sq&&t<=57},Ime=function(t){return t>=55296&&t<=57343},Af=function(t){return qa(t)||t>=kq&&t<=Tq||t>=Bq&&t<=kme},Dme=function(t){return t>=Bq&&t<=Tme},Mme=function(t){return t>=kq&&t<=Ome},Lme=function(t){return Dme(t)||Mme(t)},Rme=function(t){return t>=bme},vb=function(t){return t===Kv||t===sme||t===ame},Wv=function(t){return Lme(t)||Rme(t)||t===cme},zO=function(t){return Wv(t)||qa(t)||t===Mi},Ume=function(t){return t>=Nme&&t<=_me||t===Cme||t>=Sme&&t<=Bme||t===Eme},Vu=function(t,e){return t!==g0?!1:e!==Kv},wb=function(t,e,r){return t===Mi?Wv(e)||Vu(e,r):Wv(t)?!0:!!(t===g0&&Vu(t,e))},gN=function(t,e,r){return t===LA||t===Mi?qa(e)?!0:e===J0&&qa(r):qa(t===J0?e:t)},Qme=function(t){var e=0,r=1;(t[e]===LA||t[e]===Mi)&&(t[e]===Mi&&(r=-1),e++);for(var s=[];qa(t[e]);)s.push(t[e++]);var a=s.length?parseInt(As.apply(void 0,s),10):0;t[e]===J0&&e++;for(var i=[];qa(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(As.apply(void 0,i),10):0;(t[e]===Pq||t[e]===Eq)&&e++;var c=1;(t[e]===LA||t[e]===Mi)&&(t[e]===Mi&&(c=-1),e++);for(var d=[];qa(t[e]);)d.push(t[e++]);var u=d.length?parseInt(As.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},$me={type:2},Hme={type:3},qme={type:4},zme={type:13},Vme={type:8},Kme={type:21},Wme={type:9},Gme={type:10},Xme={type:11},Yme={type:12},Jme={type:14},jb={type:23},Zme={type:1},efe={type:25},tfe={type:24},rfe={type:26},nfe={type:27},sfe={type:28},afe={type:29},ife={type:31},uB={type:32},Fq=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(C1(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==uB;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case gb:return this.consumeStringToken(gb);case ime:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(zO(r)||Vu(s,a)){var i=wb(r,s,a)?nme:rme,o=this.consumeName();return{type:5,value:o,flags:i}}break;case ome:if(this.peekCodePoint(0)===Sg)return this.consumeCodePoint(),zme;break;case xb:return this.consumeStringToken(xb);case yb:return $me;case Bg:return Hme;case pN:if(this.peekCodePoint(0)===Sg)return this.consumeCodePoint(),Jme;break;case LA:if(gN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case vme:return qme;case Mi:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(gN(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wb(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Mi&&d===hme)return this.consumeCodePoint(),this.consumeCodePoint(),tfe;break;case J0:if(gN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $O:if(this.peekCodePoint(0)===pN)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===pN&&(u=this.consumeCodePoint(),u===$O))return this.consumeToken();if(u===sc)return this.consumeToken()}break;case wme:return rfe;case jme:return nfe;case ume:if(this.peekCodePoint(0)===dme&&this.peekCodePoint(1)===Mi&&this.peekCodePoint(2)===Mi)return this.consumeCodePoint(),this.consumeCodePoint(),efe;break;case Ame:var h=this.peekCodePoint(0),m=this.peekCodePoint(1),f=this.peekCodePoint(2);if(wb(h,m,f)){var o=this.consumeName();return{type:7,value:o}}break;case mme:return sfe;case g0:if(Vu(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case fme:return afe;case pme:if(this.peekCodePoint(0)===Sg)return this.consumeCodePoint(),Vme;break;case gme:return Xme;case xme:return Yme;case Pme:case Fme:var b=this.peekCodePoint(0),y=this.peekCodePoint(1);return b===LA&&(Af(y)||y===bb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case HO:if(this.peekCodePoint(0)===Sg)return this.consumeCodePoint(),Wme;if(this.peekCodePoint(0)===HO)return this.consumeCodePoint(),Kme;break;case yme:if(this.peekCodePoint(0)===Sg)return this.consumeCodePoint(),Gme;break;case sc:return uB}return vb(e)?(this.consumeWhiteSpace(),ife):qa(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Wv(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:As(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();Af(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var s=!1;r===bb&&e.length<6;)e.push(r),r=this.consumeCodePoint(),s=!0;if(s){var a=parseInt(As.apply(void 0,e.map(function(c){return c===bb?Sq:c})),16),i=parseInt(As.apply(void 0,e.map(function(c){return c===bb?Tq:c})),16);return{type:30,start:a,end:i}}var o=parseInt(As.apply(void 0,e),16);if(this.peekCodePoint(0)===Mi&&Af(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];Af(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(As.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===yb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===yb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===sc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===xb||r===gb){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===sc||this.peekCodePoint(0)===Bg)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),jb)}for(;;){var a=this.consumeCodePoint();if(a===sc||a===Bg)return{type:22,value:As.apply(void 0,e)};if(vb(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===sc||this.peekCodePoint(0)===Bg?(this.consumeCodePoint(),{type:22,value:As.apply(void 0,e)}):(this.consumeBadUrlRemnants(),jb);if(a===gb||a===xb||a===yb||Ume(a))return this.consumeBadUrlRemnants(),jb;if(a===g0)if(Vu(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),jb;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;vb(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Bg||e===sc)return;Vu(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,s="";e>0;){var a=Math.min(r,e);s+=As.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),s},t.prototype.consumeStringToken=function(e){var r="",s=0;do{var a=this._value[s];if(a===sc||a===void 0||a===e)return r+=this.consumeStringSlice(s),{type:0,value:r};if(a===Kv)return this._value.splice(0,s),Zme;if(a===g0){var i=this._value[s+1];i!==sc&&i!==void 0&&(i===Kv?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):Vu(a,i)&&(r+=this.consumeStringSlice(s),r+=As(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Gx,s=this.peekCodePoint(0);for((s===LA||s===Mi)&&e.push(this.consumeCodePoint());qa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(s===J0&&qa(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=QO;qa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===Pq||s===Eq)&&((a===LA||a===Mi)&&qa(i)||qa(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=QO;qa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Qme(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],s=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(wb(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:s,unit:l}}return a===lme?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Af(e)){for(var r=As(e);Af(this.peekCodePoint(0))&&r.length<6;)r+=As(this.consumeCodePoint());vb(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||Ime(s)||s>1114111?qO:s}return e===sc?qO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(zO(r))e+=As(r);else if(Vu(r,this.peekCodePoint(0)))e+=As(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),Oq=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new Fq;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},s=this.consumeToken();;){if(s.type===32||lfe(s,e))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?uB:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),Xx=function(t){return t.type===15},Hp=function(t){return t.type===17},fn=function(t){return t.type===20},ofe=function(t){return t.type===0},hB=function(t,e){return fn(t)&&t.value===e},Iq=function(t){return t.type!==31},dp=function(t){return t.type!==31&&t.type!==4},Cc=function(t){var e=[],r=[];return t.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&e.push(r),e},lfe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},jh=function(t){return t.type===17||t.type===15},Ss=function(t){return t.type===16||jh(t)},Dq=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},_a={type:17,number:0,flags:Gx},JE={type:16,number:50,flags:Gx},eh={type:16,number:100,flags:Gx},Xg=function(t,e,r){var s=t[0],a=t[1];return[Cn(s,e),Cn(typeof a<"u"?a:s,r)]},Cn=function(t,e){if(t.type===16)return t.number/100*e;if(Xx(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Mq="deg",Lq="grad",Rq="rad",Uq="turn",S1={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Mq:return Math.PI*e.number/180;case Lq:return Math.PI/200*e.number;case Rq:return e.number;case Uq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Qq=function(t){return t.type===15&&(t.unit===Mq||t.unit===Lq||t.unit===Rq||t.unit===Uq)},$q=function(t){var e=t.filter(fn).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[_a,_a];case"to top":case"bottom":return $o(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[_a,eh];case"to right":case"left":return $o(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[eh,eh];case"to bottom":case"top":return $o(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[eh,_a];case"to left":case"right":return $o(270)}return 0},$o=function(t){return Math.PI*t/180},ch={name:"color",parse:function(t,e){if(e.type===18){var r=cfe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var s=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return th(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var s=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return th(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var s=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return th(parseInt(s,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var s=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return th(parseInt(s,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=Cd[e.value.toUpperCase()];if(typeof l<"u")return l}return Cd.TRANSPARENT}},dh=function(t){return(255&t)===0},na=function(t){var e=255&t,r=255&t>>8,s=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+s+","+r+","+e/255+")":"rgb("+a+","+s+","+r+")"},th=function(t,e,r,s){return(t<<24|e<<16|r<<8|Math.round(s*255)<<0)>>>0},VO=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},KO=function(t,e){var r=e.filter(dp);if(r.length===3){var s=r.map(VO),a=s[0],i=s[1],o=s[2];return th(a,i,o,1)}if(r.length===4){var l=r.map(VO),a=l[0],i=l[1],o=l[2],c=l[3];return th(a,i,o,c)}return 0};function xN(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var WO=function(t,e){var r=e.filter(dp),s=r[0],a=r[1],i=r[2],o=r[3],l=(s.type===17?$o(s.number):S1.parse(t,s))/(Math.PI*2),c=Ss(a)?a.number/100:0,d=Ss(i)?i.number/100:0,u=typeof o<"u"&&Ss(o)?Cn(o,1):1;if(c===0)return th(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,m=d*2-h,f=xN(m,h,l+1/3),b=xN(m,h,l),y=xN(m,h,l-1/3);return th(f*255,b*255,y*255,u)},cfe={hsl:WO,hsla:WO,rgb:KO,rgba:KO},x0=function(t,e){return ch.parse(t,Oq.create(e).parseComponentValue())},Cd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dfe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(fn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ufe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},B1=function(t,e){var r=ch.parse(t,e[0]),s=e[1];return s&&Ss(s)?{color:r,stop:s}:{color:r,stop:null}},GO=function(t,e){var r=t[0],s=t[t.length-1];r.stop===null&&(r.stop=_a),s.stop===null&&(s.stop=eh);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Cn(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,m=a[d-1],f=(u-m)/(h+1),b=1;b<=h;b++)a[d+b-1]=f*b;d=null}}return t.map(function(y,g){var x=y.color;return{color:x,stop:Math.max(Math.min(1,a[g]/e),0)}})},hfe=function(t,e,r){var s=e/2,a=r/2,i=Cn(t[0],e)-s,o=a-Cn(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},Afe=function(t,e,r){var s=typeof t=="number"?t:hfe(t,e,r),a=Math.abs(e*Math.sin(s))+Math.abs(r*Math.cos(s)),i=e/2,o=r/2,l=a/2,c=Math.sin(s-Math.PI/2)*l,d=Math.cos(s-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},jl=function(t,e){return Math.sqrt(t*t+e*e)},XO=function(t,e,r,s,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=jl(r-c,s-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},mfe=function(t,e,r,s,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-s),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-s)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(jl(e,r),jl(e,r-a),jl(e-s,r),jl(e-s,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-s)),c=XO(s,a,e,r,!0),d=c[0],u=c[1];i=jl(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-s),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-s)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(jl(e,r),jl(e,r-a),jl(e-s,r),jl(e-s,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-s)),h=XO(s,a,e,r,!1),d=h[0],u=h[1];i=jl(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=Cn(t.size[0],s),o=t.size.length===2?Cn(t.size[1],a):i),[i,o]},ffe=function(t,e){var r=$o(180),s=[];return Cc(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=$q(a);return}else if(Qq(o)){r=S1.parse(t,o);return}}var l=B1(t,a);s.push(l)}),{angle:r,stops:s,type:1}},Nb=function(t,e){var r=$o(180),s=[];return Cc(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=$q(a);return}else if(Qq(o)){r=(S1.parse(t,o)+$o(270))%$o(360);return}}var l=B1(t,a);s.push(l)}),{angle:r,stops:s,type:1}},pfe=function(t,e){var r=$o(180),s=[],a=1,i=0,o=3,l=[];return Cc(e).forEach(function(c,d){var u=c[0];if(d===0){if(fn(u)&&u.value==="linear"){a=1;return}else if(fn(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=ch.parse(t,u.values[0]);s.push({stop:_a,color:h})}else if(u.name==="to"){var h=ch.parse(t,u.values[0]);s.push({stop:eh,color:h})}else if(u.name==="color-stop"){var m=u.values.filter(dp);if(m.length===2){var h=ch.parse(t,m[1]),f=m[0];Hp(f)&&s.push({stop:{type:16,number:f.number*100,flags:f.flags},color:h})}}}}),a===1?{angle:(r+$o(180))%$o(360),stops:s,type:a}:{size:o,shape:i,stops:s,position:l,type:a}},Hq="closest-side",qq="farthest-side",zq="closest-corner",Vq="farthest-corner",Kq="circle",Wq="ellipse",Gq="cover",Xq="contain",gfe=function(t,e){var r=0,s=3,a=[],i=[];return Cc(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,m){if(d)if(fn(m))switch(m.value){case"center":return i.push(JE),h;case"top":case"left":return i.push(_a),h;case"right":case"bottom":return i.push(eh),h}else(Ss(m)||jh(m))&&i.push(m);else if(fn(m))switch(m.value){case Kq:return r=0,!1;case Wq:return r=1,!1;case"at":return d=!0,!1;case Hq:return s=0,!1;case Gq:case qq:return s=1,!1;case Xq:case zq:return s=2,!1;case Vq:return s=3,!1}else if(jh(m)||Ss(m))return Array.isArray(s)||(s=[]),s.push(m),!1;return h},c)}if(c){var u=B1(t,o);a.push(u)}}),{size:s,shape:r,stops:a,position:i,type:2}},_b=function(t,e){var r=0,s=3,a=[],i=[];return Cc(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(fn(h))switch(h.value){case"center":return i.push(JE),!1;case"top":case"left":return i.push(_a),!1;case"right":case"bottom":return i.push(eh),!1}else if(Ss(h)||jh(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(fn(h))switch(h.value){case Kq:return r=0,!1;case Wq:return r=1,!1;case Xq:case Hq:return s=0,!1;case qq:return s=1,!1;case zq:return s=2,!1;case Gq:case Vq:return s=3,!1}else if(jh(h)||Ss(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return u},c)),c){var d=B1(t,o);a.push(d)}}),{size:s,shape:r,stops:a,position:i,type:2}},xfe=function(t){return t.type===1},yfe=function(t){return t.type===2},ZE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var s=Yq[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return s(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function bfe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Yq[t.name])}var Yq={"linear-gradient":ffe,"-moz-linear-gradient":Nb,"-ms-linear-gradient":Nb,"-o-linear-gradient":Nb,"-webkit-linear-gradient":Nb,"radial-gradient":gfe,"-moz-radial-gradient":_b,"-ms-radial-gradient":_b,"-o-radial-gradient":_b,"-webkit-radial-gradient":_b,"-webkit-gradient":pfe},vfe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(s){return dp(s)&&bfe(s)}).map(function(s){return ZE.parse(t,s)})}},wfe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(fn(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},jfe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Cc(e).map(function(r){return r.filter(Ss)}).map(Dq)}},Nfe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Cc(e).map(function(r){return r.filter(fn).map(function(s){return s.value}).join(" ")}).map(_fe)}},_fe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},tp;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(tp||(tp={}));var Cfe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Cc(e).map(function(r){return r.filter(Sfe)})}},Sfe=function(t){return fn(t)||Ss(t)},E1=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Bfe=E1("top"),Efe=E1("right"),kfe=E1("bottom"),Pfe=E1("left"),k1=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Dq(r.filter(Ss))}}},Tfe=k1("top-left"),Ffe=k1("top-right"),Ofe=k1("bottom-right"),Ife=k1("bottom-left"),P1=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Dfe=P1("top"),Mfe=P1("right"),Lfe=P1("bottom"),Rfe=P1("left"),T1=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return Xx(r)?r.number:0}}},Ufe=T1("top"),Qfe=T1("right"),$fe=T1("bottom"),Hfe=T1("left"),qfe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zfe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Vfe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(fn).reduce(function(r,s){return r|Kfe(s.value)},0)}},Kfe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Wfe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Gfe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Gv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Gv||(Gv={}));var Xfe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Gv.STRICT;case"normal":default:return Gv.NORMAL}}},Yfe={name:"line-height",initialValue:"normal",prefix:!1,type:4},YO=function(t,e){return fn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Ss(t)?Cn(t,e):e},Jfe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:ZE.parse(t,e)}},Zfe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},AB={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},F1=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},epe=F1("top"),tpe=F1("right"),rpe=F1("bottom"),npe=F1("left"),spe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(fn).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},ape={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},O1=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ipe=O1("top"),ope=O1("right"),lpe=O1("bottom"),cpe=O1("left"),dpe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},upe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hpe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&hB(e[0],"none")?[]:Cc(e).map(function(r){for(var s={color:Cd.TRANSPARENT,offsetX:_a,offsetY:_a,blur:_a},a=0,i=0;i<r.length;i++){var o=r[i];jh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:s.blur=o,a++):s.color=ch.parse(t,o)}return s})}},Ape={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},mpe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=gpe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},fpe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},ppe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],s=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,s,a,i,o,l]:null},gpe={matrix:fpe,matrix3d:ppe},JO={type:16,number:50,flags:Gx},xpe=[JO,JO],ype={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Ss);return r.length!==2?xpe:[r[0],r[1]]}},bpe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},y0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(y0||(y0={}));var vpe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return y0.BREAK_ALL;case"keep-all":return y0.KEEP_ALL;case"normal":default:return y0.NORMAL}}},wpe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Hp(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Jq={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},jpe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Hp(e)?e.number:1}},Npe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_pe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(fn).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Cpe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],s=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Spe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Bpe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Hp(e))return e.number;if(fn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Epe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(fn).map(function(r){return r.value})}},kpe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},$s=function(t,e){return(t&e)!==0},Ppe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Tpe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var s=[],a=e.filter(Iq),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Hp(l)?l.number:1;s.push({counter:o.value,increment:c})}}return s}},Fpe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],s=e.filter(Iq),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(fn(i)&&i.value!=="none"){var l=o&&Hp(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Ope={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Xx).map(function(r){return Jq.parse(t,r)})}},Ipe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var s=[],a=e.filter(ofe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;s.push({open:o,close:l})}return s}},ZO=function(t,e,r){if(!t)return"";var s=t[Math.min(e,t.length-1)];return s?r?s.open:s.close:""},Dpe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&hB(e[0],"none")?[]:Cc(e).map(function(r){for(var s={color:255,offsetX:_a,offsetY:_a,blur:_a,spread:_a,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];hB(o,"inset")?s.inset=!0:jh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:a===2?s.blur=o:s.spread=o,a++):s.color=ch.parse(t,o)}return s})}},Mpe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],s=[];return e.filter(fn).forEach(function(a){switch(a.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(a){s.indexOf(a)===-1&&s.push(a)}),s}},Lpe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Rpe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Xx(e)?e.number:0}},Upe=(function(){function t(e,r){var s,a;this.animationDuration=Ft(e,Ope,r.animationDuration),this.backgroundClip=Ft(e,dfe,r.backgroundClip),this.backgroundColor=Ft(e,ufe,r.backgroundColor),this.backgroundImage=Ft(e,vfe,r.backgroundImage),this.backgroundOrigin=Ft(e,wfe,r.backgroundOrigin),this.backgroundPosition=Ft(e,jfe,r.backgroundPosition),this.backgroundRepeat=Ft(e,Nfe,r.backgroundRepeat),this.backgroundSize=Ft(e,Cfe,r.backgroundSize),this.borderTopColor=Ft(e,Bfe,r.borderTopColor),this.borderRightColor=Ft(e,Efe,r.borderRightColor),this.borderBottomColor=Ft(e,kfe,r.borderBottomColor),this.borderLeftColor=Ft(e,Pfe,r.borderLeftColor),this.borderTopLeftRadius=Ft(e,Tfe,r.borderTopLeftRadius),this.borderTopRightRadius=Ft(e,Ffe,r.borderTopRightRadius),this.borderBottomRightRadius=Ft(e,Ofe,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ft(e,Ife,r.borderBottomLeftRadius),this.borderTopStyle=Ft(e,Dfe,r.borderTopStyle),this.borderRightStyle=Ft(e,Mfe,r.borderRightStyle),this.borderBottomStyle=Ft(e,Lfe,r.borderBottomStyle),this.borderLeftStyle=Ft(e,Rfe,r.borderLeftStyle),this.borderTopWidth=Ft(e,Ufe,r.borderTopWidth),this.borderRightWidth=Ft(e,Qfe,r.borderRightWidth),this.borderBottomWidth=Ft(e,$fe,r.borderBottomWidth),this.borderLeftWidth=Ft(e,Hfe,r.borderLeftWidth),this.boxShadow=Ft(e,Dpe,r.boxShadow),this.color=Ft(e,qfe,r.color),this.direction=Ft(e,zfe,r.direction),this.display=Ft(e,Vfe,r.display),this.float=Ft(e,Wfe,r.cssFloat),this.fontFamily=Ft(e,Cpe,r.fontFamily),this.fontSize=Ft(e,Spe,r.fontSize),this.fontStyle=Ft(e,kpe,r.fontStyle),this.fontVariant=Ft(e,Epe,r.fontVariant),this.fontWeight=Ft(e,Bpe,r.fontWeight),this.letterSpacing=Ft(e,Gfe,r.letterSpacing),this.lineBreak=Ft(e,Xfe,r.lineBreak),this.lineHeight=Ft(e,Yfe,r.lineHeight),this.listStyleImage=Ft(e,Jfe,r.listStyleImage),this.listStylePosition=Ft(e,Zfe,r.listStylePosition),this.listStyleType=Ft(e,AB,r.listStyleType),this.marginTop=Ft(e,epe,r.marginTop),this.marginRight=Ft(e,tpe,r.marginRight),this.marginBottom=Ft(e,rpe,r.marginBottom),this.marginLeft=Ft(e,npe,r.marginLeft),this.opacity=Ft(e,jpe,r.opacity);var i=Ft(e,spe,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Ft(e,ape,r.overflowWrap),this.paddingTop=Ft(e,ipe,r.paddingTop),this.paddingRight=Ft(e,ope,r.paddingRight),this.paddingBottom=Ft(e,lpe,r.paddingBottom),this.paddingLeft=Ft(e,cpe,r.paddingLeft),this.paintOrder=Ft(e,Mpe,r.paintOrder),this.position=Ft(e,upe,r.position),this.textAlign=Ft(e,dpe,r.textAlign),this.textDecorationColor=Ft(e,Npe,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=Ft(e,_pe,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=Ft(e,hpe,r.textShadow),this.textTransform=Ft(e,Ape,r.textTransform),this.transform=Ft(e,mpe,r.transform),this.transformOrigin=Ft(e,ype,r.transformOrigin),this.visibility=Ft(e,bpe,r.visibility),this.webkitTextStrokeColor=Ft(e,Lpe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ft(e,Rpe,r.webkitTextStrokeWidth),this.wordBreak=Ft(e,vpe,r.wordBreak),this.zIndex=Ft(e,wpe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return dh(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return $s(this.display,4)||$s(this.display,33554432)||$s(this.display,268435456)||$s(this.display,536870912)||$s(this.display,67108864)||$s(this.display,134217728)},t})(),Qpe=(function(){function t(e,r){this.content=Ft(e,Ppe,r.content),this.quotes=Ft(e,Ipe,r.quotes)}return t})(),eI=(function(){function t(e,r){this.counterIncrement=Ft(e,Tpe,r.counterIncrement),this.counterReset=Ft(e,Fpe,r.counterReset)}return t})(),Ft=function(t,e,r){var s=new Fq,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;s.write(a);var i=new Oq(s.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,fn(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return S1.parse(t,i.parseComponentValue());case"color":return ch.parse(t,i.parseComponentValue());case"image":return ZE.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return jh(l)?l:_a;case"length-percentage":var c=i.parseComponentValue();return Ss(c)?c:_a;case"time":return Jq.parse(t,i.parseComponentValue())}break}},$pe="data-html2canvas-debug",Hpe=function(t){var e=t.getAttribute($pe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},mB=function(t,e){var r=Hpe(t);return r===1||e===r},Sc=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,mB(r,3))debugger;this.styles=new Upe(e,window.getComputedStyle(r,null)),gB(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=_1(this.context,r),mB(r,4)&&(this.flags|=16)}return t})(),qpe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Cb=0;Cb<tI.length;Cb++)Yg[tI.charCodeAt(Cb)]=Cb;var zpe=function(t){var e=t.length*.75,r=t.length,s,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<r;s+=4)i=Yg[t.charCodeAt(s)],o=Yg[t.charCodeAt(s+1)],l=Yg[t.charCodeAt(s+2)],c=Yg[t.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},Vpe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=2)r.push(t[s+1]<<8|t[s]);return r},Kpe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},GA=5,ek=11,yN=2,Wpe=ek-GA,Zq=65536>>GA,Gpe=1<<GA,bN=Gpe-1,Xpe=1024>>GA,Ype=Zq+Xpe,Jpe=Ype,Zpe=32,ege=Jpe+Zpe,tge=65536>>ek,rge=1<<Wpe,nge=rge-1,rI=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},sge=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},age=function(t,e){var r=zpe(t),s=Array.isArray(r)?Kpe(r):new Uint32Array(r),a=Array.isArray(r)?Vpe(r):new Uint16Array(r),i=24,o=rI(a,i/2,s[4]/2),l=s[5]===2?rI(a,(i+s[4])/2):sge(s,Math.ceil((i+s[4])/4));return new ige(s[0],s[1],s[2],s[3],o,l)},ige=(function(){function t(e,r,s,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>GA],r=(r<<yN)+(e&bN),this.data[r];if(e<=65535)return r=this.index[Zq+(e-55296>>GA)],r=(r<<yN)+(e&bN),this.data[r];if(e<this.highStart)return r=ege-tge+(e>>ek),r=this.index[r],r+=e>>GA&nge,r=this.index[r],r=(r<<yN)+(e&bN),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),nI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oge=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Sb=0;Sb<nI.length;Sb++)oge[nI.charCodeAt(Sb)]=Sb;var lge=1,vN=2,wN=3,sI=4,aI=5,cge=7,iI=8,jN=9,NN=10,oI=11,lI=12,cI=13,dI=14,_N=15,dge=function(t){for(var e=[],r=0,s=t.length;r<s;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},uge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},hge=age(qpe),Do="×",CN="÷",Age=function(t){return hge.get(t)},mge=function(t,e,r){var s=r-2,a=e[s],i=e[r-1],o=e[r];if(i===vN&&o===wN)return Do;if(i===vN||i===wN||i===sI||o===vN||o===wN||o===sI)return CN;if(i===iI&&[iI,jN,oI,lI].indexOf(o)!==-1||(i===oI||i===jN)&&(o===jN||o===NN)||(i===lI||i===NN)&&o===NN||o===cI||o===aI||o===cge||i===lge)return Do;if(i===cI&&o===dI){for(;a===aI;)a=e[--s];if(a===dI)return Do}if(i===_N&&o===_N){for(var l=0;a===_N;)l++,a=e[--s];if(l%2===0)return Do}return CN},fge=function(t){var e=dge(t),r=e.length,s=0,a=0,i=e.map(Age);return{next:function(){if(s>=r)return{done:!0,value:null};for(var o=Do;s<r&&(o=mge(e,i,++s))===Do;);if(o!==Do||s===r){var l=uge.apply(null,e.slice(a,s));return a=s,{value:l,done:!1}}return{done:!0,value:null}}}},pge=function(t){for(var e=fge(t),r=[],s;!(s=e.next()).done;)s.value&&r.push(s.value.slice());return r},gge=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=e+"px",s.style.display="block",t.body.appendChild(s),r.selectNode(s);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(s),i===e)return!0}}return!1},xge=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=e.firstChild,a=C1(s.data).map(function(c){return As(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(s,i),r.setEnd(s,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return t.body.removeChild(e),l},yge=function(){return typeof new Image().crossOrigin<"u"},bge=function(){return typeof new XMLHttpRequest().responseType=="string"},vge=function(t){var e=new Image,r=t.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},uI=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},wge=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var s=e.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=fB(r,r,0,0,a);return s.fillStyle="red",s.fillRect(0,0,r,r),hI(o).then(function(l){s.drawImage(l,0,0);var c=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",uI(c)?hI(fB(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return s.drawImage(l,0,0),uI(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},fB=function(t,e,r,s,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",s.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},hI=function(t){return new Promise(function(e,r){var s=new Image;s.onload=function(){return e(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},ja={get SUPPORT_RANGE_BOUNDS(){var t=gge(document);return Object.defineProperty(ja,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=ja.SUPPORT_RANGE_BOUNDS&&xge(document);return Object.defineProperty(ja,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=vge(document);return Object.defineProperty(ja,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?wge(document):Promise.resolve(!1);return Object.defineProperty(ja,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=yge();return Object.defineProperty(ja,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=bge();return Object.defineProperty(ja,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ja,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ja,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},b0=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),jge=function(t,e,r,s){var a=Cge(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(ja.SUPPORT_RANGE_BOUNDS){var c=AI(s,o,l.length).getClientRects();if(c.length>1){var d=tk(l),u=0;d.forEach(function(m){i.push(new b0(m,Od.fromDOMRectList(t,AI(s,u+o,m.length).getClientRects()))),u+=m.length})}else i.push(new b0(l,Od.fromDOMRectList(t,c)))}else{var h=s.splitText(l.length);i.push(new b0(l,Nge(t,s))),s=h}else ja.SUPPORT_RANGE_BOUNDS||(s=s.splitText(l.length));o+=l.length}),i},Nge=function(t,e){var r=e.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(s,e);var i=_1(t,s);return s.firstChild&&a.replaceChild(s.firstChild,s),i}}return Od.EMPTY},AI=function(t,e,r){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var a=s.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},tk=function(t){if(ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return pge(t)},_ge=function(t,e){if(ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(s){return s.segment})}return Bge(t,e)},Cge=function(t,e){return e.letterSpacing!==0?tk(t):_ge(t,e)},Sge=[32,160,4961,65792,65793,4153,4241],Bge=function(t,e){for(var r=tme(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),s=[],a,i=function(){if(a.value){var o=a.value.slice(),l=C1(o),c="";l.forEach(function(d){Sge.indexOf(d)===-1?c+=As(d):(c.length&&s.push(c),s.push(As(d)),c="")}),c.length&&s.push(c)}};!(a=r.next()).done;)i();return s},Ege=(function(){function t(e,r,s){this.text=kge(r.data,s.textTransform),this.textBounds=jge(e,this.text,s,r)}return t})(),kge=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Pge,Tge);case 2:return t.toUpperCase();default:return t}},Pge=/(^|\s|:|-|\(|\))([a-z])/g,Tge=function(t,e,r){return t.length>0?e+r.toUpperCase():t},ez=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.src=s.currentSrc||s.src,a.intrinsicWidth=s.naturalWidth,a.intrinsicHeight=s.naturalHeight,a.context.cache.addImage(a.src),a}return e})(Sc),tz=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.canvas=s,a.intrinsicWidth=s.width,a.intrinsicHeight=s.height,a}return e})(Sc),rz=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this,i=new XMLSerializer,o=_1(r,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),a.intrinsicWidth=s.width.baseVal.value,a.intrinsicHeight=s.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(Sc),nz=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.value=s.value,a}return e})(Sc),pB=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.start=s.start,a.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,a}return e})(Sc),Fge=[{type:15,flags:0,unit:"px",number:3}],Oge=[{type:16,flags:0,number:50}],Ige=function(t){return t.width>t.height?new Od(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Od(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Dge=function(t){var e=t.type===Mge?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Xv="checkbox",Yv="radio",Mge="password",mI=707406591,rk=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;switch(a.type=s.type.toLowerCase(),a.checked=s.checked,a.value=Dge(s),(a.type===Xv||a.type===Yv)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Ige(a.bounds)),a.type){case Xv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Fge;break;case Yv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Oge;break}return a}return e})(Sc),sz=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this,i=s.options[s.selectedIndex||0];return a.value=i&&i.text||"",a}return e})(Sc),az=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.value=s.value,a}return e})(Sc),iz=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;a.src=s.src,a.width=parseInt(s.width,10)||0,a.height=parseInt(s.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){a.tree=lz(r,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?x0(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):Cd.TRANSPARENT,o=s.contentWindow.document.body?x0(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):Cd.TRANSPARENT;a.backgroundColor=dh(i)?dh(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e})(Sc),Lge=["OL","UL","MENU"],bv=function(t,e,r,s){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,cz(a)&&a.data.trim().length>0)r.textNodes.push(new Ege(t,a,r.styles));else if(If(a))if(Az(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return bv(t,l,r,s)});else{var o=oz(t,a);o.styles.isVisible()&&(Rge(a,o,s)?o.flags|=4:Uge(o.styles)&&(o.flags|=2),Lge.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?bv(t,a.shadowRoot,o,s):!Jv(a)&&!dz(a)&&!Zv(a)&&bv(t,a,o,s))}},oz=function(t,e){return xB(e)?new ez(t,e):uz(e)?new tz(t,e):dz(e)?new rz(t,e):Qge(e)?new nz(t,e):$ge(e)?new pB(t,e):Hge(e)?new rk(t,e):Zv(e)?new sz(t,e):Jv(e)?new az(t,e):hz(e)?new iz(t,e):new Sc(t,e)},lz=function(t,e){var r=oz(t,e);return r.flags|=4,bv(t,e,r,r),r},Rge=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||nk(t)&&r.styles.isTransparent()},Uge=function(t){return t.isPositioned()||t.isFloating()},cz=function(t){return t.nodeType===Node.TEXT_NODE},If=function(t){return t.nodeType===Node.ELEMENT_NODE},gB=function(t){return If(t)&&typeof t.style<"u"&&!vv(t)},vv=function(t){return typeof t.className=="object"},Qge=function(t){return t.tagName==="LI"},$ge=function(t){return t.tagName==="OL"},Hge=function(t){return t.tagName==="INPUT"},qge=function(t){return t.tagName==="HTML"},dz=function(t){return t.tagName==="svg"},nk=function(t){return t.tagName==="BODY"},uz=function(t){return t.tagName==="CANVAS"},fI=function(t){return t.tagName==="VIDEO"},xB=function(t){return t.tagName==="IMG"},hz=function(t){return t.tagName==="IFRAME"},pI=function(t){return t.tagName==="STYLE"},zge=function(t){return t.tagName==="SCRIPT"},Jv=function(t){return t.tagName==="TEXTAREA"},Zv=function(t){return t.tagName==="SELECT"},Az=function(t){return t.tagName==="SLOT"},gI=function(t){return t.tagName.indexOf("-")>0},Vge=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(s){return r.counters[s].pop()})},t.prototype.parse=function(e){var r=this,s=e.counterIncrement,a=e.counterReset,i=!0;s!==null&&s.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t})(),xI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},yI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Kge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Wge={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},mf=function(t,e,r,s,a,i){return t<e||t>r?Z0(t,a,i.length>0):s.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=s.values[c];return o},"")+i},mz=function(t,e,r,s){var a="";do r||t--,a=s(t)+a,t/=e;while(t*e>=e);return a},us=function(t,e,r,s,a){var i=r-e+1;return(t<0?"-":"")+(mz(Math.abs(t),i,s,function(o){return As(Math.floor(o%i)+e)})+a)},mA=function(t,e,r){r===void 0&&(r=". ");var s=e.length;return mz(Math.abs(t),s,!1,function(a){return e[Math.floor(a%s)]})+r},Cf=1,qu=2,zu=4,Jg=8,ud=function(t,e,r,s,a,i){if(t<-9999||t>9999)return Z0(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&$s(i,Cf)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&$s(i,qu)||d===1&&c===1&&$s(i,zu)&&t>100||d===1&&c>1&&$s(i,Jg)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?s:"")+l},bI="十百千萬",vI="拾佰仟萬",wI="マイナス",SN="마이너스",Z0=function(t,e,r){var s=r?". ":"",a=r?"、":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=us(t,48,57,!0,s);return l.length<4?"0"+l:l;case 4:return mA(t,"〇一二三四五六七八九",a);case 6:return mf(t,1,3999,xI,3,s).toLowerCase();case 7:return mf(t,1,3999,xI,3,s);case 8:return us(t,945,969,!1,s);case 9:return us(t,97,122,!1,s);case 10:return us(t,65,90,!1,s);case 11:return us(t,1632,1641,!0,s);case 12:case 49:return mf(t,1,9999,yI,3,s);case 35:return mf(t,1,9999,yI,3,s).toLowerCase();case 13:return us(t,2534,2543,!0,s);case 14:case 30:return us(t,6112,6121,!0,s);case 15:return mA(t,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return mA(t,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return ud(t,"零一二三四五六七八九",bI,"負",a,qu|zu|Jg);case 47:return ud(t,"零壹貳參肆伍陸柒捌玖",vI,"負",a,Cf|qu|zu|Jg);case 42:return ud(t,"零一二三四五六七八九",bI,"负",a,qu|zu|Jg);case 41:return ud(t,"零壹贰叁肆伍陆柒捌玖",vI,"负",a,Cf|qu|zu|Jg);case 26:return ud(t,"〇一二三四五六七八九","十百千万",wI,a,0);case 25:return ud(t,"零壱弐参四伍六七八九","拾百千万",wI,a,Cf|qu|zu);case 31:return ud(t,"영일이삼사오육칠팔구","십백천만",SN,i,Cf|qu|zu);case 33:return ud(t,"零一二三四五六七八九","十百千萬",SN,i,0);case 32:return ud(t,"零壹貳參四五六七八九","拾百千",SN,i,Cf|qu|zu);case 18:return us(t,2406,2415,!0,s);case 20:return mf(t,1,19999,Wge,3,s);case 21:return us(t,2790,2799,!0,s);case 22:return us(t,2662,2671,!0,s);case 22:return mf(t,1,10999,Kge,3,s);case 23:return mA(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return mA(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return us(t,3302,3311,!0,s);case 28:return mA(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return mA(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return us(t,3792,3801,!0,s);case 37:return us(t,6160,6169,!0,s);case 38:return us(t,4160,4169,!0,s);case 39:return us(t,2918,2927,!0,s);case 40:return us(t,1776,1785,!0,s);case 43:return us(t,3046,3055,!0,s);case 44:return us(t,3174,3183,!0,s);case 45:return us(t,3664,3673,!0,s);case 46:return us(t,3872,3881,!0,s);case 3:default:return us(t,48,57,!0,s)}},fz="data-html2canvas-ignore",jI=(function(){function t(e,r,s){if(this.context=e,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new Vge,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var s=this,a=Gge(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=Jge(a).then(function(){return Ai(s,void 0,void 0,function(){var u,h;return Qa(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(r0e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Yge(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(e0e(document.doctype)+"<html></html>"),t0e(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(mB(e,2))debugger;if(uz(e))return this.createCanvasClone(e);if(fI(e))return this.createVideoClone(e);if(pI(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return xB(r)&&(xB(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),gI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return BN(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=s,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var s=e.ownerDocument.createElement("img");try{return s.src=e.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,s){(!If(r)||!zge(r)&&!r.hasAttribute(fz)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!If(r)||!pI(r))&&e.appendChild(this.cloneNode(r,s))},t.prototype.cloneChildNodes=function(e,r,s){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(If(i)&&Az(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,s)})}else this.appendChildNode(r,i,s)},t.prototype.cloneNode=function(e,r){if(cz(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var s=e.ownerDocument.defaultView;if(s&&If(e)&&(gB(e)||vv(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=s.getComputedStyle(e),o=s.getComputedStyle(e,":before"),l=s.getComputedStyle(e,":after");this.referenceElement===e&&gB(a)&&(this.clonedReferenceElement=a),nk(a)&&a0e(a);var c=this.counters.parse(new eI(this.context,i)),d=this.resolvePseudoContent(e,a,o,v0.BEFORE);gI(e)&&(r=!0),fI(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,v0.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||vv(e))&&!hz(e)||r)&&BN(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Jv(e)||Zv(e))&&(Jv(a)||Zv(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,s,a){var i=this;if(s){var o=s.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new eI(this.context,s));var c=new Qpe(this.context,s),d=l.createElement("html2canvaspseudoelement");BN(s,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var m=l.createElement("img");m.src=h.value,m.style.opacity="1",d.appendChild(m)}else if(h.type===18){if(h.name==="attr"){var f=h.values.filter(fn);f.length&&d.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(h.name==="counter"){var b=h.values.filter(dp),y=b[0],g=b[1];if(y&&fn(y)){var x=i.counters.getCounterValue(y.value),v=g&&fn(g)?AB.parse(i.context,g.value):3;d.appendChild(l.createTextNode(Z0(x,v,!1)))}}else if(h.name==="counters"){var j=h.values.filter(dp),y=j[0],B=j[1],g=j[2];if(y&&fn(y)){var C=i.counters.getCounterValues(y.value),E=g&&fn(g)?AB.parse(i.context,g.value):3,M=B&&B.type===0?B.value:"",S=C.map(function(_){return Z0(_,E,!1)}).join(M);d.appendChild(l.createTextNode(S))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(ZO(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(ZO(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=yB+" "+bB;var u=a===v0.BEFORE?" "+yB:" "+bB;return vv(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),v0;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(v0||(v0={}));var Gge=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(fz,"true"),t.body.appendChild(r),r},Xge=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Yge=function(t){return Promise.all([].slice.call(t.images,0).map(Xge))},Jge=function(t){return new Promise(function(e,r){var s=t.contentWindow;if(!s)return r("No window assigned for iframe");var a=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Zge=["all","d","content"],BN=function(t,e){for(var r=t.length-1;r>=0;r--){var s=t.item(r);Zge.indexOf(s)===-1&&e.style.setProperty(s,t.getPropertyValue(s))}return e},e0e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},t0e=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},r0e=function(t){var e=t[0],r=t[1],s=t[2];e.scrollLeft=r,e.scrollTop=s},n0e=":before",s0e=":after",yB="___html2canvas___pseudoelement_before",bB="___html2canvas___pseudoelement_after",NI=`{
    content: "" !important;
    display: none !important;
}`,a0e=function(t){i0e(t,"."+yB+n0e+NI+`
         .`+bB+s0e+NI)},i0e=function(t,e){var r=t.ownerDocument;if(r){var s=r.createElement("style");s.textContent=e,t.appendChild(s)}},pz=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),o0e=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(kN(e)||u0e(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Ai(this,void 0,void 0,function(){var r,s,a,i,o=this;return Qa(this,function(l){switch(l.label){case 0:return r=pz.isSameOrigin(e),s=!EN(e)&&this._options.useCORS===!0&&ja.SUPPORT_CORS_IMAGES&&!r,a=!EN(e)&&!r&&!kN(e)&&typeof this._options.proxy=="string"&&ja.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!EN(e)&&!kN(e)&&!a&&!s?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(h0e(i)||s)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=ja.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(m){return o(m)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=s.indexOf("?")>-1?"&":"?";if(c.open("GET",""+s+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t})(),l0e=/^data:image\/svg\+xml/i,c0e=/^data:image\/.*;base64,/i,d0e=/^data:image\/.*/i,u0e=function(t){return ja.SUPPORT_SVG_DRAWING||!A0e(t)},EN=function(t){return d0e.test(t)},h0e=function(t){return c0e.test(t)},kN=function(t){return t.substr(0,4)==="blob"},A0e=function(t){return t.substr(-3).toLowerCase()==="svg"||l0e.test(t)},kt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),ff=function(t,e,r){return new kt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},Bb=(function(){function t(e,r,s,a){this.type=1,this.start=e,this.startControl=r,this.endControl=s,this.end=a}return t.prototype.subdivide=function(e,r){var s=ff(this.start,this.startControl,e),a=ff(this.startControl,this.endControl,e),i=ff(this.endControl,this.end,e),o=ff(s,a,e),l=ff(a,i,e),c=ff(o,l,e);return r?new t(this.start,s,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Lo=function(t){return t.type===1},m0e=(function(){function t(e){var r=e.styles,s=e.bounds,a=Xg(r.borderTopLeftRadius,s.width,s.height),i=a[0],o=a[1],l=Xg(r.borderTopRightRadius,s.width,s.height),c=l[0],d=l[1],u=Xg(r.borderBottomRightRadius,s.width,s.height),h=u[0],m=u[1],f=Xg(r.borderBottomLeftRadius,s.width,s.height),b=f[0],y=f[1],g=[];g.push((i+c)/s.width),g.push((b+h)/s.width),g.push((o+y)/s.height),g.push((d+m)/s.height);var x=Math.max.apply(Math,g);x>1&&(i/=x,o/=x,c/=x,d/=x,h/=x,m/=x,b/=x,y/=x);var v=s.width-c,j=s.height-m,B=s.width-h,C=s.height-y,E=r.borderTopWidth,M=r.borderRightWidth,S=r.borderBottomWidth,k=r.borderLeftWidth,I=Cn(r.paddingTop,e.bounds.width),_=Cn(r.paddingRight,e.bounds.width),T=Cn(r.paddingBottom,e.bounds.width),D=Cn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Qn(s.left+k/3,s.top+E/3,i-k/3,o-E/3,tn.TOP_LEFT):new kt(s.left+k/3,s.top+E/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Qn(s.left+v,s.top+E/3,c-M/3,d-E/3,tn.TOP_RIGHT):new kt(s.left+s.width-M/3,s.top+E/3),this.bottomRightBorderDoubleOuterBox=h>0||m>0?Qn(s.left+B,s.top+j,h-M/3,m-S/3,tn.BOTTOM_RIGHT):new kt(s.left+s.width-M/3,s.top+s.height-S/3),this.bottomLeftBorderDoubleOuterBox=b>0||y>0?Qn(s.left+k/3,s.top+C,b-k/3,y-S/3,tn.BOTTOM_LEFT):new kt(s.left+k/3,s.top+s.height-S/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Qn(s.left+k*2/3,s.top+E*2/3,i-k*2/3,o-E*2/3,tn.TOP_LEFT):new kt(s.left+k*2/3,s.top+E*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Qn(s.left+v,s.top+E*2/3,c-M*2/3,d-E*2/3,tn.TOP_RIGHT):new kt(s.left+s.width-M*2/3,s.top+E*2/3),this.bottomRightBorderDoubleInnerBox=h>0||m>0?Qn(s.left+B,s.top+j,h-M*2/3,m-S*2/3,tn.BOTTOM_RIGHT):new kt(s.left+s.width-M*2/3,s.top+s.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||y>0?Qn(s.left+k*2/3,s.top+C,b-k*2/3,y-S*2/3,tn.BOTTOM_LEFT):new kt(s.left+k*2/3,s.top+s.height-S*2/3),this.topLeftBorderStroke=i>0||o>0?Qn(s.left+k/2,s.top+E/2,i-k/2,o-E/2,tn.TOP_LEFT):new kt(s.left+k/2,s.top+E/2),this.topRightBorderStroke=i>0||o>0?Qn(s.left+v,s.top+E/2,c-M/2,d-E/2,tn.TOP_RIGHT):new kt(s.left+s.width-M/2,s.top+E/2),this.bottomRightBorderStroke=h>0||m>0?Qn(s.left+B,s.top+j,h-M/2,m-S/2,tn.BOTTOM_RIGHT):new kt(s.left+s.width-M/2,s.top+s.height-S/2),this.bottomLeftBorderStroke=b>0||y>0?Qn(s.left+k/2,s.top+C,b-k/2,y-S/2,tn.BOTTOM_LEFT):new kt(s.left+k/2,s.top+s.height-S/2),this.topLeftBorderBox=i>0||o>0?Qn(s.left,s.top,i,o,tn.TOP_LEFT):new kt(s.left,s.top),this.topRightBorderBox=c>0||d>0?Qn(s.left+v,s.top,c,d,tn.TOP_RIGHT):new kt(s.left+s.width,s.top),this.bottomRightBorderBox=h>0||m>0?Qn(s.left+B,s.top+j,h,m,tn.BOTTOM_RIGHT):new kt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=b>0||y>0?Qn(s.left,s.top+C,b,y,tn.BOTTOM_LEFT):new kt(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||o>0?Qn(s.left+k,s.top+E,Math.max(0,i-k),Math.max(0,o-E),tn.TOP_LEFT):new kt(s.left+k,s.top+E),this.topRightPaddingBox=c>0||d>0?Qn(s.left+Math.min(v,s.width-M),s.top+E,v>s.width+M?0:Math.max(0,c-M),Math.max(0,d-E),tn.TOP_RIGHT):new kt(s.left+s.width-M,s.top+E),this.bottomRightPaddingBox=h>0||m>0?Qn(s.left+Math.min(B,s.width-k),s.top+Math.min(j,s.height-S),Math.max(0,h-M),Math.max(0,m-S),tn.BOTTOM_RIGHT):new kt(s.left+s.width-M,s.top+s.height-S),this.bottomLeftPaddingBox=b>0||y>0?Qn(s.left+k,s.top+Math.min(C,s.height-S),Math.max(0,b-k),Math.max(0,y-S),tn.BOTTOM_LEFT):new kt(s.left+k,s.top+s.height-S),this.topLeftContentBox=i>0||o>0?Qn(s.left+k+D,s.top+E+I,Math.max(0,i-(k+D)),Math.max(0,o-(E+I)),tn.TOP_LEFT):new kt(s.left+k+D,s.top+E+I),this.topRightContentBox=c>0||d>0?Qn(s.left+Math.min(v,s.width+k+D),s.top+E+I,v>s.width+k+D?0:c-k+D,d-(E+I),tn.TOP_RIGHT):new kt(s.left+s.width-(M+_),s.top+E+I),this.bottomRightContentBox=h>0||m>0?Qn(s.left+Math.min(B,s.width-(k+D)),s.top+Math.min(j,s.height+E+I),Math.max(0,h-(M+_)),m-(S+T),tn.BOTTOM_RIGHT):new kt(s.left+s.width-(M+_),s.top+s.height-(S+T)),this.bottomLeftContentBox=b>0||y>0?Qn(s.left+k+D,s.top+C,Math.max(0,b-(k+D)),y-(S+T),tn.BOTTOM_LEFT):new kt(s.left+k+D,s.top+s.height-(S+T))}return t})(),tn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(tn||(tn={}));var Qn=function(t,e,r,s,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=s*i,c=t+r,d=e+s;switch(a){case tn.TOP_LEFT:return new Bb(new kt(t,d),new kt(t,d-l),new kt(c-o,e),new kt(c,e));case tn.TOP_RIGHT:return new Bb(new kt(t,e),new kt(t+o,e),new kt(c,d-l),new kt(c,d));case tn.BOTTOM_RIGHT:return new Bb(new kt(c,e),new kt(c,e+l),new kt(t+o,d),new kt(t,d));case tn.BOTTOM_LEFT:default:return new Bb(new kt(c,d),new kt(c-o,d),new kt(t,e+l),new kt(t,e))}},ew=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},f0e=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},tw=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},p0e=(function(){function t(e,r,s){this.offsetX=e,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return t})(),Eb=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),g0e=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),x0e=function(t){return t.type===0},gz=function(t){return t.type===1},y0e=function(t){return t.type===2},_I=function(t,e){return t.length===e.length?t.some(function(r,s){return r===e[s]}):!1},b0e=function(t,e,r,s,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+s,r);case 2:return i.add(e+s,r+a);case 3:return i.add(e,r+a)}return i})},xz=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),yz=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new m0e(this.container),this.container.styles.opacity<1&&this.effects.push(new g0e(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new p0e(s,a,i))}if(this.container.styles.overflowX!==0){var o=ew(this.curves),l=tw(this.curves);_I(o,l)?this.effects.push(new Eb(o,6)):(this.effects.push(new Eb(o,2)),this.effects.push(new Eb(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,a=this.effects.slice(0);s;){var i=s.effects.filter(function(c){return!gz(c)});if(r||s.container.styles.position!==0||!s.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=ew(s.curves),l=tw(s.curves);_I(o,l)||a.unshift(new Eb(l,6))}}else a.unshift.apply(a,i);s=s.parent}return a.filter(function(c){return $s(c.target,e)})},t})(),vB=function(t,e,r,s){t.container.elements.forEach(function(a){var i=$s(a.flags,4),o=$s(a.flags,2),l=new yz(a,t);$s(a.styles.display,2048)&&s.push(l);var c=$s(a.flags,8)?[]:s;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new xz(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var m=0;d.negativeZIndex.some(function(b,y){return h>b.element.container.styles.zIndex.order?(m=y,!1):m>0}),d.negativeZIndex.splice(m,0,u)}else if(h>0){var f=0;d.positiveZIndex.some(function(b,y){return h>=b.element.container.styles.zIndex.order?(f=y+1,!1):f>0}),d.positiveZIndex.splice(f,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);vB(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),vB(l,e,r,c);$s(a.flags,8)&&bz(a,c)})},bz=function(t,e){for(var r=t instanceof pB?t.start:1,s=t instanceof pB?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof nz&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=Z0(r,i.container.styles.listStyleType,!0),r+=s?-1:1}},v0e=function(t){var e=new yz(t,null),r=new xz(e),s=[];return vB(e,r,r,s),bz(e.container,s),r},CI=function(t,e){switch(e){case 0:return Ho(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ho(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ho(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ho(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},w0e=function(t,e){switch(e){case 0:return Ho(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ho(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ho(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ho(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},j0e=function(t,e){switch(e){case 0:return Ho(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ho(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ho(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ho(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},N0e=function(t,e){switch(e){case 0:return kb(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return kb(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return kb(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return kb(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},kb=function(t,e){var r=[];return Lo(t)?r.push(t.subdivide(.5,!1)):r.push(t),Lo(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ho=function(t,e,r,s){var a=[];return Lo(t)?a.push(t.subdivide(.5,!1)):a.push(t),Lo(r)?a.push(r.subdivide(.5,!0)):a.push(r),Lo(s)?a.push(s.subdivide(.5,!0).reverse()):a.push(s),Lo(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},vz=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},rw=function(t){var e=t.styles,r=t.bounds,s=Cn(e.paddingLeft,r.width),a=Cn(e.paddingRight,r.width),i=Cn(e.paddingTop,r.width),o=Cn(e.paddingBottom,r.width);return r.add(s+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+s+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},_0e=function(t,e){return t===0?e.bounds:t===2?rw(e):vz(e)},C0e=function(t,e){return t===0?e.bounds:t===2?rw(e):vz(e)},PN=function(t,e,r){var s=_0e(Sf(t.styles.backgroundOrigin,e),t),a=C0e(Sf(t.styles.backgroundClip,e),t),i=S0e(Sf(t.styles.backgroundSize,e),r,s),o=i[0],l=i[1],c=Xg(Sf(t.styles.backgroundPosition,e),s.width-o,s.height-l),d=B0e(Sf(t.styles.backgroundRepeat,e),c,i,s,a),u=Math.round(s.left+c[0]),h=Math.round(s.top+c[1]);return[d,u,h,o,l]},pf=function(t){return fn(t)&&t.value===tp.AUTO},Pb=function(t){return typeof t=="number"},S0e=function(t,e,r){var s=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Ss(o)&&l&&Ss(l))return[Cn(o,r.width),Cn(l,r.height)];var c=Pb(i);if(fn(o)&&(o.value===tp.CONTAIN||o.value===tp.COVER)){if(Pb(i)){var d=r.width/r.height;return d<i!=(o.value===tp.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=Pb(s),h=Pb(a),m=u||h;if(pf(o)&&(!l||pf(l))){if(u&&h)return[s,a];if(!c&&!m)return[r.width,r.height];if(m&&c){var f=u?s:a*i,b=h?a:s/i;return[f,b]}var y=u?s:r.width,g=h?a:r.height;return[y,g]}if(c){var x=0,v=0;return Ss(o)?x=Cn(o,r.width):Ss(l)&&(v=Cn(l,r.height)),pf(o)?x=v*i:(!l||pf(l))&&(v=x/i),[x,v]}var j=null,B=null;if(Ss(o)?j=Cn(o,r.width):l&&Ss(l)&&(B=Cn(l,r.height)),j!==null&&(!l||pf(l))&&(B=u&&h?j/s*a:r.height),B!==null&&pf(o)&&(j=u&&h?B/a*s:r.width),j!==null&&B!==null)return[j,B];throw new Error("Unable to calculate background-size for element")},Sf=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},B0e=function(t,e,r,s,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new kt(Math.round(s.left),Math.round(s.top+o)),new kt(Math.round(s.left+s.width),Math.round(s.top+o)),new kt(Math.round(s.left+s.width),Math.round(c+s.top+o)),new kt(Math.round(s.left),Math.round(c+s.top+o))];case 3:return[new kt(Math.round(s.left+i),Math.round(s.top)),new kt(Math.round(s.left+i+l),Math.round(s.top)),new kt(Math.round(s.left+i+l),Math.round(s.height+s.top)),new kt(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new kt(Math.round(s.left+i),Math.round(s.top+o)),new kt(Math.round(s.left+i+l),Math.round(s.top+o)),new kt(Math.round(s.left+i+l),Math.round(s.top+o+c)),new kt(Math.round(s.left+i),Math.round(s.top+o+c))];default:return[new kt(Math.round(a.left),Math.round(a.top)),new kt(Math.round(a.left+a.width),Math.round(a.top)),new kt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new kt(Math.round(a.left),Math.round(a.height+a.top))]}},E0e="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SI="Hidden Text",k0e=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var s=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),a.src=E0e,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(SI)),s.appendChild(i),s.appendChild(a);var l=a.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(SI)),s.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var s=e+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(e,r)),this._data[s]},t})(),wz=(function(){function t(e,r){this.context=e,this.options=r}return t})(),P0e=1e4,T0e=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a._activeEffects=[],a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),s.canvas||(a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px"),a.fontMetrics=new k0e(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),a}return e.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return s.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),y0e(r)&&(this.ctx.globalAlpha=r.opacity),x0e(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),gz(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Ai(this,void 0,void 0,function(){var s;return Qa(this,function(a){switch(a.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Ai(this,void 0,void 0,function(){return Qa(this,function(s){switch(s.label){case 0:if($s(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,s,a){var i=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=tk(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=M0e(r.fontFamily).join(", "),i=Xx(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,s){return Ai(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,m=this;return Qa(this,function(f){return a=this.createFontStyle(s),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=s.paintOrder,r.textBounds.forEach(function(b){h.forEach(function(y){switch(y){case 0:m.ctx.fillStyle=na(s.color),m.renderTextWithLetterSpacing(b,s.letterSpacing,d);var g=s.textShadow;g.length&&b.text.trim().length&&(g.slice(0).reverse().forEach(function(x){m.ctx.shadowColor=na(x.color),m.ctx.shadowOffsetX=x.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=x.offsetY.number*m.options.scale,m.ctx.shadowBlur=x.blur.number,m.renderTextWithLetterSpacing(b,s.letterSpacing,d)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),s.textDecorationLine.length&&(m.ctx.fillStyle=na(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(x){switch(x){case 1:m.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+d),b.bounds.width,1);break;case 2:m.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:m.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+u),b.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&b.text.trim().length&&(m.ctx.strokeStyle=na(s.webkitTextStrokeColor),m.ctx.lineWidth=s.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+d)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,s,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=rw(r),o=tw(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Ai(this,void 0,void 0,function(){var s,a,i,o,l,c,v,v,d,u,h,m,B,f,b,C,y,g,x,v,j,B,C;return Qa(this,function(E){switch(E.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,a=r.curves,i=s.styles,o=0,l=s.textNodes,E.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:E.sent(),E.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof ez))return[3,8];E.label=5;case 5:return E.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return v=E.sent(),this.renderReplacedElement(s,a,v),[3,8];case 7:return E.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof tz&&this.renderReplacedElement(s,a,s.canvas),!(s instanceof rz))return[3,12];E.label=9;case 9:return E.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return v=E.sent(),this.renderReplacedElement(s,a,v),[3,12];case 11:return E.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof iz&&s.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,d.render(s.tree)]):[3,14];case 13:u=E.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),E.label=14;case 14:if(s instanceof rk&&(h=Math.min(s.bounds.width,s.bounds.height),s.type===Xv?s.checked&&(this.ctx.save(),this.path([new kt(s.bounds.left+h*.39363,s.bounds.top+h*.79),new kt(s.bounds.left+h*.16,s.bounds.top+h*.5549),new kt(s.bounds.left+h*.27347,s.bounds.top+h*.44071),new kt(s.bounds.left+h*.39694,s.bounds.top+h*.5649),new kt(s.bounds.left+h*.72983,s.bounds.top+h*.23),new kt(s.bounds.left+h*.84,s.bounds.top+h*.34085),new kt(s.bounds.left+h*.39363,s.bounds.top+h*.79)]),this.ctx.fillStyle=na(mI),this.ctx.fill(),this.ctx.restore()):s.type===Yv&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+h/2,s.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=na(mI),this.ctx.fill(),this.ctx.restore())),F0e(s)&&s.value.length){switch(m=this.createFontStyle(i),B=m[0],f=m[1],b=this.fontMetrics.getMetrics(B,f).baseline,this.ctx.font=B,this.ctx.fillStyle=na(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=I0e(s.styles.textAlign),C=rw(s),y=0,s.styles.textAlign){case 1:y+=C.width/2;break;case 2:y+=C.width;break}g=C.add(y,0,0,-C.height/2+1),this.ctx.save(),this.path([new kt(C.left,C.top),new kt(C.left+C.width,C.top),new kt(C.left+C.width,C.top+C.height),new kt(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new b0(s.value,g),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!$s(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(x=s.styles.listStyleImage,x.type!==0)return[3,18];v=void 0,j=x.url,E.label=15;case 15:return E.trys.push([15,17,,18]),[4,this.context.cache.match(j)];case 16:return v=E.sent(),this.ctx.drawImage(v,s.bounds.left-(v.width+10),s.bounds.top),[3,18];case 17:return E.sent(),this.context.logger.error("Error loading list-style-image "+j),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=na(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Od(s.bounds.left,s.bounds.top+Cn(s.styles.paddingTop,s.bounds.width),s.bounds.width,YO(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new b0(r.listValue,C),i.letterSpacing,YO(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),E.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Ai(this,void 0,void 0,function(){var s,a,x,i,o,x,l,c,x,d,u,x,h,m,x,f,b,x,y,g,x;return Qa(this,function(v){switch(v.label){case 0:if($s(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:v.sent(),s=0,a=r.negativeZIndex,v.label=2;case 2:return s<a.length?(x=a[s],[4,this.renderStack(x)]):[3,5];case 3:v.sent(),v.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:v.sent(),i=0,o=r.nonInlineLevel,v.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:v.sent(),v.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,v.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:v.sent(),v.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,v.label=15;case 15:return d<u.length?(x=u[d],[4,this.renderStack(x)]):[3,18];case 16:v.sent(),v.label=17;case 17:return d++,[3,15];case 18:h=0,m=r.inlineLevel,v.label=19;case 19:return h<m.length?(x=m[h],[4,this.renderNode(x)]):[3,22];case 20:v.sent(),v.label=21;case 21:return h++,[3,19];case 22:f=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return f<b.length?(x=b[f],[4,this.renderStack(x)]):[3,26];case 24:v.sent(),v.label=25;case 25:return f++,[3,23];case 26:y=0,g=r.positiveZIndex,v.label=27;case 27:return y<g.length?(x=g[y],[4,this.renderStack(x)]):[3,30];case 28:v.sent(),v.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var s=this;r.forEach(function(a,i){var o=Lo(a)?a.start:a;i===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Lo(a)&&s.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,s,a,i){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,s,a){var i;if(r.width===s&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,s),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,s,a),l},e.prototype.renderBackgroundImage=function(r){return Ai(this,void 0,void 0,function(){var s,a,i,o,l,c;return Qa(this,function(d){switch(d.label){case 0:s=r.styles.backgroundImage.length-1,a=function(u){var h,m,f,I,z,Z,D,L,S,b,I,z,Z,D,L,y,g,x,v,j,B,C,E,M,S,k,I,_,T,D,L,V,z,Z,G,H,ee,Y,q,U,te,X;return Qa(this,function(se){switch(se.label){case 0:if(u.type!==0)return[3,5];h=void 0,m=u.url,se.label=1;case 1:return se.trys.push([1,3,,4]),[4,i.context.cache.match(m)];case 2:return h=se.sent(),[3,4];case 3:return se.sent(),i.context.logger.error("Error loading background-image "+m),[3,4];case 4:return h&&(f=PN(r,s,[h.width,h.height,h.width/h.height]),I=f[0],z=f[1],Z=f[2],D=f[3],L=f[4],S=i.ctx.createPattern(i.resizeImage(h,D,L),"repeat"),i.renderRepeat(I,S,z,Z)),[3,6];case 5:xfe(u)?(b=PN(r,s,[null,null,null]),I=b[0],z=b[1],Z=b[2],D=b[3],L=b[4],y=Afe(u.angle,D,L),g=y[0],x=y[1],v=y[2],j=y[3],B=y[4],C=document.createElement("canvas"),C.width=D,C.height=L,E=C.getContext("2d"),M=E.createLinearGradient(x,j,v,B),GO(u.stops,g).forEach(function(fe){return M.addColorStop(fe.stop,na(fe.color))}),E.fillStyle=M,E.fillRect(0,0,D,L),D>0&&L>0&&(S=i.ctx.createPattern(C,"repeat"),i.renderRepeat(I,S,z,Z))):yfe(u)&&(k=PN(r,s,[null,null,null]),I=k[0],_=k[1],T=k[2],D=k[3],L=k[4],V=u.position.length===0?[JE]:u.position,z=Cn(V[0],D),Z=Cn(V[V.length-1],L),G=mfe(u,z,Z,D,L),H=G[0],ee=G[1],H>0&&ee>0&&(Y=i.ctx.createRadialGradient(_+z,T+Z,0,_+z,T+Z,H),GO(u.stops,H*2).forEach(function(fe){return Y.addColorStop(fe.stop,na(fe.color))}),i.path(I),i.ctx.fillStyle=Y,H!==ee?(q=r.bounds.left+.5*r.bounds.width,U=r.bounds.top+.5*r.bounds.height,te=ee/H,X=1/te,i.ctx.save(),i.ctx.translate(q,U),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-q,-U),i.ctx.fillRect(_,X*(T-U)+U,D,L*X),i.ctx.restore()):i.ctx.fill())),se.label=6;case 6:return s--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,s,a){return Ai(this,void 0,void 0,function(){return Qa(this,function(i){return this.path(CI(a,s)),this.ctx.fillStyle=na(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,s,a,i){return Ai(this,void 0,void 0,function(){var o,l;return Qa(this,function(c){switch(c.label){case 0:return s<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=w0e(i,a),this.path(o),this.ctx.fillStyle=na(r),this.ctx.fill(),l=j0e(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Ai(this,void 0,void 0,function(){var s,a,i,o,l,c,d,u,h=this;return Qa(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,a=!dh(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=O0e(Sf(s.backgroundClip,0),r.curves),a||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),dh(s.backgroundColor)||(this.ctx.fillStyle=na(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(f){h.ctx.save();var b=ew(r.curves),y=f.inset?0:P0e,g=b0e(b,-y+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(h.path(b),h.ctx.clip(),h.mask(g)):(h.mask(b),h.ctx.clip(),h.path(g)),h.ctx.shadowOffsetX=f.offsetX.number+y,h.ctx.shadowOffsetY=f.offsetY.number,h.ctx.shadowColor=na(f.color),h.ctx.shadowBlur=f.blur.number,h.ctx.fillStyle=f.inset?na(f.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),m.label=2;case 2:l=0,c=0,d=i,m.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!dh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,s,a,i,o){return Ai(this,void 0,void 0,function(){var l,c,d,u,h,m,f,b,y,g,x,v,j,B,C,E,C,E;return Qa(this,function(M){return this.ctx.save(),l=N0e(i,a),c=CI(i,a),o===2&&(this.path(c),this.ctx.clip()),Lo(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),Lo(c[1])?(h=c[1].end.x,m=c[1].end.y):(h=c[1].x,m=c[1].y),a===0||a===2?f=Math.abs(d-h):f=Math.abs(u-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),b=s<3?s*3:s*2,y=s<3?s*2:s,o===3&&(b=s,y=s),g=!0,f<=b*2?g=!1:f<=b*2+y?(x=f/(2*b+y),b*=x,y*=x):(v=Math.floor((f+y)/(b+y)),j=(f-v*b)/(v-1),B=(f-(v+1)*b)/v,y=B<=0||Math.abs(y-j)<Math.abs(y-B)?j:B),g&&(o===3?this.ctx.setLineDash([0,b+y]):this.ctx.setLineDash([b,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=na(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Lo(c[0])&&(C=c[3],E=c[0],this.ctx.beginPath(),this.formatPath([new kt(C.end.x,C.end.y),new kt(E.start.x,E.start.y)]),this.ctx.stroke()),Lo(c[1])&&(C=c[1],E=c[2],this.ctx.beginPath(),this.formatPath([new kt(C.end.x,C.end.y),new kt(E.start.x,E.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Ai(this,void 0,void 0,function(){var s;return Qa(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=na(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=v0e(r),[4,this.renderStack(s)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(wz),F0e=function(t){return t instanceof az||t instanceof sz?!0:t instanceof rk&&t.type!==Yv&&t.type!==Xv},O0e=function(t,e){switch(t){case 0:return ew(e);case 2:return f0e(e);case 1:default:return tw(e)}},I0e=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},D0e=["-apple-system","system-ui"],M0e=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return D0e.indexOf(e)===-1}):t},L0e=(function(t){Ol(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=s,a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),a}return e.prototype.render=function(r){return Ai(this,void 0,void 0,function(){var s,a;return Qa(this,function(i){switch(i.label){case 0:return s=fB(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,R0e(s)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=na(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(wz),R0e=function(t){return new Promise(function(e,r){var s=new Image;s.onload=function(){e(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},U0e=(function(){function t(e){var r=e.id,s=e.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,cb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,cb([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,cb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,cb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Q0e=(function(){function t(e,r){var s;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new U0e({id:this.instanceName,enabled:e.logging}),this.cache=(s=e.cache)!==null&&s!==void 0?s:new o0e(this,e)}return t.instanceCount=1,t})(),sk=function(t,e){return e===void 0&&(e={}),$0e(t,e)};typeof window<"u"&&pz.setContext(window);var $0e=function(t,e){return Ai(void 0,void 0,void 0,function(){var r,s,a,i,o,l,c,d,u,h,m,f,b,y,g,x,v,j,B,C,M,E,M,S,k,I,_,T,D,L,V,z,Z,G,H,ee,Y,q,U,te;return Qa(this,function(X){switch(X.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return a={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(k=e.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:e.proxy,useCORS:(I=e.useCORS)!==null&&I!==void 0?I:!1},i=eB({logging:(_=e.logging)!==null&&_!==void 0?_:!0,cache:e.cache},a),o={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:s.innerWidth,windowHeight:(D=e.windowHeight)!==null&&D!==void 0?D:s.innerHeight,scrollX:(L=e.scrollX)!==null&&L!==void 0?L:s.pageXOffset,scrollY:(V=e.scrollY)!==null&&V!==void 0?V:s.pageYOffset},l=new Od(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Q0e(i,l),d=(z=e.foreignObjectRendering)!==null&&z!==void 0?z:!1,u={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new jI(c,t,u),m=h.clonedReferenceElement,m?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=X.sent(),b=nk(m)||qge(m)?bAe(m.ownerDocument):_1(c,m),y=b.width,g=b.height,x=b.left,v=b.top,j=H0e(c,m,e.backgroundColor),B={canvas:e.canvas,backgroundColor:j,scale:(H=(G=e.scale)!==null&&G!==void 0?G:s.devicePixelRatio)!==null&&H!==void 0?H:1,x:((ee=e.x)!==null&&ee!==void 0?ee:0)+x,y:((Y=e.y)!==null&&Y!==void 0?Y:0)+v,width:(q=e.width)!==null&&q!==void 0?q:Math.ceil(y),height:(U=e.height)!==null&&U!==void 0?U:Math.ceil(g)},d?(c.logger.debug("Document cloned, using foreign object rendering"),M=new L0e(c,B),[4,M.render(m)]):[3,3];case 2:return C=X.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+v+" with size "+y+"x"+g+" using computed rendering"),c.logger.debug("Starting DOM parsing"),E=lz(c,m),j===E.styles.backgroundColor&&(E.styles.backgroundColor=Cd.TRANSPARENT),c.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),M=new T0e(c,B),[4,M.render(E)];case 4:C=X.sent(),X.label=5;case 5:return(!((te=e.removeContainer)!==null&&te!==void 0)||te)&&(jI.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},H0e=function(t,e,r){var s=e.ownerDocument,a=s.documentElement?x0(t,getComputedStyle(s.documentElement).backgroundColor):Cd.TRANSPARENT,i=s.body?x0(t,getComputedStyle(s.body).backgroundColor):Cd.TRANSPARENT,o=typeof r=="string"?x0(t,r):r===null?Cd.TRANSPARENT:4294967295;return e===s.documentElement?dh(a)?dh(i)?o:i:a:o};const q0e=Object.freeze(Object.defineProperty({__proto__:null,default:sk},Symbol.toStringTag,{value:"Module"})),z0e=()=>{const{isAdmin:t}=Mn(),e=Vs(),[r,s]=F.useState(""),[a,i]=F.useState("all"),[o,l]=F.useState(!1),[c,d]=F.useState(!1),[u,h]=F.useState(null),[m,f]=F.useState(null),[b,y]=F.useState(!1),[g,x]=F.useState(!1),[v,j]=F.useState(0),[B,C]=F.useState([]),[E,M]=F.useState(!0),[S,k]=F.useState(null),I=F.useRef(null),[_,T]=F.useState({name:"",category:"",quantity:0,min_stock:0,unit:"un",cost:0,price:0,supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""});F.useEffect(()=>{D()},[]);const D=async()=>{try{M(!0);const X=await Wle();C(X||[]),k(null)}catch(X){console.error("Error loading inventory items:",X),k("Erro ao carregar itens do estoque"),C([])}finally{M(!1)}},L=["all",...Array.from(new Set(B.map(X=>X.category)))],V=B.filter(X=>{const se=X.name.toLowerCase().includes(r.toLowerCase())||X.supplier.toLowerCase().includes(r.toLowerCase())||X.sku&&X.sku.toLowerCase().includes(r.toLowerCase()),fe=a==="all"||X.category===a;return se&&fe}),z=X=>{switch(G(X.quantity,X.min_stock)){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Z=X=>{switch(G(X.quantity,X.min_stock)){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},G=(X,se)=>X===0?"out_of_stock":X<se?"low_stock":"in_stock",H={total:B.length,inStock:B.filter(X=>G(X.quantity,X.min_stock)==="in_stock").length,lowStock:B.filter(X=>G(X.quantity,X.min_stock)==="low_stock").length,outOfStock:B.filter(X=>G(X.quantity,X.min_stock)==="out_of_stock").length,totalValue:B.reduce((X,se)=>X+se.quantity*se.price,0)},ee=async()=>{if(!_.name||!_.category||!_.supplier){alert("Por favor, preencha todos os campos obrigatórios");return}try{const X={name:_.name,category:_.category,quantity:_.quantity,min_stock:_.min_stock,price:_.price,supplier:_.supplier,description:_.description,sku:_.sku,location:_.location},se=await Kle(X);C([...B,se]),T({name:"",category:"",quantity:0,min_stock:0,price:0,cost:0,unit:"un",supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""}),l(!1),alert("Item adicionado com sucesso!")}catch(X){console.error("Error creating item:",X);let se="Erro ao adicionar item";X?.message?.includes("duplicate key")||X?.message?.includes("already exists")?se="Já existe um item com este código/SKU. Por favor, use um código diferente ou deixe em branco para gerar automaticamente.":X?.message&&(se=`Erro: ${X.message}`),alert(se)}},Y=async()=>{if(u)try{const X={name:u.name,category:u.category,quantity:u.quantity,min_stock:u.min_stock,price:u.price,supplier:u.supplier,description:u.description,sku:u.sku,location:u.location},se=await Gle(u.id,X);C(B.map(fe=>fe.id===se.id?se:fe)),d(!1),h(null),alert("Item atualizado com sucesso!")}catch(X){console.error("Error updating item:",X),alert("Erro ao atualizar item")}},q=async X=>{try{await Xle(X),C(B.filter(se=>se.id!==X)),f(null),h(null),alert("Item excluído com sucesso!")}catch(se){console.error("Error deleting item:",se),alert("Erro ao excluir item")}},U=X=>{T({name:`${X.name} (Cópia)`,category:X.category,quantity:0,min_stock:X.min_stock,unit:X.unit,cost:X.cost,price:X.price,supplier:X.supplier,description:X.description,sku:X.sku?`${X.sku}-COPIA`:"",location:X.location,created_at:"",updated_at:""}),l(!0)},te=async()=>{if(I.current){y(!0),x(!0),j(10);try{const X=setInterval(()=>{j(ge=>ge>=90?(clearInterval(X),90):ge+10)},300),se=await sk(I.current,{scale:1,useCORS:!0,logging:!1});j(95);const fe=se.toDataURL("image/png"),me=new Kt({orientation:"portrait",unit:"mm",format:"a4"});me.setFillColor(59,130,246),me.rect(0,0,me.internal.pageSize.width,20,"F"),me.setTextColor(255,255,255),me.setFontSize(14),me.text("Relatório de Estoque - GiarTech",10,10),me.setFontSize(10),me.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const pe=me.internal.pageSize.width,_e=se.height*pe/se.width;me.addImage(fe,"PNG",0,25,pe,_e),me.save("relatorio-estoque.pdf"),j(100),setTimeout(()=>{y(!1),x(!1),j(0)},1e3)}catch(X){console.error("Error generating PDF:",X),y(!1),x(!1),alert("Error generating PDF. Please try again.")}}};return n.jsxs("div",{className:"space-y-6",ref:I,children:[S&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:S})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estoque"}),n.jsxs("div",{className:"flex gap-3",children:[H.lowStock>0&&n.jsxs("button",{onClick:()=>e("/purchasing"),className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all animate-pulse",children:[n.jsx(un,{className:"h-4 w-4"}),n.jsxs("span",{children:[H.lowStock," ",H.lowStock===1?"Item":"Itens"," Necessitando Compra"]}),n.jsx(Ff,{className:"h-4 w-4"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Item"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:"Total de Itens",value:H.total,color:"from-blue-500 to-cyan-500",icon:$t},{label:"Em Estoque",value:H.inStock,color:"from-green-500 to-emerald-500",icon:Or},{label:"Estoque Baixo",value:H.lowStock,color:"from-yellow-500 to-orange-500",icon:un},{label:"Sem Estoque",value:H.outOfStock,color:"from-red-500 to-pink-500",icon:El},{label:"Valor Total",value:`R$ ${H.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"from-purple-500 to-indigo-500",icon:$t,adminOnly:!0}].filter(X=>!X.adminOnly||X.adminOnly&&t).map((X,se)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${X.color} rounded-lg flex items-center justify-center`,children:n.jsx(X.icon,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:X.value}),n.jsx("p",{className:"text-sm text-gray-600",children:X.label})]},X.label))}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 md:items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 flex-grow",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, fornecedor ou SKU...",value:r,onChange:X=>s(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"h-5 w-5 text-gray-400"}),n.jsx("select",{value:a,onChange:X=>i(X.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:L.map(X=>n.jsx("option",{value:X,children:X==="all"?"Todas as Categorias":X},X))})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:te,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(vt,{className:"h-4 w-4"}),n.jsx("span",{children:"Relatório"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Item"})]})]})]})}),E?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando estoque..."})]}):n.jsx("div",{className:"space-y-4",children:V.length>0?V.map((X,se)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:se*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${G(X.quantity,X.min_stock)==="in_stock"?"bg-green-100 text-green-600":G(X.quantity,X.min_stock)==="low_stock"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:n.jsx($t,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:X.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:X.category}),X.sku&&n.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",X.sku]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${z(X)}`,children:Z(X)}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>{h(X),d(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar",children:n.jsx(f1,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>U(X),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar Item",children:n.jsx(Pd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>f(X.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir",children:n.jsx(rr,{className:"h-4 w-4"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:X.quantity})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mínimo"}),n.jsx("p",{className:"text-sm text-gray-900",children:X.min_stock})]}),t&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Preço Unitário"}),n.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",X.price.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),n.jsx("p",{className:"text-sm text-gray-900",children:X.supplier})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Nível de Estoque"}),n.jsxs("span",{children:[X.quantity,"/",X.min_stock," mín"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X.quantity>X.min_stock?"bg-green-500":X.quantity>0?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(X.quantity/(X.min_stock*2)*100,100)}%`}})})]}),X.location&&n.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[n.jsx("span",{className:"font-medium",children:"Localização:"})," ",X.location]})]},X.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx($t,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum item encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos itens de estoque com os filtros selecionados."}),n.jsx("button",{onClick:()=>{s(""),i("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(Nt,{children:o&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Item de Estoque"}),n.jsx("button",{onClick:()=>l(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",value:_.name,onChange:X=>T({..._,name:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:_.category,onChange:X=>T({..._,category:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peças, etc.",required:!0,list:"categories"}),n.jsx("datalist",{id:"categories",children:L.filter(X=>X!=="all").map(X=>n.jsx("option",{value:X},X))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Código ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{type:"text",value:_.sku,onChange:X=>T({..._,sku:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deixe em branco para gerar automaticamente"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:_.description,onChange:X=>T({..._,description:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:_.quantity,onChange:X=>T({..._,quantity:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),n.jsx("input",{type:"number",value:_.min_stock,onChange:X=>T({..._,min_stock:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),n.jsxs("select",{value:_.unit||"un",onChange:X=>T({..._,unit:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"un",children:"Unidade (un)"}),n.jsx("option",{value:"m",children:"Metro (m)"}),n.jsx("option",{value:"m2",children:"Metro Quadrado (m²)"}),n.jsx("option",{value:"m3",children:"Metro Cúbico (m³)"}),n.jsx("option",{value:"kg",children:"Quilograma (kg)"}),n.jsx("option",{value:"g",children:"Grama (g)"}),n.jsx("option",{value:"l",children:"Litro (l)"}),n.jsx("option",{value:"ml",children:"Mililitro (ml)"}),n.jsx("option",{value:"cx",children:"Caixa (cx)"}),n.jsx("option",{value:"pc",children:"Peça (pc)"}),n.jsx("option",{value:"par",children:"Par"}),n.jsx("option",{value:"rolo",children:"Rolo"}),n.jsx("option",{value:"pct",children:"Pacote (pct)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Custo (R$)"}),n.jsx("input",{type:"number",value:_.cost,onChange:X=>T({..._,cost:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preço de compra"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Venda (R$)"}),n.jsx("input",{type:"number",value:_.price,onChange:X=>T({..._,price:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preço de venda",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",value:_.supplier,onChange:X=>T({..._,supplier:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),n.jsx("input",{type:"text",value:_.location,onChange:X=>T({..._,location:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:ee,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Item"]})]})]})]})}),n.jsx(Nt,{children:c&&u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Item"}),n.jsx("button",{onClick:()=>d(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",value:u.name,onChange:X=>h({...u,name:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:u.category,onChange:X=>h({...u,category:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peças, etc.",required:!0,list:"edit-categories"}),n.jsx("datalist",{id:"edit-categories",children:L.filter(X=>X!=="all").map(X=>n.jsx("option",{value:X},X))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Código ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{type:"text",value:u.sku||"",onChange:X=>h({...u,sku:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código único do item"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:u.description||"",onChange:X=>h({...u,description:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:u.quantity,onChange:X=>h({...u,quantity:parseInt(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),n.jsx("input",{type:"number",value:u.min_stock,onChange:X=>h({...u,min_stock:parseInt(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Unitário (R$)"}),n.jsx("input",{type:"number",value:u.price,onChange:X=>h({...u,price:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",value:u.supplier,onChange:X=>h({...u,supplier:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),n.jsx("input",{type:"text",value:u.location||"",onChange:X=>h({...u,location:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:Y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})}),n.jsx(Nt,{children:m!==null&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este item do estoque? Esta ação não pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>m&&q(m),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(Nt,{children:g&&n.jsxs(ue.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatório"}),v===100&&n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[v<100?n.jsx(Qp,{className:"h-5 w-5 text-blue-500 animate-spin"}):n.jsx(Es,{className:"h-5 w-5 text-green-500"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${v}%`}})})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v,"%"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:v<100?"Processando dados e gerando relatório...":"Relatório gerado com sucesso!"})]})})]})},V0e=()=>{const{id:t}=rE(),e=Vs(),{isAdmin:r}=Mn(),[s,a]=F.useState(!1),[i,o]=F.useState(0),[l,c]=F.useState(""),[d,u]=F.useState("details"),h={name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,minStock:2,price:1800,supplier:"Fornecedor A",status:"in_stock",description:"Ar condicionado split 12.000 BTUs, 220V, com controle remoto e instalação básica incluída.",sku:"AC-12000-220",location:"Prateleira A3",history:[{date:"2023-12-15",type:"entrada",quantity:10,user:"Admin",notes:"Compra inicial"},{date:"2023-12-16",type:"saida",quantity:2,user:"Carlos Técnico",notes:"OS-2023-001"},{date:"2023-12-17",type:"saida",quantity:3,user:"Ana Técnica",notes:"OS-2023-002"}]},m=g=>{switch(g){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},f=g=>{switch(g){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},b=g=>{switch(g){case"entrada":return"text-green-600";case"saida":return"text-red-600";case"ajuste":return"text-blue-600";default:return"text-gray-600"}},y=()=>{i!==0&&(console.log("Adjusting stock by:",i,"Reason:",l),a(!1),o(0),c(""))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:n.jsx(Qd,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h.name})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${m(h.status)}`,children:f(h.status)})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("span",{children:"Ajustar Estoque"})]}),n.jsxs("button",{onClick:()=>e(`/inventory/${t}/edit`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),r&&n.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>u("details"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="details"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx($t,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Detalhes"})]}),n.jsxs("button",{onClick:()=>u("history"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="history"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(tr,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Histórico"})]}),r&&n.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="analytics"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(oa,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Análise"})]})]}),n.jsxs("div",{className:"p-6",children:[d==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informações Básicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.category})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"SKU"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.sku})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.supplier})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Localização"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.location})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(Or,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informações de Estoque"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade Atual"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.quantity})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mínimo"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:h.minStock})]}),r&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Valor Unitário"}),n.jsxs("p",{className:"text-lg font-medium text-green-600",children:["R$ ",h.price.toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Nível de Estoque"}),n.jsxs("span",{children:[h.quantity,"/",h.minStock," mín"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:`${Math.min(h.quantity/(h.minStock*2)*100,100)}%`}})})]}),h.quantity<=h.minStock]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx($t,{className:"h-4 w-4 mr-2 text-blue-500"}),"Descrição"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-gray-700",children:h.description})})]})]}),d==="history"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(tr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Histórico de Movimentações"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:h.history.map((g,x)=>n.jsxs("div",{className:"relative pl-10",children:[n.jsx("div",{className:`absolute left-0 top-0 w-8 h-8 rounded-full flex items-center justify-center ${g.type==="entrada"?"bg-green-100":"bg-red-100"}`,children:g.type==="entrada"?n.jsx(Ot,{className:"h-4 w-4 text-green-600"}):n.jsx(z0,{className:"h-4 w-4 text-red-600"})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h4",{className:`font-medium ${b(g.type)}`,children:[g.type==="entrada"?"Entrada":"Saída"," de ",g.quantity," unidades"]}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(g.date).toLocaleDateString("pt-BR")})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Realizado por: ",g.user]}),g.notes&&n.jsxs("p",{className:"text-sm text-gray-700",children:["Observação: ",g.notes]})]})]},x))})]})]}),d==="analytics"&&r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(oa,{className:"h-4 w-4 mr-2 text-blue-500"}),"Análise de Consumo"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[n.jsx(oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Análise de consumo em desenvolvimento"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Em breve você poderá visualizar gráficos de consumo, previsões de estoque e muito mais."})]})]})]})]}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajustar Estoque"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Atual"}),n.jsx("input",{type:"text",value:h.quantity,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajuste"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>o(g=>g-1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:n.jsx(z0,{className:"h-5 w-5"})}),n.jsx("input",{type:"number",value:i,onChange:g=>o(parseInt(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),n.jsx("button",{type:"button",onClick:()=>o(g=>g+1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:n.jsx(Ot,{className:"h-5 w-5"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i>0?"Entrada":i<0?"Saída":"Sem alteração"," de ",Math.abs(i)," unidades"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Quantidade"}),n.jsx("input",{type:"text",value:h.quantity+i,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-bold"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo do Ajuste"}),n.jsx("textarea",{value:l,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o motivo deste ajuste...",required:!0})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:y,disabled:i===0||!l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ajuste"})]})]})]})]})},K0e=()=>{const t=Vs(),[e,r]=F.useState({name:"",category:"",quantity:0,minStock:0,price:0,supplier:"",description:"",sku:"",location:""}),s=["Equipamentos","Acessórios","Materiais","Peças","Ferramentas"],a=o=>{const{name:l,value:c}=o.target;r(l==="price"||l==="quantity"||l==="minStock"?{...e,[l]:parseFloat(c)||0}:{...e,[l]:c})},i=o=>{o.preventDefault(),console.log("Form submitted:",e),t("/inventory")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>t("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:n.jsx(Qd,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Item de Estoque"})]})}),n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações Básicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione uma categoria"}),s.map(o=>n.jsx("option",{value:o,children:o},o))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Código"}),n.jsx("input",{type:"text",name:"sku",value:e.sku,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Código único do item"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{name:"description",value:e.description,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do item"})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informações de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:Math.max(0,o.quantity-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:n.jsx(z0,{className:"h-4 w-4"})}),n.jsx("input",{type:"number",name:"quantity",value:e.quantity,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:o.quantity+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:n.jsx(Ot,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mínimo"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:Math.max(0,o.minStock-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:n.jsx(z0,{className:"h-4 w-4"})}),n.jsx("input",{type:"number",name:"minStock",value:e.minStock,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:o.minStock+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:n.jsx(Ot,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Unitário (R$)"}),n.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",name:"supplier",value:e.supplier,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),n.jsx("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:()=>t("/inventory"),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex-1",children:"Cancelar"}),n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex-1 flex items-center justify-center",children:[n.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Salvar Item"]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yx(t){return t+.5|0}const rh=(t,e,r)=>Math.max(Math.min(t,r),e);function Zg(t){return rh(Yx(t*2.55),0,255)}function uh(t){return rh(Yx(t*255),0,255)}function yd(t){return rh(Yx(t/2.55)/100,0,1)}function BI(t){return rh(Yx(t*100),0,100)}const Po={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wB=[..."0123456789ABCDEF"],W0e=t=>wB[t&15],G0e=t=>wB[(t&240)>>4]+wB[t&15],Tb=t=>(t&240)>>4===(t&15),X0e=t=>Tb(t.r)&&Tb(t.g)&&Tb(t.b)&&Tb(t.a);function Y0e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Po[t[1]]*17,g:255&Po[t[2]]*17,b:255&Po[t[3]]*17,a:e===5?Po[t[4]]*17:255}:(e===7||e===9)&&(r={r:Po[t[1]]<<4|Po[t[2]],g:Po[t[3]]<<4|Po[t[4]],b:Po[t[5]]<<4|Po[t[6]],a:e===9?Po[t[7]]<<4|Po[t[8]]:255})),r}const J0e=(t,e)=>t<255?e(t):"";function Z0e(t){var e=X0e(t)?W0e:G0e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+J0e(t.a,e):void 0}const exe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jz(t,e,r){const s=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function txe(t,e,r){const s=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function rxe(t,e,r){const s=jz(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)s[a]*=1-e-r,s[a]+=e;return s}function nxe(t,e,r,s,a){return t===a?(e-r)/s+(e<r?6:0):e===a?(r-t)/s+2:(t-e)/s+4}function ak(t){const r=t.r/255,s=t.g/255,a=t.b/255,i=Math.max(r,s,a),o=Math.min(r,s,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=nxe(r,s,a,u,i),c=c*60+.5),[c|0,d||0,l]}function ik(t,e,r,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,s)).map(uh)}function ok(t,e,r){return ik(jz,t,e,r)}function sxe(t,e,r){return ik(rxe,t,e,r)}function axe(t,e,r){return ik(txe,t,e,r)}function Nz(t){return(t%360+360)%360}function ixe(t){const e=exe.exec(t);let r=255,s;if(!e)return;e[5]!==s&&(r=e[6]?Zg(+e[5]):uh(+e[5]));const a=Nz(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=sxe(a,i,o):e[1]==="hsv"?s=axe(a,i,o):s=ok(a,i,o),{r:s[0],g:s[1],b:s[2],a:r}}function oxe(t,e){var r=ak(t);r[0]=Nz(r[0]+e),r=ok(r),t.r=r[0],t.g=r[1],t.b=r[2]}function lxe(t){if(!t)return;const e=ak(t),r=e[0],s=BI(e[1]),a=BI(e[2]);return t.a<255?`hsla(${r}, ${s}%, ${a}%, ${yd(t.a)})`:`hsl(${r}, ${s}%, ${a}%)`}const EI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},kI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function cxe(){const t={},e=Object.keys(kI),r=Object.keys(EI);let s,a,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<r.length;a++)i=r[a],l=l.replace(i,EI[i]);i=parseInt(kI[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Fb;function dxe(t){Fb||(Fb=cxe(),Fb.transparent=[0,0,0,0]);const e=Fb[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const uxe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function hxe(t){const e=uxe.exec(t);let r=255,s,a,i;if(e){if(e[7]!==s){const o=+e[7];r=e[8]?Zg(o):rh(o*255,0,255)}return s=+e[1],a=+e[3],i=+e[5],s=255&(e[2]?Zg(s):rh(s,0,255)),a=255&(e[4]?Zg(a):rh(a,0,255)),i=255&(e[6]?Zg(i):rh(i,0,255)),{r:s,g:a,b:i,a:r}}}function Axe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${yd(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const TN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,gf=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function mxe(t,e,r){const s=gf(yd(t.r)),a=gf(yd(t.g)),i=gf(yd(t.b));return{r:uh(TN(s+r*(gf(yd(e.r))-s))),g:uh(TN(a+r*(gf(yd(e.g))-a))),b:uh(TN(i+r*(gf(yd(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Ob(t,e,r){if(t){let s=ak(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*r,e===0?360:1)),s=ok(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function _z(t,e){return t&&Object.assign(e||{},t)}function PI(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=uh(t[3]))):(e=_z(t,{r:0,g:0,b:0,a:1}),e.a=uh(e.a)),e}function fxe(t){return t.charAt(0)==="r"?hxe(t):ixe(t)}let Cz=class jB{constructor(e){if(e instanceof jB)return e;const r=typeof e;let s;r==="object"?s=PI(e):r==="string"&&(s=Y0e(e)||dxe(e)||fxe(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=_z(this._rgb);return e&&(e.a=yd(e.a)),e}set rgb(e){this._rgb=PI(e)}rgbString(){return this._valid?Axe(this._rgb):void 0}hexString(){return this._valid?Z0e(this._rgb):void 0}hslString(){return this._valid?lxe(this._rgb):void 0}mix(e,r){if(e){const s=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,r){return e&&(this._rgb=mxe(this._rgb,e._rgb,r)),this}clone(){return new jB(this.rgb)}alpha(e){return this._rgb.a=uh(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Yx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ob(this._rgb,2,e),this}darken(e){return Ob(this._rgb,2,-e),this}saturate(e){return Ob(this._rgb,1,e),this}desaturate(e){return Ob(this._rgb,1,-e),this}rotate(e){return oxe(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function hd(){}const pxe=(()=>{let t=0;return()=>t++})();function Rr(t){return t==null}function $n(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Er(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function da(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ac(t,e){return da(t)?t:e}function xr(t,e){return typeof t>"u"?e:t}const gxe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Sz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Nn(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function cn(t,e,r,s){let a,i,o;if($n(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(Er(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function nw(t,e){let r,s,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,s=t.length;r<s;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function sw(t){if($n(t))return t.map(sw);if(Er(t)){const e=Object.create(null),r=Object.keys(t),s=r.length;let a=0;for(;a<s;++a)e[r[a]]=sw(t[r[a]]);return e}return t}function Bz(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function xxe(t,e,r,s){if(!Bz(t))return;const a=e[t],i=r[t];Er(a)&&Er(i)?ex(a,i,s):e[t]=sw(i)}function ex(t,e,r){const s=$n(e)?e:[e],a=s.length;if(!Er(t))return t;r=r||{};const i=r.merger||xxe;let o;for(let l=0;l<a;++l){if(o=s[l],!Er(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function w0(t,e){return ex(t,e,{merger:yxe})}function yxe(t,e,r){if(!Bz(t))return;const s=e[t],a=r[t];Er(s)&&Er(a)?w0(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sw(a))}const TI={"":t=>t,x:t=>t.x,y:t=>t.y};function bxe(t){const e=t.split("."),r=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function vxe(t){const e=bxe(t);return r=>{for(const s of e){if(s==="")break;r=r&&r[s]}return r}}function Nh(t,e){return(TI[e]||(TI[e]=vxe(e)))(t)}function lk(t){return t.charAt(0).toUpperCase()+t.slice(1)}const tx=t=>typeof t<"u",_h=t=>typeof t=="function",FI=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function wxe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Gr=Math.PI,Dn=2*Gr,jxe=Dn+Gr,aw=Number.POSITIVE_INFINITY,Nxe=Gr/180,gs=Gr/2,fA=Gr/4,OI=Gr*2/3,Ez=Math.log10,vc=Math.sign;function j0(t,e,r){return Math.abs(t-e)<r}function II(t){const e=Math.round(t);t=j0(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Ez(t))),s=t/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function _xe(t){const e=[],r=Math.sqrt(t);let s;for(s=1;s<r;s++)t%s===0&&(e.push(s),e.push(t/s));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function Cxe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rx(t){return!Cxe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Sxe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function Bxe(t,e,r){let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function mc(t){return t*(Gr/180)}function ck(t){return t*(180/Gr)}function DI(t){if(!da(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function kz(t,e){const r=e.x-t.x,s=e.y-t.y,a=Math.sqrt(r*r+s*s);let i=Math.atan2(s,r);return i<-.5*Gr&&(i+=Dn),{angle:i,distance:a}}function NB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Exe(t,e){return(t-e+jxe)%Dn-Gr}function za(t){return(t%Dn+Dn)%Dn}function nx(t,e,r,s){const a=za(t),i=za(e),o=za(r),l=za(i-a),c=za(o-a),d=za(a-i),u=za(a-o);return a===i||a===o||s&&i===o||l>c&&d<u}function Xa(t,e,r){return Math.max(e,Math.min(r,t))}function kxe(t){return Xa(t,-32768,32767)}function vd(t,e,r,s=1e-6){return t>=Math.min(e,r)-s&&t<=Math.max(e,r)+s}function dk(t,e,r){r=r||(o=>t[o]<e);let s=t.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,r(i)?a=i:s=i;return{lo:a,hi:s}}const RA=(t,e,r,s)=>dk(t,r,s?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),Pxe=(t,e,r)=>dk(t,r,s=>t[s][e]>=r);function Txe(t,e,r){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>r;)a--;return s>0||a<t.length?t.slice(s,a):t}const Pz=["push","pop","shift","splice","unshift"];function Fxe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pz.forEach(r=>{const s="_onData"+lk(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function MI(t,e){const r=t._chartjs;if(!r)return;const s=r.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(Pz.forEach(i=>{delete t[i]}),delete t._chartjs)}function Tz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fz=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Oz(t,e){let r=[],s=!1;return function(...a){r=a,s||(s=!0,Fz.call(window,()=>{s=!1,t.apply(e,r)}))}}function Oxe(t,e){let r;return function(...s){return e?(clearTimeout(r),r=setTimeout(t,e,s)):t.apply(this,s),e}}const uk=t=>t==="start"?"left":t==="end"?"right":"center",$a=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Ixe=(t,e,r,s)=>t===(s?"left":"right")?r:t==="center"?(e+r)/2:e;function Dxe(t,e,r){const s=e.length;let a=0,i=s;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:m,minDefined:f,maxDefined:b}=o.getUserBounds();if(f){if(a=Math.min(RA(c,u,h).lo,r?s:RA(e,u,o.getPixelForValue(h)).lo),d){const y=c.slice(0,a+1).reverse().findIndex(g=>!Rr(g[l.axis]));a-=Math.max(0,y)}a=Xa(a,0,s-1)}if(b){let y=Math.max(RA(c,o.axis,m,!0).hi+1,r?0:RA(e,u,o.getPixelForValue(m),!0).hi+1);if(d){const g=c.slice(y-1).findIndex(x=>!Rr(x[l.axis]));y+=Math.max(0,g)}i=Xa(y,a,s)-a}else i=s-a}return{start:a,count:i}}function Mxe(t){const{xScale:e,yScale:r,_scaleRanges:s}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!s)return t._scaleRanges=a,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,a),i}const Ib=t=>t===0||t===1,LI=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Dn/r)),RI=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Dn/r)+1,N0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*gs)+1,easeOutSine:t=>Math.sin(t*gs),easeInOutSine:t=>-.5*(Math.cos(Gr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Ib(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Ib(t)?t:LI(t,.075,.3),easeOutElastic:t=>Ib(t)?t:RI(t,.075,.3),easeInOutElastic(t){return Ib(t)?t:t<.5?.5*LI(t*2,.1125,.45):.5+.5*RI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-N0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?N0.easeInBounce(t*2)*.5:N0.easeOutBounce(t*2-1)*.5+.5};function hk(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function UI(t){return hk(t)?t:new Cz(t)}function FN(t){return hk(t)?t:new Cz(t).saturate(.5).darken(.1).hexString()}const Lxe=["x","y","borderWidth","radius","tension"],Rxe=["color","borderColor","backgroundColor"];function Uxe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Rxe},numbers:{type:"number",properties:Lxe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Qxe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const QI=new Map;function $xe(t,e){e=e||{};const r=t+JSON.stringify(e);let s=QI.get(r);return s||(s=new Intl.NumberFormat(t,e),QI.set(r,s)),s}function Ak(t,e,r){return $xe(e,r).format(t)}const Hxe={values(t){return $n(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const s=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=qxe(t,r)}const o=Ez(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Ak(t,s,c)}};function qxe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var mk={formatters:Hxe};function zxe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const rm=Object.create(null),_B=Object.create(null);function _0(t,e){if(!e)return t;const r=e.split(".");for(let s=0,a=r.length;s<a;++s){const i=r[s];t=t[i]||(t[i]=Object.create(null))}return t}function ON(t,e,r){return typeof e=="string"?ex(_0(t,e),r):ex(_0(t,""),e)}class Vxe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>FN(a.backgroundColor),this.hoverBorderColor=(s,a)=>FN(a.borderColor),this.hoverColor=(s,a)=>FN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return ON(this,e,r)}get(e){return _0(this,e)}describe(e,r){return ON(_B,e,r)}override(e,r){return ON(rm,e,r)}route(e,r,s,a){const i=_0(this,e),o=_0(this,s),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return Er(c)?Object.assign({},d,c):xr(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var as=new Vxe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Uxe,Qxe,zxe]);function Kxe(t){return!t||Rr(t.size)||Rr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function iw(t,e,r,s,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>s&&(s=i),s}function Wxe(t,e,r,s){s=s||{};let a=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(a=s.data={},i=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0;const l=r.length;let c,d,u,h,m;for(c=0;c<l;c++)if(h=r[c],h!=null&&!$n(h))o=iw(t,a,i,o,h);else if($n(h))for(d=0,u=h.length;d<u;d++)m=h[d],m!=null&&!$n(m)&&(o=iw(t,a,i,o,m));t.restore();const f=i.length/2;if(f>r.length){for(c=0;c<f;c++)delete a[i[c]];i.splice(0,f)}return o}function pA(t,e,r){const s=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*s)/s+a}function $I(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function CB(t,e,r,s){Iz(t,e,r,s,null)}function Iz(t,e,r,s,a){let i,o,l,c,d,u,h,m;const f=e.pointStyle,b=e.rotation,y=e.radius;let g=(b||0)*Nxe;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,s),t.rotate(g),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:a?t.ellipse(r,s,a/2,y,0,0,Dn):t.arc(r,s,y,0,Dn),t.closePath();break;case"triangle":u=a?a/2:y,t.moveTo(r+Math.sin(g)*u,s-Math.cos(g)*y),g+=OI,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*y),g+=OI,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*y),t.closePath();break;case"rectRounded":d=y*.516,c=y-d,o=Math.cos(g+fA)*c,h=Math.cos(g+fA)*(a?a/2-d:c),l=Math.sin(g+fA)*c,m=Math.sin(g+fA)*(a?a/2-d:c),t.arc(r-h,s-l,d,g-Gr,g-gs),t.arc(r+m,s-o,d,g-gs,g),t.arc(r+h,s+l,d,g,g+gs),t.arc(r-m,s+o,d,g+gs,g+Gr),t.closePath();break;case"rect":if(!b){c=Math.SQRT1_2*y,u=a?a/2:c,t.rect(r-u,s-c,2*u,2*c);break}g+=fA;case"rectRot":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+m,s-o),t.lineTo(r+h,s+l),t.lineTo(r-m,s+o),t.closePath();break;case"crossRot":g+=fA;case"cross":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o);break;case"star":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o),g+=fA,h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,m=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+m,s-o),t.lineTo(r-m,s+o);break;case"line":o=a?a/2:Math.cos(g)*y,l=Math.sin(g)*y,t.moveTo(r-o,s-l),t.lineTo(r+o,s+l);break;case"dash":t.moveTo(r,s),t.lineTo(r+Math.cos(g)*(a?a/2:y),s+Math.sin(g)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wd(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function I1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function D1(t){t.restore()}function Gxe(t,e,r,s,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!s?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Xxe(t,e,r,s){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function Yxe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Rr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Jxe(t,e,r,s,a){if(a.strikethrough||a.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function Zxe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function nm(t,e,r,s,a,i={}){const o=$n(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,Yxe(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&Zxe(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Rr(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,s,i.maxWidth)),t.fillText(d,r,s,i.maxWidth),Jxe(t,r,s,d,i),s+=Number(a.lineHeight);t.restore()}function sx(t,e){const{x:r,y:s,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,s+o.topLeft,o.topLeft,1.5*Gr,Gr,!0),t.lineTo(r,s+i-o.bottomLeft),t.arc(r+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Gr,gs,!0),t.lineTo(r+a-o.bottomRight,s+i),t.arc(r+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,gs,0,!0),t.lineTo(r+a,s+o.topRight),t.arc(r+a-o.topRight,s+o.topRight,o.topRight,0,-gs,!0),t.lineTo(r+o.topLeft,s)}const eye=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tye=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rye(t,e){const r=(""+t).match(eye);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const nye=t=>+t||0;function fk(t,e){const r={},s=Er(e),a=s?Object.keys(e):e,i=Er(t)?s?o=>xr(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=nye(i(o));return r}function Dz(t){return fk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function XA(t){return fk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Za(t){const e=Dz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Hs(t,e){t=t||{},e=e||as.font;let r=xr(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let s=xr(t.style,e.style);s&&!(""+s).match(tye)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:xr(t.family,e.family),lineHeight:rye(xr(t.lineHeight,e.lineHeight),r),size:r,style:s,weight:xr(t.weight,e.weight),string:""};return a.string=Kxe(a),a}function Db(t,e,r,s){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function sye(t,e,r){const{min:s,max:a}=t,i=Sz(e,(a-s)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function Eh(t,e){return Object.assign(Object.create(t),e)}function pk(t,e=[""],r,s,a=()=>t[0]){const i=r||t;typeof s>"u"&&(s=Uz("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>pk([l,...t],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return Lz(l,c,()=>hye(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return qI(l).includes(c)},ownKeys(l){return qI(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function up(t,e,r,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Mz(t,s),setContext:i=>up(t,i,r,s),override:i=>up(t.override(i),e,r,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return Lz(i,o,()=>iye(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function Mz(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:s,isScriptable:_h(r)?r:()=>r,isIndexable:_h(s)?s:()=>s}}const aye=(t,e)=>t?t+lk(e):e,gk=(t,e)=>Er(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Lz(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=r();return t[e]=s,s}function iye(t,e,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=t;let l=s[e];return _h(l)&&o.isScriptable(e)&&(l=oye(e,l,t,r)),$n(l)&&l.length&&(l=lye(e,l,t,o.isIndexable)),gk(e,l)&&(l=up(l,a,i&&i[e],o)),l}function oye(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||s);return l.delete(t),gk(t,c)&&(c=xk(a._scopes,a,t,c)),c}function lye(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(Er(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=xk(d,a,t,u);e.push(up(h,i,o&&o[t],l))}}return e}function Rz(t,e,r){return _h(t)?t(e,r):t}const cye=(t,e)=>t===!0?e:typeof t=="string"?Nh(e,t):void 0;function dye(t,e,r,s,a){for(const i of e){const o=cye(r,i);if(o){t.add(o);const l=Rz(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==s)return l}else if(o===!1&&typeof s<"u"&&r!==s)return null}return!1}function xk(t,e,r,s){const a=e._rootScopes,i=Rz(e._fallback,r,s),o=[...t,...a],l=new Set;l.add(s);let c=HI(l,o,r,i||r,s);return c===null||typeof i<"u"&&i!==r&&(c=HI(l,o,i,c,s),c===null)?!1:pk(Array.from(l),[""],a,i,()=>uye(e,r,s))}function HI(t,e,r,s,a){for(;r;)r=dye(t,e,r,s,a);return r}function uye(t,e,r){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return $n(a)&&Er(r)?r:a||{}}function hye(t,e,r,s){let a;for(const i of e)if(a=Uz(aye(i,t),r),typeof a<"u")return gk(t,a)?xk(r,s,t,a):a}function Uz(t,e){for(const r of e){if(!r)continue;const s=r[t];if(typeof s<"u")return s}}function qI(t){let e=t._keys;return e||(e=t._keys=Aye(t._scopes)),e}function Aye(t){const e=new Set;for(const r of t)for(const s of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}function mye(t,e,r,s){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(s);let l,c,d,u;for(l=0,c=s;l<c;++l)d=l+r,u=e[d],o[l]={r:a.parse(Nh(u,i),d)};return o}const fye=Number.EPSILON||1e-14,hp=(t,e)=>e<t.length&&!t[e].skip&&t[e],Qz=t=>t==="x"?"y":"x";function pye(t,e,r,s){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=NB(i,a),c=NB(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,m=s*u;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+m*(o.x-a.x),y:i.y+m*(o.y-a.y)}}}function gye(t,e,r){const s=t.length;let a,i,o,l,c,d=hp(t,0);for(let u=0;u<s-1;++u)if(c=d,d=hp(t,u+1),!(!c||!d)){if(j0(e[u],0,fye)){r[u]=r[u+1]=0;continue}a=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*e[u],r[u+1]=i*o*e[u])}}function xye(t,e,r="x"){const s=Qz(r),a=t.length;let i,o,l,c=hp(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=hp(t,d+1),!l)continue;const u=l[r],h=l[s];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${s}`]=h-i*e[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${s}`]=h+i*e[d])}}function yye(t,e="x"){const r=Qz(e),s=t.length,a=Array(s).fill(0),i=Array(s);let o,l,c,d=hp(t,0);for(o=0;o<s;++o)if(l=c,c=d,d=hp(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?vc(a[o-1])!==vc(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}gye(t,a,i),xye(t,i,e)}function Mb(t,e,r){return Math.max(Math.min(t,r),e)}function bye(t,e){let r,s,a,i,o,l=wd(t[0],e);for(r=0,s=t.length;r<s;++r)o=i,i=l,l=r<s-1&&wd(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=Mb(a.cp1x,e.left,e.right),a.cp1y=Mb(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Mb(a.cp2x,e.left,e.right),a.cp2y=Mb(a.cp2y,e.top,e.bottom)))}function vye(t,e,r,s,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")yye(t,a);else{let d=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=pye(d,l,t[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&bye(t,r)}function yk(){return typeof window<"u"&&typeof document<"u"}function bk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ow(t,e,r){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[r])):s=t,s}const M1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function wye(t,e){return M1(t).getPropertyValue(e)}const jye=["top","right","bottom","left"];function YA(t,e,r){const s={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=jye[a];s[i]=parseFloat(t[e+"-"+i+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const Nye=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function _ye(t,e){const r=t.touches,s=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(Nye(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function _A(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:s}=e,a=M1(r),i=a.boxSizing==="border-box",o=YA(a,"padding"),l=YA(a,"border","width"),{x:c,y:d,box:u}=_ye(t,r),h=o.left+(u&&l.left),m=o.top+(u&&l.top);let{width:f,height:b}=e;return i&&(f-=o.width+l.width,b-=o.height+l.height),{x:Math.round((c-h)/f*r.width/s),y:Math.round((d-m)/b*r.height/s)}}function Cye(t,e,r){let s,a;if(e===void 0||r===void 0){const i=t&&bk(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=M1(i),c=YA(l,"border","width"),d=YA(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,s=ow(l.maxWidth,i,"clientWidth"),a=ow(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:s||aw,maxHeight:a||aw}}const nh=t=>Math.round(t*10)/10;function Sye(t,e,r,s){const a=M1(t),i=YA(a,"margin"),o=ow(a.maxWidth,t,"clientWidth")||aw,l=ow(a.maxHeight,t,"clientHeight")||aw,c=Cye(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const m=YA(a,"border","width"),f=YA(a,"padding");d-=f.width+m.width,u-=f.height+m.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=nh(Math.min(d,o,c.maxWidth)),u=nh(Math.min(u,l,c.maxHeight)),d&&!u&&(u=nh(d/2)),(e!==void 0||r!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=nh(Math.floor(u*s))),{width:d,height:u}}function zI(t,e,r){const s=e||1,a=nh(t.height*s),i=nh(t.width*s);t.height=nh(t.height),t.width=nh(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=s,o.height=a,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const Bye=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};yk()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function VI(t,e){const r=wye(t,e),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function CA(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Eye(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:s==="middle"?r<.5?t.y:e.y:s==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function kye(t,e,r,s){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=CA(t,a,r),l=CA(a,i,r),c=CA(i,e,r),d=CA(o,l,r),u=CA(l,c,r);return CA(d,u,r)}const Pye=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},Tye=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function rp(t,e,r){return t?Pye(e,r):Tye()}function $z(t,e){let r,s;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Hz(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function qz(t){return t==="angle"?{between:nx,compare:Exe,normalize:za}:{between:vd,compare:(e,r)=>e-r,normalize:e=>e}}function KI({start:t,end:e,count:r,loop:s,style:a}){return{start:t%r,end:e%r,loop:s&&(e-t+1)%r===0,style:a}}function Fye(t,e,r){const{property:s,start:a,end:i}=r,{between:o,normalize:l}=qz(s),c=e.length;let{start:d,end:u,loop:h}=t,m,f;if(h){for(d+=c,u+=c,m=0,f=c;m<f&&o(l(e[d%c][s]),a,i);++m)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function zz(t,e,r){if(!r)return[t];const{property:s,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:d}=qz(s),{start:u,end:h,loop:m,style:f}=Fye(t,e,r),b=[];let y=!1,g=null,x,v,j;const B=()=>c(a,j,x)&&l(a,j)!==0,C=()=>l(i,x)===0||c(i,j,x),E=()=>y||B(),M=()=>!y||C();for(let S=u,k=u;S<=h;++S)v=e[S%o],!v.skip&&(x=d(v[s]),x!==j&&(y=c(x,a,i),g===null&&E()&&(g=l(x,a)===0?S:k),g!==null&&M()&&(b.push(KI({start:g,end:S,loop:m,count:o,style:f})),g=null),k=S,j=x));return g!==null&&b.push(KI({start:g,end:h,loop:m,count:o,style:f})),b}function Vz(t,e){const r=[],s=t.segments;for(let a=0;a<s.length;a++){const i=zz(s[a],t.points,e);i.length&&r.push(...i)}return r}function Oye(t,e,r,s){let a=0,i=e-1;if(r&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Iye(t,e,r,s){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%a];d.skip||d.stop?l.skip||(s=!1,i.push({start:e%a,end:(c-1)%a,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:s}),i}function Dye(t,e){const r=t.points,s=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=Oye(r,a,i,s);if(s===!0)return WI(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return WI(t,Iye(r,o,c,d),r,e)}function WI(t,e,r,s){return!s||!s.setContext||!r?e:Mye(t,e,r,s)}function Mye(t,e,r,s){const a=t._chart.getContext(),i=GI(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,d=[];let u=i,h=e[0].start,m=h;function f(b,y,g,x){const v=l?-1:1;if(b!==y){for(b+=c;r[b%c].skip;)b-=v;for(;r[y%c].skip;)y+=v;b%c!==y%c&&(d.push({start:b%c,end:y%c,loop:g,style:x}),u=x,h=y%c)}}for(const b of e){h=l?h:b.start;let y=r[h%c],g;for(m=h+1;m<=b.end;m++){const x=r[m%c];g=GI(s.setContext(Eh(a,{type:"segment",p0:y,p1:x,p0DataIndex:(m-1)%c,p1DataIndex:m%c,datasetIndex:o}))),Lye(g,u)&&f(h,m-1,b.loop,u),y=x,u=g}h<m-1&&f(h,m-1,b.loop,u)}return d}function GI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Lye(t,e){if(!e)return!1;const r=[],s=function(a,i){return hk(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Lb(t,e,r){return t.options.clip?t[r]:e[r]}function Rye(t,e){const{xScale:r,yScale:s}=t;return r&&s?{left:Lb(r,e,"left"),right:Lb(r,e,"right"),top:Lb(s,e,"top"),bottom:Lb(s,e,"bottom")}:e}function Kz(t,e){const r=e._clip;if(r.disabled)return!1;const s=Rye(e,t.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:s.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Uye{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,s,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(s-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),i.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let s=r.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,s)),s}listen(e,r,s){this._getAnims(e).listeners[r].push(s)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const s=r.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var fd=new Uye;const XI="transparent",Qye={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const s=UI(t||XI),a=s.valid&&UI(e||XI);return a&&a.valid?a.mix(s,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class $ye{constructor(e,r,s,a){const i=r[s];a=Db([e.to,a,i,e.from]);const o=Db([e.from,i,a]);this._active=!0,this._fn=e.fn||Qye[e.type||typeof o],this._easing=N0[e.easing]||N0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Db([e.to,r,a,e.from]),this._from=Db([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<s),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,s)=>{e.push({res:r,rej:s})})}_notify(e){const r=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][r]()}}class Wz{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!Er(e))return;const r=Object.keys(as.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!Er(i))return;const o={};for(const l of r)o[l]=i[l];($n(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,r){const s=r.options,a=qye(e,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&Hye(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,r){const s=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const m=s.get(d);if(h)if(m&&h.active()){h.update(m,u,l);continue}else h.cancel();if(!m||!m.duration){e[d]=u;continue}i[d]=h=new $ye(m,e,d,u),a.push(h)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const s=this._createAnimations(e,r);if(s.length)return fd.add(this._chart,s),!0}}function Hye(t,e){const r=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const i=t[s[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function qye(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function YI(t,e){const r=t&&t.options||{},s=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:s?i:a,end:s?a:i}}function zye(t,e,r){if(r===!1)return!1;const s=YI(t,r),a=YI(e,r);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function Vye(t){let e,r,s,a;return Er(t)?(e=t.top,r=t.right,s=t.bottom,a=t.left):e=r=s=a=t,{top:e,right:r,bottom:s,left:a,disabled:t===!1}}function Gz(t,e){const r=[],s=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=s.length;a<i;++a)r.push(s[a].index);return r}function JI(t,e,r,s={}){const a=t.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,s.all)continue;break}d=t.values[c],da(d)&&(i||e===0||vc(e)===vc(d))&&(e+=d)}return!u&&!s.all?0:e}function Kye(t,e){const{iScale:r,vScale:s}=e,a=r.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function IN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Wye(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Gye(t){const{min:e,max:r,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Xye(t,e,r){const s=t[e]||(t[e]={});return s[r]||(s[r]={})}function ZI(t,e,r,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function eD(t,e){const{chart:r,_cachedMeta:s}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=Wye(i,o,s),h=e.length;let m;for(let f=0;f<h;++f){const b=e[f],{[c]:y,[d]:g}=b,x=b._stacks||(b._stacks={});m=x[d]=Xye(a,u,y),m[l]=g,m._top=ZI(m,o,!0,s.type),m._bottom=ZI(m,o,!1,s.type);const v=m._visualValues||(m._visualValues={});v[l]=g}}function DN(t,e){const r=t.scales;return Object.keys(r).filter(s=>r[s].axis===e).shift()}function Yye(t,e){return Eh(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Jye(t,e,r){return Eh(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Eg(t,e){const r=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[s]===void 0||i[s][r]===void 0)return;delete i[s][r],i[s]._visualValues!==void 0&&i[s]._visualValues[r]!==void 0&&delete i[s]._visualValues[r]}}}const MN=t=>t==="reset"||t==="none",tD=(t,e)=>e?t:Object.assign({},t),Zye=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Gz(r,!0),values:null};class Jx{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=IN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Eg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,s=this.getDataset(),a=(h,m,f,b)=>h==="x"?m:h==="r"?b:f,i=r.xAxisID=xr(s.xAxisID,DN(e,"x")),o=r.yAxisID=xr(s.yAxisID,DN(e,"y")),l=r.rAxisID=xr(s.rAxisID,DN(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&MI(this._data,this),e._stacked&&Eg(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),s=this._data;if(Er(r)){const a=this._cachedMeta;this._data=Kye(r,a)}else if(s!==r){if(s){MI(s,this);const a=this._cachedMeta;Eg(a),a._parsed=[]}r&&Object.isExtensible(r)&&Fxe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=IN(r.vScale,r),r.stack!==s.stack&&(a=!0,Eg(r),r.stack=s.stack),this._resyncElements(e),(a||i!==r._stacked)&&(eD(this,r._parsed),r._stacked=IN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&r===a.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,m;if(this._parsing===!1)s._parsed=a,s._sorted=!0,m=a;else{$n(a[e])?m=this.parseArrayData(s,a,e,r):Er(a[e])?m=this.parseObjectData(s,a,e,r):m=this.parsePrimitiveData(s,a,e,r);const f=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)s._parsed[u+e]=h=m[u],c&&(f()&&(c=!1),d=h);s._sorted=c}o&&eD(this,m)}parsePrimitiveData(e,r,s,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let m,f,b;for(m=0,f=a;m<f;++m)b=m+s,h[m]={[l]:u||i.parse(d[b],b),[c]:o.parse(r[b],b)};return h}parseArrayData(e,r,s,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+s,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,r,s,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,m,f;for(u=0,h=a;u<h;++u)m=u+s,f=r[m],d[u]={x:i.parse(Nh(f,l),m),y:o.parse(Nh(f,c),m)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,s){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:Gz(a,!0),values:r._stacks[e.axis]._visualValues};return JI(l,o,i.index,{mode:s})}updateRangeFromParsed(e,r,s,a){const i=s[r.axis];let o=i===null?NaN:i;const l=a&&s._stacks[r.axis];a&&l&&(a.values=l,o=JI(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=Zye(r,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Gye(l);let m,f;function b(){f=a[m];const y=f[l.axis];return!da(f[e.axis])||u>y||h<y}for(m=0;m<o&&!(!b()&&(this.updateRangeFromParsed(d,e,f,c),i));++m);if(i){for(m=o-1;m>=0;--m)if(!b()){this.updateRangeFromParsed(d,e,f,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],da(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,s=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Vye(xr(this.options.clip,zye(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,s=this._cachedMeta,a=s.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const s=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,r,s){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Jye(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Yye(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",s){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&tx(s);if(l)return tD(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],m=d.getOptionScopes(this.getDataset(),u),f=Object.keys(as.elements[e]),b=()=>this.getContext(s,a,r),y=d.resolveNamedOptions(m,f,b,h);return y.$shared&&(y.$shared=c,i[o]=Object.freeze(tD(y,c))),y}_resolveAnimations(e,r,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),m=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(m,this.getContext(e,s,r))}const d=new Wz(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||MN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const s=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,s),{sharedOptions:i,includeOptions:o}}updateElement(e,r,s,a){MN(a)?Object.assign(e,s):this._resolveAnimations(r,a).update(e,s)}updateSharedOptions(e,r,s){e&&!MN(r)&&this._resolveAnimations(void 0,r).update(e,s)}_setStyle(e,r,s,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,s,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,r,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,s=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),s&&this.updateElements(i,e,r,"reset")}updateElements(e,r,s,a){}_removeElements(e,r){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,r);s._stacked&&Eg(s,a)}s.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,s,a]=e;this[r](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function ebe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,i=r.length;a<i;a++)s=s.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=Tz(s.sort((a,i)=>a-i))}return t._cache.$bar}function tbe(t){const e=t.iScale,r=ebe(e,t.type);let s=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(tx(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return s}function rbe(t,e,r,s){const a=r.barThickness;let i,o;return Rr(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function nbe(t,e,r,s){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:r.barPercentage,start:d}}function sbe(t,e,r,s){const a=r.parse(t[0],s),i=r.parse(t[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function Xz(t,e,r,s){return $n(t)?sbe(t,e,r,s):e[r.axis]=r.parse(t,s),e}function rD(t,e,r,s){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,m;for(d=r,u=r+s;d<u;++d)m=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(Xz(m,h,i,d));return c}function LN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function abe(t,e,r){return t!==0?vc(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function ibe(t){let e,r,s,a,i;return t.horizontal?(e=t.base>t.x,r="left",s="right"):(e=t.base<t.y,r="bottom",s="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:s,reverse:e,top:a,bottom:i}}function obe(t,e,r,s){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=ibe(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===s?a=d:(r._bottom||0)===s?a=u:(i[nD(u,o,l,c)]=!0,a=d)),i[nD(a,o,l,c)]=!0,t.borderSkipped=i}function nD(t,e,r,s){return s?(t=lbe(t,e,r),t=sD(t,r,e)):t=sD(t,e,r),t}function lbe(t,e,r){return t===e?r:t===r?e:t}function sD(t,e,r){return t==="start"?e:t==="end"?r:t}function cbe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class dbe extends Jx{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,s,a){return rD(e,r,s,a)}parseArrayData(e,r,s,a){return rD(e,r,s,a)}parseObjectData(e,r,s,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let m,f,b,y;for(m=s,f=s+a;m<f;++m)y=r[m],b={},b[i.axis]=i.parse(Nh(y,d),m),h.push(Xz(Nh(y,u),b,o,m));return h}updateRangeFromParsed(e,r,s,a){super.updateRangeFromParsed(e,r,s,a);const i=s._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:s,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=LN(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:m}=this._getSharedOptions(r,a);for(let f=r;f<r+s;f++){const b=this.getParsed(f),y=i||Rr(b[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),x=(b._stacks||{})[l.axis],v={horizontal:d,base:y.base,enableBorderRadius:!x||LN(b._custom)||o===x._top||o===x._bottom,x:d?y.head:g.center,y:d?g.center:y.head,height:d?g.size:Math.abs(y.size),width:d?Math.abs(y.size):g.size};m&&(v.options=h||this.resolveDataElementOptions(f,e[f].active?"active":a));const j=v.options||e[f].options;obe(v,j,x,o),cbe(v,j,u.ratio),this.updateElement(e[f],f,v,a)}}_getStacks(e,r){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(f=>f[s.axis]===c),m=h&&h[u.vScale.axis];if(Rr(m)||isNaN(m))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[xr(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,s){const a=this._getStacks(e,s),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,s=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||tbe(r),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=LN(d);let h=c[r.axis],m=0,f=s?this.applyStack(r,c,s):h,b,y;f!==h&&(m=f-h,f=h),u&&(h=d.barStart,f=d.barEnd-d.barStart,h!==0&&vc(h)!==vc(d.barEnd)&&(m=0),m+=h);const g=!Rr(i)&&!u?i:m;let x=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?b=r.getPixelForValue(m+f):b=x,y=b-x,Math.abs(y)<o){y=abe(y,r,l)*o,h===l&&(x-=y/2);const v=r.getPixelForDecimal(0),j=r.getPixelForDecimal(1),B=Math.min(v,j),C=Math.max(v,j);x=Math.max(Math.min(x,C),B),b=x+y,s&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(b)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const v=vc(y)*r.getLineWidthForValue(l)/2;x+=v,y-=v}return{size:y,base:x,head:b,center:b+y/2}}_calculateBarIndexPixels(e,r){const s=r.scale,a=this.options,i=a.skipNull,o=xr(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?nbe(e,r,a,u*d):rbe(e,r,a,u*d),m=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(xr(m,this.getFirstScaleIdForIndexAxis())),b=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+f;l=h.start+h.chunk*b+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,s=e.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}function ube(t,e,r){let s=1,a=1,i=0,o=0;if(e<Dn){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),m=Math.sin(c),f=(j,B,C)=>nx(j,l,c,!0)?1:Math.max(B,B*r,C,C*r),b=(j,B,C)=>nx(j,l,c,!0)?-1:Math.min(B,B*r,C,C*r),y=f(0,d,h),g=f(gs,u,m),x=b(Gr,d,h),v=b(Gr+gs,u,m);s=(y-x)/2,a=(g-v)/2,i=-(y+x)/2,o=-(g+v)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class Yz extends Jx{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:s,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(Er(s[e])){const{key:c="value"}=this._parsing;i=d=>+Nh(s[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return mc(this.options.rotation-90)}_getCircumference(){return mc(this.options.circumference)}_getRotationExtents(){let e=Dn,r=-Dn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:s}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(gxe(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:f,offsetX:b,offsetY:y}=ube(h,u,c),g=(s.width-o)/m,x=(s.height-o)/f,v=Math.max(Math.min(g,x)/2,0),j=Sz(this.options.radius,v),B=Math.max(j*c,0),C=(j-B)/this._getVisibleDatasetWeightTotal();this.offsetX=b*j,this.offsetY=y*j,a.total=this.calculateTotal(),this.outerRadius=j-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Dn)}updateElements(e,r,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,m=i&&d.animateScale,f=m?0:this.innerRadius,b=m?0:this.outerRadius,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(r,a);let x=this._getRotation(),v;for(v=0;v<r;++v)x+=this._circumference(v,i);for(v=r;v<r+s;++v){const j=this._circumference(v,i),B=e[v],C={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+j,circumference:j,outerRadius:b,innerRadius:f};g&&(C.options=y||this.resolveDataElementOptions(v,B.active?"active":a)),x+=j,this.updateElement(B,v,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let s=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Dn*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=Ak(r._parsed[e],s.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const s=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let s=0,a=e.length;s<a;++s){const i=this.resolveDataElementOptions(s);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(e){return Math.max(xr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class hbe extends Jx{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=Dxe(r,a,o);this._drawStart=l,this._drawCount=c,Mxe(r)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,r,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,a),m=o.axis,f=l.axis,{spanGaps:b,segment:y}=this.options,g=rx(b)?b:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||a==="none",v=r+s,j=e.length;let B=r>0&&this.getParsed(r-1);for(let C=0;C<j;++C){const E=e[C],M=x?E:{};if(C<r||C>=v){M.skip=!0;continue}const S=this.getParsed(C),k=Rr(S[f]),I=M[m]=o.getPixelForValue(S[m],C),_=M[f]=i||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,S,c):S[f],C);M.skip=isNaN(I)||isNaN(_)||k,M.stop=C>0&&Math.abs(S[m]-B[m])>g,y&&(M.parsed=S,M.raw=d.data[C]),h&&(M.options=u||this.resolveDataElementOptions(C,E.active?"active":a)),x||this.updateElement(E,C,M,a),B=S}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,s=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class Abe extends Yz{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class mbe extends Jx{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const r=this._cachedMeta.vScale,s=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(s[r.axis])}}parseObjectData(e,r,s,a){return mye.bind(this)(e,r,s,a)}update(e){const r=this._cachedMeta,s=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(s.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const l={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(s,void 0,l,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,s,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let l=r;l<r+s;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":a),u=i.getPointPositionForValue(l,this.getParsed(l).r),h=o?i.xCenter:u.x,m=o?i.yCenter:u.y,f={x:h,y:m,angle:u.angle,skip:isNaN(h)||isNaN(m),options:d};this.updateElement(c,l,f,a)}}}function gA(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class vk{static override(e){Object.assign(vk.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return gA()}parse(){return gA()}format(){return gA()}add(){return gA()}diff(){return gA()}startOf(){return gA()}endOf(){return gA()}}var fbe={_date:vk};function pbe(t,e,r,s){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?Pxe:RA;if(s){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const m=d(i,e,r-h),f=d(i,e,r+h);return{lo:m.lo,hi:f.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:m}=t,f=m.slice(0,u.lo+1).reverse().findIndex(y=>!Rr(y[h.axis]));u.lo-=Math.max(0,f);const b=m.slice(u.hi).findIndex(y=>!Rr(y[h.axis]));u.hi+=Math.max(0,b)}return u}}return{lo:0,hi:i.length-1}}function L1(t,e,r,s,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:m}=pbe(i[l],e,o,a);for(let f=h;f<=m;++f){const b=u[f];b.skip||s(b,d,f)}}}function gbe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(s,a){const i=e?Math.abs(s.x-a.x):0,o=r?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function RN(t,e,r,s,a){const i=[];return!a&&!t.isPointInArea(e)||L1(t,r,e,function(l,c,d){!a&&!wd(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function xbe(t,e,r,s){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=kz(o,{x:e.x,y:e.y});nx(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return L1(t,r,e,i),a}function ybe(t,e,r,s,a,i){let o=[];const l=gbe(r);let c=Number.POSITIVE_INFINITY;function d(u,h,m){const f=u.inRange(e.x,e.y,a);if(s&&!f)return;const b=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(b))&&!f)return;const g=l(e,b);g<c?(o=[{element:u,datasetIndex:h,index:m}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:m})}return L1(t,r,e,d),o}function UN(t,e,r,s,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!s?xbe(t,e,r,a):ybe(t,e,r,s,a,i)}function aD(t,e,r,s,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return L1(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:i}var bbe={modes:{index(t,e,r,s){const a=_A(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?RN(t,a,i,s,o):UN(t,a,i,!1,s,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,s){const a=_A(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?RN(t,a,i,s,o):UN(t,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,s){const a=_A(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return RN(t,a,i,s,o)},nearest(t,e,r,s){const a=_A(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return UN(t,a,i,r.intersect,s,o)},x(t,e,r,s){const a=_A(e,t);return aD(t,a,"x",r.intersect,s)},y(t,e,r,s){const a=_A(e,t);return aD(t,a,"y",r.intersect,s)}}};const Jz=["left","top","right","bottom"];function kg(t,e){return t.filter(r=>r.pos===e)}function iD(t,e){return t.filter(r=>Jz.indexOf(r.pos)===-1&&r.box.axis===e)}function Pg(t,e){return t.sort((r,s)=>{const a=e?s:r,i=e?r:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function vbe(t){const e=[];let r,s,a,i,o,l;for(r=0,s=(t||[]).length;r<s;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function wbe(t){const e={};for(const r of t){const{stack:s,pos:a,stackWeight:i}=r;if(!s||!Jz.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function jbe(t,e){const r=wbe(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&e.availableHeight)}return r}function Nbe(t){const e=vbe(t),r=Pg(e.filter(d=>d.box.fullSize),!0),s=Pg(kg(e,"left"),!0),a=Pg(kg(e,"right")),i=Pg(kg(e,"top"),!0),o=Pg(kg(e,"bottom")),l=iD(e,"x"),c=iD(e,"y");return{fullSize:r,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:kg(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function oD(t,e,r,s){return Math.max(t[r],e[r])+Math.max(t[s],e[s])}function Zz(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _be(t,e,r,s){const{pos:a,box:i}=r,o=t.maxPadding;if(!Er(a)){r.size&&(t[a]-=r.size);const h=s[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[a]+=r.size}i.getPadding&&Zz(o,i.getPadding());const l=Math.max(0,e.outerWidth-oD(o,t,"left","right")),c=Math.max(0,e.outerHeight-oD(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function Cbe(t){const e=t.maxPadding;function r(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function Sbe(t,e){const r=e.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return s(t?["left","right"]:["top","bottom"])}function e0(t,e,r,s){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,Sbe(l.horizontal,e));const{same:h,other:m}=_be(e,r,l,s);d|=h&&a.length,u=u||m,c.fullSize||a.push(l)}return d&&e0(a,e,r,s)||u}function Rb(t,e,r,s,a){t.top=r,t.left=e,t.right=e+s,t.bottom=r+a,t.width=s,t.height=a}function lD(t,e,r,s){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,m=d.size||c.height;tx(d.start)&&(o=d.start),c.fullSize?Rb(c,a.left,o,r.outerWidth-a.right-a.left,m):Rb(c,e.left+d.placed,o,h,m),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,m=d.size||c.width;tx(d.start)&&(i=d.start),c.fullSize?Rb(c,i,a.top,m,r.outerHeight-a.bottom-a.top):Rb(c,i,e.top+d.placed,m,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var qo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,s){if(!t)return;const a=Za(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=Nbe(t.boxes),c=l.vertical,d=l.horizontal;cn(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=c.reduce((y,g)=>g.box.options&&g.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),m=Object.assign({},a);Zz(m,Za(s));const f=Object.assign({maxPadding:m,w:i,h:o,x:a.left,y:a.top},a),b=jbe(c.concat(d),h);e0(l.fullSize,f,h,b),e0(c,f,h,b),e0(d,f,h,b)&&e0(c,f,h,b),Cbe(f),lD(l.leftAndTop,f,h,b),f.x+=f.w,f.y+=f.h,lD(l.rightAndBottom,f,h,b),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},cn(l.chartArea,y=>{const g=y.box;Object.assign(g,t.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class eV{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,s){}removeEventListener(e,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,s,a){return r=Math.max(0,r||e.width),s=s||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Bbe extends eV{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const wv="$chartjs",Ebe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cD=t=>t===null||t==="";function kbe(t,e){const r=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[wv]={initial:{height:s,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",cD(a)){const i=VI(t,"width");i!==void 0&&(t.width=i)}if(cD(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=VI(t,"height");i!==void 0&&(t.height=i)}return t}const tV=Bye?{passive:!0}:!1;function Pbe(t,e,r){t&&t.addEventListener(e,r,tV)}function Tbe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,tV)}function Fbe(t,e){const r=Ebe[t.type]||t.type,{x:s,y:a}=_A(t,e);return{type:r,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function lw(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Obe(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||lw(l.addedNodes,s),o=o&&!lw(l.removedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Ibe(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||lw(l.removedNodes,s),o=o&&!lw(l.addedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const ax=new Map;let dD=0;function rV(){const t=window.devicePixelRatio;t!==dD&&(dD=t,ax.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Dbe(t,e){ax.size||window.addEventListener("resize",rV),ax.set(t,e)}function Mbe(t){ax.delete(t),ax.size||window.removeEventListener("resize",rV)}function Lbe(t,e,r){const s=t.canvas,a=s&&bk(s);if(!a)return;const i=Oz((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),Dbe(t,i),o}function QN(t,e,r){r&&r.disconnect(),e==="resize"&&Mbe(t)}function Rbe(t,e,r){const s=t.canvas,a=Oz(i=>{t.ctx!==null&&r(Fbe(i,t))},t);return Pbe(s,e,a),a}class Ube extends eV{acquireContext(e,r){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(kbe(e,r),s):null}releaseContext(e){const r=e.canvas;if(!r[wv])return!1;const s=r[wv].initial;["height","width"].forEach(i=>{const o=s[i];Rr(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[wv],!0}addEventListener(e,r,s){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:Obe,detach:Ibe,resize:Lbe}[r]||Rbe;a[r]=o(e,r,s)}removeEventListener(e,r){const s=e.$proxies||(e.$proxies={}),a=s[r];if(!a)return;({attach:QN,detach:QN,resize:QN}[r]||Tbe)(e,r,a),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,s,a){return Sye(e,r,s,a)}isAttached(e){const r=e&&bk(e);return!!(r&&r.isConnected)}}function Qbe(t){return!yk()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Bbe:Ube}let $d=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}hasValue(){return rx(this.x)&&rx(this.y)}getProps(e,r){const s=this.$animations;if(!r||!s)return this;const a={};return e.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}};function $be(t,e){const r=t.options.ticks,s=Hbe(t),a=Math.min(r.maxTicksLimit||s,s),i=r.major.enabled?zbe(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return Vbe(e,d,i,o/a),d;const u=qbe(i,e,a);if(o>0){let h,m;const f=o>1?Math.round((c-l)/(o-1)):null;for(Ub(e,d,u,Rr(f)?0:l-f,l),h=0,m=o-1;h<m;h++)Ub(e,d,u,i[h],i[h+1]);return Ub(e,d,u,c,Rr(f)?e.length:c+f),d}return Ub(e,d,u),d}function Hbe(t){const e=t.options.offset,r=t._tickSize(),s=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(s,a))}function qbe(t,e,r){const s=Kbe(t),a=e.length/r;if(!s)return Math.max(a,1);const i=_xe(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function zbe(t){const e=[];let r,s;for(r=0,s=t.length;r<s;r++)t[r].major&&e.push(r);return e}function Vbe(t,e,r,s){let a=0,i=r[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*s])}function Ub(t,e,r,s,a){const i=xr(s,0),o=Math.min(xr(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-s,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function Kbe(t){const e=t.length;let r,s;if(e<2)return!1;for(s=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==s)return!1;return s}const Wbe=t=>t==="left"?"right":t==="right"?"left":t,uD=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,hD=(t,e)=>Math.min(e||t,t);function AD(t,e){const r=[],s=t.length/e,a=t.length;let i=0;for(;i<a;i+=s)r.push(t[Math.floor(i)]);return r}function Gbe(t,e,r){const s=t.ticks.length,a=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(s===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function Xbe(t,e){cn(t,r=>{const s=r.gc,a=s.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[s[i]];s.splice(0,a)}})}function Tg(t){return t.drawTicks?t.tickLength:0}function mD(t,e){if(!t.display)return 0;const r=Hs(t.font,e),s=Za(t.padding);return($n(t.text)?t.text.length:1)*r.lineHeight+s.height}function Ybe(t,e){return Eh(t,{scale:e,type:"scale"})}function Jbe(t,e,r){return Eh(t,{tick:r,index:e,type:"tick"})}function Zbe(t,e,r){let s=uk(t);return(r&&e!=="right"||!r&&e==="right")&&(s=Wbe(s)),s}function eve(t,e,r,s){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,m,f,b;const y=o-a,g=l-i;if(t.isHorizontal()){if(f=$a(s,i,l),Er(r)){const x=Object.keys(r)[0],v=r[x];b=u[x].getPixelForValue(v)+y-e}else r==="center"?b=(d.bottom+d.top)/2+y-e:b=uD(t,r,e);m=l-i}else{if(Er(r)){const x=Object.keys(r)[0],v=r[x];f=u[x].getPixelForValue(v)-g+e}else r==="center"?f=(d.left+d.right)/2-g+e:f=uD(t,r,e);b=$a(s,o,a),h=r==="left"?-gs:gs}return{titleX:f,titleY:b,maxWidth:m,rotation:h}}class qp extends $d{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:s,_suggestedMax:a}=this;return e=ac(e,Number.POSITIVE_INFINITY),r=ac(r,Number.NEGATIVE_INFINITY),s=ac(s,Number.POSITIVE_INFINITY),a=ac(a,Number.NEGATIVE_INFINITY),{min:ac(e,s),max:ac(r,a),minDefined:da(e),maxDefined:da(r)}}getMinMax(e){let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(s=Math.max(s,o.max));return r=i&&r>s?s:r,s=a&&r>s?r:s,{min:ac(r,ac(s,r)),max:ac(s,ac(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nn(this.options.beforeUpdate,[this])}update(e,r,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sye(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?AD(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$be(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,e=!e),this._startPixel=r,this._endPixel=s,this._reversePixels=e,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nn(this.options.afterUpdate,[this])}beforeSetDimensions(){Nn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Nn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s],i.label=Nn(r.callback,[i.value,s,e],this)}afterTickToLabelConversion(){Nn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,s=hD(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,m=u.highest.height,f=Xa(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:f/(s-1),h+6>l&&(l=f/(s-(e.offset?.5:1)),c=this.maxHeight-Tg(e.grid)-r.padding-mD(e.title,this.chart.options.font),d=Math.sqrt(h*h+m*m),o=ck(Math.min(Math.asin(Xa((u.highest.height+6)/l,-1,1)),Math.asin(Xa(c/d,-1,1))-Math.asin(Xa(m/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Nn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=mD(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Tg(i)+c):(e.height=this.maxHeight,e.width=Tg(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:m}=this._getLabelSizes(),f=s.padding*2,b=mc(this.labelRotation),y=Math.cos(b),g=Math.sin(b);if(l){const x=s.mirror?0:g*h.width+y*m.height;e.height=Math.min(this.maxHeight,e.height+x+f)}else{const x=s.mirror?0:y*h.width+g*m.height;e.width=Math.min(this.maxWidth,e.width+x+f)}this._calculatePadding(d,u,g,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let m=0,f=0;c?d?(m=a*e.width,f=s*r.height):(m=s*e.height,f=a*r.width):i==="start"?f=r.width:i==="end"?m=e.width:i!=="inner"&&(m=e.width/2,f=r.width/2),this.paddingLeft=Math.max((m-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,s;for(r=0,s=e.length;r<s;r++)Rr(e[r].label)&&(e.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=AD(s,r)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/hD(r,s));let d=0,u=0,h,m,f,b,y,g,x,v,j,B,C;for(h=0;h<r;h+=c){if(b=e[h].label,y=this._resolveTickFontOptions(h),a.font=g=y.string,x=i[g]=i[g]||{data:{},gc:[]},v=y.lineHeight,j=B=0,!Rr(b)&&!$n(b))j=iw(a,x.data,x.gc,j,b),B=v;else if($n(b))for(m=0,f=b.length;m<f;++m)C=b[m],!Rr(C)&&!$n(C)&&(j=iw(a,x.data,x.gc,j,C),B+=v);o.push(j),l.push(B),d=Math.max(j,d),u=Math.max(B,u)}Xbe(i,r);const E=o.indexOf(d),M=l.indexOf(u),S=k=>({width:o[k]||0,height:l[k]||0});return{first:S(0),last:S(r-1),widest:S(E),highest:S(M),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return kxe(this._alignToPixels?pA(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const s=r[e];return s.$context||(s.$context=Jbe(this.getContext(),e,s))}return this.$context||(this.$context=Ybe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=mc(this.labelRotation),s=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),m=Tg(i),f=[],b=l.setContext(this.getContext()),y=b.display?b.width:0,g=y/2,x=function(z){return pA(s,z,y)};let v,j,B,C,E,M,S,k,I,_,T,D;if(o==="top")v=x(this.bottom),M=this.bottom-m,k=v-g,_=x(e.top)+g,D=e.bottom;else if(o==="bottom")v=x(this.top),_=e.top,D=x(e.bottom)-g,M=v+g,k=this.top+m;else if(o==="left")v=x(this.right),E=this.right-m,S=v-g,I=x(e.left)+g,T=e.right;else if(o==="right")v=x(this.left),I=e.left,T=x(e.right)-g,E=v+g,S=this.left+m;else if(r==="x"){if(o==="center")v=x((e.top+e.bottom)/2+.5);else if(Er(o)){const z=Object.keys(o)[0],Z=o[z];v=x(this.chart.scales[z].getPixelForValue(Z))}_=e.top,D=e.bottom,M=v+g,k=M+m}else if(r==="y"){if(o==="center")v=x((e.left+e.right)/2);else if(Er(o)){const z=Object.keys(o)[0],Z=o[z];v=x(this.chart.scales[z].getPixelForValue(Z))}E=v-g,S=E-m,I=e.left,T=e.right}const L=xr(a.ticks.maxTicksLimit,h),V=Math.max(1,Math.ceil(h/L));for(j=0;j<h;j+=V){const z=this.getContext(j),Z=i.setContext(z),G=l.setContext(z),H=Z.lineWidth,ee=Z.color,Y=G.dash||[],q=G.dashOffset,U=Z.tickWidth,te=Z.tickColor,X=Z.tickBorderDash||[],se=Z.tickBorderDashOffset;B=Gbe(this,j,c),B!==void 0&&(C=pA(s,B,H),d?E=S=I=T=C:M=k=_=D=C,f.push({tx1:E,ty1:M,tx2:S,ty2:k,x1:I,y1:_,x2:T,y2:D,width:H,color:ee,borderDash:Y,borderDashOffset:q,tickWidth:U,tickColor:te,tickBorderDash:X,tickBorderDashOffset:se}))}return this._ticksLength=h,this._borderValue=v,f}_computeLabelItems(e){const r=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,m=Tg(s.grid),f=m+u,b=h?-u:f,y=-mc(this.labelRotation),g=[];let x,v,j,B,C,E,M,S,k,I,_,T,D="middle";if(a==="top")E=this.bottom-b,M=this._getXAxisLabelAlignment();else if(a==="bottom")E=this.top+b,M=this._getXAxisLabelAlignment();else if(a==="left"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,C=V.x}else if(a==="right"){const V=this._getYAxisLabelAlignment(m);M=V.textAlign,C=V.x}else if(r==="x"){if(a==="center")E=(e.top+e.bottom)/2+f;else if(Er(a)){const V=Object.keys(a)[0],z=a[V];E=this.chart.scales[V].getPixelForValue(z)+f}M=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-f;else if(Er(a)){const V=Object.keys(a)[0],z=a[V];C=this.chart.scales[V].getPixelForValue(z)}M=this._getYAxisLabelAlignment(m).textAlign}r==="y"&&(c==="start"?D="top":c==="end"&&(D="bottom"));const L=this._getLabelSizes();for(x=0,v=l.length;x<v;++x){j=l[x],B=j.label;const V=i.setContext(this.getContext(x));S=this.getPixelForTick(x)+i.labelOffset,k=this._resolveTickFontOptions(x),I=k.lineHeight,_=$n(B)?B.length:1;const z=_/2,Z=V.color,G=V.textStrokeColor,H=V.textStrokeWidth;let ee=M;o?(C=S,M==="inner"&&(x===v-1?ee=this.options.reverse?"left":"right":x===0?ee=this.options.reverse?"right":"left":ee="center"),a==="top"?d==="near"||y!==0?T=-_*I+I/2:d==="center"?T=-L.highest.height/2-z*I+I:T=-L.highest.height+I/2:d==="near"||y!==0?T=I/2:d==="center"?T=L.highest.height/2-z*I:T=L.highest.height-_*I,h&&(T*=-1),y!==0&&!V.showLabelBackdrop&&(C+=I/2*Math.sin(y))):(E=S,T=(1-_)*I/2);let Y;if(V.showLabelBackdrop){const q=Za(V.backdropPadding),U=L.heights[x],te=L.widths[x];let X=T-q.top,se=0-q.left;switch(D){case"middle":X-=U/2;break;case"bottom":X-=U;break}switch(M){case"center":se-=te/2;break;case"right":se-=te;break;case"inner":x===v-1?se-=te:x>0&&(se-=te/2);break}Y={left:se,top:X,width:te+q.width,height:U+q.height,color:V.backdropColor}}g.push({label:B,font:k,textOffset:T,options:{rotation:y,color:Z,strokeColor:G,strokeWidth:H,textAlign:ee,textBaseline:D,translation:[C,E],backdrop:Y}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-mc(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:s,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(s,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,m;this.isHorizontal()?(d=pA(e,this.left,o)-o/2,u=pA(e,this.right,l)+l/2,h=m=c):(h=pA(e,this.top,o)-o/2,m=pA(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,m),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&I1(s,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;nm(s,d,0,u,c,l)}a&&D1(s)}drawTitle(){const{ctx:e,options:{position:r,title:s,reverse:a}}=this;if(!s.display)return;const i=Hs(s.font),o=Za(s.padding),l=s.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||Er(r)?(c+=o.bottom,$n(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:m}=eve(this,c,r,l);nm(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:m,textAlign:Zbe(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,s=xr(e.grid&&e.grid.z,-1),a=xr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==qp.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Hs(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Qb{constructor(e,r,s){this.type=e,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let s;nve(r)&&(s=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,tve(e,o,s),this.override&&as.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,s=e.id,a=this.scope;s in r&&delete r[s],a&&s in as[a]&&(delete as[a][s],this.override&&delete rm[s])}}function tve(t,e,r){const s=ex(Object.create(null),[r?as.get(r):{},as.get(e),t.defaults]);as.set(e,s),t.defaultRoutes&&rve(e,t.defaultRoutes),t.descriptors&&as.describe(e,t.descriptors)}function rve(t,e){Object.keys(e).forEach(r=>{const s=r.split("."),a=s.pop(),i=[t].concat(s).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");as.route(i,a,c,l)})}function nve(t){return"id"in t&&"defaults"in t}class sve{constructor(){this.controllers=new Qb(Jx,"datasets",!0),this.elements=new Qb($d,"elements"),this.plugins=new Qb(Object,"plugins"),this.scales=new Qb(qp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,s){[...r].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):cn(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,s){const a=lk(e);Nn(s["before"+a],[],s),r[e](s),Nn(s["after"+a],[],s)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(e))return s}return this.plugins}_get(e,r,s){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var cc=new sve;class ave{constructor(){this._init=void 0}notify(e,r,s,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,s);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,s,a){a=a||{};for(const i of e){const o=i.plugin,l=o[s],c=[r,a,i.options];if(Nn(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){Rr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const s=e&&e.config,a=xr(s.options&&s.options.plugins,{}),i=ive(s);return a===!1&&!r?[]:lve(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,s),e,"stop"),this._notify(a(s,r),e,"start")}}function ive(t){const e={},r=[],s=Object.keys(cc.plugins.items);for(let i=0;i<s.length;i++)r.push(cc.getPlugin(s[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function ove(t,e){return!e&&t===!1?null:t===!0?{}:t}function lve(t,{plugins:e,localIds:r},s,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=ove(s[c],a);d!==null&&i.push({plugin:l,options:cve(t.config,{plugin:l,local:r[c]},d,o)})}return i}function cve(t,{plugin:e,local:r},s,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function SB(t,e){const r=as.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function dve(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function uve(t,e){return t===e?"_index_":"_value_"}function fD(t){if(t==="x"||t==="y"||t==="r")return t}function hve(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function BB(t,...e){if(fD(t))return t;for(const r of e){const s=r.axis||hve(r.position)||t.length>1&&fD(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function Ave(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(r.length)return pD(t,"x",r[0])||pD(t,"y",r[0])}return{}}function mve(t,e){const r=rm[t.type]||{scales:{}},s=e.scales||{},a=SB(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!Er(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=BB(o,l,Ave(o,t),as.scales[l.type]),d=uve(c,a),u=r.scales||{};i[o]=w0(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||SB(l,e),u=(rm[l]||{}).scales||{};Object.keys(u).forEach(h=>{const m=dve(h,c),f=o[m+"AxisID"]||m;i[f]=i[f]||Object.create(null),w0(i[f],[{axis:m},s[f],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];w0(l,[as.scales[l.type],as.scale])}),i}function nV(t){const e=t.options||(t.options={});e.plugins=xr(e.plugins,{}),e.scales=mve(t,e)}function sV(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function fve(t){return t=t||{},t.data=sV(t.data),nV(t),t}const gD=new Map,aV=new Set;function $b(t,e){let r=gD.get(t);return r||(r=e(),gD.set(t,r),aV.add(r)),r}const Fg=(t,e,r)=>{const s=Nh(e,r);s!==void 0&&t.add(s)};class pve{constructor(e){this._config=fve(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=sV(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),nV(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $b(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return $b(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return $b(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,s=this.type;return $b(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const s=this._scopeCache;let a=s.get(e);return(!a||r)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,r,s){const{options:a,type:i}=this,o=this._cachedScopes(e,s),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>Fg(c,e,h))),u.forEach(h=>Fg(c,a,h)),u.forEach(h=>Fg(c,rm[i]||{},h)),u.forEach(h=>Fg(c,as,h)),u.forEach(h=>Fg(c,_B,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),aV.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,rm[r]||{},as.datasets[r]||{},{type:r},as,_B]}resolveNamedOptions(e,r,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=xD(this._resolverCache,e,a);let c=o;if(xve(o,r)){i.$shared=!1,s=_h(s)?s():s;const d=this.createResolver(e,s,l);c=up(o,s,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,s=[""],a){const{resolver:i}=xD(this._resolverCache,e,s);return Er(r)?up(i,r,void 0,a):i}}function xD(t,e,r){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=r.join();let i=s.get(a);return i||(i={resolver:pk(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const gve=t=>Er(t)&&Object.getOwnPropertyNames(t).some(e=>_h(t[e]));function xve(t,e){const{isScriptable:r,isIndexable:s}=Mz(t);for(const a of e){const i=r(a),o=s(a),l=(o||i)&&t[a];if(i&&(_h(l)||gve(l))||o&&$n(l))return!0}return!1}var yve="4.5.1";const bve=["top","bottom","left","right","chartArea"];function yD(t,e){return t==="top"||t==="bottom"||bve.indexOf(t)===-1&&e==="x"}function bD(t,e){return function(r,s){return r[t]===s[t]?r[e]-s[e]:r[t]-s[t]}}function vD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Nn(r&&r.onComplete,[t],e)}function vve(t){const e=t.chart,r=e.options.animation;Nn(r&&r.onProgress,[t],e)}function iV(t){return yk()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const jv={},wD=t=>{const e=iV(t);return Object.values(jv).filter(r=>r.canvas===e).pop()};function wve(t,e,r){const s=Object.keys(t);for(const a of s){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function jve(t,e,r,s){return!r||t.type==="mouseout"?null:s?e:t}let mm=class{static defaults=as;static instances=jv;static overrides=rm;static registry=cc;static version=yve;static getChart=wD;static register(...e){cc.add(...e),jD()}static unregister(...e){cc.remove(...e),jD()}constructor(e,r){const s=this.config=new pve(r),a=iV(e),i=wD(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Qbe(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=pxe(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ave,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Oxe(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],jv[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}fd.listen(this,"complete",vD),fd.listen(this,"progress",vve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:s,height:a,_aspectRatio:i}=this;return Rr(e)?r&&i?i:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return cc}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $I(this.canvas,this.ctx),this}stop(){return fd.stop(this),this}resize(e,r){fd.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,zI(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),Nn(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};cn(r,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=BB(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),cn(i,o=>{const l=o.options,c=l.id,d=BB(c,l),u=xr(l.type,o.dtype);(l.position===void 0||yD(l.position,d)!==yD(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const m=cc.getScale(u);h=new m({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),cn(a,(o,l)=>{o||delete s[l]}),cn(s,o=>{qo.configure(this,o,o.options),qo.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,s=e.length;if(e.sort((a,i)=>a.index-i.index),s>r){for(let a=r;a<s;++a)this._destroyDatasetMeta(a);e.splice(r,s-r)}this._sortedMetasets=e.slice(0).sort(bD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((s,a)=>{r.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=r.length;s<a;s++){const i=r[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||SB(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=cc.getController(l),{datasetElementType:d,dataElementType:u}=as.datasets[l];Object.assign(c,{dataElementType:cc.getElement(u),datasetElementType:d&&cc.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){cn(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),m=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(m),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||cn(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(bD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){cn(this.scales,e=>{qo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!FI(r,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of r){const o=s==="_removeElements"?-i:i;wve(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<r;i++)if(!FI(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;qo.update(this,this.width,this.height,e);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],cn(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,_h(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(fd.has(this)?this.attached&&!fd.running(this)&&fd.start(this):(this.draw(),vD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,s=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Kz(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&I1(r,a),e.controller.draw(),a&&D1(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return wd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,s,a){const i=bbe.modes[r];return typeof i=="function"?i(this,e,s,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],s=this._metasets;let a=s.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=Eh(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(e,r){const s=this.getDatasetMeta(e);s.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,s){const a=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);tx(r)?(i.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),fd.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),$I(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete jv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,s=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};cn(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,s=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){cn(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},cn(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,s){const a=s?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!nw(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(e,r,s){return this._plugins.notify(this,e,r,s)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,s){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,e),l=s?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const s={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(e,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(e,r,s){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,s,o),c=wxe(e),d=jve(e,this._lastEvent,s,c);s&&(this._lastEvent=null,Nn(i.onHover,[e,l,this],this),c&&Nn(i.onClick,[e,l,this],this));const u=!nw(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,s,a){if(e.type==="mouseout")return[];if(!s)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function jD(){return cn(mm.instances,t=>t._plugins.invalidate())}function Nve(t,e,r){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,za(s-r));if(t.beginPath(),t.arc(a,i,o-d/2,s+h/2,r-h/2),l>0){const m=Math.min(d/l,za(s-r));t.arc(a,i,l+d/2,r-m/2,s+m/2,!0)}else{const m=Math.min(d/2,o*za(s-r));if(u==="round")t.arc(a,i,m,r-Gr/2,s+Gr/2,!0);else if(u==="bevel"){const f=2*m*m,b=-f*Math.cos(r+Gr/2)+a,y=-f*Math.sin(r+Gr/2)+i,g=f*Math.cos(s+Gr/2)+a,x=f*Math.sin(s+Gr/2)+i;t.lineTo(b,y),t.lineTo(g,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function _ve(t,e,r){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,s-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,s-d,!0)):t.arc(i,o,a,r+gs,s-gs),t.closePath(),t.clip()}function Cve(t){return fk(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Sve(t,e,r,s){const a=Cve(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,s*e/2),l=c=>{const d=(r-Math.min(i,c))*s/2;return Xa(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Xa(a.innerStart,0,o),innerEnd:Xa(a.innerEnd,0,o)}}function xf(t,e,r,s){return{x:r+t*Math.cos(e),y:s+t*Math.sin(e)}}function cw(t,e,r,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+s+r-d,0),m=u>0?u+s+r+d:0;let f=0;const b=a-c;if(s){const V=u>0?u-s:0,z=h>0?h-s:0,Z=(V+z)/2,G=Z!==0?b*Z/(Z+s):b;f=(b-G)/2}const y=Math.max(.001,b*h-r/Gr)/h,g=(b-y)/2,x=c+g+f,v=a-g-f,{outerStart:j,outerEnd:B,innerStart:C,innerEnd:E}=Sve(e,m,h,v-x),M=h-j,S=h-B,k=x+j/M,I=v-B/S,_=m+C,T=m+E,D=x+C/_,L=v-E/T;if(t.beginPath(),i){const V=(k+I)/2;if(t.arc(o,l,h,k,V),t.arc(o,l,h,V,I),B>0){const H=xf(S,I,o,l);t.arc(H.x,H.y,B,I,v+gs)}const z=xf(T,v,o,l);if(t.lineTo(z.x,z.y),E>0){const H=xf(T,L,o,l);t.arc(H.x,H.y,E,v+gs,L+Math.PI)}const Z=(v-E/m+(x+C/m))/2;if(t.arc(o,l,m,v-E/m,Z,!0),t.arc(o,l,m,Z,x+C/m,!0),C>0){const H=xf(_,D,o,l);t.arc(H.x,H.y,C,D+Math.PI,x-gs)}const G=xf(M,x,o,l);if(t.lineTo(G.x,G.y),j>0){const H=xf(M,k,o,l);t.arc(H.x,H.y,j,x-gs,k)}}else{t.moveTo(o,l);const V=Math.cos(k)*h+o,z=Math.sin(k)*h+l;t.lineTo(V,z);const Z=Math.cos(I)*h+o,G=Math.sin(I)*h+l;t.lineTo(Z,G)}t.closePath()}function Bve(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){cw(t,e,r,s,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Dn||Dn))}return cw(t,e,r,s,c,a),t.fill(),c}function Eve(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:m,borderRadius:f}=c,b=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=m,b?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let y=e.endAngle;if(i){cw(t,e,r,s,y,a);for(let g=0;g<i;++g)t.stroke();isNaN(l)||(y=o+(l%Dn||Dn))}b&&_ve(t,e,y),c.selfJoin&&y-o>=Gr&&f===0&&u!=="miter"&&Nve(t,e,y),i||(cw(t,e,r,s,y,a),t.stroke())}class wk extends $d{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,s){const a=this.getProps(["x","y"],s),{angle:i,distance:o}=kz(a,{x:e,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),m=(this.options.spacing+this.options.borderWidth)/2,f=xr(h,c-l),b=nx(i,l,c)&&l!==c,y=f>=Dn||b,g=vd(o,d+m,u+m);return y&&g}getCenterPoint(e){const{x:r,y:s,startAngle:a,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,u=(a+i)/2,h=(o+l+d+c)/2;return{x:r+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:s}=this,a=(r.offset||0)/4,i=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Dn?Math.floor(s/Dn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(Gr,s||0)),d=a*c;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,Bve(e,this,d,i,o),Eve(e,this,d,i,o),e.restore()}}function oV(t,e,r=e){t.lineCap=xr(r.borderCapStyle,e.borderCapStyle),t.setLineDash(xr(r.borderDash,e.borderDash)),t.lineDashOffset=xr(r.borderDashOffset,e.borderDashOffset),t.lineJoin=xr(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=xr(r.borderWidth,e.borderWidth),t.strokeStyle=xr(r.borderColor,e.borderColor)}function kve(t,e,r){t.lineTo(r.x,r.y)}function Pve(t){return t.stepped?Gxe:t.tension||t.cubicInterpolationMode==="monotone"?Xxe:kve}function lV(t,e,r={}){const s=t.length,{start:a=0,end:i=s-1}=r,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function Tve(t,e,r,s){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=lV(a,r,s),u=Pve(i);let{move:h=!0,reverse:m}=s||{},f,b,y;for(f=0;f<=d;++f)b=a[(l+(m?d-f:f))%o],!b.skip&&(h?(t.moveTo(b.x,b.y),h=!1):u(t,y,b,m,i.stepped),y=b);return c&&(b=a[(l+(m?d:0))%o],u(t,y,b,m,i.stepped)),!!c}function Fve(t,e,r,s){const a=e.points,{count:i,start:o,ilen:l}=lV(a,r,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,m,f,b,y,g,x;const v=B=>(o+(d?l-B:B))%i,j=()=>{y!==g&&(t.lineTo(u,g),t.lineTo(u,y),t.lineTo(u,x))};for(c&&(f=a[v(0)],t.moveTo(f.x,f.y)),m=0;m<=l;++m){if(f=a[v(m)],f.skip)continue;const B=f.x,C=f.y,E=B|0;E===b?(C<y?y=C:C>g&&(g=C),u=(h*u+B)/++h):(j(),t.lineTo(B,C),b=E,h=0,y=g=C),x=C}j()}function EB(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Fve:Tve}function Ove(t){return t.stepped?Eye:t.tension||t.cubicInterpolationMode==="monotone"?kye:CA}function Ive(t,e,r,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,s)&&a.closePath()),oV(t,e.options),t.stroke(a)}function Dve(t,e,r,s){const{segments:a,options:i}=e,o=EB(e);for(const l of a)oV(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+s-1})&&t.closePath(),t.stroke()}const Mve=typeof Path2D=="function";function Lve(t,e,r,s){Mve&&!e.options.segment?Ive(t,e,r,s):Dve(t,e,r,s)}class fm extends $d{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;vye(this._points,s,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Dye(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,s=e.length;return s&&r[e[s-1].end]}interpolate(e,r){const s=this.options,a=e[r],i=this.points,o=Vz(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=Ove(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:m}=o[d],f=i[h],b=i[m];if(f===b){l.push(f);continue}const y=Math.abs((a-f[r])/(b[r]-f[r])),g=c(f,b,y,s.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,s){return EB(this)(e,this,r,s)}path(e,r,s){const a=this.segments,i=EB(this);let o=this._loop;r=r||0,s=s||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+s-1});return!!o}draw(e,r,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Lve(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function ND(t,e,r,s){const a=t.options,{[r]:i}=t.getProps([r],s);return Math.abs(e-i)<a.radius+a.hitRadius}class R1 extends $d{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,s){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(e-i,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,r){return ND(this,e,"x",r)}inYRange(e,r){return ND(this,e,"y",r)}getCenterPoint(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const s=r&&e.borderWidth||0;return(r+s)*2}draw(e,r){const s=this.options;this.skip||s.radius<.1||!wd(this,r,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,CB(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function cV(t,e){const{x:r,y:s,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(r,a),c=Math.max(r,a),d=s-h,u=s+h):(h=i/2,l=r-h,c=r+h,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function sh(t,e,r,s){return t?0:Xa(e,r,s)}function Rve(t,e,r){const s=t.options.borderWidth,a=t.borderSkipped,i=Dz(s);return{t:sh(a.top,i.top,0,r),r:sh(a.right,i.right,0,e),b:sh(a.bottom,i.bottom,0,r),l:sh(a.left,i.left,0,e)}}function Uve(t,e,r){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=XA(a),o=Math.min(e,r),l=t.borderSkipped,c=s||Er(a);return{topLeft:sh(!c||l.top||l.left,i.topLeft,0,o),topRight:sh(!c||l.top||l.right,i.topRight,0,o),bottomLeft:sh(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:sh(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Qve(t){const e=cV(t),r=e.right-e.left,s=e.bottom-e.top,a=Rve(t,r/2,s/2),i=Uve(t,r/2,s/2);return{outer:{x:e.left,y:e.top,w:r,h:s,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function $N(t,e,r,s){const a=e===null,i=r===null,l=t&&!(a&&i)&&cV(t,s);return l&&(a||vd(e,l.left,l.right))&&(i||vd(r,l.top,l.bottom))}function $ve(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Hve(t,e){t.rect(e.x,e.y,e.w,e.h)}function HN(t,e,r={}){const s=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-s,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class jk extends $d{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=Qve(this),l=$ve(o.radius)?sx:Hve;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,HN(o,r,i)),e.clip(),l(e,HN(i,-r,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,HN(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,s){return $N(this,e,r,s)}inXRange(e,r){return $N(this,e,null,r)}inYRange(e,r){return $N(this,null,e,r)}getCenterPoint(e){const{x:r,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function qve(t,e,r){const s=t.segments,a=t.points,i=e.points,o=[];for(const l of s){let{start:c,end:d}=l;d=U1(c,d,a);const u=kB(r,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const h=Vz(e,u);for(const m of h){const f=kB(r,i[m.start],i[m.end],m.loop),b=zz(l,a,f);for(const y of b)o.push({source:y,target:m,start:{[r]:_D(u,f,"start",Math.max)},end:{[r]:_D(u,f,"end",Math.min)}})}}return o}function kB(t,e,r,s){if(s)return;let a=e[t],i=r[t];return t==="angle"&&(a=za(a),i=za(i)),{property:t,start:a,end:i}}function zve(t,e){const{x:r=null,y:s=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=U1(o,l,a);const c=a[o],d=a[l];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function U1(t,e,r){for(;e>t;e--){const s=r[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function _D(t,e,r,s){return t&&e?s(t[r],e[r]):t?t[r]:e?e[r]:0}function dV(t,e){let r=[],s=!1;return $n(t)?(s=!0,r=t):r=zve(t,e),r.length?new fm({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function CD(t){return t&&t.fill!==!1}function Vve(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!da(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function Kve(t,e,r){const s=Yve(t);if(Er(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return da(a)&&Math.floor(a)===a?Wve(s[0],e,a,r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Wve(t,e,r,s){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=s?!1:r}function Gve(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:Er(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Xve(t,e,r){let s;return t==="start"?s=r:t==="end"?s=e.options.reverse?e.min:e.max:Er(t)?s=t.value:s=e.getBaseValue(),s}function Yve(t){const e=t.options,r=e.fill;let s=xr(r&&r.target,r);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function Jve(t){const{scale:e,index:r,line:s}=t,a=[],i=s.segments,o=s.points,l=Zve(e,r);l.push(dV({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)ewe(a,o[u],l)}return new fm({points:a,options:{}})}function Zve(t,e){const r=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const i=s[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function ewe(t,e,r){const s=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=twe(i,e,"x");if(!(!c||o&&l)){if(o)s.unshift(c);else if(t.push(c),!l)break}}t.push(...s)}function twe(t,e,r){const s=t.interpolate(e,r);if(!s)return{};const a=s[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][r],m=o[u.end][r];if(vd(a,h,m)){l=a===h,c=a===m;break}}return{first:l,last:c,point:s}}class uV{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,s){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Dn},e.arc(a,i,o,r.end,r.start,!0),!s.bounds}interpolate(e){const{x:r,y:s,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:s+Math.sin(i)*a,angle:i}}}function rwe(t){const{chart:e,fill:r,line:s}=t;if(da(r))return nwe(e,r);if(r==="stack")return Jve(t);if(r==="shape")return!0;const a=swe(t);return a instanceof uV?a:dV(a,s)}function nwe(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function swe(t){return(t.scale||{}).getPointPositionForValue?iwe(t):awe(t)}function awe(t){const{scale:e={},fill:r}=t,s=Gve(r,e);if(da(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function iwe(t){const{scale:e,fill:r}=t,s=e.options,a=e.getLabels().length,i=s.reverse?e.max:e.min,o=Xve(r,e,i),l=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,i);return new uV({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function qN(t,e,r){const s=rwe(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:m=h,below:f=h}=u||{},b=a.getDatasetMeta(i),y=Kz(a,b);s&&o.points.length&&(I1(t,r),owe(t,{line:o,target:s,above:m,below:f,area:r,scale:l,axis:c,clip:y}),D1(t))}function owe(t,e){const{line:r,target:s,above:a,below:i,area:o,scale:l,clip:c}=e,d=r._loop?"angle":e.axis;t.save();let u=i;i!==a&&(d==="x"?(SD(t,s,o.top),zN(t,{line:r,target:s,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),SD(t,s,o.bottom)):d==="y"&&(BD(t,s,o.left),zN(t,{line:r,target:s,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),BD(t,s,o.right),u=a)),zN(t,{line:r,target:s,color:u,scale:l,property:d,clip:c}),t.restore()}function SD(t,e,r){const{segments:s,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],h=a[U1(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function BD(t,e,r){const{segments:s,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],h=a[U1(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,h.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function zN(t,e){const{line:r,target:s,property:a,color:i,scale:o,clip:l}=e,c=qve(r,s,a);for(const{source:d,target:u,start:h,end:m}of c){const{style:{backgroundColor:f=i}={}}=d,b=s!==!0;t.save(),t.fillStyle=f,lwe(t,o,l,b&&kB(a,h,m)),t.beginPath();const y=!!r.pathSegment(t,d);let g;if(b){y?t.closePath():ED(t,s,m,a);const x=!!s.pathSegment(t,u,{move:y,reverse:!0});g=y&&x,g||ED(t,s,h,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function lwe(t,e,r,s){const a=e.chart.chartArea,{property:i,start:o,end:l}=s||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=a.top,u=l,h=a.bottom):(c=a.left,d=o,u=a.right,h=l),t.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),h=Math.min(h,r.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function ED(t,e,r,s){const a=e.interpolate(r,s);a&&t.lineTo(a.x,a.y)}var Q1={id:"filler",afterDatasetsUpdate(t,e,r){const s=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof fm&&(c={visible:t.isDatasetVisible(o),index:o,fill:Kve(l,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<s;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=Vve(a,o,r.propagate))},beforeDraw(t,e,r){const s=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),s&&l.fill&&qN(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const i=s[a].$filler;CD(i)&&qN(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const s=e.meta.$filler;!CD(s)||r.drawTime!=="beforeDatasetDraw"||qN(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const kD=(t,e)=>{let{boxHeight:r=e,boxWidth:s=e}=t;return t.usePointStyle&&(r=Math.min(r,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(e,r)}},cwe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let PD=class extends $d{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,s){this.maxWidth=e,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Nn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(s=>e.filter(s,this.chart.data))),e.sort&&(r=r.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=Hs(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=kD(s,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let m=-1,f=-u;return this.legendItems.forEach((b,y)=>{const g=s+r/2+i.measureText(b.text).width;(y===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(y>0?0:1)]=0,f+=u,m++),c[y]={left:0,top:f,row:m,width:g,height:a},d[d.length-1]+=g+l}),h}_fitCols(e,r,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,m=0,f=0,b=0,y=0;return this.legendItems.forEach((g,x)=>{const{itemWidth:v,itemHeight:j}=dwe(s,r,i,g,a);x>0&&f+j+2*l>u&&(h+=m+l,d.push({width:m,height:f}),b+=m+l,y++,m=f=0),c[x]={left:b,top:f,col:y,width:v,height:j},m=Math.max(m,v),f+=j+l}),h+=m,d.push({width:m,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:a},rtl:i}}=this,o=rp(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=$a(s,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=$a(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=$a(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=$a(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;I1(e,this),this._draw(),D1(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:s,ctx:a}=this,{align:i,labels:o}=e,l=as.color,c=rp(e.rtl,this.left,this.width),d=Hs(o.font),{padding:u}=o,h=d.size,m=h/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:b,boxHeight:y,itemHeight:g}=kD(o,h),x=function(E,M,S){if(isNaN(b)||b<=0||isNaN(y)||y<0)return;a.save();const k=xr(S.lineWidth,1);if(a.fillStyle=xr(S.fillStyle,l),a.lineCap=xr(S.lineCap,"butt"),a.lineDashOffset=xr(S.lineDashOffset,0),a.lineJoin=xr(S.lineJoin,"miter"),a.lineWidth=k,a.strokeStyle=xr(S.strokeStyle,l),a.setLineDash(xr(S.lineDash,[])),o.usePointStyle){const I={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:k},_=c.xPlus(E,b/2),T=M+m;Iz(a,I,_,T,o.pointStyleWidth&&b)}else{const I=M+Math.max((h-y)/2,0),_=c.leftForLtr(E,b),T=XA(S.borderRadius);a.beginPath(),Object.values(T).some(D=>D!==0)?sx(a,{x:_,y:I,w:b,h:y,radius:T}):a.rect(_,I,b,y),a.fill(),k!==0&&a.stroke()}a.restore()},v=function(E,M,S){nm(a,S.text,E,M+g/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},j=this.isHorizontal(),B=this._computeTitleHeight();j?f={x:$a(i,this.left+u,this.right-s[0]),y:this.top+u+B,line:0}:f={x:this.left+u,y:$a(i,this.top+B+u,this.bottom-r[0].height),line:0},$z(this.ctx,e.textDirection);const C=g+u;this.legendItems.forEach((E,M)=>{a.strokeStyle=E.fontColor,a.fillStyle=E.fontColor;const S=a.measureText(E.text).width,k=c.textAlign(E.textAlign||(E.textAlign=o.textAlign)),I=b+m+S;let _=f.x,T=f.y;c.setWidth(this.width),j?M>0&&_+I+u>this.right&&(T=f.y+=C,f.line++,_=f.x=$a(i,this.left+u,this.right-s[f.line])):M>0&&T+C>this.bottom&&(_=f.x=_+r[f.line].width+u,f.line++,T=f.y=$a(i,this.top+B+u,this.bottom-r[f.line].height));const D=c.x(_);if(x(D,T,E),_=Ixe(k,_+b+m,j?_+I:this.right,e.rtl),v(c.x(_),T,E),j)f.x+=I+u;else if(typeof E.text!="string"){const L=d.lineHeight;f.y+=hV(E,L)+u}else f.y+=C}),Hz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,s=Hs(r.font),a=Za(r.padding);if(!r.display)return;const i=rp(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=s.size/2,d=a.top+c;let u,h=this.left,m=this.width;if(this.isHorizontal())m=Math.max(...this.lineWidths),u=this.top+d,h=$a(e.align,h,this.right-m);else{const b=this.columnSizes.reduce((y,g)=>Math.max(y,g.height),0);u=d+$a(e.align,this.top,this.bottom-b-e.labels.padding-this._computeTitleHeight())}const f=$a(l,h,h+m);o.textAlign=i.textAlign(uk(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=s.string,nm(o,r.text,f,u,s)}_computeTitleHeight(){const e=this.options.title,r=Hs(e.font),s=Za(e.padding);return e.display?r.lineHeight+s.height:0}_getLegendItemAt(e,r){let s,a,i;if(vd(e,this.left,this.right)&&vd(r,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],vd(e,a.left,a.left+a.width)&&vd(r,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const r=this.options;if(!Awe(e.type,r))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=cwe(a,s);a&&!i&&Nn(r.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&Nn(r.onHover,[e,s,this],this)}else s&&Nn(r.onClick,[e,s,this],this)}};function dwe(t,e,r,s,a){const i=uwe(s,t,e,r),o=hwe(a,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function uwe(t,e,r,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+s.measureText(a).width}function hwe(t,e,r){let s=t;return typeof e.text!="string"&&(s=hV(e,r)),s}function hV(t,e){const r=t.text?t.text.length:0;return e*r}function Awe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var $1={id:"legend",_element:PD,start(t,e,r){const s=t.legend=new PD({ctx:t.ctx,options:r,chart:t});qo.configure(t,s,r),qo.addBox(t,s)},stop(t){qo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const s=t.legend;qo.configure(t,s,r),s.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const s=e.datasetIndex,a=r.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=Za(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class AV extends $d{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=$n(s.text)?s.text.length:1;this._padding=Za(s.padding);const i=a*Hs(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:s,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=$a(l,s,i),h=r+e,d=i-s):(o.position==="left"?(u=s+e,h=$a(l,a,r),c=Gr*-.5):(u=i-e,h=$a(l,r,a),c=Gr*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const s=Hs(r.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);nm(e,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:uk(r.align),textBaseline:"middle",translation:[o,l]})}}function mwe(t,e){const r=new AV({ctx:t.ctx,options:e,chart:t});qo.configure(t,r,e),qo.addBox(t,r),t.titleBlock=r}var H1={id:"title",_element:AV,start(t,e,r){mwe(t,r)},stop(t){const e=t.titleBlock;qo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const s=t.titleBlock;qo.configure(t,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const t0={average(t){if(!t.length)return!1;let e,r,s=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,s=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=NB(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,s=c.y}return{x:r,y:s}}};function oc(t,e){return e&&($n(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function pd(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fwe(t,e){const{element:r,datasetIndex:s,index:a}=e,i=t.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:r}}function TD(t,e){const r=t.chart.ctx,{body:s,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=Hs(e.bodyFont),d=Hs(e.titleFont),u=Hs(e.footerFont),h=i.length,m=a.length,f=s.length,b=Za(e.padding);let y=b.height,g=0,x=s.reduce((B,C)=>B+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),x){const B=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=f*B+(x-f)*c.lineHeight+(x-1)*e.bodySpacing}m&&(y+=e.footerMarginTop+m*u.lineHeight+(m-1)*e.footerSpacing);let v=0;const j=function(B){g=Math.max(g,r.measureText(B).width+v)};return r.save(),r.font=d.string,cn(t.title,j),r.font=c.string,cn(t.beforeBody.concat(t.afterBody),j),v=e.displayColors?o+2+e.boxPadding:0,cn(s,B=>{cn(B.before,j),cn(B.lines,j),cn(B.after,j)}),v=0,r.font=u.string,cn(t.footer,j),r.restore(),g+=b.width,{width:g,height:y}}function pwe(t,e){const{y:r,height:s}=e;return r<s/2?"top":r>t.height-s/2?"bottom":"center"}function gwe(t,e,r,s){const{x:a,width:i}=s,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function xwe(t,e,r,s){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),gwe(d,t,e,r)&&(d="center"),d}function FD(t,e,r){const s=r.yAlign||e.yAlign||pwe(t,r);return{xAlign:r.xAlign||e.xAlign||xwe(t,e,r,s),yAlign:s}}function ywe(t,e){let{x:r,width:s}=t;return e==="right"?r-=s:e==="center"&&(r-=s/2),r}function bwe(t,e,r){let{y:s,height:a}=t;return e==="top"?s+=r:e==="bottom"?s-=a+r:s-=a/2,s}function OD(t,e,r,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:m,bottomRight:f}=XA(o);let b=ywe(e,l);const y=bwe(e,c,d);return c==="center"?l==="left"?b+=d:l==="right"&&(b-=d):l==="left"?b-=Math.max(u,m)+a:l==="right"&&(b+=Math.max(h,f)+a),{x:Xa(b,0,s.width-e.width),y:Xa(y,0,s.height-e.height)}}function Hb(t,e,r){const s=Za(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function ID(t){return oc([],pd(t))}function vwe(t,e,r){return Eh(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function DD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const mV={beforeTitle:hd,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return r[e.dataIndex]}return""},afterTitle:hd,beforeBody:hd,beforeLabel:hd,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Rr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:hd,afterBody:hd,beforeFooter:hd,footer:hd,afterFooter:hd};function Di(t,e,r,s){const a=t[e].call(r,s);return typeof a>"u"?mV[e].call(r,s):a}let MD=class extends $d{static positioners=t0;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&r.options.animation&&s.animations,i=new Wz(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=vwe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:s}=r,a=Di(s,"beforeTitle",this,e),i=Di(s,"title",this,e),o=Di(s,"afterTitle",this,e);let l=[];return l=oc(l,pd(a)),l=oc(l,pd(i)),l=oc(l,pd(o)),l}getBeforeBody(e,r){return ID(Di(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:s}=r,a=[];return cn(e,i=>{const o={before:[],lines:[],after:[]},l=DD(s,i);oc(o.before,pd(Di(l,"beforeLabel",this,i))),oc(o.lines,Di(l,"label",this,i)),oc(o.after,pd(Di(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return ID(Di(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:s}=r,a=Di(s,"beforeFooter",this,e),i=Di(s,"footer",this,e),o=Di(s,"afterFooter",this,e);let l=[];return l=oc(l,pd(a)),l=oc(l,pd(i)),l=oc(l,pd(o)),l}_createItems(e){const r=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(fwe(this.chart,r[c]));return e.filter&&(l=l.filter((u,h,m)=>e.filter(u,h,m,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),cn(l,u=>{const h=DD(e.callbacks,u);a.push(Di(h,"labelColor",this,u)),i.push(Di(h,"labelPointStyle",this,u)),o.push(Di(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=t0[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=TD(this,s),d=Object.assign({},l,c),u=FD(this.chart,s,d),h=OD(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,s,a){const i=this.getCaretPosition(e,s,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=XA(l),{x:m,y:f}=e,{width:b,height:y}=r;let g,x,v,j,B,C;return i==="center"?(B=f+y/2,a==="left"?(g=m,x=g-o,j=B+o,C=B-o):(g=m+b,x=g+o,j=B-o,C=B+o),v=g):(a==="left"?x=m+Math.max(c,u)+o:a==="right"?x=m+b-Math.max(d,h)-o:x=this.caretX,i==="top"?(j=f,B=j-o,g=x-o,v=x+o):(j=f+y,B=j+o,g=x+o,v=x-o),C=j),{x1:g,x2:x,x3:v,y1:j,y2:B,y3:C}}drawTitle(e,r,s){const a=this.title,i=a.length;let o,l,c;if(i){const d=rp(s.rtl,this.x,this.width);for(e.x=Hb(this,s.titleAlign,s),r.textAlign=d.textAlign(s.titleAlign),r.textBaseline="middle",o=Hs(s.titleFont),l=s.titleSpacing,r.fillStyle=s.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,r,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=Hs(i.bodyFont),h=Hb(this,"left",i),m=a.x(h),f=c<u.lineHeight?(u.lineHeight-c)/2:0,b=r.y+f;if(i.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(m,d)+d/2,x=b+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,CB(e,y,g,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,CB(e,y,g,x)}else{e.lineWidth=Er(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=a.leftForLtr(m,d),g=a.leftForLtr(a.xPlus(m,1),d-2),x=XA(o.borderRadius);Object.values(x).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,sx(e,{x:y,y:b,w:d,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),sx(e,{x:g,y:b+1,w:d-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,b,d,c),e.strokeRect(y,b,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,b+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,r,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=Hs(s.bodyFont);let m=h.lineHeight,f=0;const b=rp(s.rtl,this.x,this.width),y=function(S){r.fillText(S,b.x(e.x+f),e.y+m/2),e.y+=m+i},g=b.textAlign(o);let x,v,j,B,C,E,M;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,e.x=Hb(this,g,s),r.fillStyle=s.bodyColor,cn(this.beforeBody,y),f=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,B=0,E=a.length;B<E;++B){for(x=a[B],v=this.labelTextColors[B],r.fillStyle=v,cn(x.before,y),j=x.lines,l&&j.length&&(this._drawColorBox(r,e,B,b,s),m=Math.max(h.lineHeight,c)),C=0,M=j.length;C<M;++C)y(j[C]),m=h.lineHeight;cn(x.after,y)}f=0,m=h.lineHeight,cn(this.afterBody,y),e.y-=i}drawFooter(e,r,s){const a=this.footer,i=a.length;let o,l;if(i){const c=rp(s.rtl,this.x,this.width);for(e.x=Hb(this,s.footerAlign,s),e.y+=s.footerMarginTop,r.textAlign=c.textAlign(s.footerAlign),r.textBaseline="middle",o=Hs(s.footerFont),r.fillStyle=s.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,r,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:m,bottomLeft:f,bottomRight:b}=XA(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(e,r,s,a),r.lineTo(l+d-m,c),r.quadraticCurveTo(l+d,c,l+d,c+m),o==="center"&&i==="right"&&this.drawCaret(e,r,s,a),r.lineTo(l+d,c+u-b),r.quadraticCurveTo(l+d,c+u,l+d-b,c+u),o==="bottom"&&this.drawCaret(e,r,s,a),r.lineTo(l+f,c+u),r.quadraticCurveTo(l,c+u,l,c+u-f),o==="center"&&i==="left"&&this.drawCaret(e,r,s,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=t0[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=TD(this,e),c=Object.assign({},o,this._size),d=FD(r,e,c),u=OD(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=Za(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,a,r),$z(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),Hz(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!nw(s,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,s),l=this._positionChanged(o,e),c=r||!nw(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,s,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:s,caretY:a,options:i}=this,o=t0[i.position].call(this,e,r);return o!==!1&&(s!==o.x||a!==o.y)}};var q1={id:"tooltip",_element:MD,positioners:t0,afterInit(t,e,r){r&&(t.tooltip=new MD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:mV},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const wwe=(t,e,r,s)=>(typeof e=="string"?(r=t.push(e)-1,s.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function jwe(t,e,r,s){const a=t.indexOf(e);if(a===-1)return wwe(t,e,r,s);const i=t.lastIndexOf(e);return a!==i?r:a}const Nwe=(t,e)=>t===null?null:Xa(Math.round(t),0,e);function LD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class z1 extends qp{static id="category";static defaults={ticks:{callback:LD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:a,label:i}of r)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Rr(e))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===e?r:jwe(s,e,xr(r,e),this._addedLabels),Nwe(r,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),r||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,r=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return LD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function _we(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:m}=t,f=i||1,b=u-1,{min:y,max:g}=e,x=!Rr(o),v=!Rr(l),j=!Rr(d),B=(g-y)/(h+1);let C=II((g-y)/b/f)*f,E,M,S,k;if(C<1e-14&&!x&&!v)return[{value:y},{value:g}];k=Math.ceil(g/C)-Math.floor(y/C),k>b&&(C=II(k*C/b/f)*f),Rr(c)||(E=Math.pow(10,c),C=Math.ceil(C*E)/E),a==="ticks"?(M=Math.floor(y/C)*C,S=Math.ceil(g/C)*C):(M=y,S=g),x&&v&&i&&Sxe((l-o)/i,C/1e3)?(k=Math.round(Math.min((l-o)/C,u)),C=(l-o)/k,M=o,S=l):j?(M=x?o:M,S=v?l:S,k=d-1,C=(S-M)/k):(k=(S-M)/C,j0(k,Math.round(k),C/1e3)?k=Math.round(k):k=Math.ceil(k));const I=Math.max(DI(C),DI(M));E=Math.pow(10,Rr(c)?I:c),M=Math.round(M*E)/E,S=Math.round(S*E)/E;let _=0;for(x&&(m&&M!==o?(r.push({value:o}),M<o&&_++,j0(Math.round((M+_*C)*E)/E,o,RD(o,B,t))&&_++):M<o&&_++);_<k;++_){const T=Math.round((M+_*C)*E)/E;if(v&&T>l)break;r.push({value:T})}return v&&m&&S!==l?r.length&&j0(r[r.length-1].value,l,RD(l,B,t))?r[r.length-1].value=l:r.push({value:l}):(!v||S===l)&&r.push({value:S}),r}function RD(t,e,{horizontal:r,minRotation:s}){const a=mc(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class PB extends qp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Rr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=s?i:c;if(e){const c=vc(a),d=vc(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=_we(a,i);return e.bounds==="ticks"&&Bxe(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-r)/Math.max(e.length-1,1)/2;r-=a,s+=a}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(e){return Ak(e,this.chart.options.locale,this.options.ticks.format)}}class V1 extends PB{static id="linear";static defaults={ticks:{callback:mk.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=da(e)?e:0,this.max=da(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,s=mc(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function TB(t){const e=t.ticks;if(e.display&&t.display){const r=Za(e.backdropPadding);return xr(e.font&&e.font.size,as.font.size)+r.height}return 0}function Cwe(t,e,r){return r=$n(r)?r:[r],{w:Wxe(t,e.string,r),h:r.length*e.lineHeight}}function UD(t,e,r,s,a){return t===s||t===a?{start:e-r/2,end:e+r/2}:t<s||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Swe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),s=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,l=o.centerPointLabels?Gr/i:0;for(let c=0;c<i;c++){const d=o.setContext(t.getPointLabelContext(c));a[c]=d.padding;const u=t.getPointPosition(c,t.drawingArea+a[c],l),h=Hs(d.font),m=Cwe(t.ctx,h,t._pointLabels[c]);s[c]=m;const f=za(t.getIndexAngle(c)+l),b=Math.round(ck(f)),y=UD(b,u.x,m.w,0,180),g=UD(b,u.y,m.h,90,270);Bwe(r,e,f,y,g)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=Pwe(t,s,a)}function Bwe(t,e,r,s,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let l=0,c=0;s.start<e.l?(l=(e.l-s.start)/i,t.l=Math.min(t.l,e.l-l)):s.end>e.r&&(l=(s.end-e.r)/i,t.r=Math.max(t.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function Ewe(t,e,r){const s=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:l}=r,c=t.getPointPosition(e,s+a+o,i),d=Math.round(ck(za(c.angle+gs))),u=Owe(c.y,l.h,d),h=Twe(d),m=Fwe(c.x,l.w,h);return{visible:!0,x:c.x,y:u,textAlign:h,left:m,top:u,right:m+l.w,bottom:u+l.h}}function kwe(t,e){if(!e)return!0;const{left:r,top:s,right:a,bottom:i}=t;return!(wd({x:r,y:s},e)||wd({x:r,y:i},e)||wd({x:a,y:s},e)||wd({x:a,y:i},e))}function Pwe(t,e,r){const s=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:l}=i.pointLabels,c={extra:TB(i)/2,additionalAngle:o?Gr/a:0};let d;for(let u=0;u<a;u++){c.padding=r[u],c.size=e[u];const h=Ewe(t,u,c);s.push(h),l==="auto"&&(h.visible=kwe(h,d),h.visible&&(d=h))}return s}function Twe(t){return t===0||t===180?"center":t<180?"left":"right"}function Fwe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function Owe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function Iwe(t,e,r){const{left:s,top:a,right:i,bottom:o}=r,{backdropColor:l}=e;if(!Rr(l)){const c=XA(e.borderRadius),d=Za(e.backdropPadding);t.fillStyle=l;const u=s-d.left,h=a-d.top,m=i-s+d.width,f=o-a+d.height;Object.values(c).some(b=>b!==0)?(t.beginPath(),sx(t,{x:u,y:h,w:m,h:f,radius:c}),t.fill()):t.fillRect(u,h,m,f)}}function Dwe(t,e){const{ctx:r,options:{pointLabels:s}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=s.setContext(t.getPointLabelContext(a));Iwe(r,o,i);const l=Hs(o.font),{x:c,y:d,textAlign:u}=i;nm(r,t._pointLabels[a],c,d+l.lineHeight/2,l,{color:o.color,textAlign:u,textBaseline:"middle"})}}function fV(t,e,r,s){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Dn);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function Mwe(t,e,r,s,a){const i=t.ctx,o=e.circular,{color:l,lineWidth:c}=e;!o&&!s||!l||!c||r<0||(i.save(),i.strokeStyle=l,i.lineWidth=c,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),fV(t,r,o,s),i.closePath(),i.stroke(),i.restore())}function Lwe(t,e,r){return Eh(t,{label:r,index:e,type:"pointLabel"})}class Rwe extends PB{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Za(TB(this.options)/2),r=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(r,s)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=da(e)&&!isNaN(e)?e:0,this.max=da(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/TB(this.options))}generateTickLabels(e){PB.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,s)=>{const a=Nn(this.options.pointLabels.callback,[r,s],this);return a||a===0?a:""}).filter((r,s)=>this.chart.getDataVisibility(s))}fit(){const e=this.options;e.display&&e.pointLabels.display?Swe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,s,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((s-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,s,a))}getIndexAngle(e){const r=Dn/(this._pointLabels.length||1),s=this.options.startAngle||0;return za(e*r+mc(s))}getDistanceFromCenterForValue(e){if(Rr(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Rr(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const s=r[e];return Lwe(this.getContext(),e,s)}}getPointPosition(e,r,s=0){const a=this.getIndexAngle(e)-gs+s;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:s,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:s,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const s=this.ctx;s.save(),s.beginPath(),fV(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:s,grid:a,border:i}=r,o=this._pointLabels.length;let l,c,d;if(r.pointLabels.display&&Dwe(this,o),a.display&&this.ticks.forEach((u,h)=>{if(h!==0||h===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);const m=this.getContext(h),f=a.setContext(m),b=i.setContext(m);Mwe(this,f,c,o,b)}}),s.display){for(e.save(),l=o-1;l>=0;l--){const u=s.setContext(this.getPointLabelContext(l)),{color:h,lineWidth:m}=u;!m||!h||(e.lineWidth=m,e.strokeStyle=h,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,s=r.ticks;if(!s.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(c===0&&this.min>=0&&!r.reverse)return;const d=s.setContext(this.getContext(c)),u=Hs(d.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=u.string,o=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const h=Za(d.backdropPadding);e.fillRect(-o/2-h.left,-i-u.size/2-h.top,o+h.width,u.size+h.height)}nm(e,l.label,0,-i,u,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}const K1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Li=Object.keys(K1);function QD(t,e){return t-e}function $D(t,e){if(Rr(e))return null;const r=t._adapter,{parser:s,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),da(o)||(o=typeof s=="string"?r.parse(o,s):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(rx(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function HD(t,e,r,s){const a=Li.length;for(let i=Li.indexOf(t);i<a-1;++i){const o=K1[Li[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=s)return Li[i]}return Li[a-1]}function Uwe(t,e,r,s,a){for(let i=Li.length-1;i>=Li.indexOf(r);i--){const o=Li[i];if(K1[o].common&&t._adapter.diff(a,s,o)>=e-1)return o}return Li[r?Li.indexOf(r):0]}function Qwe(t){for(let e=Li.indexOf(t)+1,r=Li.length;e<r;++e)if(K1[Li[e]].common)return Li[e]}function qD(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:s,hi:a}=dk(r,e),i=r[s]>=e?r[s]:r[a];t[i]=!0}}function $we(t,e,r,s){const a=t._adapter,i=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=r[l],c>=0&&(e[c].major=!0);return e}function zD(t,e,r){const s=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return i===0||!r?s:$we(t,s,a,r)}class VD extends qp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const s=e.time||(e.time={}),a=this._adapter=new fbe._date(e.adapters.date);a.init(r),w0(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:$D(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,s=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=da(a)&&!isNaN(a)?a:+r.startOf(Date.now(),s),i=da(i)&&!isNaN(i)?i:+r.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],s=e[e.length-1]),{min:r,max:s}}buildTicks(){const e=this.options,r=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=Txe(a,i,o);return this._unit=r.unit||(s.autoSkip?HD(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):Uwe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Qwe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),zD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,s=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Xa(r,0,o),s=Xa(s,0,o),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,r=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||HD(i.minUnit,r,s,this._getLabelCapacity(r)),l=xr(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=rx(c)||c===!0,u={};let h=r,m,f;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,r,o)>1e5*l)throw new Error(r+" and "+s+" are too far apart with stepSize of "+l+" "+o);const b=a.ticks.source==="data"&&this.getDataTimestamps();for(m=h,f=0;m<s;m=+e.add(m,l,o),f++)qD(u,m,b);return(m===s||a.bounds==="ticks"||f===1)&&qD(u,m,b),Object.keys(u).sort(QD).map(y=>+y)}getLabelForValue(e){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(e,s.tooltipFormat):r.format(e,s.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,s,a){const i=this.options,o=i.ticks.callback;if(o)return Nn(o,[e,r,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],m=s[r],f=d&&h&&m&&m.major;return this._adapter.format(e,a||(f?h:u))}generateTickLabels(e){let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,s=this.ctx.measureText(e).width,a=mc(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const r=this.options.time,s=r.displayFormats,a=s[r.unit]||s.millisecond,i=this._tickFormatFunction(e,0,zD(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,s=a.length;r<s;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,s;if(e.length)return e;const a=this.getLabels();for(r=0,s=a.length;r<s;++r)e.push($D(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tz(e.sort(QD))}}function qb(t,e,r){let s=0,a=t.length-1,i,o,l,c;r?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=RA(t,"pos",e)),{pos:i,time:l}=t[s],{pos:o,time:c}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=RA(t,"time",e)),{time:i,pos:l}=t[s],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class mDe extends VD{static id="timeseries";static defaults=VD.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=qb(r,this.min),this._tableRange=qb(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:s}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=s&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?e=this.normalize(r.concat(s)):e=r.length?r:s,e=this._cache.all=e,e}getDecimalForValue(e){return(qb(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return qb(this._table,s*this._tableRange+this._minPos,!0)}}const pV="label";function KD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Hwe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function gV(t,e){t.labels=e}function xV(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pV;const s=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function qwe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pV;const r={labels:[],datasets:[]};return gV(r,t.labels),xV(r,t.datasets,e),r}function zwe(t,e){const{height:r=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=t,f=F.useRef(null),b=F.useRef(null),y=()=>{f.current&&(b.current=new mm(f.current,{type:o,data:qwe(l,i),options:c&&{...c},plugins:d}),KD(e,b.current))},g=()=>{KD(e,null),b.current&&(b.current.destroy(),b.current=null)};return F.useEffect(()=>{!a&&b.current&&c&&Hwe(b.current,c)},[a,c]),F.useEffect(()=>{!a&&b.current&&gV(b.current.config.data,l.labels)},[a,l.labels]),F.useEffect(()=>{!a&&b.current&&l.datasets&&xV(b.current.config.data,l.datasets,i)},[a,l.datasets]),F.useEffect(()=>{b.current&&(a?(g(),setTimeout(y)):b.current.update(h))},[a,c,l.labels,l.datasets,h]),F.useEffect(()=>{b.current&&(g(),setTimeout(y))},[o]),F.useEffect(()=>(y(),()=>g()),[]),ke.createElement("canvas",{ref:f,role:"img",height:r,width:s,...m},u)}const Vwe=F.forwardRef(zwe);function Zx(t,e){return mm.register(e),F.forwardRef((r,s)=>ke.createElement(Vwe,{...r,ref:s,type:t}))}const dw=Zx("line",hbe),C0=Zx("bar",dbe),Kwe=Zx("radar",mbe),Wwe=Zx("doughnut",Yz),Nv=Zx("pie",Abe);mm.register(z1,V1,jk,H1,q1,$1,wk,R1,fm,Q1);const yV=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState("service-orders"),[s,a]=F.useState("month"),[i,o]=F.useState(""),[l,c]=F.useState(""),[d,u]=F.useState(!1),[h,m]=F.useState(!1),[f,b]=F.useState(!1),[y,g]=F.useState(null),[x,v]=F.useState(0),B=[{id:"service-orders",name:"Ordens de Serviço",icon:yi,adminOnly:!1},{id:"inventory",name:"Movimentação de Estoque",icon:$t,adminOnly:!1},{id:"technicians",name:"Desempenho de Técnicos",icon:Zt,adminOnly:!0},{id:"financial",name:"Relatório Financeiro",icon:pr,adminOnly:!0}].filter(U=>!U.adminOnly||U.adminOnly&&t),C=()=>{console.log("Generating report:",{type:e,dateRange:s,startDate:i,endDate:l}),u(!0)},E=U=>{console.log(`Exporting report as ${U}`),alert(`Relatório exportado como ${U}`)},M=[{month:"Jan",income:12500,expense:8200},{month:"Fev",income:14800,expense:9100},{month:"Mar",income:13200,expense:8700},{month:"Abr",income:15850,expense:9320},{month:"Mai",income:16200,expense:9800},{month:"Jun",income:17500,expense:10200}],S=[{name:"Concluídos",value:5},{name:"Em Progresso",value:6},{name:"Planejados",value:1}],k=[{name:"Serviços",value:15850},{name:"Materiais",value:4200},{name:"Administrativo",value:3e3},{name:"Folha de Pagamento",value:8500}],I={labels:M.map(U=>U.month),datasets:[{label:"Receitas",data:M.map(U=>U.income),backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"rgb(74, 222, 128)",borderWidth:1},{label:"Despesas",data:M.map(U=>U.expense),backgroundColor:"rgba(248, 113, 113, 0.6)",borderColor:"rgb(248, 113, 113)",borderWidth:1}]},_={labels:S.map(U=>U.name),datasets:[{data:S.map(U=>U.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)"],borderWidth:1}]},T={labels:M.map(U=>U.month),datasets:[{label:"Receitas",data:M.map(U=>U.income),borderColor:"rgb(74, 222, 128)",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.3,fill:!0},{label:"Despesas",data:M.map(U=>U.expense),borderColor:"rgb(248, 113, 113)",backgroundColor:"rgba(248, 113, 113, 0.1)",tension:.3,fill:!0}]},D=5,L=[{id:1,name:"Relatório de OS - Dezembro 2023",type:"Ordens de Serviço",date:"2023-12-15",user:"Admin Demo"},{id:2,name:"Movimentação de Estoque - Dezembro 2023",type:"Estoque",date:"2023-12-14",user:"Admin Demo"},{id:3,name:"Desempenho de Técnicos - Novembro 2023",type:"Desempenho",date:"2023-12-01",user:"Admin Demo"},{id:4,name:"Relatório Financeiro - Dezembro 2023",type:"Financeiro",date:"2023-12-31",user:"Admin Demo"},{id:5,name:"Análise de Clientes - Dezembro 2023",type:"Clientes",date:"2023-12-20",user:"Admin Demo"},{id:6,name:"Relatório de OS - Novembro 2023",type:"Ordens de Serviço",date:"2023-11-30",user:"Admin Demo"},{id:7,name:"Movimentação de Estoque - Novembro 2023",type:"Estoque",date:"2023-11-29",user:"Admin Demo"},{id:8,name:"Desempenho de Técnicos - Outubro 2023",type:"Desempenho",date:"2023-11-01",user:"Admin Demo"},{id:9,name:"Relatório Financeiro - Novembro 2023",type:"Financeiro",date:"2023-11-30",user:"Admin Demo"},{id:10,name:"Análise de Clientes - Novembro 2023",type:"Clientes",date:"2023-11-20",user:"Admin Demo"}],V=Math.ceil(L.length/D),z=L.slice(x*D,(x+1)*D),[Z,G]=F.useState(null),[H,ee]=F.useState("bar"),Y=(U,te)=>{G(JSON.parse(JSON.stringify(te))),ee(U),b(!0)},q=(U,te,X)=>{if(!Z)return;const se={...Z};if(te==="label")se.labels[U]=X;else{const fe=parseInt(te.split("-")[1]),me=te.split("-")[2];me==="label"?se.datasets[fe].label=X:me==="data"&&(se.datasets[fe].data[U]=parseFloat(X)||0)}G(se)};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios"}),n.jsxs("button",{onClick:()=>m(!h),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(p1,{className:"h-4 w-4"}),n.jsx("span",{children:"Filtros"}),n.jsx(oo,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:n.jsx(yi,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"48"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Ordens de Serviço"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:n.jsx($t,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"156"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Itens em Estoque"})]}),t&&n.jsxs(n.Fragment,{children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:n.jsx(Zt,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"8"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Técnicos Ativos"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:n.jsx(pr,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"R$ 15.850"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Faturamento Mensal"})]})]})]}),n.jsx(Nt,{children:h&&n.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx(vt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Gerador de Relatórios"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Relatório"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(U=>n.jsxs("button",{type:"button",onClick:()=>r(U.id),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${e===U.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[n.jsx(U.icon,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:U.name})]},U.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Período"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("button",{type:"button",onClick:()=>a("week"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="week"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Última Semana"}),n.jsx("button",{type:"button",onClick:()=>a("month"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="month"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Último Mês"}),n.jsx("button",{type:"button",onClick:()=>a("custom"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="custom"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Personalizado"})]})]}),s==="custom"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:i,onChange:U=>o(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:s==="custom"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:l,onChange:U=>c(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:s==="custom"})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsxs("button",{type:"button",onClick:C,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[n.jsx(oa,{className:"h-5 w-5 mr-2"}),"Gerar Relatório"]})})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Pré-visualização"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>E("pdf"),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Exportar como PDF",children:n.jsx(vt,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>E("excel"),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Exportar como Excel",children:n.jsx(ys,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>E("print"),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Imprimir",children:n.jsx(ph,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?n.jsx("div",{className:"w-full h-full",children:n.jsx("div",{className:"h-40 w-full bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:n.jsx(C0,{data:I,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})}):n.jsxs("div",{className:"text-center",children:[n.jsx(oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione as opções e gere o relatório"}),n.jsx("p",{className:"text-sm text-gray-400",children:"A pré-visualização aparecerá aqui"})]})})]})]})]})})}),d&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas vs Despesas"}),n.jsxs("button",{onClick:()=>Y("bar",I),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-80",children:n.jsx(C0,{data:I,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendência de Fluxo de Caixa"}),n.jsxs("button",{onClick:()=>Y("line",T),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-80",children:n.jsx(dw,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendência de Fluxo de Caixa"}}}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status dos Projetos"}),n.jsxs("button",{onClick:()=>Y("pie",_),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(Nv,{data:_,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorias de Transações"}),n.jsxs("button",{onClick:()=>Y("pie",_),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(Nv,{data:{labels:k.map(U=>U.name),datasets:[{data:k.map(U=>U.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)","rgba(248, 113, 113, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(248, 113, 113)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Categorias de Transações"}}}})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx(vt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Relatórios Recentes"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gerado por"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(U=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:U.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:new Date(U.date).toLocaleDateString("pt-BR")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:U.user})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:n.jsx(la,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",children:n.jsx(ys,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(ph,{className:"h-4 w-4"})})]})})]},U.id))})]})}),V>1&&n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("button",{onClick:()=>v(U=>Math.max(0,U-1)),disabled:x===0,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${x===0?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[n.jsx(Qd,{className:"h-4 w-4"}),n.jsx("span",{children:"Anterior"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",x+1," de ",V]}),n.jsxs("button",{onClick:()=>v(U=>Math.min(V-1,U+1)),disabled:x===V-1,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${x===V-1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[n.jsx("span",{children:"Próximo"}),n.jsx(uo,{className:"h-4 w-4"})]})]})]}),n.jsx(Nt,{children:f&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Gráfico"}),n.jsx("button",{onClick:()=>b(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Gráfico"}),n.jsxs("select",{value:H,onChange:U=>ee(U.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"bar",children:"Barras"}),n.jsx("option",{value:"line",children:"Linhas"}),n.jsx("option",{value:"pie",children:"Pizza"}),n.jsx("option",{value:"area",children:"Área"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{children:"Padrão"}),n.jsx("option",{children:"Gradiente"}),n.jsx("option",{children:"Monocromático"}),n.jsx("option",{children:"Pastel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do Gráfico"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mês"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receitas"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Despesas"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((U,te)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"text",defaultValue:U.month,onChange:X=>q(te,"label",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",defaultValue:U.income,onChange:X=>q(te,"0-data",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",defaultValue:U.expense,onChange:X=>q(te,"1-data",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},te))})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visualização"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg h-64",children:[H==="bar"&&n.jsx(C0,{data:I,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}}),H==="line"&&n.jsx(dw,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendência de Fluxo de Caixa"}}}}),H==="pie"&&n.jsx(Nv,{data:_,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:()=>{b(!1),alert("Alterações salvas com sucesso!")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]})},Gwe=()=>{const{user:t,isAdmin:e}=Mn(),[r,s]=F.useState("profile"),[a,i]=F.useState(!1),[o,l]=F.useState({name:t?.name||"",email:t?.email||"",phone:"(11) 99999-9999",company:"Minha Empresa"}),[c,d]=F.useState({email:!0,push:!0,sms:!1}),[u,h]=F.useState({autoBackup:!0,backupFrequency:"daily",backupTime:"00:00",keepBackups:"30"}),[m,f]=F.useState({realTimeSync:!0,offlineMode:!0,syncOnWifiOnly:!1}),b=E=>{const{name:M,value:S}=E.target;l(k=>({...k,[M]:S}))},y=E=>{d(M=>({...M,[E]:!M[E]}))},g=E=>{const{name:M,value:S}=E.target;h(k=>({...k,[M]:S}))},x=E=>{f(M=>({...M,[E]:!M[E]}))},v=()=>{console.log("Saving profile:",o),i(!0),setTimeout(()=>i(!1),2e3)},j=()=>{console.log("Saving notification settings:",c),i(!0),setTimeout(()=>i(!1),2e3)},B=()=>{console.log("Saving backup settings:",u),i(!0),setTimeout(()=>i(!1),2e3)},C=()=>{console.log("Saving sync settings:",m),i(!0),setTimeout(()=>i(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configurações"})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>s("profile"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="profile"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(nn,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Perfil"})]}),n.jsxs("button",{onClick:()=>s("notifications"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="notifications"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(qf,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Notificações"})]}),e&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>s("backup"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="backup"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(lp,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Backup"})]}),n.jsxs("button",{onClick:()=>s("sync"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="sync"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(G$,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Sincronização"})]})]})]}),n.jsxs("div",{className:"p-6",children:[r==="profile"&&n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informações do Perfil"}),n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t?.avatar?n.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):n.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:t?.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t?.name}),n.jsx("p",{className:"text-gray-600",children:t?.email}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:t?.role==="admin"?"Administrador":t?.role==="technician"?"Técnico":"Funcionário Externo"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),n.jsx("input",{type:"text",name:"name",value:o.name,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:o.email,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),n.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),n.jsx("input",{type:"text",name:"company",value:o.company,onChange:b,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("button",{onClick:v,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(mn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})})]}),r==="notifications"&&n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preferências de Notificação"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Notificações por Email"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receber atualizações importantes por email"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>y("email"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Notificações Push"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Notificações em tempo real no navegador"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>y("push"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"SMS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Alertas críticos por mensagem de texto"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.sms,onChange:()=>y("sms"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),n.jsx("button",{onClick:j,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(mn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Salvar Alterações"]})})]}),r==="backup"&&e&&n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Backup"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Backup Automático"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Realizar backup automático dos dados"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u.autoBackup,onChange:()=>h(E=>({...E,autoBackup:!E.autoBackup})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.autoBackup&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequência"}),n.jsxs("select",{name:"backupFrequency",value:u.backupFrequency,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"daily",children:"Diário"}),n.jsx("option",{value:"weekly",children:"Semanal"}),n.jsx("option",{value:"monthly",children:"Mensal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horário"}),n.jsx("input",{type:"time",name:"backupTime",value:u.backupTime,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manter Backups (dias)"}),n.jsx("input",{type:"number",name:"keepBackups",value:u.keepBackups,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:B,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(mn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Salvar Configurações"]})}),n.jsxs("button",{className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[n.jsx(lp,{className:"h-5 w-5 mr-2 inline"}),"Backup Manual"]})]})]})]}),r==="sync"&&e&&n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configurações de Sincronização"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronização em Tempo Real"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manter dados sincronizados em tempo real entre dispositivos"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.realTimeSync,onChange:()=>x("realTimeSync"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Modo Offline"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Permitir trabalhar offline e sincronizar depois"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.offlineMode,onChange:()=>x("offlineMode"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizar Apenas no Wi-Fi"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Economizar dados móveis sincronizando apenas no Wi-Fi"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:m.syncOnWifiOnly,onChange:()=>x("syncOnWifiOnly"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),n.jsx("button",{onClick:C,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(mn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5 mr-2"}),"Salvar Configurações"]})})]})]})]})]})},Xwe=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState(""),[s,a]=F.useState("all"),[i,o]=F.useState(!1),[l,c]=F.useState(null),[d,u]=F.useState([{id:"1",name:"Admin Demo",email:"admin@example.com",role:"admin",status:"active",lastLogin:"2023-12-15T10:30:00",department:"Administração",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Técnico",email:"carlos@example.com",role:"technician",status:"active",lastLogin:"2023-12-15T09:15:00",department:"Manutenção"},{id:"3",name:"Ana Técnica",email:"ana@example.com",role:"technician",status:"active",lastLogin:"2023-12-14T16:45:00",department:"Instalação"},{id:"4",name:"João Externo",email:"joao@terceirizada.com",role:"external",status:"inactive",lastLogin:"2023-12-10T08:30:00"}]),[h,m]=F.useState({name:"",email:"",role:"technician",department:"",status:"active"}),f=d.filter(C=>{const E=C.name.toLowerCase().includes(e.toLowerCase())||C.email.toLowerCase().includes(e.toLowerCase()),M=s==="all"||C.role===s;return E&&M}),b=()=>{if(h.name&&h.email){const C={id:Date.now().toString(),name:h.name,email:h.email,role:h.role,status:"active",lastLogin:"",department:h.department||void 0};u([...d,C]),m({name:"",email:"",role:"technician",department:"",status:"active"}),o(!1)}},y=()=>{l&&(u(d.map(C=>C.id===l.id?l:C)),c(null))},g=C=>{u(d.map(E=>E.id===C?{...E,status:E.status==="active"?"inactive":"active"}:E))},x=C=>{window.confirm("Tem certeza que deseja excluir este usuário?")&&u(d.filter(E=>E.id!==C))},v=C=>{switch(C){case"admin":return"Administrador";case"technician":return"Técnico";case"external":return"Externo";default:return C}},j=C=>{switch(C){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},B=C=>C==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usuários"}),t&&n.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(rH,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Usuário"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:e,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(p1,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:s,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Perfis"}),n.jsx("option",{value:"admin",children:"Administradores"}),n.jsx("option",{value:"technician",children:"Técnicos"}),n.jsx("option",{value:"external",children:"Externos"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:f.length>0?f.map((C,E)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:C.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),n.jsx("p",{className:"text-sm text-gray-600",children:C.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(C.role)}`,children:v(C.role)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B(C.status)}`,children:C.status==="active"?"Ativo":"Inativo"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[C.department&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Último Acesso"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.lastLogin?new Date(C.lastLogin).toLocaleString("pt-BR"):"Nunca"})]})]}),t&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>c(C),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(fi,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>g(C.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${C.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[C.status==="active"?n.jsx(Ro,{className:"h-4 w-4"}):n.jsx(J$,{className:"h-4 w-4"}),n.jsx("span",{children:C.status==="active"?"Desativar":"Ativar"})]}),n.jsxs("button",{onClick:()=>x(C.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]})]},C.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(Zt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum usuário encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos usuários com os filtros selecionados."}),n.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(Nt,{children:i&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Usuário"}),n.jsx("button",{onClick:()=>o(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:h.name,onChange:C=>m({...h,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usuário",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:h.email,onChange:C=>m({...h,email:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),n.jsxs("select",{value:h.role,onChange:C=>m({...h,role:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Técnico"}),n.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:h.department,onChange:C=>m({...h,department:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:b,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Adicionar"]})]})]})]})}),n.jsx(Nt,{children:l&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Usuário"}),n.jsx("button",{onClick:()=>c(null),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:l.name,onChange:C=>c({...l,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usuário",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:l.email,onChange:C=>c({...l,email:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),n.jsxs("select",{value:l.role,onChange:C=>c({...l,role:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Técnico"}),n.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:l.department||"",onChange:C=>c({...l,department:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:l.status==="active",onChange:()=>c({...l,status:"active"}),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Ativo"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:l.status==="inactive",onChange:()=>c({...l,status:"inactive"}),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Inativo"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar"]})]})]})]})})]})},Ywe=({isOpen:t,onClose:e,onSave:r,serviceId:s,duplicateFromId:a})=>{const[i,o]=F.useState("dados"),[l,c]=F.useState(!1),[d,u]=F.useState(!1),[h,m]=F.useState({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),[f,b]=F.useState({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),[y,g]=F.useState([]),[x,v]=F.useState([]),[j,B]=F.useState(""),[C,E]=F.useState(null);F.useEffect(()=>{t?(M(),s?S(s,!1):a?S(a,!0):(m({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),v([]))):(E(null),B(""))},[t,s,a]);const M=async()=>{try{const{data:G}=await he.from("materials").select("id, name, unit, quantity, unit_cost, sale_price, sku").eq("active",!0).order("name");g(G||[])}catch(G){console.error("Error loading materials:",G)}},S=async(G,H)=>{if(G)try{const{data:ee}=await he.from("service_catalog").select("*").eq("id",G).single();ee&&m({nome:H?`${ee.name} (Cópia)`:ee.name||"",descricao:ee.description||"",categoria:ee.category||"",preco_base:ee.base_price||0,tempo_estimado_minutos:ee.estimated_duration||0,observacoes:""});const{data:Y}=await he.from("service_catalog_materials").select("*").eq("service_catalog_id",G);Y&&v(Y.map(q=>({id:H?`new-${Date.now()}-${Math.random()}`:q.id,material_id:q.material_id||"",nome_material:q.material_name||"",quantidade_padrao:q.quantity||0,unidade_medida:q.material_unit||"un",preco_compra_unitario:q.unit_cost_at_time||0,preco_venda_unitario:q.unit_sale_price||0,custo_total:q.total_cost||0,valor_total:q.total_sale_price||0,lucro:(q.total_sale_price||0)-(q.total_cost||0),obrigatorio:!q.is_optional})))}catch(ee){console.error("Error loading service data:",ee)}},k=()=>{v([{id:`new-${Date.now()}`,material_id:"",nome_material:"",quantidade_padrao:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0,obrigatorio:!0},...x])},I=(G,H)=>{v(x.map(ee=>{if(ee.id===G){const Y={...ee,...H},q=Y.preco_compra_unitario||0,U=Y.preco_venda_unitario||0;return Y.custo_total=Y.quantidade_padrao*q,Y.valor_total=Y.quantidade_padrao*U,Y.lucro=Y.valor_total-Y.custo_total,Y}return ee}))},_=(G,H)=>{const ee=y.find(Y=>Y.id===H);ee&&(I(G,{material_id:H,nome_material:ee.name,unidade_medida:ee.unit||"un",preco_compra_unitario:Number(ee.unit_cost)||0,preco_venda_unitario:Number(ee.sale_price)||0}),B(""),E(null))},T=G=>{v(x.filter(H=>H.id!==G))},D=async()=>{try{if(!f.name){alert("Nome do material é obrigatório!");return}c(!0);const{data:G,error:H}=await he.from("materials").insert([{name:f.name,sku:f.sku||null,unit:f.unit,quantity:Number(f.quantity),unit_cost:Number(f.unit_cost),sale_price:Number(f.sale_price),min_quantity:Number(f.min_quantity),active:!0}]).select().single();if(H)throw H;await M(),b({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),u(!1),alert("Material criado com sucesso!")}catch(G){console.error("Error creating material:",G),alert("Erro ao criar material!")}finally{c(!1)}},L=()=>{const G=x.reduce((te,X)=>te+X.custo_total,0),H=x.reduce((te,X)=>te+X.valor_total,0),ee=G,Y=H+h.preco_base,q=Y-ee,U=ee>0?q/ee*100:0;return{custoMateriais:G,valorMateriais:H,custoTotal:ee,valorTotal:Y,lucroTotal:q,margemLucro:U}},V=async()=>{try{if(!h.nome){alert("Nome do serviço é obrigatório!");return}c(!0);const G=L();let H=s;const ee={name:h.nome,description:h.descricao,category:h.categoria,base_price:h.preco_base,estimated_duration:h.tempo_estimado_minutos,active:!0};if(s)await he.from("service_catalog").update(ee).eq("id",s);else{const{data:q,error:U}=await he.from("service_catalog").insert([ee]).select().single();if(U)throw U;H=q.id}const{error:Y}=await he.from("service_catalog_materials").delete().eq("service_catalog_id",H);Y&&console.error("Error deleting materials:",Y);for(const q of x){const{error:U}=await he.from("service_catalog_materials").insert([{service_catalog_id:H,material_id:q.material_id,material_name:q.nome_material,quantity:q.quantidade_padrao,material_unit:q.unidade_medida,is_optional:!q.obrigatorio,unit_cost_at_time:q.preco_compra_unitario,unit_sale_price:q.preco_venda_unitario}]);if(U)throw console.error("Error inserting material:",U),U}r(),e()}catch(G){console.error("Error saving:",G),alert("Erro ao salvar serviço!")}finally{c(!1)}},z=G=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G),Z=L();return t?n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Serviço":"Novo Serviço no Catálogo"}),n.jsx("p",{className:"text-green-100 text-sm",children:"Configure materiais, mão de obra e custos completos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:Ko},{id:"materiais",label:"Materiais",icon:$t},{id:"resumo",label:"Resumo Financeiro",icon:jS}].map(G=>{const H=G.icon;return n.jsxs("button",{onClick:()=>o(G.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${i===G.id?"border-green-600 text-green-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(H,{className:"h-4 w-4"}),G.label]},G.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(Nt,{mode:"wait",children:[i==="dados"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Serviço *"}),n.jsx("input",{type:"text",value:h.nome,onChange:G=>m({...h,nome:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Instalação de Ar Condicionado Split 12k BTU"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição"}),n.jsx("textarea",{value:h.descricao,onChange:G=>m({...h,descricao:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Descreva o serviço em detalhes..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),n.jsxs("select",{value:h.categoria,onChange:G=>m({...h,categoria:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"instalacao",children:"Instalação"}),n.jsx("option",{value:"manutencao",children:"Manutenção"}),n.jsx("option",{value:"reparo",children:"Reparo"}),n.jsx("option",{value:"limpeza",children:"Limpeza"}),n.jsx("option",{value:"vistoria",children:"Vistoria"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),n.jsx("input",{type:"number",value:h.tempo_estimado_minutos,onChange:G=>m({...h,tempo_estimado_minutos:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço Base do Serviço (R$)"}),n.jsx("input",{type:"number",value:h.preco_base,step:"0.01",onChange:G=>m({...h,preco_base:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Valor da mão de obra"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),n.jsx("textarea",{value:h.observacoes,onChange:G=>m({...h,observacoes:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Observações internas sobre o serviço..."})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Ko,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Configure o serviço completo"}),n.jsxs("p",{children:["Nas próximas abas, você pode adicionar materiais e mão de obra. ",n.jsx("span",{className:"font-medium",children:"Ambos são opcionais"})," - você pode criar serviços sem materiais ou sem mão de obra, dependendo do tipo de serviço."]})]})]})]},"dados"),i==="materiais"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Materiais Necessários ",n.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Opcional)"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Liste todos os materiais usados neste serviço. Ex: Consultoria, Vistoria, Laudo não precisam de materiais."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Criar Novo Material"]}),n.jsxs("button",{onClick:k,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar do Estoque"]})]})]}),x.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx($t,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),n.jsx("p",{className:"text-sm",children:"Materiais são opcionais para este serviço"}),n.jsx("p",{className:"text-xs mt-1 text-gray-400",children:'Clique em "Adicionar Material" se o serviço precisar de materiais'})]}),x.map((G,H)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",H+1,G.nome_material&&n.jsxs("span",{className:"ml-2 text-green-600",children:["- ",G.nome_material]})]}),G.material_id&&!G.nome_material&&n.jsx("span",{className:"text-xs text-gray-500",children:"Material selecionado"})]}),n.jsx("button",{onClick:()=>T(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-3",children:[n.jsxs("div",{className:"md:col-span-3 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"🔍 Buscar Material do Estoque"}),n.jsx("input",{type:"text",value:j,onChange:ee=>B(ee.target.value),onFocus:()=>E(G.id),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Digite para buscar no estoque..."}),j&&C===G.id&&y.filter(ee=>ee.name.toLowerCase().includes(j.toLowerCase())||ee.sku&&ee.sku.toLowerCase().includes(j.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:y.filter(ee=>ee.name.toLowerCase().includes(j.toLowerCase())||ee.sku&&ee.sku.toLowerCase().includes(j.toLowerCase())).map(ee=>n.jsxs("button",{type:"button",onClick:()=>_(G.id,ee.id),className:"w-full px-4 py-3 text-left hover:bg-green-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:ee.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsxs("span",{children:[ee.sku&&n.jsxs("span",{className:"mr-2",children:["Cód: ",ee.sku]}),n.jsxs("span",{children:["Estoque: ",ee.quantity," ",ee.unit]})]}),n.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",Number(ee.sale_price).toFixed(2),"/",ee.unit]})]})]},ee.id))})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:G.quantidade_padrao,min:"0.01",step:"0.01",onChange:ee=>I(G.id,{quantidade_padrao:Number(ee.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),G.unidade_medida&&n.jsx("span",{className:"absolute right-3 top-9 text-xs text-gray-500 font-semibold",children:G.unidade_medida})]}),n.jsx("div",{className:"md:col-span-2 flex items-end",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:G.obrigatorio,onChange:ee=>I(G.id,{obrigatorio:ee.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Obrigatório"})]})})]}),G.material_id&&n.jsxs("div",{className:"grid grid-cols-5 gap-3 text-xs bg-white rounded p-3 border",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Custo Unit:"}),n.jsx("p",{className:"font-bold text-orange-600",children:z(G.preco_compra_unitario)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Venda Unit:"}),n.jsx("p",{className:"font-bold text-green-600",children:z(G.preco_venda_unitario)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Custo Total:"}),n.jsx("p",{className:"font-bold text-orange-700",children:z(G.custo_total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Total:"}),n.jsx("p",{className:"font-bold text-green-700",children:z(G.valor_total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Lucro:"}),n.jsx("p",{className:"font-bold text-blue-700",children:z(G.lucro)})]})]})]},G.id)),n.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold text-green-900",children:"Total Materiais:"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm text-green-700",children:["Custo: ",z(Z.custoMateriais)]}),n.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Venda: ",z(Z.valorMateriais)]})]})]})})]},"materiais"),i==="resumo"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Financeiro Completo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[n.jsxs("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[n.jsx($t,{className:"h-5 w-5"}),"Custos de Materiais"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Quantidade de Itens:"}),n.jsx("span",{className:"font-semibold",children:x.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),n.jsx("span",{className:"font-bold text-orange-700",children:z(Z.custoMateriais)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Valor de Venda:"}),n.jsx("span",{className:"font-bold text-green-700",children:z(Z.valorMateriais)})]})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(jS,{className:"h-5 w-5"}),"Totais do Serviço"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Custo Total (Materiais):"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(Z.custoTotal)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Preço Base do Serviço:"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(h.preco_base)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor dos Materiais:"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(Z.valorMateriais)})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Preço Total Sugerido:"}),n.jsx("span",{className:"font-bold text-xl text-green-600",children:z(Z.valorTotal)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-300",children:[n.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[n.jsx(Or,{className:"h-5 w-5"}),"Análise de Lucro"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-800",children:"Lucro Bruto:"}),n.jsx("span",{className:"font-bold text-xl text-green-700",children:z(Z.lucroTotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-800",children:"Margem de Lucro:"}),n.jsxs("span",{className:"font-bold text-2xl text-green-600",children:[Z.margemLucro.toFixed(1),"%"]})]})]})]})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-yellow-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Atenção"}),n.jsx("p",{children:"Estes valores são calculados automaticamente e servirão como base para os orçamentos. Você poderá ajustar as quantidades em cada Ordem de Serviço."})]})]})]},"resumo")]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:V,disabled:l,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5"}),"Salvar Serviço no Catálogo"]})})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:n.jsxs(ue.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-blue-600 text-white p-6 flex items-center justify-between z-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Criar Novo Material"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Adicione ao estoque e use neste serviço"})]}),n.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:f.name,onChange:G=>b({...f,name:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Cabo de Rede Cat6"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU / Código"}),n.jsx("input",{type:"text",value:f.sku,onChange:G=>b({...f,sku:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: MAT-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade de Medida"}),n.jsxs("select",{value:f.unit,onChange:G=>b({...f,unit:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"UN",children:"Unidade (UN)"}),n.jsx("option",{value:"MT",children:"Metro (MT)"}),n.jsx("option",{value:"M2",children:"Metro Quadrado (M²)"}),n.jsx("option",{value:"KG",children:"Quilograma (KG)"}),n.jsx("option",{value:"LT",children:"Litro (LT)"}),n.jsx("option",{value:"CX",children:"Caixa (CX)"}),n.jsx("option",{value:"PC",children:"Peça (PC)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:f.quantity,onChange:G=>b({...f,quantity:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unitário (R$)"}),n.jsx("input",{type:"number",value:f.unit_cost,onChange:G=>b({...f,unit_cost:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preço de Venda (R$)"}),n.jsx("input",{type:"number",value:f.sale_price,onChange:G=>b({...f,sale_price:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estoque Mínimo"}),n.jsx("input",{type:"number",value:f.min_quantity,onChange:G=>b({...f,min_quantity:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ko,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Material no Estoque"}),n.jsx("p",{children:"Este material será adicionado ao seu estoque e ficará disponível para uso em serviços e ordens de serviço."})]})]})})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:D,disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?n.jsx(n.Fragment,{children:"Criando..."}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5"}),"Criar e Salvar no Estoque"]})})]})]})})]}):null},Jwe=()=>{const{isAdmin:t}=Mn();Vs();const[e,r]=F.useState(""),[s,a]=F.useState("all"),[i,o]=F.useState([]),[l,c]=F.useState(!0),[d,u]=F.useState(null),[h,m]=F.useState(!1),[f,b]=F.useState(null),[y,g]=F.useState(void 0),[x,v]=F.useState(void 0),[j,B]=F.useState(null),[C,E]=F.useState({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]});F.useEffect(()=>{M()},[]);const M=async()=>{try{c(!0);const D=await sce();o(D||[]),u(null)}catch(D){console.error("Error loading services:",D),u("Erro ao carregar catálogo de serviços")}finally{c(!1)}},S=["all",...Array.from(new Set(i.map(D=>D.category)))],k=i.filter(D=>{const L=D.name.toLowerCase().includes(e.toLowerCase())||D.description.toLowerCase().includes(e.toLowerCase()),V=s==="all"||D.category===s;return L&&V}),I=async()=>{if(!C.name||!C.category){alert("Por favor, preencha todos os campos obrigatórios");return}try{const D={name:C.name,category:C.category,description:C.description,estimated_time:C.estimated_time,base_price:C.base_price,materials:C.materials,instructions:C.instructions,is_active:!0},L=await nce(D);o([...i,L]),E({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]}),m(!1),alert("Serviço adicionado com sucesso!")}catch(D){console.error("Error creating service:",D),alert("Erro ao adicionar serviço")}},_=async()=>{if(f)try{const D={name:f.name,category:f.category,description:f.description,estimated_time:f.estimated_time,base_price:f.base_price,materials:f.materials,instructions:f.instructions,is_active:f.is_active},L=await ace(f.id,D);o(i.map(V=>V.id===L.id?L:V)),b(null),alert("Serviço atualizado com sucesso!")}catch(D){console.error("Error updating service:",D),alert("Erro ao atualizar serviço")}},T=async D=>{try{await ice(D),o(i.filter(L=>L.id!==D)),B(null),alert("Serviço excluído com sucesso!")}catch(L){console.error("Error deleting service:",L),alert("Erro ao excluir serviço")}};return n.jsxs("div",{className:"space-y-6",children:[d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:d})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catálogo de Serviços"}),n.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Serviço"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrição...",value:e,onChange:D=>r(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"h-5 w-5 text-gray-400"}),n.jsx("select",{value:s,onChange:D=>a(D.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(D=>n.jsx("option",{value:D,children:D==="all"?"Todas as Categorias":D},D))})]})]})}),l?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando serviços..."})]}):n.jsx("div",{className:"space-y-4",children:k.length>0?k.map((D,L)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>b(D),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:n.jsx(vt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),n.jsx("p",{className:"text-sm text-gray-600",children:D.category})]})]}),t&&n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",D.base_price.toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:D.description||"Sem descrição"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx($t,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:[D.materials?.length||0," materiais"]})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(tr,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:D.estimated_time||"Não definido"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:V=>{V.stopPropagation(),b(D),g(D.id)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar serviço",children:n.jsx(pn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:V=>{V.stopPropagation(),v(D.id)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar serviço",children:n.jsx(Pd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:V=>{V.stopPropagation(),B(D.id)},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir serviço",children:n.jsx(rr,{className:"h-4 w-4"})})]})]})]},D.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum serviço encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos serviços com os filtros selecionados."}),n.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(Nt,{children:h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Serviço"}),n.jsx("button",{onClick:()=>m(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Serviço"}),n.jsx("input",{type:"text",value:C.name,onChange:D=>E({...C,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do serviço",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:C.category,onChange:D=>E({...C,category:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalação, Manutenção",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),n.jsx("input",{type:"text",value:C.estimated_time,onChange:D=>E({...C,estimated_time:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2 horas"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Base (R$)"}),n.jsx("input",{type:"number",value:C.base_price,onChange:D=>E({...C,base_price:parseFloat(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:C.description,onChange:D=>E({...C,description:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrição detalhada do serviço"})]})]})}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>m(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:I,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Serviço"]})]})]})]})}),n.jsx(Nt,{children:f&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>b(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Serviço"}),n.jsx("button",{onClick:()=>b(null),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Serviço"}),n.jsx("input",{type:"text",value:f.name,onChange:D=>b({...f,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:f.category,onChange:D=>b({...f,category:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),n.jsx("input",{type:"text",value:f.estimated_time||"",onChange:D=>b({...f,estimated_time:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preço Base (R$)"}),n.jsx("input",{type:"number",value:f.base_price,onChange:D=>b({...f,base_price:parseFloat(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:f.description||"",onChange:D=>b({...f,description:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Materiais Necessários"}),f.materials&&f.materials.length>0?n.jsx("div",{className:"space-y-2",children:f.materials.map((D,L)=>n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[n.jsx($t,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"flex-1 text-sm",children:D.name}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",D.quantity]})]},L))}):n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum material definido"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Instruções"}),f.instructions&&f.instructions.length>0?n.jsx("ol",{className:"list-decimal list-inside space-y-1",children:f.instructions.map((D,L)=>n.jsx("li",{className:"text-sm text-gray-700",children:D},L))}):n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma instrução definida"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>b(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:_,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})}),n.jsx(Nt,{children:j&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>B(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este serviço? Esta ação não pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>B(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>T(j),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(Ywe,{isOpen:h||f!==null||x!==void 0,onClose:()=>{m(!1),b(null),g(void 0),v(void 0)},onSave:()=>{M(),m(!1),b(null),g(void 0),v(void 0)},serviceId:y,duplicateFromId:x})]})},Zwe=({isOpen:t,onComplete:e})=>{const[r,s]=F.useState(0),a=[{title:"Bem-vindo ao Sistema OS!",description:"Vamos fazer um tour rápido pelas principais funcionalidades do sistema.",image:n.jsx(yi,{className:"h-12 w-12 text-blue-500"}),highlight:null},{title:"Ordens de Serviço",description:"Crie, gerencie e acompanhe todas as suas ordens de serviço em um só lugar. Adicione fotos, materiais e acompanhe o status em tempo real.",image:n.jsx(yi,{className:"h-12 w-12 text-blue-500"}),highlight:"service-orders"},{title:"Estoque Integrado",description:"Controle seu estoque de materiais com baixa automática quando uma OS é finalizada. Receba alertas de estoque mínimo.",image:n.jsx($t,{className:"h-12 w-12 text-green-500"}),highlight:"inventory"},{title:"Catálogo de Serviços",description:"Crie serviços pré-definidos com descrições, materiais necessários e valores para agilizar a criação de novas ordens.",image:n.jsx(vt,{className:"h-12 w-12 text-purple-500"}),highlight:"service-catalog"},{title:"Relatórios Detalhados",description:"Acompanhe o desempenho do seu negócio com relatórios detalhados e gráficos interativos.",image:n.jsx(oa,{className:"h-12 w-12 text-orange-500"}),highlight:"reports"},{title:"Controle de Acesso",description:"Diferentes níveis de acesso para administradores, técnicos e funcionários externos, garantindo a segurança das informações.",image:n.jsx(gh,{className:"h-12 w-12 text-gray-500"}),highlight:"settings"}],i=()=>{r<a.length-1?s(r+1):e()},o=()=>{r>0&&s(r-1)},l=()=>{e()};return n.jsx(Nt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white rounded-t-3xl",children:[n.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-3",children:a[r].image}),n.jsx("h2",{className:"text-xl font-bold",children:a[r].title})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:a[r].description}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[n.jsx("span",{children:"Progresso"}),n.jsxs("span",{children:[r+1," de ",a.length]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx(ue.div,{initial:{width:0},animate:{width:`${(r+1)/a.length*100}%`},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("button",{onClick:o,disabled:r===0,className:`flex items-center px-4 py-2 rounded-xl transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Anterior"]}),n.jsx("div",{className:"flex space-x-2",children:a.map((c,d)=>n.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${d===r?"bg-blue-500 w-6":d<r?"bg-green-500":"bg-gray-300"}`},d))}),n.jsx("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200",children:r===a.length-1?n.jsxs(n.Fragment,{children:["Concluir",n.jsx(mn,{className:"h-4 w-4 ml-2"})]}):n.jsxs(n.Fragment,{children:["Próximo",n.jsx(uo,{className:"h-4 w-4 ml-2"})]})})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Pular tutorial"})})]})]})]})})},e1e=()=>{const[t,e]=F.useState(null),[r,s]=F.useState([]),[a,i]=F.useState([]),[o,l]=F.useState([]),[c,d]=F.useState(!0),[u,h]=F.useState("overview");F.useEffect(()=>{m()},[]);const m=async()=>{try{d(!0);const[x,v,j,B]=await Promise.all([he.from("v_business_kpis").select("*").maybeSingle(),he.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}),he.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(20),he.from("v_team_productivity").select("*").order("total_revenue_generated",{ascending:!1})]);x.data&&e(x.data),v.data&&s(v.data),j.data&&i(j.data),B.data&&l(B.data)}catch(x){console.error("Erro ao carregar KPIs:",x)}finally{d(!1)}},f=x=>x==null||isNaN(x)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),b=x=>x==null||isNaN(x)?"0.0%":`${x.toFixed(1)}%`;if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const y=[{title:"Taxa de Conversão",value:b(t?.conversion_rate||0),target:"80%",progress:t?.conversion_rate||0,icon:xh,color:"blue",trend:(t?.conversion_rate||0)>=80?"up":"down"},{title:"Ticket Médio",value:f(t?.avg_order_value||0),target:"R$ 5.000",progress:(t?.avg_order_value||0)/5e3*100,icon:pr,color:"green",trend:"up"},{title:"Margem de Lucro",value:b(t?.profit_margin||0),target:"30%",progress:t?.profit_margin||0,icon:Or,color:"purple",trend:(t?.profit_margin||0)>=30?"up":"down"},{title:"Tempo Médio Atendimento",value:`${((t?.avg_service_time_hours??0)||0).toFixed(1)}h`,target:"24h",progress:Math.min(100,(24-((t?.avg_service_time_hours??0)||0))/24*100),icon:tr,color:"orange",trend:(t?.avg_service_time_hours||0)<=24?"up":"down"}],g=[{label:"OSs Concluídas",value:t?.total_completed_orders||0,icon:Ja,color:"text-green-600 bg-green-50"},{label:"OSs em Andamento",value:t?.orders_in_progress||0,icon:oh,color:"text-blue-600 bg-blue-50"},{label:"Clientes Ativos",value:t?.active_customers||0,icon:Zt,color:"text-purple-600 bg-purple-50"},{label:"Itens em Estoque",value:t?.materials_in_stock||0,icon:$t,color:"text-orange-600 bg-orange-50"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"KPIs e OKRs"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Indicadores-chave de performance e objetivos"})]}),n.jsx("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Atualizar"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((x,v)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`w-12 h-12 bg-${x.color}-50 rounded-lg flex items-center justify-center`,children:n.jsx(x.icon,{className:`h-6 w-6 text-${x.color}-600`})}),x.trend==="up"?n.jsx(h1,{className:"h-5 w-5 text-green-500"}):n.jsx(ME,{className:"h-5 w-5 text-red-500"})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:x.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.value}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-500",children:["Meta: ",x.target]}),n.jsxs("span",{className:`font-medium ${x.progress>=100?"text-green-600":"text-orange-600"}`,children:[Math.min(100,x.progress||0).toFixed(0),"%"]})]}),n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`bg-${x.color}-600 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,x.progress)}%`}})})]},x.title))}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map((x,v)=>n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+v*.05},className:`${x.color} rounded-xl p-4`,children:[n.jsx(x.icon,{className:"h-8 w-8 mb-2"}),n.jsx("p",{className:"text-2xl font-bold mb-1",children:x.value}),n.jsx("p",{className:"text-sm opacity-80",children:x.label})]},x.label))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Visão Geral"},{id:"services",label:"Serviços"},{id:"customers",label:"Clientes"},{id:"team",label:"Equipe"}].map(x=>n.jsx("button",{onClick:()=>h(x.id),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${u===x.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:x.label},x.id))}),n.jsxs("div",{className:"p-6",children:[u==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Financeiro"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Receita Total"}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:f(t?.total_income||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Despesas Totais"}),n.jsx("span",{className:"text-lg font-bold text-red-600",children:f(t?.total_expenses||0)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[n.jsx("span",{className:"text-gray-900 font-semibold",children:"Lucro Líquido"}),n.jsx("span",{className:"text-xl font-bold text-green-700",children:f(t?.net_profit||0)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Potencial de Estoque"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Valor em Estoque"}),n.jsx("span",{className:"text-lg font-bold text-purple-600",children:f(t?.total_inventory_value||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Lucro Potencial"}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:f(t?.potential_profit||0)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-purple-300",children:[n.jsx("span",{className:"text-gray-900 font-semibold",children:"Margem Potencial"}),n.jsx("span",{className:"text-xl font-bold text-purple-700",children:b((t?.potential_profit||0)/(t?.total_inventory_value||1)*100)})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas a Receber e Pagar"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Receber"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:f(t?.accounts_receivable||0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Pagar"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:f(t?.accounts_payable||0)})]})]})]})]}),u==="services"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Serviço"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Conclusão"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Total"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Médio"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tempo Médio"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.service_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:x.total_orders}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b(x.completion_rate)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(x.total_revenue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:f(x.avg_revenue_per_service)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[(x.avg_completion_time_hours||0).toFixed(1),"h"]})]},x.service_name))})]})}),u==="customers"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Lucro Bruto"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Margem"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Último Pedido"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.customer_name}),x.company_name&&n.jsx("div",{className:"text-sm text-gray-500",children:x.company_name})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:x.total_orders}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(x.total_revenue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-green-600",children:f(x.gross_profit)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.profit_margin>=30?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b(x.profit_margin)})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[x.days_since_last_order," dias"]})]},x.customer_name))})]})}),u==="team"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Colaborador"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Conclusão"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Gerada"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ROI Salarial"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.employee_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:x.role}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[x.completed_orders,"/",x.total_orders_assigned]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:b(x.completion_rate)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:f(x.total_revenue_generated)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.revenue_to_salary_ratio>=5?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[(x.revenue_to_salary_ratio||0).toFixed(1),"x"]})})]},x.employee_name))})]})})]})]})]})};mm.register(z1,V1,R1,fm,H1,q1,$1,Q1);const bV=()=>{const{hasPermission:t}=Mn(),e=t("view_bank_balances"),[r,s]=F.useState("overview"),[a,i]=F.useState([]),[o,l]=F.useState([]),[c,d]=F.useState([]),[u,h]=F.useState([]),[m,f]=F.useState([]),[b,y]=F.useState(!0),[g,x]=F.useState("month"),[v,j]=F.useState(""),[B,C]=F.useState(""),[E,M]=F.useState({totalReceitas:0,totalDespesas:0,lucro:0,custoFolha:0,receitasMes:0,despesasMes:0,lucroMes:0,contasReceber:0,contasPagar:0,margemLucro:0,ticketMedio:0,valorEstoque:0,valorVendaEstoque:0,lucroEstoque:0}),[S,k]=F.useState({receitas:[],despesas:[],totalReceitas:0,totalDespesas:0,lucroOperacional:0,margemOperacional:0}),[I,_]=F.useState({labels:[],receitas:[],despesas:[],saldo:[]});F.useEffect(()=>{T()},[g]);const T=async()=>{try{y(!0);const[H,ee,Y,q,U]=await Promise.all([he.from("finance_entries").select("*").order("data",{ascending:!1}),he.from("financial_categories").select("*"),he.from("employees").select("id, name, salary"),he.from("inventory_items").select("unit_cost, unit_price, quantity").eq("active",!0),he.rpc("get_bank_accounts_with_transactions")]);if(H.error)throw H.error;if(ee.error)throw ee.error;if(Y.error)throw Y.error;if(q.error)throw q.error;U.error&&console.error("Erro ao carregar contas bancárias:",U.error);const te=H.data||[],X=ee.data||[],se=Y.data||[],fe=q.data||[],me=U.data||[];console.log("📊 Contas bancárias carregadas:",me),i(te),l(X),d(se),h(fe),f(me),D(te,se,fe),L(te,X,se),V(te)}catch(H){console.error("Error loading data:",H)}finally{y(!1)}},D=(H,ee,Y)=>{const q=new Date,U=q.getMonth(),te=q.getFullYear(),X=H.filter(le=>le.tipo==="receita"&&le.status==="recebido").reduce((le,Se)=>le+Number(Se.valor),0),se=H.filter(le=>le.tipo==="despesa"&&le.status==="pago").reduce((le,Se)=>le+Number(Se.valor),0),fe=ee.reduce((le,Se)=>le+Number(Se.salary||0),0),me=H.filter(le=>le.tipo==="receita"&&le.status==="a_receber").reduce((le,Se)=>le+Number(Se.valor),0),pe=H.filter(le=>le.tipo==="despesa"&&le.status==="a_pagar").reduce((le,Se)=>le+Number(Se.valor),0),_e=H.filter(le=>{const Se=new Date(le.data);return le.tipo==="receita"&&le.status==="recebido"&&Se.getMonth()===U&&Se.getFullYear()===te}).reduce((le,Se)=>le+Number(Se.valor),0),ge=H.filter(le=>{const Se=new Date(le.data);return le.tipo==="despesa"&&le.status==="pago"&&Se.getMonth()===U&&Se.getFullYear()===te}).reduce((le,Se)=>le+Number(Se.valor),0),ye=H.filter(le=>le.tipo==="receita"&&le.status==="recebido").length,Ve=ye>0?X/ye:0,st=Y.reduce((le,Se)=>le+Number(Se.unit_cost||0)*Number(Se.quantity||0),0),Ne=Y.reduce((le,Se)=>le+Number(Se.unit_price||0)*Number(Se.quantity||0),0),J=Ne-st,Me=X-se,Ie=X>0?Me/X*100:0;M({totalReceitas:X,totalDespesas:se,lucro:Me,custoFolha:fe,receitasMes:_e,despesasMes:ge,lucroMes:_e-ge,contasReceber:me,contasPagar:pe,margemLucro:Ie,ticketMedio:Ve,valorEstoque:st,valorVendaEstoque:Ne,lucroEstoque:J})},L=(H,ee,Y)=>{const q={},U={};H.forEach(ge=>{if(ge.categoria_id){const ye=ee.find(Ve=>Ve.id===ge.categoria_id);if(ye){if(ge.tipo==="receita"&&ge.status==="recebido"){const Ve=ye.dre_grupo||ye.nome;q[Ve]||(q[Ve]={valor:0,grupo:ye.dre_grupo}),q[Ve].valor+=Number(ge.valor)}else if(ge.tipo==="despesa"&&ge.status==="pago"){const Ve=ye.dre_grupo||ye.nome;U[Ve]||(U[Ve]={valor:0,grupo:ye.dre_grupo}),U[Ve].valor+=Number(ge.valor)}}}});const te=Y.reduce((ge,ye)=>ge+Number(ye.salary||0),0);te>0&&(U["Folha de Pagamento"]={valor:te,grupo:"Despesas Operacionais"});const X=Object.values(q).reduce((ge,ye)=>ge+ye.valor,0),se=Object.values(U).reduce((ge,ye)=>ge+ye.valor,0),fe=Object.entries(q).map(([ge,ye])=>({categoria:ge,valor:ye.valor,percentual:X>0?ye.valor/X*100:0})).sort((ge,ye)=>ye.valor-ge.valor),me=Object.entries(U).map(([ge,ye])=>({categoria:ge,valor:ye.valor,percentual:se>0?ye.valor/se*100:0})).sort((ge,ye)=>ye.valor-ge.valor),pe=X-se,_e=X>0?pe/X*100:0;k({receitas:fe,despesas:me,totalReceitas:X,totalDespesas:se,lucroOperacional:pe,margemOperacional:_e})},V=H=>{const ee=new Date,Y=[],q=[],U=[],te=[];for(let X=5;X>=0;X--){const se=new Date(ee.getFullYear(),ee.getMonth()-X,1),fe=se.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});Y.push(fe);const me=H.filter(_e=>{const ge=new Date(_e.data);return _e.tipo==="receita"&&_e.status==="recebido"&&ge.getMonth()===se.getMonth()&&ge.getFullYear()===se.getFullYear()}).reduce((_e,ge)=>_e+Number(ge.valor),0),pe=H.filter(_e=>{const ge=new Date(_e.data);return _e.tipo==="despesa"&&_e.status==="pago"&&ge.getMonth()===se.getMonth()&&ge.getFullYear()===se.getFullYear()}).reduce((_e,ge)=>_e+Number(ge.valor),0);q.push(me),U.push(pe),te.push(me-pe)}_({labels:Y,receitas:q,despesas:U,saldo:te})},z=H=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(H),Z=H=>H.toFixed(1)+"%",G=()=>{let H="";r==="dre"&&(H=`DRE - Demonstrativo de Resultados

`,H+=`RECEITAS
`,H+=`Categoria,Valor,Percentual
`,S.receitas.forEach(U=>{H+=`${U.categoria},${U.valor},${U.percentual.toFixed(2)}%
`}),H+=`
TOTAL RECEITAS,${S.totalReceitas}

`,H+=`DESPESAS
`,H+=`Categoria,Valor,Percentual
`,S.despesas.forEach(U=>{H+=`${U.categoria},${U.valor},${U.percentual.toFixed(2)}%
`}),H+=`
TOTAL DESPESAS,${S.totalDespesas}

`,H+=`LUCRO OPERACIONAL,${S.lucroOperacional}
`,H+=`MARGEM OPERACIONAL,${S.margemOperacional.toFixed(2)}%
`);const ee=new Blob([H],{type:"text/csv"}),Y=window.URL.createObjectURL(ee),q=document.createElement("a");q.href=Y,q.download=`relatorio-financeiro-${new Date().toISOString().split("T")[0]}.csv`,q.click()};return b?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(pr,{className:"h-8 w-8 text-green-600"}),"Dashboard Financeiro Completo"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Relatórios financeiros e análises em tempo real"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Exportar"]})})]}),n.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{id:"overview",label:"Visão Geral",icon:DA},{id:"kpis",label:"KPIs e OKRs",icon:Or},{id:"dre",label:"DRE",icon:vt},{id:"cashflow",label:"Fluxo de Caixa",icon:W$},{id:"reports",label:"Relatórios",icon:Mae}].map(H=>{const ee=H.icon;return n.jsxs("button",{onClick:()=>s(H.id),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${r===H.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[n.jsx(ee,{className:"h-4 w-4"}),H.label]},H.id)})}),r==="overview"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(h1,{className:"h-5 w-5"})}),n.jsx(Or,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-green-100 text-xs font-medium mb-1",children:"Total Receitas"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.totalReceitas)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-green-100",children:["Mês: ",z(E.receitasMes)]})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(ME,{className:"h-5 w-5"})}),n.jsx(El,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-red-100 text-xs font-medium mb-1",children:"Total Despesas"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.totalDespesas)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-red-100",children:["Mês: ",z(E.despesasMes)]})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`bg-gradient-to-br ${E.lucro>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-lg p-4 text-white shadow-lg`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Zy,{className:"h-5 w-5"})}),n.jsx(pr,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-blue-100 text-xs font-medium mb-1",children:"Lucro Líquido"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.lucro)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-blue-100",children:["Margem: ",Z(E.margemLucro)]})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Zt,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-purple-100 text-xs font-medium mb-1",children:"Custo Folha"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.custoFolha)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-purple-100",children:[c.length," funcionários"]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(Zy,{className:"h-5 w-5 text-blue-600"}),"Contas Bancárias"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[m.length," conta(s)"]})]}),e?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[m.map((H,ee)=>n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:ee*.05},className:`relative rounded-lg p-3 border-2 transition-all hover:shadow-md ${H.saldo_calculado>=0?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-br from-red-50 to-orange-50 border-red-200"}`,children:[H.is_default&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:"Principal"})}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Zy,{className:`h-4 w-4 ${H.saldo_calculado>=0?"text-green-600":"text-red-600"}`}),n.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:H.bank_name})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:H.account_name}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Saldo:"}),n.jsx("span",{className:`text-sm font-bold ${H.saldo_calculado>=0?"text-green-700":"text-red-700"}`,children:z(Number(H.saldo_calculado))})]}),n.jsxs("div",{className:"pt-1.5 border-t border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-green-600",children:"Receitas:"}),n.jsx("span",{className:"font-medium text-green-700",children:z(Number(H.total_receitas))})]}),n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-red-600",children:"Despesas:"}),n.jsx("span",{className:"font-medium text-red-700",children:z(Number(H.total_despesas))})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Transações:"}),n.jsx("span",{className:"font-medium text-gray-700",children:H.total_transactions})]})]})]})]},H.id)),m.length===0&&n.jsxs("div",{className:"col-span-full text-center py-8 text-gray-400",children:[n.jsx(Zy,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Nenhuma conta bancária cadastrada"})]})]}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(Ro,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Acesso Restrito"}),n.jsxs("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:["Você não tem permissão para visualizar os saldos das contas bancárias.",n.jsx("br",{}),"Entre em contato com o administrador para solicitar acesso."]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx($t,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-amber-100 text-xs font-medium mb-1",children:"Investido em Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.valorEstoque)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-amber-100",children:["Venda: ",z(E.valorVendaEstoque)]})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Or,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-emerald-100 text-xs font-medium mb-1",children:"Lucro Potencial Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(E.lucroEstoque)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-emerald-100",children:["Margem: ",Z(E.valorEstoque>0?E.lucroEstoque/E.valorEstoque*100:0)]})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx($t,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-cyan-100 text-xs font-medium mb-1",children:"Itens em Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:u.length}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsx("p",{className:"text-xs text-cyan-100",children:"Produtos disponíveis"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Receber"}),n.jsx("div",{className:"text-3xl font-bold text-green-600 mb-4",children:z(E.contasReceber)}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(H=>H.tipo==="receita"&&H.status==="a_receber").slice(0,5).map(H=>n.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:H.descricao}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(H.data).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"font-bold text-green-600",children:z(Number(H.valor))})]})},H.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Pagar"}),n.jsx("div",{className:"text-3xl font-bold text-red-600 mb-4",children:z(E.contasPagar)}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(H=>H.tipo==="despesa"&&H.status==="a_pagar").slice(0,5).map(H=>n.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:H.descricao}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(H.data).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"font-bold text-red-600",children:z(Number(H.valor))})]})},H.id))})]})]})]}),r==="dre"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"DRE - Demonstrativo de Resultados"}),n.jsx(kr,{className:"h-6 w-6 text-gray-400"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"RECEITAS"}),n.jsx("span",{className:"text-2xl font-bold text-green-700",children:z(S.totalReceitas)})]}),n.jsx("div",{className:"space-y-2",children:S.receitas.map((H,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:H.categoria}),n.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${H.percentual}%`}})})]}),n.jsxs("div",{className:"ml-4 text-right",children:[n.jsx("p",{className:"font-bold text-gray-900",children:z(H.valor)}),n.jsx("p",{className:"text-sm text-gray-500",children:Z(H.percentual)})]})]},ee))})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"DESPESAS"}),n.jsx("span",{className:"text-2xl font-bold text-red-700",children:z(S.totalDespesas)})]}),n.jsx("div",{className:"space-y-2",children:S.despesas.map((H,ee)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:H.categoria}),n.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${H.percentual}%`}})})]}),n.jsxs("div",{className:"ml-4 text-right",children:[n.jsx("p",{className:"font-bold text-gray-900",children:z(H.valor)}),n.jsx("p",{className:"text-sm text-gray-500",children:Z(H.percentual)})]})]},ee))})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-6 rounded-xl ${S.lucroOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Lucro Operacional"}),n.jsx("p",{className:`text-4xl font-bold ${S.lucroOperacional>=0?"text-blue-700":"text-orange-700"}`,children:z(S.lucroOperacional)})]}),n.jsxs("div",{className:`p-6 rounded-xl ${S.margemOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Margem Operacional"}),n.jsx("p",{className:`text-4xl font-bold ${S.margemOperacional>=0?"text-blue-700":"text-orange-700"}`,children:Z(S.margemOperacional)})]})]})})]})]})}),r==="cashflow"&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fluxo de Caixa - Últimos 6 Meses"}),n.jsx("div",{className:"h-96",children:n.jsx(dw,{data:{labels:I.labels,datasets:[{label:"Receitas",data:I.receitas,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:I.despesas,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Saldo",data:I.saldo,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:H=>`${H.dataset.label}: ${z(H.parsed.y)}`}}},scales:{y:{ticks:{callback:H=>z(Number(H))}}}}})})]}),r==="kpis"&&n.jsx(e1e,{}),r==="reports"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Médio"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:z(E.ticketMedio)})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Margem de Lucro"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:Z(E.margemLucro)})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Lucro do Mês"}),n.jsx("p",{className:`text-3xl font-bold ${E.lucroMes>=0?"text-blue-600":"text-red-600"}`,children:z(E.lucroMes)})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Últimos Lançamentos"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Data"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Código"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descrição"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Tipo"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Valor"})]})}),n.jsx("tbody",{className:"divide-y",children:a.slice(0,10).map(H=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(H.data).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:H.codigo}),n.jsx("td",{className:"px-4 py-3 text-sm",children:H.descricao}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:H.tipo})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${H.status==="recebido"||H.status==="pago"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:H.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:z(Number(H.valor))})]},H.id))})]})})]})]})]})},vV=async t=>{try{const e=t.replace(/\D/g,"");if(e.length!==14)throw new Error("CNPJ deve conter 14 dígitos");const r="https://hevvpugkhcmujiyncysq.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",a=`${r}/functions/v1/buscar-cnpj?cnpj=${e}`,i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`,apikey:s}});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===429?new Error("Limite de consultas atingido. Tente novamente em alguns segundos."):i.status===404?new Error(l.error||"CNPJ não encontrado na base de dados."):new Error(l.error||"Erro ao buscar CNPJ. Verifique sua conexão.")}const o=await i.json();if(o.status==="ERROR")throw new Error(o.message||"CNPJ não encontrado");return o}catch(e){throw console.error("Erro ao buscar CNPJ:",e),e instanceof TypeError?new Error("Erro de conexão. Verifique sua internet."):e}},wV=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},t1e=({cnpj:t,onCnpjChange:e,onDataFilled:r})=>{const[s,a]=F.useState(!1),[i,o]=F.useState(""),[l,c]=F.useState(!1),d=async()=>{if(!t||t.replace(/\D/g,"").length!==14){o("CNPJ deve conter 14 dígitos");return}a(!0),o(""),c(!1);try{const f=await vV(t);f&&(r({razao_social:f.razao_social,nome_fantasia:f.nome_fantasia,email:f.email,telefone:f.telefone,logradouro:f.logradouro,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.municipio,estado:f.uf,cep:f.cep}),c(!0),setTimeout(()=>c(!1),3e3))}catch(f){o(f instanceof Error?f.message:"Erro ao buscar CNPJ")}finally{a(!1)}},u=f=>{const b=wV(f);e(b),o(""),c(!1)},h=()=>{t&&t.replace(/\D/g,"").length===14&&d()},m=f=>{f.key==="Enter"&&(f.preventDefault(),d())};return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:n.jsx(hc,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:t,onChange:f=>u(f.target.value),onBlur:h,onKeyPress:m,placeholder:"00.000.000/0000-00",maxLength:18,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-red-500":l?"border-green-500":"border-gray-300"}`}),n.jsx("button",{type:"button",onClick:d,disabled:s||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar dados da empresa",children:s?n.jsx(Qp,{className:"w-5 h-5 animate-spin"}):n.jsx(Ir,{className:"w-5 h-5"})})]}),i&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),l&&n.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[n.jsx(hc,{className:"w-4 h-4"}),"Dados da empresa preenchidos automaticamente"]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Digite o CNPJ e pressione Enter ou clique na lupa para buscar os dados automaticamente"})]})},r1e=({isOpen:t,onClose:e,onSave:r,customerId:s})=>{const[a,i]=F.useState("dados"),[o,l]=F.useState(!1),[c,d]=F.useState({tipo_pessoa:"fisica",nome_razao:"",nome_fantasia:"",cpf:"",rg:"",cnpj:"",inscricao_estadual:"",inscricao_municipal:"",data_nascimento:"",data_fundacao:"",email:"",telefone:"",celular:"",observacoes:""}),[u,h]=F.useState([]),[m,f]=F.useState([]),[b,y]=F.useState([]);F.useEffect(()=>{s&&g()},[s]);const g=async()=>{if(s)try{const{data:S}=await he.from("customers").select("*").eq("id",s).single();S&&d({tipo_pessoa:S.tipo_pessoa||"fisica",nome_razao:S.nome_razao||"",nome_fantasia:S.nome_fantasia||"",cpf:S.cpf||"",rg:S.rg||"",cnpj:S.cnpj||"",inscricao_estadual:S.inscricao_estadual||"",inscricao_municipal:S.inscricao_municipal||"",data_nascimento:S.data_nascimento||"",data_fundacao:S.data_fundacao||"",email:S.email||"",telefone:S.telefone||"",celular:S.celular||"",observacoes:S.observacoes||""});const{data:k}=await he.from("customer_addresses").select("*").eq("customer_id",s),{data:I}=await he.from("customer_contacts").select("*").eq("customer_id",s),{data:_}=await he.from("customer_equipment").select("*").eq("customer_id",s);h(k||[]),f(I||[]),y(_||[])}catch(S){console.error("Error loading customer:",S)}},x=async()=>{try{if(!c.nome_razao){alert("Nome/Razão Social é obrigatório!");return}l(!0);let S=s;const k={nome_razao:c.nome_razao,tipo_pessoa:c.tipo_pessoa||"fisica",cpf:c.cpf||null,cnpj:c.cnpj||null,rg:c.rg||null,email:c.email||null,telefone:c.telefone||null,celular:c.celular||null,inscricao_estadual:c.inscricao_estadual||null,inscricao_municipal:c.inscricao_municipal||null,nome_fantasia:c.nome_fantasia||null,data_nascimento:c.data_nascimento||null,data_fundacao:c.data_fundacao||null,observacoes:c.observacoes||null};if(s){const{error:_}=await he.from("customers").update(k).eq("id",s);if(_)throw console.error("Error updating customer:",_),_}else{const{data:_,error:T}=await he.from("customers").insert([k]).select().single();if(T)throw console.error("Error inserting customer:",T),alert(`Erro ao salvar cliente: ${T.message}`),T;S=_.id}const I={};for(const _ of u)if(_.id.startsWith("new-")){console.log("🔍 ENDEREÇO ORIGINAL:",JSON.stringify(_,null,2));const{data:T,error:D}=await he.rpc("insert_customer_address",{p_customer_id:S,p_tipo:_.tipo||"comercial",p_nome_identificacao:_.nome_identificacao||"",p_cep:_.cep||"",p_logradouro:_.logradouro||"",p_numero:_.numero||"",p_complemento:_.complemento||"",p_bairro:_.bairro||"",p_cidade:_.cidade||"",p_estado:_.estado||"",p_principal:_.principal||!1});if(D)throw console.error("❌ ERRO ao inserir endereço:",D),alert(`Erro ao salvar endereço: ${D.message}`),D;T&&(I[_.id]=T,console.log(`✅ Endereço criado: ${_.id} → ${T}`))}else{const{error:T}=await he.rpc("update_customer_address",{p_id:_.id,p_tipo:_.tipo||"comercial",p_nome_identificacao:_.nome_identificacao||"",p_cep:_.cep||"",p_logradouro:_.logradouro||"",p_numero:_.numero||"",p_complemento:_.complemento||"",p_bairro:_.bairro||"",p_cidade:_.cidade||"",p_estado:_.estado||"",p_principal:_.principal||!1});if(T)throw console.error("❌ ERRO ao atualizar endereço:",T),alert(`Erro ao atualizar endereço: ${T.message}`),T}for(const _ of m)if(_.id.startsWith("new-")){const T={customer_id:S,nome:String(_.nome||""),cargo:String(_.cargo||""),email:String(_.email||""),telefone:String(_.telefone||""),celular:String(_.celular||""),departamento:String(_.departamento||""),principal:!!_.principal,recebe_notificacoes:_.recebe_notificacoes!==void 0?!!_.recebe_notificacoes:!0},{error:D}=await he.from("customer_contacts").insert([T]);if(D)throw console.error("❌ ERRO ao inserir contato:",D),D}else{const T={nome:String(_.nome||""),cargo:String(_.cargo||""),email:String(_.email||""),telefone:String(_.telefone||""),celular:String(_.celular||""),departamento:String(_.departamento||""),principal:!!_.principal,recebe_notificacoes:_.recebe_notificacoes!==void 0?!!_.recebe_notificacoes:!0},{error:D}=await he.from("customer_contacts").update(T).eq("id",_.id);if(D)throw console.error("❌ ERRO ao atualizar contato:",D),D}for(const _ of b)if(_.id.startsWith("new-")){let T=_.customer_address_id;T&&T.startsWith("new-")&&(T=I[T]||null);const D={customer_id:S,customer_address_id:T||null,tipo_equipamento:String(_.tipo_equipamento||""),marca:String(_.marca||""),modelo:String(_.modelo||""),numero_serie:String(_.numero_serie||""),capacidade:String(_.capacidade||""),data_instalacao:_.data_instalacao||null};console.log("🔍 Inserindo equipamento:",D);const{error:L}=await he.from("customer_equipment").insert([D]);if(L)throw console.error("❌ ERRO ao inserir equipamento:",L),L}else{const T={customer_address_id:_.customer_address_id||null,tipo_equipamento:String(_.tipo_equipamento||""),marca:String(_.marca||""),modelo:String(_.modelo||""),numero_serie:String(_.numero_serie||""),capacidade:String(_.capacidade||""),data_instalacao:_.data_instalacao||null},{error:D}=await he.from("customer_equipment").update(T).eq("id",_.id);if(D)throw console.error("❌ ERRO ao atualizar equipamento:",D),D}r(),e()}catch(S){console.error("Error saving:",S),alert("Erro ao salvar cliente!")}finally{l(!1)}},v=()=>{h([...u,{id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",principal:u.length===0}])},j=()=>{f([...m,{id:`new-${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",celular:"",departamento:"",principal:m.length===0,recebe_notificacoes:!0}])},B=()=>{y([...b,{id:`new-${Date.now()}`,customer_address_id:u[0]?.id||"",tipo_equipamento:"",marca:"",modelo:"",numero_serie:"",capacidade:"",data_instalacao:""}])},C=S=>S.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),E=S=>S.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),M=S=>{if(d({...c,nome_razao:S.razao_social||c.nome_razao,nome_fantasia:S.nome_fantasia||c.nome_fantasia,email:S.email||c.email,telefone:S.telefone||c.telefone}),S.logradouro&&S.cidade&&S.estado){const k={id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"Sede",cep:S.cep||"",logradouro:S.logradouro||"",numero:S.numero||"",complemento:S.complemento||"",bairro:S.bairro||"",cidade:S.cidade||"",estado:S.estado||"",principal:u.length===0};h([...u,k])}};return t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Cliente":"Novo Cliente"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Cadastro completo com endereços, contatos e equipamentos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:nn},{id:"enderecos",label:"Endereços",icon:lo},{id:"contatos",label:"Contatos",icon:Zt},{id:"equipamentos",label:"Equipamentos",icon:$t}].map(S=>{const k=S.icon;return n.jsxs("button",{onClick:()=>i(S.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===S.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(k,{className:"h-4 w-4"}),S.label]},S.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(Nt,{mode:"wait",children:[a==="dados"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:c.tipo_pessoa==="fisica",onChange:()=>d({...c,tipo_pessoa:"fisica"}),className:"w-4 h-4"}),n.jsx(nn,{className:"h-4 w-4"}),n.jsx("span",{children:"Pessoa Física"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:c.tipo_pessoa==="juridica",onChange:()=>d({...c,tipo_pessoa:"juridica"}),className:"w-4 h-4"}),n.jsx(VA,{className:"h-4 w-4"}),n.jsx("span",{children:"Pessoa Jurídica"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:c.tipo_pessoa==="fisica"?"Nome Completo *":"Razão Social *"}),n.jsx("input",{type:"text",value:c.nome_razao,onChange:S=>d({...c,nome_razao:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="juridica"&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Fantasia"}),n.jsx("input",{type:"text",value:c.nome_fantasia,onChange:S=>d({...c,nome_fantasia:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="fisica"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),n.jsx("input",{type:"text",value:c.cpf,maxLength:14,onChange:S=>d({...c,cpf:C(S.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),n.jsx("input",{type:"text",value:c.rg,onChange:S=>d({...c,rg:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),n.jsx("input",{type:"date",value:c.data_nascimento,onChange:S=>d({...c,data_nascimento:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(t1e,{cnpj:c.cnpj,onCnpjChange:S=>d({...c,cnpj:S}),onDataFilled:M}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrição Estadual"}),n.jsx("input",{type:"text",value:c.inscricao_estadual,onChange:S=>d({...c,inscricao_estadual:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrição Municipal"}),n.jsx("input",{type:"text",value:c.inscricao_municipal,onChange:S=>d({...c,inscricao_municipal:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Fundação"}),n.jsx("input",{type:"date",value:c.data_fundacao,onChange:S=>d({...c,data_fundacao:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:c.email,onChange:S=>d({...c,email:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: contato@empresa.com.br"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:c.telefone,onChange:S=>d({...c,telefone:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular / WhatsApp"}),n.jsx("input",{type:"tel",value:c.celular,onChange:S=>d({...c,celular:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),n.jsx("textarea",{value:c.observacoes,onChange:S=>d({...c,observacoes:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ex: Cliente preferencial, Pagamento à vista, Desconto corporativo..."})]})]})]},"dados"),a==="enderecos"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Endereços do Cliente"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"💡 Digite o CEP e os dados serão preenchidos automaticamente"})]}),n.jsxs("button",{onClick:v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Endereço"]})]}),u.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(lo,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum endereço cadastrado"})]}),u.map((S,k)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Endereço #",k+1]}),n.jsx("button",{onClick:()=>h(u.filter(I=>I.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),n.jsxs("select",{value:S.tipo,onChange:I=>h(u.map(_=>_.id===S.id?{..._,tipo:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"comercial",children:"Comercial"}),n.jsx("option",{value:"residencial",children:"Residencial"}),n.jsx("option",{value:"filial",children:"Filial"}),n.jsx("option",{value:"outro",children:"Outro"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identificação (Ex: Matriz, Filial Centro)"}),n.jsx("input",{type:"text",value:S.nome_identificacao||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,nome_identificacao:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Matriz, Filial São Paulo, Depósito Centro"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",value:S.cep||"",maxLength:9,onChange:I=>h(u.map(_=>_.id===S.id?{..._,cep:E(I.target.value)}:_)),onBlur:async I=>{const _=I.target.value.replace(/\D/g,"");if(_.length===8)try{const D=await(await fetch(`https://viacep.com.br/ws/${_}/json/`)).json();D.erro||h(u.map(L=>L.id===S.id?{...L,logradouro:D.logradouro||L.logradouro,bairro:D.bairro||L.bairro,cidade:D.localidade||L.cidade,estado:D.uf||L.estado,complemento:D.complemento||L.complemento}:L))}catch{console.log("CEP não encontrado, preencha manualmente")}},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logradouro (Rua/Avenida)"}),n.jsx("input",{type:"text",value:S.logradouro||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,logradouro:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rua das Flores, Avenida Paulista"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Número"}),n.jsx("input",{type:"text",value:S.numero||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,numero:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 123, S/N"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:S.complemento||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,complemento:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Apto 101, Bloco A, Sala 205"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:S.bairro||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,bairro:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Centro, Vila Mariana"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:S.cidade||"",onChange:I=>h(u.map(_=>_.id===S.id?{..._,cidade:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: São Paulo"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),n.jsx("input",{type:"text",value:S.estado||"",maxLength:2,onChange:I=>h(u.map(_=>_.id===S.id?{..._,estado:I.target.value.toUpperCase()}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"SP"})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.principal,onChange:I=>h(u.map(_=>_.id===S.id?{..._,principal:I.target.checked}:{..._,principal:!1})),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Endereço Principal"})]})})]})]},S.id))]},"enderecos"),a==="contatos"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Contatos e Responsáveis"}),n.jsxs("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Contato"]})]}),m.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(Zt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum contato cadastrado"})]}),m.map((S,k)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Contato #",k+1]}),n.jsx("button",{onClick:()=>f(m.filter(I=>I.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:S.nome,onChange:I=>f(m.map(_=>_.id===S.id?{..._,nome:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: João da Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cargo"}),n.jsx("input",{type:"text",value:S.cargo,onChange:I=>f(m.map(_=>_.id===S.id?{..._,cargo:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gerente de Compras, Diretor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:S.email,onChange:I=>f(m.map(_=>_.id===S.id?{..._,email:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: joao@empresa.com.br"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:S.telefone,onChange:I=>f(m.map(_=>_.id===S.id?{..._,telefone:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular"}),n.jsx("input",{type:"tel",value:S.celular,onChange:I=>f(m.map(_=>_.id===S.id?{..._,celular:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:S.departamento,onChange:I=>f(m.map(_=>_.id===S.id?{..._,departamento:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Financeiro, Compras, T.I."})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.principal,onChange:I=>f(m.map(_=>_.id===S.id?{..._,principal:I.target.checked}:{..._,principal:!1})),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Contato Principal"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.recebe_notificacoes,onChange:I=>f(m.map(_=>_.id===S.id?{..._,recebe_notificacoes:I.target.checked}:_)),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Recebe Notificações"})]})]})]})]},S.id))]},"contatos"),a==="equipamentos"&&n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Inventário de Equipamentos"}),n.jsxs("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Adicionar Equipamento"]})]}),u.length===0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-900",children:"Cadastre endereços primeiro"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Para registrar equipamentos, é necessário ter pelo menos um endereço cadastrado."})]})]}),b.length===0&&u.length>0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx($t,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum equipamento cadastrado"})]}),b.map((S,k)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Equipamento #",k+1]}),n.jsx("button",{onClick:()=>y(b.filter(I=>I.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localização"}),n.jsxs("select",{value:S.customer_address_id,onChange:I=>y(b.map(_=>_.id===S.id?{..._,customer_address_id:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione o endereço..."}),u.map(I=>n.jsx("option",{value:I.id,children:I.nome_identificacao||`${I.logradouro}, ${I.numero}`},I.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Equipamento"}),n.jsx("input",{type:"text",value:S.tipo_equipamento,onChange:I=>y(b.map(_=>_.id===S.id?{..._,tipo_equipamento:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Ar Condicionado Split"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),n.jsx("input",{type:"text",value:S.marca,onChange:I=>y(b.map(_=>_.id===S.id?{..._,marca:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),n.jsx("input",{type:"text",value:S.modelo,onChange:I=>y(b.map(_=>_.id===S.id?{..._,modelo:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Número de Série"}),n.jsx("input",{type:"text",value:S.numero_serie,onChange:I=>y(b.map(_=>_.id===S.id?{..._,numero_serie:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacidade"}),n.jsx("input",{type:"text",value:S.capacidade,onChange:I=>y(b.map(_=>_.id===S.id?{..._,capacidade:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12000 BTU, 18000 BTU"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Instalação"}),n.jsx("input",{type:"date",value:S.data_instalacao,onChange:I=>y(b.map(_=>_.id===S.id?{..._,data_instalacao:I.target.value}:_)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},S.id))]},"equipamentos")]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:x,disabled:o,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:o?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5"}),"Salvar Cliente"]})})]})]})}):null},n1e=()=>{const{isAdmin:t}=Mn(),e=Vs(),[r,s]=F.useState([]),[a,i]=F.useState([]),[o,l]=F.useState([]),[c,d]=F.useState([]),[u,h]=F.useState(!0),[m,f]=F.useState(null),[b,y]=F.useState(""),[g,x]=F.useState("all"),[v,j]=F.useState(!1),[B,C]=F.useState(null),[E,M]=F.useState(void 0),[S,k]=F.useState(null),[I,_]=F.useState(null),[T,D]=F.useState(!1),[L,V]=F.useState(null),[z,Z]=F.useState([]),[G,H]=F.useState(1),ee=10,[Y,q]=F.useState({name:"",email:"",phone:"",address:"",client_type:"PF",document:""}),[U,te]=F.useState({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""});F.useEffect(()=>{X()},[]);const X=async()=>{try{h(!0);const Ce=await Yle();s(Ce||[]),f(null)}catch(Ce){console.error("Error loading clients:",Ce),f("Erro ao carregar clientes"),s([{id:"1",name:"João Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - São Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - São Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"}])}finally{h(!1)}},se=async Ce=>{try{return await ece(Ce)||[]}catch(lt){return console.error("Error loading client contracts:",lt),[]}},fe=async Ce=>{try{const{data:lt,error:ot}=await he.from("service_orders").select("*").eq("customer_id",Ce).order("opened_at",{ascending:!1});if(ot)throw ot;return lt||[]}catch(lt){return console.error("Error loading service orders:",lt),[]}},me=async Ce=>{try{const{data:lt,error:ot}=await he.from("customer_equipment").select("*").eq("customer_id",Ce).order("created_at",{ascending:!1});if(ot)throw ot;return lt||[]}catch(lt){return console.error("Error loading equipments:",lt),[]}},pe=r.filter(Ce=>{const lt=Ce.name.toLowerCase().includes(b.toLowerCase())||Ce.email?.toLowerCase().includes(b.toLowerCase())||Ce.phone?.toLowerCase().includes(b.toLowerCase()),ot=g==="all"||Ce.client_type===g;return lt&&ot}),_e=Math.ceil(pe.length/ee),ge=(G-1)*ee,ye=ge+ee,Ve=pe.slice(ge,ye),st=r.filter(Ce=>a.some(lt=>lt.customer_id===Ce.id&&lt.status==="active")).length;F.useEffect(()=>{H(1)},[b,g]);const Ne=async Ce=>{try{await Jle(Ce),s(r.filter(lt=>lt.id!==Ce)),k(null),alert("Cliente excluído com sucesso!")}catch(lt){console.error("Error deleting client:",lt),alert("Erro ao excluir cliente")}},J=async()=>{if(!I){alert("Por favor, selecione um cliente");return}try{const Ce={client_id:I.id,contract_number:`CONT-${new Date().getFullYear()}-${String(a.length+1).padStart(3,"0")}`,title:U.title,start_date:U.start_date,end_date:U.end_date,contract_type:U.contract_type,frequency:U.frequency,value:U.value,status:"active",sla_response_time:U.sla_response_time,sla_resolution_time:U.sla_resolution_time,sla_availability:U.sla_availability,next_service_date:U.next_service_date,terms_and_conditions:U.terms_and_conditions,notes:U.notes},lt=await Zle(Ce);i([...a,lt]),te({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""}),D(!1),_(null),alert("Contrato criado com sucesso!")}catch(Ce){console.error("Error creating contract:",Ce),alert("Erro ao criar contrato")}},Me=async()=>{if(L)try{const Ce={title:L.title,start_date:L.start_date,end_date:L.end_date,contract_type:L.contract_type,frequency:L.frequency,value:L.value,status:L.status,sla_response_time:L.sla_response_time,sla_resolution_time:L.sla_resolution_time,sla_availability:L.sla_availability,next_service_date:L.next_service_date,terms_and_conditions:L.terms_and_conditions,notes:L.notes},lt=await tce(L.id,Ce);i(a.map(ot=>ot.id===lt.id?lt:ot)),V(null),alert("Contrato atualizado com sucesso!")}catch(Ce){console.error("Error updating contract:",Ce),alert("Erro ao atualizar contrato")}},Ie=async Ce=>{try{await rce(Ce),i(a.filter(lt=>lt.id!==Ce)),alert("Contrato excluído com sucesso!")}catch(lt){console.error("Error deleting contract:",lt),alert("Erro ao excluir contrato")}},le=async Ce=>{if(z.includes(Ce))Z(z.filter(lt=>lt!==Ce));else{Z([...z,Ce]);const[lt,ot,Pt]=await Promise.all([se(Ce),fe(Ce),me(Ce)]);i(zt=>[...zt.filter(mt=>mt.client_id!==Ce),...lt]),l(zt=>[...zt.filter(mt=>mt.customer_id!==Ce),...ot]),d(zt=>[...zt.filter(mt=>mt.customer_id!==Ce),...Pt])}},Se=Ce=>{switch(Ce){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ze=Ce=>{switch(Ce){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluída";case"cancelled":return"Cancelada";default:return Ce}},Oe=Ce=>{switch(Ce){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},dt=Ce=>{switch(Ce){case"active":return"Ativo";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"suspended":return"Suspenso";default:return"Desconhecido"}},_t=Ce=>{switch(Ce){case"maintenance":return"Manutenção";case"support":return"Suporte";case"service":return"Serviço";default:return Ce}},Ge=Ce=>{switch(Ce){case"monthly":return"Mensal";case"quarterly":return"Trimestral";case"biannual":return"Semestral";case"annual":return"Anual";default:return"Não definida"}};return n.jsxs("div",{className:"space-y-6",children:[m&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:m})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestão de Clientes"}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:()=>j(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Cliente"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:n.jsx(Zt,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Clientes"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:n.jsx(nn,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(Ce=>Ce.client_type==="PF").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Física"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:n.jsx(VA,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(Ce=>Ce.client_type==="PJ").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Jurídica"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:n.jsx(vt,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:st}),n.jsx("p",{className:"text-sm text-gray-600",children:"Clientes com Contrato"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:b,onChange:Ce=>y(Ce.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(um,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g,onChange:Ce=>x(Ce.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Tipos"}),n.jsx("option",{value:"PF",children:"Pessoa Física"}),n.jsx("option",{value:"PJ",children:"Pessoa Jurídica"})]})]})]})}),u?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando clientes..."})]}):n.jsxs("div",{className:"space-y-4",children:[Ve.length>0?Ve.map((Ce,lt)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:lt*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${Ce.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:Ce.client_type==="PF"?n.jsx(nn,{className:"h-6 w-6"}):n.jsx(VA,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Ce.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ce.client_type==="PF"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:Ce.client_type}),Ce.document&&n.jsx("span",{className:"text-xs text-gray-500",children:Ce.document})]})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>le(Ce.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:z.includes(Ce.id)?n.jsx(xc,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ya,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:Ce.phone})]}),Ce.email&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ks,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:Ce.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[n.jsx(lo,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:Ce.address})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{C(Ce),M(Ce.id)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(pn,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>k(Ce.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]}),n.jsx(Nt,{children:z.includes(Ce.id)&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(vt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Contratos"]}),n.jsxs("button",{onClick:()=>{_(Ce),D(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(Ot,{className:"h-3 w-3"}),n.jsx("span",{children:"Novo Contrato"})]})]}),a.filter(ot=>ot.customer_id===Ce.id).length>0?n.jsx("div",{className:"space-y-3",children:a.filter(ot=>ot.customer_id===Ce.id).map(ot=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:ot.title}),n.jsx("p",{className:"text-sm text-gray-600",children:ot.contract_number})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Oe(ot.status)}`,children:dt(ot.status)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Tipo:"}),n.jsx("p",{className:"font-medium",children:_t(ot.contract_type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Frequência:"}),n.jsx("p",{className:"font-medium",children:Ge(ot.frequency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor:"}),n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",ot.value.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Vigência:"}),n.jsxs("p",{className:"font-medium",children:[new Date(ot.start_date).toLocaleDateString("pt-BR")," - ",new Date(ot.end_date).toLocaleDateString("pt-BR")]})]}),ot.next_service_date&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Próximo Serviço:"}),n.jsx("p",{className:"font-medium",children:new Date(ot.next_service_date).toLocaleDateString("pt-BR")})]}),ot.sla_response_time&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"SLA Resposta:"}),n.jsxs("p",{className:"font-medium",children:[ot.sla_response_time,"h"]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>V(ot),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(pn,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>Ie(ot.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(rr,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},ot.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(vt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum contrato cadastrado"}),n.jsx("button",{onClick:()=>{_(Ce),D(!0)},className:"mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Criar Primeiro Contrato"})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[n.jsx(yi,{className:"h-5 w-5 mr-2 text-green-500"}),"Histórico de Serviços"]}),o.filter(ot=>ot.customer_id===Ce.id).length>0?n.jsxs("div",{className:"space-y-2",children:[o.filter(ot=>ot.customer_id===Ce.id).slice(0,5).map(ot=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/ordens-servico/${ot.id}`),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:ot.order_number}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Se(ot.status)}`,children:Ze(ot.status)})]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:ot.description||"Sem descrição"}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(kr,{className:"h-3 w-3"}),ot.opened_at?new Date(ot.opened_at).toLocaleDateString("pt-BR"):"N/A"]}),ot.total_value&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(pr,{className:"h-3 w-3"}),"R$ ",ot.total_value.toFixed(2)]})]})]}),n.jsx(uo,{className:"h-4 w-4 text-gray-400"})]})},ot.id)),o.filter(ot=>ot.customer_id===Ce.id).length>5&&n.jsxs("button",{onClick:()=>e("/ordens-servico"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas as ",o.filter(ot=>ot.customer_id===Ce.id).length," ordens de serviço"]})]}):n.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(yi,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma ordem de serviço realizada"})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[n.jsx($t,{className:"h-5 w-5 mr-2 text-purple-500"}),"Equipamentos"]}),c.filter(ot=>ot.customer_id===Ce.id).length>0?n.jsx("div",{className:"space-y-2",children:c.filter(ot=>ot.customer_id===Ce.id).map(ot=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:ot.equipment_name||"Equipamento"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-600",children:[ot.brand&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",ot.brand]}),ot.model&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Modelo:"})," ",ot.model]}),ot.serial_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Série:"})," ",ot.serial_number]}),ot.installation_date&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Instalado em:"})," ",new Date(ot.installation_date).toLocaleDateString("pt-BR")]})]})]})})},ot.id))}):n.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx($t,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum equipamento cadastrado"})]})]})]})})]},Ce.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(Zt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cliente encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos clientes com os filtros selecionados."}),n.jsx("button",{onClick:()=>{y(""),x("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]}),pe.length>0&&_e>1&&n.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[n.jsx("button",{onClick:()=>H(Ce=>Math.max(Ce-1,1)),disabled:G===1,className:`px-4 py-2 rounded-lg ${G===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:_e},(Ce,lt)=>lt+1).map(Ce=>n.jsx("button",{onClick:()=>H(Ce),className:`w-10 h-10 rounded-lg ${G===Ce?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:Ce},Ce))}),n.jsx("button",{onClick:()=>H(Ce=>Math.min(Ce+1,_e)),disabled:G===_e,className:`px-4 py-2 rounded-lg ${G===_e?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Próxima"}),n.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Mostrando ",ge+1,"-",Math.min(ye,pe.length)," de ",pe.length," clientes"]})]})]}),n.jsx(r1e,{isOpen:v||B!==null,onClose:()=>{j(!1),C(null),M(void 0)},onSave:()=>{X(),j(!1),C(null),M(void 0)},customerId:E}),n.jsx(Nt,{children:!1}),n.jsx(Nt,{children:!1}),n.jsx(Nt,{children:S&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ação não pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>k(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>Ne(S),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(Nt,{children:T&&I&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>D(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Contrato"}),n.jsx("button",{onClick:()=>D(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Cliente Selecionado"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${I.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:I.client_type==="PF"?n.jsx(nn,{className:"h-5 w-5"}):n.jsx(VA,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:I.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[I.client_type," - ",I.phone]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações do Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Contrato"}),n.jsx("input",{type:"text",value:U.title,onChange:Ce=>te({...U,title:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Contrato de Manutenção Preventiva",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),n.jsxs("select",{value:U.contract_type,onChange:Ce=>te({...U,contract_type:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"maintenance",children:"Manutenção"}),n.jsx("option",{value:"support",children:"Suporte"}),n.jsx("option",{value:"service",children:"Serviço"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),n.jsxs("select",{value:U.frequency,onChange:Ce=>te({...U,frequency:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Início"}),n.jsx("input",{type:"date",value:U.start_date,onChange:Ce=>te({...U,start_date:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Término"}),n.jsx("input",{type:"date",value:U.end_date,onChange:Ce=>te({...U,end_date:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),n.jsx("input",{type:"number",value:U.value,onChange:Ce=>te({...U,value:parseFloat(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Próximo Serviço"}),n.jsx("input",{type:"date",value:U.next_service_date,onChange:Ce=>te({...U,next_service_date:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(rn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configuração de SLA"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),n.jsx("input",{type:"number",value:U.sla_response_time,onChange:Ce=>te({...U,sla_response_time:parseInt(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resolução (horas)"}),n.jsx("input",{type:"number",value:U.sla_resolution_time,onChange:Ce=>te({...U,sla_resolution_time:parseInt(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),n.jsx("input",{type:"number",value:U.sla_availability,onChange:Ce=>te({...U,sla_availability:parseFloat(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observações"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condições"}),n.jsx("textarea",{value:U.terms_and_conditions,onChange:Ce=>te({...U,terms_and_conditions:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Descreva os termos e condições do contrato..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),n.jsx("textarea",{value:U.notes,onChange:Ce=>te({...U,notes:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observações adicionais..."})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>D(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:J,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Criar Contrato"]})]})]})]})}),n.jsx(Nt,{children:L&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>V(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Contrato"}),n.jsx("button",{onClick:()=>V(null),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informações do Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Contrato"}),n.jsx("input",{type:"text",value:L.title,onChange:Ce=>V({...L,title:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),n.jsxs("select",{value:L.contract_type,onChange:Ce=>V({...L,contract_type:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"maintenance",children:"Manutenção"}),n.jsx("option",{value:"support",children:"Suporte"}),n.jsx("option",{value:"service",children:"Serviço"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:L.status,onChange:Ce=>V({...L,status:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"active",children:"Ativo"}),n.jsx("option",{value:"suspended",children:"Suspenso"}),n.jsx("option",{value:"cancelled",children:"Cancelado"}),n.jsx("option",{value:"expired",children:"Expirado"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),n.jsxs("select",{value:L.frequency,onChange:Ce=>V({...L,frequency:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),n.jsx("input",{type:"number",value:L.value,onChange:Ce=>V({...L,value:parseFloat(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(rn,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configuração de SLA"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),n.jsx("input",{type:"number",value:L.sla_response_time||0,onChange:Ce=>V({...L,sla_response_time:parseInt(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resolução (horas)"}),n.jsx("input",{type:"number",value:L.sla_resolution_time||0,onChange:Ce=>V({...L,sla_resolution_time:parseInt(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),n.jsx("input",{type:"number",value:L.sla_availability||0,onChange:Ce=>V({...L,sla_availability:parseFloat(Ce.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observações"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condições"}),n.jsx("textarea",{value:L.terms_and_conditions||"",onChange:Ce=>V({...L,terms_and_conditions:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),n.jsx("textarea",{value:L.notes||"",onChange:Ce=>V({...L,notes:Ce.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>V(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:Me,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]})},s1e=({onPremiumFeature:t})=>{const[e,r]=F.useState("themes"),[s,a]=F.useState(null),[i,o]=F.useState(null),[l,c]=F.useState("desktop"),[d,u]=F.useState("light"),[h,m]=F.useState({id:"custom",name:"Tema Personalizado",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"});F.useEffect(()=>{const x=localStorage.getItem("giartech-theme");if(x){const v=JSON.parse(x);o(v),f(v)}},[]);const f=x=>{const v=document.documentElement,j=x.palette;v.style.setProperty("--color-primary",j.primary),v.style.setProperty("--color-secondary",j.secondary),v.style.setProperty("--color-accent",j.accent),v.style.setProperty("--color-success",j.success),v.style.setProperty("--color-warning",j.warning),v.style.setProperty("--color-error",j.error),v.style.setProperty("--color-neutral",j.neutral),v.style.setProperty("--color-background",j.background),v.style.setProperty("--color-surface",j.surface),v.style.setProperty("--color-text",j.text)},b=x=>{o(x),f(x),localStorage.setItem("giartech-theme",JSON.stringify(x));const v=document.createElement("div");v.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",v.innerHTML=`✓ Tema "${x.name}" aplicado com sucesso!`,document.body.appendChild(v),setTimeout(()=>{v.style.transition="opacity 0.3s",v.style.opacity="0",setTimeout(()=>v.remove(),300)},2e3)},y=()=>{const x={id:"custom-"+Date.now(),name:h.name,description:"Tema personalizado criado pelo usuário",palette:h,typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!0};b(x)},g=[{id:"default",name:"Tema Padrão",description:"Tema clássico azul e branco",palette:{id:"default",name:"Padrão",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!1},{id:"dark",name:"Tema Escuro",description:"Tema escuro moderno",palette:{id:"dark",name:"Escuro",primary:"#60a5fa",secondary:"#94a3b8",accent:"#a78bfa",success:"#34d399",warning:"#fbbf24",error:"#f87171",neutral:"#9ca3af",background:"#111827",surface:"#1f2937",text:"#f9fafb"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"12px",shadows:!0,animations:!0,isCustom:!1},{id:"nature",name:"Natureza",description:"Tons verdes e terrosos",palette:{id:"nature",name:"Natureza",primary:"#059669",secondary:"#6b7280",accent:"#d97706",success:"#10b981",warning:"#f59e0b",error:"#dc2626",neutral:"#78716c",background:"#f0fdf4",surface:"#ecfdf5",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.6"},spacing:"8px",borderRadius:"16px",shadows:!1,animations:!0,isCustom:!1}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Personalização Visual"}),i&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tema ativo: ",n.jsx("span",{className:"font-semibold text-green-600",children:i.name})]})]}),n.jsxs("button",{onClick:()=>alert("Novo tema em breve!"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Tema"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>r("themes"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="themes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(g1,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Temas"})]}),n.jsxs("button",{onClick:()=>r("colors"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="colors"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(gh,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Cores"})]}),n.jsxs("button",{onClick:()=>r("preview"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="preview"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(la,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Preview"})]})]}),n.jsxs("div",{className:"p-6",children:[e==="themes"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Temas Disponíveis"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((x,v)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:`p-6 rounded-xl border-2 cursor-pointer transition-all relative ${i?.id===x.id?"border-green-500 bg-green-50":s?.id===x.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(x),children:[i?.id===x.id&&n.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[n.jsx(mn,{className:"h-3 w-3"}),n.jsx("span",{children:"Ativo"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex space-x-1 mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.primary}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.secondary}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.accent}})]}),n.jsxs("div",{className:"w-full h-16 rounded-lg border",style:{backgroundColor:x.palette.background,borderColor:x.palette.neutral},children:[n.jsx("div",{className:"h-4 rounded-t-lg",style:{backgroundColor:x.palette.primary}}),n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"w-full h-2 rounded mb-1",style:{backgroundColor:x.palette.surface}}),n.jsx("div",{className:"w-3/4 h-2 rounded",style:{backgroundColor:x.palette.surface}})]})]})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x.description}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:j=>{j.stopPropagation(),a(x),r("preview")},className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(la,{className:"h-4 w-4 mr-1 inline"}),"Preview"]}),n.jsxs("button",{onClick:j=>{j.stopPropagation(),b(x)},className:`flex-1 px-3 py-1 rounded-lg transition-colors text-sm ${i?.id===x.id?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(mn,{className:"h-4 w-4 mr-1 inline"}),i?.id===x.id?"Ativo":"Aplicar"]})]})]},x.id))})]}),e==="colors"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor de Cores"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).filter(([x])=>x!=="id"&&x!=="name").map(([x,v])=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:x==="primary"?"Cor Primária":x==="secondary"?"Cor Secundária":x==="accent"?"Cor de Destaque":x==="success"?"Cor de Sucesso":x==="warning"?"Cor de Aviso":x==="error"?"Cor de Erro":x==="neutral"?"Cor Neutra":x==="background"?"Cor de Fundo":x==="surface"?"Cor de Superfície":x==="text"?"Cor do Texto":x}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"color",value:v,onChange:j=>m({...h,[x]:j.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:v,onChange:j=>m({...h,[x]:j.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),n.jsx("button",{onClick:()=>navigator.clipboard.writeText(v),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:n.jsx(Pd,{className:"h-4 w-4"})})]})]},x))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:y,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar e Aplicar Paleta"]}),n.jsxs("button",{onClick:()=>m(g[0].palette),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(zs,{className:"h-4 w-4 mr-2 inline"}),"Resetar"]})]})]}),e==="preview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview do Tema"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>c("desktop"),className:`p-2 rounded-md transition-colors ${l==="desktop"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(Kse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c("tablet"),className:`p-2 rounded-md transition-colors ${l==="tablet"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(Rae,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c("mobile"),className:`p-2 rounded-md transition-colors ${l==="mobile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(UE,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>u("light"),className:`p-2 rounded-md transition-colors ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(Iae,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>u("dark"),className:`p-2 rounded-md transition-colors ${d==="dark"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(Gse,{className:"h-4 w-4"})})]})]})]}),n.jsx("div",{className:"bg-gray-100 p-8 rounded-xl",children:n.jsxs("div",{className:`mx-auto rounded-lg shadow-lg overflow-hidden transition-all ${l==="mobile"?"max-w-sm":l==="tablet"?"max-w-2xl":"max-w-4xl"}`,style:{backgroundColor:s?.palette.background||h.background,color:s?.palette.text||h.text},children:[n.jsx("div",{className:"p-4",style:{backgroundColor:s?.palette.primary||h.primary},children:n.jsx("h3",{className:"text-white font-semibold",children:"Sistema GiarTech"})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(oa,{className:"h-5 w-5",style:{color:s?.palette.primary||h.primary}}),n.jsx("span",{className:"font-medium",children:"Analytics"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Zt,{className:"h-5 w-5",style:{color:s?.palette.success||h.success}}),n.jsx("span",{className:"font-medium",children:"Usuários"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"567"})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx($t,{className:"h-5 w-5",style:{color:s?.palette.accent||h.accent}}),n.jsx("span",{className:"font-medium",children:"Produtos"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"89"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.primary||h.primary},children:"Botão Primário"}),n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.success||h.success},children:"Botão de Sucesso"}),n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.warning||h.warning},children:"Botão de Aviso"})]})]})]})})]})]})]})]})},a1e=({isOpen:t,onClose:e,onSave:r,title:s,children:a,showControls:i=!0,currentStep:o,totalSteps:l,onPrevStep:c,onNextStep:d})=>n.jsx(Nt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(la,{className:"h-5 w-5 text-blue-500"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s})]}),n.jsx("button",{onClick:e,children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6",children:a}),i&&n.jsxs("div",{className:"flex justify-between items-center",children:[o!==void 0&&l!==void 0?n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:c,disabled:o<=0,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Qd,{className:"h-4 w-4"}),n.jsx("span",{children:"Anterior"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",o+1," de ",l]}),n.jsxs("button",{onClick:d,disabled:o>=l-1,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o>=l-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx("span",{children:"Próximo"}),n.jsx(uo,{className:"h-4 w-4"})]})]}):n.jsx("div",{}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fechar"}),r&&n.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),n.jsx("span",{children:"Salvar Alterações"})]})]})]})]})]})}),i1e=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:s}=Mn(),[a,i]=F.useState([{id:"inventory",name:"Estoque de Materiais",description:"Controle de produtos, quantidades e movimentações",icon:$t,enabled:!0,metrics:["Quantidade em estoque","Produtos em falta","Valor total","Rotatividade"],color:"from-blue-500 to-cyan-500"},{id:"orders",name:"Ordens de Serviço",description:"Gestão de pedidos e acompanhamento de status",icon:yi,enabled:!0,metrics:["Ordens abertas","Ordens concluídas","Tempo médio","Satisfação"],color:"from-green-500 to-emerald-500"},{id:"team",name:"Desempenho da Equipe",description:"Produtividade e performance dos colaboradores",icon:Zt,enabled:!1,metrics:["Tarefas concluídas","Horas trabalhadas","Eficiência","Avaliações"],color:"from-purple-500 to-pink-500",requiresPremium:!0},{id:"financial",name:"Financeiro",description:"Receitas, despesas e indicadores financeiros",icon:pr,enabled:!1,metrics:["Receita mensal","Despesas","Lucro líquido","Fluxo de caixa"],color:"from-orange-500 to-red-500",requiresPremium:!0},{id:"delivery",name:"Entregas",description:"Acompanhamento de entregas e logística",icon:QE,enabled:!0,metrics:["Entregas no prazo","Atrasos","Distância percorrida","Custos"],color:"from-indigo-500 to-purple-500"},{id:"quality",name:"Qualidade",description:"Controle de qualidade e não conformidades",icon:un,enabled:!1,metrics:["Não conformidades","Reclamações","Índice de qualidade","Melhorias"],color:"from-yellow-500 to-orange-500",requiresEnterprise:!0}]),[o,l]=F.useState([{id:"realtime",name:"Monitoramento em Tempo Real",description:"Configurações para monitoramento em tempo real",icon:ho,requiresEnterprise:!0,settings:[{id:"interval",name:"Intervalo de Atualização",description:"Frequência de atualização dos dados em tempo real",type:"select",value:"5s",options:["1s","5s","10s","30s","1m"]},{id:"alerts",name:"Alertas Automáticos",description:"Enviar alertas automáticos quando métricas ultrapassarem limites",type:"toggle",value:!0},{id:"threshold",name:"Limite de Alerta",description:"Percentual de desvio para disparar alertas",type:"range",value:15,min:5,max:50,step:5}]},{id:"security",name:"Segurança Avançada",description:"Configurações de segurança para monitoramento",icon:rn,requiresEnterprise:!0,settings:[{id:"encryption",name:"Criptografia de Dados",description:"Criptografar dados sensíveis de monitoramento",type:"toggle",value:!0},{id:"access",name:"Controle de Acesso",description:"Nível de permissão para visualizar dados de monitoramento",type:"select",value:"admin",options:["admin","manager","all"]},{id:"audit",name:"Trilha de Auditoria",description:"Manter logs de acesso aos dados de monitoramento",type:"toggle",value:!0}]},{id:"notifications",name:"Notificações",description:"Configurações de notificações de monitoramento",icon:qf,requiresEnterprise:!0,settings:[{id:"channels",name:"Canais de Notificação",description:"Canais para envio de notificações",type:"select",value:"all",options:["email","push","sms","all"]},{id:"frequency",name:"Frequência de Resumos",description:"Frequência de envio de resumos de monitoramento",type:"select",value:"daily",options:["hourly","daily","weekly"]},{id:"quiet",name:"Período de Silêncio",description:"Horário em que notificações não serão enviadas",type:"input",value:"22:00 - 08:00"}]},{id:"integration",name:"Integrações",description:"Configurações de integração com sistemas externos",icon:xae,requiresEnterprise:!0,settings:[{id:"api",name:"API Externa",description:"Integrar com API externa para monitoramento",type:"toggle",value:!1},{id:"endpoint",name:"Endpoint da API",description:"URL do endpoint da API externa",type:"input",value:"https://api.example.com/monitoring"},{id:"format",name:"Formato de Dados",description:"Formato dos dados enviados para API externa",type:"select",value:"json",options:["json","xml","csv"]}]},{id:"storage",name:"Armazenamento de Dados",description:"Configurações de armazenamento de dados de monitoramento",icon:lp,requiresEnterprise:!0,settings:[{id:"retention",name:"Período de Retenção",description:"Tempo de retenção dos dados de monitoramento",type:"select",value:"90d",options:["30d","90d","180d","365d","unlimited"]},{id:"compression",name:"Compressão de Dados",description:"Comprimir dados históricos para economizar espaço",type:"toggle",value:!0},{id:"backup",name:"Backup Automático",description:"Frequência de backup dos dados de monitoramento",type:"select",value:"daily",options:["daily","weekly","monthly"]}]}]),[c,d]=F.useState(!1),[u,h]=F.useState(!1),[m,f]=F.useState(o[0]?.id||""),[b,y]=F.useState({name:"",description:"",metrics:[""]}),[g,x]=F.useState(null),[v,j]=F.useState(["areas","enterprise"]),[B,C]=F.useState(!1),E=V=>{j(z=>z.includes(V)?z.filter(Z=>Z!==V):[...z,V])},M=V=>{const z=a.find(G=>G.id===V);if(z?.requiresPremium&&!r){t&&t("Monitoramento Avançado");return}if(z?.requiresEnterprise&&!s){e&&e("Monitoramento Enterprise");return}i(a.map(G=>G.id===V?{...G,enabled:!G.enabled}:G));const Z=document.getElementById(`area-${V}`);Z&&(Z.classList.add("bg-blue-50"),setTimeout(()=>{Z.classList.remove("bg-blue-50")},300))},S=()=>{console.log("Configurações salvas:",a.filter(z=>z.enabled));const V=document.getElementById("save-config-button");if(V){const z=V.innerText;V.innerText="Salvo!",V.classList.add("bg-green-500"),V.classList.remove("from-green-500","to-emerald-500"),setTimeout(()=>{V.innerText=z,V.classList.remove("bg-green-500"),V.classList.add("bg-gradient-to-r","from-green-500","to-emerald-500")},2e3)}alert("Configurações de monitoramento salvas com sucesso!")},k=()=>{y(V=>({...V,metrics:[...V.metrics,""]}))},I=(V,z)=>{y(Z=>({...Z,metrics:Z.metrics.map((G,H)=>H===V?z:G)}))},_=V=>{y(z=>({...z,metrics:z.metrics.filter((Z,G)=>G!==V)}))},T=()=>{if(!r){t&&t("Áreas de Monitoramento Personalizadas"),d(!1);return}if(b.name.trim()){const V={id:Date.now().toString(),name:b.name,description:b.description,icon:oa,enabled:!0,metrics:b.metrics.filter(z=>z.trim()),color:"from-gray-500 to-gray-600"};i([...a,V]),y({name:"",description:"",metrics:[""]}),d(!1),setTimeout(()=>{const z=document.getElementById(`area-${V.id}`);z&&(z.classList.add("bg-green-50"),setTimeout(()=>{z.classList.remove("bg-green-50")},1e3))},100)}},D=(V,z,Z)=>{if(!s){e&&e("Configurações Enterprise");return}l(H=>H.map(ee=>ee.id===V?{...ee,settings:ee.settings.map(Y=>Y.id===z?{...Y,value:Z}:Y)}:ee));const G=document.getElementById(`setting-${V}-${z}`);G&&(G.classList.add("bg-blue-50"),setTimeout(()=>{G.classList.remove("bg-blue-50")},300))},L=V=>{x(V),h(!0)};return n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-base font-bold text-gray-900 mb-1",children:"Configuração de Monitoramento"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Configure quais áreas você deseja monitorar nas análises"})]}),n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[n.jsxs("button",{onClick:()=>C(!B),className:"bg-blue-100 text-blue-700 px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:bg-blue-200 transition-all text-xs",children:[n.jsx(pne,{className:"h-3 w-3"}),n.jsx("span",{children:"Ajuda"})]}),n.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(Ot,{className:"h-3 w-3"}),n.jsx("span",{children:"Nova Área"})]}),n.jsxs("button",{id:"save-config-button",onClick:S,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(Nr,{className:"h-3 w-3"}),n.jsx("span",{children:"Salvar"})]})]})]}),!r&&n.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-700 flex items-center",children:[n.jsx(gh,{className:"h-3 w-3 mr-1"}),"Plano Básico: Limitado a 3 áreas de monitoramento. Faça upgrade para monitoramento avançado."]})})]}),n.jsx(Nt,{children:B&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 rounded-xl p-3 shadow-md border border-blue-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h2",{className:"text-sm font-semibold text-blue-800 flex items-center",children:[n.jsx(Ko,{className:"h-4 w-4 mr-1"}),"Como configurar o monitoramento"]}),n.jsx("button",{onClick:()=>C(!1),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100",children:n.jsx(Et,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Áreas de Monitoramento"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Ative ou desative áreas específicas para monitoramento. Cada área contém métricas relevantes que serão exibidas nos dashboards e relatórios."})]}),n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Configurações Enterprise"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Configure opções avançadas como monitoramento em tempo real, segurança, notificações e integrações. Disponível apenas para planos Enterprise."})]}),n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Dicas de Uso"}),n.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc pl-4",children:[n.jsx("li",{children:"Clique no ícone de olho para ativar/desativar uma área"}),n.jsx("li",{children:'Use o botão "Nova Área" para criar áreas personalizadas'}),n.jsx("li",{children:'Clique em "Salvar" após fazer alterações'}),n.jsx("li",{children:"Use o botão de visualização para ver detalhes de cada área"})]})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>E("areas"),children:[n.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(gh,{className:"h-4 w-4 mr-1 text-blue-500"}),"Áreas de Monitoramento"]}),v.includes("areas")?n.jsx(xc,{className:"h-4 w-4 text-gray-500"}):n.jsx(oo,{className:"h-4 w-4 text-gray-500"})]}),n.jsx(Nt,{children:v.includes("areas")&&n.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(V=>n.jsxs(ue.div,{id:`area-${V.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg p-3 border border-gray-100 transition-all duration-200 ${V.enabled?"ring-1 ring-blue-200":"opacity-75"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${V.color} rounded-lg flex items-center justify-center`,children:n.jsx(V.icon,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[V.requiresPremium&&!r||V.requiresEnterprise&&!s?n.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-400 rounded-lg",children:n.jsx(Ro,{className:"h-3.5 w-3.5"})}):n.jsx("button",{onClick:()=>M(V.id),className:`p-1.5 rounded-lg transition-colors ${V.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,"aria-label":V.enabled?"Desativar área":"Ativar área",children:V.enabled?n.jsx(la,{className:"h-3.5 w-3.5"}):n.jsx(m1,{className:"h-3.5 w-3.5"})}),n.jsx("button",{onClick:()=>L(V),className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors","aria-label":"Visualizar detalhes",children:n.jsx(la,{className:"h-3.5 w-3.5"})})]})]}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:V.name}),n.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:V.description}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Métricas:"}),n.jsxs("div",{className:"space-y-0.5",children:[V.metrics.slice(0,2).map((z,Z)=>n.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[n.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1.5"}),z]},Z)),V.metrics.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",V.metrics.length-2," mais"]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${V.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:V.enabled?"Ativo":"Inativo"}),(V.requiresPremium||V.requiresEnterprise)&&n.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[n.jsx(Ro,{className:"h-2.5 w-2.5 mr-0.5"}),V.requiresEnterprise?"Enterprise":"Premium"]})]})]},V.id))})})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>E("enterprise"),children:[n.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(rn,{className:"h-4 w-4 mr-1 text-purple-500"}),"Configurações Enterprise"]}),v.includes("enterprise")?n.jsx(xc,{className:"h-4 w-4 text-gray-500"}):n.jsx(oo,{className:"h-4 w-4 text-gray-500"})]}),n.jsx(Nt,{children:v.includes("enterprise")&&n.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-gray-200 mb-3 overflow-x-auto hide-scrollbar",children:n.jsx("div",{className:"flex",children:o.map(V=>n.jsxs("button",{onClick:()=>f(V.id),className:`flex items-center space-x-1 px-3 py-1.5 border-b-2 whitespace-nowrap text-xs ${m===V.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx(V.icon,{className:"h-3 w-3"}),n.jsx("span",{children:V.name})]},V.id))})}),o.map(V=>n.jsxs("div",{className:m===V.id?"block":"hidden",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:V.name}),n.jsx("p",{className:"text-xs text-gray-600",children:V.description})]}),n.jsx("div",{className:"space-y-3",children:V.settings.map(z=>n.jsxs("div",{id:`setting-${V.id}-${z.id}`,className:"bg-gray-50 rounded-lg p-3 transition-colors duration-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:z.name}),n.jsx("p",{className:"text-xs text-gray-600",children:z.description})]}),z.type==="toggle"&&n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:z.value,onChange:()=>D(V.id,z.id,!z.value),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),z.type==="select"&&n.jsx("select",{value:z.value,onChange:Z=>D(V.id,z.id,Z.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs",children:z.options?.map(Z=>n.jsx("option",{value:Z,children:Z},Z))}),z.type==="input"&&n.jsx("input",{type:"text",value:z.value,onChange:Z=>D(V.id,z.id,Z.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs"}),z.type==="range"&&n.jsxs("div",{className:"mt-1",children:[n.jsx("input",{type:"range",min:z.min,max:z.max,step:z.step,value:z.value,onChange:Z=>D(V.id,z.id,parseInt(Z.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:[z.min,"%"]}),n.jsxs("span",{children:[z.value,"%"]}),n.jsxs("span",{children:[z.max,"%"]})]})]})]},z.id))})]},V.id))]}):n.jsxs("div",{className:"py-6 text-center",children:[n.jsx(rn,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recursos Enterprise"}),n.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-md mx-auto",children:"Acesse configurações avançadas de monitoramento com o plano Enterprise."}),n.jsx("button",{onClick:()=>e&&e("Configurações Enterprise"),className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:shadow-lg transition-all text-xs",children:"Ver Plano Enterprise"})]})})})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Resumo da Configuração"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(V=>V.enabled).length}),n.jsx("div",{className:"text-xs text-gray-600",children:"Áreas Ativas"})]}),n.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:a.filter(V=>V.enabled).reduce((V,z)=>V+z.metrics.length,0)}),n.jsx("div",{className:"text-xs text-gray-600",children:"Métricas Monitoradas"})]}),n.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[Math.round(a.filter(V=>V.enabled).length/a.length*100),"%"]}),n.jsx("div",{className:"text-xs text-gray-600",children:"Cobertura"})]})]}),!s&&n.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-100 rounded-lg",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(oa,{className:"h-4 w-4 text-purple-600 mr-1 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Monitoramento em Tempo Real"}),n.jsx("p",{className:"text-xs text-purple-600",children:"Alertas instantâneos e dashboards ao vivo"})]})]}),n.jsxs("button",{onClick:()=>e&&e("Monitoramento em Tempo Real"),className:"px-2 py-1 bg-purple-200 text-purple-700 rounded-lg flex items-center space-x-1 hover:bg-purple-300 transition-colors text-xs",children:[n.jsx(Ro,{className:"h-2.5 w-2.5 mr-0.5"}),n.jsx("span",{children:"Enterprise"}),n.jsx(A1,{className:"h-2.5 w-2.5 ml-0.5"})]})]})})]}),n.jsx(Nt,{children:c&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Nova Área de Monitoramento"}),n.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Fechar",children:n.jsx(Et,{className:"h-5 w-5"})})]}),r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome da Área"}),n.jsx("input",{type:"text",value:b.name,onChange:V=>y({...b,name:V.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: Vendas Online"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:b.description,onChange:V=>y({...b,description:V.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:2,placeholder:"Descreva o que será monitorado nesta área"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Métricas"}),n.jsxs("button",{onClick:k,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[n.jsx(Ot,{className:"h-3 w-3 mr-0.5"}),"Adicionar"]})]}),n.jsx("div",{className:"space-y-1.5",children:b.metrics.map((V,z)=>n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("input",{type:"text",value:V,onChange:Z=>I(z,Z.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nome da métrica"}),b.metrics.length>1&&n.jsx("button",{onClick:()=>_(z),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remover métrica",children:n.jsx(Et,{className:"h-3 w-3"})})]},z))})]})]}),n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsx("button",{onClick:T,className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:"Criar Área"})]})]}):n.jsxs("div",{className:"text-center py-5",children:[n.jsx(Ro,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recurso Premium"}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Áreas de monitoramento personalizadas estão disponíveis apenas para assinantes do plano Premium."}),n.jsx("button",{onClick:()=>{t&&t("Áreas de Monitoramento Personalizadas"),d(!1)},className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all text-sm",children:"Ver Plano Premium"})]})]})]})}),n.jsx(a1e,{isOpen:u,onClose:()=>h(!1),title:`Preview: ${g?.name||"Configuração"}`,children:g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${g.color} rounded-xl flex items-center justify-center`,children:n.jsx(g.icon,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900",children:g.name}),n.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Métricas Monitoradas"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:g.metrics.map((V,z)=>n.jsxs("div",{className:"flex items-center space-x-1.5 p-1.5 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),n.jsx("span",{className:"text-xs text-gray-700",children:V})]},z))})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Visualização de Dashboard"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 h-32 flex items-center justify-center",children:n.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Aqui será exibido o dashboard de monitoramento para ",g.name.toLowerCase(),".",n.jsx("br",{}),n.jsx("span",{className:"text-xs",children:"Os dados serão atualizados em tempo real quando esta área estiver ativa."})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:g.enabled?"Ativo":"Inativo"}),(g.requiresPremium||g.requiresEnterprise)&&n.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[n.jsx(Ro,{className:"h-2.5 w-2.5 mr-0.5"}),g.requiresEnterprise?"Enterprise":"Premium"]})]})]})]})})]})},WD={pessoal:"#8b5cf6",networking:"#3b82f6",financeiro:"#10b981",cobrar:"#f59e0b",pagar:"#ef4444",operacional:"#06b6d4"},o1e={a_fazer:"scheduled",em_andamento:"in_progress",feito:"completed",cancelado:"cancelled"},l1e={scheduled:"a_fazer",in_progress:"em_andamento",confirmed:"em_andamento",completed:"feito",cancelled:"cancelado"},c1e={pessoal:"meeting",networking:"meeting",financeiro:"task",operacional:"task",cobrar:"reminder",pagar:"reminder"},d1e={meeting:"pessoal",task:"operacional",service_order:"operacional",appointment:"pessoal",reminder:"cobrar",other:"pessoal"},u1e=t=>{const e=new Date(t.start_date),r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),l=`${r}-${s}-${a}`,c=`${i}:${o}`;let d,u;if(t.end_date){const b=new Date(t.end_date),y=b.getFullYear(),g=String(b.getMonth()+1).padStart(2,"0"),x=String(b.getDate()).padStart(2,"0"),v=String(b.getHours()).padStart(2,"0"),j=String(b.getMinutes()).padStart(2,"0");d=`${y}-${g}-${x}`,u=`${v}:${j}`}const h=t.event_type,m=d1e[h]||"pessoal",f=t.status;return{id:t.id,title:t.title||"Sem título",date:l,time:c,endDate:d,endTime:u,type:m,priority:t.priority||"medium",status:l1e[f]||"a_fazer",assignedTo:t.employee_id,location:t.location,description:t.description||t.notes,color:WD[m]||WD.pessoal}},VN=t=>{const e=t.status;let r;if(t.date&&t.time){const[l,c,d]=t.date.split("-").map(Number),[u,h]=t.time.split(":").map(Number);r=new Date(l,c-1,d,u,h,0,0).toISOString()}else r=new Date().toISOString();let s;if(t.endDate&&t.endTime){const[l,c,d]=t.endDate.split("-").map(Number),[u,h]=t.endTime.split(":").map(Number);s=new Date(l,c-1,d,u,h,0,0).toISOString()}else{const l=new Date(r);l.setHours(l.getHours()+1),s=l.toISOString()}const a=l=>l?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l):!1,i=t.type,o=i?c1e[i]:"meeting";return{title:t.title||t.description||"Sem título",description:t.description,start_date:r,end_date:s,all_day:!1,event_type:o,status:e?o1e[e]:"scheduled",priority:t.priority,employee_id:a(t.assignedTo)?t.assignedTo:null,location:t.location,notes:t.description}},h1e=t=>{const e=[];return t.forEach(r=>{if(!r.endDate||r.date===r.endDate)e.push(r);else{const s=new Date(r.date+"T00:00:00"),a=new Date(r.endDate+"T00:00:00");let i=new Date(s);for(;i<=a;){const o=i.toISOString().split("T")[0];e.push({...r,date:o,title:r.title+(i.getTime()===s.getTime()||i.getTime()===a.getTime()?" 🏁":" ⏳")}),i.setDate(i.getDate()+1)}}}),e},A1e=({onPremiumFeature:t})=>{const{isPremium:e}=Mn(),[r,s]=F.useState(new Date),[a,i]=F.useState("calendar"),[o,l]=F.useState("monthly"),[c,d]=F.useState(!1),[u,h]=F.useState(null),[m,f]=F.useState(null),[b,y]=F.useState([]),[g,x]=F.useState(!0);F.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const Me=(await oce()).map(u1e),Ie=h1e(Me);y(Ie)}catch(J){console.error("Error loading events:",J),y([])}finally{x(!1)}},[j,B]=F.useState({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""});function C(){const J=new Date;return J.setDate(J.getDate()+1),J.toISOString().split("T")[0]}const E=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],M=["D","S","T","Q","Q","S","S"],S=J=>{const Me=J.getFullYear(),Ie=J.getMonth(),le=new Date(Me,Ie,1),Ze=new Date(Me,Ie+1,0).getDate(),Oe=le.getDay(),dt=[];for(let Ge=Oe-1;Ge>=0;Ge--){const Ce=new Date(Me,Ie,-Ge);dt.push({date:Ce,isCurrentMonth:!1})}for(let Ge=1;Ge<=Ze;Ge++){const Ce=new Date(Me,Ie,Ge);dt.push({date:Ce,isCurrentMonth:!0})}const _t=42-dt.length;for(let Ge=1;Ge<=_t;Ge++){const Ce=new Date(Me,Ie+1,Ge);dt.push({date:Ce,isCurrentMonth:!1})}return dt},k=J=>{const Me=J.toISOString().split("T")[0];return b.filter(Ie=>Ie.date===Me)},I=()=>{const J=new Date().toISOString().split("T")[0];return b.filter(Me=>Me.date===J).sort((Me,Ie)=>Me.time.localeCompare(Ie.time))},_=()=>{const J=C();return b.filter(Me=>Me.date===J).sort((Me,Ie)=>Me.time.localeCompare(Ie.time))},T=()=>{s(new Date(r.getFullYear(),r.getMonth()-1))},D=()=>{s(new Date(r.getFullYear(),r.getMonth()+1))},L=J=>{if(f(J),B(Me=>({...Me,date:J.toISOString().split("T")[0]})),!e&&b.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},V=async()=>{if(j.title&&j.date&&j.time)try{const J=VN(j);await lce(J),await v(),B({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""}),d(!1)}catch(J){console.error("Error creating event:",J),alert("Erro ao criar evento. Verifique os campos de data e hora.")}else alert("Por favor, preencha título, data e horário de início.")},z=async()=>{if(u)try{const J=VN(u);await Wj(u.id,J),await v(),h(null)}catch(J){console.error("Error updating event:",J),alert("Erro ao atualizar evento")}},Z=async J=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await cce(J),await v(),h(null)}catch(Me){console.error("Error deleting event:",Me),alert("Erro ao excluir evento")}},G=async J=>{try{await Wj(J,{status:"feito"}),await v()}catch(Me){console.error("Error completing task:",Me),alert("Erro ao completar tarefa")}},H=J=>{switch(J){case"pessoal":return"bg-purple-600";case"networking":return"bg-blue-500";case"financeiro":return"bg-green-500";case"cobrar":return"bg-yellow-500";case"pagar":return"bg-red-500";default:return"bg-gray-500"}},ee=J=>{switch(J){case"pessoal":return"Pessoal";case"networking":return"Networking";case"financeiro":return"Financeiro";case"operacional":return"Operacional";case"cobrar":return"Cobrar";case"pagar":return"Pagar";default:return"Evento"}},Y=J=>{switch(J){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},q=J=>{switch(J){case"high":return"Alta";case"medium":return"Média";case"low":return"Baixa";default:return"Normal"}},U=J=>{switch(J){case"a_fazer":return"bg-yellow-100 text-yellow-800";case"em_andamento":return"bg-blue-100 text-blue-800";case"feito":return"bg-green-100 text-green-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},te=J=>{switch(J){case"a_fazer":return"A Fazer";case"em_andamento":return"Em Andamento";case"feito":return"Concluído";case"cancelado":return"Cancelado";default:return"Desconhecido"}},X=()=>{const J=S(r);return n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[M.map(Me=>n.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Me},Me)),J.map((Me,Ie)=>{const le=k(Me.date),Se=Me.date.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>L(Me.date),className:`min-h-[70px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Me.isCurrentMonth?"bg-white":"bg-gray-100 text-gray-400"} ${Se?"bg-blue-50 border-blue-300":""}`,children:[n.jsx("div",{className:`text-xs font-medium mb-1 ${Se?"text-blue-600":Me.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:Me.date.getDate()}),n.jsxs("div",{className:"space-y-1",children:[le.slice(0,2).map(Ze=>n.jsxs("div",{onClick:Oe=>{Oe.stopPropagation(),h(Ze)},className:`text-xs p-1 rounded text-white truncate cursor-pointer hover:opacity-80 transition-opacity ${H(Ze.type)}`,children:[Ze.time," ",Ze.title]},Ze.id)),le.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",le.length-2]})]})]},Ie)})]})},se=()=>{const J=new Date(r);J.setDate(r.getDate()-r.getDay());const Me=[];for(let Ie=0;Ie<7;Ie++){const le=new Date(J);le.setDate(J.getDate()+Ie),Me.push(le)}return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"].map((Ie,le)=>n.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Ie},Ie))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:Me.map((Ie,le)=>{const Se=k(Ie),Ze=Ie.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>L(Ie),className:`min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Ze?"bg-blue-50 border-blue-300":"bg-white"}`,children:[n.jsx("div",{className:`text-sm font-medium mb-2 ${Ze?"text-blue-600":"text-gray-900"}`,children:Ie.getDate()}),n.jsx("div",{className:"space-y-1",children:Se.map(Oe=>n.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${H(Oe.type)}`,children:[Oe.time," ",Oe.title]},Oe.id))})]},le)})})]})},fe=()=>{const J=k(r),Me=Array.from({length:24},(Ie,le)=>le);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),n.jsxs("p",{className:"text-sm text-gray-600",children:[J.length," eventos agendados"]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:Me.map(Ie=>{const le=J.filter(Se=>parseInt(Se.time.split(":")[0])===Ie);return n.jsxs("div",{className:"flex border-b border-gray-100 pb-2",children:[n.jsxs("div",{className:"w-16 text-xs text-gray-500 pt-1",children:[Ie.toString().padStart(2,"0"),":00"]}),n.jsx("div",{className:"flex-1 min-h-[40px]",children:le.length>0?n.jsx("div",{className:"space-y-1",children:le.map(Se=>n.jsxs("div",{className:`p-2 rounded text-white text-xs ${H(Se.type)}`,onClick:()=>h(Se),children:[n.jsx("div",{className:"font-medium",children:Se.title}),n.jsx("div",{className:"opacity-80",children:Se.time})]},Se.id))}):n.jsx("div",{className:"h-full hover:bg-gray-50 rounded cursor-pointer flex items-center justify-center text-gray-400 text-xs",onClick:()=>{const Se=new Date(r);Se.setHours(Ie,0,0,0),L(Se)},children:"Clique para adicionar evento"})})]},Ie)})})]})},me=()=>{const J=[...b].sort((Me,Ie)=>{const le=Me.date.localeCompare(Ie.date);return le!==0?le:Me.time.localeCompare(Ie.time)});return n.jsx("div",{className:"divide-y divide-gray-200",children:J.length>0?J.map(Me=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(Me),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[n.jsx("div",{className:`w-1 h-16 rounded-full ${H(Me.type)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:Me.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Y(Me.priority)}`,children:q(Me.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U(Me.status)}`,children:te(Me.status)})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(kr,{className:"h-3 w-3 mr-1"}),new Date(Me.date).toLocaleDateString("pt-BR")]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(tr,{className:"h-3 w-3 mr-1"}),Me.time]}),Me.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1"}),Me.assignedTo]}),Me.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(lo,{className:"h-3 w-3 mr-1"}),Me.location]})]}),Me.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Me.description})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs text-white ${H(Me.type)}`,children:ee(Me.type)})})]})},Me.id)):n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Lj,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhum evento cadastrado"})]})})},pe=(J,Me)=>{J.dataTransfer.effectAllowed="move",J.dataTransfer.setData("text/html",JSON.stringify(Me))},_e=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},ge=async(J,Me)=>{J.preventDefault();try{const Ie=JSON.parse(J.dataTransfer.getData("text/html"));if(Ie.status===Me)return;const le={...Ie,status:Me},Se=VN(le);await Wj(Ie.id,Se),await v()}catch(Ie){console.error("Error updating event status:",Ie)}},ye=()=>{const J=[{status:"a_fazer",title:"A Fazer",color:"border-yellow-400",bgColor:"bg-yellow-50"},{status:"em_andamento",title:"Em Andamento",color:"border-blue-400",bgColor:"bg-blue-50"},{status:"feito",title:"Concluído",color:"border-green-400",bgColor:"bg-green-50"},{status:"cancelado",title:"Cancelado",color:"border-gray-400",bgColor:"bg-gray-50"}];return n.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:J.map(Me=>{const Ie=b.filter(le=>le.status===Me.status);return n.jsxs("div",{className:`border-t-4 ${Me.color} ${Me.bgColor} rounded-lg min-h-[500px]`,onDragOver:_e,onDrop:le=>ge(le,Me.status),children:[n.jsx("div",{className:"p-3 border-b border-gray-200 bg-white",children:n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center justify-between",children:[Me.title,n.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:Ie.length})]})}),n.jsxs("div",{className:"p-2 space-y-2 max-h-[450px] overflow-y-auto",children:[Ie.map(le=>n.jsxs("div",{draggable:!0,onDragStart:Se=>pe(Se,le),className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-lg transition-all cursor-move border border-gray-200 hover:border-blue-300 active:opacity-50",onDoubleClick:()=>h(le),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:le.title}),n.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ml-2 ${Y(le.priority)}`,children:n.jsx(uv,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(kr,{className:"h-3 w-3 mr-1"}),new Date(le.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),n.jsx(tr,{className:"h-3 w-3 ml-2 mr-1"}),le.time]}),le.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"truncate",children:le.assignedTo})]})]}),n.jsx("div",{className:`mt-2 w-full h-1 rounded-full ${H(le.type)}`}),n.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Arraste para mover ou clique 2x para editar"})]},le.id)),Ie.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-400 text-xs border-2 border-dashed border-gray-300 rounded-lg",children:n.jsx("p",{children:"Arraste tarefas aqui"})})]})]},Me.status)})})},Ve=()=>{const Me=[...b].sort((Ie,le)=>Ie.date.localeCompare(le.date)).reduce((Ie,le)=>{const Se=le.date;return Ie[Se]||(Ie[Se]=[]),Ie[Se].push(le),Ie},{});return n.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[Object.entries(Me).map(([Ie,le])=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-24 flex-shrink-0",children:n.jsxs("div",{className:"sticky top-0 pt-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:new Date(Ie).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(Ie).toLocaleDateString("pt-BR",{weekday:"short"})})]})}),n.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-4 pb-4",children:n.jsx("div",{className:"space-y-2",children:le.map(Se=>n.jsxs("div",{className:"relative bg-white p-3 rounded-lg border-l-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:H(Se.type).replace("bg-","").replace("500","")},onClick:()=>h(Se),children:[n.jsx("div",{className:"absolute -left-[29px] top-4 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:H(Se.type).replace("bg-","").replace("500","")}}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900",children:Se.title}),n.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(tr,{className:"h-3 w-3 mr-1"}),Se.time]}),Se.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1"}),Se.assignedTo]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Y(Se.priority)}`,children:q(Se.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U(Se.status)}`,children:te(Se.status)})]})]})]},Se.id))})})]},Ie)),Object.keys(Me).length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(hF,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhum evento na linha do tempo"})]})]})},st=()=>{const J=[...b].sort((Oe,dt)=>Oe.date.localeCompare(dt.date)),Me=J.map(Oe=>Oe.date),Ie=Me.length>0?new Date(Math.min(...Me.map(Oe=>new Date(Oe).getTime()))):new Date,le=Me.length>0?new Date(Math.max(...Me.map(Oe=>new Date(Oe).getTime()))):new Date,Se=Math.ceil((le.getTime()-Ie.getTime())/(1e3*60*60*24))+1,Ze=Array.from({length:Math.max(Se,7)},(Oe,dt)=>{const _t=new Date(Ie);return _t.setDate(Ie.getDate()+dt),_t});return n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("div",{className:"flex mb-2 min-w-max",children:[n.jsx("div",{className:"w-48 flex-shrink-0"}),n.jsx("div",{className:"flex flex-1",children:Ze.map((Oe,dt)=>n.jsxs("div",{className:"flex-1 min-w-[60px] text-center border-l border-gray-200 px-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:Oe.getDate()}),n.jsx("div",{className:"text-xs text-gray-500",children:Oe.toLocaleDateString("pt-BR",{weekday:"short"})})]},dt))})]}),n.jsx("div",{className:"space-y-2",children:J.map(Oe=>{const dt=new Date(Oe.date),_t=Math.floor((dt.getTime()-Ie.getTime())/(1e3*60*60*24));return n.jsxs("div",{className:"flex items-center hover:bg-gray-50 rounded transition-colors",children:[n.jsxs("div",{className:"w-48 flex-shrink-0 pr-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Oe.title}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[n.jsx(tr,{className:"h-3 w-3"}),n.jsx("span",{children:Oe.time})]})]}),n.jsxs("div",{className:"flex flex-1 relative h-12",children:[Ze.map((Ge,Ce)=>n.jsx("div",{className:"flex-1 min-w-[60px] border-l border-gray-200"},Ce)),n.jsx("div",{className:`absolute h-8 top-2 rounded cursor-pointer ${H(Oe.type)} hover:opacity-80 transition-opacity`,style:{left:`${_t/Ze.length*100}%`,width:`${1/Ze.length*100}%`},onClick:()=>h(Oe),children:n.jsx("div",{className:"px-2 py-1 text-white text-xs truncate",children:Oe.title})})]})]},Oe.id)})}),J.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(dF,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhuma tarefa para visualizar"})]})]})})},Ne=()=>{const J=new Date(r);J.setDate(r.getDate()-r.getDay());const Me=[];for(let Ie=0;Ie<2;Ie++){const le=new Date(J);le.setDate(J.getDate()+Ie*7);const Se=[];for(let Ze=0;Ze<7;Ze++){const Oe=new Date(le);Oe.setDate(le.getDate()+Ze),Se.push(Oe)}Me.push(Se)}return n.jsx("div",{className:"space-y-4",children:Me.map((Ie,le)=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:["Semana ",le+1," - ",Ie[0].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})," a ",Ie[6].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:["D","S","T","Q","Q","S","S"].map((Se,Ze)=>n.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Se},`day-${le}-${Ze}`))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:Ie.map((Se,Ze)=>{const Oe=k(Se),dt=Se.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>L(Se),className:`min-h-[60px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${dt?"bg-blue-50 border-blue-300":"bg-white"}`,children:[n.jsx("div",{className:`text-xs font-medium mb-1 ${dt?"text-blue-600":"text-gray-900"}`,children:Se.getDate()}),n.jsxs("div",{className:"space-y-1",children:[Oe.slice(0,1).map(_t=>n.jsx("div",{className:`text-xs p-0.5 rounded text-white truncate ${H(_t.type)}`,children:_t.time},_t.id)),Oe.length>1&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",Oe.length-1]})]})]},Ze)})})]},le))})};return n.jsxs("div",{className:"p-3 space-y-4",children:[n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Agenda"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Gerencie seus compromissos"})]}),n.jsx("button",{onClick:()=>{if(!e&&b.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:n.jsx(Ot,{className:"h-5 w-5"})})]})}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:[n.jsxs("button",{onClick:()=>i("calendar"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="calendar"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(kr,{className:"h-3.5 w-3.5"}),"Calendário"]}),n.jsxs("button",{onClick:()=>i("list"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="list"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(Lj,{className:"h-3.5 w-3.5"}),"Lista"]}),n.jsxs("button",{onClick:()=>i("board"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="board"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(vse,{className:"h-3.5 w-3.5"}),"Quadro"]}),n.jsxs("button",{onClick:()=>i("timeline"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="timeline"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(hF,{className:"h-3.5 w-3.5"}),"Linha"]}),n.jsxs("button",{onClick:()=>i("gantt"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="gantt"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(dF,{className:"h-3.5 w-3.5"}),"Gantt"]})]})}),a==="calendar"&&n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["daily","weekly","biweekly","monthly"].map(J=>n.jsx("button",{onClick:()=>l(J),className:`px-3 py-1.5 rounded-md transition-colors text-xs font-medium ${o===J?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:J==="daily"?"Dia":J==="weekly"?"Sem":J==="biweekly"?"Quinz":"Mês"},J))})}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Fv,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:[E[r.getMonth()]," ",r.getFullYear()]}),n.jsx("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(A1,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a==="calendar"&&n.jsxs(n.Fragment,{children:[o==="monthly"&&X(),o==="weekly"&&se(),o==="biweekly"&&Ne(),o==="daily"&&fe()]}),a==="list"&&me(),a==="board"&&ye(),a==="timeline"&&Ve(),a==="gantt"&&st()]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[n.jsx(kr,{className:"h-4 w-4 mr-2"}),a==="calendar"&&"Visualização em Calendário com múltiplos períodos",a==="list"&&"Visualização em Lista organizada por data",a==="board"&&"Visualização em Quadro Kanban por status",a==="timeline"&&"Visualização em Linha do Tempo cronológica",a==="gantt"&&"Visualização em Gráfico de Gantt"]})}),a==="calendar"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx(Lj,{className:"h-4 w-4 mr-2 text-blue-500"}),"Compromissos do Mês"]}),n.jsxs("div",{className:"space-y-2",children:[b.filter(J=>{const Me=new Date(J.date);return Me.getMonth()===r.getMonth()&&Me.getFullYear()===r.getFullYear()}).sort((J,Me)=>new Date(J.date).getTime()-new Date(Me.date).getTime()).map(J=>n.jsx("div",{onClick:()=>h(J),className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-300 transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${H(J.type)}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-gray-900 truncate",children:J.title}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(kr,{className:"h-3 w-3"}),new Date(J.date).toLocaleDateString("pt-BR")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tr,{className:"h-3 w-3"}),J.time]}),J.assignedTo&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Zt,{className:"h-3 w-3"}),J.assignedTo]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U(J.status)}`,children:te(J.status)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Y(J.priority)}`,children:q(J.priority)})]})]})},J.id)),b.filter(J=>{const Me=new Date(J.date);return Me.getMonth()===r.getMonth()&&Me.getFullYear()===r.getFullYear()}).length===0&&n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(kr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum compromisso neste mês"})]})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(tr,{className:"h-5 w-5 mr-2 text-blue-500"}),"Tarefas Pendentes"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(kr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Hoje (",I().length,")"]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),I().length>0?n.jsx("div",{className:"space-y-2",children:I().map(J=>n.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${H(J.type)}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:J.title})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Y(J.priority)}`,children:q(J.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U(J.status)}`,children:te(J.status)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(tr,{className:"h-3 w-3 mr-1 text-gray-400"}),J.time]}),J.assignedTo&&n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1 text-gray-400"}),J.assignedTo]}),J.location&&n.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[n.jsx(lo,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:J.location})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[J.status!=="feito"&&n.jsxs("button",{onClick:()=>G(J.id),className:"px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-xs flex items-center",children:[n.jsx(Es,{className:"h-3 w-3 mr-1"}),"Concluir"]}),n.jsxs("button",{onClick:()=>h(J),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[n.jsx(pn,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]},J.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(Es,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para hoje"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(kr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Amanhã (",_().length,")"]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(C()).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),_().length>0?n.jsx("div",{className:"space-y-2",children:_().map(J=>n.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${H(J.type)}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:J.title})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Y(J.priority)}`,children:q(J.priority)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(tr,{className:"h-3 w-3 mr-1 text-gray-400"}),J.time]}),J.assignedTo&&n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Zt,{className:"h-3 w-3 mr-1 text-gray-400"}),J.assignedTo]}),J.location&&n.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[n.jsx(lo,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:J.location})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>h(J),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[n.jsx(pn,{className:"h-3 w-3 mr-1"}),"Editar"]}),n.jsxs("button",{onClick:()=>Z(J.id),className:"px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs flex items-center",children:[n.jsx(rr,{className:"h-3 w-3 mr-1"}),"Excluir"]})]})]},J.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(Es,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para amanhã"})]})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm flex items-center mx-auto",children:[n.jsx("span",{children:"Ver todas as tarefas"}),n.jsx(uo,{className:"h-4 w-4 ml-1"})]})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Novo Compromisso"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Adicionar evento à agenda"})]}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Título do Compromisso ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:j.title,onChange:J=>B({...j,title:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Reunião com cliente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Data Início ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:j.date,onChange:J=>B({...j,date:J.target.value,endDate:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora Início ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",value:j.time,onChange:J=>B({...j,time:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Término"}),n.jsx("input",{type:"date",value:j.endDate,onChange:J=>B({...j,endDate:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Término"}),n.jsx("input",{type:"time",value:j.endTime,onChange:J=>B({...j,endTime:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Compromisso"}),n.jsxs("select",{value:j.type,onChange:J=>B({...j,type:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"pessoal",children:"Pessoal"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"financeiro",children:"Financeiro"}),n.jsx("option",{value:"operacional",children:"Operacional"}),n.jsx("option",{value:"cobrar",children:"Cobrar"}),n.jsx("option",{value:"pagar",children:"Pagar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),n.jsxs("select",{value:j.priority,onChange:J=>B({...j,priority:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Baixa"}),n.jsx("option",{value:"medium",children:"Média"}),n.jsx("option",{value:"high",children:"Alta"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),n.jsx("input",{type:"text",value:j.assignedTo,onChange:J=>B({...j,assignedTo:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsável"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),n.jsx("input",{type:"text",value:j.location,onChange:J=>B({...j,location:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:j.description,onChange:J=>B({...j,description:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Detalhes do compromisso..."})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:V,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Salvar Compromisso"]})]})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Editar Compromisso"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Atualizar informações do evento"})]}),n.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título"}),n.jsx("input",{type:"text",value:u.title,onChange:J=>h({...u,title:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do evento"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Início"}),n.jsx("input",{type:"date",value:u.date,onChange:J=>h({...u,date:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário de Início"}),n.jsx("input",{type:"time",value:u.time,onChange:J=>h({...u,time:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Término"}),n.jsx("input",{type:"date",value:u.endDate||u.date,onChange:J=>h({...u,endDate:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário de Término"}),n.jsx("input",{type:"time",value:u.endTime||u.time,onChange:J=>h({...u,endTime:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),n.jsxs("select",{value:u.type,onChange:J=>h({...u,type:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"pessoal",children:"Pessoal"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"financeiro",children:"Financeiro"}),n.jsx("option",{value:"operacional",children:"Operacional"}),n.jsx("option",{value:"cobrar",children:"Cobrar"}),n.jsx("option",{value:"pagar",children:"Pagar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),n.jsxs("select",{value:u.priority,onChange:J=>h({...u,priority:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Baixa"}),n.jsx("option",{value:"medium",children:"Média"}),n.jsx("option",{value:"high",children:"Alta"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:u.status,onChange:J=>h({...u,status:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"a_fazer",children:"A Fazer"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"feito",children:"Concluído"}),n.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsável"}),n.jsx("input",{type:"text",value:u.assignedTo||"",onChange:J=>h({...u,assignedTo:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsável"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),n.jsx("input",{type:"text",value:u.location||"",onChange:J=>h({...u,location:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:u.description||"",onChange:J=>h({...u,description:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Detalhes do evento"})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsxs("button",{onClick:()=>Z(u.id),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(rr,{className:"h-5 w-5"}),"Excluir"]}),n.jsx("button",{onClick:()=>h(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:z,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(Nr,{className:"h-5 w-5"}),"Atualizar"]})]})]})})]})},m1e=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:s}=Mn(),[a,i]=F.useState(!1),[o,l]=F.useState(!1),[c,d]=F.useState(null),[u,h]=F.useState(null),[m,f]=F.useState([{id:1,name:"App Mobile GiarTech",status:"Em Progresso",team:4,deadline:"2024-01-15",progress:75,color:"from-blue-500 to-cyan-500",description:"Desenvolvimento do aplicativo mobile principal da empresa",tasks:[{id:1,title:"Design de interface",completed:!0,dueDate:"2023-12-10"},{id:2,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-20"},{id:3,title:"Integração com API",completed:!1,dueDate:"2024-01-05"},{id:4,title:"Testes e QA",completed:!1,dueDate:"2024-01-10"},{id:5,title:"Lançamento",completed:!1,dueDate:"2024-01-15"}]},{id:2,name:"Website Corporativo",status:"Concluído",team:3,deadline:"2024-01-10",progress:100,color:"from-green-500 to-emerald-500",description:"Novo site institucional com design moderno",tasks:[{id:1,title:"Wireframes e protótipos",completed:!0,dueDate:"2023-11-15"},{id:2,title:"Design de páginas",completed:!0,dueDate:"2023-11-30"},{id:3,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-15"},{id:4,title:"Desenvolvimento backend",completed:!0,dueDate:"2023-12-30"},{id:5,title:"Testes e lançamento",completed:!0,dueDate:"2024-01-10"}]},{id:3,name:"Sistema de CRM",status:"Planejamento",team:5,deadline:"2024-01-30",progress:25,color:"from-purple-500 to-pink-500",description:"Sistema de gestão de relacionamento com clientes",tasks:[{id:1,title:"Levantamento de requisitos",completed:!0,dueDate:"2023-12-15"},{id:2,title:"Modelagem de dados",completed:!0,dueDate:"2023-12-30"},{id:3,title:"Prototipagem de interface",completed:!1,dueDate:"2024-01-10"},{id:4,title:"Desenvolvimento",completed:!1,dueDate:"2024-01-25"},{id:5,title:"Testes e implantação",completed:!1,dueDate:"2024-01-30"}]}]),[b,y]=F.useState({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),[g,x]=F.useState({title:"",dueDate:""}),v=["from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-purple-500 to-pink-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500","from-yellow-500 to-orange-500"],j=()=>{if(!r&&m.length>=3){t("Projetos Ilimitados");return}if(b.name.trim()){const S={id:Date.now(),name:b.name,status:b.status,team:b.team,deadline:b.deadline,progress:0,color:v[Math.floor(Math.random()*v.length)],description:b.description,tasks:[]};f([...m,S]),y({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),i(!1)}},B=()=>{if(!r&&u&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}if(u&&g.title&&g.dueDate){const S={id:Date.now(),title:g.title,completed:!1,dueDate:g.dueDate},k={...u,tasks:[...u.tasks||[],S]};f(m.map(I=>I.id===u.id?k:I)),h(k),x({title:"",dueDate:""}),l(!1)}},C=(S,k)=>{const I=m.find(_=>_.id===S);if(I&&I.tasks){const _=I.tasks.map(z=>z.id===k?{...z,completed:!z.completed}:z),T=_.filter(z=>z.completed).length,D=_.length,L=D>0?Math.round(T/D*100):0,V={...I,tasks:_,progress:L};f(m.map(z=>z.id===S?V:z)),u&&u.id===S&&h(V)}},E=S=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&(f(m.filter(k=>k.id!==S)),u&&u.id===S&&h(null))},M=()=>{s||e&&e("Análise Avançada de Projetos")};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Meus Projetos (",m.length,")"]}),n.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus projetos em um só lugar"})]}),n.jsx("button",{onClick:()=>{if(!r&&m.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:n.jsx(Ot,{className:"h-6 w-6"})})]}),!r&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[n.jsx(Jy,{className:"h-4 w-4 mr-2"}),"Plano Básico: Limitado a 3 projetos e 5 tarefas por projeto. Faça upgrade para projetos ilimitados."]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 col-span-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status dos Projetos"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:m.length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Concluídos"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:m.filter(S=>S.progress===100).length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Em Progresso"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:m.filter(S=>S.progress>0&&S.progress<100).length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Planejados"}),n.jsx("p",{className:"text-lg font-bold text-purple-600",children:m.filter(S=>S.progress===0).length})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Progresso Médio"}),n.jsxs("div",{className:"flex flex-col justify-between h-full",children:[n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[Math.round(m.reduce((S,k)=>S+k.progress,0)/(m.length||1)),"%"]})}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.round(m.reduce((S,k)=>S+k.progress,0)/(m.length||1))}%`}})})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Próximos Prazos"}),n.jsx("div",{className:"flex flex-col justify-between h-full",children:n.jsxs("div",{className:"space-y-2",children:[m.filter(S=>S.progress<100).sort((S,k)=>new Date(S.deadline).getTime()-new Date(k.deadline).getTime()).slice(0,2).map(S=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs truncate max-w-[120px]",children:S.name}),n.jsx("span",{className:"text-xs font-medium",children:new Date(S.deadline).toLocaleDateString("pt-BR")})]},S.id)),!s&&n.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500 cursor-pointer hover:text-blue-600",onClick:M,children:[n.jsx("span",{children:"Análise avançada"}),n.jsx(Ro,{className:"h-3 w-3"})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-2 space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todos os Projetos"}),n.jsx("div",{className:"space-y-4",children:m.map((S,k)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.1},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>h(S),children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${S.color} rounded-lg flex items-center justify-center`,children:n.jsx(Jy,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:S.name}),n.jsx("p",{className:"text-xs text-gray-500",children:S.status})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.deadline).toLocaleDateString("pt-BR")})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Progresso"}),n.jsxs("span",{children:[S.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${S.progress===100?"bg-green-500":S.progress>50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${S.progress}%`}})})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Zt,{className:"h-3 w-3"}),n.jsxs("span",{children:[S.team," membros"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Dv,{className:"h-3 w-3"}),n.jsxs("span",{children:[S.tasks?S.tasks.filter(I=>I.completed).length:0,"/",S.tasks?S.tasks.length:0," tarefas"]})]})]})]},S.id))})]})}),n.jsx("div",{className:"md:col-span-1",children:u?n.jsxs(ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${u.color} rounded-lg flex items-center justify-center`,children:n.jsx(Jy,{className:"h-5 w-5 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900",children:u.name})]}),n.jsx("button",{onClick:()=>E(u.id),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(rr,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Descrição"}),n.jsx("p",{className:"text-sm text-gray-700",children:u.description||"Sem descrição"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prazo"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(u.deadline).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Equipe"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.team," membros"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Progresso"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.progress,"%"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Tarefas"}),n.jsxs("button",{onClick:()=>{if(!r&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}l(!0)},className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[n.jsx(Ot,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.tasks&&u.tasks.length>0?u.tasks.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(u.id,S.id),className:`w-4 h-4 rounded border flex items-center justify-center ${S.completed?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:S.completed&&n.jsx(Dv,{className:"h-3 w-3"})}),n.jsx("span",{className:`text-sm ${S.completed?"line-through text-gray-500":"text-gray-700"}`,children:S.title})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.dueDate).toLocaleDateString("pt-BR")})})]},S.id)):n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma tarefa adicionada"})})]}),!s&&n.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-100 rounded-lg cursor-pointer",onClick:M,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(oa,{className:"h-4 w-4 text-purple-600 mr-2"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Análise avançada de projetos"})]}),n.jsx(Ro,{className:"h-4 w-4 text-purple-600"})]}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Disponível no plano Enterprise"})]})]})]}):n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Jy,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione um projeto para ver os detalhes"}),n.jsxs("button",{onClick:()=>{if(!r&&m.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(Ot,{className:"h-4 w-4 mr-2 inline"}),"Novo Projeto"]})]})})})]}),n.jsx(Nt,{children:a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Projeto"}),n.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),n.jsx("input",{type:"text",value:b.name,onChange:S=>y({...b,name:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do projeto"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),n.jsx("textarea",{value:b.description,onChange:S=>y({...b,description:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o projeto"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),n.jsx("input",{type:"date",value:b.deadline,onChange:S=>y({...b,deadline:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipe"}),n.jsx("input",{type:"number",min:"1",value:b.team,onChange:S=>y({...b,team:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:b.status,onChange:S=>y({...b,status:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Planejamento",children:"Planejamento"}),n.jsx("option",{value:"Em Progresso",children:"Em Progresso"}),n.jsx("option",{value:"Em Revisão",children:"Em Revisão"}),n.jsx("option",{value:"Concluído",children:"Concluído"})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Criar"]})]})]})]})}),n.jsx(Nt,{children:o&&u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Tarefa"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projeto"}),n.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título da Tarefa"}),n.jsx("input",{type:"text",value:g.title,onChange:S=>x({...g,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o título da tarefa"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Vencimento"}),n.jsx("input",{type:"date",value:g.dueDate,onChange:S=>x({...g,dueDate:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:B,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})]})})]})},f1e=()=>{const{user:t,isPremium:e}=Mn();return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:t?.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full",children:n.jsx(Vx,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?.name}),n.jsx("p",{className:"text-gray-600",children:t?.email}),n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${e?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:e?"👑 Premium":"Básico"})]}),n.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:n.jsx(fi,{className:"h-5 w-5"})})]})}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informações Pessoais"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(nn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nome Completo"}),n.jsx("p",{className:"font-medium text-gray-900",children:t?.name})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(ks,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900",children:t?.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(Ya,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),n.jsx("p",{className:"font-medium text-gray-900",children:"(11) 99999-9999"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(lo,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Localização"}),n.jsx("p",{className:"font-medium text-gray-900",children:"São Paulo, SP"})]})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatísticas da Conta"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Projetos",value:"12",color:"from-blue-500 to-cyan-500"},{label:"Tarefas",value:"48",color:"from-green-500 to-emerald-500"},{label:"Horas",value:"156",color:"from-purple-500 to-pink-500"},{label:"Equipe",value:"8",color:"from-orange-500 to-red-500"}].map((r,s)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:n.jsx("span",{className:"text-2xl font-bold text-white",children:r.value})}),n.jsx("p",{className:"text-sm text-gray-600",children:r.label})]},r.label))})]})]})};function zb({title:t,value:e,subtitle:r,icon:s,color:a,trend:i,onClick:o,details:l,externalLink:c}){const[d,u]=F.useState(!1);return n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02,translateY:-4},className:`
        bg-white rounded-2xl p-6 shadow-lg border border-gray-100
        transition-all duration-300 cursor-pointer
        ${o?"hover:shadow-2xl":"hover:shadow-xl"}
      `,onClick:o,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${a} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(s,{className:"h-7 w-7 text-white"})}),i&&n.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-lg ${i.value>=0?"bg-green-100":"bg-red-100"}`,children:[i.value>=0?n.jsx(Or,{className:"h-4 w-4 text-green-600"}):n.jsx(El,{className:"h-4 w-4 text-red-600"}),n.jsxs("span",{className:`text-xs font-semibold ${i.value>=0?"text-green-700":"text-red-700"}`,children:[Math.abs(i.value),"%"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-600 flex items-center gap-2",children:[t,l&&n.jsx("button",{onClick:h=>{h.stopPropagation(),u(!d)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(Ko,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-500",children:r}),i&&n.jsx("p",{className:"text-xs text-gray-500",children:i.label})]}),d&&l&&n.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200 space-y-2",children:l.map((h,m)=>n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:h.label}),n.jsx("span",{className:"font-semibold text-gray-900",children:h.value})]},m))}),c&&n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("button",{onClick:h=>{h.stopPropagation(),window.open(c,"_blank")},className:"text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:["Ver detalhes completos",n.jsx(Y$,{className:"h-3 w-3"})]})})]})}mm.register(z1,V1,R1,fm,jk,wk,Rwe,H1,q1,$1,Q1);const GD=()=>{const t=Vs(),[e,r]=F.useState(null),[s,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState(!0),[d,u]=F.useState("month");F.useEffect(()=>{h();const j=setInterval(h,300*1e3);return()=>clearInterval(j)},[d]);const h=async()=>{try{c(!0);const{data:j,error:B}=await he.from("v_cfo_kpis").select("*").maybeSingle();if(B)throw B;const{data:C,error:E}=await he.from("financial_alerts").select("*").eq("is_active",!0).order("severity",{ascending:!0}).order("created_at",{ascending:!1}).limit(10);if(E)throw E;const{data:M,error:S}=await he.from("v_customer_intelligence").select("*").order("total_revenue",{ascending:!1}).limit(10);if(S)throw S;console.log("KPIs carregados:",j),r(j),a(C||[]),o(M||[])}catch(j){console.error("Erro ao carregar dados CFO:",j),alert(`Erro ao carregar Dashboard CFO: ${j.message}`)}finally{c(!1)}},m=j=>j?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(j):"R$ 0",f=j=>j==null||isNaN(j)?"0.0%":`${j>=0?"+":""}${j.toFixed(1)}%`,b=j=>{switch(j){case"critical":return"bg-red-100 text-red-800 border-red-300";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"info":return"bg-blue-100 text-blue-800 border-blue-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=j=>{switch(j){case"critical":return n.jsx(Q0,{className:"h-5 w-5 text-red-600"});case"warning":return n.jsx(un,{className:"h-5 w-5 text-yellow-600"});case"info":return n.jsx(qf,{className:"h-5 w-5 text-blue-600"});default:return n.jsx(qf,{className:"h-5 w-5"})}},g=j=>{switch(j){case"A":return"bg-green-100 text-green-800 border-green-300";case"B":return"bg-blue-100 text-blue-800 border-blue-300";case"C":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},x=j=>j>=70?{label:"Alto Risco",color:"text-red-600"}:j>=40?{label:"Risco Médio",color:"text-yellow-600"}:{label:"Baixo Risco",color:"text-green-600"};if(l)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(zs,{className:"h-12 w-12 animate-spin text-blue-600"})});m(e?.total_revenue||0),`${m(e?.net_profit||0)}`,m(e?.ebitda||0),`${f(e?.ebitda_margin||0)}`,f(e?.roi_percentage||0),`${m(e?.break_even_point||0)}`,m(e?.net_working_capital||0),`${f(e?.operational_efficiency||0)}`;const v=[{label:"Margem Bruta",value:e?.gross_margin||0,target:60,color:"rgb(34, 197, 94)"},{label:"Margem Operacional",value:e?.operating_margin||0,target:40,color:"rgb(59, 130, 246)"},{label:"Margem Líquida",value:e?.profit_margin||0,target:30,color:"rgb(168, 85, 247)"},{label:"Margem EBITDA",value:e?.ebitda_margin||0,target:35,color:"rgb(251, 146, 60)"}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard CFO"}),n.jsx("p",{className:"text-gray-600",children:"Inteligência Financeira Executiva"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{value:d,onChange:j=>u(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"month",children:"Último Mês"}),n.jsx("option",{value:"quarter",children:"Último Trimestre"}),n.jsx("option",{value:"year",children:"Último Ano"})]}),n.jsxs("button",{onClick:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zs,{className:"h-4 w-4"}),"Atualizar"]}),n.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Exportar"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(zb,{title:"Receita Total",value:m(e?.total_revenue||0),subtitle:`Lucro: ${m(e?.net_profit||0)}`,icon:pr,color:"from-green-500 to-emerald-600",trend:{value:e?.profit_margin||0,label:"Margem de lucro"},onClick:()=>t("/financeiro"),details:[{label:"Despesas",value:m(e?.total_expenses||0)},{label:"Lucro Líquido",value:m(e?.net_profit||0)},{label:"Margem",value:f(e?.profit_margin||0)}]}),n.jsx(zb,{title:"EBITDA",value:m(e?.ebitda||0),subtitle:`Margem: ${f(e?.ebitda_margin||0)}`,icon:Or,color:"from-blue-500 to-cyan-600",trend:{value:e?.ebitda_margin||0,label:"Margem EBITDA"},onClick:()=>t("/financeiro"),details:[{label:"Margem Bruta",value:f(e?.gross_margin||0)},{label:"Margem Operacional",value:f(e?.operating_margin||0)},{label:"Margem EBITDA",value:f(e?.ebitda_margin||0)}]}),n.jsx(zb,{title:"ROI",value:f(e?.roi_percentage||0),subtitle:`Break-even: ${m(e?.break_even_point||0)}`,icon:xh,color:"from-purple-500 to-pink-600",trend:{value:e?.roi_percentage||0,label:"Retorno sobre investimento"},onClick:()=>t("/financeiro"),details:[{label:"Break-even",value:m(e?.break_even_point||0)},{label:"Payback",value:`${e?.payback_period_days||0} dias`},{label:"ROI",value:f(e?.roi_percentage||0)}]}),n.jsx(zb,{title:"Capital de Giro",value:m(e?.net_working_capital||0),subtitle:`Eficiência: ${f(e?.operational_efficiency||0)}`,icon:oh,color:"from-orange-500 to-red-600",trend:{value:e?.operational_efficiency||0,label:"Eficiência operacional"},onClick:()=>t("/financeiro"),details:[{label:"A Receber",value:m(e?.accounts_receivable||0)},{label:"A Pagar",value:m(e?.accounts_payable||0)},{label:"Capital Líquido",value:m(e?.net_working_capital||0)}]})]}),s.length>0&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl flex items-center justify-center",children:n.jsx(qf,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alertas Financeiros"}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," alertas ativos"]})]})]}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"Ver Todos"})]}),n.jsx("div",{className:"space-y-3",children:s.map(j=>n.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-xl border ${b(j.severity)}`,children:[y(j.severity),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h4",{className:"font-semibold",children:j.title}),n.jsx("span",{className:"text-xs opacity-70",children:new Date(j.created_at).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"text-sm opacity-90",children:j.description}),n.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[n.jsxs("span",{children:["Atual: ",m(j.current_value)]}),n.jsxs("span",{children:["Limite: ",m(j.threshold_value)]})]})]})]},j.id))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Análise de Margens"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Indicadores de rentabilidade"})]}),n.jsx(oa,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"space-y-4",children:v.map(j=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:j.label}),n.jsx("span",{className:"text-sm font-bold",style:{color:j.color},children:f(j.value)})]}),n.jsxs("div",{className:"relative h-3 bg-gray-100 rounded-full overflow-hidden",children:[n.jsx("div",{className:"absolute h-full transition-all duration-500 rounded-full",style:{width:`${Math.min(j.value/j.target*100,100)}%`,backgroundColor:j.color}}),n.jsx("div",{className:"absolute h-full border-r-2 border-gray-400",style:{left:`${j.target/100*100}%`}})]}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsxs("span",{className:"text-xs text-gray-500",children:["Meta: ",j.target,"%"]}),n.jsx("span",{className:`text-xs font-medium ${j.value>=j.target?"text-green-600":"text-orange-600"}`,children:j.value>=j.target?"Acima da meta":"Abaixo da meta"})]})]},j.label))})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Saúde Financeira"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Indicadores comparativos"})]}),n.jsx(rn,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"h-80",children:n.jsx(Kwe,{data:{labels:v.map(j=>j.label),datasets:[{label:"Atual",data:v.map(j=>j.value),backgroundColor:"rgba(59, 130, 246, 0.2)",borderColor:"rgb(59, 130, 246)",borderWidth:2,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(59, 130, 246)"},{label:"Meta",data:v.map(j=>j.target),backgroundColor:"rgba(34, 197, 94, 0.2)",borderColor:"rgb(34, 197, 94)",borderWidth:2,pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(34, 197, 94)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{r:{beginAtZero:!0,max:70,ticks:{stepSize:10}}}}})})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center",children:n.jsx(Zt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Inteligência de Clientes"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Top 10 clientes por receita"})]})]}),n.jsx("button",{className:"px-4 py-2 text-sm font-medium text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:"Ver Análise Completa"})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Cliente"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Tipo"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Classificação"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Receita"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Pedidos"}),n.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700",children:"Ticket Médio"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Score"}),n.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700",children:"Risco"})]})}),n.jsx("tbody",{children:i.map((j,B)=>{const C=x(j.risk_score);return n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:B+1}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.customer_name})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:j.customer_type})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold border ${g(j.abc_classification)}`,children:j.abc_classification})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsx("span",{className:"text-sm font-bold text-green-600",children:m(j.total_revenue)})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsx("span",{className:"text-sm text-gray-900",children:j.total_orders})}),n.jsx("td",{className:"py-3 px-4 text-right",children:n.jsx("span",{className:"text-sm text-gray-900",children:m(j.avg_order_value)})}),n.jsx("td",{className:"py-3 px-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-green-500 to-blue-600",style:{width:`${j.credit_score/1e3*100}%`}})}),n.jsx("span",{className:"text-xs font-medium text-gray-600",children:j.credit_score})]})}),n.jsx("td",{className:"py-3 px-4",children:n.jsx("span",{className:`text-xs font-medium ${C.color}`,children:C.label})})]},j.customer_id)})})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-600 to-emerald-700 rounded-2xl p-6 shadow-lg text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx($t,{className:"h-8 w-8 text-green-200"}),n.jsx("span",{className:"text-sm font-medium text-green-100",children:"Estoque"})]}),n.jsx("h3",{className:"text-3xl font-bold mb-2",children:m(e?.total_inventory_value||0)}),n.jsx("p",{className:"text-green-100 text-sm mb-4",children:"Valor Total"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-green-100 mb-1",children:"Lucro Potencial"}),n.jsx("p",{className:"text-lg font-bold",children:m(e?.potential_profit||0)})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-green-100 mb-1",children:"Giro"}),n.jsxs("p",{className:"text-lg font-bold",children:[(e?.inventory_turnover||0).toFixed(1),"x"]})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-2xl p-6 shadow-lg text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(Zt,{className:"h-8 w-8 text-blue-200"}),n.jsx("span",{className:"text-sm font-medium text-blue-100",children:"Clientes"})]}),n.jsx("h3",{className:"text-3xl font-bold mb-2",children:e?.total_customers||0}),n.jsx("p",{className:"text-blue-100 text-sm mb-4",children:"Total de Clientes"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Pessoa Jurídica"}),n.jsx("p",{className:"text-lg font-bold",children:e?.total_customers_pj||0})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-blue-100 mb-1",children:"Pessoa Física"}),n.jsx("p",{className:"text-lg font-bold",children:e?.total_customers_pf||0})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-600 to-pink-700 rounded-2xl p-6 shadow-lg text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(vt,{className:"h-8 w-8 text-purple-200"}),n.jsx("span",{className:"text-sm font-medium text-purple-100",children:"Ordens de Serviço"})]}),n.jsx("h3",{className:"text-3xl font-bold mb-2",children:e?.total_completed_orders||0}),n.jsx("p",{className:"text-purple-100 text-sm mb-4",children:"Concluídas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Ticket Médio"}),n.jsx("p",{className:"text-lg font-bold",children:m(e?.avg_order_value||0)})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-xs text-purple-100 mb-1",children:"Em Progresso"}),n.jsx("p",{className:"text-lg font-bold",children:e?.orders_in_progress||0})]})]})]})]})]})})},p1e=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(""),[o,l]=F.useState(null);F.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:b,error:y}=await he.from("service_orders").select(`
          *,
          customer:customers(nome_razao, telefone)
        `).order("opened_at",{ascending:!1});if(y)throw y;e(b||[])}catch(b){console.error("Error loading service orders:",b),e([])}finally{s(!1)}},d=[{id:"aberta",title:"Abertas",icon:xs,color:"bg-yellow-500",borderColor:"border-yellow-400",bgColor:"bg-yellow-50"},{id:"em_andamento",title:"Em Andamento",icon:RE,color:"bg-blue-500",borderColor:"border-blue-400",bgColor:"bg-blue-50"},{id:"concluida",title:"Concluídas",icon:Es,color:"bg-green-500",borderColor:"border-green-400",bgColor:"bg-green-50"},{id:"cancelada",title:"Canceladas",icon:lh,color:"bg-gray-500",borderColor:"border-gray-400",bgColor:"bg-gray-50"}],u=b=>t.filter(y=>{const g=y.status||"aberta",x=g===b,v=!a||y.description?.toLowerCase().includes(a.toLowerCase())||y.customer?.nome_razao?.toLowerCase().includes(a.toLowerCase());return x&&v&&(!o||g===o)}),h=b=>b?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b):"R$ 0,00",m=b=>b?new Date(b).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"Não agendado",f=b=>{const y=new Date(b);return Math.floor((new Date().getTime()-y.getTime())/(1e3*60*60*24))};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando ordens de serviço..."})]})}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(yi,{className:"h-6 w-6 text-blue-500"}),"Ordens de Serviço"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," ordens de serviço cadastradas"]})]}),n.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Nova OS"]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrição...",value:a,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(um,{className:"h-4 w-4"}),"Filtros"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(b=>{const y=u(b.id),g=b.icon;return n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:`${b.bgColor} border-t-4 ${b.borderColor} rounded-t-xl p-3`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(g,{className:`h-5 w-5 ${b.color.replace("bg-","text-")}`}),n.jsx("h3",{className:"font-semibold text-gray-900",children:b.title})]}),n.jsx("span",{className:"bg-white text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:y.length})]})}),n.jsx("div",{className:"flex-1 bg-gray-50 rounded-b-xl p-2 space-y-2 min-h-[400px]",children:y.length===0?n.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nenhuma ordem"}):y.map(x=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:x.customer?.nome_razao||"Cliente não informado"}),x.description&&n.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:x.description})]})}),n.jsxs("div",{className:"space-y-1.5",children:[x.scheduled_at&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(kr,{className:"h-3 w-3"}),n.jsx("span",{children:m(x.scheduled_at)})]}),x.customer?.telefone&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(nn,{className:"h-3 w-3"}),n.jsx("span",{children:x.customer.telefone})]}),x.total_value!==void 0&&x.total_value>0&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(pr,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:h(x.total_value)})]})]}),n.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(tr,{className:"h-3 w-3"}),n.jsxs("span",{children:[f(x.opened_at)," dias aberta"]})]}),n.jsx("div",{className:`w-2 h-2 rounded-full ${b.color}`})]})]},x.id))})]},b.id)})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(b=>{const y=u(b.id),g=y.reduce((x,v)=>x+(v.total_value||0),0);return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`text-2xl font-bold ${b.color.replace("bg-","text-")}`,children:y.length}),n.jsx("div",{className:"text-sm text-gray-600",children:b.title}),g>0&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h(g)})]},b.id)})})})]})},g1e=()=>{const t=Vs(),[e,r]=F.useState(!0),s=()=>{t("/login")};return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[e&&n.jsx(ue.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},onClick:s,className:"absolute top-6 right-6 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors z-20",children:n.jsx(Et,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),n.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[n.jsx(ue.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},className:"mb-12",children:n.jsxs("div",{className:"relative inline-block",children:[n.jsx(ue.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl",children:n.jsx("span",{className:"text-4xl font-bold text-white",children:"GT"})}),n.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-orange-400 rounded-full flex items-center justify-center",children:n.jsx(tm,{className:"h-4 w-4 text-white"})})]})}),n.jsx(ue.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"GiarTech"})}),n.jsxs(ue.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-xl md:text-2xl text-gray-600 mb-12 leading-relaxed",children:["Plataforma empresarial completa para",n.jsx("br",{}),n.jsx("span",{className:"font-semibold text-gray-800",children:"gestão inteligente de projetos"})]}),n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{icon:ho,label:"Rápido",color:"from-yellow-400 to-orange-500"},{icon:rn,label:"Seguro",color:"from-green-400 to-emerald-500"},{icon:Zt,label:"Colaborativo",color:"from-blue-400 to-cyan-500"},{icon:tm,label:"Inteligente",color:"from-purple-400 to-pink-500"}].map((a,i)=>n.jsxs(ue.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+i*.1,duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/50",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:n.jsx(a.icon,{className:"h-6 w-6 text-white"})}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.label))}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"flex flex-col items-center space-y-4",children:[n.jsxs(Pl,{to:"/login",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[n.jsx("span",{className:"mr-3",children:"GIARTECH Gestão Integrada"}),n.jsx(ue.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:n.jsx(uo,{className:"h-5 w-5"})})]}),n.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Acessar Plataforma"})]}),n.jsx(ue.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"text-sm text-gray-500 mt-8",children:"Versão 2.0 • Premium Edition"})]})]})},XD=()=>{const{user:t,isPremium:e}=Mn(),r=[{title:"Nova Ordem de Serviço",description:"Criar uma nova OS rapidamente",icon:yi,color:"from-blue-500 to-cyan-500",path:"/service-orders/create"},{title:"Gestão de Clientes",description:"Adicionar ou editar clientes",icon:Zt,color:"from-green-500 to-emerald-500",path:"/client-management"},{title:"Controle de Estoque",description:"Verificar materiais disponíveis",icon:$t,color:"from-purple-500 to-pink-500",path:"/inventory"},{title:"Relatórios Financeiros",description:"Acompanhar receitas e despesas",icon:pr,color:"from-orange-500 to-red-500",path:"/financial"},{title:"Agenda de Trabalho",description:"Organizar compromissos",icon:kr,color:"from-indigo-500 to-purple-500",path:"/calendar"},{title:"Chat da Equipe",description:"Comunicar com a equipe",icon:Iv,color:"from-teal-500 to-cyan-500",path:"/chat"}],s=[{action:"OS criada",item:"OS-2024-001 - João Silva",time:"2 horas atrás",icon:yi,color:"text-blue-500"},{action:"Cliente adicionado",item:"Empresa ABC Ltda",time:"4 horas atrás",icon:Zt,color:"text-green-500"},{action:"Estoque atualizado",item:"Ar Condicionado Split 12.000 BTUs",time:"1 dia atrás",icon:$t,color:"text-purple-500"},{action:"Pagamento recebido",item:"R$ 850,00 - OS-2024-003",time:"2 dias atrás",icon:pr,color:"text-green-500"}],a=[{title:"Ordens Ativas",value:"8",icon:yi,color:"from-blue-500 to-cyan-500"},{title:"Clientes Cadastrados",value:"24",icon:Zt,color:"from-green-500 to-emerald-500"},{title:"Itens em Estoque",value:"156",icon:$t,color:"from-purple-500 to-pink-500"},{title:"Faturamento Mensal",value:"R$ 15.850",icon:pr,color:"from-orange-500 to-red-500"}];return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bem-vindo, ",t?.name,"! 👋"]}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie seu negócio de forma inteligente e eficiente"})]}),n.jsx("div",{className:"hidden md:block",children:n.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(ho,{className:"h-12 w-12 text-white"})})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ja,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm",children:"Sistema Online"})]})}),n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(rn,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm",children:"Dados Seguros"})]})}),n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx($0,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm",children:"Acesso Remoto"})]})})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center`,children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),n.jsx("p",{className:"text-gray-600",children:i.title})]},i.title))}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Ações Rápidas"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},children:n.jsxs(Pl,{to:i.path,className:"block p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-lg transition-all duration-200 group",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),n.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-700",children:[n.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),n.jsx(uo,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i.title))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Atividade Recente"}),n.jsx("div",{className:"space-y-4",children:s.map((i,o)=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:n.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),n.jsx("p",{className:"text-sm text-gray-600",children:i.item})]}),n.jsx("span",{className:"text-xs text-gray-500",children:i.time})]},o))})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status do Sistema"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ja,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Todos os Serviços"})]}),n.jsx("span",{className:"text-green-600 font-medium",children:"Operacional"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(tr,{className:"h-5 w-5 text-blue-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Última Sincronização"})]}),n.jsx("span",{className:"text-blue-600 font-medium",children:"Agora"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Na,{className:"h-5 w-5 text-purple-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Plano Atual"})]}),n.jsx("span",{className:"text-purple-600 font-medium",children:e?"Premium":"Básico"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(Pl,{to:"/departmental-dashboard",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[n.jsx(oa,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Ver Dashboard Completo"}),n.jsx(uo,{className:"h-4 w-4 ml-2"})]})})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dicas Rápidas"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ho,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automatização"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Use o sistema integrado para automatizar processos e economizar tempo"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Or,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Produtividade"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe métricas de desempenho no Dashboard Departamental"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(rn,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Segurança"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Seus dados estão protegidos com criptografia de ponta a ponta"})]})]})]})]})},x1e=()=>{const t=[{icon:xh,title:"Foco no Cliente",description:"Colocamos as necessidades dos nossos clientes no centro de tudo que fazemos."},{icon:LE,title:"Excelência",description:"Buscamos sempre a mais alta qualidade em cada projeto que desenvolvemos."},{icon:Zt,title:"Colaboração",description:"Trabalhamos em parceria com nossos clientes para alcançar os melhores resultados."},{icon:cse,title:"Paixão",description:"Amamos o que fazemos e isso se reflete na qualidade das nossas soluções."}];return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sobre a ",n.jsx("span",{className:"text-accent-300",children:"GiarTech"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Somos uma empresa de tecnologia apaixonada por criar soluções inovadoras que transformam negócios e conectam pessoas"})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(ue.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Nossa História"}),n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Fundada em 2020, a GiarTech nasceu da visão de democratizar o acesso à tecnologia de qualidade. Começamos como uma pequena startup com grandes sonhos e hoje somos uma referência em desenvolvimento de soluções digitais."}),n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Nossa jornada é marcada pela constante busca por inovação e pela dedicação em entregar resultados excepcionais para nossos clientes. Cada projeto é uma oportunidade de superar expectativas e criar valor real."}),n.jsx("p",{className:"text-lg text-gray-600",children:"Hoje, orgulhamo-nos de ter uma equipe talentosa e diversificada, unida pela paixão por tecnologia e pelo compromisso com a excelência."})]}),n.jsxs(ue.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:[n.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Equipe trabalhando",className:"rounded-lg shadow-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/20 to-accent-600/20 rounded-lg"})]})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nossos Valores"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Os princípios que guiam nossa empresa e definem nossa cultura organizacional"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 text-center group hover:-translate-y-2",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6 group-hover:bg-primary-600 transition-colors duration-300",children:n.jsx(e.icon,{className:"h-8 w-8 text-primary-600 group-hover:text-white transition-colors duration-300"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),n.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})}),n.jsx("section",{className:"py-20 gradient-bg",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Nossos Números"}),n.jsx("p",{className:"text-xl text-gray-200",children:"Resultados que comprovam nossa dedicação e competência"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"100+",label:"Projetos Entregues"},{number:"50+",label:"Clientes Satisfeitos"},{number:"4+",label:"Anos de Experiência"},{number:"24/7",label:"Suporte Disponível"}].map((e,r)=>n.jsxs(ue.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[n.jsx("div",{className:"text-4xl md:text-5xl font-bold text-accent-300 mb-2",children:e.number}),n.jsx("div",{className:"text-lg text-gray-200",children:e.label})]},e.label))})]})})]})},y1e=()=>{const t=[{icon:_ne,title:"Desenvolvimento Web",description:"Criamos sites e aplicações web modernas, responsivas e otimizadas.",features:["React/Next.js","Vue.js/Nuxt.js","Node.js/Express","TypeScript"],color:"from-blue-500 to-cyan-500"},{icon:UE,title:"Desenvolvimento Mobile",description:"Apps nativos e híbridos para iOS e Android com performance superior.",features:["React Native","Flutter","Swift/Kotlin","Ionic"],color:"from-purple-500 to-pink-500"},{icon:$0,title:"Soluções Cloud",description:"Infraestrutura escalável e segura na nuvem para seu negócio.",features:["AWS/Azure","Docker/Kubernetes","CI/CD","Microserviços"],color:"from-green-500 to-teal-500"},{icon:lp,title:"Banco de Dados",description:"Design e otimização de bancos de dados para máxima performance.",features:["PostgreSQL","MongoDB","Redis","Elasticsearch"],color:"from-orange-500 to-red-500"},{icon:rn,title:"Segurança Digital",description:"Implementação de medidas de segurança robustas e auditoria.",features:["Pentesting","LGPD/GDPR","SSL/TLS","Firewall"],color:"from-indigo-500 to-purple-500"},{icon:ho,title:"Otimização",description:"Melhoria de performance e otimização de aplicações existentes.",features:["Performance","SEO","Core Web Vitals","Monitoring"],color:"from-yellow-500 to-orange-500"}];return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nossos ",n.jsx("span",{className:"text-accent-300",children:"Serviços"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Oferecemos soluções tecnológicas completas para transformar sua visão em realidade digital"})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 group hover:-translate-y-2 relative overflow-hidden",children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br ${e.color} rounded-full mb-6`,children:n.jsx(e.icon,{className:"h-8 w-8 text-white"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),n.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),n.jsx("div",{className:"space-y-2 mb-6",children:e.features.map(s=>n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),s]},s))}),n.jsxs("button",{className:"flex items-center text-primary-600 font-medium group-hover:text-primary-700 transition-colors duration-200",children:["Saiba mais",n.jsx(uo,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e.title))})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nosso Processo"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Uma metodologia comprovada para entregar resultados excepcionais"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Descoberta",description:"Entendemos suas necessidades e objetivos de negócio."},{step:"02",title:"Planejamento",description:"Criamos uma estratégia detalhada e cronograma do projeto."},{step:"03",title:"Desenvolvimento",description:"Implementamos a solução com as melhores práticas."},{step:"04",title:"Entrega",description:"Testamos, otimizamos e entregamos o projeto finalizado."}].map((e,r)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 text-primary-600 rounded-full text-xl font-bold mb-4",children:e.step}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),n.jsx("p",{className:"text-gray-600",children:e.description})]},e.step))})]})}),n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para começar seu projeto?"}),n.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl mx-auto",children:"Entre em contato conosco e vamos discutir como podemos ajudar a transformar sua ideia em realidade"}),n.jsxs("button",{className:"btn-primary inline-flex items-center",children:["Solicitar Orçamento",n.jsx(uo,{className:"ml-2 h-5 w-5"})]})]})})})]})},b1e=()=>{const[t,e]=F.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log("Form submitted:",t),alert("Mensagem enviada com sucesso! Entraremos em contato em breve."),e({name:"",email:"",subject:"",message:""})},s=a=>{e({...t,[a.target.name]:a.target.value})};return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Entre em ",n.jsx("span",{className:"text-accent-300",children:"Contato"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Estamos prontos para transformar sua ideia em realidade. Vamos conversar sobre seu próximo projeto!"})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs(ue.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Vamos conversar"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Nossa equipe está sempre disponível para discutir seu projeto e encontrar a melhor solução para suas necessidades."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(ks,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),n.jsx("p",{className:"text-gray-600",children:"contato@giartech.com"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Respondemos em até 24 horas"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(Ya,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefone"}),n.jsx("p",{className:"text-gray-600",children:"(11) 99999-9999"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Seg - Sex, 9h às 18h"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(lo,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Localização"}),n.jsx("p",{className:"text-gray-600",children:"São Paulo, SP"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Atendimento remoto e presencial"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(tr,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Horário"}),n.jsx("p",{className:"text-gray-600",children:"Segunda a Sexta: 9h - 18h"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Suporte 24/7 para clientes"})]})]})]})]}),n.jsxs(ue.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"card p-8",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(Kf,{className:"h-6 w-6 text-primary-600 mr-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Envie uma mensagem"})]}),n.jsxs("form",{onSubmit:r,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),n.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Seu nome completo"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"seu@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),n.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx("option",{value:"",children:"Selecione um assunto"}),n.jsx("option",{value:"desenvolvimento-web",children:"Desenvolvimento Web"}),n.jsx("option",{value:"desenvolvimento-mobile",children:"Desenvolvimento Mobile"}),n.jsx("option",{value:"consultoria",children:"Consultoria em TI"}),n.jsx("option",{value:"suporte",children:"Suporte Técnico"}),n.jsx("option",{value:"outros",children:"Outros"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),n.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:s,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Conte-nos sobre seu projeto ou dúvida..."})]}),n.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center",children:["Enviar Mensagem",n.jsx(bi,{className:"ml-2 h-5 w-5"})]})]})]})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Respostas para as dúvidas mais comuns sobre nossos serviços"})]}),n.jsx("div",{className:"space-y-6",children:[{question:"Quanto tempo leva para desenvolver um projeto?",answer:"O tempo varia conforme a complexidade do projeto. Projetos simples podem levar de 2-4 semanas, enquanto aplicações mais complexas podem levar de 2-6 meses. Sempre fornecemos um cronograma detalhado após a análise inicial."},{question:"Vocês oferecem suporte após a entrega?",answer:"Sim! Oferecemos suporte técnico e manutenção contínua para todos os nossos projetos. Temos diferentes planos de suporte para atender às necessidades específicas de cada cliente."},{question:"Como funciona o processo de orçamento?",answer:"Após o primeiro contato, agendamos uma reunião para entender suas necessidades. Com base nisso, elaboramos uma proposta detalhada com escopo, cronograma e valores. O orçamento é sempre gratuito e sem compromisso."},{question:"Trabalham com quais tecnologias?",answer:"Trabalhamos com as principais tecnologias do mercado: React, Vue.js, Node.js, Python, React Native, Flutter, AWS, Azure, e muitas outras. Sempre escolhemos a melhor tecnologia para cada projeto específico."}].map((a,i)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a.question}),n.jsx("p",{className:"text-gray-600",children:a.answer})]},i))})]})})]})},v1e=({isOpen:t,feature:e,onClose:r})=>{const s=[{icon:oa,title:"Analytics Avançados",description:"Relatórios detalhados e insights em tempo real"},{icon:Zt,title:"Colaboração Ilimitada",description:"Adicione quantos membros quiser ao seu time"},{icon:rn,title:"Segurança Enterprise",description:"Criptografia avançada e backup automático"},{icon:ho,title:"Automações",description:"Fluxos de trabalho automatizados e integrações"}],a=[{name:"Básico",price:"Grátis",features:["Até 5 ordens de serviço","Gestão básica de estoque","Catálogo de serviços limitado","Suporte por email","Acesso a 1 usuário","Backup manual","Relatórios básicos"],current:!0},{name:"Premium",price:"R$ 99,00/mês",features:["Ordens de serviço ilimitadas","Gestão completa de estoque","Catálogo de serviços completo","Suporte prioritário","Até 5 usuários","Backup automático","Analytics avançados","Personalização visual","Modo offline no app","Integrações básicas"],popular:!0},{name:"Enterprise",price:"R$ 200,00/mês",features:["Tudo do Premium","Usuários ilimitados","API de integração","Suporte dedicado 24/7","SLA garantido","Dashboards personalizados","Gestão financeira avançada","Controle de acesso granular","Monitoramento em tempo real","Relatórios customizados","Treinamento da equipe","Ambiente de homologação"]}];return n.jsx(Nt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white rounded-t-3xl",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(Vx,{className:"h-8 w-8 text-yellow-300"})}),n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Recurso Premium"}),n.jsx("p",{className:"text-blue-100",children:e?`"${e}" está disponível apenas no plano Premium`:"Desbloqueie todo o potencial da plataforma"})]})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"O que você ganha com o Premium"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((i,o)=>n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})]},i.title))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu plano"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,o)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:`relative p-6 rounded-2xl border-2 transition-all duration-200 ${i.popular?"border-blue-500 bg-gradient-to-b from-blue-50 to-purple-50 shadow-lg scale-105":i.current?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[i.popular&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[n.jsx(Na,{className:"h-4 w-4 mr-1"}),"Mais Popular"]})}),i.current&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"bg-gray-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Plano Atual"})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.price})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((l,c)=>n.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(mn,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},c))}),n.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${i.current?"bg-gray-300 text-gray-500 cursor-not-allowed":i.popular?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,disabled:i.current,children:i.current?"Plano Atual":"Fazer Upgrade"})]},i.name))})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Começar Teste Grátis de 14 dias"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sem compromisso • Cancele a qualquer momento"})]})]})]})]})})},w1e=({feature:t})=>{const[e,r]=F.useState(!0);return e?n.jsx(Nt,{children:n.jsx(ue.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-20 left-0 right-0 z-30 px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"relative p-4 md:p-6",children:[n.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 p-1 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[n.jsx("div",{className:"mb-4 md:mb-0 md:mr-6 flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Vx,{className:"h-6 w-6 text-yellow-300"})})}),n.jsxs("div",{className:"text-center md:text-left flex-1 md:mr-6",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t?`Desbloqueie "${t}" com o plano Premium!`:"Atualize para o plano Premium!"}),n.jsx("p",{className:"text-white/80 text-sm",children:"Acesse recursos avançados, usuários ilimitados e suporte prioritário por apenas R$49,90/mês."})]}),n.jsx("div",{className:"mt-4 md:mt-0",children:n.jsxs(Pl,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(Na,{className:"h-4 w-4 mr-2 text-yellow-500"}),n.jsx("span",{children:"Ver Planos"}),n.jsx(uo,{className:"h-4 w-4 ml-2"})]})})]})]}),n.jsx("div",{className:"h-1 bg-white/20",children:n.jsx(ue.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-300",initial:{width:0},animate:{width:"100%"},transition:{duration:10,ease:"linear"},onAnimationComplete:()=>r(!1)})})]})})})}):null},j1e=({isOpen:t,feature:e,onClose:r})=>{const s=[{icon:oa,title:"Analytics Avançados",description:"Relatórios detalhados, dashboards personalizados e análise preditiva"},{icon:Zt,title:"Usuários Ilimitados",description:"Adicione toda sua equipe sem limites ou custos adicionais"},{icon:rn,title:"Segurança Enterprise",description:"Criptografia avançada, autenticação em dois fatores e logs de auditoria"},{icon:ho,title:"Integrações Avançadas",description:"API personalizada e conexão com sistemas ERP, CRM e contábeis"}];return n.jsx(Nt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white rounded-t-2xl",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(Ro,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Recurso Enterprise"}),n.jsx("p",{className:"text-purple-100",children:e?`"${e}" está disponível apenas no plano Enterprise`:"Desbloqueie recursos avançados com o plano Enterprise"})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"O que você ganha com o Enterprise"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((a,i)=>n.jsxs(ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:n.jsx(a.icon,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},a.title))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefícios Exclusivos"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Na,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Gerente de conta dedicado"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Na,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Suporte 24/7 por telefone, email e chat"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Na,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"SLA garantido com 99.9% de uptime"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(Na,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Treinamento personalizado para sua equipe"]})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs(Pl,{to:"/pricing",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:[n.jsx(Vx,{className:"h-5 w-5 mr-2 text-yellow-300"}),"Ver Plano Enterprise"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre em contato para uma demonstração personalizada"})]})]})]})]})})},N1e=()=>{const t=Vs();return F.useEffect(()=>{t("/",{replace:!0})},[t]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:n.jsxs("div",{className:"text-white text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),n.jsx("p",{className:"mt-4 text-lg",children:"Carregando sistema..."})]})})},_1e=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState([{id:"1",code:"0000",role:"admin",createdAt:"2024-01-15T10:00:00",expiresAt:"2099-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Admin Demo",usedAt:"2024-01-15T10:05:00",isUniversal:!0},{id:"2",code:"234567",role:"technician",createdAt:"2024-01-16T11:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Carlos Técnico",usedAt:"2024-01-16T14:20:00"},{id:"3",code:"345678",role:"technician",createdAt:"2024-01-17T09:15:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Ana Técnica",usedAt:"2024-01-17T10:45:00"},{id:"4",code:"456789",role:"external",createdAt:"2024-01-18T14:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"João Externo",usedAt:"2024-01-19T08:10:00"},{id:"5",code:"567890",role:"technician",createdAt:"2024-01-20T16:45:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!1}]),[s,a]=F.useState(!1),[i,o]=F.useState(!1),[l,c]=F.useState(null),[d,u]=F.useState({role:"technician",expiresAt:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),[h,m]=F.useState(null),[f,b]=F.useState("all"),y=e.filter(S=>f==="all"?!0:f==="used"?S.isUsed:f==="unused"?!S.isUsed:f==="admin"||f==="technician"||f==="external"?S.role===f:!0),g=()=>Math.floor(1e5+Math.random()*9e5).toString(),x=()=>{const S={id:Date.now().toString(),code:g(),role:d.role,createdAt:new Date().toISOString(),expiresAt:new Date(d.expiresAt+"T23:59:59").toISOString(),createdBy:"Admin Demo",isUsed:!1};r([...e,S]),a(!1),m(S.id),setTimeout(()=>{h===S.id&&m(null)},3e3)},v=()=>{l&&(r(e.map(S=>S.id===l.id?l:S)),o(!1),c(null))},j=(S,k)=>{navigator.clipboard.writeText(S).then(()=>{m(k),setTimeout(()=>{h===k&&m(null)},3e3)})},B=S=>{if(e.find(I=>I.id===S)?.isUniversal){alert("O código universal não pode ser excluído.");return}confirm("Tem certeza que deseja excluir este código de acesso?")&&r(e.filter(I=>I.id!==S))},C=S=>{const k=e.find(I=>I.id===S);if(k?.isUniversal){c(k),o(!0);return}r(e.map(I=>I.id===S?{...I,code:g(),isUsed:!1,usedBy:void 0,usedAt:void 0}:I))},E=S=>new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=S=>new Date(S)<new Date;return t?n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Códigos de Acesso"}),n.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Código"})]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:n.jsx(Vf,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Código Universal"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Código de acesso principal para administradores"})]})]}),n.jsxs("button",{onClick:()=>{const S=e.find(k=>k.isUniversal);S&&(c(S),o(!0))},className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(fi,{className:"h-3 w-3"}),n.jsx("span",{children:"Alterar"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(rn,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-mono font-bold text-lg text-gray-900 mr-2",children:e.find(S=>S.isUniversal)?.code||"0000"}),n.jsx("button",{onClick:()=>{const S=e.find(k=>k.isUniversal);S&&j(S.code,S.id)},className:`p-1 rounded-md transition-colors ${h===e.find(S=>S.isUniversal)?.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar código",children:h===e.find(S=>S.isUniversal)?.id?n.jsx(mn,{className:"h-4 w-4"}):n.jsx(Pd,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Acesso administrativo com permissões completas"})]})]}),n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Universal"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg transition-colors ${f==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),n.jsx("button",{onClick:()=>b("unused"),className:`px-4 py-2 rounded-lg transition-colors ${f==="unused"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Não Utilizados"}),n.jsx("button",{onClick:()=>b("used"),className:`px-4 py-2 rounded-lg transition-colors ${f==="used"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Utilizados"}),n.jsx("button",{onClick:()=>b("admin"),className:`px-4 py-2 rounded-lg transition-colors ${f==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Administradores"}),n.jsx("button",{onClick:()=>b("technician"),className:`px-4 py-2 rounded-lg transition-colors ${f==="technician"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Técnicos"}),n.jsx("button",{onClick:()=>b("external"),className:`px-4 py-2 rounded-lg transition-colors ${f==="external"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Externos"})]})}),n.jsx("div",{className:"space-y-4",children:y.filter(S=>!S.isUniversal).length>0?y.filter(S=>!S.isUniversal).map((S,k)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:k*.05},className:`bg-white rounded-xl p-6 shadow-md border ${S.isUsed?M(S.expiresAt)?"border-red-200":"border-yellow-200":M(S.expiresAt)?"border-red-200":"border-green-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${S.role==="admin"?"bg-purple-100":S.role==="technician"?"bg-blue-100":"bg-orange-100"}`,children:n.jsx(Vf,{className:`h-6 w-6 ${S.role==="admin"?"text-purple-600":S.role==="technician"?"text-blue-600":"text-orange-600"}`})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mr-2",children:S.code}),n.jsx("button",{onClick:()=>j(S.code,S.id),className:`p-1 rounded-md transition-colors ${h===S.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar código",children:h===S.id?n.jsx(mn,{className:"h-4 w-4"}):n.jsx(Pd,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-600",children:S.role==="admin"?"Administrador":S.role==="technician"?"Técnico":"Funcionário Externo"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:S.isUsed?n.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Utilizado"}):M(S.expiresAt)?n.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Expirado"}):n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Disponível"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(kr,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Criado em:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:E(S.createdAt)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(kr,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Expira em:"})]}),n.jsx("p",{className:`text-sm font-medium ${M(S.expiresAt)?"text-red-600":"text-gray-900"}`,children:E(S.expiresAt)})]}),S.isUsed&&S.usedBy&&S.usedAt&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(nn,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Utilizado por:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.usedBy})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(tr,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Utilizado em:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:E(S.usedAt)})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[!S.isUsed&&n.jsxs("button",{onClick:()=>C(S.id),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(zs,{className:"h-3 w-3"}),n.jsx("span",{children:"Regenerar"})]}),n.jsxs("button",{onClick:()=>B(S.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(rr,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},S.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(Vf,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum código encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos códigos de acesso com os filtros selecionados."}),n.jsx("button",{onClick:()=>b("all"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(Nt,{children:s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Código de Acesso"}),n.jsx("button",{onClick:()=>a(!1),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Acesso"}),n.jsxs("select",{value:d.role,onChange:S=>u({...d,role:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Técnico"}),n.jsx("option",{value:"external",children:"Funcionário Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Expiração"}),n.jsx("input",{type:"date",value:d.expiresAt,onChange:S=>u({...d,expiresAt:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Informações de Segurança"})]}),n.jsx("p",{className:"text-sm text-blue-600",children:"O código será gerado automaticamente e poderá ser copiado após a criação. Compartilhe-o de forma segura com o usuário."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Gerar Código"})]})]})]})}),n.jsx(Nt,{children:i&&l&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{o(!1),c(null)},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alterar Código Universal"}),n.jsx("button",{onClick:()=>{o(!1),c(null)},children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Código Universal"}),n.jsx("input",{type:"text",value:l.code,onChange:S=>c({...l,code:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o novo código",maxLength:6,required:!0}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"O código universal deve ter no máximo 6 dígitos"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-yellow-700 mb-2",children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Atenção"})]}),n.jsx("p",{className:"text-sm text-yellow-600",children:"Alterar o código universal afetará o acesso de todos os administradores. Certifique-se de comunicar o novo código a todos os usuários relevantes."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(Nr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alterações"]})]})]})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[n.jsx(rn,{className:"h-16 w-16 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),n.jsx("p",{className:"text-gray-600 text-center",children:"Esta área é restrita a administradores do sistema."})]})},C1e=()=>{const[t,e]=F.useState("monthly"),[r,s]=F.useState(!1),a=[{name:"Básico",description:"Para pequenos negócios e profissionais autônomos",price:{monthly:0,annual:0},features:["Até 50 ordens de serviço por mês","Até 3 usuários","Gestão básica de estoque","Catálogo de serviços","Relatórios básicos","Suporte por email"],limitations:["Sem integração financeira","Sem contratos de manutenção","Sem personalização visual","Sem acesso offline"],cta:"Começar Grátis",color:"gray"},{name:"Premium",description:"Para empresas em crescimento que precisam de mais recursos",price:{monthly:49.9,annual:44.9},features:["Ordens de serviço ilimitadas","Até 10 usuários","Gestão avançada de estoque","Catálogo de serviços completo","Contratos de manutenção","Integração financeira","Relatórios avançados","Personalização visual","Acesso offline","Suporte prioritário"],limitations:["Sem API personalizada","Sem SLA garantido"],cta:"Assinar Premium",color:"blue",popular:!0},{name:"Enterprise",description:"Para grandes empresas com necessidades complexas",price:{monthly:99.9,annual:89.9},features:["Tudo do plano Premium","Usuários ilimitados","API personalizada","Integrações avançadas","Análise de dados avançada","Monitoramento em tempo real","Suporte 24/7","Gerente de conta dedicado","SLA garantido","Treinamento personalizado"],cta:"Fale com Vendas",color:"purple"}],i=[{category:"Ordens de Serviço",features:[{name:"Criação de OS",basic:!0,premium:!0,enterprise:!0},{name:"Atribuição de técnicos",basic:!0,premium:!0,enterprise:!0},{name:"Anexo de fotos",basic:!0,premium:!0,enterprise:!0},{name:"Histórico de status",basic:!0,premium:!0,enterprise:!0},{name:"OS ilimitadas",basic:!1,premium:!0,enterprise:!0},{name:"Modelos personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Assinatura digital",basic:!1,premium:!0,enterprise:!0},{name:"Automação de fluxo",basic:!1,premium:!1,enterprise:!0}]},{category:"Clientes",features:[{name:"Cadastro básico",basic:!0,premium:!0,enterprise:!0},{name:"Histórico de serviços",basic:!0,premium:!0,enterprise:!0},{name:"Cadastro PF/PJ",basic:!1,premium:!0,enterprise:!0},{name:"Contratos de manutenção",basic:!1,premium:!0,enterprise:!0},{name:"SLA personalizado",basic:!1,premium:!1,enterprise:!0},{name:"Portal do cliente",basic:!1,premium:!1,enterprise:!0}]},{category:"Estoque",features:[{name:"Controle básico",basic:!0,premium:!0,enterprise:!0},{name:"Baixa automática",basic:!1,premium:!0,enterprise:!0},{name:"Alertas de estoque mínimo",basic:!1,premium:!0,enterprise:!0},{name:"Múltiplos depósitos",basic:!1,premium:!1,enterprise:!0},{name:"Gestão de fornecedores",basic:!1,premium:!0,enterprise:!0}]},{category:"Financeiro",features:[{name:"Faturamento básico",basic:!0,premium:!0,enterprise:!0},{name:"Integração com OS",basic:!1,premium:!0,enterprise:!0},{name:"Relatórios financeiros",basic:!1,premium:!0,enterprise:!0},{name:"Integração bancária",basic:!1,premium:!1,enterprise:!0},{name:"Fluxo de caixa avançado",basic:!1,premium:!1,enterprise:!0}]},{category:"Relatórios",features:[{name:"Relatórios básicos",basic:!0,premium:!0,enterprise:!0},{name:"Exportação PDF/Excel",basic:!1,premium:!0,enterprise:!0},{name:"Dashboards personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Business Intelligence",basic:!1,premium:!1,enterprise:!0},{name:"Análise preditiva",basic:!1,premium:!1,enterprise:!0}]},{category:"Suporte",features:[{name:"Suporte por email",basic:!0,premium:!0,enterprise:!0},{name:"Suporte prioritário",basic:!1,premium:!0,enterprise:!0},{name:"Suporte 24/7",basic:!1,premium:!1,enterprise:!0},{name:"Gerente de conta",basic:!1,premium:!1,enterprise:!0},{name:"SLA garantido",basic:!1,premium:!1,enterprise:!0},{name:"Treinamento personalizado",basic:!1,premium:!1,enterprise:!0}]}];return n.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx(ue.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos e Preços"}),n.jsx(ue.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o plano ideal para o seu negócio e comece a otimizar sua gestão de serviços hoje mesmo"}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-8 inline-flex items-center bg-gray-100 p-1 rounded-full",children:[n.jsx("button",{onClick:()=>e("monthly"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mensal"}),n.jsxs("button",{onClick:()=>e("annual"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="annual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Anual ",n.jsx("span",{className:"text-green-600 font-bold",children:"-10%"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:a.map((o,l)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+l*.1,duration:.6},className:`relative rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${o.popular?"border-2 border-blue-500 transform md:-translate-y-4 hover:shadow-2xl":"border border-gray-200 hover:shadow-xl"}`,children:[o.popular&&n.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 text-center text-sm font-bold",children:"MAIS POPULAR"}),n.jsxs("div",{className:`p-8 ${o.popular?"pt-14":"pt-8"}`,children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.name}),n.jsx("p",{className:"text-gray-600 mb-6 h-12",children:o.description}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"text-4xl font-bold text-gray-900",children:o.price[t]===0?"Grátis":`R$${o.price[t].toFixed(2)}`}),o.price[t]>0&&n.jsxs("span",{className:"text-gray-600 ml-2",children:["/mês",t==="annual"&&", cobrado anualmente"]})]}),n.jsxs("ul",{className:"space-y-3 mb-8",children:[o.features.map((c,d)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx(mn,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-600",children:c})]},d)),o.limitations&&o.limitations.map((c,d)=>n.jsxs("li",{className:"flex items-start text-gray-400",children:[n.jsx(Et,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:c})]},`limit-${d}`))]}),n.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${o.name==="Básico"?"bg-gray-900 text-white hover:bg-gray-800":o.name==="Premium"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:o.cta})]})]},o.name))}),n.jsx("div",{className:"text-center mb-8",children:n.jsxs("button",{onClick:()=>s(!r),className:"inline-flex items-center space-x-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:r?"Ocultar comparação detalhada":"Ver comparação detalhada de recursos"}),n.jsx(ue.div,{animate:{rotate:r?90:0},transition:{duration:.3},children:n.jsx(uo,{className:"h-5 w-5"})})]})}),r&&n.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-16",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 w-1/3",children:"Recursos"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50",children:"Básico"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider bg-blue-50",children:"Premium"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider bg-purple-50",children:"Enterprise"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>n.jsxs(ke.Fragment,{children:[n.jsx("tr",{className:"bg-gray-50",children:n.jsx("td",{colSpan:4,className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.category})}),o.features.map((l,c)=>n.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.name}),n.jsx("td",{className:"px-6 py-4 text-center",children:l.basic?n.jsx(mn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(Et,{className:"h-5 w-5 text-gray-300 mx-auto"})}),n.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:l.premium?n.jsx(mn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(Et,{className:"h-5 w-5 text-gray-300 mx-auto"})}),n.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:l.enterprise?n.jsx(mn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(Et,{className:"h-5 w-5 text-gray-300 mx-auto"})})]},`${o.category}-${c}`))]},o.category))})]})})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Recursos Principais"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:vt,title:"Gestão de Ordens de Serviço",description:"Crie, acompanhe e gerencie todas as suas ordens de serviço em um só lugar.",color:"blue"},{icon:$t,title:"Controle de Estoque",description:"Gerencie seu inventário com baixa automática de materiais utilizados nas OS.",color:"green"},{icon:Zt,title:"Gestão de Clientes",description:"Cadastro completo de clientes PF e PJ com histórico de serviços.",color:"purple"},{icon:kr,title:"Agendamento Inteligente",description:"Organize a agenda dos técnicos e otimize rotas de atendimento.",color:"orange"},{icon:pr,title:"Integração Financeira",description:"Faturamento automático vinculado às ordens de serviço concluídas.",color:"emerald"},{icon:oa,title:"Relatórios Avançados",description:"Análise detalhada de desempenho, produtividade e resultados financeiros.",color:"indigo"},{icon:UE,title:"Acesso Mobile",description:"Acesse o sistema de qualquer lugar, mesmo sem conexão com internet.",color:"pink"},{icon:g1,title:"Personalização Visual",description:"Adapte a interface às cores e identidade visual da sua empresa.",color:"amber"},{icon:G$,title:"Backup Automático",description:"Seus dados sempre seguros com backup automático na nuvem.",color:"sky"}].map((o,l)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg bg-${o.color}-100 flex items-center justify-center mb-4`,children:n.jsx(o.icon,{className:`h-6 w-6 text-${o.color}-600`})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),n.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, você pode fazer upgrade ou downgrade do seu plano a qualquer momento. As mudanças entram em vigor imediatamente e o valor é ajustado proporcionalmente."},{question:"Existe período de teste?",answer:"Sim, oferecemos 14 dias de teste gratuito para os planos Premium e Enterprise, com acesso a todos os recursos."},{question:"Como funciona o suporte técnico?",answer:"O plano Básico inclui suporte por email com tempo de resposta de até 48h. O plano Premium oferece suporte prioritário com resposta em até 24h. O plano Enterprise inclui suporte 24/7 por email, chat e telefone."},{question:"Preciso instalar algum software?",answer:"Não, o GiarTech é uma solução 100% web, acessível de qualquer navegador. Também oferecemos aplicativos mobile para iOS e Android nos planos Premium e Enterprise."},{question:"Meus dados estão seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos as melhores práticas de segurança. Realizamos backups diários e estamos em conformidade com a LGPD."},{question:"Posso cancelar a qualquer momento?",answer:"Sim, você pode cancelar sua assinatura a qualquer momento sem taxas adicionais. No caso de planos anuais, oferecemos reembolso proporcional ao período não utilizado."}].map((o,l)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:o.question}),n.jsx("p",{className:"text-gray-600",children:o.answer})]},l))})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para transformar sua gestão de serviços?"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Comece agora mesmo com o plano gratuito ou experimente todos os recursos premium por 14 dias sem compromisso."}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx("button",{className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:"Começar Gratuitamente"}),n.jsx("button",{className:"px-8 py-4 bg-blue-500 bg-opacity-30 text-white font-semibold rounded-xl hover:bg-opacity-40 hover:shadow-lg transition-all duration-200",children:"Agendar Demonstração"})]})]}),n.jsxs("div",{className:"mt-16 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda para escolher o plano ideal?"}),n.jsxs("p",{className:"text-gray-900 font-medium",children:["Entre em contato: ",n.jsx("a",{href:"tel:1155552560",className:"text-blue-600 hover:text-blue-800",children:"11 5555-2560"})," | ",n.jsx("a",{href:"mailto:contato@giartech.com.br",className:"text-blue-600 hover:text-blue-800",children:"contato@giartech.com.br"})]}),n.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"GiarTech Soluções Engenharia da Climatização | CNPJ: 37.509.897/0001-93"})]})]})})},S1e=({isOpen:t,onClose:e,requiredRole:r})=>{const a=(()=>{switch(r){case"admin":return{title:"Acesso Restrito",description:"Esta funcionalidade está disponível apenas para administradores do sistema.",icon:rn,color:"red",buttonText:"Entendi"};case"premium":return{title:"Recurso Premium",description:"Esta funcionalidade está disponível apenas para assinantes do plano Premium.",icon:Vf,color:"blue",buttonText:"Ver Planos"};case"enterprise":return{title:"Recurso Enterprise",description:"Esta funcionalidade está disponível apenas para assinantes do plano Enterprise.",icon:Ro,color:"purple",buttonText:"Ver Planos"};default:return{title:"Acesso Restrito",description:"Você não tem permissão para acessar esta funcionalidade.",icon:un,color:"yellow",buttonText:"Entendi"}}})();return n.jsx(Nt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:`relative bg-${a.color}-600 p-6 text-white rounded-t-xl`,children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(ue.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(a.icon,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.title}),n.jsx("p",{className:"text-white/80",children:a.description})]})]}),n.jsx("div",{className:"p-6",children:r==="admin"?n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-6",children:"Entre em contato com o administrador do sistema para solicitar acesso a esta funcionalidade."}),n.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:a.buttonText})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-6",children:"Faça upgrade do seu plano para desbloquear esta e outras funcionalidades avançadas."}),n.jsx(Pl,{to:"/pricing",className:`inline-block px-6 py-3 bg-${a.color}-600 text-white font-semibold rounded-lg hover:bg-${a.color}-700 transition-colors`,children:a.buttonText})]})})]})]})})};function jV(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=jV(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function vr(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=jV(t))&&(s&&(s+=" "),s+=e);return s}var KN,YD;function $i(){if(YD)return KN;YD=1;var t=Array.isArray;return KN=t,KN}var WN,JD;function NV(){if(JD)return WN;JD=1;var t=typeof zy=="object"&&zy&&zy.Object===Object&&zy;return WN=t,WN}var GN,ZD;function Bc(){if(ZD)return GN;ZD=1;var t=NV(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return GN=r,GN}var XN,eM;function ey(){if(eM)return XN;eM=1;var t=Bc(),e=t.Symbol;return XN=e,XN}var YN,tM;function B1e(){if(tM)return YN;tM=1;var t=ey(),e=Object.prototype,r=e.hasOwnProperty,s=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=s.call(o);return d&&(l?o[a]=c:delete o[a]),u}return YN=i,YN}var JN,rM;function E1e(){if(rM)return JN;rM=1;var t=Object.prototype,e=t.toString;function r(s){return e.call(s)}return JN=r,JN}var ZN,nM;function Hd(){if(nM)return ZN;nM=1;var t=ey(),e=B1e(),r=E1e(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?e(l):r(l)}return ZN=o,ZN}var e_,sM;function qd(){if(sM)return e_;sM=1;function t(e){return e!=null&&typeof e=="object"}return e_=t,e_}var t_,aM;function zp(){if(aM)return t_;aM=1;var t=Hd(),e=qd(),r="[object Symbol]";function s(a){return typeof a=="symbol"||e(a)&&t(a)==r}return t_=s,t_}var r_,iM;function Nk(){if(iM)return r_;iM=1;var t=$i(),e=zp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:s.test(i)||!r.test(i)||o!=null&&i in Object(o)}return r_=a,r_}var n_,oM;function kh(){if(oM)return n_;oM=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return n_=t,n_}var s_,lM;function _k(){if(lM)return s_;lM=1;var t=Hd(),e=kh(),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==s||c==a||c==r||c==i}return s_=o,s_}var a_,cM;function k1e(){if(cM)return a_;cM=1;var t=Bc(),e=t["__core-js_shared__"];return a_=e,a_}var i_,dM;function P1e(){if(dM)return i_;dM=1;var t=k1e(),e=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function r(s){return!!e&&e in s}return i_=r,i_}var o_,uM;function _V(){if(uM)return o_;uM=1;var t=Function.prototype,e=t.toString;function r(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return o_=r,o_}var l_,hM;function T1e(){if(hM)return l_;hM=1;var t=_k(),e=P1e(),r=kh(),s=_V(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!r(m)||e(m))return!1;var f=t(m)?u:i;return f.test(s(m))}return l_=h,l_}var c_,AM;function F1e(){if(AM)return c_;AM=1;function t(e,r){return e?.[r]}return c_=t,c_}var d_,mM;function pm(){if(mM)return d_;mM=1;var t=T1e(),e=F1e();function r(s,a){var i=e(s,a);return t(i)?i:void 0}return d_=r,d_}var u_,fM;function W1(){if(fM)return u_;fM=1;var t=pm(),e=t(Object,"create");return u_=e,u_}var h_,pM;function O1e(){if(pM)return h_;pM=1;var t=W1();function e(){this.__data__=t?t(null):{},this.size=0}return h_=e,h_}var A_,gM;function I1e(){if(gM)return A_;gM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return A_=t,A_}var m_,xM;function D1e(){if(xM)return m_;xM=1;var t=W1(),e="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return s.call(o,i)?o[i]:void 0}return m_=a,m_}var f_,yM;function M1e(){if(yM)return f_;yM=1;var t=W1(),e=Object.prototype,r=e.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return f_=s,f_}var p_,bM;function L1e(){if(bM)return p_;bM=1;var t=W1(),e="__lodash_hash_undefined__";function r(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?e:a,this}return p_=r,p_}var g_,vM;function R1e(){if(vM)return g_;vM=1;var t=O1e(),e=I1e(),r=D1e(),s=M1e(),a=L1e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,g_=i,g_}var x_,wM;function U1e(){if(wM)return x_;wM=1;function t(){this.__data__=[],this.size=0}return x_=t,x_}var y_,jM;function Ck(){if(jM)return y_;jM=1;function t(e,r){return e===r||e!==e&&r!==r}return y_=t,y_}var b_,NM;function G1(){if(NM)return b_;NM=1;var t=Ck();function e(r,s){for(var a=r.length;a--;)if(t(r[a][0],s))return a;return-1}return b_=e,b_}var v_,_M;function Q1e(){if(_M)return v_;_M=1;var t=G1(),e=Array.prototype,r=e.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return v_=s,v_}var w_,CM;function $1e(){if(CM)return w_;CM=1;var t=G1();function e(r){var s=this.__data__,a=t(s,r);return a<0?void 0:s[a][1]}return w_=e,w_}var j_,SM;function H1e(){if(SM)return j_;SM=1;var t=G1();function e(r){return t(this.__data__,r)>-1}return j_=e,j_}var N_,BM;function q1e(){if(BM)return N_;BM=1;var t=G1();function e(r,s){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,s])):a[i][1]=s,this}return N_=e,N_}var __,EM;function X1(){if(EM)return __;EM=1;var t=U1e(),e=Q1e(),r=$1e(),s=H1e(),a=q1e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,__=i,__}var C_,kM;function Sk(){if(kM)return C_;kM=1;var t=pm(),e=Bc(),r=t(e,"Map");return C_=r,C_}var S_,PM;function z1e(){if(PM)return S_;PM=1;var t=R1e(),e=X1(),r=Sk();function s(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return S_=s,S_}var B_,TM;function V1e(){if(TM)return B_;TM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return B_=t,B_}var E_,FM;function Y1(){if(FM)return E_;FM=1;var t=V1e();function e(r,s){var a=r.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return E_=e,E_}var k_,OM;function K1e(){if(OM)return k_;OM=1;var t=Y1();function e(r){var s=t(this,r).delete(r);return this.size-=s?1:0,s}return k_=e,k_}var P_,IM;function W1e(){if(IM)return P_;IM=1;var t=Y1();function e(r){return t(this,r).get(r)}return P_=e,P_}var T_,DM;function G1e(){if(DM)return T_;DM=1;var t=Y1();function e(r){return t(this,r).has(r)}return T_=e,T_}var F_,MM;function X1e(){if(MM)return F_;MM=1;var t=Y1();function e(r,s){var a=t(this,r),i=a.size;return a.set(r,s),this.size+=a.size==i?0:1,this}return F_=e,F_}var O_,LM;function Bk(){if(LM)return O_;LM=1;var t=z1e(),e=K1e(),r=W1e(),s=G1e(),a=X1e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,O_=i,O_}var I_,RM;function CV(){if(RM)return I_;RM=1;var t=Bk(),e="Expected a function";function r(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=s.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,I_=r,I_}var D_,UM;function Y1e(){if(UM)return D_;UM=1;var t=CV(),e=500;function r(s){var a=t(s,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return D_=r,D_}var M_,QM;function J1e(){if(QM)return M_;QM=1;var t=Y1e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return M_=s,M_}var L_,$M;function Ek(){if($M)return L_;$M=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=Array(a);++s<a;)i[s]=r(e[s],s,e);return i}return L_=t,L_}var R_,HM;function Z1e(){if(HM)return R_;HM=1;var t=ey(),e=Ek(),r=$i(),s=zp(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return R_=o,R_}var U_,qM;function SV(){if(qM)return U_;qM=1;var t=Z1e();function e(r){return r==null?"":t(r)}return U_=e,U_}var Q_,zM;function BV(){if(zM)return Q_;zM=1;var t=$i(),e=Nk(),r=J1e(),s=SV();function a(i,o){return t(i)?i:e(i,o)?[i]:r(s(i))}return Q_=a,Q_}var $_,VM;function J1(){if(VM)return $_;VM=1;var t=zp();function e(r){if(typeof r=="string"||t(r))return r;var s=r+"";return s=="0"&&1/r==-1/0?"-0":s}return $_=e,$_}var H_,KM;function kk(){if(KM)return H_;KM=1;var t=BV(),e=J1();function r(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[e(a[i++])];return i&&i==o?s:void 0}return H_=r,H_}var q_,WM;function EV(){if(WM)return q_;WM=1;var t=kk();function e(r,s,a){var i=r==null?void 0:t(r,s);return i===void 0?a:i}return q_=e,q_}var e2e=EV();const co=Xr(e2e);var z_,GM;function t2e(){if(GM)return z_;GM=1;function t(e){return e==null}return z_=t,z_}var r2e=t2e();const _r=Xr(r2e);var V_,XM;function n2e(){if(XM)return V_;XM=1;var t=Hd(),e=$i(),r=qd(),s="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==s}return V_=a,V_}var s2e=n2e();const sm=Xr(s2e);var a2e=_k();const ur=Xr(a2e);var i2e=kh();const Vp=Xr(i2e);var K_={exports:{}},Zr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YM;function o2e(){if(YM)return Zr;YM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function y(g){if(typeof g=="object"&&g!==null){var x=g.$$typeof;switch(x){case t:switch(g=g.type,g){case r:case a:case s:case d:case u:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case m:case h:case i:return g;default:return x}}case e:return x}}}return Zr.ContextConsumer=o,Zr.ContextProvider=i,Zr.Element=t,Zr.ForwardRef=c,Zr.Fragment=r,Zr.Lazy=m,Zr.Memo=h,Zr.Portal=e,Zr.Profiler=a,Zr.StrictMode=s,Zr.Suspense=d,Zr.SuspenseList=u,Zr.isAsyncMode=function(){return!1},Zr.isConcurrentMode=function(){return!1},Zr.isContextConsumer=function(g){return y(g)===o},Zr.isContextProvider=function(g){return y(g)===i},Zr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},Zr.isForwardRef=function(g){return y(g)===c},Zr.isFragment=function(g){return y(g)===r},Zr.isLazy=function(g){return y(g)===m},Zr.isMemo=function(g){return y(g)===h},Zr.isPortal=function(g){return y(g)===e},Zr.isProfiler=function(g){return y(g)===a},Zr.isStrictMode=function(g){return y(g)===s},Zr.isSuspense=function(g){return y(g)===d},Zr.isSuspenseList=function(g){return y(g)===u},Zr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===s||g===d||g===u||g===f||typeof g=="object"&&g!==null&&(g.$$typeof===m||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===b||g.getModuleId!==void 0)},Zr.typeOf=y,Zr}var JM;function l2e(){return JM||(JM=1,K_.exports=o2e()),K_.exports}var c2e=l2e(),W_,ZM;function kV(){if(ZM)return W_;ZM=1;var t=Hd(),e=qd(),r="[object Number]";function s(a){return typeof a=="number"||e(a)&&t(a)==r}return W_=s,W_}var G_,eL;function d2e(){if(eL)return G_;eL=1;var t=kV();function e(r){return t(r)&&r!=+r}return G_=e,G_}var u2e=d2e();const ty=Xr(u2e);var h2e=kV();const A2e=Xr(h2e);var pi=function(e){return e===0?0:e>0?1:-1},UA=function(e){return sm(e)&&e.indexOf("%")===e.length-1},bt=function(e){return A2e(e)&&!ty(e)},m2e=function(e){return _r(e)},qs=function(e){return bt(e)||sm(e)},f2e=0,ry=function(e){var r=++f2e;return"".concat(e||"").concat(r)},gi=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(e)&&!sm(e))return s;var i;if(UA(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return ty(i)&&(i=s),a&&i>r&&(i=r),i},Xu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},p2e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},Ku=function(e,r){return bt(e)&&bt(r)?function(s){return e+s*(r-e)}:function(){return r}};function FB(t,e,r){return!t||!t.length?null:t.find(function(s){return s&&(typeof e=="function"?e(s):co(s,e))===r})}var g2e=function(e,r){return bt(e)&&bt(r)?e-r:sm(e)&&sm(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function np(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var s in e)if({}.hasOwnProperty.call(e,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function OB(t){"@babel/helpers - typeof";return OB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OB(t)}var x2e=["viewBox","children"],y2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],tL=["points","pathLength"],X_={svg:x2e,polygon:tL,polyline:tL},Pk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(F.isValidElement(e)&&(s=e.props),!Vp(s))return null;var a={};return Object.keys(s).forEach(function(i){Pk.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},b2e=function(e,r,s){return function(a){return e(r,s,a),null}},am=function(e,r,s){if(!Vp(e)||OB(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];Pk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=b2e(o,r,s))}),a},v2e=["children"],w2e=["children"];function rL(t,e){if(t==null)return{};var r=j2e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function j2e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var nL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sL=null,Y_=null,Tk=function t(e){if(e===sL&&Array.isArray(Y_))return Y_;var r=[];return F.Children.forEach(e,function(s){_r(s)||(c2e.isFragment(s)?r=r.concat(t(s.props.children)):r.push(s))}),Y_=r,sL=e,r};function Go(t,e){var r=[],s=[];return Array.isArray(e)?s=e.map(function(a){return Sd(a)}):s=[Sd(e)],Tk(t).forEach(function(a){var i=co(a,"type.displayName")||co(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function so(t,e){var r=Go(t,e);return r&&r[0]}var aL=function(e){if(!e||!e.props)return!1;var r=e.props,s=r.width,a=r.height;return!(!bt(s)||s<=0||!bt(a)||a<=0)},N2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_2e=function(e){return e&&e.type&&sm(e.type)&&N2e.indexOf(e.type)>=0},C2e=function(e,r,s,a){var i,o=(i=X_?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ur(e)&&(a&&o.includes(r)||y2e.includes(r))||s&&Pk.includes(r)},lr=function(e,r,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(F.isValidElement(e)&&(a=e.props),!Vp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;C2e((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},IB=function t(e,r){if(e===r)return!0;var s=F.Children.count(e);if(s!==F.Children.count(r))return!1;if(s===0)return!0;if(s===1)return iL(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!iL(i,o))return!1}return!0},iL=function(e,r){if(_r(e)&&_r(r))return!0;if(!_r(e)&&!_r(r)){var s=e.props||{},a=s.children,i=rL(s,v2e),o=r.props||{},l=o.children,c=rL(o,w2e);return a&&l?np(i,c)&&IB(a,l):!a&&!l?np(i,c):!1}return!1},oL=function(e,r){var s=[],a={};return Tk(e).forEach(function(i,o){if(_2e(i))s.push(i);else if(i){var l=Sd(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},S2e=function(e){var r=e&&e.type;return r&&nL[r]?nL[r]:null},B2e=function(e,r){return Tk(r).indexOf(e)},E2e=["children","width","height","viewBox","className","style","title","desc"];function DB(){return DB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},DB.apply(this,arguments)}function k2e(t,e){if(t==null)return{};var r=P2e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function P2e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function MB(t){var e=t.children,r=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=k2e(t,E2e),u=a||{width:r,height:s,x:0,y:0},h=vr("recharts-surface",i);return ke.createElement("svg",DB({},lr(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ke.createElement("title",null,l),ke.createElement("desc",null,c),e)}var T2e=["children","className"];function LB(){return LB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},LB.apply(this,arguments)}function F2e(t,e){if(t==null)return{};var r=O2e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function O2e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var dn=ke.forwardRef(function(t,e){var r=t.children,s=t.className,a=F2e(t,T2e),i=vr("recharts-layer",s);return ke.createElement("g",LB({className:i},lr(a,!0),{ref:e}),r)}),kl=function(e,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},J_,lL;function I2e(){if(lL)return J_;lL=1;function t(e,r,s){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),s=s>i?i:s,s<0&&(s+=i),i=r>s?0:s-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return J_=t,J_}var Z_,cL;function D2e(){if(cL)return Z_;cL=1;var t=I2e();function e(r,s,a){var i=r.length;return a=a===void 0?i:a,!s&&a>=i?r:t(r,s,a)}return Z_=e,Z_}var e5,dL;function PV(){if(dL)return e5;dL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return e5=c,e5}var t5,uL;function M2e(){if(uL)return t5;uL=1;function t(e){return e.split("")}return t5=t,t5}var r5,hL;function L2e(){if(hL)return r5;hL=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",b=d+"?",y="["+i+"]?",g="(?:"+f+"(?:"+[u,h,m].join("|")+")"+y+b+")*",x=y+b+g,v="(?:"+[u+l+"?",l,h,m,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+v+x,"g");function B(C){return C.match(j)||[]}return r5=B,r5}var n5,AL;function R2e(){if(AL)return n5;AL=1;var t=M2e(),e=PV(),r=L2e();function s(a){return e(a)?r(a):t(a)}return n5=s,n5}var s5,mL;function U2e(){if(mL)return s5;mL=1;var t=D2e(),e=PV(),r=R2e(),s=SV();function a(i){return function(o){o=s(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return s5=a,s5}var a5,fL;function Q2e(){if(fL)return a5;fL=1;var t=U2e(),e=t("toUpperCase");return a5=e,a5}var $2e=Q2e();const Z1=Xr($2e);function _n(t){return function(){return t}}const TV=Math.cos,hw=Math.sin,Il=Math.sqrt,Aw=Math.PI,e2=2*Aw,RB=Math.PI,UB=2*RB,SA=1e-6,H2e=UB-SA;function FV(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function q2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return FV;const r=10**e;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class z2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?FV:q2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,s,a){this._append`Q${+e},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(e,r,s,a,i,o){this._append`C${+e},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,s,a,i){if(e=+e,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-e,d=a-r,u=o-e,h=l-r,m=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>SA)if(!(Math.abs(h*c-d*u)>SA)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=s-o,b=a-l,y=c*c+d*d,g=f*f+b*b,x=Math.sqrt(y),v=Math.sqrt(m),j=i*Math.tan((RB-Math.acos((y+m-g)/(2*x*v)))/2),B=j/v,C=j/x;Math.abs(B-1)>SA&&this._append`L${e+B*u},${r+B*h}`,this._append`A${i},${i},0,0,${+(h*f>u*b)},${this._x1=e+C*c},${this._y1=r+C*d}`}}arc(e,r,s,a,i,o){if(e=+e,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=e+l,u=r+c,h=1^o,m=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>SA||Math.abs(this._y1-u)>SA)&&this._append`L${d},${u}`,s&&(m<0&&(m=m%UB+UB),m>H2e?this._append`A${s},${s},0,1,${h},${e-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:m>SA&&this._append`A${s},${s},0,${+(m>=RB)},${h},${this._x1=e+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(e,r,s,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function Fk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);e=s}return t},()=>new z2e(e)}function Ok(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function OV(t){this._context=t}OV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function t2(t){return new OV(t)}function IV(t){return t[0]}function DV(t){return t[1]}function MV(t,e){var r=_n(!0),s=null,a=t2,i=null,o=Fk(l);t=typeof t=="function"?t:t===void 0?IV:_n(t),e=typeof e=="function"?e:e===void 0?DV:_n(e);function l(c){var d,u=(c=Ok(c)).length,h,m=!1,f;for(s==null&&(i=a(f=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+t(h,d,c),+e(h,d,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_n(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_n(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_n(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Vb(t,e,r){var s=null,a=_n(!0),i=null,o=t2,l=null,c=Fk(d);t=typeof t=="function"?t:t===void 0?IV:_n(+t),e=typeof e=="function"?e:_n(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?DV:_n(+r);function d(h){var m,f,b,y=(h=Ok(h)).length,g,x=!1,v,j=new Array(y),B=new Array(y);for(i==null&&(l=o(v=c())),m=0;m<=y;++m){if(!(m<y&&a(g=h[m],m,h))===x)if(x=!x)f=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=m-1;b>=f;--b)l.point(j[b],B[b]);l.lineEnd(),l.areaEnd()}x&&(j[m]=+t(g,m,h),B[m]=+e(g,m,h),l.point(s?+s(g,m,h):j[m],r?+r(g,m,h):B[m]))}if(v)return l=null,v+""||null}function u(){return MV().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:_n(+h),s=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:_n(+h),d):t},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:_n(+h),d):s},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:_n(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:_n(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:_n(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(s).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:_n(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class LV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function V2e(t){return new LV(t,!0)}function K2e(t){return new LV(t,!1)}const Ik={draw(t,e){const r=Il(e/Aw);t.moveTo(r,0),t.arc(0,0,r,0,e2)}},W2e={draw(t,e){const r=Il(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},RV=Il(1/3),G2e=RV*2,X2e={draw(t,e){const r=Il(e/G2e),s=r*RV;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},Y2e={draw(t,e){const r=Il(e),s=-r/2;t.rect(s,s,r,r)}},J2e=.8908130915292852,UV=hw(Aw/10)/hw(7*Aw/10),Z2e=hw(e2/10)*UV,eje=-TV(e2/10)*UV,tje={draw(t,e){const r=Il(e*J2e),s=Z2e*r,a=eje*r;t.moveTo(0,-r),t.lineTo(s,a);for(let i=1;i<5;++i){const o=e2*i/5,l=TV(o),c=hw(o);t.lineTo(c*r,-l*r),t.lineTo(l*s-c*a,c*s+l*a)}t.closePath()}},i5=Il(3),rje={draw(t,e){const r=-Il(e/(i5*3));t.moveTo(0,r*2),t.lineTo(-i5*r,-r),t.lineTo(i5*r,-r),t.closePath()}},To=-.5,Fo=Il(3)/2,QB=1/Il(12),nje=(QB/2+1)*3,sje={draw(t,e){const r=Il(e/nje),s=r/2,a=r*QB,i=s,o=r*QB+r,l=-i,c=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(To*s-Fo*a,Fo*s+To*a),t.lineTo(To*i-Fo*o,Fo*i+To*o),t.lineTo(To*l-Fo*c,Fo*l+To*c),t.lineTo(To*s+Fo*a,To*a-Fo*s),t.lineTo(To*i+Fo*o,To*o-Fo*i),t.lineTo(To*l+Fo*c,To*c-Fo*l),t.closePath()}};function aje(t,e){let r=null,s=Fk(a);t=typeof t=="function"?t:_n(t||Ik),e=typeof e=="function"?e:_n(e===void 0?64:+e);function a(){let i;if(r||(r=i=s()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:_n(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:_n(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function mw(){}function fw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function QV(t){this._context=t}QV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ije(t){return new QV(t)}function $V(t){this._context=t}$V.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oje(t){return new $V(t)}function HV(t){this._context=t}HV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:fw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lje(t){return new HV(t)}function qV(t){this._context=t}qV.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cje(t){return new qV(t)}function pL(t){return t<0?-1:1}function gL(t,e,r){var s=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(r-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(pL(i)+pL(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function xL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function o5(t,e,r){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*e,i-l,o-l*r,i,o)}function pw(t){this._context=t}pw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o5(this,this._t0,xL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,o5(this,xL(this,r=gL(this,t,e)),r);break;default:o5(this,this._t0,r=gL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function zV(t){this._context=new VV(t)}(zV.prototype=Object.create(pw.prototype)).point=function(t,e){pw.prototype.point.call(this,e,t)};function VV(t){this._context=t}VV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,s,a,i){this._context.bezierCurveTo(e,t,s,r,i,a)}};function dje(t){return new pw(t)}function uje(t){return new zV(t)}function KV(t){this._context=t}KV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var s=yL(t),a=yL(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yL(t){var e,r=t.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)s=a[e]/i[e-1],i[e]-=s,o[e]-=s*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function hje(t){return new KV(t)}function r2(t,e){this._context=t,this._t=e}r2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Aje(t){return new r2(t,.5)}function mje(t){return new r2(t,0)}function fje(t){return new r2(t,1)}function Ap(t,e){if((o=t.length)>1)for(var r=1,s,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function $B(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function pje(t,e){return t[e]}function gje(t){const e=[];return e.key=t,e}function xje(){var t=_n([]),e=$B,r=Ap,s=pje;function a(i){var o=Array.from(t.apply(this,arguments),gje),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=Ok(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:_n(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:_n(+i),a):s},a.order=function(i){return arguments.length?(e=i==null?$B:typeof i=="function"?i:_n(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Ap,a):r},a}function yje(t,e){if((s=t.length)>0){for(var r,s,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<s;++r)t[r][a][1]/=o}Ap(t,e)}}function bje(t,e){if((a=t.length)>0){for(var r=0,s=t[e[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}Ap(t,e)}}function vje(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[s][1]||0,m=u[s-1][1]||0,f=(h-m)/2,b=0;b<l;++b){var y=t[e[b]],g=y[s][1]||0,x=y[s-1][1]||0;f+=g-x}c+=h,d+=f*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,Ap(t,e)}}function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}var wje=["type","size","sizeType"];function HB(){return HB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},HB.apply(this,arguments)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function vL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(s){jje(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function jje(t,e,r){return e=Nje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nje(t){var e=_je(t,"string");return ix(e)=="symbol"?e:e+""}function _je(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cje(t,e){if(t==null)return{};var r=Sje(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Sje(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var WV={symbolCircle:Ik,symbolCross:W2e,symbolDiamond:X2e,symbolSquare:Y2e,symbolStar:tje,symbolTriangle:rje,symbolWye:sje},Bje=Math.PI/180,Eje=function(e){var r="symbol".concat(Z1(e));return WV[r]||Ik},kje=function(e,r,s){if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Bje;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Pje=function(e,r){WV["symbol".concat(Z1(e))]=r},Dk=function(e){var r=e.type,s=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=Cje(e,wje),d=vL(vL({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=Eje(s),x=aje().type(g).size(kje(i,l,s));return x()},h=d.className,m=d.cx,f=d.cy,b=lr(d,!0);return m===+m&&f===+f&&i===+i?ke.createElement("path",HB({},b,{className:vr("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(f,")"),d:u()})):null};Dk.registerSymbol=Pje;function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function qB(){return qB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qB.apply(this,arguments)}function wL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Tje(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(r),!0).forEach(function(s){ox(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Fje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oje(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,XV(s.key),s)}}function Ije(t,e,r){return e&&Oje(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dje(t,e,r){return e=gw(e),Mje(t,GV()?Reflect.construct(e,r||[],gw(t).constructor):e.apply(t,r))}function Mje(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lje(t)}function Lje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GV=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(t)}function Rje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zB(t,e)}function zB(t,e){return zB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zB(t,e)}function ox(t,e,r){return e=XV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XV(t){var e=Uje(t,"string");return mp(e)=="symbol"?e:e+""}function Uje(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oo=32,Mk=(function(t){function e(){return Fje(this,e),Dje(this,e,arguments)}return Rje(e,t),Ije(e,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Oo/2,o=Oo/6,l=Oo/3,c=s.inactive?a:s.color;if(s.type==="plainline")return ke.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Oo,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return ke.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Oo,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return ke.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Oo/8,"h").concat(Oo,"v").concat(Oo*3/4,"h").concat(-Oo,"z"),className:"recharts-legend-icon"});if(ke.isValidElement(s.legendIcon)){var d=Tje({},s);return delete d.legendIcon,ke.cloneElement(s.legendIcon,d)}return ke.createElement(Dk,{fill:c,cx:i,cy:i,size:Oo,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:Oo,height:Oo},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,b){var y=f.formatter||c,g=vr(ox(ox({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",f.inactive));if(f.type==="none")return null;var x=ur(f.value)?null:f.value;kl(!ur(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=f.inactive?d:f.color;return ke.createElement("li",qB({className:g,style:h,key:"legend-item-".concat(b)},am(s.props,f,b)),ke.createElement(MB,{width:o,height:o,viewBox:u,style:m},s.renderIcon(f)),ke.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y?y(x,f,b):x))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ke.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(F.PureComponent);ox(Mk,"displayName","Legend");ox(Mk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var l5,jL;function Qje(){if(jL)return l5;jL=1;var t=X1();function e(){this.__data__=new t,this.size=0}return l5=e,l5}var c5,NL;function $je(){if(NL)return c5;NL=1;function t(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}return c5=t,c5}var d5,_L;function Hje(){if(_L)return d5;_L=1;function t(e){return this.__data__.get(e)}return d5=t,d5}var u5,CL;function qje(){if(CL)return u5;CL=1;function t(e){return this.__data__.has(e)}return u5=t,u5}var h5,SL;function zje(){if(SL)return h5;SL=1;var t=X1(),e=Sk(),r=Bk(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return h5=a,h5}var A5,BL;function YV(){if(BL)return A5;BL=1;var t=X1(),e=Qje(),r=$je(),s=Hje(),a=qje(),i=zje();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,A5=o,A5}var m5,EL;function Vje(){if(EL)return m5;EL=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return m5=e,m5}var f5,kL;function Kje(){if(kL)return f5;kL=1;function t(e){return this.__data__.has(e)}return f5=t,f5}var p5,PL;function JV(){if(PL)return p5;PL=1;var t=Bk(),e=Vje(),r=Kje();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=e,s.prototype.has=r,p5=s,p5}var g5,TL;function ZV(){if(TL)return g5;TL=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(e[s],s,e))return!0;return!1}return g5=t,g5}var x5,FL;function eK(){if(FL)return x5;FL=1;function t(e,r){return e.has(r)}return x5=t,x5}var y5,OL;function tK(){if(OL)return y5;OL=1;var t=JV(),e=ZV(),r=eK(),s=1,a=2;function i(o,l,c,d,u,h){var m=c&s,f=o.length,b=l.length;if(f!=b&&!(m&&b>f))return!1;var y=h.get(o),g=h.get(l);if(y&&g)return y==l&&g==o;var x=-1,v=!0,j=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++x<f;){var B=o[x],C=l[x];if(d)var E=m?d(C,B,x,l,o,h):d(B,C,x,o,l,h);if(E!==void 0){if(E)continue;v=!1;break}if(j){if(!e(l,function(M,S){if(!r(j,S)&&(B===M||u(B,M,c,d,h)))return j.push(S)})){v=!1;break}}else if(!(B===C||u(B,C,c,d,h))){v=!1;break}}return h.delete(o),h.delete(l),v}return y5=i,y5}var b5,IL;function Wje(){if(IL)return b5;IL=1;var t=Bc(),e=t.Uint8Array;return b5=e,b5}var v5,DL;function Gje(){if(DL)return v5;DL=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a,i){s[++r]=[i,a]}),s}return v5=t,v5}var w5,ML;function Lk(){if(ML)return w5;ML=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a){s[++r]=a}),s}return w5=t,w5}var j5,LL;function Xje(){if(LL)return j5;LL=1;var t=ey(),e=Wje(),r=Ck(),s=tK(),a=Gje(),i=Lk(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",m="[object Number]",f="[object RegExp]",b="[object Set]",y="[object String]",g="[object Symbol]",x="[object ArrayBuffer]",v="[object DataView]",j=t?t.prototype:void 0,B=j?j.valueOf:void 0;function C(E,M,S,k,I,_,T){switch(S){case v:if(E.byteLength!=M.byteLength||E.byteOffset!=M.byteOffset)return!1;E=E.buffer,M=M.buffer;case x:return!(E.byteLength!=M.byteLength||!_(new e(E),new e(M)));case c:case d:case m:return r(+E,+M);case u:return E.name==M.name&&E.message==M.message;case f:case y:return E==M+"";case h:var D=a;case b:var L=k&o;if(D||(D=i),E.size!=M.size&&!L)return!1;var V=T.get(E);if(V)return V==M;k|=l,T.set(E,M);var z=s(D(E),D(M),k,I,_,T);return T.delete(E),z;case g:if(B)return B.call(E)==B.call(M)}return!1}return j5=C,j5}var N5,RL;function rK(){if(RL)return N5;RL=1;function t(e,r){for(var s=-1,a=r.length,i=e.length;++s<a;)e[i+s]=r[s];return e}return N5=t,N5}var _5,UL;function Yje(){if(UL)return _5;UL=1;var t=rK(),e=$i();function r(s,a,i){var o=a(s);return e(s)?o:t(o,i(s))}return _5=r,_5}var C5,QL;function Jje(){if(QL)return C5;QL=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=0,o=[];++s<a;){var l=e[s];r(l,s,e)&&(o[i++]=l)}return o}return C5=t,C5}var S5,$L;function Zje(){if($L)return S5;$L=1;function t(){return[]}return S5=t,S5}var B5,HL;function eNe(){if(HL)return B5;HL=1;var t=Jje(),e=Zje(),r=Object.prototype,s=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:e;return B5=i,B5}var E5,qL;function tNe(){if(qL)return E5;qL=1;function t(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}return E5=t,E5}var k5,zL;function rNe(){if(zL)return k5;zL=1;var t=Hd(),e=qd(),r="[object Arguments]";function s(a){return e(a)&&t(a)==r}return k5=s,k5}var P5,VL;function Rk(){if(VL)return P5;VL=1;var t=rNe(),e=qd(),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return P5=i,P5}var r0={exports:{}},T5,KL;function nNe(){if(KL)return T5;KL=1;function t(){return!1}return T5=t,T5}r0.exports;var WL;function nK(){return WL||(WL=1,(function(t,e){var r=Bc(),s=nNe(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;t.exports=d})(r0,r0.exports)),r0.exports}var F5,GL;function Uk(){if(GL)return F5;GL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<a}return F5=r,F5}var O5,XL;function Qk(){if(XL)return O5;XL=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return O5=e,O5}var I5,YL;function sNe(){if(YL)return I5;YL=1;var t=Hd(),e=Qk(),r=qd(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",m="[object RegExp]",f="[object Set]",b="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",M="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",_={};_[v]=_[j]=_[B]=_[C]=_[E]=_[M]=_[S]=_[k]=_[I]=!0,_[s]=_[a]=_[g]=_[i]=_[x]=_[o]=_[l]=_[c]=_[d]=_[u]=_[h]=_[m]=_[f]=_[b]=_[y]=!1;function T(D){return r(D)&&e(D.length)&&!!_[t(D)]}return I5=T,I5}var D5,JL;function sK(){if(JL)return D5;JL=1;function t(e){return function(r){return e(r)}}return D5=t,D5}var n0={exports:{}};n0.exports;var ZL;function aNe(){return ZL||(ZL=1,(function(t,e){var r=NV(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(n0,n0.exports)),n0.exports}var M5,eR;function aK(){if(eR)return M5;eR=1;var t=sNe(),e=sK(),r=aNe(),s=r&&r.isTypedArray,a=s?e(s):t;return M5=a,M5}var L5,tR;function iNe(){if(tR)return L5;tR=1;var t=tNe(),e=Rk(),r=$i(),s=nK(),a=Uk(),i=aK(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=r(d),m=!h&&e(d),f=!h&&!m&&s(d),b=!h&&!m&&!f&&i(d),y=h||m||f||b,g=y?t(d.length,String):[],x=g.length;for(var v in d)(u||l.call(d,v))&&!(y&&(v=="length"||f&&(v=="offset"||v=="parent")||b&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||a(v,x)))&&g.push(v);return g}return L5=c,L5}var R5,rR;function oNe(){if(rR)return R5;rR=1;var t=Object.prototype;function e(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||t;return r===a}return R5=e,R5}var U5,nR;function iK(){if(nR)return U5;nR=1;function t(e,r){return function(s){return e(r(s))}}return U5=t,U5}var Q5,sR;function lNe(){if(sR)return Q5;sR=1;var t=iK(),e=t(Object.keys,Object);return Q5=e,Q5}var $5,aR;function cNe(){if(aR)return $5;aR=1;var t=oNe(),e=lNe(),r=Object.prototype,s=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return $5=a,$5}var H5,iR;function ny(){if(iR)return H5;iR=1;var t=_k(),e=Qk();function r(s){return s!=null&&e(s.length)&&!t(s)}return H5=r,H5}var q5,oR;function n2(){if(oR)return q5;oR=1;var t=iNe(),e=cNe(),r=ny();function s(a){return r(a)?t(a):e(a)}return q5=s,q5}var z5,lR;function dNe(){if(lR)return z5;lR=1;var t=Yje(),e=eNe(),r=n2();function s(a){return t(a,r,e)}return z5=s,z5}var V5,cR;function uNe(){if(cR)return V5;cR=1;var t=dNe(),e=1,r=Object.prototype,s=r.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,m=t(i),f=m.length,b=t(o),y=b.length;if(f!=y&&!h)return!1;for(var g=f;g--;){var x=m[g];if(!(h?x in o:s.call(o,x)))return!1}var v=u.get(i),j=u.get(o);if(v&&j)return v==o&&j==i;var B=!0;u.set(i,o),u.set(o,i);for(var C=h;++g<f;){x=m[g];var E=i[x],M=o[x];if(c)var S=h?c(M,E,x,o,i,u):c(E,M,x,i,o,u);if(!(S===void 0?E===M||d(E,M,l,c,u):S)){B=!1;break}C||(C=x=="constructor")}if(B&&!C){var k=i.constructor,I=o.constructor;k!=I&&"constructor"in i&&"constructor"in o&&!(typeof k=="function"&&k instanceof k&&typeof I=="function"&&I instanceof I)&&(B=!1)}return u.delete(i),u.delete(o),B}return V5=a,V5}var K5,dR;function hNe(){if(dR)return K5;dR=1;var t=pm(),e=Bc(),r=t(e,"DataView");return K5=r,K5}var W5,uR;function ANe(){if(uR)return W5;uR=1;var t=pm(),e=Bc(),r=t(e,"Promise");return W5=r,W5}var G5,hR;function oK(){if(hR)return G5;hR=1;var t=pm(),e=Bc(),r=t(e,"Set");return G5=r,G5}var X5,AR;function mNe(){if(AR)return X5;AR=1;var t=pm(),e=Bc(),r=t(e,"WeakMap");return X5=r,X5}var Y5,mR;function fNe(){if(mR)return Y5;mR=1;var t=hNe(),e=Sk(),r=ANe(),s=oK(),a=mNe(),i=Hd(),o=_V(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",m="[object DataView]",f=o(t),b=o(e),y=o(r),g=o(s),x=o(a),v=i;return(t&&v(new t(new ArrayBuffer(1)))!=m||e&&v(new e)!=l||r&&v(r.resolve())!=d||s&&v(new s)!=u||a&&v(new a)!=h)&&(v=function(j){var B=i(j),C=B==c?j.constructor:void 0,E=C?o(C):"";if(E)switch(E){case f:return m;case b:return l;case y:return d;case g:return u;case x:return h}return B}),Y5=v,Y5}var J5,fR;function pNe(){if(fR)return J5;fR=1;var t=YV(),e=tK(),r=Xje(),s=uNe(),a=fNe(),i=$i(),o=nK(),l=aK(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",m=Object.prototype,f=m.hasOwnProperty;function b(y,g,x,v,j,B){var C=i(y),E=i(g),M=C?u:a(y),S=E?u:a(g);M=M==d?h:M,S=S==d?h:S;var k=M==h,I=S==h,_=M==S;if(_&&o(y)){if(!o(g))return!1;C=!0,k=!1}if(_&&!k)return B||(B=new t),C||l(y)?e(y,g,x,v,j,B):r(y,g,M,x,v,j,B);if(!(x&c)){var T=k&&f.call(y,"__wrapped__"),D=I&&f.call(g,"__wrapped__");if(T||D){var L=T?y.value():y,V=D?g.value():g;return B||(B=new t),j(L,V,x,v,B)}}return _?(B||(B=new t),s(y,g,x,v,j,B)):!1}return J5=b,J5}var Z5,pR;function $k(){if(pR)return Z5;pR=1;var t=pNe(),e=qd();function r(s,a,i,o,l){return s===a?!0:s==null||a==null||!e(s)&&!e(a)?s!==s&&a!==a:t(s,a,i,o,r,l)}return Z5=r,Z5}var eC,gR;function gNe(){if(gR)return eC;gR=1;var t=YV(),e=$k(),r=1,s=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var m=l[d];if(h&&m[2]?m[1]!==i[m[0]]:!(m[0]in i))return!1}for(;++d<u;){m=l[d];var f=m[0],b=i[f],y=m[1];if(h&&m[2]){if(b===void 0&&!(f in i))return!1}else{var g=new t;if(c)var x=c(b,y,f,i,o,g);if(!(x===void 0?e(y,b,r|s,c,g):x))return!1}}return!0}return eC=a,eC}var tC,xR;function lK(){if(xR)return tC;xR=1;var t=kh();function e(r){return r===r&&!t(r)}return tC=e,tC}var rC,yR;function xNe(){if(yR)return rC;yR=1;var t=lK(),e=n2();function r(s){for(var a=e(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return rC=r,rC}var nC,bR;function cK(){if(bR)return nC;bR=1;function t(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==void 0||e in Object(s))}}return nC=t,nC}var sC,vR;function yNe(){if(vR)return sC;vR=1;var t=gNe(),e=xNe(),r=cK();function s(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return sC=s,sC}var aC,wR;function bNe(){if(wR)return aC;wR=1;function t(e,r){return e!=null&&r in Object(e)}return aC=t,aC}var iC,jR;function vNe(){if(jR)return iC;jR=1;var t=BV(),e=Rk(),r=$i(),s=Uk(),a=Qk(),i=J1();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,m=!1;++u<h;){var f=i(c[u]);if(!(m=l!=null&&d(l,f)))break;l=l[f]}return m||++u!=h?m:(h=l==null?0:l.length,!!h&&a(h)&&s(f,h)&&(r(l)||e(l)))}return iC=o,iC}var oC,NR;function wNe(){if(NR)return oC;NR=1;var t=bNe(),e=vNe();function r(s,a){return s!=null&&e(s,a,t)}return oC=r,oC}var lC,_R;function jNe(){if(_R)return lC;_R=1;var t=$k(),e=EV(),r=wNe(),s=Nk(),a=lK(),i=cK(),o=J1(),l=1,c=2;function d(u,h){return s(u)&&a(h)?i(o(u),h):function(m){var f=e(m,u);return f===void 0&&f===h?r(m,u):t(h,f,l|c)}}return lC=d,lC}var cC,CR;function Kp(){if(CR)return cC;CR=1;function t(e){return e}return cC=t,cC}var dC,SR;function NNe(){if(SR)return dC;SR=1;function t(e){return function(r){return r?.[e]}}return dC=t,dC}var uC,BR;function _Ne(){if(BR)return uC;BR=1;var t=kk();function e(r){return function(s){return t(s,r)}}return uC=e,uC}var hC,ER;function CNe(){if(ER)return hC;ER=1;var t=NNe(),e=_Ne(),r=Nk(),s=J1();function a(i){return r(i)?t(s(i)):e(i)}return hC=a,hC}var AC,kR;function Ec(){if(kR)return AC;kR=1;var t=yNe(),e=jNe(),r=Kp(),s=$i(),a=CNe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?s(o)?e(o[0],o[1]):t(o):a(o)}return AC=i,AC}var mC,PR;function dK(){if(PR)return mC;PR=1;function t(e,r,s,a){for(var i=e.length,o=s+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return mC=t,mC}var fC,TR;function SNe(){if(TR)return fC;TR=1;function t(e){return e!==e}return fC=t,fC}var pC,FR;function BNe(){if(FR)return pC;FR=1;function t(e,r,s){for(var a=s-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return pC=t,pC}var gC,OR;function ENe(){if(OR)return gC;OR=1;var t=dK(),e=SNe(),r=BNe();function s(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return gC=s,gC}var xC,IR;function kNe(){if(IR)return xC;IR=1;var t=ENe();function e(r,s){var a=r==null?0:r.length;return!!a&&t(r,s,0)>-1}return xC=e,xC}var yC,DR;function PNe(){if(DR)return yC;DR=1;function t(e,r,s){for(var a=-1,i=e==null?0:e.length;++a<i;)if(s(r,e[a]))return!0;return!1}return yC=t,yC}var bC,MR;function TNe(){if(MR)return bC;MR=1;function t(){}return bC=t,bC}var vC,LR;function FNe(){if(LR)return vC;LR=1;var t=oK(),e=TNe(),r=Lk(),s=1/0,a=t&&1/r(new t([,-0]))[1]==s?function(i){return new t(i)}:e;return vC=a,vC}var wC,RR;function ONe(){if(RR)return wC;RR=1;var t=JV(),e=kNe(),r=PNe(),s=eK(),a=FNe(),i=Lk(),o=200;function l(c,d,u){var h=-1,m=e,f=c.length,b=!0,y=[],g=y;if(u)b=!1,m=r;else if(f>=o){var x=d?null:a(c);if(x)return i(x);b=!1,m=s,g=new t}else g=d?[]:y;e:for(;++h<f;){var v=c[h],j=d?d(v):v;if(v=u||v!==0?v:0,b&&j===j){for(var B=g.length;B--;)if(g[B]===j)continue e;d&&g.push(j),y.push(v)}else m(g,j,u)||(g!==y&&g.push(j),y.push(v))}return y}return wC=l,wC}var jC,UR;function INe(){if(UR)return jC;UR=1;var t=Ec(),e=ONe();function r(s,a){return s&&s.length?e(s,t(a,2)):[]}return jC=r,jC}var DNe=INe();const QR=Xr(DNe);function uK(t,e,r){return e===!0?QR(t,r):ur(e)?QR(t,e):t}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var MNe=["ref"];function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(s){s2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function LNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,AK(s.key),s)}}function RNe(t,e,r){return e&&HR(t.prototype,e),r&&HR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UNe(t,e,r){return e=xw(e),QNe(t,hK()?Reflect.construct(e,r||[],xw(t).constructor):e.apply(t,r))}function QNe(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ne(t)}function $Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hK=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(t)}function HNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VB(t,e)}function VB(t,e){return VB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},VB(t,e)}function s2(t,e,r){return e=AK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AK(t){var e=qNe(t,"string");return fp(e)=="symbol"?e:e+""}function qNe(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function zNe(t,e){if(t==null)return{};var r=VNe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function VNe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function KNe(t){return t.value}function WNe(t,e){if(ke.isValidElement(t))return ke.cloneElement(t,e);if(typeof t=="function")return ke.createElement(t,e);e.ref;var r=zNe(e,MNe);return ke.createElement(Mk,r)}var qR=1,JA=(function(t){function e(){var r;LNe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=UNe(this,e,[].concat(a)),s2(r,"lastBoundingBox",{width:-1,height:-1}),r}return HNe(e,t),RNe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>qR||Math.abs(a.height-this.lastBoundingBox.height)>qR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ad({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,m;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();h={left:((d||0)-f.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();m={top:((u||0)-b.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ad(Ad({},h),m)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=Ad(Ad({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ke.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(f){s.wrapperNode=f}},WNe(i,Ad(Ad({},this.props),{},{payload:uK(u,d,KNe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=Ad(Ad({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&bt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(F.PureComponent);s2(JA,"displayName","Legend");s2(JA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NC,zR;function GNe(){if(zR)return NC;zR=1;var t=ey(),e=Rk(),r=$i(),s=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(s&&i&&i[s])}return NC=a,NC}var _C,VR;function mK(){if(VR)return _C;VR=1;var t=rK(),e=GNe();function r(s,a,i,o,l){var c=-1,d=s.length;for(i||(i=e),l||(l=[]);++c<d;){var u=s[c];a>0&&i(u)?a>1?r(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return _C=r,_C}var CC,KR;function XNe(){if(KR)return CC;KR=1;function t(e){return function(r,s,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(s(o[d],d,o)===!1)break}return r}}return CC=t,CC}var SC,WR;function YNe(){if(WR)return SC;WR=1;var t=XNe(),e=t();return SC=e,SC}var BC,GR;function fK(){if(GR)return BC;GR=1;var t=YNe(),e=n2();function r(s,a){return s&&t(s,a,e)}return BC=r,BC}var EC,XR;function JNe(){if(XR)return EC;XR=1;var t=ny();function e(r,s){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return EC=e,EC}var kC,YR;function Hk(){if(YR)return kC;YR=1;var t=fK(),e=JNe(),r=e(t);return kC=r,kC}var PC,JR;function pK(){if(JR)return PC;JR=1;var t=Hk(),e=ny();function r(s,a){var i=-1,o=e(s)?Array(s.length):[];return t(s,function(l,c,d){o[++i]=a(l,c,d)}),o}return PC=r,PC}var TC,ZR;function ZNe(){if(ZR)return TC;ZR=1;function t(e,r){var s=e.length;for(e.sort(r);s--;)e[s]=e[s].value;return e}return TC=t,TC}var FC,eU;function e_e(){if(eU)return FC;eU=1;var t=zp();function e(r,s){if(r!==s){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=s!==void 0,d=s===null,u=s===s,h=t(s);if(!d&&!h&&!l&&r>s||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&r<s||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return FC=e,FC}var OC,tU;function t_e(){if(tU)return OC;tU=1;var t=e_e();function e(r,s,a){for(var i=-1,o=r.criteria,l=s.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return r.index-s.index}return OC=e,OC}var IC,rU;function r_e(){if(rU)return IC;rU=1;var t=Ek(),e=kk(),r=Ec(),s=pK(),a=ZNe(),i=sK(),o=t_e(),l=Kp(),c=$i();function d(u,h,m){h.length?h=t(h,function(y){return c(y)?function(g){return e(g,y.length===1?y[0]:y)}:y}):h=[l];var f=-1;h=t(h,i(r));var b=s(u,function(y,g,x){var v=t(h,function(j){return j(y)});return{criteria:v,index:++f,value:y}});return a(b,function(y,g){return o(y,g,m)})}return IC=d,IC}var DC,nU;function n_e(){if(nU)return DC;nU=1;function t(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}return DC=t,DC}var MC,sU;function s_e(){if(sU)return MC;sU=1;var t=n_e(),e=Math.max;function r(s,a,i){return a=e(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(s,this,u)}}return MC=r,MC}var LC,aU;function a_e(){if(aU)return LC;aU=1;function t(e){return function(){return e}}return LC=t,LC}var RC,iU;function gK(){if(iU)return RC;iU=1;var t=pm(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return RC=e,RC}var UC,oU;function i_e(){if(oU)return UC;oU=1;var t=a_e(),e=gK(),r=Kp(),s=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return UC=s,UC}var QC,lU;function o_e(){if(lU)return QC;lU=1;var t=800,e=16,r=Date.now;function s(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return QC=s,QC}var $C,cU;function l_e(){if(cU)return $C;cU=1;var t=i_e(),e=o_e(),r=e(t);return $C=r,$C}var HC,dU;function c_e(){if(dU)return HC;dU=1;var t=Kp(),e=s_e(),r=l_e();function s(a,i){return r(e(a,i,t),a+"")}return HC=s,HC}var qC,uU;function a2(){if(uU)return qC;uU=1;var t=Ck(),e=ny(),r=Uk(),s=kh();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return qC=a,qC}var zC,hU;function d_e(){if(hU)return zC;hU=1;var t=mK(),e=r_e(),r=c_e(),s=a2(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return zC=a,zC}var u_e=d_e();const qk=Xr(u_e);function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function KB(){return KB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},KB.apply(this,arguments)}function h_e(t,e){return p_e(t)||f_e(t,e)||m_e(t,e)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_e(t,e){if(t){if(typeof t=="string")return AU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AU(t,e)}}function AU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function f_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function p_e(t){if(Array.isArray(t))return t}function mU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function VC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mU(Object(r),!0).forEach(function(s){g_e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function g_e(t,e,r){return e=x_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x_e(t){var e=y_e(t,"string");return lx(e)=="symbol"?e:e+""}function y_e(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b_e(t){return Array.isArray(t)&&qs(t[0])&&qs(t[1])?t.join(" ~ "):t}var v_e=function(e){var r=e.separator,s=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,m=e.itemSorter,f=e.wrapperClassName,b=e.labelClassName,y=e.label,g=e.labelFormatter,x=e.accessibilityLayer,v=x===void 0?!1:x,j=function(){if(u&&u.length){var T={padding:0,margin:0},D=(m?qk(u,m):u).map(function(L,V){if(L.type==="none")return null;var z=VC({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),Z=L.formatter||h||b_e,G=L.value,H=L.name,ee=G,Y=H;if(Z&&ee!=null&&Y!=null){var q=Z(G,H,L,V,u);if(Array.isArray(q)){var U=h_e(q,2);ee=U[0],Y=U[1]}else ee=q}return ke.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:z},qs(Y)?ke.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,qs(Y)?ke.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,ke.createElement("span",{className:"recharts-tooltip-item-value"},ee),ke.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ke.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},B=VC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=VC({margin:0},d),E=!_r(y),M=E?y:"",S=vr("recharts-default-tooltip",f),k=vr("recharts-tooltip-label",b);E&&g&&u!==void 0&&u!==null&&(M=g(y,u));var I=v?{role:"status","aria-live":"assertive"}:{};return ke.createElement("div",KB({className:S,style:B},I),ke.createElement("p",{className:k,style:C},ke.isValidElement(M)?M:"".concat(M)),j())};function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}function Kb(t,e,r){return e=w_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w_e(t){var e=j_e(t,"string");return cx(e)=="symbol"?e:e+""}function j_e(t,e){if(cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Og="recharts-tooltip-wrapper",N_e={visibility:"hidden"};function __e(t){var e=t.coordinate,r=t.translateX,s=t.translateY;return vr(Og,Kb(Kb(Kb(Kb({},"".concat(Og,"-right"),bt(r)&&e&&bt(e.x)&&r>=e.x),"".concat(Og,"-left"),bt(r)&&e&&bt(e.x)&&r<e.x),"".concat(Og,"-bottom"),bt(s)&&e&&bt(e.y)&&s>=e.y),"".concat(Og,"-top"),bt(s)&&e&&bt(e.y)&&s<e.y))}function fU(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&bt(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(e[s])return o[s]?u:h;if(o[s]){var m=u,f=c[s];return m<f?Math.max(h,c[s]):Math.max(u,c[s])}var b=h+l,y=c[s]+d;return b>y?Math.max(u,c[s]):Math.max(h,c[s])}function C_e(t){var e=t.translateX,r=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function S_e(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=fU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=fU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=C_e({translateX:u,translateY:h,useTranslate3d:l})):d=N_e,{cssProperties:d,cssClasses:__e({translateX:u,translateY:h,coordinate:r})}}function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function gU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(s){GB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function B_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,yK(s.key),s)}}function k_e(t,e,r){return e&&E_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function P_e(t,e,r){return e=yw(e),T_e(t,xK()?Reflect.construct(e,r||[],yw(t).constructor):e.apply(t,r))}function T_e(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F_e(t)}function F_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(t)}function O_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WB(t,e)}function WB(t,e){return WB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},WB(t,e)}function GB(t,e,r){return e=yK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yK(t){var e=I_e(t,"string");return pp(e)=="symbol"?e:e+""}function I_e(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xU=1,D_e=(function(t){function e(){var r;B_e(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=P_e(this,e,[].concat(a)),GB(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),GB(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return O_e(e,t),k_e(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>xU||Math.abs(s.height-this.state.lastBoundingBox.height)>xU)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,m=a.isAnimationActive,f=a.offset,b=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,v=a.wrapperStyle,j=S_e({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:f,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),B=j.cssClasses,C=j.cssProperties,E=gU(gU({transition:m&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},v);return ke.createElement("div",{tabIndex:-1,className:B,style:E,ref:function(S){s.wrapperNode=S}},d)}}])})(F.PureComponent),M_e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wp={isSsr:M_e()};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function yU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(r),!0).forEach(function(s){zk(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function L_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R_e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,vK(s.key),s)}}function U_e(t,e,r){return e&&R_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q_e(t,e,r){return e=bw(e),$_e(t,bK()?Reflect.construct(e,r||[],bw(t).constructor):e.apply(t,r))}function $_e(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H_e(t)}function H_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(t)}function q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XB(t,e)}function XB(t,e){return XB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},XB(t,e)}function zk(t,e,r){return e=vK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vK(t){var e=z_e(t,"string");return gp(e)=="symbol"?e:e+""}function z_e(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function V_e(t){return t.dataKey}function K_e(t,e){return ke.isValidElement(t)?ke.cloneElement(t,e):typeof t=="function"?ke.createElement(t,e):ke.createElement(v_e,e)}var Mo=(function(t){function e(){return L_e(this,e),Q_e(this,e,arguments)}return q_e(e,t),U_e(e,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,m=a.isAnimationActive,f=a.offset,b=a.payload,y=a.payloadUniqBy,g=a.position,x=a.reverseDirection,v=a.useTranslate3d,j=a.viewBox,B=a.wrapperStyle,C=b??[];h&&C.length&&(C=uK(b.filter(function(M){return M.value!=null&&(M.hide!==!0||s.props.includeHidden)}),y,V_e));var E=C.length>0;return ke.createElement(D_e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:i,coordinate:u,hasPayload:E,offset:f,position:g,reverseDirection:x,useTranslate3d:v,viewBox:j,wrapperStyle:B},K_e(d,bU(bU({},this.props),{},{payload:C})))}}])})(F.PureComponent);zk(Mo,"displayName","Tooltip");zk(Mo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KC,vU;function W_e(){if(vU)return KC;vU=1;var t=Bc(),e=function(){return t.Date.now()};return KC=e,KC}var WC,wU;function G_e(){if(wU)return WC;wU=1;var t=/\s/;function e(r){for(var s=r.length;s--&&t.test(r.charAt(s)););return s}return WC=e,WC}var GC,jU;function X_e(){if(jU)return GC;jU=1;var t=G_e(),e=/^\s+/;function r(s){return s&&s.slice(0,t(s)+1).replace(e,"")}return GC=r,GC}var XC,NU;function wK(){if(NU)return XC;NU=1;var t=X_e(),e=kh(),r=zp(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return s;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?s:+d}return XC=c,XC}var YC,_U;function Y_e(){if(_U)return YC;_U=1;var t=kh(),e=W_e(),r=wK(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,m,f,b,y,g=0,x=!1,v=!1,j=!0;if(typeof l!="function")throw new TypeError(s);c=r(c)||0,t(d)&&(x=!!d.leading,v="maxWait"in d,m=v?a(r(d.maxWait)||0,c):m,j="trailing"in d?!!d.trailing:j);function B(D){var L=u,V=h;return u=h=void 0,g=D,f=l.apply(V,L),f}function C(D){return g=D,b=setTimeout(S,c),x?B(D):f}function E(D){var L=D-y,V=D-g,z=c-L;return v?i(z,m-V):z}function M(D){var L=D-y,V=D-g;return y===void 0||L>=c||L<0||v&&V>=m}function S(){var D=e();if(M(D))return k(D);b=setTimeout(S,E(D))}function k(D){return b=void 0,j&&u?B(D):(u=h=void 0,f)}function I(){b!==void 0&&clearTimeout(b),g=0,u=y=h=b=void 0}function _(){return b===void 0?f:k(e())}function T(){var D=e(),L=M(D);if(u=arguments,h=this,y=D,L){if(b===void 0)return C(y);if(v)return clearTimeout(b),b=setTimeout(S,c),B(y)}return b===void 0&&(b=setTimeout(S,c)),f}return T.cancel=I,T.flush=_,T}return YC=o,YC}var JC,CU;function J_e(){if(CU)return JC;CU=1;var t=Y_e(),e=kh(),r="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return JC=s,JC}var Z_e=J_e();const jK=Xr(Z_e);function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(s){e5e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function e5e(t,e,r){return e=t5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t5e(t){var e=r5e(t,"string");return dx(e)=="symbol"?e:e+""}function r5e(t,e){if(dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n5e(t,e){return o5e(t)||i5e(t,e)||a5e(t,e)||s5e()}function s5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a5e(t,e){if(t){if(typeof t=="string")return BU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BU(t,e)}}function BU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function i5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function o5e(t){if(Array.isArray(t))return t}var Vk=F.forwardRef(function(t,e){var r=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,m=t.maxHeight,f=t.children,b=t.debounce,y=b===void 0?0:b,g=t.id,x=t.className,v=t.onResize,j=t.style,B=j===void 0?{}:j,C=F.useRef(null),E=F.useRef();E.current=v,F.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var M=F.useState({containerWidth:a.width,containerHeight:a.height}),S=n5e(M,2),k=S[0],I=S[1],_=F.useCallback(function(D,L){I(function(V){var z=Math.round(D),Z=Math.round(L);return V.containerWidth===z&&V.containerHeight===Z?V:{containerWidth:z,containerHeight:Z}})},[]);F.useEffect(function(){var D=function(H){var ee,Y=H[0].contentRect,q=Y.width,U=Y.height;_(q,U),(ee=E.current)===null||ee===void 0||ee.call(E,q,U)};y>0&&(D=jK(D,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(D),V=C.current.getBoundingClientRect(),z=V.width,Z=V.height;return _(z,Z),L.observe(C.current),function(){L.disconnect()}},[_,y]);var T=F.useMemo(function(){var D=k.containerWidth,L=k.containerHeight;if(D<0||L<0)return null;kl(UA(o)||UA(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),kl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=UA(o)?D:o,z=UA(c)?L:c;r&&r>0&&(V?z=V/r:z&&(V=z*r),m&&z>m&&(z=m)),kl(V>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,z,o,c,u,h,r);var Z=!Array.isArray(f)&&Sd(f.type).endsWith("Chart");return ke.Children.map(f,function(G){return ke.isValidElement(G)?F.cloneElement(G,Wb({width:V,height:z},Z?{style:Wb({height:"100%",width:"100%",maxHeight:z,maxWidth:V},G.props.style)}:{})):G})},[r,f,c,m,h,u,k,o]);return ke.createElement("div",{id:g?"".concat(g):void 0,className:vr("recharts-responsive-container",x),style:Wb(Wb({},B),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:m}),ref:C},T)}),sy=function(e){return null};sy.displayName="Cell";function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function YB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(s){l5e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function l5e(t,e,r){return e=c5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c5e(t){var e=d5e(t,"string");return ux(e)=="symbol"?e:e+""}function d5e(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yf={widthCache:{},cacheCount:0},u5e=2e3,h5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kU="recharts_measurement_span";function A5e(t){var e=YB({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var S0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wp.isSsr)return{width:0,height:0};var s=A5e(r),a=JSON.stringify({text:e,copyStyle:s});if(yf.widthCache[a])return yf.widthCache[a];try{var i=document.getElementById(kU);i||(i=document.createElement("span"),i.setAttribute("id",kU),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=YB(YB({},h5e),s);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return yf.widthCache[a]=c,++yf.cacheCount>u5e&&(yf.cacheCount=0,yf.widthCache={}),c}catch{return{width:0,height:0}}},m5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function vw(t,e){return x5e(t)||g5e(t,e)||p5e(t,e)||f5e()}function f5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p5e(t,e){if(t){if(typeof t=="string")return PU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PU(t,e)}}function PU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function g5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function x5e(t){if(Array.isArray(t))return t}function y5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,v5e(s.key),s)}}function b5e(t,e,r){return e&&TU(t.prototype,e),r&&TU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function v5e(t){var e=w5e(t,"string");return hx(e)=="symbol"?e:e+""}function w5e(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(hx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var FU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,j5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,N5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_5e=Object.keys(NK),Df="NaN";function C5e(t,e){return t*NK[e]}var Gb=(function(){function t(e,r){y5e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!j5e.test(r)&&(this.num=NaN,this.unit=""),_5e.includes(r)&&(this.num=C5e(e,r),this.unit="px")}return b5e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=N5e.exec(r))!==null&&s!==void 0?s:[],i=vw(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function _K(t){if(t.includes(Df))return Df;for(var e=t;e.includes("*")||e.includes("/");){var r,s=(r=FU.exec(e))!==null&&r!==void 0?r:[],a=vw(s,4),i=a[1],o=a[2],l=a[3],c=Gb.parse(i??""),d=Gb.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return Df;e=e.replace(FU,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=OU.exec(e))!==null&&h!==void 0?h:[],f=vw(m,4),b=f[1],y=f[2],g=f[3],x=Gb.parse(b??""),v=Gb.parse(g??""),j=y==="+"?x.add(v):x.subtract(v);if(j.isNaN())return Df;e=e.replace(OU,j.toString())}return e}var IU=/\(([^()]*)\)/;function S5e(t){for(var e=t;e.includes("(");){var r=IU.exec(e),s=vw(r,2),a=s[1];e=e.replace(IU,_K(a))}return e}function B5e(t){var e=t.replace(/\s+/g,"");return e=S5e(e),e=_K(e),e}function E5e(t){try{return B5e(t)}catch{return Df}}function ZC(t){var e=E5e(t.slice(5,-1));return e===Df?"":e}var k5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],P5e=["dx","dy","angle","className","breakAll"];function JB(){return JB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},JB.apply(this,arguments)}function DU(t,e){if(t==null)return{};var r=T5e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function T5e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function MU(t,e){return D5e(t)||I5e(t,e)||O5e(t,e)||F5e()}function F5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O5e(t,e){if(t){if(typeof t=="string")return LU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LU(t,e)}}function LU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function I5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function D5e(t){if(Array.isArray(t))return t}var CK=/[ \f\n\r\t\v\u2028\u2029]+/,SK=function(e){var r=e.children,s=e.breakAll,a=e.style;try{var i=[];_r(r)||(s?i=r.toString().split(""):i=r.toString().split(CK));var o=i.map(function(c){return{word:c,width:S0(c,a).width}}),l=s?0:S0(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},M5e=function(e,r,s,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=bt(o),h=l,m=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(z,Z){var G=Z.word,H=Z.width,ee=z[z.length-1];if(ee&&(a==null||i||ee.width+H+s<Number(a)))ee.words.push(G),ee.width+=H+s;else{var Y={words:[G],width:H};z.push(Y)}return z},[])},f=m(r),b=function(V){return V.reduce(function(z,Z){return z.width>Z.width?z:Z})};if(!u)return f;for(var y="…",g=function(V){var z=h.slice(0,V),Z=SK({breakAll:d,style:c,children:z+y}).wordsWithComputedWidth,G=m(Z),H=G.length>o||b(G).width>Number(a);return[H,G]},x=0,v=h.length-1,j=0,B;x<=v&&j<=h.length-1;){var C=Math.floor((x+v)/2),E=C-1,M=g(E),S=MU(M,2),k=S[0],I=S[1],_=g(C),T=MU(_,1),D=T[0];if(!k&&!D&&(x=C+1),k&&D&&(v=C-1),!k&&D){B=I;break}j++}return B||f},RU=function(e){var r=_r(e)?[]:e.toString().split(CK);return[{words:r}]},L5e=function(e){var r=e.width,s=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||s)&&!Wp.isSsr){var c,d,u=SK({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,m=u.spaceWidth;c=h,d=m}else return RU(a);return M5e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return RU(a)},UU="#808080",im=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,m=e.textAnchor,f=m===void 0?"start":m,b=e.verticalAnchor,y=b===void 0?"end":b,g=e.fill,x=g===void 0?UU:g,v=DU(e,k5e),j=F.useMemo(function(){return L5e({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:h,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,h,v.style,v.width]),B=v.dx,C=v.dy,E=v.angle,M=v.className,S=v.breakAll,k=DU(v,P5e);if(!qs(s)||!qs(i))return null;var I=s+(bt(B)?B:0),_=i+(bt(C)?C:0),T;switch(y){case"start":T=ZC("calc(".concat(d,")"));break;case"middle":T=ZC("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:T=ZC("calc(".concat(j.length-1," * -").concat(l,")"));break}var D=[];if(h){var L=j[0].width,V=v.width;D.push("scale(".concat((bt(V)?V/L:1)/L,")"))}return E&&D.push("rotate(".concat(E,", ").concat(I,", ").concat(_,")")),D.length&&(k.transform=D.join(" ")),ke.createElement("text",JB({},lr(k,!0),{x:I,y:_,className:vr("recharts-text",M),textAnchor:f,fill:x.includes("url")?UU:x}),j.map(function(z,Z){var G=z.words.join(S?"":" ");return ke.createElement("tspan",{x:I,dy:Z===0?T:l,key:"".concat(G,"-").concat(Z)},G)}))};function hh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function R5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kk(t){let e,r,s;t.length!==2?(e=hh,r=(l,c)=>hh(t(l),c),s=(l,c)=>t(l)-c):(e=t===hh||t===R5e?t:U5e,r=t,s=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function U5e(){return 0}function BK(t){return t===null?NaN:+t}function*Q5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const $5e=Kk(hh),ay=$5e.right;Kk(BK).center;class QU extends Map{constructor(e,r=z5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[s,a]of e)this.set(s,a)}get(e){return super.get($U(this,e))}has(e){return super.has($U(this,e))}set(e,r){return super.set(H5e(this,e),r)}delete(e){return super.delete(q5e(this,e))}}function $U({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):r}function H5e({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function q5e({_intern:t,_key:e},r){const s=e(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function z5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function V5e(t=hh){if(t===hh)return EK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const s=t(e,r);return s||s===0?s:(t(r,r)===0)-(t(e,e)===0)}}function EK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const K5e=Math.sqrt(50),W5e=Math.sqrt(10),G5e=Math.sqrt(2);function ww(t,e,r){const s=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=K5e?10:i>=W5e?5:i>=G5e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?ww(t,e,r*2):[l,c,d]}function ZB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const s=e<t,[a,i,o]=s?ww(e,t,r):ww(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function e3(t,e,r){return e=+e,t=+t,r=+r,ww(t,e,r)[2]}function t3(t,e,r){e=+e,t=+t,r=+r;const s=e<t,a=s?e3(e,t,r):e3(t,e,r);return(s?-1:1)*(a<0?1/-a:a)}function HU(t,e){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function qU(t,e){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function kK(t,e,r=0,s=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=e&&e<=s))return t;for(a=a===void 0?EK:V5e(a);s>r;){if(s-r>600){const c=s-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),m=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),f=Math.max(r,Math.floor(e-d*h/c+m)),b=Math.min(s,Math.floor(e+(c-d)*h/c+m));kK(t,e,f,b,a)}const i=t[e];let o=r,l=s;for(Ig(t,r,e),a(t[s],i)>0&&Ig(t,r,s);o<l;){for(Ig(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Ig(t,r,l):(++l,Ig(t,l,s)),l<=e&&(r=l+1),e<=l&&(s=l-1)}return t}function Ig(t,e,r){const s=t[e];t[e]=t[r],t[r]=s}function X5e(t,e,r){if(t=Float64Array.from(Q5e(t)),!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return qU(t);if(e>=1)return HU(t);var s,a=(s-1)*e,i=Math.floor(a),o=HU(kK(t,i).subarray(0,i+1)),l=qU(t.subarray(i+1));return o+(l-o)*(a-i)}}function Y5e(t,e,r=BK){if(!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return+r(t[0],0,t);if(e>=1)return+r(t[s-1],s-1,t);var s,a=(s-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function J5e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++s<a;)i[s]=t+s*r;return i}function Yo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const r3=Symbol("implicit");function Wk(){var t=new QU,e=[],r=[],s=r3;function a(i){let o=t.get(i);if(o===void 0){if(s!==r3)return s;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new QU;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Wk(e,r).unknown(s)},Yo.apply(a,arguments),a}function Ax(){var t=Wk().unknown(void 0),e=t.domain,r=t.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var m=e().length,f=a<s,b=f?a:s,y=f?s:a;i=(y-b)/Math.max(1,m-c+d*2),l&&(i=Math.floor(i)),b+=(y-b-i*(m-c))*u,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var g=J5e(m).map(function(x){return b+i*x});return r(f?g.reverse():g)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([s,a]=m,s=+s,a=+a,h()):[s,a]},t.rangeRound=function(m){return[s,a]=m,s=+s,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(m){return arguments.length?(l=!!m,h()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,d=+m),h()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),h()):c},t.paddingOuter=function(m){return arguments.length?(d=+m,h()):d},t.align=function(m){return arguments.length?(u=Math.max(0,Math.min(1,m)),h()):u},t.copy=function(){return Ax(e(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},Yo.apply(h(),arguments)}function PK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return PK(e())},t}function B0(){return PK(Ax.apply(null,arguments).paddingInner(1))}function Gk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function TK(t,e){var r=Object.create(t.prototype);for(var s in e)r[s]=e[s];return r}function iy(){}var mx=.7,jw=1/mx,sp="\\s*([+-]?\\d+)\\s*",fx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z5e=/^#([0-9a-f]{3,8})$/,eCe=new RegExp(`^rgb\\(${sp},${sp},${sp}\\)$`),tCe=new RegExp(`^rgb\\(${wc},${wc},${wc}\\)$`),rCe=new RegExp(`^rgba\\(${sp},${sp},${sp},${fx}\\)$`),nCe=new RegExp(`^rgba\\(${wc},${wc},${wc},${fx}\\)$`),sCe=new RegExp(`^hsl\\(${fx},${wc},${wc}\\)$`),aCe=new RegExp(`^hsla\\(${fx},${wc},${wc},${fx}\\)$`),zU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gk(iy,px,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VU,formatHex:VU,formatHex8:iCe,formatHsl:oCe,formatRgb:KU,toString:KU});function VU(){return this.rgb().formatHex()}function iCe(){return this.rgb().formatHex8()}function oCe(){return FK(this).formatHsl()}function KU(){return this.rgb().formatRgb()}function px(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Z5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?WU(e):r===3?new Ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Xb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Xb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eCe.exec(t))?new Ui(e[1],e[2],e[3],1):(e=tCe.exec(t))?new Ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=rCe.exec(t))?Xb(e[1],e[2],e[3],e[4]):(e=nCe.exec(t))?Xb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sCe.exec(t))?YU(e[1],e[2]/100,e[3]/100,1):(e=aCe.exec(t))?YU(e[1],e[2]/100,e[3]/100,e[4]):zU.hasOwnProperty(t)?WU(zU[t]):t==="transparent"?new Ui(NaN,NaN,NaN,0):null}function WU(t){return new Ui(t>>16&255,t>>8&255,t&255,1)}function Xb(t,e,r,s){return s<=0&&(t=e=r=NaN),new Ui(t,e,r,s)}function lCe(t){return t instanceof iy||(t=px(t)),t?(t=t.rgb(),new Ui(t.r,t.g,t.b,t.opacity)):new Ui}function n3(t,e,r,s){return arguments.length===1?lCe(t):new Ui(t,e,r,s??1)}function Ui(t,e,r,s){this.r=+t,this.g=+e,this.b=+r,this.opacity=+s}Gk(Ui,n3,TK(iy,{brighter(t){return t=t==null?jw:Math.pow(jw,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mx:Math.pow(mx,t),new Ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ui(ZA(this.r),ZA(this.g),ZA(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GU,formatHex:GU,formatHex8:cCe,formatRgb:XU,toString:XU}));function GU(){return`#${QA(this.r)}${QA(this.g)}${QA(this.b)}`}function cCe(){return`#${QA(this.r)}${QA(this.g)}${QA(this.b)}${QA((isNaN(this.opacity)?1:this.opacity)*255)}`}function XU(){const t=Nw(this.opacity);return`${t===1?"rgb(":"rgba("}${ZA(this.r)}, ${ZA(this.g)}, ${ZA(this.b)}${t===1?")":`, ${t})`}`}function Nw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ZA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function QA(t){return t=ZA(t),(t<16?"0":"")+t.toString(16)}function YU(t,e,r,s){return s<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Bl(t,e,r,s)}function FK(t){if(t instanceof Bl)return new Bl(t.h,t.s,t.l,t.opacity);if(t instanceof iy||(t=px(t)),!t)return new Bl;if(t instanceof Bl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,s=t.b/255,a=Math.min(e,r,s),i=Math.max(e,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Bl(o,l,c,t.opacity)}function dCe(t,e,r,s){return arguments.length===1?FK(t):new Bl(t,e,r,s??1)}function Bl(t,e,r,s){this.h=+t,this.s=+e,this.l=+r,this.opacity=+s}Gk(Bl,dCe,TK(iy,{brighter(t){return t=t==null?jw:Math.pow(jw,t),new Bl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mx:Math.pow(mx,t),new Bl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*e,a=2*r-s;return new Ui(e4(t>=240?t-240:t+120,a,s),e4(t,a,s),e4(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Bl(JU(this.h),Yb(this.s),Yb(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Nw(this.opacity);return`${t===1?"hsl(":"hsla("}${JU(this.h)}, ${Yb(this.s)*100}%, ${Yb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JU(t){return t=(t||0)%360,t<0?t+360:t}function Yb(t){return Math.max(0,Math.min(1,t||0))}function e4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Xk=t=>()=>t;function uCe(t,e){return function(r){return t+r*e}}function hCe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(s){return Math.pow(t+s*e,r)}}function ACe(t){return(t=+t)==1?OK:function(e,r){return r-e?hCe(e,r,t):Xk(isNaN(e)?r:e)}}function OK(t,e){var r=e-t;return r?uCe(t,r):Xk(isNaN(t)?e:t)}const ZU=(function t(e){var r=ACe(e);function s(a,i){var o=r((a=n3(a)).r,(i=n3(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=OK(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=t,s})(1);function mCe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,s=e.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=t[a]*(1-i)+e[a]*i;return s}}function fCe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pCe(t,e){var r=e?e.length:0,s=t?Math.min(r,t.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Gp(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function gCe(t,e){var r=new Date;return t=+t,e=+e,function(s){return r.setTime(t*(1-s)+e*s),r}}function _w(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function xCe(t,e){var r={},s={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Gp(t[a],e[a]):s[a]=e[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var s3=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t4=new RegExp(s3.source,"g");function yCe(t){return function(){return t}}function bCe(t){return function(e){return t(e)+""}}function vCe(t,e){var r=s3.lastIndex=t4.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(s=s3.exec(t))&&(a=t4.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:_w(s,a)})),r=t4.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?bCe(c[0].x):yCe(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Gp(t,e){var r=typeof e,s;return e==null||r==="boolean"?Xk(e):(r==="number"?_w:r==="string"?(s=px(e))?(e=s,ZU):vCe:e instanceof px?ZU:e instanceof Date?gCe:fCe(e)?mCe:Array.isArray(e)?pCe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?xCe:_w)(t,e)}function Yk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function wCe(t,e){e===void 0&&(e=t,t=Gp);for(var r=0,s=e.length-1,a=e[0],i=new Array(s<0?0:s);r<s;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function jCe(t){return function(){return t}}function Cw(t){return+t}var e8=[0,1];function xi(t){return t}function a3(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:jCe(isNaN(e)?NaN:.5)}function NCe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(s){return Math.max(t,Math.min(e,s))}}function _Ce(t,e,r){var s=t[0],a=t[1],i=e[0],o=e[1];return a<s?(s=a3(a,s),i=r(o,i)):(s=a3(s,a),i=r(i,o)),function(l){return i(s(l))}}function CCe(t,e,r){var s=Math.min(t.length,e.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<s;)a[o]=a3(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=ay(t,l,1,s)-1;return i[c](a[c](l))}}function oy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function i2(){var t=e8,e=e8,r=Gp,s,a,i,o=xi,l,c,d;function u(){var m=Math.min(t.length,e.length);return o!==xi&&(o=NCe(t[0],t[m-1])),l=m>2?CCe:_Ce,c=d=null,h}function h(m){return m==null||isNaN(m=+m)?i:(c||(c=l(t.map(s),e,r)))(s(o(m)))}return h.invert=function(m){return o(a((d||(d=l(e,t.map(s),_w)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,Cw),u()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),u()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),r=Yk,u()},h.clamp=function(m){return arguments.length?(o=m?!0:xi,u()):o!==xi},h.interpolate=function(m){return arguments.length?(r=m,u()):r},h.unknown=function(m){return arguments.length?(i=m,h):i},function(m,f){return s=m,a=f,u()}}function Jk(){return i2()(xi,xi)}function SCe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function xp(t){return t=Sw(Math.abs(t)),t?t[1]:NaN}function BCe(t,e){return function(r,s){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function ECe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var kCe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gx(t){if(!(e=kCe.exec(t)))throw new Error("invalid format: "+t);var e;return new Zk({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gx.prototype=Zk.prototype;function Zk(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Zk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PCe(t){e:for(var e=t.length,r=1,s=-1,a;r<e;++r)switch(t[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var IK;function TCe(t,e){var r=Sw(t,e);if(!r)return t+"";var s=r[0],a=r[1],i=a-(IK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+Sw(t,Math.max(0,e+i-1))[0]}function t8(t,e){var r=Sw(t,e);if(!r)return t+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const r8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SCe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>t8(t*100,e),r:t8,s:TCe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function n8(t){return t}var s8=Array.prototype.map,a8=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function FCe(t){var e=t.grouping===void 0||t.thousands===void 0?n8:BCe(s8.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?n8:ECe(s8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=gx(h);var m=h.fill,f=h.align,b=h.sign,y=h.symbol,g=h.zero,x=h.width,v=h.comma,j=h.precision,B=h.trim,C=h.type;C==="n"?(v=!0,C="g"):r8[C]||(j===void 0&&(j=12),B=!0,C="g"),(g||m==="0"&&f==="=")&&(g=!0,m="0",f="=");var E=y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",M=y==="$"?s:/[%p]/.test(C)?o:"",S=r8[C],k=/[defgprs%]/.test(C);j=j===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function I(_){var T=E,D=M,L,V,z;if(C==="c")D=S(_)+D,_="";else{_=+_;var Z=_<0||1/_<0;if(_=isNaN(_)?c:S(Math.abs(_),j),B&&(_=PCe(_)),Z&&+_==0&&b!=="+"&&(Z=!1),T=(Z?b==="("?b:l:b==="-"||b==="("?"":b)+T,D=(C==="s"?a8[8+IK/3]:"")+D+(Z&&b==="("?")":""),k){for(L=-1,V=_.length;++L<V;)if(z=_.charCodeAt(L),48>z||z>57){D=(z===46?a+_.slice(L+1):_.slice(L))+D,_=_.slice(0,L);break}}}v&&!g&&(_=e(_,1/0));var G=T.length+_.length+D.length,H=G<x?new Array(x-G+1).join(m):"";switch(v&&g&&(_=e(H+_,H.length?x-D.length:1/0),H=""),f){case"<":_=T+_+D+H;break;case"=":_=T+H+_+D;break;case"^":_=H.slice(0,G=H.length>>1)+T+_+D+H.slice(G);break;default:_=H+T+_+D;break}return i(_)}return I.toString=function(){return h+""},I}function u(h,m){var f=d((h=gx(h),h.type="f",h)),b=Math.max(-8,Math.min(8,Math.floor(xp(m)/3)))*3,y=Math.pow(10,-b),g=a8[8+b/3];return function(x){return f(y*x)+g}}return{format:d,formatPrefix:u}}var Jb,e6,DK;OCe({thousands:",",grouping:[3],currency:["$",""]});function OCe(t){return Jb=FCe(t),e6=Jb.format,DK=Jb.formatPrefix,Jb}function ICe(t){return Math.max(0,-xp(Math.abs(t)))}function DCe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xp(e)/3)))*3-xp(Math.abs(t)))}function MCe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xp(e)-xp(t))+1}function MK(t,e,r,s){var a=t3(t,e,r),i;switch(s=gx(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return s.precision==null&&!isNaN(i=DCe(a,o))&&(s.precision=i),DK(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=MCe(a,Math.max(Math.abs(t),Math.abs(e))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=ICe(a))&&(s.precision=i-(s.type==="%")*2);break}}return e6(s)}function Ph(t){var e=t.domain;return t.ticks=function(r){var s=e();return ZB(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var a=e();return MK(a[0],a[a.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=e(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=e3(o,l,r),d===c)return s[a]=o,s[i]=l,e(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Bw(){var t=Jk();return t.copy=function(){return oy(t,Bw())},Yo.apply(t,arguments),Ph(t)}function LK(t){var e;function r(s){return s==null||isNaN(s=+s)?e:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,Cw),r):t.slice()},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return LK(t).unknown(e)},t=arguments.length?Array.from(t,Cw):[0,1],Ph(r)}function RK(t,e){t=t.slice();var r=0,s=t.length-1,a=t[r],i=t[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),t[r]=e.floor(a),t[s]=e.ceil(i),t}function i8(t){return Math.log(t)}function o8(t){return Math.exp(t)}function LCe(t){return-Math.log(-t)}function RCe(t){return-Math.exp(-t)}function UCe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function QCe(t){return t===10?UCe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $Ce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function l8(t){return(e,r)=>-t(-e,r)}function t6(t){const e=t(i8,o8),r=e.domain;let s=10,a,i;function o(){return a=$Ce(s),i=QCe(s),r()[0]<0?(a=l8(a),i=l8(i),t(LCe,RCe)):t(i8,o8),e}return e.base=function(l){return arguments.length?(s=+l,o()):s},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let m=a(d),f=a(u),b,y;const g=l==null?10:+l;let x=[];if(!(s%1)&&f-m<g){if(m=Math.floor(m),f=Math.ceil(f),d>0){for(;m<=f;++m)for(b=1;b<s;++b)if(y=m<0?b/i(-m):b*i(m),!(y<d)){if(y>u)break;x.push(y)}}else for(;m<=f;++m)for(b=s-1;b>=1;--b)if(y=m>0?b/i(-m):b*i(m),!(y<d)){if(y>u)break;x.push(y)}x.length*2<g&&(x=ZB(d,u,g))}else x=ZB(m,f,Math.min(f-m,g)).map(i);return h?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=gx(c)).precision==null&&(c.trim=!0),c=e6(c)),l===1/0)return c;const d=Math.max(1,s*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},e.nice=()=>r(RK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function UK(){const t=t6(i2()).domain([1,10]);return t.copy=()=>oy(t,UK()).base(t.base()),Yo.apply(t,arguments),t}function c8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function r6(t){var e=1,r=t(c8(e),d8(e));return r.constant=function(s){return arguments.length?t(c8(e=+s),d8(e)):e},Ph(r)}function QK(){var t=r6(i2());return t.copy=function(){return oy(t,QK()).constant(t.constant())},Yo.apply(t,arguments)}function u8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function HCe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qCe(t){return t<0?-t*t:t*t}function n6(t){var e=t(xi,xi),r=1;function s(){return r===1?t(xi,xi):r===.5?t(HCe,qCe):t(u8(r),u8(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,s()):r},Ph(e)}function s6(){var t=n6(i2());return t.copy=function(){return oy(t,s6()).exponent(t.exponent())},Yo.apply(t,arguments),t}function zCe(){return s6.apply(null,arguments).exponent(.5)}function h8(t){return Math.sign(t)*t*t}function VCe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $K(){var t=Jk(),e=[0,1],r=!1,s;function a(i){var o=VCe(t(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return t.invert(h8(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Cw)).map(h8)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return $K(t.domain(),e).round(r).clamp(t.clamp()).unknown(s)},Yo.apply(a,arguments),Ph(a)}function HK(){var t=[],e=[],r=[],s;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=Y5e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:e[ay(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(hh),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return HK().domain(t).range(e).unknown(s)},Yo.apply(i,arguments)}function qK(){var t=0,e=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ay(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,s[0]]:d>=r?[s[r-1],e]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return qK().domain([t,e]).range(a).unknown(i)},Yo.apply(Ph(o),arguments)}function zK(){var t=[.5],e=[0,1],r,s=1;function a(i){return i!=null&&i<=i?e[ay(t,i,0,s)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),s=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return zK().domain(t).range(e).unknown(r)},Yo.apply(a,arguments)}const r4=new Date,n4=new Date;function Ks(t,e,r,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Ks(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(r4.setTime(+i),n4.setTime(+o),t(r4),t(n4),Math.floor(r(r4,n4))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Ew=Ks(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ew.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ks(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ew);Ew.range;const jd=1e3,zo=jd*60,Nd=zo*60,Id=Nd*24,a6=Id*7,A8=Id*30,s4=Id*365,$A=Ks(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*jd)},(t,e)=>(e-t)/jd,t=>t.getUTCSeconds());$A.range;const i6=Ks(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jd)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getMinutes());i6.range;const o6=Ks(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*zo)},(t,e)=>(e-t)/zo,t=>t.getUTCMinutes());o6.range;const l6=Ks(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*jd-t.getMinutes()*zo)},(t,e)=>{t.setTime(+t+e*Nd)},(t,e)=>(e-t)/Nd,t=>t.getHours());l6.range;const c6=Ks(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nd)},(t,e)=>(e-t)/Nd,t=>t.getUTCHours());c6.range;const ly=Ks(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*zo)/Id,t=>t.getDate()-1);ly.range;const o2=Ks(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Id,t=>t.getUTCDate()-1);o2.range;const VK=Ks(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Id,t=>Math.floor(t/Id));VK.range;function gm(t){return Ks(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*zo)/a6)}const l2=gm(0),kw=gm(1),KCe=gm(2),WCe=gm(3),yp=gm(4),GCe=gm(5),XCe=gm(6);l2.range;kw.range;KCe.range;WCe.range;yp.range;GCe.range;XCe.range;function xm(t){return Ks(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/a6)}const c2=xm(0),Pw=xm(1),YCe=xm(2),JCe=xm(3),bp=xm(4),ZCe=xm(5),e4e=xm(6);c2.range;Pw.range;YCe.range;JCe.range;bp.range;ZCe.range;e4e.range;const d6=Ks(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());d6.range;const u6=Ks(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u6.range;const Dd=Ks(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Dd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ks(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Dd.range;const Md=Ks(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Md.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ks(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Md.range;function KK(t,e,r,s,a,i){const o=[[$A,1,jd],[$A,5,5*jd],[$A,15,15*jd],[$A,30,30*jd],[i,1,zo],[i,5,5*zo],[i,15,15*zo],[i,30,30*zo],[a,1,Nd],[a,3,3*Nd],[a,6,6*Nd],[a,12,12*Nd],[s,1,Id],[s,2,2*Id],[r,1,a6],[e,1,A8],[e,3,3*A8],[t,1,s4]];function l(d,u,h){const m=u<d;m&&([d,u]=[u,d]);const f=h&&typeof h.range=="function"?h:c(d,u,h),b=f?f.range(d,+u+1):[];return m?b.reverse():b}function c(d,u,h){const m=Math.abs(u-d)/h,f=Kk(([,,g])=>g).right(o,m);if(f===o.length)return t.every(t3(d/s4,u/s4,h));if(f===0)return Ew.every(Math.max(t3(d,u,h),1));const[b,y]=o[m/o[f-1][2]<o[f][2]/m?f-1:f];return b.every(y)}return[l,c]}const[t4e,r4e]=KK(Md,u6,c2,VK,c6,o6),[n4e,s4e]=KK(Dd,d6,l2,ly,l6,i6);function a4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function i4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function a4e(t){var e=t.dateTime,r=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Mg(a),u=Lg(a),h=Mg(i),m=Lg(i),f=Mg(o),b=Lg(o),y=Mg(l),g=Lg(l),x=Mg(c),v=Lg(c),j={a:Z,A:G,b:H,B:ee,c:null,d:y8,e:y8,f:B4e,g:L4e,G:U4e,H:_4e,I:C4e,j:S4e,L:WK,m:E4e,M:k4e,p:Y,q,Q:w8,s:j8,S:P4e,u:T4e,U:F4e,V:O4e,w:I4e,W:D4e,x:null,X:null,y:M4e,Y:R4e,Z:Q4e,"%":v8},B={a:U,A:te,b:X,B:se,c:null,d:b8,e:b8,f:z4e,g:tSe,G:nSe,H:$4e,I:H4e,j:q4e,L:XK,m:V4e,M:K4e,p:fe,q:me,Q:w8,s:j8,S:W4e,u:G4e,U:X4e,V:Y4e,w:J4e,W:Z4e,x:null,X:null,y:eSe,Y:rSe,Z:sSe,"%":v8},C={a:I,A:_,b:T,B:D,c:L,d:g8,e:g8,f:v4e,g:p8,G:f8,H:x8,I:x8,j:g4e,L:b4e,m:p4e,M:x4e,p:k,q:f4e,Q:j4e,s:N4e,S:y4e,u:d4e,U:u4e,V:h4e,w:c4e,W:A4e,x:V,X:z,y:p8,Y:f8,Z:m4e,"%":w4e};j.x=E(r,j),j.X=E(s,j),j.c=E(e,j),B.x=E(r,B),B.X=E(s,B),B.c=E(e,B);function E(pe,_e){return function(ge){var ye=[],Ve=-1,st=0,Ne=pe.length,J,Me,Ie;for(ge instanceof Date||(ge=new Date(+ge));++Ve<Ne;)pe.charCodeAt(Ve)===37&&(ye.push(pe.slice(st,Ve)),(Me=m8[J=pe.charAt(++Ve)])!=null?J=pe.charAt(++Ve):Me=J==="e"?" ":"0",(Ie=_e[J])&&(J=Ie(ge,Me)),ye.push(J),st=Ve+1);return ye.push(pe.slice(st,Ve)),ye.join("")}}function M(pe,_e){return function(ge){var ye=Dg(1900,void 0,1),Ve=S(ye,pe,ge+="",0),st,Ne;if(Ve!=ge.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(_e&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(st=i4(Dg(ye.y,0,1)),Ne=st.getUTCDay(),st=Ne>4||Ne===0?Pw.ceil(st):Pw(st),st=o2.offset(st,(ye.V-1)*7),ye.y=st.getUTCFullYear(),ye.m=st.getUTCMonth(),ye.d=st.getUTCDate()+(ye.w+6)%7):(st=a4(Dg(ye.y,0,1)),Ne=st.getDay(),st=Ne>4||Ne===0?kw.ceil(st):kw(st),st=ly.offset(st,(ye.V-1)*7),ye.y=st.getFullYear(),ye.m=st.getMonth(),ye.d=st.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),Ne="Z"in ye?i4(Dg(ye.y,0,1)).getUTCDay():a4(Dg(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(Ne+5)%7:ye.w+ye.U*7-(Ne+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,i4(ye)):a4(ye)}}function S(pe,_e,ge,ye){for(var Ve=0,st=_e.length,Ne=ge.length,J,Me;Ve<st;){if(ye>=Ne)return-1;if(J=_e.charCodeAt(Ve++),J===37){if(J=_e.charAt(Ve++),Me=C[J in m8?_e.charAt(Ve++):J],!Me||(ye=Me(pe,ge,ye))<0)return-1}else if(J!=ge.charCodeAt(ye++))return-1}return ye}function k(pe,_e,ge){var ye=d.exec(_e.slice(ge));return ye?(pe.p=u.get(ye[0].toLowerCase()),ge+ye[0].length):-1}function I(pe,_e,ge){var ye=f.exec(_e.slice(ge));return ye?(pe.w=b.get(ye[0].toLowerCase()),ge+ye[0].length):-1}function _(pe,_e,ge){var ye=h.exec(_e.slice(ge));return ye?(pe.w=m.get(ye[0].toLowerCase()),ge+ye[0].length):-1}function T(pe,_e,ge){var ye=x.exec(_e.slice(ge));return ye?(pe.m=v.get(ye[0].toLowerCase()),ge+ye[0].length):-1}function D(pe,_e,ge){var ye=y.exec(_e.slice(ge));return ye?(pe.m=g.get(ye[0].toLowerCase()),ge+ye[0].length):-1}function L(pe,_e,ge){return S(pe,e,_e,ge)}function V(pe,_e,ge){return S(pe,r,_e,ge)}function z(pe,_e,ge){return S(pe,s,_e,ge)}function Z(pe){return o[pe.getDay()]}function G(pe){return i[pe.getDay()]}function H(pe){return c[pe.getMonth()]}function ee(pe){return l[pe.getMonth()]}function Y(pe){return a[+(pe.getHours()>=12)]}function q(pe){return 1+~~(pe.getMonth()/3)}function U(pe){return o[pe.getUTCDay()]}function te(pe){return i[pe.getUTCDay()]}function X(pe){return c[pe.getUTCMonth()]}function se(pe){return l[pe.getUTCMonth()]}function fe(pe){return a[+(pe.getUTCHours()>=12)]}function me(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var _e=E(pe+="",j);return _e.toString=function(){return pe},_e},parse:function(pe){var _e=M(pe+="",!1);return _e.toString=function(){return pe},_e},utcFormat:function(pe){var _e=E(pe+="",B);return _e.toString=function(){return pe},_e},utcParse:function(pe){var _e=M(pe+="",!0);return _e.toString=function(){return pe},_e}}}var m8={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,i4e=/^%/,o4e=/[\\^$*+?|[\]().{}]/g;function zr(t,e,r){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(e)+a:a)}function l4e(t){return t.replace(o4e,"\\$&")}function Mg(t){return new RegExp("^(?:"+t.map(l4e).join("|")+")","i")}function Lg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function c4e(t,e,r){var s=ua.exec(e.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function d4e(t,e,r){var s=ua.exec(e.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function u4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function h4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function A4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function f8(t,e,r){var s=ua.exec(e.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function p8(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function m4e(t,e,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function f4e(t,e,r){var s=ua.exec(e.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function p4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function g8(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function g4e(t,e,r){var s=ua.exec(e.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function x8(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function x4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function y4e(t,e,r){var s=ua.exec(e.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function b4e(t,e,r){var s=ua.exec(e.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function v4e(t,e,r){var s=ua.exec(e.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function w4e(t,e,r){var s=i4e.exec(e.slice(r,r+1));return s?r+s[0].length:-1}function j4e(t,e,r){var s=ua.exec(e.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function N4e(t,e,r){var s=ua.exec(e.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function y8(t,e){return zr(t.getDate(),e,2)}function _4e(t,e){return zr(t.getHours(),e,2)}function C4e(t,e){return zr(t.getHours()%12||12,e,2)}function S4e(t,e){return zr(1+ly.count(Dd(t),t),e,3)}function WK(t,e){return zr(t.getMilliseconds(),e,3)}function B4e(t,e){return WK(t,e)+"000"}function E4e(t,e){return zr(t.getMonth()+1,e,2)}function k4e(t,e){return zr(t.getMinutes(),e,2)}function P4e(t,e){return zr(t.getSeconds(),e,2)}function T4e(t){var e=t.getDay();return e===0?7:e}function F4e(t,e){return zr(l2.count(Dd(t)-1,t),e,2)}function GK(t){var e=t.getDay();return e>=4||e===0?yp(t):yp.ceil(t)}function O4e(t,e){return t=GK(t),zr(yp.count(Dd(t),t)+(Dd(t).getDay()===4),e,2)}function I4e(t){return t.getDay()}function D4e(t,e){return zr(kw.count(Dd(t)-1,t),e,2)}function M4e(t,e){return zr(t.getFullYear()%100,e,2)}function L4e(t,e){return t=GK(t),zr(t.getFullYear()%100,e,2)}function R4e(t,e){return zr(t.getFullYear()%1e4,e,4)}function U4e(t,e){var r=t.getDay();return t=r>=4||r===0?yp(t):yp.ceil(t),zr(t.getFullYear()%1e4,e,4)}function Q4e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zr(e/60|0,"0",2)+zr(e%60,"0",2)}function b8(t,e){return zr(t.getUTCDate(),e,2)}function $4e(t,e){return zr(t.getUTCHours(),e,2)}function H4e(t,e){return zr(t.getUTCHours()%12||12,e,2)}function q4e(t,e){return zr(1+o2.count(Md(t),t),e,3)}function XK(t,e){return zr(t.getUTCMilliseconds(),e,3)}function z4e(t,e){return XK(t,e)+"000"}function V4e(t,e){return zr(t.getUTCMonth()+1,e,2)}function K4e(t,e){return zr(t.getUTCMinutes(),e,2)}function W4e(t,e){return zr(t.getUTCSeconds(),e,2)}function G4e(t){var e=t.getUTCDay();return e===0?7:e}function X4e(t,e){return zr(c2.count(Md(t)-1,t),e,2)}function YK(t){var e=t.getUTCDay();return e>=4||e===0?bp(t):bp.ceil(t)}function Y4e(t,e){return t=YK(t),zr(bp.count(Md(t),t)+(Md(t).getUTCDay()===4),e,2)}function J4e(t){return t.getUTCDay()}function Z4e(t,e){return zr(Pw.count(Md(t)-1,t),e,2)}function eSe(t,e){return zr(t.getUTCFullYear()%100,e,2)}function tSe(t,e){return t=YK(t),zr(t.getUTCFullYear()%100,e,2)}function rSe(t,e){return zr(t.getUTCFullYear()%1e4,e,4)}function nSe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bp(t):bp.ceil(t),zr(t.getUTCFullYear()%1e4,e,4)}function sSe(){return"+0000"}function v8(){return"%"}function w8(t){return+t}function j8(t){return Math.floor(+t/1e3)}var bf,JK,ZK;aSe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function aSe(t){return bf=a4e(t),JK=bf.format,bf.parse,ZK=bf.utcFormat,bf.utcParse,bf}function iSe(t){return new Date(t)}function oSe(t){return t instanceof Date?+t:+new Date(+t)}function h6(t,e,r,s,a,i,o,l,c,d){var u=Jk(),h=u.invert,m=u.domain,f=d(".%L"),b=d(":%S"),y=d("%I:%M"),g=d("%I %p"),x=d("%a %d"),v=d("%b %d"),j=d("%B"),B=d("%Y");function C(E){return(c(E)<E?f:l(E)<E?b:o(E)<E?y:i(E)<E?g:s(E)<E?a(E)<E?x:v:r(E)<E?j:B)(E)}return u.invert=function(E){return new Date(h(E))},u.domain=function(E){return arguments.length?m(Array.from(E,oSe)):m().map(iSe)},u.ticks=function(E){var M=m();return t(M[0],M[M.length-1],E??10)},u.tickFormat=function(E,M){return M==null?C:d(M)},u.nice=function(E){var M=m();return(!E||typeof E.range!="function")&&(E=e(M[0],M[M.length-1],E??10)),E?m(RK(M,E)):u},u.copy=function(){return oy(u,h6(t,e,r,s,a,i,o,l,c,d))},u}function lSe(){return Yo.apply(h6(n4e,s4e,Dd,d6,l2,ly,l6,i6,$A,JK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cSe(){return Yo.apply(h6(t4e,r4e,Md,u6,c2,o2,c6,o6,$A,ZK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function d2(){var t=0,e=1,r,s,a,i,o=xi,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),s=i(e=+e),a=r===s?0:1/(s-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(m){var f,b;return arguments.length?([f,b]=m,o=h(f,b),d):[o(0),o(1)]}}return d.range=u(Gp),d.rangeRound=u(Yk),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),s=h(e),a=r===s?0:1/(s-r),d}}function Th(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eW(){var t=Ph(d2()(xi));return t.copy=function(){return Th(t,eW())},zd.apply(t,arguments)}function tW(){var t=t6(d2()).domain([1,10]);return t.copy=function(){return Th(t,tW()).base(t.base())},zd.apply(t,arguments)}function rW(){var t=r6(d2());return t.copy=function(){return Th(t,rW()).constant(t.constant())},zd.apply(t,arguments)}function A6(){var t=n6(d2());return t.copy=function(){return Th(t,A6()).exponent(t.exponent())},zd.apply(t,arguments)}function dSe(){return A6.apply(null,arguments).exponent(.5)}function nW(){var t=[],e=xi;function r(s){if(s!=null&&!isNaN(s=+s))return e((ay(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(hh),r},r.interpolator=function(s){return arguments.length?(e=s,r):e},r.range=function(){return t.map((s,a)=>e(a/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>X5e(t,i/s))},r.copy=function(){return nW(e).domain(t)},zd.apply(r,arguments)}function u2(){var t=0,e=.5,r=1,s=1,a,i,o,l,c,d=xi,u,h=!1,m;function f(y){return isNaN(y=+y)?m:(y=.5+((y=+u(y))-i)*(s*y<s*i?l:c),d(h?Math.max(0,Math.min(1,y)):y))}f.domain=function(y){return arguments.length?([t,e,r]=y,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f):[t,e,r]},f.clamp=function(y){return arguments.length?(h=!!y,f):h},f.interpolator=function(y){return arguments.length?(d=y,f):d};function b(y){return function(g){var x,v,j;return arguments.length?([x,v,j]=g,d=wCe(y,[x,v,j]),f):[d(0),d(.5),d(1)]}}return f.range=b(Gp),f.rangeRound=b(Yk),f.unknown=function(y){return arguments.length?(m=y,f):m},function(y){return u=y,a=y(t),i=y(e),o=y(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,f}}function sW(){var t=Ph(u2()(xi));return t.copy=function(){return Th(t,sW())},zd.apply(t,arguments)}function aW(){var t=t6(u2()).domain([.1,1,10]);return t.copy=function(){return Th(t,aW()).base(t.base())},zd.apply(t,arguments)}function iW(){var t=r6(u2());return t.copy=function(){return Th(t,iW()).constant(t.constant())},zd.apply(t,arguments)}function m6(){var t=n6(u2());return t.copy=function(){return Th(t,m6()).exponent(t.exponent())},zd.apply(t,arguments)}function uSe(){return m6.apply(null,arguments).exponent(.5)}const N8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ax,scaleDiverging:sW,scaleDivergingLog:aW,scaleDivergingPow:m6,scaleDivergingSqrt:uSe,scaleDivergingSymlog:iW,scaleIdentity:LK,scaleImplicit:r3,scaleLinear:Bw,scaleLog:UK,scaleOrdinal:Wk,scalePoint:B0,scalePow:s6,scaleQuantile:HK,scaleQuantize:qK,scaleRadial:$K,scaleSequential:eW,scaleSequentialLog:tW,scaleSequentialPow:A6,scaleSequentialQuantile:nW,scaleSequentialSqrt:dSe,scaleSequentialSymlog:rW,scaleSqrt:zCe,scaleSymlog:QK,scaleThreshold:zK,scaleTime:lSe,scaleUtc:cSe,tickFormat:MK},Symbol.toStringTag,{value:"Module"}));var o4,_8;function h2(){if(_8)return o4;_8=1;var t=zp();function e(r,s,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=s(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return o4=e,o4}var l4,C8;function oW(){if(C8)return l4;C8=1;function t(e,r){return e>r}return l4=t,l4}var c4,S8;function hSe(){if(S8)return c4;S8=1;var t=h2(),e=oW(),r=Kp();function s(a){return a&&a.length?t(a,r,e):void 0}return c4=s,c4}var ASe=hSe();const A2=Xr(ASe);var d4,B8;function lW(){if(B8)return d4;B8=1;function t(e,r){return e<r}return d4=t,d4}var u4,E8;function mSe(){if(E8)return u4;E8=1;var t=h2(),e=lW(),r=Kp();function s(a){return a&&a.length?t(a,r,e):void 0}return u4=s,u4}var fSe=mSe();const m2=Xr(fSe);var h4,k8;function pSe(){if(k8)return h4;k8=1;var t=Ek(),e=Ec(),r=pK(),s=$i();function a(i,o){var l=s(i)?t:r;return l(i,e(o,3))}return h4=a,h4}var A4,P8;function gSe(){if(P8)return A4;P8=1;var t=mK(),e=pSe();function r(s,a){return t(e(s,a),1)}return A4=r,A4}var xSe=gSe();const ySe=Xr(xSe);var m4,T8;function bSe(){if(T8)return m4;T8=1;var t=$k();function e(r,s){return t(r,s)}return m4=e,m4}var vSe=bSe();const f2=Xr(vSe);var Xp=1e9,wSe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},p6,qn=!0,Xo="[DecimalError] ",em=Xo+"Invalid argument: ",f6=Xo+"Exponent out of range: ",Yp=Math.floor,BA=Math.pow,jSe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ao,sa=1e7,On=7,cW=9007199254740991,Tw=Yp(cW/On),Mt={};Mt.absoluteValue=Mt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Mt.comparedTo=Mt.cmp=function(t){var e,r,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,e=0,r=s<a?s:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*On;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Mt.dividedBy=Mt.div=function(t){return Bd(this,new this.constructor(t))};Mt.dividedToIntegerBy=Mt.idiv=function(t){var e=this,r=e.constructor;return bn(Bd(e,new r(t),0,1),r.precision)};Mt.equals=Mt.eq=function(t){return!this.cmp(t)};Mt.exponent=function(){return Ps(this)};Mt.greaterThan=Mt.gt=function(t){return this.cmp(t)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(t){return this.cmp(t)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(t){return this.cmp(t)<0};Mt.lessThanOrEqualTo=Mt.lte=function(t){return this.cmp(t)<1};Mt.logarithm=Mt.log=function(t){var e,r=this,s=r.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(ao))throw Error(Xo+"NaN");if(r.s<1)throw Error(Xo+(r.s?"NaN":"-Infinity"));return r.eq(ao)?new s(0):(qn=!1,e=Bd(xx(r,i),xx(t,i),i),qn=!0,bn(e,a))};Mt.minus=Mt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hW(e,t):dW(e,(t.s=-t.s,t))};Mt.modulo=Mt.mod=function(t){var e,r=this,s=r.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(Xo+"NaN");return r.s?(qn=!1,e=Bd(r,t,0,1).times(t),qn=!0,r.minus(e)):bn(new s(r),a)};Mt.naturalExponential=Mt.exp=function(){return uW(this)};Mt.naturalLogarithm=Mt.ln=function(){return xx(this)};Mt.negated=Mt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Mt.plus=Mt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dW(e,t):hW(e,(t.s=-t.s,t))};Mt.precision=Mt.sd=function(t){var e,r,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(em+t);if(e=Ps(a)+1,s=a.d.length-1,r=s*On+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return t&&e>r?e:r};Mt.squareRoot=Mt.sqrt=function(){var t,e,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Xo+"NaN")}for(t=Ps(l),qn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=fc(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Yp((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),s=new c(e)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Bd(l,i,o+2)).times(.5),fc(i.d).slice(0,o)===(e=fc(s.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(bn(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(e!="9999")break;o+=4}return qn=!0,bn(s,r)};Mt.times=Mt.mul=function(t){var e,r,s,a,i,o,l,c,d,u=this,h=u.constructor,m=u.d,f=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=m.length,d=f.length,c<d&&(i=m,m=f,f=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(e=0,a=c+s;a>s;)l=i[a]+f[s]*m[a-s-1]+e,i[a--]=l%sa|0,e=l/sa|0;i[a]=(i[a]+e)%sa|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,qn?bn(t,h.precision):t};Mt.toDecimalPlaces=Mt.todp=function(t,e){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(Nc(t,0,Xp),e===void 0?e=s.rounding:Nc(e,0,8),bn(r,t+Ps(r)+1,e))};Mt.toExponential=function(t,e){var r,s=this,a=s.constructor;return t===void 0?r=om(s,!0):(Nc(t,0,Xp),e===void 0?e=a.rounding:Nc(e,0,8),s=bn(new a(s),t+1,e),r=om(s,!0,t+1)),r};Mt.toFixed=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?om(a):(Nc(t,0,Xp),e===void 0?e=i.rounding:Nc(e,0,8),s=bn(new i(a),t+Ps(a)+1,e),r=om(s.abs(),!1,t+Ps(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Mt.toInteger=Mt.toint=function(){var t=this,e=t.constructor;return bn(new e(t),Ps(t)+1,e.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(t){var e,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(ao);if(l=new c(l),!l.s){if(t.s<1)throw Error(Xo+"Infinity");return l}if(l.eq(ao))return l;if(s=c.precision,t.eq(ao))return bn(l,s);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=cW){for(a=new c(ao),e=Math.ceil(s/On+4),qn=!1;r%2&&(a=a.times(l),O8(a.d,e)),r=Yp(r/2),r!==0;)l=l.times(l),O8(l.d,e);return qn=!0,t.s<0?new c(ao).div(a):bn(a,s)}}else if(i<0)throw Error(Xo+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,qn=!1,a=t.times(xx(l,s+d)),qn=!0,a=uW(a),a.s=i,a};Mt.toPrecision=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?(r=Ps(a),s=om(a,r<=i.toExpNeg||r>=i.toExpPos)):(Nc(t,1,Xp),e===void 0?e=i.rounding:Nc(e,0,8),a=bn(new i(a),t,e),r=Ps(a),s=om(a,t<=r||r<=i.toExpNeg,t)),s};Mt.toSignificantDigits=Mt.tosd=function(t,e){var r=this,s=r.constructor;return t===void 0?(t=s.precision,e=s.rounding):(Nc(t,1,Xp),e===void 0?e=s.rounding:Nc(e,0,8)),bn(new s(r),t,e)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ps(t),r=t.constructor;return om(t,e<=r.toExpNeg||e>=r.toExpPos)};function dW(t,e){var r,s,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),qn?bn(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/On),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/sa|0,c[i]%=sa;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,qn?bn(e,h):e}function Nc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(em+t)}function fc(t){var e,r,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)s=t[e]+"",r=On-s.length,r&&(i+=Wu(r)),i+=s;o=t[e],s=o+"",r=On-s.length,r&&(i+=Wu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bd=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%sa|0,o=i/sa|0;return o&&s.unshift(o),s}function e(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*sa+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,m,f,b,y,g,x,v,j,B,C,E,M,S,k=s.constructor,I=s.s==a.s?1:-1,_=s.d,T=a.d;if(!s.s)return new k(s);if(!a.s)throw Error(Xo+"Division by zero");for(c=s.e-a.e,M=T.length,C=_.length,f=new k(I),b=f.d=[],d=0;T[d]==(_[d]||0);)++d;if(T[d]>(_[d]||0)&&--c,i==null?v=i=k.precision:o?v=i+(Ps(s)-Ps(a))+1:v=i,v<0)return new k(0);if(v=v/On+2|0,d=0,M==1)for(u=0,T=T[0],v++;(d<C||u)&&v--;d++)j=u*sa+(_[d]||0),b[d]=j/T|0,u=j%T|0;else{for(u=sa/(T[0]+1)|0,u>1&&(T=t(T,u),_=t(_,u),M=T.length,C=_.length),B=M,y=_.slice(0,M),g=y.length;g<M;)y[g++]=0;S=T.slice(),S.unshift(0),E=T[0],T[1]>=sa/2&&++E;do u=0,l=e(T,y,M,g),l<0?(x=y[0],M!=g&&(x=x*sa+(y[1]||0)),u=x/E|0,u>1?(u>=sa&&(u=sa-1),h=t(T,u),m=h.length,g=y.length,l=e(h,y,m,g),l==1&&(u--,r(h,M<m?S:T,m))):(u==0&&(l=u=1),h=T.slice()),m=h.length,m<g&&h.unshift(0),r(y,h,g),l==-1&&(g=y.length,l=e(T,y,M,g),l<1&&(u++,r(y,M<g?S:T,g))),g=y.length):l===0&&(u++,y=[0]),b[d++]=u,l&&y[0]?y[g++]=_[B]||0:(y=[_[B]],g=1);while((B++<C||y[0]!==void 0)&&v--)}return b[0]||b.shift(),f.e=c,bn(f,o?i+Ps(f)+1:i)}})();function uW(t,e){var r,s,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(Ps(t)>16)throw Error(f6+Ps(t));if(!t.s)return new u(ao);for(qn=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(s=Math.log(BA(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(ao),u.precision=l;;){if(a=bn(a.times(t),l),r=r.times(++c),o=i.plus(Bd(a,r,l)),fc(o.d).slice(0,l)===fc(i.d).slice(0,l)){for(;d--;)i=bn(i.times(i),l);return u.precision=h,e==null?(qn=!0,bn(i,h)):i}i=o}}function Ps(t){for(var e=t.e*On,r=t.d[0];r>=10;r/=10)e++;return e}function f4(t,e,r){if(e>t.LN10.sd())throw qn=!0,r&&(t.precision=r),Error(Xo+"LN10 precision limit exceeded");return bn(new t(t.LN10),e)}function Wu(t){for(var e="";t--;)e+="0";return e}function xx(t,e){var r,s,a,i,o,l,c,d,u,h=1,m=10,f=t,b=f.d,y=f.constructor,g=y.precision;if(f.s<1)throw Error(Xo+(f.s?"NaN":"-Infinity"));if(f.eq(ao))return new y(0);if(e==null?(qn=!1,d=g):d=e,f.eq(10))return e==null&&(qn=!0),f4(y,d);if(d+=m,y.precision=d,r=fc(b),s=r.charAt(0),i=Ps(f),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)f=f.times(t),r=fc(f.d),s=r.charAt(0),h++;i=Ps(f),s>1?(f=new y("0."+r),i++):f=new y(s+"."+r.slice(1))}else return c=f4(y,d+2,g).times(i+""),f=xx(new y(s+"."+r.slice(1)),d-m).plus(c),y.precision=g,e==null?(qn=!0,bn(f,g)):f;for(l=o=f=Bd(f.minus(ao),f.plus(ao),d),u=bn(f.times(f),d),a=3;;){if(o=bn(o.times(u),d),c=l.plus(Bd(o,new y(a),d)),fc(c.d).slice(0,d)===fc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(f4(y,d+2,g).times(i+""))),l=Bd(l,new y(h),d),y.precision=g,e==null?(qn=!0,bn(l,g)):l;l=c,a+=2}}function F8(t,e){var r,s,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charCodeAt(s)===48;)++s;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(s,a),e){if(a-=s,r=r-s-1,t.e=Yp(r/On),t.d=[],s=(r+1)%On,r<0&&(s+=On),s<a){for(s&&t.d.push(+e.slice(0,s)),a-=On;s<a;)t.d.push(+e.slice(s,s+=On));e=e.slice(s),s=On-e.length}else s-=a;for(;s--;)e+="0";if(t.d.push(+e),qn&&(t.e>Tw||t.e<-Tw))throw Error(f6+r)}else t.s=0,t.e=0,t.d=[0];return t}function bn(t,e,r){var s,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=e-o,s<0)s+=On,a=e,d=h[u=0];else{if(u=Math.ceil((s+1)/On),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=On,a=s-On+o}if(r!==void 0&&(i=BA(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/BA(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=Ps(t),h.length=1,e=e-i-1,h[0]=BA(10,(On-e%On)%On),t.e=Yp(-e/On)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=BA(10,On-s),h[u]=a>0?(d/BA(10,o-a)%BA(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==sa&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=sa)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(qn&&(t.e>Tw||t.e<-Tw))throw Error(f6+Ps(t));return t}function hW(t,e){var r,s,a,i,o,l,c,d,u,h,m=t.constructor,f=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),qn?bn(e,f):e;if(c=t.d,h=e.d,s=e.e,d=t.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(f/On),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=sa-1;--c[i],c[a]+=sa}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(e.d=c,e.e=s,qn?bn(e,f):e):new m(0)}function om(t,e,r){var s,a=Ps(t),i=fc(t.d),o=i.length;return e?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Wu(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Wu(-a-1)+i,r&&(s=r-o)>0&&(i+=Wu(s))):a>=o?(i+=Wu(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Wu(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Wu(s))),t.s<0?"-"+i:i}function O8(t,e){if(t.length>e)return t.length=e,!0}function AW(t){var e,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(em+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return F8(o,i.toString())}else if(typeof i!="string")throw Error(em+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jSe.test(i))F8(o,i);else throw Error(em+i)}if(a.prototype=Mt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AW,a.config=a.set=NSe,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<s.length;)t.hasOwnProperty(r=s[e++])||(t[r]=this[r]);return a.config(t),a}function NSe(t){if(!t||typeof t!="object")throw Error(Xo+"Object expected");var e,r,s,a=["precision",1,Xp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((s=t[r=a[e]])!==void 0)if(Yp(s)===s&&s>=a[e+1]&&s<=a[e+2])this[r]=s;else throw Error(em+r+": "+s);if((s=t[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(em+r+": "+s);return this}var p6=AW(wSe);ao=new p6(1);const An=p6;function _Se(t){return ESe(t)||BSe(t)||SSe(t)||CSe()}function CSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(t,e){if(t){if(typeof t=="string")return i3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i3(t,e)}}function BSe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ESe(t){if(Array.isArray(t))return i3(t)}function i3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var kSe=function(e){return e},mW={},fW=function(e){return e===mW},I8=function(e){return function r(){return arguments.length===0||arguments.length===1&&fW(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},PSe=function t(e,r){return e===1?r:I8(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==mW}).length;return o>=e?r.apply(void 0,a):t(e-o,I8(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return fW(h)?c.shift():h});return r.apply(void 0,_Se(u).concat(c))}))})},p2=function(e){return PSe(e.length,e)},o3=function(e,r){for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},TSe=p2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),FSe=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!r.length)return kSe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},l3=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},pW=function(e){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=e.apply(void 0,i)),s}};function OSe(t){var e;return t===0?e=1:e=Math.floor(new An(t).abs().log(10).toNumber())+1,e}function ISe(t,e,r){for(var s=new An(t),a=0,i=[];s.lt(e)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var DSe=p2(function(t,e,r){var s=+t,a=+e;return s+r*(a-s)}),MSe=p2(function(t,e,r){var s=e-+t;return s=s||1/0,(r-t)/s}),LSe=p2(function(t,e,r){var s=e-+t;return s=s||1/0,Math.max(0,Math.min(1,(r-t)/s))});const g2={rangeStep:ISe,getDigitCount:OSe,interpolateNumber:DSe,uninterpolateNumber:MSe,uninterpolateTruncation:LSe};function c3(t){return QSe(t)||USe(t)||gW(t)||RSe()}function RSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function QSe(t){if(Array.isArray(t))return d3(t)}function yx(t,e){return qSe(t)||HSe(t,e)||gW(t,e)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gW(t,e){if(t){if(typeof t=="string")return d3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d3(t,e)}}function d3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function HSe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function qSe(t){if(Array.isArray(t))return t}function xW(t){var e=yx(t,2),r=e[0],s=e[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function yW(t,e,r){if(t.lte(0))return new An(0);var s=g2.getDigitCount(t.toNumber()),a=new An(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new An(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new An(Math.ceil(c))}function zSe(t,e,r){var s=1,a=new An(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(s=new An(10).pow(g2.getDigitCount(t)-1),a=new An(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new An(Math.floor(t)))}else t===0?a=new An(Math.floor((e-1)/2)):r||(a=new An(Math.floor(t)));var o=Math.floor((e-1)/2),l=FSe(TSe(function(c){return a.add(new An(c-o).mul(s)).toNumber()}),o3);return l(0,e)}function bW(t,e,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new An(0),tickMin:new An(0),tickMax:new An(0)};var i=yW(new An(e).sub(t).div(r-1),s,a),o;t<=0&&e>=0?o=new An(0):(o=new An(t).add(e).div(2),o=o.sub(new An(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new An(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?bW(t,e,r,s,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new An(l).mul(i)),tickMax:o.add(new An(c).mul(i))})}function VSe(t){var e=yx(t,2),r=e[0],s=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=xW([r,s]),c=yx(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat(c3(o3(0,a-1).map(function(){return 1/0}))):[].concat(c3(o3(0,a-1).map(function(){return-1/0})),[u]);return r>s?l3(h):h}if(d===u)return zSe(d,a,i);var m=bW(d,u,o,i),f=m.step,b=m.tickMin,y=m.tickMax,g=g2.rangeStep(b,y.add(new An(.1).mul(f)),f);return r>s?l3(g):g}function KSe(t,e){var r=yx(t,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xW([s,a]),l=yx(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(e,2),h=yW(new An(d).sub(c).div(u-1),i,0),m=[].concat(c3(g2.rangeStep(new An(c),new An(d).sub(new An(.99).mul(h)),h)),[d]);return s>a?l3(m):m}var WSe=pW(VSe),GSe=pW(KSe),XSe="Invariant failed";function lm(t,e){throw new Error(XSe)}var YSe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Fw.apply(this,arguments)}function JSe(t,e){return rBe(t)||tBe(t,e)||eBe(t,e)||ZSe()}function ZSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(t,e){if(t){if(typeof t=="string")return D8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(t,e)}}function D8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function tBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function rBe(t){if(Array.isArray(t))return t}function nBe(t,e){if(t==null)return{};var r=sBe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function sBe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function aBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iBe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,jW(s.key),s)}}function oBe(t,e,r){return e&&iBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lBe(t,e,r){return e=Ow(e),cBe(t,vW()?Reflect.construct(e,r||[],Ow(t).constructor):e.apply(t,r))}function cBe(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dBe(t)}function dBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vW=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(t)}function uBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u3(t,e)}function u3(t,e){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},u3(t,e)}function wW(t,e,r){return e=jW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jW(t){var e=hBe(t,"string");return vp(e)=="symbol"?e:e+""}function hBe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x2=(function(t){function e(){return aBe(this,e),lBe(this,e,arguments)}return uBe(e,t),oBe(e,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,m=nBe(s,YSe),f=lr(m,!1);this.props.direction==="x"&&u.type!=="number"&&lm();var b=c.map(function(y){var g=d(y,l),x=g.x,v=g.y,j=g.value,B=g.errorVal;if(!B)return null;var C=[],E,M;if(Array.isArray(B)){var S=JSe(B,2);E=S[0],M=S[1]}else E=M=B;if(i==="vertical"){var k=u.scale,I=v+a,_=I+o,T=I-o,D=k(j-E),L=k(j+M);C.push({x1:L,y1:_,x2:L,y2:T}),C.push({x1:D,y1:I,x2:L,y2:I}),C.push({x1:D,y1:_,x2:D,y2:T})}else if(i==="horizontal"){var V=h.scale,z=x+a,Z=z-o,G=z+o,H=V(j-E),ee=V(j+M);C.push({x1:Z,y1:ee,x2:G,y2:ee}),C.push({x1:z,y1:H,x2:z,y2:ee}),C.push({x1:Z,y1:H,x2:G,y2:H})}return ke.createElement(dn,Fw({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},f),C.map(function(Y){return ke.createElement("line",Fw({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return ke.createElement(dn,{className:"recharts-errorBars"},b)}}])})(ke.Component);wW(x2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wW(x2,"displayName","ErrorBar");function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function M8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function xA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M8(Object(r),!0).forEach(function(s){ABe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ABe(t,e,r){return e=mBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mBe(t){var e=fBe(t,"string");return bx(e)=="symbol"?e:e+""}function fBe(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(bx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NW=function(e){var r=e.children,s=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=so(r,JA);if(!o)return null;var l=JA.defaultProps,c=l!==void 0?xA(xA({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var m=h.item,f=h.props,b=f.sectors||f.data||[];return u.concat(b.map(function(y){return{type:o.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(s||[]).map(function(u){var h=u.item,m=h.type.defaultProps,f=m!==void 0?xA(xA({},m),h.props):{},b=f.dataKey,y=f.name,g=f.legendType,x=f.hide;return{inactive:x,dataKey:b,type:c.iconType||g||"square",color:g6(h),value:y||b,payload:f}}),xA(xA(xA({},c),JA.getWithHeight(o,a)),{},{payload:d,item:o})};function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function L8(t){return yBe(t)||xBe(t)||gBe(t)||pBe()}function pBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gBe(t,e){if(t){if(typeof t=="string")return h3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h3(t,e)}}function xBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yBe(t){if(Array.isArray(t))return h3(t)}function h3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(s){ap(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function ap(t,e,r){return e=bBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bBe(t){var e=vBe(t,"string");return vx(e)=="symbol"?e:e+""}function vBe(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wa(t,e,r){return _r(t)||_r(e)?r:qs(e)?co(t,e,r):ur(e)?e(t):r}function E0(t,e,r,s){var a=ySe(t,function(l){return Wa(l,e)});if(r==="number"){var i=a.filter(function(l){return bt(l)||parseFloat(l)});return i.length?[m2(i),A2(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!_r(l)}):a;return o.map(function(l){return qs(l)||l instanceof Date?l:""})}var wBe=function(e){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,m=d>=l-1?a[0].coordinate:a[d+1].coordinate,f=void 0;if(pi(h-u)!==pi(m-h)){var b=[];if(pi(m-h)===pi(c[1]-c[0])){f=m;var y=h+c[1]-c[0];b[0]=Math.min(y,(y+u)/2),b[1]=Math.max(y,(y+u)/2)}else{f=u;var g=m+c[1]-c[0];b[0]=Math.min(h,(g+h)/2),b[1]=Math.max(h,(g+h)/2)}var x=[Math.min(h,(f+h)/2),Math.max(h,(f+h)/2)];if(e>x[0]&&e<=x[1]||e>=b[0]&&e<=b[1]){o=a[d].index;break}}else{var v=Math.min(u,m),j=Math.max(u,m);if(e>(v+h)/2&&e<=(j+h)/2){o=a[d].index;break}}}else for(var B=0;B<l;B++)if(B===0&&e<=(s[B].coordinate+s[B+1].coordinate)/2||B>0&&B<l-1&&e>(s[B].coordinate+s[B-1].coordinate)/2&&e<=(s[B].coordinate+s[B+1].coordinate)/2||B===l-1&&e>(s[B].coordinate+s[B-1].coordinate)/2){o=s[B].index;break}return o},g6=function(e){var r,s=e,a=s.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ss(ss({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jBe=function(e){var r=e.barSize,s=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),m=0,f=h.length;m<f;m++){var b=u[h[m]],y=b.items,g=b.cateAxisId,x=y.filter(function(M){return Sd(M.type).indexOf("Bar")>=0});if(x&&x.length){var v=x[0].type.defaultProps,j=v!==void 0?ss(ss({},v),x[0].props):x[0].props,B=j.barSize,C=j[g];o[C]||(o[C]=[]);var E=_r(B)?r:B;o[C].push({item:x[0],stackList:x.slice(1),barSize:_r(E)?void 0:gi(E,s,0)})}}return o},NBe=function(e){var r=e.barGap,s=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=gi(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var m=!1,f=a/c,b=o.reduce(function(B,C){return B+C.barSize||0},0);b+=(c-1)*d,b>=a&&(b-=(c-1)*d,d=0),b>=a&&f>0&&(m=!0,f*=.9,b=c*f);var y=(a-b)/2>>0,g={offset:y-d,size:0};u=o.reduce(function(B,C){var E={item:C.item,position:{offset:g.offset+g.size+d,size:m?f:C.barSize}},M=[].concat(L8(B),[E]);return g=M[M.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){M.push({item:S,position:g})}),M},h)}else{var x=gi(s,a,0,!0);a-2*x-(c-1)*d<=0&&(d=0);var v=(a-2*x-(c-1)*d)/c;v>1&&(v>>=0);var j=l===+l?Math.min(v,l):v;u=o.reduce(function(B,C,E){var M=[].concat(L8(B),[{item:C.item,position:{offset:x+(v+d)*E+(v-j)/2,size:j}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){M.push({item:S,position:M[M.length-1].position})}),M},h)}return u},_Be=function(e,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=NW({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,m=u.height,f=d.align,b=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&f!=="center"&&bt(e[f]))return ss(ss({},e),{},ap({},f,e[f]+(h||0)));if((y==="horizontal"||y==="vertical"&&f==="center")&&b!=="middle"&&bt(e[b]))return ss(ss({},e),{},ap({},b,e[b]+(m||0)))}return e},CBe=function(e,r,s){return _r(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},_W=function(e,r,s,a,i){var o=r.props.children,l=Go(o,x2).filter(function(d){return CBe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=Wa(u,s);if(_r(h))return d;var m=Array.isArray(h)?[m2(h),A2(h)]:[h,h],f=c.reduce(function(b,y){var g=Wa(u,y,0),x=m[0]-Math.abs(Array.isArray(g)?g[0]:g),v=m[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,b[0]),Math.max(v,b[1])]},[1/0,-1/0]);return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0])}return null},SBe=function(e,r,s,a,i){var o=r.map(function(l){return _W(e,l,s,i,a)}).filter(function(l){return!_r(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},CW=function(e,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&_W(e,c,d,a)||E0(e,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},SW=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},BW=function(e,r,s,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},_d=function(e,r,s){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?pi(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var m=i?i.indexOf(h):h;return{coordinate:a(m)+d,value:h,offset:d}});return u.filter(function(h){return!ty(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:a(h)+d,value:h,index:m,offset:d}}):a.ticks&&!s?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,m){return{coordinate:a(h)+d,value:i?i[h]:h,index:m,offset:d}})},p4=new WeakMap,Zb=function(e,r){if(typeof r!="function")return e;p4.has(e)||p4.set(e,new WeakMap);var s=p4.get(e);if(s.has(r))return s.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},EW=function(e,r,s){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ax(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Bw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:B0(),realScaleType:"point"}:i==="category"?{scale:Ax(),realScaleType:"band"}:{scale:Bw(),realScaleType:"linear"};if(sm(a)){var c="scale".concat(Z1(a));return{scale:(N8[c]||B0)(),realScaleType:N8[c]?c:"point"}}return ur(a)?{scale:a}:{scale:B0(),realScaleType:"point"}},U8=1e-4,kW=function(e){var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),i=Math.min(a[0],a[1])-U8,o=Math.max(a[0],a[1])+U8,l=e(r[0]),c=e(r[s-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[s-1]])}},BBe=function(e,r){if(!e)return null;for(var s=0,a=e.length;s<a;s++)if(e[s].item===r)return e[s].position;return null},EBe=function(e,r){if(!r||r.length!==2||!bt(r[0])||!bt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!bt(e[0])||e[0]<s)&&(i[0]=s),(!bt(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},kBe=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=ty(e[l][s][1])?e[l][s][0]:e[l][s][1];c>=0?(e[l][s][0]=i,e[l][s][1]=i+c,i=e[l][s][1]):(e[l][s][0]=o,e[l][s][1]=o+c,o=e[l][s][1])}},PBe=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=ty(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1]):(e[o][s][0]=0,e[o][s][1]=0)}},TBe={sign:kBe,expand:yje,none:Ap,silhouette:bje,wiggle:vje,positive:PBe},FBe=function(e,r,s){var a=r.map(function(l){return l.props.dataKey}),i=TBe[s],o=xje().keys(a).value(function(l,c){return+Wa(l,c,0)}).order($B).offset(i);return o(e)},OBe=function(e,r,s,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,m){var f,b=(f=m.type)!==null&&f!==void 0&&f.defaultProps?ss(ss({},m.type.defaultProps),m.props):m.props,y=b.stackId,g=b.hide;if(g)return h;var x=b[s],v=h[x]||{hasStack:!1,stackGroups:{}};if(qs(y)){var j=v.stackGroups[y]||{numericAxisId:s,cateAxisId:a,items:[]};j.items.push(m),v.hasStack=!0,v.stackGroups[y]=j}else v.stackGroups[ry("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[m]};return ss(ss({},h),{},ap({},x,v))},c),u={};return Object.keys(d).reduce(function(h,m){var f=d[m];if(f.hasStack){var b={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(y,g){var x=f.stackGroups[g];return ss(ss({},y),{},ap({},g,{numericAxisId:s,cateAxisId:a,items:x.items,stackedData:FBe(e,x.items,i)}))},b)}return ss(ss({},h),{},ap({},m,f))},u)},PW=function(e,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=WSe(d,i,l);return e.domain([m2(u),A2(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),m=GSe(h,i,l);return{niceTicks:m}}return null},Q8=function(e){var r=e.axis,s=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Wa(o,r.dataKey,r.domain[l]);return _r(c)?null:r.scale(c)-i/2+a},IBe=function(e){var r=e.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},DBe=function(e,r){var s,a=(s=e.type)!==null&&s!==void 0&&s.defaultProps?ss(ss({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(qs(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},MBe=function(e){return e.reduce(function(r,s){return[m2(s.concat([r[0]]).filter(bt)),A2(s.concat([r[1]]).filter(bt))]},[1/0,-1/0])},TW=function(e,r,s){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=MBe(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},$8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,H8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,A3=function(e,r,s){if(ur(e))return e(r,s);if(!Array.isArray(e))return r;var a=[];if(bt(e[0]))a[0]=s?e[0]:Math.min(e[0],r[0]);else if($8.test(e[0])){var i=+$8.exec(e[0])[1];a[0]=r[0]-i}else ur(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(bt(e[1]))a[1]=s?e[1]:Math.max(e[1],r[1]);else if(H8.test(e[1])){var o=+H8.exec(e[1])[1];a[1]=r[1]+o}else ur(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Iw=function(e,r,s){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var i=qk(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},q8=function(e,r,s){return!e||!e.length||f2(e,co(s,"type.defaultProps.domain"))?r:e},FW=function(e,r){var s=e.type.defaultProps?ss(ss({},e.type.defaultProps),e.props):e.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return ss(ss({},lr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:g6(e),value:Wa(r,a),type:c,payload:r,chartType:d,hide:u})};function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function xd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(s){OW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function OW(t,e,r){return e=LBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LBe(t){var e=RBe(t,"string");return wx(e)=="symbol"?e:e+""}function RBe(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UBe(t,e){return qBe(t)||HBe(t,e)||$Be(t,e)||QBe()}function QBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Be(t,e){if(t){if(typeof t=="string")return V8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V8(t,e)}}function V8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function HBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function qBe(t){if(Array.isArray(t))return t}var Dw=Math.PI/180,zBe=function(e){return e*180/Math.PI},Sn=function(e,r,s,a){return{x:e+Math.cos(-Dw*a)*s,y:r+Math.sin(-Dw*a)*s}},IW=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},VBe=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=gi(e.cx,o,o/2),h=gi(e.cy,l,l/2),m=IW(o,l,s),f=gi(e.innerRadius,m,0),b=gi(e.outerRadius,m,m*.8),y=Object.keys(r);return y.reduce(function(g,x){var v=r[x],j=v.domain,B=v.reversed,C;if(_r(v.range))a==="angleAxis"?C=[c,d]:a==="radiusAxis"&&(C=[f,b]),B&&(C=[C[1],C[0]]);else{C=v.range;var E=C,M=UBe(E,2);c=M[0],d=M[1]}var S=EW(v,i),k=S.realScaleType,I=S.scale;I.domain(j).range(C),kW(I);var _=PW(I,xd(xd({},v),{},{realScaleType:k})),T=xd(xd(xd({},v),_),{},{range:C,radius:b,realScaleType:k,scale:I,cx:u,cy:h,innerRadius:f,outerRadius:b,startAngle:c,endAngle:d});return xd(xd({},g),{},OW({},x,T))},{})},KBe=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},WBe=function(e,r){var s=e.x,a=e.y,i=r.cx,o=r.cy,l=KBe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:zBe(d),angleInRadian:d}},GBe=function(e){var r=e.startAngle,s=e.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},XBe=function(e,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},K8=function(e,r){var s=e.x,a=e.y,i=WBe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=GBe(r),h=u.startAngle,m=u.endAngle,f=l,b;if(h<=m){for(;f>m;)f-=360;for(;f<h;)f+=360;b=f>=h&&f<=m}else{for(;f>h;)f-=360;for(;f<m;)f+=360;b=f>=m&&f<=h}return b?xd(xd({},r),{},{radius:o,angle:XBe(f,r)}):null},DW=function(e){return!F.isValidElement(e)&&!ur(e)&&typeof e!="boolean"?e.className:""};function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}var YBe=["offset"];function JBe(t){return r3e(t)||t3e(t)||e3e(t)||ZBe()}function ZBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e3e(t,e){if(t){if(typeof t=="string")return m3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m3(t,e)}}function t3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r3e(t){if(Array.isArray(t))return m3(t)}function m3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function n3e(t,e){if(t==null)return{};var r=s3e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function s3e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(s){a3e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function a3e(t,e,r){return e=i3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i3e(t){var e=o3e(t,"string");return jx(e)=="symbol"?e:e+""}function o3e(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nx.apply(this,arguments)}var l3e=function(e){var r=e.value,s=e.formatter,a=_r(e.children)?r:e.children;return ur(s)?s(a):a},c3e=function(e,r){var s=pi(r-e),a=Math.min(Math.abs(r-e),360);return s*a},d3e=function(e,r,s){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,m=c.outerRadius,f=c.startAngle,b=c.endAngle,y=c.clockWise,g=(h+m)/2,x=c3e(f,b),v=x>=0?1:-1,j,B;a==="insideStart"?(j=f+v*o,B=y):a==="insideEnd"?(j=b-v*o,B=!y):a==="end"&&(j=b+v*o,B=y),B=x<=0?B:!B;var C=Sn(d,u,g,j),E=Sn(d,u,g,j+(B?1:-1)*359),M="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(B?0:1,`,
    `).concat(E.x,",").concat(E.y),S=_r(e.id)?ry("recharts-radial-line-"):e.id;return ke.createElement("text",Nx({},s,{dominantBaseline:"central",className:vr("recharts-radial-bar-label",l)}),ke.createElement("defs",null,ke.createElement("path",{id:S,d:M})),ke.createElement("textPath",{xlinkHref:"#".concat(S)},r))},u3e=function(e){var r=e.viewBox,s=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,m=(u+h)/2;if(a==="outside"){var f=Sn(o,l,d+s,m),b=f.x,y=f.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,x=Sn(o,l,g,m),v=x.x,j=x.y;return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},h3e=function(e){var r=e.viewBox,s=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,m=h*a,f=h>0?"end":"start",b=h>0?"start":"end",y=d>=0?1:-1,g=y*a,x=y>0?"end":"start",v=y>0?"start":"end";if(i==="top"){var j={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:f};return Us(Us({},j),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var B={x:l+d/2,y:c+u+m,textAnchor:"middle",verticalAnchor:b};return Us(Us({},B),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-g,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return Us(Us({},C),s?{width:Math.max(C.x-s.x,0),height:u}:{})}if(i==="right"){var E={x:l+d+g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"};return Us(Us({},E),s?{width:Math.max(s.x+s.width-E.x,0),height:u}:{})}var M=s?{width:d,height:u}:{};return i==="insideLeft"?Us({x:l+g,y:c+u/2,textAnchor:v,verticalAnchor:"middle"},M):i==="insideRight"?Us({x:l+d-g,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},M):i==="insideTop"?Us({x:l+d/2,y:c+m,textAnchor:"middle",verticalAnchor:b},M):i==="insideBottom"?Us({x:l+d/2,y:c+u-m,textAnchor:"middle",verticalAnchor:f},M):i==="insideTopLeft"?Us({x:l+g,y:c+m,textAnchor:v,verticalAnchor:b},M):i==="insideTopRight"?Us({x:l+d-g,y:c+m,textAnchor:x,verticalAnchor:b},M):i==="insideBottomLeft"?Us({x:l+g,y:c+u-m,textAnchor:v,verticalAnchor:f},M):i==="insideBottomRight"?Us({x:l+d-g,y:c+u-m,textAnchor:x,verticalAnchor:f},M):Vp(i)&&(bt(i.x)||UA(i.x))&&(bt(i.y)||UA(i.y))?Us({x:l+gi(i.x,d),y:c+gi(i.y,u),textAnchor:"end",verticalAnchor:"end"},M):Us({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},M)},A3e=function(e){return"cx"in e&&bt(e.cx)};function ia(t){var e=t.offset,r=e===void 0?5:e,s=n3e(t,YBe),a=Us({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,m=a.textBreakAll;if(!i||_r(l)&&_r(c)&&!F.isValidElement(d)&&!ur(d))return null;if(F.isValidElement(d))return F.cloneElement(d,a);var f;if(ur(d)){if(f=F.createElement(d,a),F.isValidElement(f))return f}else f=l3e(a);var b=A3e(i),y=lr(a,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return d3e(a,f,y);var g=b?u3e(a):h3e(a);return ke.createElement(im,Nx({className:vr("recharts-label",h)},y,g,{breakAll:m}),f)}ia.displayName="Label";var MW=function(e){var r=e.cx,s=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,m=e.y,f=e.top,b=e.left,y=e.width,g=e.height,x=e.clockWise,v=e.labelViewBox;if(v)return v;if(bt(y)&&bt(g)){if(bt(h)&&bt(m))return{x:h,y:m,width:y,height:g};if(bt(f)&&bt(b))return{x:f,y:b,width:y,height:g}}return bt(h)&&bt(m)?{x:h,y:m,width:0,height:0}:bt(r)&&bt(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},m3e=function(e,r){return e?e===!0?ke.createElement(ia,{key:"label-implicit",viewBox:r}):qs(e)?ke.createElement(ia,{key:"label-implicit",viewBox:r,value:e}):F.isValidElement(e)?e.type===ia?F.cloneElement(e,{key:"label-implicit",viewBox:r}):ke.createElement(ia,{key:"label-implicit",content:e,viewBox:r}):ur(e)?ke.createElement(ia,{key:"label-implicit",content:e,viewBox:r}):Vp(e)?ke.createElement(ia,Nx({viewBox:r},e,{key:"label-implicit"})):null:null},f3e=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,i=MW(e),o=Go(a,ia).map(function(c,d){return F.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=m3e(e.label,r||i);return[l].concat(JBe(o))};ia.parseViewBox=MW;ia.renderCallByParent=f3e;var g4,G8;function p3e(){if(G8)return g4;G8=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return g4=t,g4}var g3e=p3e();const x3e=Xr(g3e);function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}var y3e=["valueAccessor"],b3e=["data","dataKey","clockWise","id","textBreakAll"];function v3e(t){return _3e(t)||N3e(t)||j3e(t)||w3e()}function w3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3e(t,e){if(t){if(typeof t=="string")return f3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f3(t,e)}}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _3e(t){if(Array.isArray(t))return f3(t)}function f3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mw.apply(this,arguments)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(s){C3e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function C3e(t,e,r){return e=S3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3e(t){var e=B3e(t,"string");return _x(e)=="symbol"?e:e+""}function B3e(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_x(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J8(t,e){if(t==null)return{};var r=E3e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function E3e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var k3e=function(e){return Array.isArray(e.value)?x3e(e.value):e.value};function Ah(t){var e=t.valueAccessor,r=e===void 0?k3e:e,s=J8(t,y3e),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=J8(s,b3e);return!a||!a.length?null:ke.createElement(dn,{className:"recharts-label-list"},a.map(function(u,h){var m=_r(i)?r(u,h):Wa(u&&u.payload,i),f=_r(l)?{}:{id:"".concat(l,"-").concat(h)};return ke.createElement(ia,Mw({},lr(u,!0),d,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:c,viewBox:ia.parseViewBox(_r(o)?u:Y8(Y8({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ah.displayName="LabelList";function P3e(t,e){return t?t===!0?ke.createElement(Ah,{key:"labelList-implicit",data:e}):ke.isValidElement(t)||ur(t)?ke.createElement(Ah,{key:"labelList-implicit",data:e,content:t}):Vp(t)?ke.createElement(Ah,Mw({data:e},t,{key:"labelList-implicit"})):null:null}function T3e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=Go(s,Ah).map(function(o,l){return F.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=P3e(t.label,e);return[i].concat(v3e(a))}Ah.renderCallByParent=T3e;function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function p3(){return p3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},p3.apply(this,arguments)}function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function e7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(s){F3e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function F3e(t,e,r){return e=O3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3e(t){var e=I3e(t,"string");return Cx(e)=="symbol"?e:e+""}function I3e(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D3e=function(e,r){var s=pi(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},ev=function(e){var r=e.cx,s=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/Dw,m=d?i:i+o*h,f=Sn(r,s,u,m),b=Sn(r,s,a,m),y=d?i-o*h:i,g=Sn(r,s,u*Math.cos(h*Dw),y);return{center:f,circleTangency:b,lineTangency:g,theta:h}},LW=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=D3e(o,l),d=o+c,u=Sn(r,s,i,o),h=Sn(r,s,i,d),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var f=Sn(r,s,a,o),b=Sn(r,s,a,d);m+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(r,",").concat(s," Z");return m},M3e=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=pi(u-d),m=ev({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),f=m.circleTangency,b=m.lineTangency,y=m.theta,g=ev({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=g.circleTangency,v=g.lineTangency,j=g.theta,B=c?Math.abs(d-u):Math.abs(d-u)-y-j;if(B<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LW({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
  `);if(a>0){var E=ev({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=E.circleTangency,S=E.lineTangency,k=E.theta,I=ev({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),_=I.circleTangency,T=I.lineTangency,D=I.theta,L=c?Math.abs(d-u):Math.abs(d-u)-k-D;if(L<0&&o===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(h>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},L3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RW=function(e){var r=e7(e7({},L3e),e),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,m=r.className;if(o<i||u===h)return null;var f=vr("recharts-sector",m),b=o-i,y=gi(l,b,0,!0),g;return y>0&&Math.abs(u-h)<360?g=M3e({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):g=LW({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ke.createElement("path",p3({},lr(r,!0),{className:f,d:g,role:"img"}))};function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function g3(){return g3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},g3.apply(this,arguments)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function r7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(s){R3e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function R3e(t,e,r){return e=U3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U3e(t){var e=Q3e(t,"string");return Sx(e)=="symbol"?e:e+""}function Q3e(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n7={curveBasisClosed:oje,curveBasisOpen:lje,curveBasis:ije,curveBumpX:V2e,curveBumpY:K2e,curveLinearClosed:cje,curveLinear:t2,curveMonotoneX:dje,curveMonotoneY:uje,curveNatural:hje,curveStep:Aje,curveStepAfter:fje,curveStepBefore:mje},tv=function(e){return e.x===+e.x&&e.y===+e.y},Rg=function(e){return e.x},Ug=function(e){return e.y},$3e=function(e,r){if(ur(e))return e;var s="curve".concat(Z1(e));return(s==="curveMonotone"||s==="curveBump")&&r?n7["".concat(s).concat(r==="vertical"?"Y":"X")]:n7[s]||t2},H3e=function(e){var r=e.type,s=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=$3e(s,l),h=d?i.filter(function(y){return tv(y)}):i,m;if(Array.isArray(o)){var f=d?o.filter(function(y){return tv(y)}):o,b=h.map(function(y,g){return r7(r7({},y),{},{base:f[g]})});return l==="vertical"?m=Vb().y(Ug).x1(Rg).x0(function(y){return y.base.x}):m=Vb().x(Rg).y1(Ug).y0(function(y){return y.base.y}),m.defined(tv).curve(u),m(b)}return l==="vertical"&&bt(o)?m=Vb().y(Ug).x1(Rg).x0(o):bt(o)?m=Vb().x(Rg).y1(Ug).y0(o):m=MV().x(Rg).y(Ug),m.defined(tv).curve(u),m(h)},x3=function(e){var r=e.className,s=e.points,a=e.path,i=e.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?H3e(e):a;return F.createElement("path",g3({},lr(e,!1),uw(e),{className:vr("recharts-curve",r),d:o,ref:i}))},x4={exports:{}},y4,s7;function q3e(){if(s7)return y4;s7=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return y4=t,y4}var b4,a7;function z3e(){if(a7)return b4;a7=1;var t=q3e();function e(){}function r(){}return r.resetWarningCache=e,b4=function(){function s(o,l,c,d,u,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},b4}var i7;function V3e(){return i7||(i7=1,x4.exports=z3e()()),x4.exports}var K3e=V3e();const en=Xr(K3e);var W3e=Object.getOwnPropertyNames,G3e=Object.getOwnPropertySymbols,X3e=Object.prototype.hasOwnProperty;function o7(t,e){return function(s,a,i){return t(s,a,i)&&e(s,a,i)}}function rv(t){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=t(r,s,a);return i.delete(r),i.delete(s),c}}function Y3e(t){return t?.[Symbol.toStringTag]}function l7(t){return W3e(t).concat(G3e(t))}var J3e=Object.hasOwn||(function(t,e){return X3e.call(t,e)});function ym(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Z3e="__v",eEe="__o",tEe="_owner",c7=Object.getOwnPropertyDescriptor,d7=Object.keys;function rEe(t,e,r){var s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function nEe(t,e){return ym(t.getTime(),e.getTime())}function sEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function aEe(t,e){return t===e}function u7(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var m=o.value,f=l.value;if(r.equals(m[0],f[0],c,h,t,e,r)&&r.equals(m[1],f[1],m[0],f[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var iEe=ym;function oEe(t,e,r){var s=d7(t),a=s.length;if(d7(e).length!==a)return!1;for(;a-- >0;)if(!UW(t,e,r,s[a]))return!1;return!0}function Qg(t,e,r){var s=l7(t),a=s.length;if(l7(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!UW(t,e,r,i)||(o=c7(t,i),l=c7(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function lEe(t,e){return ym(t.valueOf(),e.valueOf())}function cEe(t,e){return t.source===e.source&&t.flags===e.flags}function h7(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function dEe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function uEe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function UW(t,e,r,s){return(s===tEe||s===eEe||s===Z3e)&&(t.$$typeof||e.$$typeof)?!0:J3e(e,s)&&r.equals(t[s],e[s],s,s,t,e,r)}var hEe="[object Arguments]",AEe="[object Boolean]",mEe="[object Date]",fEe="[object Error]",pEe="[object Map]",gEe="[object Number]",xEe="[object Object]",yEe="[object RegExp]",bEe="[object Set]",vEe="[object String]",wEe="[object URL]",jEe=Array.isArray,A7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,m7=Object.assign,NEe=Object.prototype.toString.call.bind(Object.prototype.toString);function _Ee(t){var e=t.areArraysEqual,r=t.areDatesEqual,s=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,m=t.areUrlsEqual,f=t.unknownTagComparators;return function(y,g,x){if(y===g)return!0;if(y==null||g==null)return!1;var v=typeof y;if(v!==typeof g)return!1;if(v!=="object")return v==="number"?o(y,g,x):v==="function"?a(y,g,x):!1;var j=y.constructor;if(j!==g.constructor)return!1;if(j===Object)return l(y,g,x);if(jEe(y))return e(y,g,x);if(A7!=null&&A7(y))return h(y,g,x);if(j===Date)return r(y,g,x);if(j===RegExp)return d(y,g,x);if(j===Map)return i(y,g,x);if(j===Set)return u(y,g,x);var B=NEe(y);if(B===mEe)return r(y,g,x);if(B===yEe)return d(y,g,x);if(B===pEe)return i(y,g,x);if(B===bEe)return u(y,g,x);if(B===xEe)return typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,x);if(B===wEe)return m(y,g,x);if(B===fEe)return s(y,g,x);if(B===hEe)return l(y,g,x);if(B===AEe||B===gEe||B===vEe)return c(y,g,x);if(f){var C=f[B];if(!C){var E=Y3e(y);E&&(C=f[E])}if(C)return C(y,g,x)}return!1}}function CEe(t){var e=t.circular,r=t.createCustomConfig,s=t.strict,a={areArraysEqual:s?Qg:rEe,areDatesEqual:nEe,areErrorsEqual:sEe,areFunctionsEqual:aEe,areMapsEqual:s?o7(u7,Qg):u7,areNumbersEqual:iEe,areObjectsEqual:s?Qg:oEe,arePrimitiveWrappersEqual:lEe,areRegExpsEqual:cEe,areSetsEqual:s?o7(h7,Qg):h7,areTypedArraysEqual:s?Qg:dEe,areUrlsEqual:uEe,unknownTagComparators:void 0};if(r&&(a=m7({},a,r(a))),e){var i=rv(a.areArraysEqual),o=rv(a.areMapsEqual),l=rv(a.areObjectsEqual),c=rv(a.areSetsEqual);a=m7({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function SEe(t){return function(e,r,s,a,i,o,l){return t(e,r,l)}}function BEe(t){var e=t.circular,r=t.comparator,s=t.createState,a=t.equals,i=t.strict;if(s)return function(c,d){var u=s(),h=u.cache,m=h===void 0?e?new WeakMap:void 0:h,f=u.meta;return r(c,d,{cache:m,equals:a,meta:f,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var EEe=Fh();Fh({strict:!0});Fh({circular:!0});Fh({circular:!0,strict:!0});Fh({createInternalComparator:function(){return ym}});Fh({strict:!0,createInternalComparator:function(){return ym}});Fh({circular:!0,createInternalComparator:function(){return ym}});Fh({circular:!0,createInternalComparator:function(){return ym},strict:!0});function Fh(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,s=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=CEe(t),c=_Ee(l),d=s?s(c):SEe(c);return BEe({circular:r,comparator:c,createState:a,equals:d,strict:o})}function kEe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function f7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):kEe(a)};requestAnimationFrame(s)}function y3(t){"@babel/helpers - typeof";return y3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y3(t)}function PEe(t){return IEe(t)||OEe(t)||FEe(t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FEe(t,e){if(t){if(typeof t=="string")return p7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(t,e)}}function p7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function OEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IEe(t){if(Array.isArray(t))return t}function DEe(){var t={},e=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=PEe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){f7(a.bind(null,d),c);return}a(c),f7(a.bind(null,d));return}y3(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function x7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(s){QW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function QW(t,e,r){return e=MEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MEe(t){var e=LEe(t,"string");return Bx(e)==="symbol"?e:String(e)}function LEe(t,e){if(Bx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Bx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var REe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},UEe=function(e){return e},QEe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},k0=function(e,r){return Object.keys(r).reduce(function(s,a){return x7(x7({},s),{},QW({},a,e(a,r[a])))},{})},y7=function(e,r,s){return e.map(function(a){return"".concat(QEe(a)," ").concat(r,"ms ").concat(s)}).join(",")};function $Ee(t,e){return zEe(t)||qEe(t,e)||$W(t,e)||HEe()}function HEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function zEe(t){if(Array.isArray(t))return t}function VEe(t){return GEe(t)||WEe(t)||$W(t)||KEe()}function KEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $W(t,e){if(t){if(typeof t=="string")return b3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b3(t,e)}}function WEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GEe(t){if(Array.isArray(t))return b3(t)}function b3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var Lw=1e-4,HW=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},qW=function(e,r){return e.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},b7=function(e,r){return function(s){var a=HW(e,r);return qW(a,s)}},XEe=function(e,r){return function(s){var a=HW(e,r),i=[].concat(VEe(a.map(function(o,l){return o*l}).slice(1)),[0]);return qW(i,s)}},v7=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=$Ee(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=b7(a,o),m=b7(i,l),f=XEe(a,o),b=function(x){return x>1?1:x<0?0:x},y=function(x){for(var v=x>1?1:x,j=v,B=0;B<8;++B){var C=h(j)-v,E=f(j);if(Math.abs(C-v)<Lw||E<Lw)return m(j);j=b(j-C/E)}return m(j)};return y.isStepper=!1,y},YEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,s=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,m){var f=-(u-h)*s,b=m*i,y=m+(f-b)*l/1e3,g=m*l/1e3+u;return Math.abs(g-h)<Lw&&Math.abs(y)<Lw?[h,0]:[g,y]};return c.isStepper=!0,c.dt=l,c},JEe=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return v7(a);case"spring":return YEe();default:if(a.split("(")[0]==="cubic-bezier")return v7(a)}return typeof a=="function"?a:null};function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function w7(t){return tke(t)||eke(t)||zW(t)||ZEe()}function ZEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tke(t){if(Array.isArray(t))return w3(t)}function j7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j7(Object(r),!0).forEach(function(s){v3(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function v3(t,e,r){return e=rke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rke(t){var e=nke(t,"string");return Ex(e)==="symbol"?e:String(e)}function nke(t,e){if(Ex(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ex(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ske(t,e){return oke(t)||ike(t,e)||zW(t,e)||ake()}function ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zW(t,e){if(t){if(typeof t=="string")return w3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w3(t,e)}}function w3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function ike(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function oke(t){if(Array.isArray(t))return t}var Rw=function(e,r,s){return e+(r-e)*s},j3=function(e){var r=e.from,s=e.to;return r!==s},lke=function t(e,r,s){var a=k0(function(i,o){if(j3(o)){var l=e(o.from,o.to,o.velocity),c=ske(l,2),d=c[0],u=c[1];return va(va({},o),{},{from:d,velocity:u})}return o},r);return s<1?k0(function(i,o){return j3(o)?va(va({},o),{},{velocity:Rw(o.velocity,a[i].velocity,s),from:Rw(o.from,a[i].from,s)}):o},r):t(e,a,s-1)};const cke=(function(t,e,r,s,a){var i=REe(t,e),o=i.reduce(function(g,x){return va(va({},g),{},v3({},x,[t[x],e[x]]))},{}),l=i.reduce(function(g,x){return va(va({},g),{},v3({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,d,u,h=function(){return null},m=function(){return k0(function(x,v){return v.from},l)},f=function(){return!Object.values(l).filter(j3).length},b=function(x){d||(d=x);var v=x-d,j=v/r.dt;l=lke(r,l,j),a(va(va(va({},t),e),m())),d=x,f()||(c=requestAnimationFrame(h))},y=function(x){u||(u=x);var v=(x-u)/s,j=k0(function(C,E){return Rw.apply(void 0,w7(E).concat([r(v)]))},o);if(a(va(va(va({},t),e),j)),v<1)c=requestAnimationFrame(h);else{var B=k0(function(C,E){return Rw.apply(void 0,w7(E).concat([r(1)]))},o);a(va(va(va({},t),e),B))}};return h=r.isStepper?b:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}var dke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function uke(t,e){if(t==null)return{};var r=hke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function hke(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function v4(t){return pke(t)||fke(t)||mke(t)||Ake()}function Ake(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(t,e){if(t){if(typeof t=="string")return N3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N3(t,e)}}function fke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pke(t){if(Array.isArray(t))return N3(t)}function N3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function vl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(s){s0(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function s0(t,e,r){return e=VW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xke(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,VW(s.key),s)}}function yke(t,e,r){return e&&xke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VW(t){var e=bke(t,"string");return wp(e)==="symbol"?e:String(e)}function bke(t,e){if(wp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_3(t,e)}function _3(t,e){return _3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_3(t,e)}function wke(t){var e=jke();return function(){var s=Uw(t),a;if(e){var i=Uw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return C3(this,a)}}function C3(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S3(t)}function S3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(t)}var Ld=(function(t){vke(r,t);var e=wke(r);function r(s,a){var i;gke(this,r),i=e.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,m=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(S3(i)),i.changeStyle=i.changeStyle.bind(S3(i)),!l||f<=0)return i.state={style:{}},typeof m=="function"&&(i.state={style:u}),C3(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof m=="function")return i.state={style:d},C3(i);i.state={style:c?s0({},c,d):d}}else i.state={style:{}};return i}return yke(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,m=this.state.style;if(l){if(!o){var f={style:c?s0({},c,u):u};this.state&&m&&(c&&m[c]!==u||!c&&m!==u)&&this.setState(f);return}if(!(EEe(a.to,u)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||d?h:a.to;if(this.state&&m){var g={style:c?s0({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(g)}this.runAnimation(vl(vl({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,m=a.onAnimationStart,f=cke(o,l,JEe(d),c,this.changeStyle),b=function(){i.stopJSAnimation=f()};this.manager.start([m,u,b,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,m=h===void 0?0:h,f=function(y,g,x){if(x===0)return y;var v=g.duration,j=g.easing,B=j===void 0?"ease":j,C=g.style,E=g.properties,M=g.onAnimationEnd,S=x>0?o[x-1]:g,k=E||Object.keys(C);if(typeof B=="function"||B==="spring")return[].concat(v4(y),[i.runJSAnimation.bind(i,{from:S.style,to:C,duration:v,easing:B}),v]);var I=y7(k,v,B),_=vl(vl(vl({},S.style),C),{},{transition:I});return[].concat(v4(y),[_,v,M]).filter(UEe)};return this.manager.start([c].concat(v4(o.reduce(f,[u,Math.max(m,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=DEe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,m=a.steps,f=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof d=="function"||typeof f=="function"||d==="spring"){this.runJSAnimation(a);return}if(m.length>1){this.runStepAnimation(a);return}var y=l?s0({},l,c):c,g=y7(Object.keys(y),o,d);b.start([u,i,vl(vl({},y),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=uke(a,dke),d=F.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(f){var b=f.props,y=b.style,g=y===void 0?{}:y,x=b.className,v=F.cloneElement(f,vl(vl({},c),{},{style:vl(vl({},g),u),className:x}));return v};return d===1?h(F.Children.only(i)):ke.createElement("div",null,F.Children.map(i,function(m){return h(m)}))}}]),r})(F.PureComponent);Ld.displayName="Animate";Ld.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ld.propTypes={from:en.oneOfType([en.object,en.string]),to:en.oneOfType([en.object,en.string]),attributeName:en.string,duration:en.number,begin:en.number,easing:en.oneOfType([en.string,en.func]),steps:en.arrayOf(en.shape({duration:en.number.isRequired,style:en.object.isRequired,easing:en.oneOfType([en.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),en.func]),properties:en.arrayOf("string"),onAnimationEnd:en.func})),children:en.oneOfType([en.node,en.func]),isActive:en.bool,canBegin:en.bool,onAnimationEnd:en.func,shouldReAnimate:en.bool,onAnimationStart:en.func,onAnimationReStart:en.func};function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qw.apply(this,arguments)}function Nke(t,e){return Bke(t)||Ske(t,e)||Cke(t,e)||_ke()}function _ke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cke(t,e){if(t){if(typeof t=="string")return _7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _7(t,e)}}function _7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Ske(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Bke(t){if(Array.isArray(t))return t}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function S7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(s){Eke(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Eke(t,e,r){return e=kke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kke(t){var e=Pke(t,"string");return kx(e)=="symbol"?e:e+""}function Pke(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(kx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B7=function(e,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,f=4;m<f;m++)h[m]=i[m]>o?o:i[m];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*h[1])),u+="L ".concat(e+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);u="M ".concat(e,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+c*b,",").concat(r,`
            L `).concat(e+s-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*b,`
            L `).concat(e+s,",").concat(r+a-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e+s-c*b,",").concat(r+a,`
            L `).concat(e+c*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*b," Z")}else u="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},Tke=function(e,r){if(!e||!r)return!1;var s=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),m=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=m}return!1},Fke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x6=function(e){var r=S7(S7({},Fke),e),s=F.useRef(),a=F.useState(-1),i=Nke(a,2),o=i[0],l=i[1];F.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var B=s.current.getTotalLength();B&&l(B)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,m=r.radius,f=r.className,b=r.animationEasing,y=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var j=vr("recharts-rectangle",f);return v?ke.createElement(Ld,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:y,animationEasing:b,isActive:v},function(B){var C=B.width,E=B.height,M=B.x,S=B.y;return ke.createElement(Ld,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:x,easing:b},ke.createElement("path",Qw({},lr(r,!0),{className:j,d:B7(M,S,C,E,m),ref:s})))}):ke.createElement("path",Qw({},lr(r,!0),{className:j,d:B7(c,d,u,h,m)}))},Oke=["points","className","baseLinePoints","connectNulls"];function Mf(){return Mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mf.apply(this,arguments)}function Ike(t,e){if(t==null)return{};var r=Dke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Dke(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function E7(t){return Uke(t)||Rke(t)||Lke(t)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lke(t,e){if(t){if(typeof t=="string")return B3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(t,e)}}function Rke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Uke(t){if(Array.isArray(t))return B3(t)}function B3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var k7=function(e){return e&&e.x===+e.x&&e.y===+e.y},Qke=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(s){k7(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),k7(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},P0=function(e,r){var s=Qke(e);r&&(s=[s.reduce(function(i,o){return[].concat(E7(i),E7(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},$ke=function(e,r,s){var a=P0(e,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(P0(r.reverse(),s).slice(1))},Hke=function(e){var r=e.points,s=e.className,a=e.baseLinePoints,i=e.connectNulls,o=Ike(e,Oke);if(!r||!r.length)return null;var l=vr("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=$ke(r,a,i);return ke.createElement("g",{className:l},ke.createElement("path",Mf({},lr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ke.createElement("path",Mf({},lr(o,!0),{fill:"none",d:P0(r,i)})):null,c?ke.createElement("path",Mf({},lr(o,!0),{fill:"none",d:P0(a,i)})):null)}var u=P0(r,i);return ke.createElement("path",Mf({},lr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function E3(){return E3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},E3.apply(this,arguments)}var y6=function(e){var r=e.cx,s=e.cy,a=e.r,i=e.className,o=vr("recharts-dot",i);return r===+r&&s===+s&&a===+a?F.createElement("circle",E3({},lr(e,!1),uw(e),{className:o,cx:r,cy:s,r:a})):null};function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}var qke=["x","y","top","left","width","height","className"];function k3(){return k3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},k3.apply(this,arguments)}function P7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function zke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(r),!0).forEach(function(s){Vke(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Vke(t,e,r){return e=Kke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kke(t){var e=Wke(t,"string");return Px(e)=="symbol"?e:e+""}function Wke(t,e){if(Px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gke(t,e){if(t==null)return{};var r=Xke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Xke(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var Yke=function(e,r,s,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},Jke=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,m=e.height,f=m===void 0?0:m,b=e.className,y=Gke(e,qke),g=zke({x:s,y:i,top:l,left:d,width:h,height:f},y);return!bt(s)||!bt(i)||!bt(h)||!bt(f)||!bt(l)||!bt(d)?null:ke.createElement("path",k3({},lr(g,!0),{className:vr("recharts-cross",b),d:Yke(s,i,h,f,l,d)}))},w4,T7;function Zke(){if(T7)return w4;T7=1;var t=h2(),e=oW(),r=Ec();function s(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return w4=s,w4}var e6e=Zke();const t6e=Xr(e6e);var j4,F7;function r6e(){if(F7)return j4;F7=1;var t=h2(),e=Ec(),r=lW();function s(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return j4=s,j4}var n6e=r6e();const s6e=Xr(n6e);var a6e=["cx","cy","angle","ticks","axisLine"],i6e=["ticks","tick","angle","tickFormatter","stroke"];function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},T0.apply(this,arguments)}function O7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function yA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(r),!0).forEach(function(s){y2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function I7(t,e){if(t==null)return{};var r=o6e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function o6e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function l6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D7(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,WW(s.key),s)}}function c6e(t,e,r){return e&&D7(t.prototype,e),r&&D7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d6e(t,e,r){return e=$w(e),u6e(t,KW()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function u6e(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6e(t)}function h6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function A6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P3(t,e)}function P3(t,e){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},P3(t,e)}function y2(t,e,r){return e=WW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WW(t){var e=m6e(t,"string");return jp(e)=="symbol"?e:e+""}function m6e(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b2=(function(t){function e(){return l6e(this,e),d6e(this,e,arguments)}return A6e(e,t),c6e(e,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Sn(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=t6e(l,function(u){return u.coordinate||0}),d=s6e(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=I7(s,a6e),u=l.reduce(function(b,y){return[Math.min(b[0],y.coordinate),Math.max(b[1],y.coordinate)]},[1/0,-1/0]),h=Sn(a,i,u[0],o),m=Sn(a,i,u[1],o),f=yA(yA(yA({},lr(d,!1)),{},{fill:"none"},lr(c,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return ke.createElement("line",T0({className:"recharts-polar-radius-axis-line"},f))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=I7(a,i6e),h=this.getTickTextAnchor(),m=lr(u,!1),f=lr(o,!1),b=i.map(function(y,g){var x=s.getTickValueCoord(y),v=yA(yA(yA(yA({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:d},f),{},{index:g},x),{},{payload:y});return ke.createElement(dn,T0({className:vr("recharts-polar-radius-axis-tick",DW(o)),key:"tick-".concat(y.coordinate)},am(s.props,y,g)),e.renderTickItem(o,v,c?c(y.value,g):y.value))});return ke.createElement(dn,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:ke.createElement(dn,{className:vr("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),ia.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ke.isValidElement(s)?o=ke.cloneElement(s,a):ur(s)?o=s(a):o=ke.createElement(im,T0({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(F.PureComponent);y2(b2,"displayName","PolarRadiusAxis");y2(b2,"axisType","radiusAxis");y2(b2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},FA.apply(this,arguments)}function M7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function bA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(r),!0).forEach(function(s){v2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function f6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,XW(s.key),s)}}function p6e(t,e,r){return e&&L7(t.prototype,e),r&&L7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g6e(t,e,r){return e=Hw(e),x6e(t,GW()?Reflect.construct(e,r||[],Hw(t).constructor):e.apply(t,r))}function x6e(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y6e(t)}function y6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!t})()}function Hw(t){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(t)}function b6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T3(t,e)}function T3(t,e){return T3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},T3(t,e)}function v2(t,e,r){return e=XW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XW(t){var e=v6e(t,"string");return Np(e)=="symbol"?e:e+""}function v6e(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w6e=Math.PI/180,R7=1e-5,w2=(function(t){function e(){return f6e(this,e),g6e(this,e,arguments)}return b6e(e,t),p6e(e,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=Sn(i,o,l,s.coordinate),m=Sn(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*w6e),o;return i>R7?o=a==="outer"?"start":"end":i<-R7?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=bA(bA({},lr(this.props,!1)),{},{fill:"none"},lr(l,!1));if(c==="circle")return ke.createElement(y6,FA({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(m){return Sn(a,i,o,m.coordinate)});return ke.createElement(Hke,FA({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=lr(this.props,!1),h=lr(o,!1),m=bA(bA({},u),{},{fill:"none"},lr(l,!1)),f=i.map(function(b,y){var g=s.getTickLineCoord(b),x=s.getTickTextAnchor(b),v=bA(bA(bA({textAnchor:x},u),{},{stroke:"none",fill:d},h),{},{index:y,payload:b,x:g.x2,y:g.y2});return ke.createElement(dn,FA({className:vr("recharts-polar-angle-axis-tick",DW(o)),key:"tick-".concat(b.coordinate)},am(s.props,b,y)),l&&ke.createElement("line",FA({className:"recharts-polar-angle-axis-tick-line"},m,g)),o&&e.renderTickItem(o,v,c?c(b.value,y):b.value))});return ke.createElement(dn,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:ke.createElement(dn,{className:vr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ke.isValidElement(s)?o=ke.cloneElement(s,a):ur(s)?o=s(a):o=ke.createElement(im,FA({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(F.PureComponent);v2(w2,"displayName","PolarAngleAxis");v2(w2,"axisType","angleAxis");v2(w2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var N4,U7;function j6e(){if(U7)return N4;U7=1;var t=iK(),e=t(Object.getPrototypeOf,Object);return N4=e,N4}var _4,Q7;function N6e(){if(Q7)return _4;Q7=1;var t=Hd(),e=j6e(),r=qd(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!r(u)||t(u)!=s)return!1;var h=e(u);if(h===null)return!0;var m=l.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return _4=d,_4}var _6e=N6e();const C6e=Xr(_6e);var C4,$7;function S6e(){if($7)return C4;$7=1;var t=Hd(),e=qd(),r="[object Boolean]";function s(a){return a===!0||a===!1||e(a)&&t(a)==r}return C4=s,C4}var B6e=S6e();const E6e=Xr(B6e);function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},qw.apply(this,arguments)}function k6e(t,e){return O6e(t)||F6e(t,e)||T6e(t,e)||P6e()}function P6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T6e(t,e){if(t){if(typeof t=="string")return H7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H7(t,e)}}function H7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function F6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function O6e(t){if(Array.isArray(t))return t}function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function z7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(s){I6e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function I6e(t,e,r){return e=D6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D6e(t){var e=M6e(t,"string");return Tx(e)=="symbol"?e:e+""}function M6e(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V7=function(e,r,s,a,i){var o=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-o/2,",").concat(r+i),l+="L ".concat(e+s-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},L6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R6e=function(e){var r=z7(z7({},L6e),e),s=F.useRef(),a=F.useState(-1),i=k6e(a,2),o=i[0],l=i[1];F.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var j=s.current.getTotalLength();j&&l(j)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,m=r.height,f=r.className,b=r.animationEasing,y=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||m!==+m||u===0&&h===0||m===0)return null;var v=vr("recharts-trapezoid",f);return x?ke.createElement(Ld,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:m,x:c,y:d},duration:y,animationEasing:b,isActive:x},function(j){var B=j.upperWidth,C=j.lowerWidth,E=j.height,M=j.x,S=j.y;return ke.createElement(Ld,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:b},ke.createElement("path",qw({},lr(r,!0),{className:v,d:V7(M,S,B,C,E),ref:s})))}):ke.createElement("g",null,ke.createElement("path",qw({},lr(r,!0),{className:v,d:V7(c,d,u,h,m)})))},U6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function Q6e(t,e){if(t==null)return{};var r=$6e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function $6e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function K7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function zw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(r),!0).forEach(function(s){H6e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function H6e(t,e,r){return e=q6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q6e(t){var e=z6e(t,"string");return Fx(e)=="symbol"?e:e+""}function z6e(t,e){if(Fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Fx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V6e(t,e){return zw(zw({},e),t)}function K6e(t,e){return t==="symbols"}function W7(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ke.createElement(x6,r);case"trapezoid":return ke.createElement(R6e,r);case"sector":return ke.createElement(RW,r);case"symbols":if(K6e(e))return ke.createElement(Dk,r);break;default:return null}}function W6e(t){return F.isValidElement(t)?t.props:t}function YW(t){var e=t.option,r=t.shapeType,s=t.propTransformer,a=s===void 0?V6e:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Q6e(t,U6e),d;if(F.isValidElement(e))d=F.cloneElement(e,zw(zw({},c),W6e(e)));else if(ur(e))d=e(c);else if(C6e(e)&&!E6e(e)){var u=a(e,c);d=ke.createElement(W7,{shapeType:r,elementProps:u})}else{var h=c;d=ke.createElement(W7,{shapeType:r,elementProps:h})}return l?ke.createElement(dn,{className:o},d):d}function j2(t,e){return e!=null&&"trapezoids"in t.props}function N2(t,e){return e!=null&&"sectors"in t.props}function Ox(t,e){return e!=null&&"points"in t.props}function G6e(t,e){var r,s,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===e.y;return a&&i}function X6e(t,e){var r=t.endAngle===e.endAngle,s=t.startAngle===e.startAngle;return r&&s}function Y6e(t,e){var r=t.x===e.x,s=t.y===e.y,a=t.z===e.z;return r&&s&&a}function J6e(t,e){var r;return j2(t,e)?r=G6e:N2(t,e)?r=X6e:Ox(t,e)&&(r=Y6e),r}function Z6e(t,e){var r;return j2(t,e)?r="trapezoids":N2(t,e)?r="sectors":Ox(t,e)&&(r="points"),r}function ePe(t,e){if(j2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(N2(t,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Ox(t,e)?e.payload:{}}function tPe(t){var e=t.activeTooltipItem,r=t.graphicalItem,s=t.itemData,a=Z6e(r,e),i=ePe(r,e),o=s.filter(function(c,d){var u=f2(i,c),h=r.props[a].filter(function(b){var y=J6e(r,e);return y(b,e)}),m=r.props[a].indexOf(h[h.length-1]),f=d===m;return u&&f}),l=s.indexOf(o[o.length-1]);return l}var _v;function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Lf.apply(this,arguments)}function G7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function jn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(r),!0).forEach(function(s){Uo(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function rPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X7(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ZW(s.key),s)}}function nPe(t,e,r){return e&&X7(t.prototype,e),r&&X7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sPe(t,e,r){return e=Vw(e),aPe(t,JW()?Reflect.construct(e,r||[],Vw(t).constructor):e.apply(t,r))}function aPe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iPe(t)}function iPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(t)}function oPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F3(t,e)}function F3(t,e){return F3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},F3(t,e)}function Uo(t,e,r){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZW(t){var e=lPe(t,"string");return _p(e)=="symbol"?e:e+""}function lPe(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vd=(function(t){function e(r){var s;return rPe(this,e),s=sPe(this,e,[r]),Uo(s,"pieRef",null),Uo(s,"sectorRefs",[]),Uo(s,"id",ry("recharts-pie-")),Uo(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ur(a)&&a()}),Uo(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ur(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return oPe(e,t),nPe(e,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=lr(this.props,!1),h=lr(o,!1),m=lr(l,!1),f=o&&o.offsetRadius||20,b=s.map(function(y,g){var x=(y.startAngle+y.endAngle)/2,v=Sn(y.cx,y.cy,y.outerRadius+f,x),j=jn(jn(jn(jn({},u),y),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(v.x,y.cx)},v),B=jn(jn(jn(jn({},u),y),{},{fill:"none",stroke:y.fill},m),{},{index:g,points:[Sn(y.cx,y.cy,y.outerRadius,x),v]}),C=c;return _r(c)&&_r(d)?C="value":_r(c)&&(C=d),ke.createElement(dn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,B,"line"),e.renderLabelItem(o,j,Wa(y,C)))});return ke.createElement(dn,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(u),m=c&&a.hasActiveIndex()?c:null,f=h?o:m,b=jn(jn({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ke.createElement(dn,Lf({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},am(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ke.createElement(YW,Lf({option:f,isActive:h,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,m=h.prevSectors,f=h.prevIsAnimationActive;return ke.createElement(Ld,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(f),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var y=b.t,g=[],x=i&&i[0],v=x.startAngle;return i.forEach(function(j,B){var C=m&&m[B],E=B>0?co(j,"paddingAngle",0):0;if(C){var M=Ku(C.endAngle-C.startAngle,j.endAngle-j.startAngle),S=jn(jn({},j),{},{startAngle:v+E,endAngle:v+M(y)+E});g.push(S),v=S.endAngle}else{var k=j.endAngle,I=j.startAngle,_=Ku(0,k-I),T=_(y),D=jn(jn({},j),{},{startAngle:v+E,endAngle:v+T+E});g.push(D),v=D.endAngle}}),ke.createElement(dn,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!f2(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,m=a.outerRadius,f=a.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!bt(d)||!bt(u)||!bt(h)||!bt(m))return null;var y=vr("recharts-pie",l);return ke.createElement(dn,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){s.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),ia.renderCallByParent(this.props,null,!1),(!f||b)&&Ah.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(ke.isValidElement(s))return ke.cloneElement(s,a);if(ur(s))return s(a);var o=vr("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return ke.createElement(x3,Lf({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(ke.isValidElement(s))return ke.cloneElement(s,a);var o=i;if(ur(s)&&(o=s(a),ke.isValidElement(o)))return o;var l=vr("recharts-pie-label-text",typeof s!="boolean"&&!ur(s)?s.className:"");return ke.createElement(im,Lf({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(F.PureComponent);_v=Vd;Uo(Vd,"displayName","Pie");Uo(Vd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Uo(Vd,"parseDeltaAngle",function(t,e){var r=pi(e-t),s=Math.min(Math.abs(e-t),360);return r*s});Uo(Vd,"getRealPieData",function(t){var e=t.data,r=t.children,s=lr(t,!1),a=Go(r,sy);return e&&e.length?e.map(function(i,o){return jn(jn(jn({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return jn(jn({},s),i.props)}):[]});Uo(Vd,"parseCoordinateOfPie",function(t,e){var r=e.top,s=e.left,a=e.width,i=e.height,o=IW(a,i),l=s+gi(t.cx,a,a/2),c=r+gi(t.cy,i,i/2),d=gi(t.innerRadius,o,0),u=gi(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});Uo(Vd,"getComposedData",function(t){var e=t.item,r=t.offset,s=e.type.defaultProps!==void 0?jn(jn({},e.type.defaultProps),e.props):e.props,a=_v.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,m=s.tooltipType,f=Math.abs(s.minAngle),b=_v.parseCoordinateOfPie(s,r),y=_v.parseDeltaAngle(o,l),g=Math.abs(y),x=d;_r(d)&&_r(h)?(kl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):_r(d)&&(kl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var v=a.filter(function(S){return Wa(S,x,0)!==0}).length,j=(g>=360?v:v-1)*c,B=g-v*f-j,C=a.reduce(function(S,k){var I=Wa(k,x,0);return S+(bt(I)?I:0)},0),E;if(C>0){var M;E=a.map(function(S,k){var I=Wa(S,x,0),_=Wa(S,u,k),T=(bt(I)?I:0)/C,D;k?D=M.endAngle+pi(y)*c*(I!==0?1:0):D=o;var L=D+pi(y)*((I!==0?f:0)+T*B),V=(D+L)/2,z=(b.innerRadius+b.outerRadius)/2,Z=[{name:_,value:I,payload:S,dataKey:x,type:m}],G=Sn(b.cx,b.cy,z,V);return M=jn(jn(jn({percent:T,cornerRadius:i,name:_,tooltipPayload:Z,midAngle:V,middleRadius:z,tooltipPosition:G},S),b),{},{value:Wa(S,x),startAngle:D,endAngle:L,payload:S,paddingAngle:pi(y)*c}),M})}return jn(jn({},b),{},{sectors:E,data:a})});var S4,Y7;function cPe(){if(Y7)return S4;Y7=1;var t=Math.ceil,e=Math.max;function r(s,a,i,o){for(var l=-1,c=e(t((a-s)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=s,s+=i;return d}return S4=r,S4}var B4,J7;function eG(){if(J7)return B4;J7=1;var t=wK(),e=1/0,r=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return B4=s,B4}var E4,Z7;function dPe(){if(Z7)return E4;Z7=1;var t=cPe(),e=a2(),r=eG();function s(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return E4=s,E4}var k4,eQ;function uPe(){if(eQ)return k4;eQ=1;var t=dPe(),e=t();return k4=e,k4}var hPe=uPe();const Kw=Xr(hPe);function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}function tQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function rQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tQ(Object(r),!0).forEach(function(s){tG(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function tG(t,e,r){return e=APe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function APe(t){var e=mPe(t,"string");return Ix(e)=="symbol"?e:e+""}function mPe(t,e){if(Ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fPe=["Webkit","Moz","O","ms"],pPe=function(e,r){var s=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=fPe.reduce(function(i,o){return rQ(rQ({},i),{},tG({},o+s,r))},{});return a[e]=r,a};function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Ww.apply(this,arguments)}function nQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function P4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nQ(Object(r),!0).forEach(function(s){no(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function gPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,nG(s.key),s)}}function xPe(t,e,r){return e&&sQ(t.prototype,e),r&&sQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yPe(t,e,r){return e=Gw(e),bPe(t,rG()?Reflect.construct(e,r||[],Gw(t).constructor):e.apply(t,r))}function bPe(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vPe(t)}function vPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rG=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(t)}function wPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O3(t,e)}function O3(t,e){return O3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},O3(t,e)}function no(t,e,r){return e=nG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nG(t){var e=jPe(t,"string");return Cp(e)=="symbol"?e:e+""}function jPe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var NPe=function(e){var r=e.data,s=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=B0().domain(Kw(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},aQ=function(e){return e.changedTouches&&!!e.changedTouches.length},Sp=(function(t){function e(r){var s;return gPe(this,e),s=yPe(this,e,[r]),no(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),no(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),no(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),no(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),no(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),no(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),no(s,"handleSlideDragStart",function(a){var i=aQ(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return wPe(e,t),xPe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),m=Math.max(a,i),f=e.getIndexInRange(o,h),b=e.getIndexInRange(o,m);return{startIndex:f-f%c,endIndex:b===u?u:b-b%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Wa(i[s],l,s);return ur(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,m=c.startIndex,f=c.endIndex,b=c.onChange,y=s.pageX-i;y>0?y=Math.min(y,d+u-h-l,d+u-h-o):y<0&&(y=Math.max(y,d-o,d-l));var g=this.getIndex({startX:o+y,endX:l+y});(g.startIndex!==m||g.endIndex!==f)&&b&&b(g),this.setState({startX:o+y,endX:l+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=aQ(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,m=u.width,f=u.travellerWidth,b=u.onChange,y=u.gap,g=u.data,x={startX:this.state.startX,endX:this.state.endX},v=s.pageX-i;v>0?v=Math.min(v,h+m-f-d):v<0&&(v=Math.max(v,h-d)),x[o]=d+v;var j=this.getIndex(x),B=j.startIndex,C=j.endIndex,E=function(){var S=g.length-1;return o==="startX"&&(l>c?B%y===0:C%y===0)||l<c&&C===S||o==="endX"&&(l>c?C%y===0:B%y===0)||l>c&&C===S};this.setState(no(no({},o,d+v),"brushMoveStartX",s.pageX),function(){b&&E()&&b(j)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var m=h+s;if(!(m===-1||m>=l.length)){var f=l[m];a==="startX"&&f>=d||a==="endX"&&f<=c||this.setState(no({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return ke.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=F.Children.only(d);return h?ke.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,m=c.traveller,f=c.ariaLabel,b=c.data,y=c.startIndex,g=c.endIndex,x=Math.max(s,this.props.x),v=P4(P4({},lr(this.props,!1)),{},{x,y:d,width:u,height:h}),j=f||"Min value: ".concat((i=b[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[g])===null||o===void 0?void 0:o.name);return ke.createElement(dn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,v))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return ke.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,m=u.endX,f=5,b={pointerEvents:"none",fill:d};return ke.createElement(dn,{className:"recharts-brush-texts"},ke.createElement(im,Ww({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-f,y:o+l/2},b),this.getTextOfTick(a)),ke.createElement(im,Ww({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+c+f,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,m=this.state,f=m.startX,b=m.endX,y=m.isTextActive,g=m.isSlideMoving,x=m.isTravellerMoving,v=m.isTravellerFocused;if(!a||!a.length||!bt(l)||!bt(c)||!bt(d)||!bt(u)||d<=0||u<=0)return null;var j=vr("recharts-brush",i),B=ke.Children.count(o)===1,C=pPe("userSelect","none");return ke.createElement(dn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(f,b),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(b,"endX"),(y||g||x||v||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return ke.createElement(ke.Fragment,null,ke.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ke.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ke.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return ke.isValidElement(s)?i=ke.cloneElement(s,a):ur(s)?i=s(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return P4({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?NPe({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var m=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(F.PureComponent);no(Sp,"displayName","Brush");no(Sp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var T4,iQ;function _Pe(){if(iQ)return T4;iQ=1;var t=Hk();function e(r,s){var a;return t(r,function(i,o,l){return a=s(i,o,l),!a}),!!a}return T4=e,T4}var F4,oQ;function CPe(){if(oQ)return F4;oQ=1;var t=ZV(),e=Ec(),r=_Pe(),s=$i(),a=a2();function i(o,l,c){var d=s(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return F4=i,F4}var SPe=CPe();const BPe=Xr(SPe);var jc=function(e,r){var s=e.alwaysShow,a=e.ifOverflow;return s&&(a="extendDomain"),a===r},O4,lQ;function EPe(){if(lQ)return O4;lQ=1;var t=gK();function e(r,s,a){s=="__proto__"&&t?t(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}return O4=e,O4}var I4,cQ;function kPe(){if(cQ)return I4;cQ=1;var t=EPe(),e=fK(),r=Ec();function s(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return I4=s,I4}var PPe=kPe();const TPe=Xr(PPe);var D4,dQ;function FPe(){if(dQ)return D4;dQ=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!r(e[s],s,e))return!1;return!0}return D4=t,D4}var M4,uQ;function OPe(){if(uQ)return M4;uQ=1;var t=Hk();function e(r,s){var a=!0;return t(r,function(i,o,l){return a=!!s(i,o,l),a}),a}return M4=e,M4}var L4,hQ;function IPe(){if(hQ)return L4;hQ=1;var t=FPe(),e=OPe(),r=Ec(),s=$i(),a=a2();function i(o,l,c){var d=s(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return L4=i,L4}var DPe=IPe();const sG=Xr(DPe);var MPe=["x","y"];function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}function I3(){return I3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},I3.apply(this,arguments)}function AQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function $g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AQ(Object(r),!0).forEach(function(s){LPe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function LPe(t,e,r){return e=RPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RPe(t){var e=UPe(t,"string");return Dx(e)=="symbol"?e:e+""}function UPe(t,e){if(Dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Dx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QPe(t,e){if(t==null)return{};var r=$Pe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function $Pe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function HPe(t,e){var r=t.x,s=t.y,a=QPe(t,MPe),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),m=parseInt(h,10);return $g($g($g($g($g({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:m,name:e.name,radius:e.radius})}function mQ(t){return ke.createElement(YW,I3({shapeType:"rectangle",propTransformer:HPe,activeClassName:"recharts-active-bar"},t))}var qPe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof e=="number")return e;var i=bt(s)||m2e(s);return i?e(s,a):(i||lm(),r)}},zPe=["value","background"],aG;function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function VPe(t,e){if(t==null)return{};var r=KPe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function KPe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Xw.apply(this,arguments)}function fQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fQ(Object(r),!0).forEach(function(s){ah(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function WPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,oG(s.key),s)}}function GPe(t,e,r){return e&&pQ(t.prototype,e),r&&pQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XPe(t,e,r){return e=Yw(e),YPe(t,iG()?Reflect.construct(e,r||[],Yw(t).constructor):e.apply(t,r))}function YPe(t,e){if(e&&(Bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(t)}function JPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!t})()}function Yw(t){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(t)}function ZPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D3(t,e)}function D3(t,e){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},D3(t,e)}function ah(t,e,r){return e=oG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oG(t){var e=eTe(t,"string");return Bp(e)=="symbol"?e:e+""}function eTe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rd=(function(t){function e(){var r;WPe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=XPe(this,e,[].concat(a)),ah(r,"state",{isAnimationFinished:!1}),ah(r,"id",ry("recharts-bar-")),ah(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ah(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return ZPe(e,t),GPe(e,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=lr(this.props,!1);return s&&s.map(function(h,m){var f=m===c,b=f?d:o,y=js(js(js({},u),h),{},{isActive:f,option:b,index:m,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ke.createElement(dn,Xw({className:"recharts-bar-rectangle"},am(a.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),ke.createElement(mQ,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,m=this.state.prevData;return ke.createElement(Ld,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var b=f.t,y=i.map(function(g,x){var v=m&&m[x];if(v){var j=Ku(v.x,g.x),B=Ku(v.y,g.y),C=Ku(v.width,g.width),E=Ku(v.height,g.height);return js(js({},g),{},{x:j(b),y:B(b),width:C(b),height:E(b)})}if(o==="horizontal"){var M=Ku(0,g.height),S=M(b);return js(js({},g),{},{y:g.y+g.height-S,height:S})}var k=Ku(0,g.width),I=k(b);return js(js({},g),{},{width:I})});return ke.createElement(dn,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!f2(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=lr(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,m=VPe(d,zPe);if(!h)return null;var f=js(js(js(js(js({},m),{},{fill:"#eee"},h),c),am(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ke.createElement(mQ,Xw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},f))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Go(u,x2);if(!h)return null;var m=d==="vertical"?o[0].height/2:o[0].width/2,f=function(g,x){var v=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:v,errorVal:Wa(g,x)}},b={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ke.createElement(dn,b,h.map(function(y){return ke.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:m,dataPointFormatter:f})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,m=s.height,f=s.isAnimationActive,b=s.background,y=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,x=vr("recharts-bar",o),v=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,B=v||j,C=_r(y)?this.id:y;return ke.createElement(dn,{className:x},v||j?ke.createElement("defs",null,ke.createElement("clipPath",{id:"clipPath-".concat(C)},ke.createElement("rect",{x:v?d:d-h/2,y:j?u:u-m/2,width:v?h:h*2,height:j?m:m*2}))):null,ke.createElement(dn,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(C,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,C),(!f||g)&&Ah.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(F.PureComponent);aG=Rd;ah(Rd,"displayName","Bar");ah(Rd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ah(Rd,"getComposedData",function(t){var e=t.props,r=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,m=t.offset,f=BBe(s,r);if(!f)return null;var b=e.layout,y=r.type.defaultProps,g=y!==void 0?js(js({},y),r.props):r.props,x=g.dataKey,v=g.children,j=g.minPointSize,B=b==="horizontal"?o:i,C=d?B.scale.domain():null,E=IBe({numericAxis:B}),M=Go(v,sy),S=h.map(function(k,I){var _,T,D,L,V,z;d?_=EBe(d[u+I],C):(_=Wa(k,x),Array.isArray(_)||(_=[E,_]));var Z=qPe(j,aG.defaultProps.minPointSize)(_[1],I);if(b==="horizontal"){var G,H=[o.scale(_[0]),o.scale(_[1])],ee=H[0],Y=H[1];T=Q8({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:k,index:I}),D=(G=Y??ee)!==null&&G!==void 0?G:void 0,L=f.size;var q=ee-Y;if(V=Number.isNaN(q)?0:q,z={x:T,y:o.y,width:L,height:o.height},Math.abs(Z)>0&&Math.abs(V)<Math.abs(Z)){var U=pi(V||Z)*(Math.abs(Z)-Math.abs(V));D-=U,V+=U}}else{var te=[i.scale(_[0]),i.scale(_[1])],X=te[0],se=te[1];if(T=X,D=Q8({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:k,index:I}),L=se-X,V=f.size,z={x:i.x,y:D,width:i.width,height:V},Math.abs(Z)>0&&Math.abs(L)<Math.abs(Z)){var fe=pi(L||Z)*(Math.abs(Z)-Math.abs(L));L+=fe}}return js(js(js({},k),{},{x:T,y:D,width:L,height:V,value:d?_:_[1],payload:k,background:z},M&&M[I]&&M[I].props),{},{tooltipPayload:[FW(r,k)],tooltipPosition:{x:T+L/2,y:D+V/2}})});return js({data:S,layout:b},m)});function Mx(t){"@babel/helpers - typeof";return Mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mx(t)}function tTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,lG(s.key),s)}}function rTe(t,e,r){return e&&gQ(t.prototype,e),r&&gQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xQ(Object(r),!0).forEach(function(s){_2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _2(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=nTe(t,"string");return Mx(e)=="symbol"?e:e+""}function nTe(t,e){if(Mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Mx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sTe=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},m=!!so(d,Rd);return u.reduce(function(f,b){var y=r[b],g=y.orientation,x=y.domain,v=y.padding,j=v===void 0?{}:v,B=y.mirror,C=y.reversed,E="".concat(g).concat(B?"Mirror":""),M,S,k,I,_;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=x[1]-x[0],D=1/0,L=y.categoricalDomain.sort(g2e);if(L.forEach(function(te,X){X>0&&(D=Math.min((te||0)-(L[X-1]||0),D))}),Number.isFinite(D)){var V=D/T,z=y.layout==="vertical"?s.height:s.width;if(y.padding==="gap"&&(M=V*z/2),y.padding==="no-gap"){var Z=gi(e.barCategoryGap,V*z),G=V*z/2;M=G-Z-(G-Z)/z*Z}}}a==="xAxis"?S=[s.left+(j.left||0)+(M||0),s.left+s.width-(j.right||0)-(M||0)]:a==="yAxis"?S=c==="horizontal"?[s.top+s.height-(j.bottom||0),s.top+(j.top||0)]:[s.top+(j.top||0)+(M||0),s.top+s.height-(j.bottom||0)-(M||0)]:S=y.range,C&&(S=[S[1],S[0]]);var H=EW(y,i,m),ee=H.scale,Y=H.realScaleType;ee.domain(x).range(S),kW(ee);var q=PW(ee,Sl(Sl({},y),{},{realScaleType:Y}));a==="xAxis"?(_=g==="top"&&!B||g==="bottom"&&B,k=s.left,I=h[E]-_*y.height):a==="yAxis"&&(_=g==="left"&&!B||g==="right"&&B,k=h[E]-_*y.width,I=s.top);var U=Sl(Sl(Sl({},y),q),{},{realScaleType:Y,x:k,y:I,scale:ee,width:a==="xAxis"?s.width:y.width,height:a==="yAxis"?s.height:y.height});return U.bandSize=Iw(U,q),!y.hide&&a==="xAxis"?h[E]+=(_?-1:1)*U.height:y.hide||(h[E]+=(_?-1:1)*U.width),Sl(Sl({},f),{},_2({},b,U))},{})},cG=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},aTe=function(e){var r=e.x1,s=e.y1,a=e.x2,i=e.y2;return cG({x:r,y:s},{x:a,y:i})},dG=(function(){function t(e){tTe(this,t),this.scale=e}return rTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();_2(dG,"EPS",1e-4);var b6=function(e){var r=Object.keys(e).reduce(function(s,a){return Sl(Sl({},s),{},_2({},a,dG.create(e[a])))},{});return Sl(Sl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return TPe(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return sG(a,function(i,o){return r[o].isInRange(i)})}})};function iTe(t){return(t%180+180)%180}var oTe=function(e){var r=e.width,s=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=iTe(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},R4,yQ;function lTe(){if(yQ)return R4;yQ=1;var t=Ec(),e=ny(),r=n2();function s(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return R4=s,R4}var U4,bQ;function cTe(){if(bQ)return U4;bQ=1;var t=eG();function e(r){var s=t(r),a=s%1;return s===s?a?s-a:s:0}return U4=e,U4}var Q4,vQ;function dTe(){if(vQ)return Q4;vQ=1;var t=dK(),e=Ec(),r=cTe(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=s(c+d,0)),t(i,e(o,3),d)}return Q4=a,Q4}var $4,wQ;function uTe(){if(wQ)return $4;wQ=1;var t=lTe(),e=dTe(),r=t(e);return $4=r,$4}var hTe=uTe();const ATe=Xr(hTe);var mTe=CV();const fTe=Xr(mTe);var pTe=fTe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),v6=F.createContext(void 0),w6=F.createContext(void 0),uG=F.createContext(void 0),hG=F.createContext({}),AG=F.createContext(void 0),mG=F.createContext(0),fG=F.createContext(0),jQ=function(e){var r=e.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=pTe(i);return ke.createElement(v6.Provider,{value:s},ke.createElement(w6.Provider,{value:a},ke.createElement(hG.Provider,{value:i},ke.createElement(uG.Provider,{value:u},ke.createElement(AG.Provider,{value:o},ke.createElement(mG.Provider,{value:d},ke.createElement(fG.Provider,{value:c},l)))))))},gTe=function(){return F.useContext(AG)},pG=function(e){var r=F.useContext(v6);r==null&&lm();var s=r[e];return s==null&&lm(),s},xTe=function(){var e=F.useContext(v6);return Xu(e)},yTe=function(){var e=F.useContext(w6),r=ATe(e,function(s){return sG(s.domain,Number.isFinite)});return r||Xu(e)},gG=function(e){var r=F.useContext(w6);r==null&&lm();var s=r[e];return s==null&&lm(),s},bTe=function(){var e=F.useContext(uG);return e},vTe=function(){return F.useContext(hG)},j6=function(){return F.useContext(fG)},N6=function(){return F.useContext(mG)};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jTe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,yG(s.key),s)}}function NTe(t,e,r){return e&&jTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Te(t,e,r){return e=Jw(e),CTe(t,xG()?Reflect.construct(e,r||[],Jw(t).constructor):e.apply(t,r))}function CTe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return STe(t)}function STe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!t})()}function Jw(t){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(t)}function BTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M3(t,e)}function M3(t,e){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},M3(t,e)}function NQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function _Q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NQ(Object(r),!0).forEach(function(s){_6(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function _6(t,e,r){return e=yG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yG(t){var e=ETe(t,"string");return Ep(e)=="symbol"?e:e+""}function ETe(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kTe(t,e){return OTe(t)||FTe(t,e)||TTe(t,e)||PTe()}function PTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TTe(t,e){if(t){if(typeof t=="string")return CQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CQ(t,e)}}function CQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function FTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function OTe(t){if(Array.isArray(t))return t}function L3(){return L3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},L3.apply(this,arguments)}var ITe=function(e,r){var s;return ke.isValidElement(e)?s=ke.cloneElement(e,r):ur(e)?s=e(r):s=ke.createElement("line",L3({},r,{className:"recharts-reference-line-line"})),s},DTe=function(e,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,m=i.width,f=i.height;if(s){var b=d.y,y=e.y.apply(b,{position:o});if(jc(d,"discard")&&!e.y.isInRange(y))return null;var g=[{x:u+m,y},{x:u,y}];return c==="left"?g.reverse():g}if(r){var x=d.x,v=e.x.apply(x,{position:o});if(jc(d,"discard")&&!e.x.isInRange(v))return null;var j=[{x:v,y:h+f},{x:v,y:h}];return l==="top"?j.reverse():j}if(a){var B=d.segment,C=B.map(function(E){return e.apply(E,{position:o})});return jc(d,"discard")&&BPe(C,function(E){return!e.isInRange(E)})?null:C}return null};function MTe(t){var e=t.x,r=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=gTe(),u=pG(a),h=gG(i),m=bTe();if(!d||!m)return null;kl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=b6({x:u.scale,y:h.scale}),b=qs(e),y=qs(r),g=s&&s.length===2,x=DTe(f,b,y,g,m,t.position,u.orientation,h.orientation,t);if(!x)return null;var v=kTe(x,2),j=v[0],B=j.x,C=j.y,E=v[1],M=E.x,S=E.y,k=jc(t,"hidden")?"url(#".concat(d,")"):void 0,I=_Q(_Q({clipPath:k},lr(t,!0)),{},{x1:B,y1:C,x2:M,y2:S});return ke.createElement(dn,{className:vr("recharts-reference-line",l)},ITe(o,I),ia.renderCallByParent(t,aTe({x1:B,y1:C,x2:M,y2:S})))}var C6=(function(t){function e(){return wTe(this,e),_Te(this,e,arguments)}return BTe(e,t),NTe(e,[{key:"render",value:function(){return ke.createElement(MTe,this.props)}}])})(ke.Component);_6(C6,"displayName","ReferenceLine");_6(C6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},R3.apply(this,arguments)}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function SQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function BQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SQ(Object(r),!0).forEach(function(s){C2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function LTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RTe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,vG(s.key),s)}}function UTe(t,e,r){return e&&RTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QTe(t,e,r){return e=Zw(e),$Te(t,bG()?Reflect.construct(e,r||[],Zw(t).constructor):e.apply(t,r))}function $Te(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HTe(t)}function HTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bG=function(){return!!t})()}function Zw(t){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(t)}function qTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U3(t,e)}function U3(t,e){return U3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},U3(t,e)}function C2(t,e,r){return e=vG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vG(t){var e=zTe(t,"string");return kp(e)=="symbol"?e:e+""}function zTe(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(kp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VTe=function(e){var r=e.x,s=e.y,a=e.xAxis,i=e.yAxis,o=b6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return jc(e,"discard")&&!o.isInRange(l)?null:l},S2=(function(t){function e(){return LTe(this,e),QTe(this,e,arguments)}return qTe(e,t),UTe(e,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=qs(a),u=qs(i);if(kl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=VTe(this.props);if(!h)return null;var m=h.x,f=h.y,b=this.props,y=b.shape,g=b.className,x=jc(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=BQ(BQ({clipPath:x},lr(this.props,!0)),{},{cx:m,cy:f});return ke.createElement(dn,{className:vr("recharts-reference-dot",g)},e.renderDot(y,v),ia.renderCallByParent(this.props,{x:m-o,y:f-o,width:2*o,height:2*o}))}}])})(ke.Component);C2(S2,"displayName","ReferenceDot");C2(S2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});C2(S2,"renderDot",function(t,e){var r;return ke.isValidElement(t)?r=ke.cloneElement(t,e):ur(t)?r=t(e):r=ke.createElement(y6,R3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function Q3(){return Q3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Q3.apply(this,arguments)}function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function EQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function kQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EQ(Object(r),!0).forEach(function(s){B2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function KTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WTe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,jG(s.key),s)}}function GTe(t,e,r){return e&&WTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XTe(t,e,r){return e=e1(e),YTe(t,wG()?Reflect.construct(e,r||[],e1(t).constructor):e.apply(t,r))}function YTe(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JTe(t)}function JTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}function ZTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$3(t,e)}function $3(t,e){return $3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$3(t,e)}function B2(t,e,r){return e=jG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jG(t){var e=eFe(t,"string");return Pp(e)=="symbol"?e:e+""}function eFe(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tFe=function(e,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var m=b6({x:u.scale,y:h.scale}),f={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:s?m.y.apply(c,{position:"start"}):m.y.rangeMin},b={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:a?m.y.apply(d,{position:"end"}):m.y.rangeMax};return jc(i,"discard")&&(!m.isInRange(f)||!m.isInRange(b))?null:cG(f,b)},E2=(function(t){function e(){return KTe(this,e),XTe(this,e,arguments)}return ZTe(e,t),GTe(e,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;kl(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=qs(a),m=qs(i),f=qs(o),b=qs(l),y=this.props.shape;if(!h&&!m&&!f&&!b&&!y)return null;var g=tFe(h,m,f,b,this.props);if(!g&&!y)return null;var x=jc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ke.createElement(dn,{className:vr("recharts-reference-area",c)},e.renderRect(y,kQ(kQ({clipPath:x},lr(this.props,!0)),g)),ia.renderCallByParent(this.props,g))}}])})(ke.Component);B2(E2,"displayName","ReferenceArea");B2(E2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});B2(E2,"renderRect",function(t,e){var r;return ke.isValidElement(t)?r=ke.cloneElement(t,e):ur(t)?r=t(e):r=ke.createElement(x6,Q3({},e,{className:"recharts-reference-area-rect"})),r});function NG(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var s=[],a=0;a<t.length;a+=e)s.push(t[a]);return s}function rFe(t,e,r){var s={width:t.width+e.width,height:t.height+e.height};return oTe(s,r)}function nFe(t,e,r){var s=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function t1(t,e,r,s,a){if(t*e<t*s||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-s)>=0&&t*(e+t*i/2-a)<=0}function sFe(t,e){return NG(t,e+1)}function aFe(t,e,r,s,a){for(var i=(s||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var b=s?.[c];if(b===void 0)return{v:NG(s,d)};var y=c,g,x=function(){return g===void 0&&(g=r(b,y)),g},v=b.coordinate,j=c===0||t1(t,v,x,u,l);j||(c=0,u=o,d+=1),j&&(u=v+t*(x()/2+a),c+=d)},m;d<=i.length;)if(m=h(),m)return m.v;return[]}function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}function PQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PQ(Object(r),!0).forEach(function(s){iFe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function iFe(t,e,r){return e=oFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oFe(t){var e=lFe(t,"string");return Lx(e)=="symbol"?e:e+""}function lFe(t,e){if(Lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Lx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cFe(t,e,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(m){var f=i[m],b,y=function(){return b===void 0&&(b=r(f,m)),b};if(m===o-1){var g=t*(f.coordinate+t*y()/2-c);i[m]=f=Ha(Ha({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate})}else i[m]=f=Ha(Ha({},f),{},{tickCoord:f.coordinate});var x=t1(t,f.tickCoord,y,l,c);x&&(c=f.tickCoord-t*(y()/2+a),i[m]=Ha(Ha({},f),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function dFe(t,e,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=s[l-1],h=r(u,l-1),m=t*(u.coordinate+t*h/2-d);o[l-1]=u=Ha(Ha({},u),{},{tickCoord:m>0?u.coordinate-m*t:u.coordinate});var f=t1(t,u.tickCoord,function(){return h},c,d);f&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Ha(Ha({},u),{},{isShow:!0}))}for(var b=i?l-1:l,y=function(v){var j=o[v],B,C=function(){return B===void 0&&(B=r(j,v)),B};if(v===0){var E=t*(j.coordinate-t*C()/2-c);o[v]=j=Ha(Ha({},j),{},{tickCoord:E<0?j.coordinate-E*t:j.coordinate})}else o[v]=j=Ha(Ha({},j),{},{tickCoord:j.coordinate});var M=t1(t,j.tickCoord,C,c,d);M&&(c=j.tickCoord+t*(C()/2+a),o[v]=Ha(Ha({},j),{},{isShow:!0}))},g=0;g<b;g++)y(g);return o}function S6(t,e,r){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!s)return[];if(bt(c)||Wp.isSsr)return sFe(a,typeof c=="number"&&bt(c)?c:0);var m=[],f=l==="top"||l==="bottom"?"width":"height",b=u&&f==="width"?S0(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(j,B){var C=ur(d)?d(j.value,B):j.value;return f==="width"?rFe(S0(C,{fontSize:e,letterSpacing:r}),b,h):S0(C,{fontSize:e,letterSpacing:r})[f]},g=a.length>=2?pi(a[1].coordinate-a[0].coordinate):1,x=nFe(i,g,f);return c==="equidistantPreserveStart"?aFe(g,x,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=dFe(g,x,y,a,o,c==="preserveStartEnd"):m=cFe(g,x,y,a,o),m.filter(function(v){return v.isShow}))}var uFe=["viewBox"],hFe=["viewBox"],AFe=["ticks"];function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Rf.apply(this,arguments)}function TQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TQ(Object(r),!0).forEach(function(s){B6(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function H4(t,e){if(t==null)return{};var r=mFe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function mFe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function fFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,CG(s.key),s)}}function pFe(t,e,r){return e&&FQ(t.prototype,e),r&&FQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gFe(t,e,r){return e=r1(e),xFe(t,_G()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function xFe(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yFe(t)}function yFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_G=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function bFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H3(t,e)}function H3(t,e){return H3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},H3(t,e)}function B6(t,e,r){return e=CG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CG(t){var e=vFe(t,"string");return Tp(e)=="symbol"?e:e+""}function vFe(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Tp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jp=(function(t){function e(r){var s;return fFe(this,e),s=gFe(this,e,[r]),s.state={fontSize:"",letterSpacing:""},s}return bFe(e,t),pFe(e,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=H4(s,uFe),l=this.props,c=l.viewBox,d=H4(l,hFe);return!np(i,c)||!np(o,d)||!np(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,m=a.tickMargin,f,b,y,g,x,v,j=h?-1:1,B=s.tickSize||u,C=bt(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":f=b=s.coordinate,g=o+ +!h*c,y=g-j*B,v=y-j*m,x=C;break;case"left":y=g=s.coordinate,b=i+ +!h*l,f=b-j*B,x=f-j*m,v=C;break;case"right":y=g=s.coordinate,b=i+ +h*l,f=b+j*B,x=f+j*m,v=C;break;default:f=b=s.coordinate,g=o+ +h*c,y=g+j*B,v=y+j*m,x=C;break}return{line:{x1:f,y1:y,x2:b,y2:g},tick:{x,y:v}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=Rs(Rs(Rs({},lr(this.props,!1)),lr(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!d||c==="bottom"&&d);h=Rs(Rs({},h),{},{x1:a,y1:i+m*l,x2:a+o,y2:i+m*l})}else{var f=+(c==="left"&&!d||c==="right"&&d);h=Rs(Rs({},h),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return ke.createElement("line",Rf({},h,{className:vr("recharts-cartesian-axis-line",co(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,m=l.unit,f=S6(Rs(Rs({},this.props),{},{ticks:s}),a,i),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),g=lr(this.props,!1),x=lr(u,!1),v=Rs(Rs({},g),{},{fill:"none"},lr(c,!1)),j=f.map(function(B,C){var E=o.getTickLineCoord(B),M=E.line,S=E.tick,k=Rs(Rs(Rs(Rs({textAnchor:b,verticalAnchor:y},g),{},{stroke:"none",fill:d},x),S),{},{index:C,payload:B,visibleTicksCount:f.length,tickFormatter:h});return ke.createElement(dn,Rf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},am(o.props,B,C)),c&&ke.createElement("line",Rf({},v,M,{className:vr("recharts-cartesian-axis-tick-line",co(c,"className"))})),u&&e.renderTickItem(u,k,"".concat(ur(h)?h(B.value,C):B.value).concat(m||"")))});return ke.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,m=h.ticks,f=H4(h,AFe),b=m;return ur(c)&&(b=m&&m.length>0?c(this.props):c(f)),o<=0||l<=0||!b||!b.length?null:ke.createElement(dn,{className:vr("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),ia.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=vr(a.className,"recharts-cartesian-axis-tick-value");return ke.isValidElement(s)?o=ke.cloneElement(s,Rs(Rs({},a),{},{className:l})):ur(s)?o=s(Rs(Rs({},a),{},{className:l})):o=ke.createElement(im,Rf({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(F.Component);B6(Jp,"displayName","CartesianAxis");B6(Jp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wFe=["x1","y1","x2","y2","key"],jFe=["offset"];function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function OQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OQ(Object(r),!0).forEach(function(s){NFe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function NFe(t,e,r){return e=_Fe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Fe(t){var e=CFe(t,"string");return cm(e)=="symbol"?e:e+""}function CFe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},HA.apply(this,arguments)}function IQ(t,e){if(t==null)return{};var r=SFe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function SFe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var BFe=function(e){var r=e.fill;if(!r||r==="none")return null;var s=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ke.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function SG(t,e){var r;if(ke.isValidElement(t))r=ke.cloneElement(t,e);else if(ur(t))r=t(e);else{var s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=IQ(e,wFe),d=lr(c,!1);d.offset;var u=IQ(d,jFe);r=ke.createElement("line",HA({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function EFe(t){var e=t.x,r=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Va(Va({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return SG(a,d)});return ke.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kFe(t){var e=t.y,r=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Va(Va({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return SG(a,d)});return ke.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PFe(t){var e=t.horizontalFill,r=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(m){return Math.round(m+a-a)}).sort(function(m,f){return m-f});a!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var b=!u[f+1],y=b?a+o-m:u[f+1]-m;if(y<=0)return null;var g=f%e.length;return ke.createElement("rect",{key:"react-".concat(f),y:m,x:s,height:y,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function TFe(t){var e=t.vertical,r=e===void 0?!0:e,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(m){return Math.round(m+i-i)}).sort(function(m,f){return m-f});i!==u[0]&&u.unshift(0);var h=u.map(function(m,f){var b=!u[f+1],y=b?i+l-m:u[f+1]-m;if(y<=0)return null;var g=f%s.length;return ke.createElement("rect",{key:"react-".concat(f),x:m,y:o,width:y,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var FFe=function(e,r){var s=e.xAxis,a=e.width,i=e.height,o=e.offset;return BW(S6(Va(Va(Va({},Jp.defaultProps),s),{},{ticks:_d(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},OFe=function(e,r){var s=e.yAxis,a=e.width,i=e.height,o=e.offset;return BW(S6(Va(Va(Va({},Jp.defaultProps),s),{},{ticks:_d(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},vf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function E6(t){var e,r,s,a,i,o,l=j6(),c=N6(),d=vTe(),u=Va(Va({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:vf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:vf.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:vf.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:vf.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:vf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:vf.verticalFill,x:bt(t.x)?t.x:d.left,y:bt(t.y)?t.y:d.top,width:bt(t.width)?t.width:d.width,height:bt(t.height)?t.height:d.height}),h=u.x,m=u.y,f=u.width,b=u.height,y=u.syncWithTicks,g=u.horizontalValues,x=u.verticalValues,v=xTe(),j=yTe();if(!bt(f)||f<=0||!bt(b)||b<=0||!bt(h)||h!==+h||!bt(m)||m!==+m)return null;var B=u.verticalCoordinatesGenerator||FFe,C=u.horizontalCoordinatesGenerator||OFe,E=u.horizontalPoints,M=u.verticalPoints;if((!E||!E.length)&&ur(C)){var S=g&&g.length,k=C({yAxis:j?Va(Va({},j),{},{ticks:S?g:j.ticks}):void 0,width:l,height:c,offset:d},S?!0:y);kl(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(cm(k),"]")),Array.isArray(k)&&(E=k)}if((!M||!M.length)&&ur(B)){var I=x&&x.length,_=B({xAxis:v?Va(Va({},v),{},{ticks:I?x:v.ticks}):void 0,width:l,height:c,offset:d},I?!0:y);kl(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(cm(_),"]")),Array.isArray(_)&&(M=_)}return ke.createElement("g",{className:"recharts-cartesian-grid"},ke.createElement(BFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ke.createElement(EFe,HA({},u,{offset:d,horizontalPoints:E,xAxis:v,yAxis:j})),ke.createElement(kFe,HA({},u,{offset:d,verticalPoints:M,xAxis:v,yAxis:j})),ke.createElement(PFe,HA({},u,{horizontalPoints:E})),ke.createElement(TFe,HA({},u,{verticalPoints:M})))}E6.displayName="CartesianGrid";function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function IFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DFe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,kG(s.key),s)}}function MFe(t,e,r){return e&&DFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LFe(t,e,r){return e=n1(e),RFe(t,BG()?Reflect.construct(e,r||[],n1(t).constructor):e.apply(t,r))}function RFe(t,e){if(e&&(Fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UFe(t)}function UFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!t})()}function n1(t){return n1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n1(t)}function QFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q3(t,e)}function q3(t,e){return q3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},q3(t,e)}function EG(t,e,r){return e=kG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kG(t){var e=$Fe(t,"string");return Fp(e)=="symbol"?e:e+""}function $Fe(t,e){if(Fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function z3(){return z3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},z3.apply(this,arguments)}function HFe(t){var e=t.xAxisId,r=j6(),s=N6(),a=pG(e);return a==null?null:F.createElement(Jp,z3({},a,{className:vr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return _d(o,!0)}}))}var cy=(function(t){function e(){return IFe(this,e),LFe(this,e,arguments)}return QFe(e,t),MFe(e,[{key:"render",value:function(){return F.createElement(HFe,this.props)}}])})(F.Component);EG(cy,"displayName","XAxis");EG(cy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function qFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zFe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,FG(s.key),s)}}function VFe(t,e,r){return e&&zFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KFe(t,e,r){return e=s1(e),WFe(t,PG()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function WFe(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GFe(t)}function GFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function XFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V3(t,e)}function V3(t,e){return V3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},V3(t,e)}function TG(t,e,r){return e=FG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FG(t){var e=YFe(t,"string");return Op(e)=="symbol"?e:e+""}function YFe(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K3(){return K3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},K3.apply(this,arguments)}var JFe=function(e){var r=e.yAxisId,s=j6(),a=N6(),i=gG(r);return i==null?null:F.createElement(Jp,K3({},i,{className:vr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return _d(l,!0)}}))},dy=(function(t){function e(){return qFe(this,e),KFe(this,e,arguments)}return XFe(e,t),VFe(e,[{key:"render",value:function(){return F.createElement(JFe,this.props)}}])})(F.Component);TG(dy,"displayName","YAxis");TG(dy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DQ(t){return rOe(t)||tOe(t)||eOe(t)||ZFe()}function ZFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eOe(t,e){if(t){if(typeof t=="string")return W3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W3(t,e)}}function tOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rOe(t){if(Array.isArray(t))return W3(t)}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var G3=function(e,r,s,a,i){var o=Go(e,C6),l=Go(e,S2),c=[].concat(DQ(o),DQ(l)),d=Go(e,E2),u="".concat(a,"Id"),h=a[0],m=r;if(c.length&&(m=c.reduce(function(y,g){if(g.props[u]===s&&jc(g.props,"extendDomain")&&bt(g.props[h])){var x=g.props[h];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},m)),d.length){var f="".concat(h,"1"),b="".concat(h,"2");m=d.reduce(function(y,g){if(g.props[u]===s&&jc(g.props,"extendDomain")&&bt(g.props[f])&&bt(g.props[b])){var x=g.props[f],v=g.props[b];return[Math.min(y[0],x,v),Math.max(y[1],x,v)]}return y},m)}return i&&i.length&&(m=i.reduce(function(y,g){return bt(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},m)),m},q4={exports:{}},MQ;function nOe(){return MQ||(MQ=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,m){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new a(u,h||c,m),b=r?r+d:d;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],f]:c._events[b].push(f):(c._events[b]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,f=h.length,b=new Array(f);m<f;m++)b[m]=h[m].fn;return b},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,m,f,b){var y=r?r+d:d;if(!this._events[y])return!1;var g=this._events[y],x=arguments.length,v,j;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,m),!0;case 5:return g.fn.call(g.context,u,h,m,f),!0;case 6:return g.fn.call(g.context,u,h,m,f,b),!0}for(j=1,v=new Array(x-1);j<x;j++)v[j-1]=arguments[j];g.fn.apply(g.context,v)}else{var B=g.length,C;for(j=0;j<B;j++)switch(g[j].once&&this.removeListener(d,g[j].fn,void 0,!0),x){case 1:g[j].fn.call(g[j].context);break;case 2:g[j].fn.call(g[j].context,u);break;case 3:g[j].fn.call(g[j].context,u,h);break;case 4:g[j].fn.call(g[j].context,u,h,m);break;default:if(!v)for(C=1,v=new Array(x-1);C<x;C++)v[C-1]=arguments[C];g[j].fn.apply(g[j].context,v)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,m){var f=r?r+d:d;if(!this._events[f])return this;if(!u)return o(this,f),this;var b=this._events[f];if(b.fn)b.fn===u&&(!m||b.once)&&(!h||b.context===h)&&o(this,f);else{for(var y=0,g=[],x=b.length;y<x;y++)(b[y].fn!==u||m&&!b[y].once||h&&b[y].context!==h)&&g.push(b[y]);g.length?this._events[f]=g.length===1?g[0]:g:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(q4)),q4.exports}var sOe=nOe();const aOe=Xr(sOe);var z4=new aOe,V4="recharts.syncMouseEvents";function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function iOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oOe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,OG(s.key),s)}}function lOe(t,e,r){return e&&oOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K4(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=cOe(t,"string");return Rx(e)=="symbol"?e:e+""}function cOe(t,e){if(Rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dOe=(function(){function t(){iOe(this,t),K4(this,"activeIndex",0),K4(this,"coordinateList",[]),K4(this,"layout","horizontal")}return lOe(t,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,m=r.mouseHandlerCallback,f=m===void 0?null:m;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,m=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function uOe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var s=t?.[0],a=t?.[1];if(s&&a&&bt(s)&&bt(a))return!0}return!1}function hOe(t,e,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?s:r.width-1,height:t==="horizontal"?r.height-1:s}}function IG(t){var e=t.cx,r=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=Sn(e,r,s,a),l=Sn(e,r,s,i);return{points:[o,l],cx:e,cy:r,radius:s,startAngle:a,endAngle:i}}function AOe(t,e,r){var s,a,i,o;if(t==="horizontal")s=e.x,i=s,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,s=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,m=Sn(l,c,d,h),f=Sn(l,c,u,h);s=m.x,a=m.y,i=f.x,o=f.y}else return IG(e);return[{x:s,y:a},{x:i,y:o}]}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function LQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function nv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LQ(Object(r),!0).forEach(function(s){mOe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function mOe(t,e,r){return e=fOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fOe(t){var e=pOe(t,"string");return Ux(e)=="symbol"?e:e+""}function pOe(t,e){if(Ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ux(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gOe(t){var e,r,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,f=(e=s.props.cursor)!==null&&e!==void 0?e:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!f||!i||!o||m!=="ScatterChart"&&a!=="axis")return null;var b,y=x3;if(m==="ScatterChart")b=o,y=Jke;else if(m==="BarChart")b=hOe(h,o,c,u),y=x6;else if(h==="radial"){var g=IG(o),x=g.cx,v=g.cy,j=g.radius,B=g.startAngle,C=g.endAngle;b={cx:x,cy:v,startAngle:B,endAngle:C,innerRadius:j,outerRadius:j},y=RW}else b={points:AOe(h,o,c)},y=x3;var E=nv(nv(nv(nv({stroke:"#ccc",pointerEvents:"none"},c),b),lr(f,!1)),{},{payload:l,payloadIndex:d,className:vr("recharts-tooltip-cursor",f.className)});return F.isValidElement(f)?F.cloneElement(f,E):F.createElement(y,E)}var xOe=["item"],yOe=["children","className","width","height","style","compact","title","desc"];function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Uf.apply(this,arguments)}function RQ(t,e){return wOe(t)||vOe(t,e)||MG(t,e)||bOe()}function bOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function wOe(t){if(Array.isArray(t))return t}function UQ(t,e){if(t==null)return{};var r=jOe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function jOe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function NOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Oe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,LG(s.key),s)}}function COe(t,e,r){return e&&_Oe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SOe(t,e,r){return e=a1(e),BOe(t,DG()?Reflect.construct(e,r||[],a1(t).constructor):e.apply(t,r))}function BOe(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EOe(t)}function EOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!t})()}function a1(t){return a1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a1(t)}function kOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X3(t,e)}function X3(t,e){return X3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},X3(t,e)}function Dp(t){return FOe(t)||TOe(t)||MG(t)||POe()}function POe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(t,e){if(t){if(typeof t=="string")return Y3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y3(t,e)}}function TOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FOe(t){if(Array.isArray(t))return Y3(t)}function Y3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function QQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QQ(Object(r),!0).forEach(function(s){nr(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function nr(t,e,r){return e=LG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LG(t){var e=OOe(t,"string");return Ip(e)=="symbol"?e:e+""}function OOe(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IOe={xAxis:["bottom","top"],yAxis:["left","right"]},DOe={width:"100%",height:"100%"},RG={x:0,y:0};function sv(t){return t}var MOe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},LOe=function(e,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return it(it(it({},a),Sn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return it(it(it({},a),Sn(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return RG},k2=function(e,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Dp(l),Dp(d)):l},[]);return o.length>0?o:e&&e.length&&bt(a)&&bt(i)?e.slice(a,i+1):[]};function UG(t){return t==="number"?[0,"auto"]:void 0}var J3=function(e,r,s,a){var i=e.graphicalItems,o=e.tooltipAxis,l=k2(r,e);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=s&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var f=h===void 0?l:h;m=FB(f,o.dataKey,a)}else m=h&&h[s]||l[s];return m?[].concat(Dp(c),[FW(d,m)]):c},[])},$Q=function(e,r,s,a){var i=a||{x:e.chartX,y:e.chartY},o=MOe(i,s),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=wBe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,m=J3(e,r,u,h),f=LOe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:m,activeCoordinate:f}}return null},ROe=function(e,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=e.stackOffset,f=SW(u,i);return s.reduce(function(b,y){var g,x=y.type.defaultProps!==void 0?it(it({},y.type.defaultProps),y.props):y.props,v=x.type,j=x.dataKey,B=x.allowDataOverflow,C=x.allowDuplicatedCategory,E=x.scale,M=x.ticks,S=x.includeHidden,k=x[o];if(b[k])return b;var I=k2(e.data,{graphicalItems:a.filter(function(q){var U,te=o in q.props?q.props[o]:(U=q.type.defaultProps)===null||U===void 0?void 0:U[o];return te===k}),dataStartIndex:c,dataEndIndex:d}),_=I.length,T,D,L;uOe(x.domain,B,v)&&(T=A3(x.domain,null,B),f&&(v==="number"||E!=="auto")&&(L=E0(I,j,"category")));var V=UG(v);if(!T||T.length===0){var z,Z=(z=x.domain)!==null&&z!==void 0?z:V;if(j){if(T=E0(I,j,v),v==="category"&&f){var G=p2e(T);C&&G?(D=T,T=Kw(0,_)):C||(T=q8(Z,T,y).reduce(function(q,U){return q.indexOf(U)>=0?q:[].concat(Dp(q),[U])},[]))}else if(v==="category")C?T=T.filter(function(q){return q!==""&&!_r(q)}):T=q8(Z,T,y).reduce(function(q,U){return q.indexOf(U)>=0||U===""||_r(U)?q:[].concat(Dp(q),[U])},[]);else if(v==="number"){var H=SBe(I,a.filter(function(q){var U,te,X=o in q.props?q.props[o]:(U=q.type.defaultProps)===null||U===void 0?void 0:U[o],se="hide"in q.props?q.props.hide:(te=q.type.defaultProps)===null||te===void 0?void 0:te.hide;return X===k&&(S||!se)}),j,i,u);H&&(T=H)}f&&(v==="number"||E!=="auto")&&(L=E0(I,j,"category"))}else f?T=Kw(0,_):l&&l[k]&&l[k].hasStack&&v==="number"?T=m==="expand"?[0,1]:TW(l[k].stackGroups,c,d):T=CW(I,a.filter(function(q){var U=o in q.props?q.props[o]:q.type.defaultProps[o],te="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return U===k&&(S||!te)}),v,u,!0);if(v==="number")T=G3(h,T,k,i,M),Z&&(T=A3(Z,T,B));else if(v==="category"&&Z){var ee=Z,Y=T.every(function(q){return ee.indexOf(q)>=0});Y&&(T=ee)}}return it(it({},b),{},nr({},k,it(it({},x),{},{axisType:i,domain:T,categoricalDomain:L,duplicateDomain:D,originalDomain:(g=x.domain)!==null&&g!==void 0?g:V,isCategorical:f,layout:u})))},{})},UOe=function(e,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,m=k2(e.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),f=m.length,b=SW(u,i),y=-1;return s.reduce(function(g,x){var v=x.type.defaultProps!==void 0?it(it({},x.type.defaultProps),x.props):x.props,j=v[o],B=UG("number");if(!g[j]){y++;var C;return b?C=Kw(0,f):l&&l[j]&&l[j].hasStack?(C=TW(l[j].stackGroups,c,d),C=G3(h,C,j,i)):(C=A3(B,CW(m,s.filter(function(E){var M,S,k=o in E.props?E.props[o]:(M=E.type.defaultProps)===null||M===void 0?void 0:M[o],I="hide"in E.props?E.props.hide:(S=E.type.defaultProps)===null||S===void 0?void 0:S.hide;return k===j&&!I}),"number",u),a.defaultProps.allowDataOverflow),C=G3(h,C,j,i)),it(it({},g),{},nr({},j,it(it({axisType:i},a.defaultProps),{},{hide:!0,orientation:co(IOe,"".concat(i,".").concat(y%2),null),domain:C,originalDomain:B,isCategorical:b,layout:u})))}return g},{})},QOe=function(e,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),m=Go(u,i),f={};return m&&m.length?f=ROe(e,{axes:m,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(f=UOe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),f},$Oe=function(e){var r=Xu(e),s=_d(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:qk(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Iw(r,s)}},HQ=function(e){var r=e.children,s=e.defaultShowTooltip,a=so(r,Sp),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},HOe=function(e){return!e||!e.length?!1:e.some(function(r){var s=Sd(r&&r.type);return s&&s.indexOf("Bar")>=0})},qQ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qOe=function(e,r){var s=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,m=s.margin||{},f=so(h,Sp),b=so(h,JA),y=Object.keys(c).reduce(function(C,E){var M=c[E],S=M.orientation;return!M.mirror&&!M.hide?it(it({},C),{},nr({},S,C[S]+M.width)):C},{left:m.left||0,right:m.right||0}),g=Object.keys(o).reduce(function(C,E){var M=o[E],S=M.orientation;return!M.mirror&&!M.hide?it(it({},C),{},nr({},S,co(C,"".concat(S))+M.height)):C},{top:m.top||0,bottom:m.bottom||0}),x=it(it({},g),y),v=x.bottom;f&&(x.bottom+=f.props.height||Sp.defaultProps.height),b&&r&&(x=_Be(x,a,s,r));var j=d-x.left-x.right,B=u-x.top-x.bottom;return it(it({brushBottom:v},x),{},{width:Math.max(j,0),height:Math.max(B,0)})},zOe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},QG=function(e){var r=e.chartName,s=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,m=function(x,v){var j=v.graphicalItems,B=v.stackGroups,C=v.offset,E=v.updateId,M=v.dataStartIndex,S=v.dataEndIndex,k=x.barSize,I=x.layout,_=x.barGap,T=x.barCategoryGap,D=x.maxBarSize,L=qQ(I),V=L.numericAxisName,z=L.cateAxisName,Z=HOe(j),G=[];return j.forEach(function(H,ee){var Y=k2(x.data,{graphicalItems:[H],dataStartIndex:M,dataEndIndex:S}),q=H.type.defaultProps!==void 0?it(it({},H.type.defaultProps),H.props):H.props,U=q.dataKey,te=q.maxBarSize,X=q["".concat(V,"Id")],se=q["".concat(z,"Id")],fe={},me=c.reduce(function(Ze,Oe){var dt=v["".concat(Oe.axisType,"Map")],_t=q["".concat(Oe.axisType,"Id")];dt&&dt[_t]||Oe.axisType==="zAxis"||lm();var Ge=dt[_t];return it(it({},Ze),{},nr(nr({},Oe.axisType,Ge),"".concat(Oe.axisType,"Ticks"),_d(Ge)))},fe),pe=me[z],_e=me["".concat(z,"Ticks")],ge=B&&B[X]&&B[X].hasStack&&DBe(H,B[X].stackGroups),ye=Sd(H.type).indexOf("Bar")>=0,Ve=Iw(pe,_e),st=[],Ne=Z&&jBe({barSize:k,stackGroups:B,totalSize:zOe(me,z)});if(ye){var J,Me,Ie=_r(te)?D:te,le=(J=(Me=Iw(pe,_e,!0))!==null&&Me!==void 0?Me:Ie)!==null&&J!==void 0?J:0;st=NBe({barGap:_,barCategoryGap:T,bandSize:le!==Ve?le:Ve,sizeList:Ne[se],maxBarSize:Ie}),le!==Ve&&(st=st.map(function(Ze){return it(it({},Ze),{},{position:it(it({},Ze.position),{},{offset:Ze.position.offset-le/2})})}))}var Se=H&&H.type&&H.type.getComposedData;Se&&G.push({props:it(it({},Se(it(it({},me),{},{displayedData:Y,props:x,dataKey:U,item:H,bandSize:Ve,barPosition:st,offset:C,stackedData:ge,layout:I,dataStartIndex:M,dataEndIndex:S}))),{},nr(nr(nr({key:H.key||"item-".concat(ee)},V,me[V]),z,me[z]),"animationId",E)),childIndex:B2e(H,x.children),item:H})}),G},f=function(x,v){var j=x.props,B=x.dataStartIndex,C=x.dataEndIndex,E=x.updateId;if(!aL({props:j}))return null;var M=j.children,S=j.layout,k=j.stackOffset,I=j.data,_=j.reverseStackOrder,T=qQ(S),D=T.numericAxisName,L=T.cateAxisName,V=Go(M,s),z=OBe(I,V,"".concat(D,"Id"),"".concat(L,"Id"),k,_),Z=c.reduce(function(q,U){var te="".concat(U.axisType,"Map");return it(it({},q),{},nr({},te,QOe(j,it(it({},U),{},{graphicalItems:V,stackGroups:U.axisType===D&&z,dataStartIndex:B,dataEndIndex:C}))))},{}),G=qOe(it(it({},Z),{},{props:j,graphicalItems:V}),v?.legendBBox);Object.keys(Z).forEach(function(q){Z[q]=u(j,Z[q],G,q.replace("Map",""),r)});var H=Z["".concat(L,"Map")],ee=$Oe(H),Y=m(j,it(it({},Z),{},{dataStartIndex:B,dataEndIndex:C,updateId:E,graphicalItems:V,stackGroups:z,offset:G}));return it(it({formattedGraphicalItems:Y,graphicalItems:V,offset:G,stackGroups:z},ee),Z)},b=(function(g){function x(v){var j,B,C;return NOe(this,x),C=SOe(this,x,[v]),nr(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nr(C,"accessibilityManager",new dOe),nr(C,"handleLegendBBoxUpdate",function(E){if(E){var M=C.state,S=M.dataStartIndex,k=M.dataEndIndex,I=M.updateId;C.setState(it({legendBBox:E},f({props:C.props,dataStartIndex:S,dataEndIndex:k,updateId:I},it(it({},C.state),{},{legendBBox:E}))))}}),nr(C,"handleReceiveSyncEvent",function(E,M,S){if(C.props.syncId===E){if(S===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(M)}}),nr(C,"handleBrushChange",function(E){var M=E.startIndex,S=E.endIndex;if(M!==C.state.dataStartIndex||S!==C.state.dataEndIndex){var k=C.state.updateId;C.setState(function(){return it({dataStartIndex:M,dataEndIndex:S},f({props:C.props,dataStartIndex:M,dataEndIndex:S,updateId:k},C.state))}),C.triggerSyncEvent({dataStartIndex:M,dataEndIndex:S})}}),nr(C,"handleMouseEnter",function(E){var M=C.getMouseInfo(E);if(M){var S=it(it({},M),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var k=C.props.onMouseEnter;ur(k)&&k(S,E)}}),nr(C,"triggeredAfterMouseMove",function(E){var M=C.getMouseInfo(E),S=M?it(it({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var k=C.props.onMouseMove;ur(k)&&k(S,E)}),nr(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),nr(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),nr(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),nr(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};C.setState(M),C.triggerSyncEvent(M);var S=C.props.onMouseLeave;ur(S)&&S(M,E)}),nr(C,"handleOuterEvent",function(E){var M=S2e(E),S=co(C.props,"".concat(M));if(M&&ur(S)){var k,I;/.*touch.*/i.test(M)?I=C.getMouseInfo(E.changedTouches[0]):I=C.getMouseInfo(E),S((k=I)!==null&&k!==void 0?k:{},E)}}),nr(C,"handleClick",function(E){var M=C.getMouseInfo(E);if(M){var S=it(it({},M),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var k=C.props.onClick;ur(k)&&k(S,E)}}),nr(C,"handleMouseDown",function(E){var M=C.props.onMouseDown;if(ur(M)){var S=C.getMouseInfo(E);M(S,E)}}),nr(C,"handleMouseUp",function(E){var M=C.props.onMouseUp;if(ur(M)){var S=C.getMouseInfo(E);M(S,E)}}),nr(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),nr(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),nr(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),nr(C,"handleDoubleClick",function(E){var M=C.props.onDoubleClick;if(ur(M)){var S=C.getMouseInfo(E);M(S,E)}}),nr(C,"handleContextMenu",function(E){var M=C.props.onContextMenu;if(ur(M)){var S=C.getMouseInfo(E);M(S,E)}}),nr(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&z4.emit(V4,C.props.syncId,E,C.eventEmitterSymbol)}),nr(C,"applySyncEvent",function(E){var M=C.props,S=M.layout,k=M.syncMethod,I=C.state.updateId,_=E.dataStartIndex,T=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(it({dataStartIndex:_,dataEndIndex:T},f({props:C.props,dataStartIndex:_,dataEndIndex:T,updateId:I},C.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,L=E.chartY,V=E.activeTooltipIndex,z=C.state,Z=z.offset,G=z.tooltipTicks;if(!Z)return;if(typeof k=="function")V=k(G,E);else if(k==="value"){V=-1;for(var H=0;H<G.length;H++)if(G[H].value===E.activeLabel){V=H;break}}var ee=it(it({},Z),{},{x:Z.left,y:Z.top}),Y=Math.min(D,ee.x+ee.width),q=Math.min(L,ee.y+ee.height),U=G[V]&&G[V].value,te=J3(C.state,C.props.data,V),X=G[V]?{x:S==="horizontal"?G[V].coordinate:Y,y:S==="horizontal"?q:G[V].coordinate}:RG;C.setState(it(it({},E),{},{activeLabel:U,activeCoordinate:X,activePayload:te,activeTooltipIndex:V}))}else C.setState(E)}),nr(C,"renderCursor",function(E){var M,S=C.state,k=S.isTooltipActive,I=S.activeCoordinate,_=S.activePayload,T=S.offset,D=S.activeTooltipIndex,L=S.tooltipAxisBandSize,V=C.getTooltipEventType(),z=(M=E.props.active)!==null&&M!==void 0?M:k,Z=C.props.layout,G=E.key||"_recharts-cursor";return ke.createElement(gOe,{key:G,activeCoordinate:I,activePayload:_,activeTooltipIndex:D,chartName:r,element:E,isActive:z,layout:Z,offset:T,tooltipAxisBandSize:L,tooltipEventType:V})}),nr(C,"renderPolarAxis",function(E,M,S){var k=co(E,"type.axisType"),I=co(C.state,"".concat(k,"Map")),_=E.type.defaultProps,T=_!==void 0?it(it({},_),E.props):E.props,D=I&&I[T["".concat(k,"Id")]];return F.cloneElement(E,it(it({},D),{},{className:vr(k,D.className),key:E.key||"".concat(M,"-").concat(S),ticks:_d(D,!0)}))}),nr(C,"renderPolarGrid",function(E){var M=E.props,S=M.radialLines,k=M.polarAngles,I=M.polarRadius,_=C.state,T=_.radiusAxisMap,D=_.angleAxisMap,L=Xu(T),V=Xu(D),z=V.cx,Z=V.cy,G=V.innerRadius,H=V.outerRadius;return F.cloneElement(E,{polarAngles:Array.isArray(k)?k:_d(V,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(I)?I:_d(L,!0).map(function(ee){return ee.coordinate}),cx:z,cy:Z,innerRadius:G,outerRadius:H,key:E.key||"polar-grid",radialLines:S})}),nr(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,M=C.props,S=M.children,k=M.width,I=M.height,_=C.props.margin||{},T=k-(_.left||0)-(_.right||0),D=NW({children:S,formattedGraphicalItems:E,legendWidth:T,legendContent:d});if(!D)return null;var L=D.item,V=UQ(D,xOe);return F.cloneElement(L,it(it({},V),{},{chartWidth:k,chartHeight:I,margin:_,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),nr(C,"renderTooltip",function(){var E,M=C.props,S=M.children,k=M.accessibilityLayer,I=so(S,Mo);if(!I)return null;var _=C.state,T=_.isTooltipActive,D=_.activeCoordinate,L=_.activePayload,V=_.activeLabel,z=_.offset,Z=(E=I.props.active)!==null&&E!==void 0?E:T;return F.cloneElement(I,{viewBox:it(it({},z),{},{x:z.left,y:z.top}),active:Z,label:V,payload:Z?L:[],coordinate:D,accessibilityLayer:k})}),nr(C,"renderBrush",function(E){var M=C.props,S=M.margin,k=M.data,I=C.state,_=I.offset,T=I.dataStartIndex,D=I.dataEndIndex,L=I.updateId;return F.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Zb(C.handleBrushChange,E.props.onChange),data:k,x:bt(E.props.x)?E.props.x:_.left,y:bt(E.props.y)?E.props.y:_.top+_.height+_.brushBottom-(S.bottom||0),width:bt(E.props.width)?E.props.width:_.width,startIndex:T,endIndex:D,updateId:"brush-".concat(L)})}),nr(C,"renderReferenceElement",function(E,M,S){if(!E)return null;var k=C,I=k.clipPathId,_=C.state,T=_.xAxisMap,D=_.yAxisMap,L=_.offset,V=E.type.defaultProps||{},z=E.props,Z=z.xAxisId,G=Z===void 0?V.xAxisId:Z,H=z.yAxisId,ee=H===void 0?V.yAxisId:H;return F.cloneElement(E,{key:E.key||"".concat(M,"-").concat(S),xAxis:T[G],yAxis:D[ee],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:I})}),nr(C,"renderActivePoints",function(E){var M=E.item,S=E.activePoint,k=E.basePoint,I=E.childIndex,_=E.isRange,T=[],D=M.props.key,L=M.item.type.defaultProps!==void 0?it(it({},M.item.type.defaultProps),M.item.props):M.item.props,V=L.activeDot,z=L.dataKey,Z=it(it({index:I,dataKey:z,cx:S.x,cy:S.y,r:4,fill:g6(M.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},lr(V,!1)),uw(V));return T.push(x.renderActiveDot(V,Z,"".concat(D,"-activePoint-").concat(I))),k?T.push(x.renderActiveDot(V,it(it({},Z),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(I))):_&&T.push(null),T}),nr(C,"renderGraphicChild",function(E,M,S){var k=C.filterFormatItem(E,M,S);if(!k)return null;var I=C.getTooltipEventType(),_=C.state,T=_.isTooltipActive,D=_.tooltipAxis,L=_.activeTooltipIndex,V=_.activeLabel,z=C.props.children,Z=so(z,Mo),G=k.props,H=G.points,ee=G.isRange,Y=G.baseLine,q=k.item.type.defaultProps!==void 0?it(it({},k.item.type.defaultProps),k.item.props):k.item.props,U=q.activeDot,te=q.hide,X=q.activeBar,se=q.activeShape,fe=!!(!te&&T&&Z&&(U||X||se)),me={};I!=="axis"&&Z&&Z.props.trigger==="click"?me={onClick:Zb(C.handleItemMouseEnter,E.props.onClick)}:I!=="axis"&&(me={onMouseLeave:Zb(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Zb(C.handleItemMouseEnter,E.props.onMouseEnter)});var pe=F.cloneElement(E,it(it({},k.props),me));function _e(Oe){return typeof D.dataKey=="function"?D.dataKey(Oe.payload):null}if(fe)if(L>=0){var ge,ye;if(D.dataKey&&!D.allowDuplicatedCategory){var Ve=typeof D.dataKey=="function"?_e:"payload.".concat(D.dataKey.toString());ge=FB(H,Ve,V),ye=ee&&Y&&FB(Y,Ve,V)}else ge=H?.[L],ye=ee&&Y&&Y[L];if(se||X){var st=E.props.activeIndex!==void 0?E.props.activeIndex:L;return[F.cloneElement(E,it(it(it({},k.props),me),{},{activeIndex:st})),null,null]}if(!_r(ge))return[pe].concat(Dp(C.renderActivePoints({item:k,activePoint:ge,basePoint:ye,childIndex:L,isRange:ee})))}else{var Ne,J=(Ne=C.getItemByXY(C.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:pe},Me=J.graphicalItem,Ie=Me.item,le=Ie===void 0?E:Ie,Se=Me.childIndex,Ze=it(it(it({},k.props),me),{},{activeIndex:Se});return[F.cloneElement(le,Ze),null,null]}return ee?[pe,null,null]:[pe,null]}),nr(C,"renderCustomized",function(E,M,S){return F.cloneElement(E,it(it({key:"recharts-customized-".concat(S)},C.props),C.state))}),nr(C,"renderMap",{CartesianGrid:{handler:sv,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:sv},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:sv},YAxis:{handler:sv},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=v.id)!==null&&j!==void 0?j:ry("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=jK(C.triggeredAfterMouseMove,(B=v.throttleDelay)!==null&&B!==void 0?B:1e3/60),C.state={},C}return kOe(x,g),COe(x,[{key:"componentDidMount",value:function(){var j,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,B=j.children,C=j.data,E=j.height,M=j.layout,S=so(B,Mo);if(S){var k=S.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,_=J3(this.state,C,k,I),T=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+E)/2,L=M==="horizontal",V=L?{x:T,y:D}:{y:T,x:D},z=this.state.formattedGraphicalItems.find(function(G){var H=G.item;return H.type.name==="Scatter"});z&&(V=it(it({},V),z.props.points[k].tooltipPosition),_=z.props.points[k].tooltipPayload);var Z={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:I,activePayload:_,activeCoordinate:V};this.setState(Z),this.renderCursor(S),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(j){IB([so(j.children,Mo)],[so(this.props.children,Mo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=so(this.props.children,Mo);if(j&&typeof j.props.shared=="boolean"){var B=j.props.shared?"axis":"item";return l.indexOf(B)>=0?B:i}return i}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var B=this.container,C=B.getBoundingClientRect(),E=m5e(C),M={chartX:Math.round(j.pageX-E.left),chartY:Math.round(j.pageY-E.top)},S=C.width/B.offsetWidth||1,k=this.inRange(M.chartX,M.chartY,S);if(!k)return null;var I=this.state,_=I.xAxisMap,T=I.yAxisMap,D=this.getTooltipEventType(),L=$Q(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&_&&T){var V=Xu(_).scale,z=Xu(T).scale,Z=V&&V.invert?V.invert(M.chartX):null,G=z&&z.invert?z.invert(M.chartY):null;return it(it({},M),{},{xValue:Z,yValue:G},L)}return L?it(it({},M),L):null}},{key:"inRange",value:function(j,B){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,M=j/C,S=B/C;if(E==="horizontal"||E==="vertical"){var k=this.state.offset,I=M>=k.left&&M<=k.left+k.width&&S>=k.top&&S<=k.top+k.height;return I?{x:M,y:S}:null}var _=this.state,T=_.angleAxisMap,D=_.radiusAxisMap;if(T&&D){var L=Xu(T);return K8({x:M,y:S},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,B=this.getTooltipEventType(),C=so(j,Mo),E={};C&&B==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=uw(this.props,this.handleOuterEvent);return it(it({},M),E)}},{key:"addListener",value:function(){z4.on(V4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){z4.removeListener(V4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,B,C){for(var E=this.state.formattedGraphicalItems,M=0,S=E.length;M<S;M++){var k=E[M];if(k.item===j||k.props.key===j.key||B===Sd(k.item.type)&&C===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,B=this.state.offset,C=B.left,E=B.top,M=B.height,S=B.width;return ke.createElement("defs",null,ke.createElement("clipPath",{id:j},ke.createElement("rect",{x:C,y:E,height:M,width:S})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(B,C){var E=RQ(C,2),M=E[0],S=E[1];return it(it({},B),{},nr({},M,S.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(B,C){var E=RQ(C,2),M=E[0],S=E[1];return it(it({},B),{},nr({},M,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[j])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(j){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[j])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(j){var B=this.state,C=B.formattedGraphicalItems,E=B.activeItem;if(C&&C.length)for(var M=0,S=C.length;M<S;M++){var k=C[M],I=k.props,_=k.item,T=_.type.defaultProps!==void 0?it(it({},_.type.defaultProps),_.props):_.props,D=Sd(_.type);if(D==="Bar"){var L=(I.data||[]).find(function(G){return Tke(j,G)});if(L)return{graphicalItem:k,payload:L}}else if(D==="RadialBar"){var V=(I.data||[]).find(function(G){return K8(j,G)});if(V)return{graphicalItem:k,payload:V}}else if(j2(k,E)||N2(k,E)||Ox(k,E)){var z=tPe({graphicalItem:k,activeTooltipItem:E,itemData:T.data}),Z=T.activeIndex===void 0?z:T.activeIndex;return{graphicalItem:it(it({},k),{},{childIndex:Z}),payload:Ox(k,E)?T.data[z]:k.props.data[z]}}}return null}},{key:"render",value:function(){var j=this;if(!aL(this))return null;var B=this.props,C=B.children,E=B.className,M=B.width,S=B.height,k=B.style,I=B.compact,_=B.title,T=B.desc,D=UQ(B,yOe),L=lr(D,!1);if(I)return ke.createElement(jQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement(MB,Uf({},L,{width:M,height:S,title:_,desc:T}),this.renderClipPath(),oL(C,this.renderMap)));if(this.props.accessibilityLayer){var V,z;L.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,L.role=(z=this.props.role)!==null&&z!==void 0?z:"application",L.onKeyDown=function(G){j.accessibilityManager.keyboardEvent(G)},L.onFocus=function(){j.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return ke.createElement(jQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement("div",Uf({className:vr("recharts-wrapper",E),style:it({position:"relative",cursor:"default",width:M,height:S},k)},Z,{ref:function(H){j.container=H}}),ke.createElement(MB,Uf({},L,{width:M,height:S,title:_,desc:T,style:DOe}),this.renderClipPath(),oL(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(F.Component);nr(b,"displayName",r),nr(b,"defaultProps",it({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),nr(b,"getDerivedStateFromProps",function(g,x){var v=g.dataKey,j=g.data,B=g.children,C=g.width,E=g.height,M=g.layout,S=g.stackOffset,k=g.margin,I=x.dataStartIndex,_=x.dataEndIndex;if(x.updateId===void 0){var T=HQ(g);return it(it(it({},T),{},{updateId:0},f(it(it({props:g},T),{},{updateId:0}),x)),{},{prevDataKey:v,prevData:j,prevWidth:C,prevHeight:E,prevLayout:M,prevStackOffset:S,prevMargin:k,prevChildren:B})}if(v!==x.prevDataKey||j!==x.prevData||C!==x.prevWidth||E!==x.prevHeight||M!==x.prevLayout||S!==x.prevStackOffset||!np(k,x.prevMargin)){var D=HQ(g),L={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},V=it(it({},$Q(x,j,M)),{},{updateId:x.updateId+1}),z=it(it(it({},D),L),V);return it(it(it({},z),f(it({props:g},z),x)),{},{prevDataKey:v,prevData:j,prevWidth:C,prevHeight:E,prevLayout:M,prevStackOffset:S,prevMargin:k,prevChildren:B})}if(!IB(B,x.prevChildren)){var Z,G,H,ee,Y=so(B,Sp),q=Y&&(Z=(G=Y.props)===null||G===void 0?void 0:G.startIndex)!==null&&Z!==void 0?Z:I,U=Y&&(H=(ee=Y.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&H!==void 0?H:_,te=q!==I||U!==_,X=!_r(j),se=X&&!te?x.updateId:x.updateId+1;return it(it({updateId:se},f(it(it({props:g},x),{},{updateId:se,dataStartIndex:q,dataEndIndex:U}),x)),{},{prevChildren:B,dataStartIndex:q,dataEndIndex:U})}return null}),nr(b,"renderActiveDot",function(g,x,v){var j;return F.isValidElement(g)?j=F.cloneElement(g,x):ur(g)?j=g(x):j=ke.createElement(y6,x),ke.createElement(dn,{className:"recharts-active-dot",key:v},j)});var y=F.forwardRef(function(x,v){return ke.createElement(b,Uf({},x,{ref:v}))});return y.displayName=b.displayName,y},$G=QG({chartName:"BarChart",GraphicalChild:Rd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:cy},{axisType:"yAxis",AxisComp:dy}],formatAxisMap:sTe}),VOe=QG({chartName:"PieChart",GraphicalChild:Vd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:w2},{axisType:"radiusAxis",AxisComp:b2}],formatAxisMap:VBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zQ=({data:t,title:e,subtitle:r,onSegmentClick:s})=>{const[a,i]=F.useState(null),o=(u,h)=>{i(h)},l=()=>{i(null)},c=(u,h)=>{s&&s(h)},d=({active:u,payload:h})=>u&&h&&h.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:h[0].name}),n.jsxs("p",{className:"text-sm",style:{color:h[0].payload.color},children:[h[0].value,"%"]})]}):null;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600 text-center",children:r})]}),n.jsx("div",{className:"h-48 flex items-center justify-center",children:n.jsx(Vk,{width:"100%",height:"100%",children:n.jsxs(VOe,{children:[n.jsx(Vd,{data:t,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",animationDuration:300,animationBegin:0,onMouseEnter:o,onMouseLeave:l,onClick:c,children:t.map((u,h)=>n.jsx(sy,{fill:u.color,stroke:u.color,style:{filter:a===h?"drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.2))":"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",opacity:a===null||a===h?1:.7,cursor:"pointer",transition:"all 0.3s ease"}},`cell-${h}`))}),n.jsx(Mo,{content:n.jsx(d,{})})]})})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.map((u,h)=>n.jsxs(ue.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-1 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(u,h),onMouseEnter:()=>o(u,h),onMouseLeave:l,children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:u.name})}),n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[u.value,"%"]})]},u.name))})]})},KOe=({data:t,title:e,subtitle:r,prefix:s="",suffix:a="",onBarClick:i})=>{const o=({active:c,payload:d,label:u})=>c&&d&&d.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:u}),n.jsxs("p",{className:"text-sm",style:{color:d[0].payload.color},children:[s,d[0].value,a]})]}):null,l=(c,d)=>{i&&i(d)};return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsxs("div",{className:"text-center w-full",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600",children:r})]})}),n.jsx("div",{className:"h-64",children:n.jsx(Vk,{width:"100%",height:"100%",children:n.jsxs($G,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[n.jsx(E6,{strokeDasharray:"3 3",opacity:.1}),n.jsx(cy,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),n.jsx(dy,{tick:{fontSize:10},width:30}),n.jsx(Mo,{content:n.jsx(o,{})}),n.jsx(Rd,{dataKey:"value",animationDuration:300,animationBegin:0,label:{position:"top",fill:"#6b7280",fontSize:10,formatter:c=>`${s}${c}${a}`},onClick:l,children:t.map((c,d)=>n.jsx(sy,{fill:c.color,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",cursor:"pointer"}},`cell-${d}`))})]})})})]})},WOe=({data:t,title:e,subtitle:r,metricType:s,onMetricChange:a,onBarClick:i})=>{const o=({active:d,payload:u,label:h})=>d&&u&&u.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:h}),u.map((m,f)=>n.jsxs("p",{className:"text-sm",style:{color:m.color},children:[m.name,": ",m.value,"%"]},f))]}):null,l=(d,u)=>{i&&i(u)},c=[{value:"productivity",label:"Produtividade"},{value:"efficiency",label:"Eficiência"},{value:"quality",label:"Qualidade"},{value:"satisfaction",label:"Satisfação"}];return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600 text-center",children:r}),n.jsx("select",{value:s,onChange:d=>a(d.target.value),className:"mt-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:c.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))})]}),n.jsx("div",{className:"h-64",children:n.jsx(Vk,{width:"100%",height:"100%",children:n.jsxs($G,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[n.jsx(E6,{strokeDasharray:"3 3",opacity:.1}),n.jsx(cy,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),n.jsx(dy,{domain:[0,100],tick:{fontSize:10},width:30}),n.jsx(Mo,{content:n.jsx(o,{})}),n.jsx(JA,{wrapperStyle:{fontSize:"10px"}}),n.jsx(Rd,{name:"Atual",dataKey:"current",fill:"#3b82f6",animationDuration:300,animationBegin:0,radius:[4,4,0,0],onClick:l}),n.jsx(Rd,{name:"Anterior",dataKey:"previous",fill:"#93c5fd",animationDuration:300,animationBegin:150,radius:[4,4,0,0],onClick:l})]})})})]})},GOe=({id:t,name:e,color:r,metrics:s,performance:a,isSelected:i,onClick:o})=>n.jsx(ue.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${i?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:o,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:r},children:n.jsx("span",{className:"text-xs font-bold text-white",children:e.charAt(0)})})}),n.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:e}),n.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[a.change>0?n.jsx(Hf,{className:"h-3 w-3 text-green-500"}):a.change<0?n.jsx(u1,{className:"h-3 w-3 text-red-500"}):null,n.jsxs("span",{className:`text-sm font-medium ${a.change>0?"text-green-600":a.change<0?"text-red-600":"text-gray-600"}`,children:[a.change>0?"+":"",a.change,"%"]})]}),n.jsx("div",{className:"w-full mb-2",children:n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full",style:{width:`${a.current}%`,backgroundColor:r}})})}),n.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-500",children:[n.jsxs("span",{children:["Prod: ",s.productivity,"%"]}),n.jsxs("span",{children:["Qual: ",s.quality,"%"]})]})]})}),XOe=({alerts:t,departments:e,onResolve:r,onEscalate:s,onIgnore:a})=>{const[i,o]=F.useState("severity"),[l,c]=F.useState("all"),[d,u]=F.useState([]),[h,m]=F.useState(null),[f,b]=F.useState(""),[y,g]=F.useState(null),[x,v]=F.useState(""),[j,B]=F.useState("medium"),C=[{id:"1",name:"João Silva",department:"operations",role:"Supervisor"},{id:"2",name:"Maria Santos",department:"operations",role:"Técnico"},{id:"3",name:"Carlos Oliveira",department:"technical",role:"Técnico Sênior"},{id:"4",name:"Ana Pereira",department:"technical",role:"Técnico"},{id:"5",name:"Pedro Costa",department:"commercial",role:"Gerente"},{id:"6",name:"Lúcia Ferreira",department:"financial",role:"Analista"},{id:"7",name:"Roberto Almeida",department:"administrative",role:"Coordenador"}],E=L=>{switch(L){case"low":return"#f59e0b";case"medium":return"#f97316";case"high":return"#ef4444";default:return"#6b7280"}},M=L=>{switch(L){case"low":return n.jsx(tr,{className:"h-4 w-4"});case"medium":return n.jsx(un,{className:"h-4 w-4"});case"high":return n.jsx(Et,{className:"h-4 w-4"});default:return null}},S=L=>new Date(L).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),k=L=>{u(V=>V.includes(L)?V.filter(z=>z!==L):[...V,L])},I=L=>{m(L)},_=()=>{!h||!y||!x||(console.log("Creating task for employee:",y),console.log("Due date:",x),console.log("Priority:",j),s(h),m(null),g(null),v(""),B("medium"))},T=C.filter(L=>L.name.toLowerCase().includes(f.toLowerCase())||L.department.toLowerCase().includes(f.toLowerCase())||L.role.toLowerCase().includes(f.toLowerCase())),D=[...t].filter(L=>l==="all"||L.departmentId===l).sort((L,V)=>{if(i==="date")return new Date(V.timestamp).getTime()-new Date(L.timestamp).getTime();{const z={high:0,medium:1,low:2};return z[L.severity]-z[V.severity]}});return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),n.jsxs("select",{value:i,onChange:L=>o(L.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"severity",children:"Severidade"}),n.jsx("option",{value:"date",children:"Data"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Departamento:"}),n.jsxs("select",{value:l,onChange:L=>c(L.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"all",children:"Todos"}),e.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),n.jsx("div",{className:"space-y-3",children:D.length>0?D.map(L=>{const V=e.find(Z=>Z.id===L.departmentId),z=d.includes(L.id);return n.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>k(L.id),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${E(L.severity)}20`},children:M(L.severity)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-base",children:L.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:S(L.timestamp)}),n.jsx(ue.div,{animate:{rotate:z?180:0},transition:{duration:.3},children:n.jsx(oo,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${E(L.severity)}20`,color:E(L.severity)},children:L.severity==="low"?"Baixa":L.severity==="medium"?"Média":"Alta"}),V&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:V.color}}),n.jsx("span",{className:"text-xs text-gray-500",children:V.name})]}),L.status==="new"&&n.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Novo"})]})]})]})}),n.jsx(Nt,{children:z&&n.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-4 bg-gray-50",children:[n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:L.description}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[n.jsxs("button",{onClick:()=>r(L.id),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(mn,{className:"h-4 w-4"}),n.jsx("span",{children:"Resolver"})]}),n.jsxs("button",{onClick:()=>I(L.id),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(h1,{className:"h-4 w-4"}),n.jsx("span",{children:"Escalar"})]}),n.jsxs("button",{onClick:()=>a(L.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(rr,{className:"h-4 w-4"}),n.jsx("span",{children:"Ignorar"})]})]})]})})})]},L.id)}):n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(mn,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"Não há alertas para exibir com os filtros atuais"})]})}),n.jsx(Nt,{children:h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escalar Alerta"}),n.jsx("button",{onClick:()=>m(null),children:n.jsx(Et,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsável"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",value:f,onChange:L=>b(L.target.value),placeholder:"Buscar por nome ou setor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:T.length>0?n.jsx("div",{className:"divide-y divide-gray-200",children:T.map(L=>n.jsx("div",{onClick:()=>g(L.id),className:`p-3 cursor-pointer transition-colors ${y===L.id?"bg-blue-50":"hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[L.avatar?n.jsx("img",{src:L.avatar,alt:L.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx(nn,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:L.name}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("span",{children:L.role}),n.jsx("span",{children:"•"}),n.jsx("span",{children:e.find(V=>V.id===L.department)?.name||L.department})]})]})]})},L.id))}):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum funcionário encontrado"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:x,onChange:L=>v(L.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>B("low"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${j==="low"?"bg-green-50 border-green-300 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(uv,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixa"})]}),n.jsxs("button",{type:"button",onClick:()=>B("medium"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${j==="medium"?"bg-yellow-50 border-yellow-300 text-yellow-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(uv,{className:"h-4 w-4"}),n.jsx("span",{children:"Média"})]}),n.jsxs("button",{type:"button",onClick:()=>B("high"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${j==="high"?"bg-red-50 border-red-300 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(uv,{className:"h-4 w-4"}),n.jsx("span",{children:"Alta"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(tr,{className:"h-4 w-4 text-blue-500"}),n.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Tarefa será criada na agenda"})]}),n.jsx("p",{className:"text-xs text-blue-600",children:"Uma tarefa será automaticamente criada na agenda do responsável selecionado com o prazo e prioridade definidos."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>m(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:_,disabled:!y||!x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Escalar Alerta"})]})]})]})})]})},YOe=()=>{const t=F.useRef(null),[e,r]=F.useState("all"),[s,a]=F.useState("month"),[i,o]=F.useState("productivity"),[l,c]=F.useState(!1),[d,u]=F.useState(new Date),[h,m]=F.useState(!1),[f,b]=F.useState(!1),[y,g]=F.useState(!1),[x,v]=F.useState("pdf"),[j,B]=F.useState(""),[C,E]=F.useState("weekly"),[M,S]=F.useState([{id:"1",name:"Relatório Semanal de Desempenho",frequency:"weekly",format:"pdf",recipients:["admin@example.com"],nextDate:"2024-01-25"}]),[k,I]=F.useState(!1),[_,T]=F.useState(0),D=[{id:"operations",name:"Operacional",color:"#3b82f6",metrics:{productivity:87,efficiency:82,quality:90,satisfaction:85},performance:{current:87,previous:82,change:5}},{id:"commercial",name:"Comercial",color:"#10b981",metrics:{productivity:92,efficiency:88,quality:85,satisfaction:91},performance:{current:92,previous:89,change:3}},{id:"financial",name:"Financeiro",color:"#8b5cf6",metrics:{productivity:95,efficiency:93,quality:97,satisfaction:89},performance:{current:95,previous:92,change:3}},{id:"administrative",name:"Administrativo",color:"#f59e0b",metrics:{productivity:89,efficiency:91,quality:93,satisfaction:88},performance:{current:89,previous:90,change:-1}},{id:"technical",name:"Técnico",color:"#ef4444",metrics:{productivity:83,efficiency:85,quality:88,satisfaction:82},performance:{current:83,previous:80,change:3}}],L=[{id:"alert1",departmentId:"operations",title:"Queda na produtividade",description:"A produtividade do departamento operacional caiu 5% nas últimas 24 horas.",timestamp:"2024-01-15T10:30:00",severity:"medium",status:"new"},{id:"alert2",departmentId:"technical",title:"Atraso em atendimentos",description:"O tempo médio de atendimento está acima da meta estabelecida.",timestamp:"2024-01-15T09:15:00",severity:"high",status:"new"},{id:"alert3",departmentId:"commercial",title:"Meta de vendas atingida",description:"O departamento comercial atingiu 100% da meta mensal antes do prazo.",timestamp:"2024-01-14T16:45:00",severity:"low",status:"viewed"}],V=()=>[{name:"Instalações",value:35,color:"#3b82f6"},{name:"Manutenções",value:40,color:"#10b981"},{name:"Reparos",value:25,color:"#f59e0b"}],z=()=>[{name:"1ª Visita",value:65,color:"#10b981"},{name:"2ª Visita",value:25,color:"#f59e0b"},{name:"3+ Visitas",value:10,color:"#ef4444"}],Z=()=>[{name:"Carlos",value:92,color:"#3b82f6"},{name:"Ana",value:88,color:"#8b5cf6"},{name:"Pedro",value:85,color:"#10b981"},{name:"Maria",value:91,color:"#f59e0b"},{name:"João",value:78,color:"#ef4444"}],G=()=>D.map(fe=>({name:fe.name,current:fe.metrics[i],previous:fe.metrics[i]-(Math.random()*10-5),color:fe.color})),H=()=>{c(!0),setTimeout(()=>{u(new Date),c(!1)},1e3)},ee=fe=>{console.log("Resolvendo alerta:",fe)},Y=fe=>{console.log("Escalando alerta:",fe)},q=fe=>{console.log("Ignorando alerta:",fe)},U=async()=>{if(t.current){b(!0),I(!0),T(10);try{const fe=setInterval(()=>{T(Ve=>Ve>=90?(clearInterval(fe),90):Ve+10)},300),me=await sk(t.current,{scale:1,useCORS:!0,logging:!1});T(95);const pe=me.toDataURL("image/png"),_e=new Kt({orientation:"portrait",unit:"mm",format:"a4"});_e.setFillColor(59,130,246),_e.rect(0,0,_e.internal.pageSize.width,20,"F"),_e.setTextColor(255,255,255),_e.setFontSize(14),_e.text("Dashboard Departamental - GiarTech",10,10),_e.setFontSize(10),_e.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const ge=_e.internal.pageSize.width,ye=me.height*ge/me.width;_e.addImage(pe,"PNG",0,25,ge,ye),_e.save("dashboard-departamental.pdf"),T(100),setTimeout(()=>{b(!1),I(!1),T(0)},1e3)}catch(fe){console.error("Erro ao gerar PDF:",fe),b(!1),I(!1),alert("Erro ao gerar PDF. Tente novamente.")}}},te=()=>{I(!0),T(10);const fe=setInterval(()=>{T(me=>me>=90?(clearInterval(fe),90):me+10)},200);setTimeout(()=>{T(100),alert("Relatório Excel gerado com sucesso!"),setTimeout(()=>{I(!1),T(0)},1e3)},1500)},X=()=>{I(!0),T(50),setTimeout(()=>{T(100),window.print(),setTimeout(()=>{I(!1),T(0)},1e3)},1e3)},se=()=>{if(!j){alert("Por favor, informe pelo menos um destinatário");return}const fe=j.split(",").map(_e=>_e.trim()),me=new Date;C==="daily"?me.setDate(me.getDate()+1):C==="weekly"?me.setDate(me.getDate()+7):me.setMonth(me.getMonth()+1);const pe={id:Date.now().toString(),name:`Relatório ${C==="daily"?"Diário":C==="weekly"?"Semanal":"Mensal"} - ${e==="all"?"Todos Departamentos":D.find(_e=>_e.id===e)?.name}`,frequency:C,format:x,recipients:fe,nextDate:me.toISOString().split("T")[0]};S([...M,pe]),g(!1),B(""),alert("Relatório agendado com sucesso!")};return n.jsxs("div",{ref:t,className:"space-y-6",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center md:text-left",children:"Dashboard Departamental"}),n.jsx("p",{className:"text-gray-600 text-center md:text-left",children:"Análise de desempenho por departamento"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Período:"}),n.jsxs("select",{value:s,onChange:fe=>a(fe.target.value),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"day",children:"Hoje"}),n.jsx("option",{value:"week",children:"Esta Semana"}),n.jsx("option",{value:"month",children:"Este Mês"}),n.jsx("option",{value:"quarter",children:"Este Trimestre"})]})]}),n.jsxs("button",{onClick:H,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(zs,{className:`h-4 w-4 ${l?"animate-spin":""}`}),n.jsx("span",{children:"Atualizar"})]}),n.jsxs("button",{onClick:()=>m(!h),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${h?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[n.jsx(un,{className:"h-4 w-4"}),n.jsx("span",{children:"Alertas"}),n.jsx("div",{className:"w-5 h-5 bg-white text-yellow-700 rounded-full flex items-center justify-center text-xs font-bold",children:L.length})]})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["Última atualização: ",d.toLocaleString("pt-BR")]})]}),n.jsx(Nt,{children:h&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas"}),n.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:n.jsx(Et,{className:"h-5 w-5"})})]}),n.jsx(XOe,{alerts:L,departments:D,onResolve:ee,onEscalate:Y,onIgnore:q})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Departamentos"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(ue.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${e==="all"?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:()=>r("all"),children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-2",children:n.jsx(Zt,{className:"h-4 w-4 text-white"})}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Todos"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Visão Geral"}),n.jsx("div",{className:"mt-2 w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"90%"}})}),n.jsxs("div",{className:"flex justify-between w-full mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Performance"}),n.jsx("span",{className:"text-xs font-medium text-gray-900",children:"90%"})]})]})}),D.map(fe=>n.jsx(GOe,{id:fe.id,name:fe.name,color:fe.color,metrics:fe.metrics,performance:fe.performance,isSelected:e===fe.id,onClick:()=>r(fe.id)},fe.id))]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Produtividade",value:e==="all"?"89%":`${D.find(fe=>fe.id===e)?.metrics.productivity||0}%`,change:"+3.5%",icon:ho,color:"from-blue-500 to-blue-600"},{title:"Eficiência",value:e==="all"?"87%":`${D.find(fe=>fe.id===e)?.metrics.efficiency||0}%`,change:"+2.1%",icon:Or,color:"from-green-500 to-green-600"},{title:"Qualidade",value:e==="all"?"91%":`${D.find(fe=>fe.id===e)?.metrics.quality||0}%`,change:"+4.2%",icon:Na,color:"from-purple-500 to-purple-600"},{title:"Satisfação",value:e==="all"?"87%":`${D.find(fe=>fe.id===e)?.metrics.satisfaction||0}%`,change:"+1.8%",icon:Es,color:"from-amber-500 to-amber-600"}].map((fe,me)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:me*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${fe.color} rounded-lg flex items-center justify-center`,children:n.jsx(fe.icon,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Hf,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600",children:fe.change})]})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:fe.value}),n.jsx("p",{className:"text-sm text-gray-600",children:fe.title})]},fe.title))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(zQ,{data:V(),title:"Tipo de Serviço",subtitle:"Distribuição por categoria"}),n.jsx(zQ,{data:z(),title:"Taxa de Resolução",subtitle:"Resolução por número de visitas"}),n.jsx(KOe,{data:Z(),title:"Desempenho de Técnicos",subtitle:"Produtividade individual",suffix:"%"}),n.jsx(WOe,{data:G(),title:"Comparação de Departamentos",subtitle:"Atual vs. Período Anterior",metricType:i,onMetricChange:fe=>o(fe)})]}),e==="operations"||e==="all"?n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Métricas Operacionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Tempo Médio de Atendimento"}),n.jsx(tr,{className:"h-5 w-5 text-blue-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"1h 45m"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(u1,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"-12%"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 2h 00m"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Atendimentos Realizados"}),n.jsx(Es,{className:"h-5 w-5 text-green-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:"248"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Hf,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"+8%"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 230"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Satisfação do Cliente"}),n.jsx(Na,{className:"h-5 w-5 text-purple-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"4.8"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Hf,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"+0.2"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 4.5"})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atendimentos por Tipo"}),n.jsx("div",{className:"space-y-3",children:[{label:"Instalações",value:87,total:95,color:"#3b82f6"},{label:"Manutenções Preventivas",value:102,total:110,color:"#10b981"},{label:"Reparos/Corretivas",value:59,total:65,color:"#f59e0b"}].map(fe=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-700",children:fe.label}),n.jsxs("span",{className:"font-medium text-gray-900",children:[fe.value,"/",fe.total]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full",style:{width:`${fe.value/fe.total*100}%`,backgroundColor:fe.color}})})]},fe.label))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Produtividade por Equipe"}),n.jsx("div",{className:"space-y-3",children:[{label:"Equipe A",value:92,color:"#3b82f6"},{label:"Equipe B",value:87,color:"#10b981"},{label:"Equipe C",value:78,color:"#f59e0b"},{label:"Equipe D",value:85,color:"#8b5cf6"}].map(fe=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-700",children:fe.label}),n.jsxs("span",{className:"font-medium text-gray-900",children:[fe.value,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full",style:{width:`${fe.value}%`,backgroundColor:fe.color}})})]},fe.label))})]})]})]}):null,n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Relatórios"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:U,disabled:f,className:"p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors flex flex-col items-center justify-center space-y-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(vt,{className:"h-8 w-8 text-red-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Baixar PDF"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Relatório completo em PDF"})]}),n.jsxs("button",{onClick:te,className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(vt,{className:"h-8 w-8 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Exportar Excel"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Dados em formato Excel"})]}),n.jsxs("button",{onClick:X,className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(ph,{className:"h-8 w-8 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Imprimir"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Versão para impressão"})]}),n.jsxs("button",{onClick:()=>g(!0),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(kr,{className:"h-8 w-8 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Agendar"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Envio automático por email"})]})]}),M.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Relatórios Agendados"}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequência"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Próximo Envio"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(fe=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:fe.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:fe.frequency==="daily"?"Diário":fe.frequency==="weekly"?"Semanal":"Mensal"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:fe.format.toUpperCase()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(fe.nextDate).toLocaleDateString("pt-BR")})]},fe.id))})]})})]})]}),n.jsx(Nt,{children:k&&n.jsxs(ue.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatório"}),_===100&&n.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[_<100?n.jsx(Qp,{className:"h-5 w-5 text-blue-500 animate-spin"}):n.jsx(Es,{className:"h-5 w-5 text-green-500"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${_}%`}})})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[_,"%"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:_<100?"Processando dados e gerando relatório...":"Relatório gerado com sucesso!"})]})}),n.jsx(Nt,{children:y&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendar Relatório"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência"}),n.jsxs("select",{value:C,onChange:fe=>E(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"daily",children:"Diário"}),n.jsx("option",{value:"weekly",children:"Semanal"}),n.jsx("option",{value:"monthly",children:"Mensal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:x==="pdf",onChange:()=>v("pdf"),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"PDF"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:x==="excel",onChange:()=>v("excel"),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Excel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatários (separados por vírgula)"}),n.jsxs("div",{className:"relative",children:[n.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",value:j,onChange:fe=>B(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com, outro@exemplo.com"})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[n.jsx(kr,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Informações do Relatório"})]}),n.jsx("p",{className:"text-sm text-blue-600",children:"O relatório será enviado automaticamente na frequência selecionada para os destinatários informados. O conteúdo será baseado nos filtros atuais do dashboard."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:se,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Agendar Relatório"})]})]})]})})]})},JOe=()=>{const{isPremium:t,isAdmin:e}=Mn(),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState([]),[c,d]=F.useState(null);F.useEffect(()=>{u().catch(le=>{console.error("Erro crítico ao carregar:",le),d(le.message)})},[]);const u=async()=>{i(!0),d(null);try{const{data:le,error:Se}=await he.from("digital_library").select(`
          *,
          category:library_categories(name, icon)
        `).eq("is_public",!0).eq("virus_scan_status","clean").order("created_at",{ascending:!1});if(Se)throw console.error("Erro do Supabase:",Se),Se;if(le){l(le);const Ze=le.map(Oe=>({id:Oe.id,title:Oe.title,description:Oe.description||"",category:"manual",subcategory:Oe.category?.name||"Geral",fileUrl:Oe.file_url,file_url:Oe.file_url,fileSize:h(Oe.file_size),file_size:Oe.file_size,fileType:m(Oe.file_type),file_type:Oe.file_type,uploadDate:Oe.created_at,created_at:Oe.created_at,tags:Oe.tags||[],isDownloaded:!1,isFavorite:!1,category_name:Oe.category?.name,virus_scan_status:Oe.virus_scan_status,is_verified:Oe.is_verified,view_count:Oe.view_count||0,download_count:Oe.download_count||0}));s(Ze)}}catch(le){console.error("Erro ao carregar documentos:",le),d(le?.message||"Erro desconhecido")}finally{i(!1)}},h=le=>le?le<1024?le+" B":le<1048576?(le/1024).toFixed(1)+" KB":(le/1048576).toFixed(1)+" MB":"0 B",m=le=>le.includes("pdf")?"PDF":le.includes("word")?"DOCX":le.includes("excel")||le.includes("spreadsheet")?"XLSX":le.includes("powerpoint")||le.includes("presentation")?"PPTX":le.includes("image")?"IMG":"FILE";F.useEffect(()=>{!a&&r.length===0&&s([{id:"1",title:"Manual de Instalação - Split 12.000 BTUs",description:"Guia completo para instalação de ar condicionado split 12.000 BTUs",category:"manual",subcategory:"Instalação",fileUrl:"/documents/manual_instalacao_split.pdf",file_url:"/documents/manual_instalacao_split.pdf",fileSize:"2.5 MB",file_size:2621440,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-10",created_at:"2024-01-10",lastViewed:"2024-01-15",author:"Equipe Técnica",tags:["ar condicionado","split","instalação","12000 BTUs"],isDownloaded:!0,isFavorite:!0,thumbnailUrl:"https://images.pexels.com/photos/4489734/pexels-photo-4489734.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",title:"Manual Técnico - Dual Inverter",description:"Especificações técnicas e procedimentos de manutenção para ar condicionado Dual Inverter",category:"manual",subcategory:"Manutenção",fileUrl:"/documents/manual_tecnico_dual_inverter.pdf",file_url:"/documents/manual_tecnico_dual_inverter.pdf",fileSize:"3.1 MB",file_size:3250585,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-08",created_at:"2024-01-08",author:"Departamento Técnico",tags:["ar condicionado","dual inverter","manutenção"],isDownloaded:!1,isFavorite:!1},{id:"3",title:"Política de Segurança da Informação",description:"Documento corporativo com diretrizes de segurança da informação",category:"corporate",subcategory:"Políticas",fileUrl:"/documents/politica_seguranca_informacao.pdf",file_url:"/documents/politica_seguranca_informacao.pdf",fileSize:"1.2 MB",file_size:1258291,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-12-15",created_at:"2023-12-15",lastViewed:"2024-01-05",author:"Departamento de TI",tags:["segurança","política","corporativo"],isDownloaded:!0,isFavorite:!1},{id:"4",title:"Apostila de Treinamento - Refrigeração Básica",description:"Material didático para treinamento de novos técnicos",category:"educational",subcategory:"Treinamento",fileUrl:"/documents/apostila_refrigeracao_basica.pdf",file_url:"/documents/apostila_refrigeracao_basica.pdf",fileSize:"5.8 MB",file_size:6082560,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-11-20",created_at:"2023-11-20",author:"Departamento de Treinamento",tags:["refrigeração","treinamento","básico"],isDownloaded:!1,isFavorite:!0}])},[a,r.length]);const[f,b]=F.useState(""),[y,g]=F.useState("all"),[x,v]=F.useState("all"),[j,B]=F.useState([]),[C,E]=F.useState({}),[M,S]=F.useState(!1),[k,I]=F.useState(null),[_,T]=F.useState(!1),[D,L]=F.useState("date"),[V,z]=F.useState("desc"),[Z,G]=F.useState(null),[H,ee]=F.useState(0),[Y,q]=F.useState(!1),[U,te]=F.useState({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),X=()=>y==="all"?["all",...new Set(r.map(le=>le.subcategory))]:["all",...new Set(r.filter(le=>y==="all"||le.category===y).map(le=>le.subcategory))],se=()=>{const le=r.flatMap(Se=>Se.tags);return[...new Set(le)]},me=[...r.filter(le=>{const Se=le.title.toLowerCase().includes(f.toLowerCase())||le.description.toLowerCase().includes(f.toLowerCase())||le.tags.some(Ge=>Ge.toLowerCase().includes(f.toLowerCase())),Ze=y==="all"||le.category===y,Oe=x==="all"||le.subcategory===x,dt=j.length===0||j.every(Ge=>le.tags.includes(Ge)),_t=(!C.start||new Date(le.uploadDate)>=new Date(C.start))&&(!C.end||new Date(le.uploadDate)<=new Date(C.end));return Se&&Ze&&Oe&&dt&&_t})].sort((le,Se)=>{if(D==="date")return V==="asc"?new Date(le.uploadDate).getTime()-new Date(Se.uploadDate).getTime():new Date(Se.uploadDate).getTime()-new Date(le.uploadDate).getTime();if(D==="title")return V==="asc"?le.title.localeCompare(Se.title):Se.title.localeCompare(le.title);if(D==="size"){const Ze=parseFloat(le.fileSize.split(" ")[0]),Oe=parseFloat(Se.fileSize.split(" ")[0]);return V==="asc"?Ze-Oe:Oe-Ze}return 0}),pe=le=>{const Se=le.target.files?.[0];Se&&te({...U,file:Se})},_e=()=>{if(!U.title||!U.category||!U.file){alert("Por favor, preencha todos os campos obrigatórios");return}q(!0);const le=setInterval(()=>{ee(Se=>Se>=100?(clearInterval(le),setTimeout(()=>{ge()},500),100):Se+10)},300)},ge=()=>{if(!U.file){alert("Por favor, selecione um arquivo");return}const le={id:Date.now().toString(),title:U.title,description:U.description,category:U.category,subcategory:U.subcategory||"Geral",fileUrl:URL.createObjectURL(U.file),fileSize:`${((U.file.size||0)/(1024*1024)).toFixed(1)} MB`,fileType:U.file.type.split("/")[1]?.toUpperCase()||"PDF",uploadDate:new Date().toISOString().split("T")[0],tags:U.tags.split(",").map(Se=>Se.trim()).filter(Se=>Se),isDownloaded:!1,isFavorite:!1};s([le,...r]),te({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),q(!1),ee(0),S(!1),alert("Documento enviado com sucesso!")},ye=le=>{console.log(`Downloading ${le.title}...`),s(r.map(Se=>Se.id===le.id?{...Se,isDownloaded:!0,lastViewed:new Date().toISOString().split("T")[0]}:Se)),alert(`Download de "${le.title}" iniciado!`)},Ve=le=>{s(r.map(Se=>Se.id===le?{...Se,isFavorite:!Se.isFavorite}:Se))},st=le=>{s(r.filter(Se=>Se.id!==le)),G(null)},Ne=le=>{j.includes(le)?B(j.filter(Se=>Se!==le)):B([...j,le])},J=le=>{switch(le){case"manual":return vt;case"corporate":return f1;case"educational":return Ure;default:return vt}},Me=le=>{switch(le){case"manual":return"from-blue-500 to-cyan-500";case"corporate":return"from-purple-500 to-pink-500";case"educational":return"from-green-500 to-emerald-500";default:return"from-gray-500 to-gray-600"}},Ie=le=>{switch(le){case"manual":return"Manual Técnico";case"corporate":return"Documento Corporativo";case"educational":return"Material Didático";default:return le}};return a&&r.length===0&&!c?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando Biblioteca Digital..."})]})}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Biblioteca Digital"}),n.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Acesse manuais, documentos corporativos e materiais didáticos"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsxs("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all text-sm",children:[n.jsx(d0,{className:"h-4 w-4"}),n.jsx("span",{children:"Enviar Documento"})]})})]})}),c&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(un,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Erro ao Carregar Biblioteca"}),n.jsx("p",{className:"text-red-700 text-sm",children:c}),n.jsx("button",{onClick:()=>u(),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium",children:"Tentar novamente"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar documentos por título, descrição ou tags...",value:f,onChange:le=>b(le.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{value:y,onChange:le=>{g(le.target.value),v("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Categorias"}),n.jsx("option",{value:"manual",children:"Manuais Técnicos"}),n.jsx("option",{value:"corporate",children:"Documentos Corporativos"}),n.jsx("option",{value:"educational",children:"Material Didático"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),n.jsx("select",{value:x,onChange:le=>v(le.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:X().map(le=>n.jsx("option",{value:le,children:le==="all"?"Todas as Subcategorias":le},le))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),n.jsxs("div",{className:"flex",children:[n.jsxs("select",{value:D,onChange:le=>L(le.target.value),className:"flex-1 px-3 py-2 border-y border-l border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"date",children:"Data"}),n.jsx("option",{value:"title",children:"Título"}),n.jsx("option",{value:"size",children:"Tamanho"})]}),n.jsx("button",{onClick:()=>z(V==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-r-lg bg-gray-50 hover:bg-gray-100",children:V==="asc"?n.jsx(xc,{className:"h-5 w-5"}):n.jsx(oo,{className:"h-5 w-5"})})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>T(!_),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[n.jsx(p1,{className:"h-4 w-4"}),n.jsx("span",{children:"Filtros avançados"}),_?n.jsx(xc,{className:"h-4 w-4"}):n.jsx(oo,{className:"h-4 w-4"})]})}),n.jsx(Nt,{children:_&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[n.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Período de Upload"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De"}),n.jsx("input",{type:"date",value:C.start||"",onChange:le=>E({...C,start:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Até"}),n.jsx("input",{type:"date",value:C.end||"",onChange:le=>E({...C,end:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),n.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-lg min-h-[42px]",children:[se().map(le=>n.jsx("button",{onClick:()=>Ne(le),className:`px-2 py-1 rounded-full text-xs font-medium ${j.includes(le)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:le},le)),se().length===0&&n.jsx("span",{className:"text-sm text-gray-500",children:"Nenhuma tag disponível"})]})]})]}),n.jsx("div",{className:"flex justify-end mt-4 space-x-2",children:n.jsx("button",{onClick:()=>{b(""),g("all"),v("all"),B([]),E({}),L("date"),z("desc")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpar Filtros"})})]})})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Documentos (",me.length,")"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[me.length," de ",r.length," documentos"]})]}),me.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:me.map(le=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden",children:[n.jsxs("div",{className:"relative h-32 bg-gray-100 overflow-hidden",children:[le.thumbnailUrl?n.jsx("img",{src:le.thumbnailUrl,alt:le.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:`w-full h-full bg-gradient-to-r ${Me(le.category)} flex items-center justify-center`,children:ke.createElement(J(le.category),{className:"h-16 w-16 text-white/50"})}),n.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm text-white rounded text-xs",children:Ie(le.category)}),n.jsx("button",{onClick:()=>Ve(le.id),className:`absolute top-2 right-2 p-1 rounded-full ${le.isFavorite?"bg-yellow-500 text-white":"bg-white/70 text-gray-600 hover:bg-white"}`,"aria-label":le.isFavorite?"Remover dos favoritos":"Adicionar aos favoritos",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:le.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:le.title}),n.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:le.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(kr,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:new Date(le.uploadDate).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(vt,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[le.fileSize," • ",le.fileType]})]}),le.lastViewed&&n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(tr,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["Visto: ",new Date(le.lastViewed).toLocaleDateString("pt-BR")]})]}),le.isDownloaded&&n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(NS,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:"Baixado"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[le.tags.slice(0,3).map((Se,Ze)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:Se},Ze)),le.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",le.tags.length-3]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>I(le),className:"flex-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs flex items-center justify-center",children:[n.jsx(la,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),n.jsxs("button",{onClick:()=>ye(le),className:"flex-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs flex items-center justify-center",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),le.isDownloaded?"Baixado":"Baixar"]}),e&&n.jsx("button",{onClick:()=>G(le.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs flex items-center justify-center",children:n.jsx(rr,{className:"h-3 w-3"})})]})]})]},le.id))}):n.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum documento encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não encontramos documentos com os filtros selecionados."}),n.jsx("button",{onClick:()=>{b(""),g("all"),v("all"),B([]),E({})},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Limpar Filtros"})]})]}),n.jsx(Nt,{children:M&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!Y&&S(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Novo Documento"}),!Y&&n.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo PDF"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:U.file?n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"h-8 w-8 text-blue-500 mr-3"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm",children:U.file.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(U.file.size/(1024*1024)).toFixed(2)," MB"]})]})]}),n.jsx("button",{onClick:()=>te({...U,file:null}),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-5 w-5"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(d0,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste e solte um arquivo PDF ou"}),n.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer inline-block",children:["Selecionar Arquivo",n.jsx("input",{type:"file",accept:".pdf",onChange:pe,className:"hidden"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Título ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:U.title,onChange:le=>te({...U,title:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Título do documento",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:U.description,onChange:le=>te({...U,description:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Breve descrição do documento"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoria ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:U.category,onChange:le=>te({...U,category:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"manual",children:"Manual Técnico"}),n.jsx("option",{value:"corporate",children:"Documento Corporativo"}),n.jsx("option",{value:"educational",children:"Material Didático"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),n.jsx("input",{type:"text",value:U.subcategory,onChange:le=>te({...U,subcategory:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalação"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separadas por vírgula)"}),n.jsx("input",{type:"text",value:U.tags,onChange:le=>te({...U,tags:le.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: manual, ar condicionado, instalação"})]}),Y&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[n.jsx("span",{children:"Enviando..."}),n.jsxs("span",{children:[H,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${H}%`}})})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>!Y&&S(!1),disabled:Y,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:_e,disabled:Y||!U.title||!U.file,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Y?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(d0,{className:"h-4 w-4 mr-2 inline"}),"Enviar Documento"]})})]})]})]})}),n.jsx(Nt,{children:k&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>I(null),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${Me(k.category)} flex items-center justify-center`,children:ke.createElement(J(k.category),{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:k.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:[Ie(k.category)," • ",k.subcategory]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:le=>{le.stopPropagation(),ye(k)},className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:n.jsx(ys,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>I(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:n.jsx(Et,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden bg-gray-100 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visualizador de PDF"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Em um ambiente real, o PDF seria exibido aqui usando um visualizador integrado."}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:le=>{le.stopPropagation(),ye(k)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center",children:[n.jsx(ys,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),n.jsxs("button",{onClick:le=>{le.stopPropagation(),window.open(k.fileUrl,"_blank")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center",children:[n.jsx(Y$,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]})]})]})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detalhes"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(kr,{className:"h-4 w-4 mr-2 text-gray-400"}),"Enviado em ",new Date(k.uploadDate).toLocaleDateString("pt-BR")]}),n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(vt,{className:"h-4 w-4 mr-2 text-gray-400"}),k.fileSize," • ",k.fileType]}),k.author&&n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(nn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Autor: ",k.author]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descrição"}),n.jsx("p",{className:"text-sm text-gray-600",children:k.description})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map((le,Se)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:le},Se))})]})]})})]})]})}),n.jsx(Nt,{children:Z&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>G(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Exclusão"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este documento? Esta ação não pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>G(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>st(Z),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})})]})},ZOe=()=>{const{user:t}=Mn(),[e,r]=F.useState([{id:"1",name:"Equipe Técnica",lastMessage:"Carlos: Vou atender o chamado agora",lastMessageTime:new Date(Date.now()-5*6e4),unreadCount:3,isGroup:!0,participants:["Carlos","Ana","Pedro","Maria"],status:"online",avatar:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Técnico",lastMessage:"Já finalizei a instalação do cliente",lastMessageTime:new Date(Date.now()-30*6e4),unreadCount:0,isGroup:!1,participants:["Carlos"],status:"online"},{id:"3",name:"Ana Técnica",lastMessage:"Preciso de ajuda com um cliente",lastMessageTime:new Date(Date.now()-2*36e5),unreadCount:1,isGroup:!1,participants:["Ana"],status:"busy"},{id:"4",name:"Departamento Comercial",lastMessage:"Maria: Novo contrato fechado!",lastMessageTime:new Date(Date.now()-5*36e5),unreadCount:0,isGroup:!0,participants:["João","Maria","Roberto"],status:"online"}]),[s,a]=F.useState(null),[i,o]=F.useState([]),[l,c]=F.useState(""),[d,u]=F.useState(!1),[h,m]=F.useState(!0),[f,b]=F.useState(!1),[y,g]=F.useState(!1),[x,v]=F.useState(""),[j,B]=F.useState("none"),[C,E]=F.useState(0),[M,S]=F.useState(null),[k,I]=F.useState("none"),[_,T]=F.useState(""),[D,L]=F.useState(!1),[V,z]=F.useState(!1),[Z,G]=F.useState(!0),[H,ee]=F.useState(!1),Y=F.useRef(null),q=F.useRef(null),[U,te]=F.useState({notifications:!0,sounds:!0,darkMode:!1,readReceipts:!0,fontSize:"medium"}),[X,se]=F.useState(window.innerWidth<768),[fe,me]=F.useState(!0);F.useEffect(()=>{const Ge=()=>{se(window.innerWidth<768)};return window.addEventListener("resize",Ge),()=>window.removeEventListener("resize",Ge)},[]),F.useEffect(()=>{if(s){r(ot=>ot.map(Pt=>Pt.id===s.id?{...Pt,unreadCount:0}:Pt));const Ge=[],Ce=10+Math.floor(Math.random()*10),lt=new Date;for(let ot=0;ot<Ce;ot++){const Pt=Math.random()>.5,zt=Pt?t?.name||"Você":s.isGroup?s.participants[Math.floor(Math.random()*s.participants.length)]:s.name;Ge.push({id:`msg-${ot}`,content:ye(Pt,s.isGroup),sender:zt,senderId:Pt?"me":zt,timestamp:new Date(lt.getTime()-(Ce-ot)*5*6e4),status:Pt?ot<Ce-3?"read":ot<Ce-1?"delivered":"sent":"read",isMe:Pt})}o(Ge),X&&me(!1)}},[s,t]),F.useEffect(()=>{Y.current?.scrollIntoView({behavior:"smooth"})},[i]);const pe=e.filter(Ge=>Ge.name.toLowerCase().includes(x.toLowerCase())||Ge.lastMessage.toLowerCase().includes(x.toLowerCase())),_e=Ge=>{const lt=new Date().getTime()-Ge.getTime();return lt<864e5?Ge.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):lt<6048e5?["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"][Ge.getDay()]:Ge.toLocaleDateString([],{day:"2-digit",month:"2-digit"})},ge=Ge=>{const Ce=Math.floor(Ge/60),lt=Ge%60;return`${Ce.toString().padStart(2,"0")}:${lt.toString().padStart(2,"0")}`},ye=(Ge,Ce)=>{const lt=Ge?["Olá, como posso ajudar?","Já estou a caminho do cliente","Finalizei o serviço agora","Preciso de mais informações sobre este chamado","Vou precisar de mais peças para o conserto","O cliente não está no local","Serviço concluído com sucesso","Estou com dificuldade para acessar o local"]:["Temos um novo chamado urgente","O cliente está aguardando","Pode me ajudar com um problema?","Já verificou o estoque de peças?","Precisamos finalizar este serviço hoje","O cliente alterou o horário","Tem disponibilidade amanhã?",Ce?"Pessoal, reunião às 15h":"Preciso da sua ajuda com um cliente"];return lt[Math.floor(Math.random()*lt.length)]},Ve=()=>{if(!l.trim()||!s)return;const Ge={id:`msg-${Date.now()}`,content:l,sender:t?.name||"Você",senderId:"me",timestamp:new Date,status:"sending",isMe:!0};o([...i,Ge]),c(""),setTimeout(()=>{o(Ce=>Ce.map(lt=>lt.id===Ge.id?{...lt,status:"sent"}:lt)),setTimeout(()=>{o(Ce=>Ce.map(lt=>lt.id===Ge.id?{...lt,status:"delivered"}:lt)),setTimeout(()=>{o(Ce=>Ce.map(lt=>lt.id===Ge.id?{...lt,status:"read"}:lt))},2e3)},1e3)},500),setTimeout(()=>{u(!0),setTimeout(()=>{u(!1);const Ce={id:`msg-${Date.now()}`,content:ye(!1,s.isGroup),sender:s.isGroup?s.participants[Math.floor(Math.random()*s.participants.length)]:s.name,senderId:"other",timestamp:new Date,status:"read",isMe:!1};o(lt=>[...lt,Ce]),r(lt=>lt.map(ot=>ot.id===s.id?{...ot,lastMessage:s.isGroup?`${Ce.sender}: ${Ce.content}`:Ce.content,lastMessageTime:Ce.timestamp}:ot))},2e3+Math.random()*1e3)},1e3+Math.random()*2e3),r(Ce=>Ce.map(lt=>lt.id===s.id?{...lt,lastMessage:l,lastMessageTime:new Date}:lt))},st=Ge=>{if(!s)return;const Ce=Ge==="video"?{video:!0,audio:!0}:{audio:!0};navigator.mediaDevices.getUserMedia(Ce).then(lt=>{console.log("Media access granted for call"),lt.getTracks().forEach(Pt=>Pt.stop()),B(Ge),E(0);const ot=setInterval(()=>{E(Pt=>Pt+1)},1e3);S(ot)}).catch(lt=>{console.error("Error accessing media devices:",lt),alert("Para fazer chamadas, é necessário permitir o acesso à câmera e microfone.")})},Ne=()=>{M&&clearInterval(M),B("none"),E(0),S(null),L(!1),z(!1),ee(!1)},J=Ge=>{const Ce=e[Math.floor(Math.random()*e.length)];T(Ce.name),I(Ge),setTimeout(()=>{I("none")},15e3)},Me=()=>{const Ge=k;I("none"),B(Ge),E(0);const Ce=setInterval(()=>{E(lt=>lt+1)},1e3);S(Ce)},Ie=()=>{I("none")},le=()=>{c(Ge=>Ge+" 😊"),q.current?.focus()},Se=()=>{alert("Funcionalidade de anexo seria implementada aqui")},Ze=Ge=>{switch(Ge){case"sending":return n.jsx(tr,{className:"h-3 w-3 text-gray-400"});case"sent":return n.jsx(mn,{className:"h-3 w-3 text-gray-400"});case"delivered":return n.jsxs("div",{className:"relative",children:[n.jsx(mn,{className:"h-3 w-3 text-blue-500 absolute"}),n.jsx(mn,{className:"h-3 w-3 text-blue-500 ml-0.5"})]});case"read":return n.jsxs("div",{className:"relative text-blue-500",children:[n.jsx(mn,{className:"h-3 w-3 absolute"}),n.jsx(mn,{className:"h-3 w-3 ml-0.5"})]});default:return null}},Oe=Ge=>{switch(Ge){case"online":return"bg-green-500";case"offline":return"bg-gray-400";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-400"}},dt=Ge=>{Ge.key==="Enter"&&!Ge.shiftKey&&(Ge.preventDefault(),Ve())},_t=()=>{me(!fe)};return n.jsxs("div",{className:"h-[calc(100vh-120px)] bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex",children:[n.jsx(Nt,{children:(!X||X&&fe)&&n.jsxs(ue.div,{initial:X?{x:-300}:!1,animate:{x:0},exit:X?{x:-300}:void 0,className:"w-80 border-r border-gray-200 flex flex-col bg-white z-10",style:{position:X?"absolute":"relative",height:"100%",boxShadow:X?"0 0 15px rgba(0,0,0,0.1)":"none"},children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Conversas"}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:()=>g(!y),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Ir,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>b(!f),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(gh,{className:"h-4 w-4"})}),X&&n.jsx("button",{onClick:_t,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full md:hidden",children:n.jsx(Fv,{className:"h-4 w-4"})})]})]}),n.jsx(Nt,{children:y&&n.jsx(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 border-b border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:x,onChange:Ge=>v(Ge.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:pe.length>0?pe.map(Ge=>n.jsx("div",{onClick:()=>a(Ge),className:`p-2.5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${s?.id===Ge.id?"bg-blue-50":""}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[Ge.avatar?n.jsx("img",{src:Ge.avatar,alt:Ge.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Ge.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:Ge.isGroup?n.jsx(Zt,{className:"h-5 w-5"}):n.jsx("span",{className:"text-base font-semibold",children:Ge.name.charAt(0)})}),n.jsx("div",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white ${Oe(Ge.status)}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:Ge.name}),n.jsx("span",{className:"text-xs text-gray-500",children:_e(Ge.lastMessageTime)})]}),n.jsx("p",{className:"text-xs text-gray-600 truncate",children:Ge.lastMessage})]}),Ge.unreadCount>0&&n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-medium",children:Ge.unreadCount})})]})},Ge.id)):n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(Iv,{className:"h-10 w-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"Nenhuma conversa encontrada"})]})}),n.jsx(Nt,{children:f&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-white z-10 flex flex-col",children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center",children:[n.jsx("button",{onClick:()=>b(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2",children:n.jsx(Fv,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Configurações"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Notificações"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Notificações de mensagens"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:U.notifications,onChange:()=>te({...U,notifications:!U.notifications}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Sons de notificação"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:U.sounds,onChange:()=>te({...U,sounds:!U.sounds}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Privacidade"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Confirmações de leitura"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:U.readReceipts,onChange:()=>te({...U,readReceipts:!U.readReceipts}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Aparência"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Modo escuro"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:U.darkMode,onChange:()=>te({...U,darkMode:!U.darkMode}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Tamanho da fonte"}),n.jsxs("select",{value:U.fontSize,onChange:Ge=>te({...U,fontSize:Ge.target.value}),className:"w-full px-2.5 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"small",children:"Pequeno"}),n.jsx("option",{value:"medium",children:"Médio"}),n.jsx("option",{value:"large",children:"Grande"})]})]})]})]})]}),n.jsx("div",{className:"p-3 border-t border-gray-200",children:n.jsx("button",{onClick:()=>b(!1),className:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Salvar Configurações"})})]})})]})}),n.jsx("div",{className:"flex-1 flex flex-col",children:s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[X&&n.jsx("button",{onClick:_t,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2 md:hidden",children:n.jsx(Dse,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[s.avatar?n.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:s.isGroup?n.jsx(Zt,{className:"h-4 w-4"}):n.jsx("span",{className:"text-base font-semibold",children:s.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:s.name}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Oe(s.status)} mr-1`}),n.jsx("span",{children:s.status==="online"?"Online":s.status==="away"?"Ausente":s.status==="busy"?"Ocupado":"Offline"}),s.isGroup&&n.jsxs("span",{className:"ml-1",children:[s.participants.length," participantes"]})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:()=>st("audio"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Ya,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>st("video"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Rj,{className:"h-4 w-4"})}),n.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(X$,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((Ge,Ce)=>{const lt=Ce===0||new Date(Ge.timestamp).toDateString()!==new Date(i[Ce-1].timestamp).toDateString();return n.jsxs(ke.Fragment,{children:[lt&&n.jsx("div",{className:"flex justify-center my-3",children:n.jsx("div",{className:"px-2.5 py-0.5 bg-gray-200 rounded-full text-xs text-gray-600",children:new Date(Ge.timestamp).toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"})})}),n.jsx("div",{className:`flex ${Ge.isMe?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] ${Ge.isMe?"bg-blue-500 text-white":"bg-white text-gray-800"} rounded-lg px-3 py-1.5 shadow-sm`,children:[s.isGroup&&!Ge.isMe&&n.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:Ge.isMe?"white":"#6366f1"},children:Ge.sender}),n.jsx("p",{className:"text-sm",children:Ge.content}),n.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-0.5 text-xs ${Ge.isMe?"text-blue-100":"text-gray-500"}`,children:[n.jsx("span",{children:Ge.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Ge.isMe&&Ze(Ge.status)]})]})})]},Ge.id)}),d&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-white text-gray-800 rounded-lg px-3 py-1.5 shadow-sm",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),n.jsx("div",{ref:Y})]}),n.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:le,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Cae,{className:"h-4 w-4"})}),n.jsx("button",{onClick:Se,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(eae,{className:"h-4 w-4"})}),n.jsx("input",{type:"text",ref:q,value:l,onChange:Ge=>c(Ge.target.value),onKeyPress:dt,placeholder:"Digite uma mensagem...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),n.jsx("button",{onClick:Ve,disabled:!l.trim(),className:`p-1.5 rounded-full ${l.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:n.jsx(bi,{className:"h-4 w-4"})})]})})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 bg-gray-50",children:[n.jsx(Iv,{className:"h-14 w-14 text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chat Interno"}),n.jsx("p",{className:"text-gray-600 text-center max-w-md mb-5 text-sm",children:"Selecione uma conversa para começar a enviar mensagens ou iniciar uma chamada com sua equipe."}),X&&!fe&&n.jsx("button",{onClick:_t,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Ver Conversas"})]})}),n.jsx(Nt,{children:j!=="none"&&n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 ${H?"p-0":"p-4"}`,children:n.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden ${H?"w-full h-full":"max-w-md w-full"}`,children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 flex items-center justify-between z-10 bg-gradient-to-b from-black/60 to-transparent",children:n.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[s?.avatar?n.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx("span",{className:"text-base font-semibold text-white",children:s?.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-sm",children:s?.name}),n.jsxs("p",{className:"text-xs opacity-80",children:[j==="audio"?"Chamada de voz":"Chamada de vídeo"," • ",ge(C)]})]})]})}),n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:j==="video"?V?n.jsx("div",{className:"w-full h-full min-h-[250px] bg-gray-800 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(gF,{className:"h-12 w-12 text-white/50 mx-auto mb-3"}),n.jsx("p",{className:"text-white/70 text-sm",children:"Câmera desligada"})]})}):n.jsxs("div",{className:"w-full h-full min-h-[250px] bg-gray-800 relative",children:[n.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Video call",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-3 right-3 w-24 h-20 bg-gray-900 rounded-lg overflow-hidden border-2 border-white",children:n.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Self view",className:"w-full h-full object-cover"})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-4xl font-semibold text-white",children:s?.name.charAt(0)})}),n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:s?.name}),n.jsx("p",{className:"text-white/70 text-sm",children:ge(C)})]})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-center space-x-3 z-10 bg-gradient-to-t from-black/60 to-transparent",children:[n.jsx("button",{onClick:()=>L(!D),className:`p-3 rounded-full ${D?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:D?n.jsx(Use,{className:"h-5 w-5"}):n.jsx($se,{className:"h-5 w-5"})}),j==="video"&&n.jsx("button",{onClick:()=>z(!V),className:`p-3 rounded-full ${V?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:V?n.jsx(gF,{className:"h-5 w-5"}):n.jsx(Rj,{className:"h-5 w-5"})}),n.jsx("button",{onClick:Ne,className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600",children:n.jsx(iae,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>G(!Z),className:`p-3 rounded-full ${Z?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-400"}`,children:n.jsx(die,{className:"h-5 w-5"})})]})]})})}),n.jsx(Nt,{children:k!=="none"&&n.jsxs(ue.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-3 right-3 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-72",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-blue-600",children:_.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:_}),n.jsx("p",{className:"text-xs text-gray-600",children:k==="audio"?"Chamada de voz":"Chamada de vídeo"})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:Ie,className:"flex-1 py-1.5 bg-red-500 text-white rounded-lg mr-2 hover:bg-red-600 transition-colors text-sm",children:"Recusar"}),n.jsx("button",{onClick:Me,className:"flex-1 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Atender"})]})]})}),n.jsxs("div",{className:"fixed bottom-16 right-3 z-40 space-y-1.5",children:[n.jsx("button",{onClick:()=>J("audio"),className:"p-1.5 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Simular chamada de voz",children:n.jsx(Ya,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>J("video"),className:"p-1.5 bg-purple-500 text-white rounded-full shadow-lg hover:bg-purple-600 transition-colors",title:"Simular chamada de vídeo",children:n.jsx(Rj,{className:"h-4 w-4"})})]})]})},Qf=({children:t,title:e,subtitle:r,actions:s,hover:a=!1,className:i=""})=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:a?{y:-4}:void 0,className:`bg-white rounded-xl shadow-sm border border-gray-100 transition-shadow ${a?"hover:shadow-md":""} ${i}`,children:[(e||r||s)&&n.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-100",children:[n.jsxs("div",{children:[e&&n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:e}),r&&n.jsx("p",{className:"text-sm text-gray-500",children:r})]}),s&&n.jsx("div",{className:"flex items-center gap-2",children:s})]}),n.jsx("div",{className:"p-6",children:t})]});function eIe(){const[t,e]=F.useState([]),[r,s]=F.useState(null),[a,i]=F.useState([]),[o,l]=F.useState(""),[c,d]=F.useState(""),[u,h]=F.useState(!0),m=F.useRef(null);F.useEffect(()=>{f()},[]),F.useEffect(()=>{r&&b(r.id)},[r]),F.useEffect(()=>{x()},[a]);const f=async()=>{h(!0);try{const{data:B,error:C}=await he.from("whatsapp_conversations").select("*").order("last_message_at",{ascending:!1});if(C)throw C;e(B||[])}catch(B){console.error("Erro ao carregar conversas:",B)}finally{h(!1)}},b=async B=>{try{const{data:C,error:E}=await he.from("whatsapp_messages").select("*").eq("conversation_id",B).order("created_at",{ascending:!0});if(E)throw E;i(C||[])}catch(C){console.error("Erro ao carregar mensagens:",C)}},y=async()=>{if(!(!o.trim()||!r))try{const{data:B,error:C}=await he.from("whatsapp_messages").insert({conversation_id:r.id,content:o,type:"text",direction:"outbound",status:"sent"}).select().single();if(C)throw C;i([...a,B]),l("")}catch(B){console.error("Erro ao enviar mensagem:",B)}},g=()=>{if(!r)return;const B=r.phone;window.location.href=`/service-orders/create?phone=${B}`},x=()=>{m.current?.scrollIntoView({behavior:"smooth"})},v=t.filter(B=>B.contact_name.toLowerCase().includes(c.toLowerCase())||B.phone.includes(c)),j=B=>{switch(B){case"sent":return n.jsx(mn,{className:"w-3 h-3"});case"delivered":case"read":return n.jsx(nne,{className:"w-3 h-3"});case"failed":return n.jsx(tr,{className:"w-3 h-3 text-red-500"});default:return null}};return n.jsxs("div",{className:"h-[calc(100vh-8rem)] flex gap-4",children:[n.jsxs(Qf,{className:"w-1/3 flex flex-col p-0 overflow-hidden",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-3",children:"WhatsApp CRM"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),placeholder:"Buscar conversa...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:u?n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Carregando..."}):v.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Kf,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),n.jsx("p",{children:"Nenhuma conversa encontrada"}),n.jsx("p",{className:"text-sm mt-1",children:"Aguardando mensagens..."})]}):v.map(B=>n.jsx("button",{onClick:()=>s(B),className:`w-full p-4 border-b border-gray-200 hover:bg-gray-50 transition-colors text-left ${r?.id===B.id?"bg-blue-50":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:n.jsx(nn,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.contact_name}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(B.last_message_date).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:B.last_message}),n.jsxs("div",{className:"flex items-center justify-between mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:B.phone}),B.unread_count>0&&n.jsx("span",{className:"bg-blue-600 text-white text-xs rounded-full px-2 py-0.5",children:B.unread_count})]})]})]})},B.id))})]}),n.jsx(Qf,{className:"flex-1 flex flex-col p-0 overflow-hidden",children:r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(nn,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.contact_name}),n.jsx("p",{className:"text-sm text-gray-500",children:r.phone})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:g,className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 text-sm",children:[n.jsx(vt,{className:"w-4 h-4"}),"Criar OS"]}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Ya,{className:"w-5 h-5 text-gray-600"})}),n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(X$,{className:"w-5 h-5 text-gray-600"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50",children:a.length===0?n.jsxs("div",{className:"text-center text-gray-500 mt-8",children:[n.jsx(Kf,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),n.jsx("p",{children:"Nenhuma mensagem ainda"})]}):n.jsxs("div",{className:"space-y-4",children:[a.map(B=>n.jsx("div",{className:`flex ${B.direction==="outbound"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg p-3 ${B.direction==="outbound"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[n.jsx("p",{className:"text-sm",children:B.content}),n.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[n.jsx("span",{className:"text-xs opacity-70",children:new Date(B.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),B.direction==="outbound"&&n.jsx("span",{className:"opacity-70",children:j(B.status)})]})]})},B.id)),n.jsx("div",{ref:m})]})}),n.jsxs("div",{className:"p-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:n.jsx(Ot,{className:"w-5 h-5 text-gray-600"})}),n.jsx("input",{type:"text",value:o,onChange:B=>l(B.target.value),onKeyPress:B=>B.key==="Enter"&&y(),placeholder:"Digite uma mensagem...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{onClick:y,disabled:!o.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx(bi,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"💡 Use templates rápidos ou crie uma OS diretamente da conversa"})]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Kf,{className:"w-16 h-16 mx-auto mb-4 opacity-30"}),n.jsx("p",{className:"text-lg font-medium",children:"Selecione uma conversa"}),n.jsx("p",{className:"text-sm mt-1",children:"Escolha um contato para iniciar"})]})})})]})}function tIe(){const[t,e]=F.useState(null),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState(new Date);F.useEffect(()=>{c()},[]);const c=async()=>{i(!0);try{const u=new Date,h=new Date(u.getTime()-1440*60*1e3),m=new Date(u.getTime()-10080*60*1e3),f=new Date(u.getTime()-720*60*60*1e3),{data:b}=await he.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",h.toISOString()),{data:y}=await he.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",m.toISOString()),{data:g}=await he.from("thomaz_conversations").select("id",{count:"exact"}).gte("created_at",f.toISOString()),{data:x}=await he.from("thomaz_conversations").select("intent_confidence").gte("created_at",m.toISOString()),v=x?.length?x.reduce((V,z)=>V+(z.intent_confidence||0),0)/x.length:0,j=x?.filter(V=>(V.intent_confidence||0)>.7).length||0,B=x?.length?j/x.length*100:0,{data:C,count:E}=await he.from("thomaz_knowledge_sources").select("id",{count:"exact"}).eq("is_active",!0),{data:M,count:S}=await he.from("thomaz_knowledge_chunks").select("id",{count:"exact"}),k=new Date(u.getTime()-3600*1e3),{data:I,count:_}=await he.from("thomaz_conversations").select("session_id",{count:"exact"}).gte("updated_at",k.toISOString()),{data:T}=await he.from("thomaz_conversations").select("response_time").gte("created_at",m.toISOString()).not("response_time","is",null),D=T?.length?T.reduce((V,z)=>V+(z.response_time||0),0)/T.length:0,L=b?b.length/24:0;e({conversations_24h:b?.length||0,conversations_7d:y?.length||0,conversations_30d:g?.length||0,avg_confidence:v*100,high_confidence_rate:B,total_documents:E||0,total_chunks:S||0,active_sessions:_||0,avg_response_time:D,queries_per_hour:L}),s([{query:"Como criar uma ordem de serviço?",count:45,avg_confidence:92},{query:"Qual o estoque do material X?",count:38,avg_confidence:95},{query:"Relatório financeiro do mês",count:32,avg_confidence:88},{query:"Funcionários disponíveis hoje",count:28,avg_confidence:91},{query:"Cliente com mais OSs",count:24,avg_confidence:94}]),l(new Date)}catch(u){console.error("Erro ao carregar métricas:",u)}finally{i(!1)}};return t?t.avg_confidence>=70?{status:"healthy",color:"green",label:"Saudável"}:t.avg_confidence>=50?{status:"warning",color:"yellow",label:"Atenção"}:{status:"critical",color:"red",label:"Crítico"}:{status:"unknown",color:"gray",label:"Desconhecido"},a?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zs,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando métricas do Thomaz..."})]})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-3",children:[n.jsx(zf,{className:"w-8 h-8 text-blue-600"}),"Thomaz Metrics"]}),n.jsx("p",{className:"text-gray-600",children:"Performance e analytics da inteligência artificial"})]}),n.jsx("div",{className:"flex items-center gap-3",children:n.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zs,{className:"w-4 h-4"}),"Atualizar"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsxs(Qf,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(Kf,{className:"w-8 h-8 text-blue-600"}),n.jsx("span",{className:"text-sm text-gray-500",children:"24h"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t?.conversations_24h||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Conversas (24h)"})]}),n.jsxs(Qf,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(xh,{className:"w-8 h-8 text-green-600"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Confiança"})]}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[(t?.avg_confidence||0).toFixed(1),"%"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Confiança Média"})]}),n.jsxs(Qf,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(lp,{className:"w-8 h-8 text-purple-600"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Base"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:t?.total_documents||0}),n.jsx("p",{className:"text-sm text-gray-600",children:"Documentos Ativos"})]}),n.jsxs(Qf,{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(ho,{className:"w-8 h-8 text-orange-600"}),n.jsx("span",{className:"text-sm text-gray-500",children:"Performance"})]}),n.jsxs("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:[(t?.avg_response_time||0).toFixed(0),"ms"]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Tempo Médio"})]})]})]})}const rIe=({isOpen:t,onClose:e,onSave:r,entryId:s})=>{const[a,i]=F.useState(!1),[o,l]=F.useState([]),[c,d]=F.useState([]),[u,h]=F.useState([]),[m,f]=F.useState([]),[b,y]=F.useState([]),[g,x]=F.useState({descricao:"",valor:0,tipo:"receita",status:"a_receber",data:new Date().toISOString().split("T")[0],data_vencimento:new Date().toISOString().split("T")[0],customer_id:"",supplier_id:"",categoria:"",category_id:"",subcategory_id:"",forma_pagamento:"dinheiro",bank_account_id:"",observacoes:"",recorrente:!1,frequencia_recorrencia:"mensal",data_fim_recorrencia:""});F.useEffect(()=>{v(),j(),C(),E(),s&&M()},[s]),F.useEffect(()=>{g.category_id?B(g.category_id):(h([]),x(k=>({...k,subcategory_id:""})))},[g.category_id]);const v=async()=>{try{const{data:k}=await he.from("customers").select("id, nome_razao").order("nome_razao");l(k||[])}catch(k){console.error("Error loading customers:",k)}},j=async()=>{try{const{data:k}=await he.from("financial_categories").select("*").eq("active",!0).is("parent_id",null).order("name");d(k||[])}catch(k){console.error("Error loading categories:",k)}},B=async k=>{try{const{data:I}=await he.from("financial_categories").select("*").eq("active",!0).eq("parent_id",k).order("name");h(I||[])}catch(I){console.error("Error loading subcategories:",I),h([])}},C=async()=>{try{const{data:k}=await he.from("suppliers").select("id, name, cnpj, active").eq("active",!0).order("name");f(k||[])}catch(k){console.error("Error loading suppliers:",k)}},E=async()=>{try{const{data:k}=await he.from("bank_accounts").select("id, account_name, bank_name, balance, active, is_default").eq("active",!0).order("is_default",{ascending:!1,nullsFirst:!1}).order("account_name",{ascending:!0});if(y(k||[]),k&&k.length>0&&!s){const I=k.find(_=>_.is_default);I&&x(_=>({..._,bank_account_id:I.id}))}}catch(k){console.error("Error loading bank accounts:",k)}},M=async()=>{if(s)try{const{data:k}=await he.from("finance_entries").select("*").eq("id",s).single();k&&x({descricao:k.descricao||"",valor:k.valor||0,tipo:k.tipo||"receita",status:k.status||"a_receber",data:k.data?.split("T")[0]||"",data_vencimento:k.data_vencimento?.split("T")[0]||"",customer_id:k.customer_id||"",supplier_id:k.supplier_id||"",categoria:k.categoria||"",category_id:k.category_id||"",subcategory_id:k.subcategory_id||"",forma_pagamento:k.forma_pagamento||"dinheiro",bank_account_id:k.bank_account_id||"",observacoes:k.observacoes||"",recorrente:k.recorrente||!1,frequencia_recorrencia:k.frequencia_recorrencia||"mensal",data_fim_recorrencia:k.data_fim_recorrencia?.split("T")[0]||""})}catch(k){console.error("Error loading entry:",k)}},S=async()=>{try{if(!g.descricao||g.valor<=0){alert("Preencha a descrição e o valor!");return}i(!0);const k={descricao:g.descricao,valor:Number(g.valor),tipo:g.tipo,status:g.status,data:g.data,data_vencimento:g.data_vencimento||null,customer_id:g.customer_id||null,supplier_id:g.supplier_id||null,categoria:g.categoria||null,category_id:g.category_id||null,subcategory_id:g.subcategory_id||null,forma_pagamento:g.forma_pagamento,bank_account_id:g.bank_account_id||null,observacoes:g.observacoes||null};g.recorrente?(k.intervalo_recorrencia=g.frequencia_recorrencia,k.data_fim_recorrencia=g.data_fim_recorrencia||null):(k.intervalo_recorrencia=null,k.data_fim_recorrencia=null);let I;if(s?I=await he.from("finance_entries").update(k).eq("id",s).select():I=await he.from("finance_entries").insert([k]).select(),I.error)throw console.error("Database error:",I.error),new Error(I.error.message);alert(s?"Lançamento atualizado com sucesso!":"Lançamento criado com sucesso!"),r(),e()}catch(k){console.error("Error saving:",k),alert(`Erro ao salvar lançamento: ${k.message||"Erro desconhecido"}`)}finally{i(!1)}};return F.useEffect(()=>{g.tipo==="receita"?(g.status==="pago"||g.status==="a_pagar")&&x(k=>({...k,status:k.status==="pago"?"recebido":"a_receber"})):(g.status==="recebido"||g.status==="a_receber")&&x(k=>({...k,status:k.status==="recebido"?"pago":"a_pagar"}))},[g.tipo]),t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Lançamento":"Novo Lançamento"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Controle de receitas e despesas"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("label",{className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${g.tipo==="receita"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[n.jsx("input",{type:"radio",checked:g.tipo==="receita",onChange:()=>x({...g,tipo:"receita"}),className:"sr-only"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Or,{className:"h-6 w-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Receita"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Entrada de dinheiro"})]})]})]})}),n.jsx("label",{className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${g.tipo==="despesa"?"border-red-500 bg-red-50":"border-gray-300 hover:border-red-300"}`,children:[n.jsx("input",{type:"radio",checked:g.tipo==="despesa",onChange:()=>x({...g,tipo:"despesa"}),className:"sr-only"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(El,{className:"h-6 w-6 text-red-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Despesa"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Saída de dinheiro"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrição *"}),n.jsxs("div",{className:"relative",children:[n.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:g.descricao,onChange:k=>x({...g,descricao:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pagamento de serviço - OS #123"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor *"}),n.jsxs("div",{className:"relative",children:[n.jsx(pr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"number",value:g.valor,onChange:k=>x({...g,valor:parseFloat(k.target.value)||0}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00",step:"0.01",min:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),n.jsx("select",{value:g.status,onChange:k=>x({...g,status:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:g.tipo==="receita"?n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"a_receber",children:"A Receber"}),n.jsx("option",{value:"recebido",children:"Recebido"})]}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"a_pagar",children:"A Pagar"}),n.jsx("option",{value:"pago",children:"Pago"})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data ",g.status==="recebido"||g.status==="pago"?"do Pagamento":"de Lançamento"]}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"date",value:g.data,onChange:k=>x({...g,data:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Vencimento"}),n.jsxs("div",{className:"relative",children:[n.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"date",value:g.data_vencimento,onChange:k=>x({...g,data_vencimento:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),g.tipo==="receita"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente (Opcional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.customer_id,onChange:k=>x({...g,customer_id:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(k=>n.jsx("option",{value:k.id,children:k.nome_razao},k.id))]})]})]}),g.tipo==="despesa"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fornecedor (Opcional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(nn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.supplier_id,onChange:k=>x({...g,supplier_id:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um fornecedor..."}),m.map(k=>n.jsxs("option",{value:k.id,children:[k.name," ",k.cnpj?`- ${k.cnpj}`:""]},k.id))]})]})]}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),n.jsxs("select",{value:g.category_id,onChange:k=>x({...g,category_id:k.target.value,subcategory_id:""}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma categoria..."}),c.filter(k=>k.type===g.tipo).map(k=>n.jsxs("option",{value:k.id,children:[k.icon," ",k.name]},k.id))]})]}),g.category_id&&u.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategoria"}),n.jsxs("select",{value:g.subcategory_id,onChange:k=>x({...g,subcategory_id:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma subcategoria..."}),u.map(k=>n.jsxs("option",{value:k.id,children:[k.icon," ",k.name]},k.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("div",{className:"relative",children:[n.jsx(pn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.forma_pagamento,onChange:k=>x({...g,forma_pagamento:k.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"cartao_credito",children:"Cartão de Crédito"}),n.jsx("option",{value:"cartao_debito",children:"Cartão de Débito"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"transferencia",children:"Transferência"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[n.jsx(pn,{className:"h-4 w-4"}),"Conta Bancária"]}),n.jsxs("select",{value:g.bank_account_id,onChange:k=>x({...g,bank_account_id:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[n.jsx("option",{value:"",children:"Selecione uma conta..."}),b.map(k=>n.jsxs("option",{value:k.id,children:[k.is_default?"⭐ ":"",k.bank_name," - ",k.account_name," (Saldo: R$ ",k.balance?.toFixed(2)||"0,00",")"]},k.id))]}),g.status==="pago"||g.status==="recebido"?n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"💡 O saldo será atualizado automaticamente"}):n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.find(k=>k.is_default)&&n.jsx("span",{children:"⭐ = Conta Padrão • "}),"Selecione a conta para controlar o saldo"]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observações"}),n.jsx("textarea",{value:g.observacoes,onChange:k=>x({...g,observacoes:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais sobre este lançamento..."})]}),n.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:[n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("input",{type:"checkbox",id:"recorrente",checked:g.recorrente,onChange:k=>x({...g,recorrente:k.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsxs("label",{htmlFor:"recorrente",className:"block text-sm font-semibold text-blue-900 cursor-pointer",children:["Lançamento Recorrente / Provisionado ",n.jsx("span",{className:"text-blue-600",children:"(Opcional)"})]}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Marque esta opção se este lançamento se repete periodicamente (ex: aluguel, salários) ou se deseja provisionar para o futuro"})]})]})}),g.recorrente&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequência"}),n.jsxs("select",{value:g.frequencia_recorrencia,onChange:k=>x({...g,frequencia_recorrencia:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"semanal",children:"Semanal"}),n.jsx("option",{value:"quinzenal",children:"Quinzenal"}),n.jsx("option",{value:"mensal",children:"Mensal"}),n.jsx("option",{value:"bimestral",children:"Bimestral"}),n.jsx("option",{value:"trimestral",children:"Trimestral"}),n.jsx("option",{value:"semestral",children:"Semestral"}),n.jsx("option",{value:"anual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim da Recorrência"}),n.jsx("input",{type:"date",value:g.data_fim_recorrencia,onChange:k=>x({...g,data_fim_recorrencia:k.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:g.data}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para recorrência indefinida"})]})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:S,disabled:a,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(Nr,{className:"h-5 w-5"}),"Salvar Lançamento"]})})]})]})}):null},HG=()=>{const[t,e]=F.useState([]),[r,s]=F.useState({totalReceitas:0,totalDespesas:0,saldo:0,contasReceber:0,contasPagar:0,receitasMes:0,despesasMes:0,valorEstoque:0}),[a,i]=F.useState(!0),[o,l]=F.useState("all"),[c,d]=F.useState("all"),[u,h]=F.useState(""),[m,f]=F.useState("all"),[b,y]=F.useState(""),[g,x]=F.useState(""),[v,j]=F.useState(""),[B,C]=F.useState(""),[E,M]=F.useState("data"),[S,k]=F.useState("desc"),[I,_]=F.useState(1),[T,D]=F.useState([]),L=15,[V,z]=F.useState(!1),[Z,G]=F.useState(void 0);F.useEffect(()=>{ee(),H()},[]),F.useEffect(()=>{ee()},[E,S]);const H=async()=>{try{const{data:ge,error:ye}=await he.from("financial_categories").select("*").eq("active",!0).order("name");if(ye)throw ye;D(ge||[])}catch(ge){console.error("Error loading categories:",ge)}},ee=async(ge=!1)=>{try{i(!0);const{data:ye,error:Ve}=await he.from("finance_entries").select("*").order(E,{ascending:S==="asc"});if(Ve)throw Ve;console.log("Loaded finance entries:",ye?.length),e(ye||[]),await q(ye||[])}catch(ye){console.error("Error loading financial data:",ye)}finally{i(!1)}},Y=async(ge,ye)=>{if(confirm(`Tem certeza que deseja excluir o lançamento "${ye}"?

Esta ação é irreversível e terá efeito cascata em registros relacionados.`))try{const{error:Ve}=await he.from("finance_entries").delete().eq("id",ge);if(Ve)throw Ve;alert("Lançamento excluído com sucesso!"),await ee()}catch(Ve){console.error("Error deleting entry:",Ve),alert("Erro ao excluir lançamento. Verifique se não há registros relacionados.")}},q=async ge=>{const ye=ge.filter(Oe=>Oe.tipo==="receita"&&Oe.status==="recebido").reduce((Oe,dt)=>Oe+Number(dt.valor),0),Ve=ge.filter(Oe=>Oe.tipo==="despesa"&&Oe.status==="pago").reduce((Oe,dt)=>Oe+Number(dt.valor),0),st=ge.filter(Oe=>Oe.tipo==="receita"&&Oe.status==="a_receber").reduce((Oe,dt)=>Oe+Number(dt.valor),0),Ne=ge.filter(Oe=>Oe.tipo==="despesa"&&Oe.status==="a_pagar").reduce((Oe,dt)=>Oe+Number(dt.valor),0),J=new Date,Me=J.getMonth(),Ie=J.getFullYear(),le=ge.filter(Oe=>{const dt=new Date(Oe.data);return Oe.tipo==="receita"&&Oe.status==="recebido"&&dt.getMonth()===Me&&dt.getFullYear()===Ie}).reduce((Oe,dt)=>Oe+Number(dt.valor),0),Se=ge.filter(Oe=>{const dt=new Date(Oe.data);return Oe.tipo==="despesa"&&Oe.status==="pago"&&dt.getMonth()===Me&&dt.getFullYear()===Ie}).reduce((Oe,dt)=>Oe+Number(dt.valor),0);let Ze=0;try{const{data:Oe,error:dt}=await he.from("inventory_items").select("quantity, unit_price").eq("active",!0);!dt&&Oe&&(Ze=Oe.reduce((_t,Ge)=>_t+Number(Ge.quantity||0)*Number(Ge.unit_price||0),0))}catch(Oe){console.error("Error calculating inventory value:",Oe)}s({totalReceitas:ye,totalDespesas:Ve,saldo:ye-Ve,contasReceber:st,contasPagar:Ne,receitasMes:le,despesasMes:Se,valorEstoque:Ze})},U=ge=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ge),te=ge=>{if(!ge)return"-";const ye=new Date(ge),Ve=String(ye.getDate()).padStart(2,"0"),st=String(ye.getMonth()+1).padStart(2,"0"),Ne=ye.getFullYear();return`${Ve}/${st}/${Ne}`},X=ge=>{switch(ge){case"recebido":case"pago":return n.jsx(Es,{className:"h-4 w-4 text-green-600"});case"a_receber":case"a_pagar":return n.jsx(tr,{className:"h-4 w-4 text-yellow-600"});default:return n.jsx(xs,{className:"h-4 w-4 text-gray-400"})}},se=ge=>({recebido:"Recebido",pago:"Pago",a_receber:"A Receber",a_pagar:"A Pagar"})[ge]||ge,fe=ge=>ge==="receita"?"Income":"Expense",me=t.filter(ge=>{const ye=o==="all"||ge.tipo===o,Ve=c==="all"||ge.status===c,st=!u||ge.descricao?.toLowerCase().includes(u.toLowerCase()),Ne=m==="all"||ge.categoria===m||ge.category===m,J=new Date(ge.data),Me=!b||J.getMonth()+1===parseInt(b),Ie=!g||J.getFullYear()===parseInt(g),le=(!v||ge.data>=v)&&(!B||ge.data<=B);return ye&&Ve&&st&&Ne&&Me&&Ie&&le}),pe=Math.ceil(me.length/L),_e=me.slice((I-1)*L,I*L);return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando dados financeiros..."})]})}):n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(pr,{className:"h-8 w-8 text-green-600"}),"Gestão Financeira"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Receitas, despesas e DRE"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Pl,{to:"/financial-integration",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[n.jsx(pn,{className:"h-4 w-4"}),"Ver Dashboard Financeiro"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Or,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Receitas"})]}),n.jsx("div",{className:"text-3xl font-bold",children:U(r.totalReceitas)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[U(r.receitasMes)," este mês"]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(El,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Despesas"})]}),n.jsx("div",{className:"text-3xl font-bold",children:U(r.totalDespesas)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[U(r.despesasMes)," este mês"]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(pr,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Saldo"})]}),n.jsx("div",{className:"text-3xl font-bold",children:U(r.saldo)}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Resultado líquido"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(tr,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Pendências"})]}),n.jsx("div",{className:"text-3xl font-bold",children:U(r.contasReceber+r.contasPagar)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["↑ ",U(r.contasReceber)," | ↓ ",U(r.contasPagar)]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx($t,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Estoque"})]}),n.jsx("div",{className:"text-3xl font-bold",children:U(r.valorEstoque)}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Valor total em materiais"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(um,{className:"h-5 w-5"}),"Filtros Avançados"]}),n.jsx("button",{onClick:()=>{l("all"),d("all"),h(""),f("all"),y(""),x(""),j(""),C(""),M("data"),k("desc"),_(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Limpar Filtros"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:u,onChange:ge=>{h(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsxs("select",{value:o,onChange:ge=>{l(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os tipos"}),n.jsx("option",{value:"receita",children:"Receitas"}),n.jsx("option",{value:"despesa",children:"Despesas"})]}),n.jsxs("select",{value:c,onChange:ge=>{d(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os status"}),n.jsx("option",{value:"recebido",children:"Recebido"}),n.jsx("option",{value:"pago",children:"Pago"}),n.jsx("option",{value:"a_receber",children:"A Receber"}),n.jsx("option",{value:"a_pagar",children:"A Pagar"})]}),n.jsxs("select",{value:m,onChange:ge=>{f(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todas as categorias"}),T.map(ge=>n.jsx("option",{value:ge.id,children:ge.name},ge.id))]}),n.jsxs("select",{value:b,onChange:ge=>{y(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos os meses"}),n.jsx("option",{value:"1",children:"Janeiro"}),n.jsx("option",{value:"2",children:"Fevereiro"}),n.jsx("option",{value:"3",children:"Março"}),n.jsx("option",{value:"4",children:"Abril"}),n.jsx("option",{value:"5",children:"Maio"}),n.jsx("option",{value:"6",children:"Junho"}),n.jsx("option",{value:"7",children:"Julho"}),n.jsx("option",{value:"8",children:"Agosto"}),n.jsx("option",{value:"9",children:"Setembro"}),n.jsx("option",{value:"10",children:"Outubro"}),n.jsx("option",{value:"11",children:"Novembro"}),n.jsx("option",{value:"12",children:"Dezembro"})]}),n.jsxs("select",{value:g,onChange:ge=>{x(ge.target.value),_(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos os anos"}),[2024,2025,2026].map(ge=>n.jsx("option",{value:ge,children:ge},ge))]}),n.jsx("input",{type:"date",value:v,onChange:ge=>{j(ge.target.value),_(1)},placeholder:"Data início",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"date",value:B,onChange:ge=>{C(ge.target.value),_(1)},placeholder:"Data fim",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordenar por:"}),n.jsxs("select",{value:E,onChange:ge=>M(ge.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"data",children:"Data"}),n.jsx("option",{value:"valor",children:"Valor"}),n.jsx("option",{value:"created_at",children:"Data de Criação"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>k("asc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S==="asc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"↑ Crescente"}),n.jsx("button",{onClick:()=>k("desc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S==="desc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"↓ Decrescente"})]})]})}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",_e.length," de ",me.length," lançamentos"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lançamentos"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Exportar"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>ee(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",title:"Atualizar dados",children:[n.jsx(zs,{className:"h-4 w-4"}),"Atualizar"]}),n.jsxs("button",{onClick:()=>{G(void 0),z(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Lançamento"]})]})]})]}),n.jsx("div",{className:"space-y-2",children:_e.map(ge=>n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:`p-3 rounded-lg ${ge.tipo==="receita"?"bg-green-100":"bg-red-100"}`,children:n.jsx(vt,{className:`h-5 w-5 ${ge.tipo==="receita"?"text-green-600":"text-red-600"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:ge.descricao}),n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${ge.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:fe(ge.tipo)})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[X(ge.status),n.jsx("span",{className:"text-sm text-gray-600",children:se(ge.status)})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`text-lg font-bold ${ge.tipo==="receita"?"text-green-600":"text-red-600"}`,children:[ge.tipo==="receita"?"+":"-"," ",U(Number(ge.valor))]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 justify-end",children:[n.jsx(kr,{className:"h-3 w-3"}),te(ge.data)]})]}),n.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>{G(ge.id),z(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Editar lançamento",children:n.jsx(pn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>Y(ge.id,ge.descricao),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir lançamento",children:n.jsx(rr,{className:"h-4 w-4"})})]})]})]})},ge.id))}),me.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum lançamento encontrado"})]}),me.length>L&&n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Página ",I," de ",pe]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>_(Math.max(1,I-1)),disabled:I===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:pe},(ge,ye)=>ye+1).filter(ge=>ge===1||ge===pe||ge>=I-1&&ge<=I+1).map((ge,ye,Ve)=>n.jsxs("div",{className:"flex items-center",children:[ye>0&&Ve[ye-1]!==ge-1&&n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx("button",{onClick:()=>_(ge),className:`px-3 py-2 rounded-lg ${I===ge?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:ge})]},ge))}),n.jsx("button",{onClick:()=>_(Math.min(pe,I+1)),disabled:I===pe,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Próxima"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(tr,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Última Sincronização"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Agora"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"Plano Atual: Premium"})})]}),n.jsx(rIe,{isOpen:V,onClose:()=>{z(!1),G(void 0)},onSave:()=>{ee(),z(!1),G(void 0)},entryId:Z})]})};mm.register(z1,V1,R1,fm,jk,wk,H1,q1,$1,Q1);const qG=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(null),[a,i]=F.useState(null),[o,l]=F.useState(""),[c,d]=F.useState(""),[u,h]=F.useState([]),[m,f]=F.useState(!1),[b,y]=F.useState({ebitda:0,ebitda_margin:0,gross_margin:0,operating_margin:0,net_margin:0,working_capital:0,current_ratio:0,roi:0,operating_cash_flow:0,net_cash_flow:0}),[g,x]=F.useState(null),[v,j]=F.useState(null),[B,C]=F.useState({total_revenue:0,total_expenses:0,net_result:0,cash_inflow:0,cash_outflow:0,net_cash_flow:0,accounts_receivable:0,accounts_payable:0}),[E,M]=F.useState([]),[S,k]=F.useState(!0),[I,_]=F.useState(!1);F.useEffect(()=>{T(),V()},[]),F.useEffect(()=>{o&&c&&D()},[o,c]),F.useEffect(()=>{m&&a&&L()},[m,a]),F.useEffect(()=>{r&&z()},[r]);const T=async()=>{try{const{data:me,error:pe}=await he.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!1});if(pe)throw pe;if(e(me||[]),me&&me.length>0){const _e=[...new Set(me.map(Ne=>Ne.fiscal_year))].sort((Ne,J)=>J-Ne);h(_e);const ge=new Date,ye=ge.getFullYear(),Ve=(ge.getMonth()+1).toString().padStart(2,"0");d(ye.toString()),l(Ve);const st=me.find(Ne=>Ne.fiscal_year===ye&&Ne.start_date.startsWith(`${ye}-${Ve}`));s(st||me[0])}}catch(me){console.error("Error loading periods:",me)}finally{k(!1)}},D=()=>{if(!o||!c)return;const me=t.find(pe=>pe.fiscal_year===parseInt(c)&&pe.start_date.startsWith(`${c}-${o}`));me&&s(me)},L=async()=>{if(a)try{const[me,pe,_e,ge,ye]=await Promise.all([he.rpc("calculate_ebitda",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),he.rpc("calculate_roi",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),he.from("v_consolidated_financial_summary").select("*").eq("period_id",a.id).maybeSingle(),he.from("v_margin_analysis").select("*").eq("period_id",a.id).maybeSingle(),he.rpc("calculate_working_capital_consolidated",{p_period_id:a.id})]);x({ebitda:me.data?.[0]?.ebitda||0,ebitda_margin:me.data?.[0]?.ebitda_margin||0,gross_margin:ge.data?.gross_margin_percent||0,operating_margin:ge.data?.operating_margin_percent||0,net_margin:0,working_capital:ye.data?.[0]?.working_capital||0,current_ratio:ye.data?.[0]?.current_ratio||0,roi:pe.data?.[0]?.roi_percent||0,operating_cash_flow:_e.data?.net_cash_flow||0,net_cash_flow:_e.data?.net_cash_flow||0}),j({total_revenue:_e.data?.total_revenue||0,total_expenses:_e.data?.total_expenses||0,net_result:(_e.data?.total_revenue||0)-(_e.data?.total_expenses||0),cash_inflow:_e.data?.total_revenue||0,cash_outflow:_e.data?.total_expenses||0,net_cash_flow:_e.data?.net_cash_flow||0,accounts_receivable:_e.data?.accounts_receivable||0,accounts_payable:_e.data?.accounts_payable||0})}catch(me){console.error("Error calculating comparison indicators:",me)}},V=async()=>{try{const{data:me,error:pe}=await he.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!0}).limit(12);if(pe)throw pe;const _e=await Promise.all((me||[]).map(async ge=>{const{data:ye}=await he.from("v_consolidated_financial_summary").select("*").eq("period_id",ge.id).maybeSingle();return{...ge,...ye}}));M(_e)}catch(me){console.error("Error loading monthly data:",me)}},z=async()=>{if(r)try{_(!0);const[me,pe,_e,ge,ye]=await Promise.all([he.rpc("calculate_ebitda",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),he.rpc("calculate_roi",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),he.from("v_consolidated_financial_summary").select("*").eq("period_id",r.id).maybeSingle(),he.from("v_margin_analysis").select("*").eq("period_id",r.id).maybeSingle(),he.rpc("calculate_working_capital_consolidated",{p_period_id:r.id})]);y({ebitda:me.data?.[0]?.ebitda||0,ebitda_margin:me.data?.[0]?.ebitda_margin||0,gross_margin:ge.data?.gross_margin_percent||0,operating_margin:ge.data?.operating_margin_percent||0,net_margin:0,working_capital:ye.data?.[0]?.working_capital||0,current_ratio:ye.data?.[0]?.current_ratio||0,roi:pe.data?.[0]?.roi_percent||0,operating_cash_flow:_e.data?.net_cash_flow||0,net_cash_flow:_e.data?.net_cash_flow||0}),C({total_revenue:_e.data?.total_revenue||0,total_expenses:_e.data?.total_expenses||0,net_result:_e.data?.net_result||0,cash_inflow:_e.data?.cash_inflow||0,cash_outflow:_e.data?.cash_outflow||0,net_cash_flow:_e.data?.net_cash_flow||0,accounts_receivable:_e.data?.accounts_receivable||0,accounts_payable:_e.data?.accounts_payable||0})}catch(me){console.error("Error calculating indicators:",me)}finally{_(!1)}},Z=me=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(me),G=me=>`${me.toFixed(1)}%`,H=me=>me>0?n.jsx(Hf,{className:"h-4 w-4 text-green-600"}):me<0?n.jsx(u1,{className:"h-4 w-4 text-red-600"}):n.jsx(z0,{className:"h-4 w-4 text-gray-400"}),ee=(me,pe)=>pe==="margin"||pe==="ratio"?me>=20?"text-green-600":me>=10?"text-blue-600":me>=0?"text-yellow-600":"text-red-600":me>=0?"text-green-600":"text-red-600",Y={labels:E.map(me=>me.period_name?.split("/")[0]||""),datasets:[{label:"Receitas",data:E.map(me=>me.total_revenue||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:E.map(me=>me.total_expenses||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},q={labels:E.map(me=>me.period_name?.split("/")[0]||""),datasets:[{label:"Resultado Líquido",data:E.map(me=>me.net_result||0),backgroundColor:E.map(me=>(me.net_result||0)>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderColor:E.map(me=>(me.net_result||0)>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),borderWidth:2}]},U={labels:E.map(me=>me.period_name?.split("/")[0]||""),datasets:[{label:"Entradas",data:E.map(me=>me.cash_inflow||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Saídas",data:E.map(me=>me.cash_outflow||0),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2}]},te={labels:["Receitas","Despesas"],datasets:[{data:[B.total_revenue,B.total_expenses],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:2}]},X={labels:["A Receber","A Pagar"],datasets:[{data:[B.accounts_receivable,B.accounts_payable],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(251, 146, 60)"],borderWidth:2}]},se={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12}}},tooltip:{callbacks:{label:me=>{let pe=me.dataset.label||"";return pe&&(pe+=": "),pe+=Z(me.parsed.y||me.parsed),pe}}}},scales:{y:{beginAtZero:!0,ticks:{callback:me=>Z(me)}}}},fe=({title:me,value:pe,icon:_e,type:ge="currency",description:ye})=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:n.jsx(_e,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:me}),ye&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ye})]})]}),H(pe)]}),n.jsxs("div",{className:`text-3xl font-bold ${ee(pe,ge==="percent"?"margin":ge)}`,children:[ge==="currency"&&Z(pe),ge==="percent"&&G(pe),ge==="ratio"&&pe.toFixed(2)]})]});return S?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(zs,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando análise financeira..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(oh,{className:"h-10 w-10 text-blue-600"}),"Análise Financeira Avançada"]}),n.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Dados consolidados: Ordens de Serviço, Estoque, Compras, Folha, Equipamentos e Lançamentos"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(Pl,{to:"/financial",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[n.jsx(DA,{className:"h-4 w-4"}),"Dashboard Integrado"]}),n.jsxs("button",{onClick:z,disabled:I,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(zs,{className:`h-4 w-4 ${I?"animate-spin":""}`}),"Recalcular"]}),n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Exportar"]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(kr,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seleção de Período"})]}),n.jsx("button",{onClick:()=>f(!m),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:m?"Modo Comparação Ativo":"Ativar Comparação"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Período Principal"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Mês"}),n.jsxs("select",{value:o,onChange:me=>l(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"01",children:"Janeiro"}),n.jsx("option",{value:"02",children:"Fevereiro"}),n.jsx("option",{value:"03",children:"Março"}),n.jsx("option",{value:"04",children:"Abril"}),n.jsx("option",{value:"05",children:"Maio"}),n.jsx("option",{value:"06",children:"Junho"}),n.jsx("option",{value:"07",children:"Julho"}),n.jsx("option",{value:"08",children:"Agosto"}),n.jsx("option",{value:"09",children:"Setembro"}),n.jsx("option",{value:"10",children:"Outubro"}),n.jsx("option",{value:"11",children:"Novembro"}),n.jsx("option",{value:"12",children:"Dezembro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ano"}),n.jsx("select",{value:c,onChange:me=>d(me.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(me=>n.jsx("option",{value:me,children:me},me))})]})]}),r&&n.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["Analisando: ",n.jsx("span",{className:"font-semibold text-blue-700",children:r.period_name})]})]}),m&&n.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparar Com"}),n.jsxs("select",{value:a?.id||"",onChange:me=>{const pe=t.find(_e=>_e.id===me.target.value);i(pe||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Selecione um período"}),t.filter(me=>me.id!==r?.id).map(me=>n.jsx("option",{value:me.id,children:me.period_name},me.id))]}),a&&n.jsxs("div",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:["Comparando com: ",n.jsx("span",{className:"font-semibold text-green-700",children:a.period_name})]})]})]})]})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(Or,{className:"h-6 w-6 text-green-600"}),"Indicadores de Rentabilidade"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(fe,{title:"EBITDA",value:b.ebitda,icon:ho,type:"currency",description:"Lucro operacional"}),n.jsx(fe,{title:"Margem EBITDA",value:b.ebitda_margin,icon:Or,type:"percent",description:"% sobre receita"}),n.jsx(fe,{title:"Margem Bruta",value:b.gross_margin,icon:dv,type:"percent",description:"Receita - Custos"}),n.jsx(fe,{title:"Margem Operacional",value:b.operating_margin,icon:DA,type:"percent",description:"Eficiência operacional"})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(pr,{className:"h-6 w-6 text-blue-600"}),"Capital de Giro e Performance"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(fe,{title:"Capital de Giro",value:b.working_capital,icon:oh,type:"currency",description:"Recursos para operação"}),n.jsx(fe,{title:"Liquidez Corrente",value:b.current_ratio,icon:Or,type:"ratio",description:"Capacidade de pagamento"}),n.jsx(fe,{title:"ROI",value:b.roi,icon:xh,type:"percent",description:"Retorno do investimento"}),n.jsx(fe,{title:"Fluxo de Caixa",value:b.net_cash_flow,icon:pr,type:"currency",description:"Variação do caixa"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(W$,{className:"h-5 w-5 text-blue-600"}),"Evolução de Receitas e Despesas"]}),n.jsx("div",{className:"h-80",children:n.jsx(dw,{data:Y,options:se})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(DA,{className:"h-5 w-5 text-green-600"}),"Resultado Líquido Mensal"]}),n.jsx("div",{className:"h-80",children:n.jsx(C0,{data:q,options:se})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(DA,{className:"h-5 w-5 text-purple-600"}),"Fluxo de Caixa (Entradas vs Saídas)"]}),n.jsx("div",{className:"h-80",children:n.jsx(C0,{data:U,options:se})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(dv,{className:"h-5 w-5 text-orange-600"}),"Distribuição do Período"]}),n.jsx("div",{className:"h-80 flex items-center justify-center",children:n.jsx(Wwe,{data:te,options:{...se,scales:void 0}})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(dv,{className:"h-6 w-6 text-indigo-600"}),"Contas a Receber vs A Pagar"]}),n.jsx("div",{className:"h-96 flex items-center justify-center",children:n.jsx(Nv,{data:X,options:{...se,scales:void 0}})})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border-2 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:n.jsx(oh,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Sobre os Indicadores Financeiros"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:"📊 EBITDA"}),n.jsx("p",{children:"Mede o desempenho operacional antes de custos financeiros e contábeis"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:"📈 Margens"}),n.jsx("p",{children:"Indicam a eficiência na conversão de receita em lucro"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:"💰 Capital de Giro"}),n.jsx("p",{children:"Recursos disponíveis para as operações do dia a dia"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:"🎯 ROI"}),n.jsx("p",{children:"Eficiência dos investimentos realizados pela empresa"})]})]})]})]})})]})})},zG=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(!0),[o,l]=F.useState(!1),[c,d]=F.useState(null),[u,h]=F.useState({account_name:"",bank_name:"",account_number:"",balance:0,active:!0});F.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const{data:C,error:E}=await he.from("bank_accounts").select("*").order("created_at",{ascending:!1});if(E)throw E;e(C||[])}catch(C){console.error("Error loading accounts:",C)}finally{s(!1)}},f=async()=>{try{if(!u.account_name||!u.bank_name||!u.account_number){alert("Preencha todos os campos obrigatórios");return}if(c){const{error:C}=await he.from("bank_accounts").update(u).eq("id",c.id);if(C)throw C}else{const{error:C}=await he.from("bank_accounts").insert([u]);if(C)throw C}alert(c?"Conta atualizada!":"Conta criada!"),v(),await m()}catch(C){console.error("Error saving account:",C),alert("Erro ao salvar conta")}},b=async(C,E)=>{if(confirm(`Excluir a conta "${E}"?

Esta ação é irreversível!`))try{const{error:M}=await he.from("bank_accounts").delete().eq("id",C);if(M)throw M;alert("Conta excluída!"),await m()}catch(M){console.error("Error deleting account:",M),alert("Erro ao excluir conta")}},y=async(C,E)=>{try{const{error:M}=await he.from("bank_accounts").update({active:!E}).eq("id",C);if(M)throw M;alert(E?"Conta congelada!":"Conta ativada!"),await m()}catch(M){console.error("Error freezing account:",M),alert("Erro ao alterar status da conta")}},g=async C=>{try{const{error:E}=await he.from("bank_accounts").update({is_default:!0}).eq("id",C);if(E)throw E;alert("Conta definida como padrão!"),await m()}catch(E){console.error("Error setting default account:",E),alert("Erro ao definir conta padrão")}},x=C=>{d(C),h({account_name:C.account_name,bank_name:C.bank_name,account_number:C.account_number,balance:C.balance,active:C.active}),l(!0)},v=()=>{l(!1),d(null),h({account_name:"",bank_name:"",account_number:"",balance:0,active:!0})},j=C=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C):"R$ •••••",B=t.filter(C=>C.active).reduce((C,E)=>C+Number(E.balance),0);return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(pn,{className:"h-8 w-8 text-blue-600"}),"Contas Bancárias"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar contas e saldos"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Nova Conta"]})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-8 text-white shadow-lg mx-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Saldo Total"}),n.jsx("h2",{className:"text-4xl font-bold mt-2",children:j(B)})]}),n.jsx("button",{onClick:()=>i(!a),className:"p-3 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:a?n.jsx(la,{className:"h-6 w-6"}):n.jsx(m1,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-1",children:[n.jsx(Or,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Este mês"})]}),n.jsx("p",{className:"text-xl font-semibold",children:"+R$ 12.450,00"})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-300 mb-1",children:[n.jsx(El,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Saídas"})]}),n.jsx("p",{className:"text-xl font-semibold",children:"-R$ 8.320,00"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-6 pb-6",children:t.map((C,E)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg ${C.active?"bg-blue-100":"bg-gray-100"}`,children:n.jsx(hc,{className:`h-6 w-6 ${C.active?"text-blue-600":"text-gray-400"}`})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:C.account_name}),C.is_default&&n.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1",children:"⭐ Padrão"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:C.bank_name}),!C.active&&n.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1 mt-1",children:[n.jsx(pF,{className:"h-3 w-3"}),"Congelada"]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conta"}),n.jsx("p",{className:"font-mono text-gray-900",children:C.account_number})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Saldo Atual"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(Number(C.balance))})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>x(C),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[n.jsx(pn,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>y(C.id,C.active),className:`flex-1 px-3 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-1 ${C.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:C.active?"Congelar conta":"Ativar conta",children:C.active?n.jsxs(n.Fragment,{children:[n.jsx(pF,{className:"h-4 w-4"})," Congelar"]}):n.jsxs(n.Fragment,{children:[n.jsx(mn,{className:"h-4 w-4"})," Ativar"]})}),n.jsx("button",{onClick:()=>b(C.id,C.account_name),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",title:"Excluir conta",children:n.jsx(rr,{className:"h-4 w-4"})})]}),!C.is_default&&n.jsx("button",{onClick:()=>g(C.id),className:"w-full px-3 py-2 bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 rounded-lg hover:from-yellow-100 hover:to-amber-100 transition-all text-sm font-medium flex items-center justify-center gap-1 border border-yellow-200",children:"⭐ Definir como Padrão"})]})]},C.id))}),t.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 mx-6",children:[n.jsx(pn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma conta cadastrada"}),n.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeira Conta"})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Conta":"Nova Conta Bancária"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),n.jsx("input",{type:"text",value:u.account_name,onChange:C=>h({...u,account_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Conta Corrente Principal"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco *"}),n.jsx("input",{type:"text",value:u.bank_name,onChange:C=>h({...u,bank_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número da Conta *"}),n.jsx("input",{type:"text",value:u.account_number,onChange:C=>h({...u,account_number:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12345-6"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:u.balance,onChange:C=>h({...u,balance:parseFloat(C.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:c?"Atualizar":"Criar Conta"}),n.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},nIe=async()=>{const{data:t,error:e}=await he.from("employees").select("*").eq("active",!0).order("name",{ascending:!0});if(e)throw e;return t||[]},sIe=async t=>{const{data:e,error:r}=await he.from("employees").insert([t]).select().single();if(r)throw r;return e},aIe=async(t,e)=>{const{data:r,error:s}=await he.from("employees").update(e).eq("id",t).select().single();if(s)throw s;return r},iIe=async t=>{const{error:e}=await he.from("employees").update({active:!1}).eq("id",t);if(e)throw e},oIe=async()=>{const{data:t,error:e}=await he.from("user_invitations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},lIe=async t=>{const{data:e,error:r}=await he.from("user_invitations").insert([t]).select().single();if(r)throw r;return e},cIe=async t=>{const{error:e}=await he.from("user_invitations").update({status:"cancelled"}).eq("id",t);if(e)throw e},dIe=async()=>{const{error:t}=await he.rpc("expire_old_invitations");if(t)throw t},VQ=[{value:"driver_license",label:"CNH - Carteira de Habilitação"},{value:"certificate",label:"Certificado / Diploma"},{value:"training",label:"Comprovante de Treinamento"},{value:"contract",label:"Contrato de Trabalho"},{value:"other",label:"Outro Documento"}],uIe=({documents:t,onDocumentAdd:e,onDocumentRemove:r})=>{const[s,a]=F.useState("driver_license"),[i,o]=F.useState(""),[l,c]=F.useState(!1),d=async h=>{const m=h.target.files?.[0];if(m){if(m.size>10*1024*1024){alert("Arquivo muito grande! Tamanho máximo: 10MB");return}c(!0);try{const f=new FileReader;f.onloadend=()=>{const b=f.result;e({document_type:s,file_name:m.name,file_url:b,file_size:m.size,notes:i||void 0}),o(""),h.target.value=""},f.readAsDataURL(m)}catch(f){console.error("Error uploading file:",f),alert("Erro ao fazer upload do arquivo")}finally{c(!1)}}},u=h=>{if(!h)return"0 KB";const m=h/1024;return m<1024?`${m.toFixed(1)} KB`:`${(m/1024).toFixed(1)} MB`};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Upload de Documento"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),n.jsx("select",{value:s,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:VQ.map(h=>n.jsx("option",{value:h.value,children:h.label},h.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações (opcional)"}),n.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Válida até 2026, Curso concluído em 2023..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo (PDF, JPG, PNG - Máx. 10MB)"}),n.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[n.jsx(d0,{className:"h-5 w-5 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:l?"Enviando...":"Clique para selecionar arquivo"}),n.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:d,disabled:l})]})]})]})]}),t.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Documentos Anexados"}),n.jsx(Nt,{children:t.map((h,m)=>n.jsxs(ue.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(f1,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.file_name}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("span",{children:VQ.find(f=>f.value===h.document_type)?.label}),n.jsx("span",{children:"•"}),n.jsx("span",{children:u(h.file_size)})]}),h.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.notes})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("a",{href:h.file_url,download:h.file_name,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:n.jsx(ys,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>h.id&&r(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover",children:n.jsx(rr,{className:"h-4 w-4"})})]})]},h.id||m))})]})]})},KQ=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),W4=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"),hIe=t=>t.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),md=t=>t.replace(/\D/g,""),AIe=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let s=11-r%11;if(s>=10&&(s=0),s!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return s=11-r%11,s>=10&&(s=0),s===parseInt(e.charAt(10))},mIe=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),fIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(null),[u,h]=F.useState("personal"),[m,f]=F.useState([]),[b,y]=F.useState(!1),[g,x]=F.useState({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""});F.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const T=await nIe();e(T)}catch(T){console.error("Error loading employees:",T)}finally{s(!1)}},j=T=>{T?(d(T),x(T)):(d(null),x({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""}),f([])),h("personal"),l(!0)},B=()=>{l(!1),d(null),f([])},C=async T=>{const D=md(T);if(D.length===8){y(!0);try{const V=await(await fetch(`https://viacep.com.br/ws/${D}/json/`)).json();V.erro||x(z=>({...z,address_street:V.logradouro||z.address_street,address_neighborhood:V.bairro||z.address_neighborhood,address_city:V.localidade||z.address_city,address_state:V.uf||z.address_state}))}catch(L){console.error("Error fetching CEP:",L)}finally{y(!1)}}},E=async T=>{if(T.preventDefault(),!g.name){alert("Por favor, preencha o nome do funcionário");return}if(g.cpf&&!AIe(g.cpf)){alert("CPF inválido");return}if(g.email&&!mIe(g.email)){alert("E-mail inválido");return}try{const D={...g,cpf:g.cpf?md(g.cpf):void 0,phone:g.phone?md(g.phone):void 0,address_zip_code:g.address_zip_code?md(g.address_zip_code):void 0,emergency_contact_phone:g.emergency_contact_phone?md(g.emergency_contact_phone):void 0,birth_date:g.birth_date||null,admission_date:g.admission_date||null,driver_license_expiry:g.driver_license_expiry||null};c?.id?await aIe(c.id,D):await sIe(D),await v(),B()}catch(D){console.error("Error saving employee:",D),alert("Erro ao salvar funcionário")}},M=async T=>{if(confirm("Tem certeza que deseja desativar este funcionário?"))try{await iIe(T),await v()}catch(D){console.error("Error deleting employee:",D),alert("Erro ao desativar funcionário")}},S=T=>{f(D=>[...D,{...T,id:Date.now().toString(),employee_id:c?.id||"temp"}])},k=T=>{f(D=>D.filter(L=>L.id!==T))},I=t.filter(T=>T.name.toLowerCase().includes(a.toLowerCase())||T.email?.toLowerCase().includes(a.toLowerCase())||T.role?.toLowerCase().includes(a.toLowerCase())||T.cpf?.includes(a)||T.department?.toLowerCase().includes(a.toLowerCase())),_=[{id:"personal",label:"Dados Pessoais",icon:nn},{id:"address",label:"Endereço",icon:lo},{id:"bank",label:"Dados Bancários",icon:pn},{id:"license",label:"CNH",icon:Tv},{id:"emergency",label:"Emergência",icon:un},{id:"documents",label:"Documentos",icon:vt}];return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(Zt,{className:"h-8 w-8 text-blue-600"}),"Gerenciamento de Funcionários"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie a equipe da sua empresa"})]}),n.jsxs("button",{onClick:()=>j(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Novo Funcionário"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, CPF, departamento...",value:a,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando funcionários..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(Nt,{children:I.map(T=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(Zt,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),T.role&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(qre,{className:"h-3 w-3"}),n.jsx("span",{children:T.role})]}),T.department&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:T.department})]})]}),n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${T.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.active?n.jsx(Zae,{className:"h-3 w-3"}):n.jsx(sie,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[T.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ks,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:T.email})]}),T.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(Ya,{className:"h-4 w-4"}),n.jsx("span",{children:W4(T.phone)})]}),T.cpf&&n.jsxs("div",{className:"text-xs text-gray-500",children:["CPF: ",KQ(T.cpf)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>j(T),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors",children:[n.jsx(sae,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>T.id&&M(T.id),className:"px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(rr,{className:"h-4 w-4"})})]})]},T.id))})}),n.jsx(Nt,{children:o&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Editar Funcionário":"Novo Funcionário"}),n.jsx("button",{onClick:B,className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:_.map(T=>{const D=T.icon;return n.jsxs("button",{onClick:()=>h(T.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${u===T.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[n.jsx(D,{className:"h-4 w-4"}),T.label]},T.id)})}),n.jsxs("form",{onSubmit:E,className:"flex-1 overflow-y-auto p-6",children:[u==="personal"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Pessoais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:g.name,onChange:T=>x(D=>({...D,name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),n.jsx("input",{type:"text",value:g.cpf?KQ(g.cpf):"",onChange:T=>x(D=>({...D,cpf:md(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",maxLength:14})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RG"}),n.jsx("input",{type:"text",value:g.rg||"",onChange:T=>x(D=>({...D,rg:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),n.jsx("input",{type:"date",value:g.birth_date||"",onChange:T=>x(D=>({...D,birth_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Admissão"}),n.jsx("input",{type:"date",value:g.admission_date||"",onChange:T=>x(D=>({...D,admission_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),n.jsx("input",{type:"email",value:g.email||"",onChange:T=>x(D=>({...D,email:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:g.phone?W4(g.phone):"",onChange:T=>x(D=>({...D,phone:md(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),n.jsx("input",{type:"text",value:g.role||"",onChange:T=>x(D=>({...D,role:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Técnico, Supervisor..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:g.department||"",onChange:T=>x(D=>({...D,department:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Manutenção, Instalação..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salário (R$)"}),n.jsx("input",{type:"number",value:g.salary||"",onChange:T=>x(D=>({...D,salary:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:g.active?"true":"false",onChange:T=>x(D=>({...D,active:T.target.value==="true"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]})]})]}),u==="address"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereço Residencial"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:g.address_zip_code?hIe(g.address_zip_code):"",onChange:T=>{const D=md(T.target.value);x(L=>({...L,address_zip_code:D})),D.length===8&&C(D)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000",maxLength:9}),b&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"})})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),n.jsx("input",{type:"text",value:g.address_street||"",onChange:T=>x(D=>({...D,address_street:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número"}),n.jsx("input",{type:"text",value:g.address_number||"",onChange:T=>x(D=>({...D,address_number:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:g.address_complement||"",onChange:T=>x(D=>({...D,address_complement:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Apto, bloco, casa..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:g.address_neighborhood||"",onChange:T=>x(D=>({...D,address_neighborhood:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),n.jsxs("select",{value:g.address_state||"",onChange:T=>x(D=>({...D,address_state:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"AC",children:"AC"}),n.jsx("option",{value:"AL",children:"AL"}),n.jsx("option",{value:"AP",children:"AP"}),n.jsx("option",{value:"AM",children:"AM"}),n.jsx("option",{value:"BA",children:"BA"}),n.jsx("option",{value:"CE",children:"CE"}),n.jsx("option",{value:"DF",children:"DF"}),n.jsx("option",{value:"ES",children:"ES"}),n.jsx("option",{value:"GO",children:"GO"}),n.jsx("option",{value:"MA",children:"MA"}),n.jsx("option",{value:"MT",children:"MT"}),n.jsx("option",{value:"MS",children:"MS"}),n.jsx("option",{value:"MG",children:"MG"}),n.jsx("option",{value:"PA",children:"PA"}),n.jsx("option",{value:"PB",children:"PB"}),n.jsx("option",{value:"PR",children:"PR"}),n.jsx("option",{value:"PE",children:"PE"}),n.jsx("option",{value:"PI",children:"PI"}),n.jsx("option",{value:"RJ",children:"RJ"}),n.jsx("option",{value:"RN",children:"RN"}),n.jsx("option",{value:"RS",children:"RS"}),n.jsx("option",{value:"RO",children:"RO"}),n.jsx("option",{value:"RR",children:"RR"}),n.jsx("option",{value:"SC",children:"SC"}),n.jsx("option",{value:"SP",children:"SP"}),n.jsx("option",{value:"SE",children:"SE"}),n.jsx("option",{value:"TO",children:"TO"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:g.address_city||"",onChange:T=>x(D=>({...D,address_city:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="bank"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informações Bancárias"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),n.jsx("input",{type:"text",value:g.bank_name||"",onChange:T=>x(D=>({...D,bank_name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil, Caixa Econômica..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agência"}),n.jsx("input",{type:"text",value:g.bank_agency||"",onChange:T=>x(D=>({...D,bank_agency:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),n.jsx("input",{type:"text",value:g.bank_account||"",onChange:T=>x(D=>({...D,bank_account:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),n.jsxs("select",{value:g.bank_account_type||"checking",onChange:T=>x(D=>({...D,bank_account_type:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"checking",children:"Conta Corrente"}),n.jsx("option",{value:"savings",children:"Conta Poupança"}),n.jsx("option",{value:"salary",children:"Conta Salário"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave PIX"}),n.jsx("input",{type:"text",value:g.pix_key||"",onChange:T=>x(D=>({...D,pix_key:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF, e-mail, telefone ou chave aleatória"})]})]})]}),u==="license"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carteira de Habilitação (CNH)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número da CNH"}),n.jsx("input",{type:"text",value:g.driver_license_number||"",onChange:T=>x(D=>({...D,driver_license_number:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000000000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{value:g.driver_license_category||"",onChange:T=>x(D=>({...D,driver_license_category:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"A",children:"A - Moto"}),n.jsx("option",{value:"B",children:"B - Carro"}),n.jsx("option",{value:"C",children:"C - Caminhão"}),n.jsx("option",{value:"D",children:"D - Ônibus"}),n.jsx("option",{value:"E",children:"E - Carreta"}),n.jsx("option",{value:"AB",children:"AB - Moto e Carro"}),n.jsx("option",{value:"AC",children:"AC - Moto e Caminhão"}),n.jsx("option",{value:"AD",children:"AD - Moto e Ônibus"}),n.jsx("option",{value:"AE",children:"AE - Moto e Carreta"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Validade"}),n.jsx("input",{type:"date",value:g.driver_license_expiry||"",onChange:T=>x(D=>({...D,driver_license_expiry:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="emergency"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contato de Emergência"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),n.jsx("input",{type:"text",value:g.emergency_contact_name||"",onChange:T=>x(D=>({...D,emergency_contact_name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato"}),n.jsx("input",{type:"text",value:g.emergency_contact_phone?W4(g.emergency_contact_phone):"",onChange:T=>x(D=>({...D,emergency_contact_phone:md(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(un,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Informação Importante"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Este contato será acionado em caso de emergências envolvendo o funcionário. Certifique-se de que os dados estão corretos e atualizados."})]})]})})]}),u==="documents"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexados"}),n.jsx(uIe,{employeeId:c?.id,documents:m,onDocumentAdd:S,onDocumentRemove:k})]})]}),n.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:B,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:E,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[n.jsx(Nr,{className:"h-4 w-4"}),"Salvar Funcionário"]})]})]})})})]})})},pIe=()=>{const{user:t}=Mn(),[e,r]=F.useState([]),[s,a]=F.useState(!0),[i,o]=F.useState(!1),[l,c]=F.useState({email:"",role:"technician"});F.useEffect(()=>{d(),dIe()},[]);const d=async()=>{try{a(!0);const j=await oIe();r(j)}catch(j){console.error("Error loading invitations:",j)}finally{a(!1)}},u=async j=>{if(j.preventDefault(),!l.email){alert("Por favor, insira um email");return}try{await lIe({email:l.email,role:l.role,invited_by:t?.id}),await d(),o(!1),c({email:"",role:"technician"})}catch(B){console.error("Error creating invitation:",B),alert("Erro ao criar convite. Verifique se o email já não foi convidado.")}},h=async j=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await cIe(j),await d()}catch(B){console.error("Error canceling invitation:",B),alert("Erro ao cancelar convite")}},m=j=>{const B=`${window.location.origin}/register?token=${j}`;navigator.clipboard.writeText(B),alert("Link copiado para a área de transferência!")},f=j=>{switch(j){case"pending":return n.jsx(tr,{className:"h-5 w-5 text-yellow-600"});case"accepted":return n.jsx(Es,{className:"h-5 w-5 text-green-600"});case"expired":return n.jsx(lh,{className:"h-5 w-5 text-red-600"});case"cancelled":return n.jsx(xs,{className:"h-5 w-5 text-gray-600"});default:return n.jsx(tr,{className:"h-5 w-5 text-gray-600"})}},b=j=>{switch(j){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";default:return"Desconhecido"}},y=j=>{switch(j){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=j=>{switch(j){case"admin":return"Administrador";case"technician":return"Técnico";case"external":return"Externo";default:return"Usuário"}},x=j=>{switch(j){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},v=j=>j?new Date(j).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(ks,{className:"h-8 w-8 text-blue-600"}),"Convites de Usuários"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Convide novos usuários para acessar o sistema"})]}),n.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Novo Convite"]})]}),s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando convites..."})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Função"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expira em"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.jsx(Nt,{children:e.map(j=>n.jsxs(ue.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(j.role)}`,children:g(j.role)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[f(j.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(j.status)}`,children:b(j.status)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v(j.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v(j.expires_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:j.status==="pending"&&j.token&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>m(j.token),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Copiar link do convite",children:n.jsx(Pd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>h(j.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Cancelar convite",children:n.jsx(Et,{className:"h-4 w-4"})})]})})})]},j.id))})})]})}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ks,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum convite encontrado"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crie convites para novos usuários"})]})]})]}),n.jsx(Nt,{children:i&&n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:n.jsxs(ue.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:j=>j.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(bi,{className:"h-6 w-6 text-blue-600"}),"Novo Convite"]}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Et,{className:"h-6 w-6"})})]})}),n.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Usuário *"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:j=>c({...l,email:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"usuario@exemplo.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Função no Sistema *"}),n.jsxs("select",{value:l.role,onChange:j=>c({...l,role:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"technician",children:"Técnico"}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"external",children:"Externo"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O convite expira em 7 dias"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors",children:[n.jsx(bi,{className:"h-4 w-4"}),"Enviar Convite"]})]})]})]})})})]})},gIe=()=>{const[t,e]=F.useState("users"),[r,s]=F.useState(!1),[a,i]=F.useState(!1),[o,l]=F.useState(null),[c,d]=F.useState(null),[u]=F.useState([{id:"view_dashboard",name:"Visualizar Dashboard",description:"Acesso ao painel principal",category:"Dashboard"},{id:"manage_orders",name:"Gerenciar OS",description:"Criar, editar e excluir ordens de serviço",category:"Ordens de Serviço"},{id:"view_orders",name:"Visualizar OS",description:"Apenas visualizar ordens de serviço",category:"Ordens de Serviço"},{id:"manage_clients",name:"Gerenciar Clientes",description:"Cadastrar e editar clientes",category:"Clientes"},{id:"view_clients",name:"Visualizar Clientes",description:"Apenas visualizar dados de clientes",category:"Clientes"},{id:"manage_inventory",name:"Gerenciar Estoque",description:"Controle total do estoque",category:"Estoque"},{id:"view_inventory",name:"Visualizar Estoque",description:"Consultar estoque sem alterações",category:"Estoque"},{id:"manage_financial",name:"Gerenciar Financeiro",description:"Acesso total ao módulo financeiro",category:"Financeiro"},{id:"view_financial",name:"Visualizar Financeiro",description:"Relatórios financeiros básicos",category:"Financeiro"},{id:"view_bank_balances",name:"Visualizar Saldos Bancários",description:"Ver saldos das contas bancárias",category:"Financeiro"},{id:"manage_users",name:"Gerenciar Usuários",description:"Administrar contas de usuário",category:"Administração"},{id:"system_settings",name:"Configurações do Sistema",description:"Alterar configurações globais",category:"Administração"}]),[h,m]=F.useState([{id:"admin",name:"Administrador",description:"Acesso total ao sistema",level:10,permissions:u.map(T=>T.id),color:"from-red-500 to-pink-500",isSystem:!0},{id:"manager",name:"Gerente",description:"Gestão de operações e equipe",level:8,permissions:["view_dashboard","manage_orders","manage_clients","manage_inventory","view_financial","view_bank_balances"],color:"from-blue-500 to-cyan-500",isSystem:!0},{id:"technician",name:"Técnico",description:"Execução de serviços em campo",level:5,permissions:["view_dashboard","view_orders","view_clients","view_inventory"],color:"from-green-500 to-emerald-500",isSystem:!0},{id:"external",name:"Funcionário Externo",description:"Acesso limitado para terceirizados",level:3,permissions:["view_orders","view_clients"],color:"from-yellow-500 to-orange-500",isSystem:!1}]),[f,b]=F.useState([{id:1,name:"João Silva",email:"joao@giartech.com",role:"admin",status:"active",lastLogin:"2024-01-20T10:30:00",isExternal:!1,department:"TI",permissions:[]},{id:2,name:"Maria Santos",email:"maria@giartech.com",role:"manager",status:"active",lastLogin:"2024-01-20T09:15:00",isExternal:!1,department:"Operações",permissions:[]},{id:3,name:"Carlos Técnico",email:"carlos@terceirizada.com",role:"external",status:"active",lastLogin:"2024-01-19T16:45:00",isExternal:!0,permissions:["view_orders"]}]),[y,g]=F.useState({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),[x,v]=F.useState({name:"",description:"",level:1,permissions:[]}),j=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},B=T=>{switch(T){case"active":return"Ativo";case"inactive":return"Inativo";case"pending":return"Pendente";default:return"Desconhecido"}},C=T=>h.find(D=>D.id===T)||h[0],E=()=>{if(y.name.trim()&&y.email.trim()&&y.role){const T={id:Date.now(),name:y.name,email:y.email,role:y.role,status:"pending",lastLogin:"",isExternal:y.isExternal,department:y.department||void 0,permissions:y.permissions};b([...f,T]),g({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),s(!1),alert("Usuário criado com sucesso!")}},M=()=>{if(x.name.trim()&&x.description.trim()){const T={id:Date.now().toString(),name:x.name,description:x.description,level:x.level,permissions:x.permissions,color:"from-gray-500 to-gray-600",isSystem:!1};m([...h,T]),v({name:"",description:"",level:1,permissions:[]}),i(!1),alert("Perfil criado com sucesso!")}},S=T=>{b(f.map(D=>D.id===T?{...D,status:D.status==="active"?"inactive":"active"}:D))},k=T=>{if(h.find(L=>L.id===T)?.isSystem){alert("Não é possível excluir perfis do sistema");return}confirm("Tem certeza que deseja excluir este perfil?")&&m(h.filter(L=>L.id!==T))},I=u.reduce((T,D)=>(T[D.category]||(T[D.category]=[]),T[D.category].push(D),T),{}),_={totalUsers:f.length,activeUsers:f.filter(T=>T.status==="active").length,externalUsers:f.filter(T=>T.isExternal).length,totalRoles:h.length};return n.jsxs("div",{className:"p-3 space-y-4",children:[n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gestão de Acesso"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Controle de permissões e usuários"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsxs("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(rH,{className:"h-3 w-3"}),n.jsx("span",{children:"Usuário"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(Ot,{className:"h-3 w-3"}),n.jsx("span",{children:"Perfil"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Usuários",value:_.totalUsers,color:"from-blue-500 to-cyan-500",icon:Zt},{label:"Ativos",value:_.activeUsers,color:"from-green-500 to-emerald-500",icon:mn},{label:"Externos",value:_.externalUsers,color:"from-yellow-500 to-orange-500",icon:VA},{label:"Perfis",value:_.totalRoles,color:"from-purple-500 to-pink-500",icon:rn}].map((T,D)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-3 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${T.color} rounded-lg flex items-center justify-center`,children:n.jsx(T.icon,{className:"h-4 w-4 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:T.value}),n.jsx("p",{className:"text-xs text-gray-600",children:T.label})]},T.label))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"users",label:"Usuários",icon:Zt},{id:"roles",label:"Perfis",icon:rn},{id:"permissions",label:"Permissões",icon:Vf}].map(T=>n.jsxs("button",{onClick:()=>e(T.id),className:`flex-1 flex items-center justify-center space-x-1 py-3 px-2 transition-colors ${t===T.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(T.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium text-xs",children:T.label})]},T.id))}),n.jsxs("div",{className:"p-3",children:[t==="users"&&n.jsx("div",{className:"space-y-3",children:f.map((T,D)=>{const L=C(T.role);return n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.isExternal?"bg-yellow-100":"bg-blue-100"}`,children:T.isExternal?n.jsx(VA,{className:"h-5 w-5 text-yellow-600"}):n.jsx(nn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:T.name}),n.jsx("p",{className:"text-xs text-gray-600",children:T.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j(T.status)}`,children:B(T.status)}),T.isExternal&&n.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Ext"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Perfil:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${L.color} rounded-full`}),n.jsx("span",{className:"font-medium",children:L.name})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Depto:"}),n.jsx("p",{className:"font-medium",children:T.department||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Último Acesso:"}),n.jsx("p",{className:"font-medium",children:T.lastLogin?new Date(T.lastLogin).toLocaleDateString("pt-BR"):"Nunca"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Nível:"}),n.jsxs("p",{className:"font-medium",children:["Nível ",L.level]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>l(T),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-1 text-xs",children:[n.jsx(fi,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>S(T.id),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.status==="active"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:[T.status==="active"?n.jsx(Ro,{className:"h-3 w-3"}):n.jsx(J$,{className:"h-3 w-3"}),n.jsx("span",{children:T.status==="active"?"Desativar":"Ativar"})]})]})]},T.id)})}),t==="roles"&&n.jsx("div",{className:"space-y-3",children:h.map((T,D)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${T.color} rounded-xl flex items-center justify-center`,children:T.isSystem?n.jsx(Vx,{className:"h-5 w-5 text-white"}):n.jsx(rn,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[T.name,T.isSystem&&n.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Sistema"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:T.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Nível"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:T.level})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:["Permissões (",T.permissions.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.permissions.slice(0,3).map(L=>{const V=u.find(z=>z.id===L);return V?n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:V.name},L):null}),T.permissions.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",T.permissions.length-3]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>d(T),disabled:T.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[n.jsx(fi,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>k(T.id),disabled:T.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[n.jsx(rr,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},T.id))}),t==="permissions"&&n.jsx("div",{className:"space-y-4",children:Object.entries(I).map(([T,D],L)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:T}),n.jsx("div",{className:"space-y-2",children:D.map(V=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-xs mb-1",children:V.name}),n.jsx("p",{className:"text-xs text-gray-600",children:V.description}),n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:V.id})]},V.id))})]},T))})]})]}),n.jsx(Nt,{children:r&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-sm shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Usuário"}),n.jsx("button",{onClick:()=>s(!1),children:n.jsx(Et,{className:"h-5 w-5 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:y.name,onChange:T=>g({...y,name:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do usuário"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:y.email,onChange:T=>g({...y,email:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil de Acesso"}),n.jsxs("select",{value:y.role,onChange:T=>g({...y,role:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um perfil"}),h.map(T=>n.jsx("option",{value:T.id,children:T.name},T.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:y.department,onChange:T=>g({...y,department:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Departamento (opcional)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isExternal",checked:y.isExternal,onChange:T=>g({...y,isExternal:T.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"isExternal",className:"text-sm text-gray-700",children:"Funcionário Externo"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-4",children:[n.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsxs("button",{onClick:E,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:[n.jsx(Nr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})}),n.jsx(Nt,{children:a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Perfil"}),n.jsx("button",{onClick:()=>i(!1),children:n.jsx(Et,{className:"h-5 w-5 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Perfil"}),n.jsx("input",{type:"text",value:x.name,onChange:T=>v({...x,name:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do perfil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nível de Acesso"}),n.jsx("input",{type:"number",min:"1",max:"10",value:x.level,onChange:T=>v({...x,level:parseInt(T.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:x.description,onChange:T=>v({...x,description:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrição do perfil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permissões"}),n.jsx("div",{className:"space-y-3",children:Object.entries(I).map(([T,D])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:T}),n.jsx("div",{className:"space-y-1",children:D.map(L=>n.jsxs("label",{className:"flex items-start space-x-2",children:[n.jsx("input",{type:"checkbox",checked:x.permissions.includes(L.id),onChange:V=>{V.target.checked?v({...x,permissions:[...x.permissions,L.id]}):v({...x,permissions:x.permissions.filter(z=>z!==L.id)})},className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:L.name}),n.jsx("p",{className:"text-xs text-gray-600",children:L.description})]})]},L.id))})]},T))})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-4",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsxs("button",{onClick:M,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg text-sm",children:[n.jsx(Nr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})})]})},VG=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(!1),[o,l]=F.useState(null),[c,d]=F.useState(null),[u,h]=F.useState("all"),[m,f]=F.useState(""),[b,y]=F.useState(new Set),[g,x]=F.useState({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:null,active:!0});F.useEffect(()=>{v()},[]);const v=async()=>{try{s(!0);const{data:I,error:_}=await he.from("financial_categories").select("*").order("name",{ascending:!0});if(_)throw _;const T=new Map;I?.forEach(L=>{T.set(L.id,{...L,subcategories:[]})});const D=[];T.forEach(L=>{if(L.parent_id){const V=T.get(L.parent_id);V&&(V.subcategories=V.subcategories||[],V.subcategories.push(L))}else D.push(L)}),e(D)}catch(I){console.error("Error loading categories:",I)}finally{s(!1)}},j=async()=>{try{if(!g.name){alert("Nome é obrigatório!");return}const I={name:g.name,type:g.type,color:g.color,icon:g.icon,parent_id:g.parent_id||null,active:g.active};if(o){const{error:_}=await he.from("financial_categories").update({...I,updated_at:new Date().toISOString()}).eq("id",o.id);if(_)throw _}else{const{error:_}=await he.from("financial_categories").insert([I]);if(_)throw _}v(),E()}catch(I){console.error("Error saving category:",I),alert("Erro ao salvar categoria!")}},B=async I=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{const{error:_}=await he.from("financial_categories").delete().eq("id",I);if(_)throw _;v()}catch(_){console.error("Error deleting category:",_),alert("Erro ao excluir categoria! Verifique se não existem lançamentos vinculados.")}},C=(I,_)=>{I?(l(I),x({name:I.name,type:I.type,color:I.color,icon:I.icon,parent_id:I.parent_id,active:I.active})):(l(null),x({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:_||null,active:!0})),i(!0)},E=()=>{i(!1),l(null),d(null)},M=I=>{const _=new Set(b);_.has(I)?_.delete(I):_.add(I),y(_)},S=t.filter(I=>{const _=u==="all"||I.type===u,T=I.name.toLowerCase().includes(m.toLowerCase());return _&&T}),k=[{value:"#10b981",label:"Verde"},{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#f59e0b",label:"Laranja"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#06b6d4",label:"Ciano"},{value:"#6366f1",label:"Índigo"}];return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ov,{className:"h-8 w-8 text-blue-600"}),"Categorias de Lançamento"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias e subcategorias de receitas e despesas"})]}),n.jsxs("button",{onClick:()=>C(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Nova Categoria"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:m,onChange:I=>f(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),n.jsxs("button",{onClick:()=>h("receita"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="receita"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Or,{className:"h-4 w-4"}),"Receitas"]}),n.jsxs("button",{onClick:()=>h("despesa"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="despesa"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(El,{className:"h-4 w-4"}),"Despesas"]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(I=>n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${I.color}20`},children:I.type==="receita"?n.jsx(Or,{className:"h-6 w-6",style:{color:I.color}}):n.jsx(El,{className:"h-6 w-6",style:{color:I.color}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:I.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I.type==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:I.type==="receita"?"Receita":"Despesa"}),I.subcategories&&I.subcategories.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[I.subcategories.length," subcategorias"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>d(I),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar",children:n.jsx(la,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>C(I),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:n.jsx(pn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>B(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:n.jsx(rr,{className:"h-4 w-4"})})]})]}),I.subcategories&&I.subcategories.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsxs("button",{onClick:()=>M(I.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(A1,{className:`h-4 w-4 transition-transform ${b.has(I.id)?"rotate-90":""}`}),"Ver subcategorias"]}),b.has(I.id)&&n.jsx("div",{className:"mt-2 space-y-2",children:I.subcategories.map(_=>n.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(CS,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:_.name})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>C(_),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:n.jsx(pn,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>B(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:n.jsx(rr,{className:"h-3 w-3"})})]})]},_.id))})]}),n.jsxs("button",{onClick:()=>C(void 0,I.id),className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(Zne,{className:"h-4 w-4"}),"Adicionar Subcategoria"]})]})},I.id))}),S.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[n.jsx(Ov,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma categoria encontrada"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira categoria de lançamento"}),n.jsxs("button",{onClick:()=>C(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Nova Categoria"]})]}),n.jsx(Nt,{children:a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:o?"Editar Categoria":"Nova Categoria"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:g.parent_id?"Criando subcategoria":"Categoria principal de lançamentos"})]}),n.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Categoria ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:g.name,onChange:I=>x({...g,name:I.target.value}),placeholder:"Ex: Serviços Prestados",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>x({...g,type:"receita"}),className:`p-4 border-2 rounded-lg transition-all ${g.type==="receita"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(Or,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Receita"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Entrada de dinheiro"})]}),n.jsxs("button",{type:"button",onClick:()=>x({...g,type:"despesa"}),className:`p-4 border-2 rounded-lg transition-all ${g.type==="despesa"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(El,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Despesa"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Saída de dinheiro"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),n.jsx("div",{className:"grid grid-cols-8 gap-2",children:k.map(I=>n.jsx("button",{type:"button",onClick:()=>x({...g,color:I.value}),className:`w-10 h-10 rounded-lg transition-all ${g.color===I.value?"ring-2 ring-offset-2 ring-blue-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:I.value},title:I.label},I.value))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"active",checked:g.active,onChange:I=>x({...g,active:I.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Categoria ativa"})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[n.jsx("button",{onClick:E,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(pr,{className:"h-4 w-4"}),"Salvar Categoria"]})]})]})})}),n.jsx(Nt,{children:c&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl",children:[n.jsx("div",{className:"p-6 border-b text-white",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`},children:n.jsxs("div",{className:"flex items-center gap-4",children:[c.type==="receita"?n.jsx(Or,{className:"h-12 w-12"}):n.jsx(El,{className:"h-12 w-12"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:c.name}),n.jsx("p",{className:"text-white/80 text-sm",children:c.type==="receita"?"Categoria de Receita":"Categoria de Despesa"})]})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tipo"}),n.jsx("p",{className:"font-medium capitalize",children:c.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${c.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.active?"Ativa":"Inativa"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Cor"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:c.color}}),n.jsx("span",{className:"font-mono text-sm",children:c.color})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Subcategorias"}),n.jsx("p",{className:"font-medium",children:c.subcategories?.length||0})]})]}),c.subcategories&&c.subcategories.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subcategorias:"}),n.jsx("div",{className:"space-y-2",children:c.subcategories.map(I=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2",children:[n.jsx(CS,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium",children:I.name})]},I.id))})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[n.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"}),n.jsxs("button",{onClick:()=>{C(c),d(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(pn,{className:"h-4 w-4"}),"Editar"]})]})]})})})]})},Hg={customers:"Clientes",service_orders:"Ordens de Serviço",agenda:"Agenda",finance_entries:"Lançamentos Financeiros",employees:"Funcionários",materials:"Materiais",service_catalog:"Catálogo de Serviços",user_profiles:"Perfis de Usuários"},WQ={INSERT:n.jsx(Ot,{className:"w-4 h-4"}),UPDATE:n.jsx(pn,{className:"w-4 h-4"}),DELETE:n.jsx(rr,{className:"w-4 h-4"})},GQ={INSERT:"bg-green-100 text-green-700 border-green-200",UPDATE:"bg-blue-100 text-blue-700 border-blue-200",DELETE:"bg-red-100 text-red-700 border-red-200"},G4={INSERT:"Criação",UPDATE:"Edição",DELETE:"Exclusão"};function xIe(){const[t,e]=F.useState([]),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState(null),[c,d]=F.useState({table:"",operation:"",user:"",dateFrom:"",dateTo:"",search:""});F.useEffect(()=>{u()},[c]);const u=async()=>{i(!0);try{let m=he.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);c.table&&(m=m.eq("table_name",c.table)),c.operation&&(m=m.eq("operation",c.operation)),c.user&&(m=m.ilike("user_email",`%${c.user}%`)),c.dateFrom&&(m=m.gte("created_at",c.dateFrom)),c.dateTo&&(m=m.lte("created_at",c.dateTo));const{data:f}=await m,{data:b}=await he.from("audit_summary_by_table").select("*");e(f||[]),s(b||[])}catch(m){console.error("Error loading audit data:",m)}finally{i(!1)}},h=()=>{const m=["Data/Hora","Tabela","Operação","Usuário","ID do Registro"],f=t.map(v=>[yn(new Date(v.created_at),"dd/MM/yyyy HH:mm:ss"),Hg[v.table_name]||v.table_name,G4[v.operation],v.user_email||"Sistema",v.record_id]),b=[m.join(","),...f.map(v=>v.map(j=>`"${j}"`).join(","))].join(`
`),y=new Blob([b],{type:"text/csv"}),g=window.URL.createObjectURL(y),x=document.createElement("a");x.href=g,x.download=`auditoria_${yn(new Date,"yyyy-MM-dd_HHmmss")}.csv`,x.click()};return a?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(rn,{className:"w-8 h-8 text-blue-600"}),"Auditoria do Sistema"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Rastreamento completo de todas as operações no sistema"})]}),n.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(ys,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(m=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:Hg[m.table_name]||m.table_name}),n.jsx(lp,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsx("span",{className:"font-semibold",children:m.total_operations})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-600",children:"Criações:"}),n.jsx("span",{className:"font-semibold text-green-600",children:m.inserts})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-blue-600",children:"Edições:"}),n.jsx("span",{className:"font-semibold text-blue-600",children:m.updates})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-red-600",children:"Exclusões:"}),n.jsx("span",{className:"font-semibold text-red-600",children:m.deletes})]})]})]},m.table_name))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(um,{className:"w-5 h-5 text-gray-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tabela"}),n.jsxs("select",{value:c.table,onChange:m=>d({...c,table:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todas"}),Object.entries(Hg).map(([m,f])=>n.jsx("option",{value:m,children:f},m))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operação"}),n.jsxs("select",{value:c.operation,onChange:m=>d({...c,operation:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todas"}),n.jsx("option",{value:"INSERT",children:"Criação"}),n.jsx("option",{value:"UPDATE",children:"Edição"}),n.jsx("option",{value:"DELETE",children:"Exclusão"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário"}),n.jsx("input",{type:"text",value:c.user,onChange:m=>d({...c,user:m.target.value}),placeholder:"Email do usuário",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),n.jsx("input",{type:"date",value:c.dateFrom,onChange:m=>d({...c,dateFrom:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),n.jsx("input",{type:"date",value:c.dateTo,onChange:m=>d({...c,dateTo:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(vt,{className:"w-5 h-5"}),"Últimas Atividades (",t.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operação"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuário"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(m=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(tr,{className:"w-4 h-4 text-gray-400"}),yn(new Date(m.created_at),"dd/MM/yyyy HH:mm:ss")]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md",children:Hg[m.table_name]||m.table_name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md border ${GQ[m.operation]}`,children:[WQ[m.operation],G4[m.operation]]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-900",children:m.user_email||"Sistema"})]})}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[m.operation==="UPDATE"&&m.changed_fields&&n.jsxs("span",{className:"text-blue-600",children:[m.changed_fields.length," campo(s) alterado(s)"]}),m.operation==="INSERT"&&n.jsx("span",{className:"text-green-600",children:"Novo registro"}),m.operation==="DELETE"&&n.jsx("span",{className:"text-red-600",children:"Registro excluído"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("button",{onClick:()=>l(m),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ver Detalhes"})})]},m.id))})]})})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Detalhes da Auditoria"}),n.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(lh,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Operação"}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-2 rounded-lg border ${GQ[o.operation]}`,children:[WQ[o.operation],G4[o.operation]]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tabela"}),n.jsx("p",{className:"text-gray-900 font-medium",children:Hg[o.table_name]||o.table_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Usuário"}),n.jsx("p",{className:"text-gray-900",children:o.user_email||"Sistema"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data/Hora"}),n.jsx("p",{className:"text-gray-900",children:yn(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss")})]})]}),o.operation==="UPDATE"&&o.changed_fields&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campos Alterados"}),n.jsx("div",{className:"space-y-3",children:o.changed_fields.map((m,f)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("p",{className:"font-medium text-gray-900 mb-2",children:m.field}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-red-600 font-medium",children:"ANTES:"}),n.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-red-200",children:JSON.stringify(m.old_value,null,2)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"DEPOIS:"}),n.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-green-200",children:JSON.stringify(m.new_value,null,2)})]})]})]},f))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.old_data&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Anteriores"}),n.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.old_data,null,2)})]}),o.new_data&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Novos"}),n.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.new_data,null,2)})]})]})]})})]})})]})}const yIe=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState([]),[s,a]=F.useState(!0),[i,o]=F.useState(""),[l,c]=F.useState("all"),[d,u]=F.useState(!1),[h,m]=F.useState(null),[f,b]=F.useState({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0});F.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:k,error:I}=await he.from("crm_leads").select("*").order("created_at",{ascending:!1});if(I)throw I;r(k||[])}catch(k){console.error("Error loading leads:",k)}finally{a(!1)}},g=async()=>{try{if(h){const{error:k}=await he.from("crm_leads").update(f).eq("id",h.id);if(k)throw k}else{const{error:k}=await he.from("crm_leads").insert([f]);if(k)throw k}await y(),j()}catch(k){console.error("Error saving lead:",k),alert("Erro ao salvar lead")}},x=async k=>{if(confirm("Tem certeza que deseja excluir este lead?"))try{const{error:I}=await he.from("crm_leads").delete().eq("id",k);if(I)throw I;await y()}catch(I){console.error("Error deleting lead:",I),alert("Erro ao excluir lead")}},v=k=>{m(k),b({name:k.name,email:k.email,phone:k.phone,company:k.company,source:k.source,status:k.status,score:k.score}),u(!0)},j=()=>{u(!1),m(null),b({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0})},B=async k=>{if(confirm("Converter este lead em cliente?"))try{const{error:I}=await he.from("customers").insert([{tipo_pessoa:"juridica",nome_razao:k.company||k.name,nome_fantasia:k.company,email:k.email,telefone:k.phone,celular:k.phone}]);if(I)throw I;const{error:_}=await he.from("crm_leads").update({status:"qualified"}).eq("id",k.id);if(_)throw _;alert("Lead convertido em cliente com sucesso!"),await y()}catch(I){console.error("Error converting lead:",I),alert("Erro ao converter lead")}},C=k=>{switch(k){case"new":return n.jsx(tr,{className:"w-4 h-4 text-blue-500"});case"contacted":return n.jsx(Ya,{className:"w-4 h-4 text-yellow-500"});case"qualified":return n.jsx(Es,{className:"w-4 h-4 text-green-500"});case"proposal":return n.jsx(Or,{className:"w-4 h-4 text-purple-500"});default:return n.jsx(lh,{className:"w-4 h-4 text-gray-500"})}},E=k=>({new:"Novo",contacted:"Contatado",qualified:"Qualificado",proposal:"Proposta",lost:"Perdido"})[k]||k,M=e.filter(k=>{const I=k.name.toLowerCase().includes(i.toLowerCase())||k.email.toLowerCase().includes(i.toLowerCase())||k.company.toLowerCase().includes(i.toLowerCase()),_=l==="all"||k.status===l;return I&&_}),S={total:e.length,new:e.filter(k=>k.status==="new").length,contacted:e.filter(k=>k.status==="contacted").length,qualified:e.filter(k=>k.status==="qualified").length};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM - Leads"}),n.jsx("p",{className:"text-gray-600",children:"Gestão de leads e funil de vendas"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Leads"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]}),n.jsx(Zt,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Novos"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.new})]}),n.jsx(tr,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Contatados"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.contacted})]}),n.jsx(Ya,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Qualificados"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.qualified})]}),n.jsx(Es,{className:"w-10 h-10 text-green-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar leads...",value:i,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:l,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"new",children:"Novos"}),n.jsx("option",{value:"contacted",children:"Contatados"}),n.jsx("option",{value:"qualified",children:"Qualificados"}),n.jsx("option",{value:"proposal",children:"Proposta"}),n.jsx("option",{value:"lost",children:"Perdidos"})]})]}),n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"w-5 h-5"}),"Novo Lead"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:k.company})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ks,{className:"w-3 h-3"}),k.email]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ya,{className:"w-3 h-3"}),k.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:k.source})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[C(k.status),n.jsx("span",{className:"text-sm text-gray-900",children:E(k.status)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${k.score}%`}})}),n.jsx("span",{className:"text-sm text-gray-600",children:k.score})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k.status!=="qualified"&&n.jsx("button",{onClick:()=>B(k),className:"text-green-600 hover:text-green-900",title:"Converter em cliente",children:n.jsx(Es,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v(k),className:"text-blue-600 hover:text-blue-900",children:n.jsx(pn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>x(k.id),className:"text-red-600 hover:text-red-900",children:n.jsx(rr,{className:"w-5 h-5"})})]})})]},k.id))})]}),M.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Zt,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum lead encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo lead."})]})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Lead":"Novo Lead"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),n.jsx("input",{type:"text",value:f.name,onChange:k=>b({...f,name:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),n.jsx("input",{type:"text",value:f.company,onChange:k=>b({...f,company:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",value:f.email,onChange:k=>b({...f,email:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),n.jsx("input",{type:"tel",value:f.phone,onChange:k=>b({...f,phone:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origem"}),n.jsxs("select",{value:f.source,onChange:k=>b({...f,source:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Website",children:"Website"}),n.jsx("option",{value:"Google Ads",children:"Google Ads"}),n.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),n.jsx("option",{value:"Indicação",children:"Indicação"}),n.jsx("option",{value:"Telefone",children:"Telefone"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:f.status,onChange:k=>b({...f,status:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"new",children:"Novo"}),n.jsx("option",{value:"contacted",children:"Contatado"}),n.jsx("option",{value:"qualified",children:"Qualificado"}),n.jsx("option",{value:"proposal",children:"Proposta"}),n.jsx("option",{value:"lost",children:"Perdido"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Score (0-100)"}),n.jsx("input",{type:"number",min:"0",max:"100",value:f.score,onChange:k=>b({...f,score:parseInt(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},bIe=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState([]),[s,a]=F.useState([]),[i,o]=F.useState(!0),[l,c]=F.useState(""),[d,u]=F.useState("all"),[h,m]=F.useState(!1),[f,b]=F.useState(null),[y,g]=F.useState({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""});F.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const[k,I]=await Promise.all([he.from("contracts").select(`
            *,
            customer:customers(nome_razao)
          `).order("created_at",{ascending:!1}),he.from("customers").select("id, nome_razao")]);if(k.error)throw k.error;if(I.error)throw I.error;r(k.data||[]),a(I.data||[])}catch(k){console.error("Error loading data:",k)}finally{o(!1)}},v=async()=>{try{if(!y.contract_number||!y.customer_id||!y.start_date){alert("Preencha os campos obrigatórios");return}if(f){const{error:k}=await he.from("contracts").update(y).eq("id",f.id);if(k)throw k}else{const{error:k}=await he.from("contracts").insert([y]);if(k)throw k}await x(),C()}catch(k){console.error("Error saving contract:",k),alert("Erro ao salvar contrato")}},j=async k=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{const{error:I}=await he.from("contracts").delete().eq("id",k);if(I)throw I;await x()}catch(I){console.error("Error deleting contract:",I),alert("Erro ao excluir contrato")}},B=k=>{b(k),g({contract_number:k.contract_number,customer_id:k.customer_id,start_date:k.start_date,end_date:k.end_date,value:k.value,payment_frequency:k.payment_frequency,status:k.status,notes:k.notes||""}),m(!0)},C=()=>{m(!1),b(null),g({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""})},E=k=>{const I={active:{bg:"bg-green-100",text:"text-green-800",icon:Es},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:tr},expired:{bg:"bg-red-100",text:"text-red-800",icon:xs},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:xs}},_=I[k]||I.pending,T=_.icon;return n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${_.bg} ${_.text}`,children:[n.jsx(T,{className:"w-3 h-3"}),k==="active"?"Ativo":k==="pending"?"Pendente":k==="expired"?"Expirado":"Cancelado"]})},M=e.filter(k=>{const I=k.contract_number.toLowerCase().includes(l.toLowerCase())||k.customer?.nome_razao?.toLowerCase().includes(l.toLowerCase()),_=d==="all"||k.status===d;return I&&_}),S={total:e.length,active:e.filter(k=>k.status==="active").length,expiringSoon:e.filter(k=>{const I=Math.floor((new Date(k.end_date).getTime()-new Date().getTime())/864e5);return I<=30&&I>0}).length,totalValue:e.filter(k=>k.status==="active").reduce((k,I)=>k+Number(I.value),0)};return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestão de Contratos"}),n.jsx("p",{className:"text-gray-600",children:"Controle de contratos de manutenção e suporte"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Contratos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]}),n.jsx(vt,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.active})]}),n.jsx(Es,{className:"w-10 h-10 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Expirando em 30 dias"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.expiringSoon})]}),n.jsx(xs,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total Mensal"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.totalValue)})]}),n.jsx(pr,{className:"w-10 h-10 text-blue-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:l,onChange:k=>c(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:d,onChange:k=>u(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"active",children:"Ativos"}),n.jsx("option",{value:"pending",children:"Pendentes"}),n.jsx("option",{value:"expired",children:"Expirados"}),n.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),n.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"w-5 h-5"}),"Novo Contrato"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Título"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Período"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(k=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.contract_number})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:k.customer?.nome_razao})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Contrato"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:yn(new Date(k.start_date),"dd/MM/yyyy")}),n.jsxs("div",{className:"text-xs text-gray-500",children:["até ",yn(new Date(k.end_date),"dd/MM/yyyy")]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k.value)}),n.jsx("div",{className:"text-xs text-gray-500",children:k.payment_frequency==="monthly"?"Mensal":k.payment_frequency==="quarterly"?"Trimestral":k.payment_frequency==="biannual"?"Semestral":"Anual"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:E(k.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>B(k),className:"text-blue-600 hover:text-blue-900",children:n.jsx(pn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-900",children:n.jsx(rr,{className:"w-5 h-5"})})]})})]},k.id))})]}),M.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum contrato encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo contrato."})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:f?"Editar Contrato":"Novo Contrato"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número do Contrato *"}),n.jsx("input",{type:"text",value:y.contract_number,onChange:k=>g({...y,contract_number:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),n.jsxs("select",{value:y.customer_id,onChange:k=>g({...y,customer_id:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(k=>n.jsx("option",{value:k.id,children:k.nome_razao},k.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequência de Pagamento"}),n.jsxs("select",{value:y.payment_frequency,onChange:k=>g({...y,payment_frequency:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Início *"}),n.jsx("input",{type:"date",value:y.start_date,onChange:k=>g({...y,start_date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim *"}),n.jsx("input",{type:"date",value:y.end_date,onChange:k=>g({...y,end_date:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:y.value,onChange:k=>g({...y,value:parseFloat(k.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:v,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},vIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(null),[o,l]=F.useState({}),[c,d]=F.useState(!1);F.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0);const{data:y,error:g}=await he.from("contract_templates").select("*").eq("active",!0).order("is_default",{ascending:!1}).order("name");if(g)throw console.error("Supabase error:",g),g;console.log("Templates loaded:",y),e(y||[])}catch(y){console.error("Error loading templates:",y),alert("Erro ao carregar templates: "+y.message)}finally{s(!1)}},h=y=>{i(y.id),l(y)},m=()=>{i(null),l({})},f=async()=>{if(a)try{d(!0),o.is_default&&await he.from("contract_templates").update({is_default:!1}).neq("id",a);const{error:y}=await he.from("contract_templates").update({name:o.name,contract_text:o.contract_text,contract_clauses:o.contract_clauses,warranty_terms:o.warranty_terms,payment_conditions:o.payment_conditions,bank_details_template:o.bank_details_template,is_default:o.is_default,updated_at:new Date().toISOString()}).eq("id",a);if(y)throw y;alert("Template salvo com sucesso!"),await u(),m()}catch(y){console.error("Error saving template:",y),alert("Erro ao salvar template")}finally{d(!1)}},b=async y=>{try{await he.from("contract_templates").update({is_default:!1}).neq("id",y),await he.from("contract_templates").update({is_default:!0}).eq("id",y),alert("Template definido como padrão!"),await u()}catch(g){console.error("Error setting default:",g),alert("Erro ao definir padrão")}};return r?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(vt,{className:"h-8 w-8 text-blue-600"}),"Templates de Contrato"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie os modelos de contrato, termos de garantia e condições de pagamento"})]}),t.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhum template encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Não há templates de contrato cadastrados no momento."}),n.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:n.jsxs("p",{className:"text-sm text-blue-900",children:[n.jsx("strong",{children:"Nota:"})," Os templates devem ser criados diretamente no banco de dados Supabase na tabela ",n.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"contract_templates"}),"."]})})]}):n.jsx("div",{className:"space-y-6",children:t.map(y=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b-2 border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vt,{className:"h-6 w-6 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.is_default&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mt-1",children:[n.jsx(Na,{className:"h-3 w-3"}),"Template Padrão"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!y.is_default&&n.jsxs("button",{onClick:()=>b(y.id),className:"px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",title:"Definir como padrão",children:[n.jsx(Na,{className:"h-4 w-4"}),"Definir Padrão"]}),a===y.id?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:f,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Nr,{className:"h-4 w-4"}),c?"Salvando...":"Salvar"]}),n.jsxs("button",{onClick:m,disabled:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Et,{className:"h-4 w-4"}),"Cancelar"]})]}):n.jsxs("button",{onClick:()=>h(y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(fi,{className:"h-4 w-4"}),"Editar"]})]})]})}),n.jsx("div",{className:"p-6",children:a===y.id?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4",children:n.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[n.jsx(xs,{className:"h-4 w-4"}),n.jsx("strong",{children:"Dica:"})," Use variáveis como [NOME_CLIENTE], [VALOR_TOTAL], [NUMERO_OS] para substituição automática"]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nome do Template"}),n.jsx("input",{type:"text",value:o.name||"",onChange:g=>l({...o,name:g.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Contrato Padrão"})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.is_default||!1,onChange:g=>l({...o,is_default:g.target.checked}),className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Definir como template padrão para todas as novas OS"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📄 Texto do Contrato Principal"}),n.jsx("textarea",{value:o.contract_text||"",onChange:g=>l({...o,contract_text:g.target.value}),rows:10,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o texto principal do contrato..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"📋 Cláusulas Contratuais"}),n.jsx("textarea",{value:o.contract_clauses||"",onChange:g=>l({...o,contract_clauses:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as cláusulas contratuais..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"✅ Termos de Garantia"}),n.jsx("textarea",{value:o.warranty_terms||"",onChange:g=>l({...o,warranty_terms:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite os termos de garantia..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"💰 Condições de Pagamento"}),n.jsx("textarea",{value:o.payment_conditions||"",onChange:g=>l({...o,payment_conditions:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as condições de pagamento..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"🏦 Dados Bancários (Template)"}),n.jsx("textarea",{value:o.bank_details_template||"",onChange:g=>l({...o,bank_details_template:g.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o template dos dados bancários..."})]})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[n.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4"}),"Contrato Principal"]}),n.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap line-clamp-6",children:y.contract_text})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[n.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4"}),"Cláusulas"]}),n.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap line-clamp-6",children:y.contract_clauses})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[n.jsxs("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[n.jsx(mn,{className:"h-4 w-4"}),"Garantia"]}),n.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap line-clamp-6",children:y.warranty_terms})]}),n.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-2 border-orange-200",children:[n.jsxs("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4"}),"Pagamento"]}),n.jsx("p",{className:"text-sm text-orange-800 whitespace-pre-wrap line-clamp-6",children:y.payment_conditions})]})]})})]},y.id))})]})},XQ={contract:"Contrato",service_order:"Ordem de Serviço",proposal:"Proposta",budget:"Orçamento",receipt:"Recibo",invoice:"Nota Fiscal"},YQ=[{id:"order_number",label:"Número da OS"},{id:"customer",label:"Cliente"},{id:"date",label:"Data"},{id:"services",label:"Serviços"},{id:"materials",label:"Materiais"},{id:"team",label:"Equipe"},{id:"costs",label:"Custos"},{id:"total",label:"Total"},{id:"notes",label:"Observações"},{id:"signature",label:"Assinatura"}],wIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState("service_order"),[o,l]=F.useState(null),[c,d]=F.useState({}),[u,h]=F.useState(!1),[m,f]=F.useState(!1),[b,y]=F.useState(!1);F.useEffect(()=>{g()},[a]);const g=async()=>{try{s(!0);const{data:k,error:I}=await he.from("os_templates").select("*").eq("template_type",a).eq("active",!0).order("is_default",{ascending:!1}).order("name");if(I)throw I;e(k||[])}catch(k){console.error("Error loading templates:",k),alert("Erro ao carregar templates")}finally{s(!1)}},x=()=>{l("new"),d({name:"",template_type:a,is_default:!1,logo_url:"",header_text:"ORDEM DE SERVIÇO",footer_text:"Obrigado pela preferência!",layout_config:{margins:{top:20,bottom:20,left:20,right:20},fontSize:10,lineHeight:1.2},field_order:["order_number","customer","date","services","materials","team","costs","total","signature"],show_fields:{order_number:!0,customer:!0,date:!0,services:!0,materials:!0,team:!0,costs:!0,total:!0,notes:!0,signature:!0},custom_styles:{primaryColor:"#2563eb",secondaryColor:"#64748b",headerBg:"#f8fafc",borderColor:"#e2e8f0"},active:!0})},v=k=>{l(k.id),d(k)},j=async()=>{try{if(h(!0),!c.name||!c.template_type){alert("Preencha o nome do template");return}if(o==="new"){const{error:k}=await he.from("os_templates").insert([c]);if(k)throw k}else{const{error:k}=await he.from("os_templates").update(c).eq("id",o);if(k)throw k}await g(),l(null),d({})}catch(k){console.error("Error saving template:",k),alert("Erro ao salvar template")}finally{h(!1)}},B=async k=>{if(confirm("Deseja excluir este template?"))try{const{error:I}=await he.from("os_templates").update({active:!1}).eq("id",k);if(I)throw I;await g()}catch(I){console.error("Error deleting template:",I),alert("Erro ao excluir template")}},C=async k=>{try{const{error:I}=await he.from("os_templates").update({is_default:!0}).eq("id",k);if(I)throw I;await g()}catch(I){console.error("Error setting default:",I),alert("Erro ao definir como padrão")}},E=async k=>{const I=k.target.files?.[0];if(I)try{if(f(!0),!I.type.startsWith("image/")){alert("Por favor, selecione uma imagem");return}if(I.size>2*1024*1024){alert("A imagem deve ter no máximo 2MB");return}const _=new FileReader;_.onload=T=>{const D=T.target?.result;d(L=>({...L,logo_url:D})),f(!1)},_.onerror=()=>{alert("Erro ao carregar imagem"),f(!1)},_.readAsDataURL(I)}catch(_){console.error("Error uploading logo:",_),alert("Erro ao fazer upload da logo"),f(!1)}},M=(k,I)=>{const _=[...c.field_order||[]],T=I==="up"?k-1:k+1;T<0||T>=_.length||([_[k],_[T]]=[_[T],_[k]],d(D=>({...D,field_order:_})))},S=k=>{d(I=>({...I,show_fields:{...I.show_fields,[k]:!I.show_fields?.[k]}}))};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates de Documentos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie e personalize templates de documentos"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),Object.entries(XQ).map(([k,I])=>n.jsx("button",{onClick:()=>i(k),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===k?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:I},k))]})}),!o&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsxs("h2",{className:"font-semibold text-gray-900",children:["Templates de ",XQ[a]]}),n.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ot,{className:"w-4 h-4"}),"Novo Template"]})]}),r?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):t.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(vt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhum template encontrado"]}):n.jsx("div",{className:"divide-y divide-gray-200",children:t.map(k=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:k.name}),k.is_default&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[n.jsx(Na,{className:"w-3 h-3 fill-current"}),"Padrão"]})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Atualizado em ",new Date(k.updated_at).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!k.is_default&&n.jsx("button",{onClick:()=>C(k.id),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Definir como padrão",children:n.jsx(Na,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>v(k),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:n.jsx(fi,{className:"w-5 h-5"})}),!k.is_default&&n.jsx("button",{onClick:()=>B(k.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:n.jsx(rr,{className:"w-5 h-5"})})]})]})},k.id))})]}),n.jsx(Nt,{children:o&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h2",{className:"font-semibold text-gray-900",children:o==="new"?"Novo Template":"Editar Template"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>y(!b),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(la,{className:"w-4 h-4"}),b?"Editor":"Visualizar"]}),n.jsxs("button",{onClick:j,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(Nr,{className:"w-4 h-4"}),u?"Salvando...":"Salvar"]}),n.jsx("button",{onClick:()=>{l(null),d({})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(Et,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Template"}),n.jsx("input",{type:"text",value:c.name||"",onChange:k=>d(I=>({...I,name:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Template Profissional OS"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Imagem"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:[n.jsx(d0,{className:"w-4 h-4"}),m?"Carregando...":"Fazer Upload",n.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden",disabled:m})]}),c.logo_url&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-12 w-auto object-contain border border-gray-200 rounded"}),n.jsx("button",{onClick:()=>d(k=>({...k,logo_url:""})),className:"text-red-600 hover:text-red-700",children:n.jsx(Et,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho máximo: 2MB"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabeçalho"}),n.jsx("input",{type:"text",value:c.header_text||"",onChange:k=>d(I=>({...I,header_text:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: ORDEM DE SERVIÇO"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Rodapé"}),n.jsx("input",{type:"text",value:c.footer_text||"",onChange:k=>d(I=>({...I,footer_text:k.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Obrigado pela preferência!"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem e Visibilidade dos Campos"}),n.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:(c.field_order||[]).map((k,I)=>{const _=YQ.find(D=>D.id===k);if(!_)return null;const T=c.show_fields?.[k]!==!1;return n.jsxs("div",{className:`p-3 flex items-center justify-between ${T?"":"bg-gray-50 opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500",children:I+1}),n.jsx("input",{type:"checkbox",checked:T,onChange:()=>S(k),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-900",children:_.label})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>M(I,"up"),disabled:I===0,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:n.jsx(Hf,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>M(I,"down"),disabled:I===(c.field_order||[]).length-1,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:n.jsx(u1,{className:"w-4 h-4"})})]})]},k)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(g1,{className:"w-4 h-4 inline mr-1"}),"Cores Personalizadas"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Primária"}),n.jsx("input",{type:"color",value:c.custom_styles?.primaryColor||"#2563eb",onChange:k=>d(I=>({...I,custom_styles:{...I.custom_styles,primaryColor:k.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Secundária"}),n.jsx("input",{type:"color",value:c.custom_styles?.secondaryColor||"#64748b",onChange:k=>d(I=>({...I,custom_styles:{...I.custom_styles,secondaryColor:k.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor do Cabeçalho"}),n.jsx("input",{type:"color",value:c.custom_styles?.headerBg||"#f8fafc",onChange:k=>d(I=>({...I,custom_styles:{...I.custom_styles,headerBg:k.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor das Bordas"}),n.jsx("input",{type:"color",value:c.custom_styles?.borderColor||"#e2e8f0",onChange:k=>d(I=>({...I,custom_styles:{...I.custom_styles,borderColor:k.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]})]})]}),b&&n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg",children:[n.jsxs("div",{className:"p-6 text-center border-b-2",style:{backgroundColor:c.custom_styles?.headerBg,borderColor:c.custom_styles?.borderColor},children:[c.logo_url&&n.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 w-auto mx-auto mb-4 object-contain"}),n.jsx("h1",{className:"text-2xl font-bold",style:{color:c.custom_styles?.primaryColor},children:c.header_text||"ORDEM DE SERVIÇO"})]}),n.jsx("div",{className:"p-6 space-y-4",children:(c.field_order||[]).map(k=>{const I=YQ.find(T=>T.id===k),_=c.show_fields?.[k]!==!1;return!I||!_?null:n.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",style:{borderColor:c.custom_styles?.borderColor},children:[n.jsxs("span",{className:"font-medium",style:{color:c.custom_styles?.primaryColor},children:[I.label,":"]}),n.jsx("span",{className:"text-gray-600",children:"[Conteúdo]"})]},k)})}),n.jsx("div",{className:"p-4 text-center text-sm border-t-2",style:{borderColor:c.custom_styles?.borderColor,color:c.custom_styles?.secondaryColor},children:c.footer_text||"Obrigado pela preferência!"})]})})]})]})})]})},jIe=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState([]),[s,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState(!0),[d,u]=F.useState(""),[h,m]=F.useState("all"),[f,b]=F.useState(!1),[y,g]=F.useState(null),[x,v]=F.useState({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""});F.useEffect(()=>{j()},[]),F.useEffect(()=>{const _=x.amount+x.tax_amount;v(T=>({...T,total_amount:_}))},[x.amount,x.tax_amount]);const j=async()=>{try{c(!0);const[_,T,D]=await Promise.all([he.from("finance_invoices").select(`
            *,
            customer:customers(nome_razao),
            service_order:service_orders(ordem_servico)
          `).order("created_at",{ascending:!1}),he.from("customers").select("id, nome_razao"),he.from("service_orders").select("id, ordem_servico")]);if(_.error)throw _.error;if(T.error)throw T.error;if(D.error)throw D.error;r(_.data||[]),a(T.data||[]),o(D.data||[])}catch(_){console.error("Error loading data:",_)}finally{c(!1)}},B=async()=>{try{if(!x.invoice_number||!x.customer_id){alert("Preencha os campos obrigatórios");return}if(y){const{error:_}=await he.from("finance_invoices").update(x).eq("id",y.id);if(_)throw _}else{const{error:_}=await he.from("finance_invoices").insert([x]);if(_)throw _}await j(),M()}catch(_){console.error("Error saving invoice:",_),alert("Erro ao salvar nota fiscal")}},C=async _=>{if(confirm("Tem certeza que deseja excluir esta nota fiscal?"))try{const{error:T}=await he.from("finance_invoices").delete().eq("id",_);if(T)throw T;await j()}catch(T){console.error("Error deleting invoice:",T),alert("Erro ao excluir nota fiscal")}},E=_=>{g(_),v({invoice_number:_.invoice_number,customer_id:_.customer_id,service_order_id:_.service_order_id||"",issue_date:_.issue_date,due_date:_.due_date,amount:_.amount,tax_amount:_.tax_amount,total_amount:_.total_amount,status:_.status,notes:_.notes||""}),b(!0)},M=()=>{b(!1),g(null),v({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""})},S=_=>{const T={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:tr},issued:{bg:"bg-blue-100",text:"text-blue-800",icon:bi},paid:{bg:"bg-green-100",text:"text-green-800",icon:Es},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:lh},overdue:{bg:"bg-red-100",text:"text-red-800",icon:xs}},D=T[_]||T.pending,L=D.icon;return n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${D.bg} ${D.text}`,children:[n.jsx(L,{className:"w-3 h-3"}),_==="pending"?"Pendente":_==="issued"?"Emitida":_==="paid"?"Paga":_==="cancelled"?"Cancelada":"Vencida"]})},k=e.filter(_=>{const T=_.invoice_number.toLowerCase().includes(d.toLowerCase())||_.customer?.nome_razao?.toLowerCase().includes(d.toLowerCase()),D=h==="all"||_.status===h;return T&&D}),I={total:e.length,pending:e.filter(_=>_.status==="pending").length,issued:e.filter(_=>_.status==="issued").length,paid:e.filter(_=>_.status==="paid").length,totalValue:e.filter(_=>_.status==="paid").reduce((_,T)=>_+Number(T.total_amount),0)};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas Fiscais"}),n.jsx("p",{className:"text-gray-600",children:"Gestão e emissão de notas fiscais"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),n.jsx(vt,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:I.pending})]}),n.jsx(tr,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Emitidas"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.issued})]}),n.jsx(bi,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pagas"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:I.paid})]}),n.jsx(Es,{className:"w-10 h-10 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),n.jsx("p",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(I.totalValue)})]})})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar notas fiscais...",value:d,onChange:_=>u(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:h,onChange:_=>m(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"pending",children:"Pendentes"}),n.jsx("option",{value:"issued",children:"Emitidas"}),n.jsx("option",{value:"paid",children:"Pagas"}),n.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),n.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"w-5 h-5"}),"Nova NF"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Número"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OS"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emissão"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:k.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.invoice_number})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:_.customer?.nome_razao})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:_.service_order?.ordem_servico||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:yn(new Date(_.issue_date),"dd/MM/yyyy")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:yn(new Date(_.due_date),"dd/MM/yyyy")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.total_amount)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(_.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>E(_),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:n.jsx(pn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>C(_.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:n.jsx(rr,{className:"w-5 h-5"})})]})})]},_.id))})]}),k.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma nota fiscal encontrada"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando uma nova nota fiscal."})]})]})]}),f&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:y?"Editar Nota Fiscal":"Nova Nota Fiscal"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número NF *"}),n.jsx("input",{type:"text",value:x.invoice_number,onChange:_=>v({...x,invoice_number:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:x.status,onChange:_=>v({...x,status:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"issued",children:"Emitida"}),n.jsx("option",{value:"paid",children:"Paga"}),n.jsx("option",{value:"cancelled",children:"Cancelada"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),n.jsxs("select",{value:x.customer_id,onChange:_=>v({...x,customer_id:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(_=>n.jsx("option",{value:_.id,children:_.nome_razao},_.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Serviço (opcional)"}),n.jsxs("select",{value:x.service_order_id,onChange:_=>v({...x,service_order_id:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Sem OS vinculada"}),i.map(_=>n.jsx("option",{value:_.id,children:_.ordem_servico},_.id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Emissão"}),n.jsx("input",{type:"date",value:x.issue_date,onChange:_=>v({...x,issue_date:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Vencimento"}),n.jsx("input",{type:"date",value:x.due_date,onChange:_=>v({...x,due_date:_.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.amount,onChange:_=>v({...x,amount:parseFloat(_.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impostos (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.tax_amount,onChange:_=>v({...x,tax_amount:parseFloat(_.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.total_amount,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),n.jsx("textarea",{value:x.notes,onChange:_=>v({...x,notes:_.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:B,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},NIe=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState(!0),[s,a]=F.useState(!1),[i,o]=F.useState({company_name:"",trade_name:"",cnpj:"",state_registration:"",municipal_registration:"",address:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",primary_color:"#3B82F6",secondary_color:"#10B981"});F.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const{data:d,error:u}=await he.from("company_settings").select("*").limit(1).maybeSingle();if(u&&u.code!=="PGRST116")throw u;d&&o(d)}catch(d){console.error("Error loading company settings:",d)}finally{r(!1)}},c=async()=>{try{if(a(!0),i.id){const{error:d}=await he.from("company_settings").update(i).eq("id",i.id);if(d)throw d}else{const{data:d,error:u}=await he.from("company_settings").insert([i]).select().single();if(u)throw u;o(d)}alert("Configurações salvas com sucesso!")}catch(d){console.error("Error saving company settings:",d),alert("Erro ao salvar configurações")}finally{a(!1)}};return e?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configurações da Empresa"}),n.jsx("p",{className:"text-gray-600",children:"Configure as informações da sua empresa"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(VA,{className:"w-6 h-6"}),"Dados da Empresa"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razão Social *"}),n.jsx("input",{type:"text",value:i.company_name,onChange:d=>o({...i,company_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia"}),n.jsx("input",{type:"text",value:i.trade_name,onChange:d=>o({...i,trade_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ *"}),n.jsx("input",{type:"text",value:i.cnpj,onChange:d=>o({...i,cnpj:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrição Estadual"}),n.jsx("input",{type:"text",value:i.state_registration,onChange:d=>o({...i,state_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrição Municipal"}),n.jsx("input",{type:"text",value:i.municipal_registration,onChange:d=>o({...i,municipal_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Endereço"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço Completo"}),n.jsx("input",{type:"text",value:i.address,onChange:d=>o({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:i.city,onChange:d=>o({...i,city:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),n.jsx("input",{type:"text",value:i.state,onChange:d=>o({...i,state:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:i.zip_code,onChange:d=>o({...i,zip_code:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),n.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personalização"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primária"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"text",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Secundária"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"text",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsxs("button",{onClick:c,disabled:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Nr,{className:"w-5 h-5"}),s?"Salvando...":"Salvar Configurações"]})})]})})]})},_Ie=()=>{const{isAdmin:t}=Mn(),[e,r]=F.useState([]),[s,a]=F.useState(!0),[i,o]=F.useState(""),[l,c]=F.useState("all"),[d,u]=F.useState(!1),[h,m]=F.useState(null),[f,b]=F.useState({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""});F.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:S,error:k}=await he.from("equipments").select("*").order("name",{ascending:!0});if(k)throw k;r(S||[])}catch(S){console.error("Error loading equipments:",S)}finally{a(!1)}},g=async()=>{try{if(!f.name||!f.brand||!f.model){alert("Preencha os campos obrigatórios");return}if(h){const{error:S}=await he.from("equipments").update(f).eq("id",h.id);if(S)throw S}else{const{error:S}=await he.from("equipments").insert([f]);if(S)throw S}await y(),j()}catch(S){console.error("Error saving equipment:",S),alert("Erro ao salvar equipamento")}},x=async S=>{if(confirm("Tem certeza que deseja excluir este equipamento?"))try{const{error:k}=await he.from("equipments").delete().eq("id",S);if(k)throw k;await y()}catch(k){console.error("Error deleting equipment:",k),alert("Erro ao excluir equipamento")}},v=S=>{m(S),b({name:S.name,type:S.type,brand:S.brand,model:S.model,serial_number:S.serial_number||"",status:S.status||"active",location:S.location||"",notes:S.notes||""}),u(!0)},j=()=>{u(!1),m(null),b({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""})},B=S=>({ar_condicionado:"Ar Condicionado",refrigeracao:"Refrigeração",eletrica:"Elétrica",hidraulica:"Hidráulica",outros:"Outros"})[S]||S,C=e.filter(S=>{const k=S.name.toLowerCase().includes(i.toLowerCase())||S.brand.toLowerCase().includes(i.toLowerCase())||S.model.toLowerCase().includes(i.toLowerCase()),I=l==="all"||S.type===l;return k&&I}),E=["ar_condicionado","refrigeracao","eletrica","hidraulica","outros"],M={total:e.length,byCategory:E.reduce((S,k)=>(S[k]=e.filter(I=>I.type===k).length,S),{})};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catálogo de Equipamentos"}),n.jsx("p",{className:"text-gray-600",children:"Gestão de equipamentos e especificações técnicas"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.total})]}),n.jsx($t,{className:"w-10 h-10 text-blue-500"})]})}),E.slice(0,4).map(S=>n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:B(S)}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:M.byCategory[S]||0})]})},S))]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar equipamentos...",value:i,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:l,onChange:S=>c(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Categorias"}),E.map(S=>n.jsx("option",{value:S,children:B(S)},S))]})]}),n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"w-5 h-5"}),"Novo Equipamento"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrição"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:B(S.type)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.brand})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.model})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:S.notes})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>v(S),className:"text-blue-600 hover:text-blue-900",children:n.jsx(pn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>x(S.id),className:"text-red-600 hover:text-red-900",children:n.jsx(rr,{className:"w-5 h-5"})})]})})]},S.id))})]}),C.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx($t,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum equipamento encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo equipamento."})]})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Equipamento":"Novo Equipamento"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),n.jsx("input",{type:"text",value:f.name,onChange:S=>b({...f,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),n.jsx("select",{value:f.type,onChange:S=>b({...f,type:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:E.map(S=>n.jsx("option",{value:S,children:B(S)},S))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),n.jsx("input",{type:"text",value:f.brand,onChange:S=>b({...f,brand:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),n.jsx("input",{type:"text",value:f.model,onChange:S=>b({...f,model:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Número de Série"}),n.jsx("input",{type:"text",value:f.serial_number,onChange:S=>b({...f,serial_number:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localização"}),n.jsx("input",{type:"text",value:f.location,onChange:S=>b({...f,location:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),n.jsx("textarea",{value:f.notes,onChange:S=>b({...f,notes:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},CIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(null),[u,h]=F.useState("all"),[m,f]=F.useState(!1),[b,y]=F.useState(!1),[g,x]=F.useState(""),[v,j]=F.useState(""),[B,C]=F.useState({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""});F.useEffect(()=>{E()},[]);const E=async()=>{try{s(!0);const{data:z,error:Z}=await he.from("suppliers").select("*").order("name");if(Z)throw Z;e(z||[])}catch(z){console.error("Error loading suppliers:",z)}finally{s(!1)}},M=async()=>{try{if(!B.name){alert("Nome é obrigatório!");return}const z={name:B.name,cnpj:B.cnpj||null,email:B.email||null,phone:B.phone||null,address:B.address||null,contact_person:B.contact_person||null,payment_terms:B.payment_terms||null,notes:B.notes||null,active:B.active};if(c){const{error:Z}=await he.from("suppliers").update(z).eq("id",c.id);if(Z)throw Z}else{const{error:Z}=await he.from("suppliers").insert([z]);if(Z)throw Z}l(!1),d(null),_(),E()}catch(z){console.error("Error saving supplier:",z),alert("Erro ao salvar fornecedor!")}},S=z=>{d(z),C({name:z.name,cnpj:z.cnpj||"",email:z.email||"",phone:z.phone||"",address:z.address||"",contact_person:z.contact_person||"",payment_terms:z.payment_terms||"",active:z.active,notes:z.notes||""}),l(!0)},k=async z=>{if(confirm("Deseja realmente excluir este fornecedor?"))try{const{error:Z}=await he.from("suppliers").delete().eq("id",z);if(Z)throw Z;E()}catch(Z){console.error("Error deleting supplier:",Z),alert("Erro ao excluir fornecedor!")}},I=async(z,Z)=>{try{const{error:G}=await he.from("suppliers").update({active:!Z}).eq("id",z);if(G)throw G;E()}catch(G){console.error("Error updating status:",G)}},_=()=>{C({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""}),x(""),j("")},T=async()=>{if(!B.cnpj){x("Digite um CNPJ");return}if(B.cnpj.replace(/\D/g,"").length!==14){x("CNPJ deve ter 14 dígitos");return}f(!0),x("");try{const Z=await vV(B.cnpj);Z&&C(G=>({...G,name:Z.nome_fantasia||Z.razao_social||G.name,email:Z.email||G.email,phone:Z.telefone||G.phone,address:Z.logradouro?`${Z.logradouro}, ${Z.numero||"S/N"}`:G.address}))}catch(Z){x(Z instanceof Error?Z.message:"Erro ao buscar CNPJ")}finally{f(!1)}},D=z=>{const Z=wV(z);C({...B,cnpj:Z}),x("")},L=t.filter(z=>{const Z=z.name.toLowerCase().includes(a.toLowerCase())||z.cnpj?.toLowerCase().includes(a.toLowerCase()),G=u==="all"||u==="active"&&z.active||u==="inactive"&&!z.active;return Z&&G}),V={total:t.length,active:t.filter(z=>z.active).length,inactive:t.filter(z=>!z.active).length};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(hc,{className:"h-8 w-8 text-blue-600"}),"Gestão de Fornecedores"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus fornecedores e parceiros"})]}),n.jsxs("button",{onClick:()=>{d(null),_(),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-4 w-4"}),"Novo Fornecedor"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(hc,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:V.total})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(Es,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:V.active})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:n.jsx(lh,{className:"h-6 w-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Inativos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:V.inactive})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar fornecedores...",value:a,onChange:z=>i(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("select",{value:u,onChange:z=>h(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Todos"}),n.jsx("option",{value:"active",children:"Ativos"}),n.jsx("option",{value:"inactive",children:"Inativos"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(z=>n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border-2 transition-all ${z.active?"bg-white border-gray-200 hover:border-blue-300":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:z.name}),z.name&&n.jsx("p",{className:"text-sm text-gray-600 truncate",children:z.name})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${z.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:z.active?"Ativo":"Inativo"})]}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[z.cnpj&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(hc,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.cnpj})]}),z.email&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(ks,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.email})]}),z.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(Ya,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{children:z.phone})]}),z.address&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(lo,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.address})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>S(z),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[n.jsx(pn,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>I(z.id,z.active),className:`px-3 py-2 rounded-lg transition-colors ${z.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:z.active?"Desativar":"Ativar",children:z.active?n.jsx(lh,{className:"h-4 w-4"}):n.jsx(Es,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(z.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(rr,{className:"h-4 w-4"})})]})]},z.id))}),L.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(hc,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum fornecedor encontrado"})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-3xl w-full my-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Editar Fornecedor":"Novo Fornecedor"}),n.jsx("button",{onClick:()=>{l(!1),d(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(lh,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia *"}),n.jsx("input",{type:"text",value:B.name,onChange:z=>C({...B,name:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Materiais Premium Ltda"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:B.cnpj,onChange:z=>D(z.target.value),onKeyPress:z=>{z.key==="Enter"&&(z.preventDefault(),T())},className:`w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${g?"border-red-500":"border-gray-300"}`,placeholder:"00.000.000/0000-00",maxLength:18}),n.jsx("button",{type:"button",onClick:T,disabled:m||!B.cnpj,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar CNPJ",children:m?n.jsx(Qp,{className:"w-5 h-5 animate-spin"}):n.jsx(Ir,{className:"w-5 h-5"})})]}),g&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:B.email,onChange:z=>C({...B,email:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:B.phone,onChange:z=>C({...B,phone:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),n.jsx("input",{type:"text",value:B.contact_person,onChange:z=>C({...B,contact_person:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do responsável"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço"}),n.jsx("input",{type:"text",value:B.address,onChange:z=>C({...B,address:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condições de Pagamento"}),n.jsx("input",{type:"text",value:B.payment_terms,onChange:z=>C({...B,payment_terms:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30 dias, À vista, etc"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),n.jsx("textarea",{value:B.notes,onChange:z=>C({...B,notes:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais..."})]})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[n.jsx("input",{type:"checkbox",id:"ativo",checked:B.active,onChange:z=>C({...B,active:z.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Fornecedor ativo"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:M,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(Es,{className:"h-4 w-4"}),"Salvar"]})]})]})})]})},SIe=({isOpen:t,onClose:e,onSave:r,scheduleId:s})=>{const[a,i]=F.useState(!1),[o,l]=F.useState([]),[c,d]=F.useState({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""});F.useEffect(()=>{t&&(u(),s&&h())},[t,s]);const u=async()=>{try{const{data:x}=await he.from("inventory_items").select("id, name, supplier_name, unit_cost, min_quantity").eq("active",!0).order("name");l(x||[])}catch(x){console.error("Error loading inventory:",x)}},h=async()=>{if(s)try{const{data:x,error:v}=await he.from("purchase_schedules").select("*").eq("id",s).single();if(v)throw v;x&&d({schedule_name:x.schedule_name||"",inventory_id:x.inventory_id||"",supplier_name:x.supplier_name||"",frequency:x.frequency||"monthly",quantity:x.quantity||0,unit_price:x.unit_price||0,next_order_date:x.next_order_date||new Date().toISOString().split("T")[0],active:x.active!==!1,notes:x.notes||""})}catch(x){console.error("Error loading schedule:",x),alert("Erro ao carregar programação")}},m=x=>{const v=o.find(j=>j.id===x);v&&d(j=>({...j,inventory_id:x,supplier_name:v.supplier_name||"",unit_price:v.unit_cost||0,quantity:v.min_quantity*2||10,schedule_name:`Compra Recorrente - ${v.name}`}))},f=async x=>{try{const v=o.find(j=>j.id===x.inventory_id);if(!v)return;await he.from("agenda_events").insert([{title:`Compra Programada: ${v.name}`,description:`Programação automática de compra
Quantidade: ${x.quantity}
Fornecedor: ${x.supplier_name}
Valor: R$ ${(x.quantity*x.unit_price).toFixed(2)}`,start_date:x.next_order_date,end_date:x.next_order_date,type:"purchase",status:"pending",all_day:!0,color:"#f59e0b",metadata:{schedule_id:s,inventory_id:x.inventory_id,supplier:x.supplier_name,quantity:x.quantity,unit_price:x.unit_price}}])}catch(v){console.error("Error creating agenda event:",v)}},b=async()=>{if(!c.schedule_name||!c.inventory_id||c.quantity<=0){alert("Preencha todos os campos obrigatórios");return}i(!0);try{const x={schedule_name:c.schedule_name,inventory_id:c.inventory_id,supplier_name:c.supplier_name,frequency:c.frequency,quantity:c.quantity,unit_price:c.unit_price,next_order_date:c.next_order_date,active:c.active,notes:c.notes,updated_at:new Date().toISOString()};if(s){const{error:v}=await he.from("purchase_schedules").update(x).eq("id",s);if(v)throw v}else{const{data:v,error:j}=await he.from("purchase_schedules").insert([x]).select().single();if(j)throw j;await f(v)}alert("Programação salva com sucesso!"),r(),e(),y()}catch(x){console.error("Error saving schedule:",x),alert("Erro ao salvar programação")}finally{i(!1)}},y=()=>{d({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""})},g=[{value:"daily",label:"Diária"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?n.jsx(Nt,{children:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(zs,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold",children:[s?"Editar":"Nova"," Programação de Compra"]}),n.jsx("p",{className:"text-sm text-blue-100",children:"Compras automáticas recorrentes"})]})]}),n.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Programação Automática"}),n.jsx("p",{children:"Esta compra será criada automaticamente na agenda na data especificada e se repetirá na frequência escolhida."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($t,{className:"inline h-4 w-4 mr-1"}),"Item do Estoque *"]}),n.jsxs("select",{value:c.inventory_id,onChange:x=>m(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um item..."}),o.map(x=>n.jsxs("option",{value:x.id,children:[x.name," - ",x.supplier_name||"Sem fornecedor"]},x.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programação *"}),n.jsx("input",{type:"text",value:c.schedule_name,onChange:x=>d(v=>({...v,schedule_name:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Compra Mensal de Cabos",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor *"}),n.jsx("input",{type:"text",value:c.supplier_name,onChange:x=>d(v=>({...v,supplier_name:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(zs,{className:"inline h-4 w-4 mr-1"}),"Frequência *"]}),n.jsx("select",{value:c.frequency,onChange:x=>d(v=>({...v,frequency:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade *"}),n.jsx("input",{type:"number",value:c.quantity,onChange:x=>d(v=>({...v,quantity:parseFloat(x.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pr,{className:"inline h-4 w-4 mr-1"}),"Preço Unitário (R$)"]}),n.jsx("input",{type:"number",value:c.unit_price,onChange:x=>d(v=>({...v,unit_price:parseFloat(x.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(kr,{className:"inline h-4 w-4 mr-1"}),"Próxima Compra *"]}),n.jsx("input",{type:"date",value:c.next_order_date,onChange:x=>d(v=>({...v,next_order_date:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.active,onChange:x=>d(v=>({...v,active:x.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Programação Ativa"})]})}),c.quantity>0&&c.unit_price>0&&n.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Valor Total Estimado:"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",(c.quantity*c.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),n.jsx("textarea",{value:c.notes,onChange:x=>d(v=>({...v,notes:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informações adicionais sobre esta programação..."})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:b,disabled:a,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Nr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programação"]})]})]})})}):null},BIe=({isOpen:t,onClose:e,onSave:r,scheduleId:s})=>{const[a,i]=F.useState(!1),[o,l]=F.useState([]),[c,d]=F.useState({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0});F.useEffect(()=>{t&&(u(),s&&h())},[t,s]);const u=async()=>{try{const{data:g}=await he.from("customers").select("id, nome_razao, email, telefone").order("nome_razao");l(g||[])}catch(g){console.error("Error loading customers:",g)}},h=async()=>{if(s)try{const{data:g,error:x}=await he.from("rental_schedules").select("*").eq("id",s).single();if(x)throw x;g&&d({schedule_name:g.schedule_name||"",customer_id:g.customer_id||"",equipment_name:g.equipment_name||"",frequency:g.frequency||"monthly",rental_value:g.rental_value||0,start_date:g.start_date||new Date().toISOString().split("T")[0],end_date:g.end_date||"",next_billing_date:g.next_billing_date||new Date().toISOString().split("T")[0],active:g.active!==!1,notes:g.notes||"",auto_generate_invoice:g.auto_generate_invoice!==!1})}catch(g){console.error("Error loading schedule:",g),alert("Erro ao carregar programação de locação")}},m=async g=>{try{const x=o.find(v=>v.id===g.customer_id);if(!x)return;await he.from("agenda_events").insert([{title:`Locação: ${g.equipment_name}`,description:`Cliente: ${x.nome_razao}
Equipamento: ${g.equipment_name}
Valor: R$ ${g.rental_value.toFixed(2)}
Faturamento automático: ${g.auto_generate_invoice?"Sim":"Não"}`,start_date:g.next_billing_date,end_date:g.next_billing_date,type:"rental",status:"pending",all_day:!0,color:"#8b5cf6",customer_id:g.customer_id,metadata:{schedule_id:s,customer_id:g.customer_id,equipment_name:g.equipment_name,rental_value:g.rental_value,auto_generate_invoice:g.auto_generate_invoice}}])}catch(x){console.error("Error creating agenda event:",x)}},f=async()=>{if(!c.schedule_name||!c.customer_id||!c.equipment_name||c.rental_value<=0){alert("Preencha todos os campos obrigatórios");return}i(!0);try{const g={schedule_name:c.schedule_name,customer_id:c.customer_id,equipment_name:c.equipment_name,frequency:c.frequency,rental_value:c.rental_value,start_date:c.start_date,end_date:c.end_date||null,next_billing_date:c.next_billing_date,active:c.active,notes:c.notes,auto_generate_invoice:c.auto_generate_invoice,updated_at:new Date().toISOString()};if(s){const{error:x}=await he.from("rental_schedules").update(g).eq("id",s);if(x)throw x}else{const{data:x,error:v}=await he.from("rental_schedules").insert([g]).select().single();if(v)throw v;await m(x)}alert("Programação de locação salva com sucesso!"),r(),e(),b()}catch(g){console.error("Error saving rental schedule:",g),alert("Erro ao salvar programação de locação")}finally{i(!1)}},b=()=>{d({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0})},y=[{value:"daily",label:"Diária"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?n.jsx(Nt,{children:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(QE,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold",children:[s?"Editar":"Nova"," Programação de Locação"]}),n.jsx("p",{className:"text-sm text-purple-100",children:"Locações e faturamentos recorrentes"})]})]}),n.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:n.jsx(Et,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(xs,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-purple-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Faturamento Automático"}),n.jsx("p",{children:"Esta locação será lançada automaticamente na agenda e pode gerar receitas financeiras na data especificada."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programação *"}),n.jsx("input",{type:"text",value:c.schedule_name,onChange:g=>d(x=>({...x,schedule_name:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Locação Mensal - Escavadeira",required:!0})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),n.jsxs("select",{value:c.customer_id,onChange:g=>d(x=>({...x,customer_id:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(g=>n.jsx("option",{value:g.id,children:g.nome_razao},g.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx($t,{className:"inline h-4 w-4 mr-1"}),"Equipamento/Serviço *"]}),n.jsx("input",{type:"text",value:c.equipment_name,onChange:g=>d(x=>({...x,equipment_name:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Nome do equipamento ou serviço locado",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(zs,{className:"inline h-4 w-4 mr-1"}),"Frequência *"]}),n.jsx("select",{value:c.frequency,onChange:g=>d(x=>({...x,frequency:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:y.map(g=>n.jsx("option",{value:g.value,children:g.label},g.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(pr,{className:"inline h-4 w-4 mr-1"}),"Valor da Locação (R$) *"]}),n.jsx("input",{type:"number",value:c.rental_value,onChange:g=>d(x=>({...x,rental_value:parseFloat(g.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(kr,{className:"inline h-4 w-4 mr-1"}),"Data de Início *"]}),n.jsx("input",{type:"date",value:c.start_date,onChange:g=>d(x=>({...x,start_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Término (Opcional)"}),n.jsx("input",{type:"date",value:c.end_date,onChange:g=>d(x=>({...x,end_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Próximo Faturamento *"}),n.jsx("input",{type:"date",value:c.next_billing_date,onChange:g=>d(x=>({...x,next_billing_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.active,onChange:g=>d(x=>({...x,active:g.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.auto_generate_invoice,onChange:g=>d(x=>({...x,auto_generate_invoice:g.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Receita"})]})]}),c.rental_value>0&&n.jsx("div",{className:"md:col-span-2 bg-purple-50 border border-purple-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Valor por Período:"}),n.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["R$ ",c.rental_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),n.jsx("textarea",{value:c.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Informações adicionais sobre esta locação..."})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:f,disabled:a,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[n.jsx(Nr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programação"]})]})]})})}):null},EIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState("all"),[c,d]=F.useState(""),[u,h]=F.useState("alerts"),[m,f]=F.useState(!1),[b,y]=F.useState(!1);F.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0),await Promise.all([x(),v()])}catch(_){console.error("Error loading data:",_)}finally{i(!1)}},x=async()=>{const{data:_}=await he.from("purchase_orders").select("*").order("created_at",{ascending:!1}).limit(100);e(_||[])},v=async()=>{try{const{data:_,error:T}=await he.rpc("get_items_needing_purchase");if(T)throw T;s(_||[])}catch(_){console.error("Error loading low stock items:",_)}},j=_=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",ordered:"bg-purple-100 text-purple-800",partial:"bg-orange-100 text-orange-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",B=_=>({draft:"Rascunho",pending:"Pendente",approved:"Aprovado",ordered:"Pedido Feito",partial:"Parcial",received:"Recebido",cancelled:"Cancelado"})[_]||_,C=_=>({low:"text-gray-500",normal:"text-blue-500",high:"text-orange-500",urgent:"text-red-500"})[_]||"text-gray-500",E=_=>({critical:"bg-red-600 text-white",urgent:"bg-orange-500 text-white",normal:"bg-yellow-500 text-white",low:"bg-blue-500 text-white"})[_]||"bg-gray-500 text-white",M=_=>({critical:"CRÍTICO",urgent:"URGENTE",normal:"NORMAL",low:"BAIXA"})[_]||_,S=t.filter(_=>{const T=_.order_number.toLowerCase().includes(c.toLowerCase())||_.supplier_name.toLowerCase().includes(c.toLowerCase()),D=o==="all"||_.status===o;return T&&D}),k={totalOrders:t.length,pendingOrders:t.filter(_=>_.status==="pending"||_.status==="approved").length,criticalItems:r.filter(_=>_.urgency==="critical").length,totalAlerts:r.length,pendingValue:t.filter(_=>_.status==="pending"||_.status==="approved").reduce((_,T)=>_+(T.final_amount||0),0)},I=async _=>{try{const{data:T}=await he.rpc("generate_purchase_order_number"),D=T||`PO${Date.now()}`,L=_.supplier||"A Definir",V=_.unit_price||_.estimated_cost/_.recommended_order_qty,{data:z,error:Z}=await he.from("purchase_orders").insert([{order_number:D,supplier_name:L,status:"draft",priority:_.urgency==="critical"?"urgent":_.urgency==="urgent"?"high":"normal",order_date:new Date().toISOString().split("T")[0],notes:`Pedido automático - ${_.item_name}
Categoria: ${_.category||"N/A"}
Localização: ${_.location||"N/A"}
Estoque Atual: ${_.current_stock}
Estoque Mínimo: ${_.min_stock}
Dias até ruptura: ${_.days_until_stockout||"N/A"}`}]).select().single();if(Z)throw Z;const{error:G}=await he.from("purchase_order_items").insert([{purchase_order_id:z.id,inventory_id:_.inventory_id,item_name:_.item_name,quantity:_.recommended_order_qty,unit_price:V,urgency_level:_.urgency}]);if(G)throw G;alert(`✅ Pedido ${D} criado com sucesso!

Fornecedor: ${L}
Quantidade: ${_.recommended_order_qty}
Valor: R$ ${_.estimated_cost.toFixed(2)}`),await g()}catch(T){console.error("Error creating purchase order:",T),alert("Erro ao criar pedido de compra")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ff,{className:"h-8 w-8 text-blue-600"}),"Departamento de Compras"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gestão completa de pedidos e alertas de estoque"})]}),n.jsxs("button",{onClick:()=>alert("Modal de novo pedido em desenvolvimento"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Novo Pedido"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(vt,{className:"h-8 w-8 text-blue-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.totalOrders}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(tr,{className:"h-8 w-8 text-yellow-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.pendingOrders}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(un,{className:"h-8 w-8 text-red-500 animate-pulse mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-red-600",children:k.criticalItems}),n.jsx("p",{className:"text-sm text-gray-600",children:"Itens Críticos"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx($t,{className:"h-8 w-8 text-orange-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k.totalAlerts}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alertas"})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(pr,{className:"h-8 w-8 text-green-500 mb-2"}),n.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["R$ ",k.pendingValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Pendente"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsxs("button",{onClick:()=>h("alerts"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="alerts"?"bg-red-50 text-red-600 border-b-2 border-red-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(un,{className:"h-5 w-5"}),n.jsxs("span",{className:"font-medium",children:["Alertas de Estoque (",k.totalAlerts,")"]})]}),n.jsxs("button",{onClick:()=>h("orders"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="orders"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Ff,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Pedidos de Compra"})]}),n.jsxs("button",{onClick:()=>h("schedules"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="schedules"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(tr,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Programação"})]}),n.jsxs("button",{onClick:()=>h("quotes"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="quotes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(vt,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Cotações"})]})]}),n.jsxs("div",{className:"p-6",children:[u==="alerts"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx(un,{className:"h-6 w-6 text-red-600 animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-red-900",children:[k.criticalItems," ",k.criticalItems===1?"Item Crítico":"Itens Críticos"," Necessitando Atenção Imediata"]}),n.jsx("p",{className:"text-sm text-red-700",children:'Clique em "Criar Pedido" para gerar automaticamente um pedido de compra'})]})]}),r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Urgência"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fornecedor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qtd. Recomendada"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preço Unit."}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ações"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(_=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${E(_.urgency)}`,children:M(_.urgency)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:_.item_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[_.category||"Sem categoria"," • ",_.location||"Sem local"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-gray-900",children:_.supplier||"A definir"}),_.last_purchase_date&&n.jsxs("div",{className:"text-xs text-gray-500",children:["Última compra: ",new Date(_.last_purchase_date).toLocaleDateString("pt-BR")]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-red-600",children:_.current_stock})," ",n.jsxs("span",{className:"text-gray-500",children:["/ ",_.min_stock]})]}),_.days_until_stockout!==null&&_.days_until_stockout<30&&n.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:["⚠️ ",_.days_until_stockout," dias"]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:_.recommended_order_qty}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["R$ ",(_.unit_price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-green-600",children:["R$ ",_.estimated_cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("button",{onClick:()=>I(_),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2 ml-auto",children:[n.jsx(Ff,{className:"h-4 w-4"}),"Criar Pedido"]})})]},_.inventory_id))})]})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ja,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tudo Certo!"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum item necessitando compra no momento"})]})]}),u==="orders"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"Buscar por número ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),n.jsxs("select",{value:o,onChange:_=>l(_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"draft",children:"Rascunho"}),n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"approved",children:"Aprovado"}),n.jsx("option",{value:"ordered",children:"Pedido Feito"}),n.jsx("option",{value:"received",children:"Recebido"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),S.length>0?n.jsx("div",{className:"space-y-3",children:S.map(_=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.order_number}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${j(_.status)}`,children:B(_.status)}),n.jsxs("span",{className:`text-sm font-medium ${C(_.priority)}`,children:[_.priority==="urgent"&&"🔴 URGENTE",_.priority==="high"&&"🟠 ALTA",_.priority==="normal"&&"🔵 NORMAL",_.priority==="low"&&"⚪ BAIXA"]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Fornecedor: ",n.jsx("span",{className:"font-medium text-gray-900",children:_.supplier_name})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("span",{children:["Data: ",new Date(_.order_date).toLocaleDateString("pt-BR")]}),_.expected_delivery_date&&n.jsxs("span",{children:["Entrega Prevista: ",new Date(_.expected_delivery_date).toLocaleDateString("pt-BR")]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",_.final_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[n.jsx(la,{className:"h-4 w-4"}),"Ver Detalhes"]})]})]})},_.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ff,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-gray-600",children:"Crie seu primeiro pedido de compra"})]})]}),u==="schedules"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border-2 border-blue-200",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:n.jsx(zs,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programação de Compra"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Compras recorrentes automáticas"})]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Configure compras automáticas de materiais com base em períodos fixos. O sistema gerará pedidos automaticamente e criará eventos na agenda."}),n.jsxs("button",{onClick:()=>f(!0),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Nova Programação de Compra"]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 border-2 border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:n.jsx(QE,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programação de Locação"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Locações e faturamentos recorrentes"})]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Configure locações de equipamentos com faturamento automático. O sistema pode gerar receitas financeiras automaticamente na agenda."}),n.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Nova Programação de Locação"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Programações Ativas"}),n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(tr,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{children:"Nenhuma programação cadastrada ainda"}),n.jsx("p",{className:"text-sm",children:"Crie sua primeira programação usando os botões acima"})]})]})]}),u==="quotes"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cotações de Fornecedores"}),n.jsx("p",{className:"text-gray-600",children:"Compare preços e condições de diferentes fornecedores"}),n.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Nova Cotação"})]})]})]}),n.jsx(SIe,{isOpen:m,onClose:()=>f(!1),onSave:()=>{f(!1),g()}}),n.jsx(BIe,{isOpen:b,onClose:()=>y(!1),onSave:()=>{y(!1),g()}})]})},kIe=({onRouteSelect:t})=>{const[e,r]=F.useState([]),[s,a]=F.useState([]),[i,o]=F.useState(!0),[l,c]=F.useState(!1),[d,u]=F.useState(null),[h,m]=F.useState([]),[f,b]=F.useState("today"),[y,g]=F.useState({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""});F.useEffect(()=>{x(),v()},[f]);const x=async()=>{try{o(!0);let I=he.from("routes").select(`
          *,
          route_stops(count)
        `).order("route_date",{ascending:!1}).order("created_at",{ascending:!1});if(f==="today"){const L=new Date().toISOString().split("T")[0];I=I.eq("route_date",L)}else f!=="all"&&(I=I.eq("status",f));const{data:_,error:T}=await I;if(T)throw T;const D=await Promise.all((_||[]).map(async L=>{let V="Não atribuído";if(L.assigned_employee_id){const{data:z}=await he.from("employees").select("name").eq("id",L.assigned_employee_id).single();z&&(V=z.name)}return{...L,employee_name:V,stop_count:L.route_stops?.[0]?.count||0}}));r(D)}catch(I){console.error("Error loading routes:",I)}finally{o(!1)}},v=async()=>{try{const{data:I}=await he.from("employees").select("id, name").eq("active",!0).order("name");a(I||[])}catch(I){console.error("Error loading employees:",I)}},j=async I=>{try{const{data:_,error:T}=await he.from("route_stops").select("*").eq("route_id",I).order("stop_order");if(T)throw T;m(_||[])}catch(_){console.error("Error loading stops:",_)}},B=async()=>{if(!y.route_name){alert("Nome da rota é obrigatório!");return}try{const{error:I}=await he.from("routes").insert([y]);if(I)throw I;await x(),g({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""}),c(!1)}catch(I){console.error("Error creating route:",I),alert("Erro ao criar rota!")}},C=async(I,_)=>{try{const T={status:_};if(_==="in_progress"&&!e.find(L=>L.id===I)?.start_time&&(T.start_time=new Date().toISOString()),_==="completed"){T.end_time=new Date().toISOString();const L=e.find(V=>V.id===I);if(L?.start_time){const V=new Date(L.start_time),z=new Date;T.actual_duration_minutes=Math.round((z.getTime()-V.getTime())/6e4)}}const{error:D}=await he.from("routes").update(T).eq("id",I);if(D)throw D;await x()}catch(T){console.error("Error updating status:",T),alert("Erro ao atualizar status!")}},E=async I=>{if(confirm("Deseja realmente excluir esta rota?"))try{const{error:_}=await he.from("routes").delete().eq("id",I);if(_)throw _;await x()}catch(_){console.error("Error deleting route:",_),alert("Erro ao excluir rota!")}},M=I=>{u(I===d?null:I),I!==d&&(j(I),t&&t(I))},S=I=>{switch(I){case"pending":return{label:"Pendente",icon:tr,color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"in_progress":return{label:"Em Andamento",icon:_S,color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"completed":return{label:"Concluída",icon:Ja,color:"green",bgColor:"bg-green-100",textColor:"text-green-800"};case"cancelled":return{label:"Cancelada",icon:Q0,color:"red",bgColor:"bg-red-100",textColor:"text-red-800"};default:return{label:I,icon:tr,color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},k=I=>new Date(I).toLocaleDateString("pt-BR");return i?n.jsx("div",{className:"text-center py-8",children:"Carregando rotas..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Gestão de Rotas"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Planeje e acompanhe as rotas da equipe"})]}),n.jsxs("button",{onClick:()=>c(!l),className:"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 transition-colors font-semibold",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Nova Rota"]})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium",children:"Filtrar:"}),n.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="all"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Todas"}),n.jsx("button",{onClick:()=>b("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="today"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Hoje"}),n.jsx("button",{onClick:()=>b("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="pending"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Pendentes"}),n.jsx("button",{onClick:()=>b("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="in_progress"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Em Andamento"}),n.jsx("button",{onClick:()=>b("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f==="completed"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Concluídas"})]})]}),n.jsx(Nt,{children:l&&n.jsxs(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(V0,{className:"h-5 w-5 text-blue-600"}),"Nova Rota"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Rota *"}),n.jsx("input",{type:"text",value:y.route_name,onChange:I=>g({...y,route_name:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rota Centro - Manhã"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),n.jsx("input",{type:"date",value:y.route_date,onChange:I=>g({...y,route_date:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionário"}),n.jsxs("select",{value:y.assigned_employee_id,onChange:I=>g({...y,assigned_employee_id:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),s.map(I=>n.jsx("option",{value:I.id,children:I.name},I.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veículo/Placa"}),n.jsx("input",{type:"text",value:y.vehicle_id,onChange:I=>g({...y,vehicle_id:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: ABC-1234"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duração Estimada (minutos)"}),n.jsx("input",{type:"number",value:y.estimated_duration_minutes,onChange:I=>g({...y,estimated_duration_minutes:parseInt(I.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observações"}),n.jsx("textarea",{value:y.notes,onChange:I=>g({...y,notes:I.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observações sobre a rota..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsx("button",{onClick:B,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Rota"})]})]})}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(V0,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma rota encontrada"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Nova Rota" para começar'})]}):n.jsx("div",{className:"space-y-4",children:e.map(I=>{const _=S(I.status),T=_.icon,D=d===I.id;return n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{onClick:()=>M(I.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:I.route_name}),n.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.bgColor} ${_.textColor}`,children:[n.jsx(T,{className:"h-3 w-3 inline mr-1"}),_.label]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(lo,{className:"h-3 w-3"}),"Data:"]}),n.jsx("p",{className:"font-medium",children:k(I.route_date)})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(nn,{className:"h-3 w-3"}),"Responsável:"]}),n.jsx("p",{className:"font-medium",children:I.employee_name})]}),I.vehicle_id&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(Tv,{className:"h-3 w-3"}),"Veículo:"]}),n.jsx("p",{className:"font-medium",children:I.vehicle_id})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(lo,{className:"h-3 w-3"}),"Paradas:"]}),n.jsx("p",{className:"font-medium",children:I.stop_count})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(Or,{className:"h-3 w-3"}),"Distância:"]}),n.jsxs("p",{className:"font-medium",children:[I.total_distance_km," km"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[I.status==="pending"&&n.jsx("button",{onClick:L=>{L.stopPropagation(),C(I.id,"in_progress")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Iniciar rota",children:n.jsx(_S,{className:"h-5 w-5"})}),I.status==="in_progress"&&n.jsx("button",{onClick:L=>{L.stopPropagation(),C(I.id,"completed")},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Concluir rota",children:n.jsx(Ja,{className:"h-5 w-5"})}),n.jsx("button",{onClick:L=>{L.stopPropagation(),E(I.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir rota",children:n.jsx(rr,{className:"h-5 w-5"})})]})]})}),n.jsx(Nt,{children:D&&n.jsxs(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-gray-50 p-6",children:[n.jsxs("h5",{className:"font-semibold mb-4",children:["Paradas da Rota (",h.length,")"]}),h.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma parada adicionada ainda"}):n.jsx("div",{className:"space-y-3",children:h.map((L,V)=>n.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:V+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h6",{className:"font-medium text-gray-900",children:L.customer_name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:L.address}),L.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:L.notes})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(L.status).bgColor} ${S(L.status).textColor}`,children:S(L.status).label})]})},L.id))})]})})]},I.id)})})]})},PIe=()=>{const[t,e]=F.useState(null);return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:n.jsx(V0,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rastreamento e Gestão de Rotas"}),n.jsx("p",{className:"text-gray-600",children:"Planeje, acompanhe e gerencie as rotas da equipe em tempo real"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rotas Hoje"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),n.jsx(lo,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Em Andamento"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),n.jsx(V0,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"KM Hoje"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),n.jsx(Or,{className:"h-12 w-12 text-green-500 opacity-20"})]})})]}),n.jsx(kIe,{onRouteSelect:e}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"📱 Como funciona o rastreamento em tempo real?"}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"1. Planejamento:"})," Crie rotas e adicione as paradas (ordens de serviço) em sequência"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"2. Atribuição:"})," Designe um funcionário e veículo para cada rota"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"3. Rastreamento:"})," Quando a rota é iniciada, o sistema registra a localização em tempo real"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"4. Otimização:"})," Visualize o progresso, distância percorrida e tempo estimado"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"5. Histórico:"})," Todo o trajeto fica registrado para análise posterior"]})]})]}),n.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:"🚀 Recursos Disponíveis"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Gestão de Rotas"}),n.jsx("p",{className:"text-purple-700",children:"Criar, editar e gerenciar rotas diárias"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Paradas Sequenciais"}),n.jsx("p",{className:"text-purple-700",children:"Adicionar ordens de serviço em ordem"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Cálculo de Distância"}),n.jsx("p",{className:"text-purple-700",children:"Distância total calculada automaticamente"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Status em Tempo Real"}),n.jsx("p",{className:"text-purple-700",children:"Acompanhe o progresso de cada rota"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Histórico Completo"}),n.jsx("p",{className:"text-purple-700",children:"Registros de todas as movimentações"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:"✅ Otimização de Rotas"}),n.jsx("p",{className:"text-purple-700",children:"Sugestões de melhor sequência"})]})]})]})]})})},TIe=(t,e)=>{const r=new Kt,s=r.internal.pageSize.width,a=r.internal.pageSize.height;let i=20;const o=(u=20)=>i+u>a-20?(r.addPage(),i=20,!0):!1;r.setFillColor(41,128,185),r.rect(0,0,s,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.title,15,25),i=50,r.setTextColor(0,0,0),r.setFillColor(245,245,245),r.rect(10,i-5,s-20,40,"F"),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Informações do Documento",15,i+3),r.setFont("helvetica","normal"),r.setFontSize(9);const l=i+10;r.text(`Departamento: ${t.department}`,15,l),r.text(`Versão: ${t.version}`,s/2,l),t.category&&r.text(`Categoria: ${t.category}`,15,l+7),r.text(`Status: ${OIe(t.status)}`,s/2,l+7),r.text(`Criado em: ${new Date(t.createdAt).toLocaleDateString("pt-BR")}`,15,l+14),r.text(`Atualizado em: ${new Date(t.updatedAt).toLocaleDateString("pt-BR")}`,s/2,l+14),i+=48,t.description&&(o(20),r.setFontSize(11),r.setFont("helvetica","bold"),r.text("Descrição",15,i),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(t.description,s-30).forEach(h=>{o(),r.text(h,15,i),i+=5}),i+=5),t.tags&&t.tags.length>0&&(o(15),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Tags: ",15,i),r.setFont("helvetica","normal"),r.text(t.tags.join(", "),35,i),i+=10),o(20),r.setDrawColor(41,128,185),r.setLineWidth(.5),r.line(15,i,s-15,i),i+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Conteúdo",15,i),i+=8,FIe(t.content).forEach(u=>{o(u.height||15),u.type==="heading1"?(r.setFontSize(16),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=10):u.type==="heading2"?(r.setFontSize(14),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=8):u.type==="heading3"?(r.setFontSize(12),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=7):u.type==="paragraph"?(r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(u.text,s-30).forEach(m=>{o(),r.text(m,15,i),i+=5}),i+=3):u.type==="list"&&(r.setFontSize(10),r.setFont("helvetica","normal"),u.items.forEach(h=>{o(),r.text("• "+h,20,i),i+=5}),i+=3)}),i=a-30,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(15,i,s-15,i),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Documento gerado em ${new Date().toLocaleString("pt-BR")}`,s/2,i+7,{align:"center"}),t.approvedBy&&t.approvedAt&&r.text(`Aprovado por: ${t.approvedBy} em ${new Date(t.approvedAt).toLocaleDateString("pt-BR")}`,s/2,i+12,{align:"center"});const d=r.getNumberOfPages();for(let u=1;u<=d;u++)r.setPage(u),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Página ${u} de ${d}`,s-15,a-10,{align:"right"});return r};function FIe(t){const e=[],r=t.split(`
`);let s="",a=[];return r.forEach(i=>{const o=i.trim();o.startsWith("# ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading1",text:o.substring(2)})):o.startsWith("## ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading2",text:o.substring(3)})):o.startsWith("### ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading3",text:o.substring(4)})):o.startsWith("- ")||o.startsWith("* ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.push(o.substring(2))):o===""?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[])):(a.length>0&&(e.push({type:"list",items:a}),a=[]),s+=(s?" ":"")+o)}),s&&e.push({type:"paragraph",text:s.trim()}),a.length>0&&e.push({type:"list",items:a}),e}function OIe(t){return{draft:"Rascunho",review:"Em Revisão",approved:"Aprovado",archived:"Arquivado"}[t]||t}const IIe=()=>{const[t,e]=F.useState([]),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState(""),[c,d]=F.useState("all"),[u,h]=F.useState("all"),[m,f]=F.useState(!1),[b,y]=F.useState(!1),[g,x]=F.useState(null),[v,j]=F.useState(null),[B,C]=F.useState({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""}),[E,M]=F.useState(""),S=["Operacional","Financeiro","Comercial","RH","TI","Geral"],k=[{value:"draft",label:"Rascunho",color:"gray",icon:tr},{value:"review",label:"Em Revisão",color:"yellow",icon:la},{value:"approved",label:"Aprovado",color:"green",icon:Ja},{value:"archived",label:"Arquivado",color:"blue",icon:wS}];F.useEffect(()=>{I(),_()},[]);const I=async()=>{try{i(!0);const{data:U,error:te}=await he.from("documents").select("*").order("updated_at",{ascending:!1});if(te)throw te;e(U||[])}catch(U){console.error("Erro ao carregar documentos:",U)}finally{i(!1)}},_=async()=>{try{const{data:U,error:te}=await he.from("document_templates").select("*").eq("is_active",!0).order("name");if(te)throw te;s(U||[])}catch(U){console.error("Erro ao carregar templates:",U)}},T=U=>{C({...B,content:U.content_template,department:U.department,category:U.category||"",template_type:U.name}),y(!1),f(!0)},D=async()=>{try{if(g){const{error:U}=await he.from("documents").update({title:B.title,description:B.description,content:B.content,department:B.department,category:B.category,status:B.status,tags:B.tags,updated_at:new Date().toISOString()}).eq("id",g.id);if(U)throw U}else{const{error:U}=await he.from("documents").insert({title:B.title,description:B.description,content:B.content,department:B.department,category:B.category,status:B.status,tags:B.tags,template_type:B.template_type,version:1});if(U)throw U}await I(),Z()}catch(U){console.error("Erro ao salvar documento:",U),alert("Erro ao salvar documento")}},L=U=>{x(U),C({title:U.title,description:U.description||"",content:U.content,department:U.department,category:U.category||"",status:U.status,tags:U.tags||[],template_type:U.template_type||""}),f(!0)},V=async U=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{const{error:te}=await he.from("documents").delete().eq("id",U);if(te)throw te;await I()}catch(te){console.error("Erro ao excluir documento:",te),alert("Erro ao excluir documento")}},z=U=>{TIe({title:U.title,description:U.description,content:U.content,department:U.department,category:U.category,version:U.version,createdAt:U.created_at,updatedAt:U.updated_at,status:U.status,tags:U.tags}).save(`${U.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_v${U.version}.pdf`)},Z=()=>{f(!1),x(null),C({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""})},G=()=>{E.trim()&&!B.tags.includes(E.trim())&&(C({...B,tags:[...B.tags,E.trim()]}),M(""))},H=U=>{C({...B,tags:B.tags.filter(te=>te!==U)})},ee=t.filter(U=>{const te=U.title.toLowerCase().includes(o.toLowerCase())||U.description?.toLowerCase().includes(o.toLowerCase())||U.tags.some(fe=>fe.toLowerCase().includes(o.toLowerCase())),X=c==="all"||U.department===c,se=u==="all"||U.status===u;return te&&X&&se}),Y=U=>{const te=k.find(X=>X.value===U);return te?te.icon:tr},q=U=>({draft:"bg-gray-100 text-gray-800",review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",archived:"bg-blue-100 text-blue-800"})[U]||"bg-gray-100 text-gray-800";return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Documentação"}),n.jsx("p",{className:"text-indigo-100",children:"Gerencie documentos departamentais e gere PDFs"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>y(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[n.jsx(NS,{className:"h-5 w-5"}),"Usar Template"]}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-400 transition-colors flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Novo Documento"]})]})]})}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:o,onChange:U=>l(U.target.value),placeholder:"Buscar documentos, tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:c,onChange:U=>d(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"Todos os Departamentos"}),S.map(U=>n.jsx("option",{value:U,children:U},U))]}),n.jsxs("select",{value:u,onChange:U=>h(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),k.map(U=>n.jsx("option",{value:U.value,children:U.label},U.value))]})]}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando documentos..."})]}):ee.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento encontrado"}),n.jsx("button",{onClick:()=>f(!0),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Criar primeiro documento"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ee.map(U=>{const te=Y(U.status);return n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:U.title}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:U.description})]}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${q(U.status)}`,children:[n.jsx(te,{className:"h-3 w-3"}),k.find(X=>X.value===U.status)?.label]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vt,{className:"h-3 w-3"}),U.department]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(NS,{className:"h-3 w-3"}),"v",U.version]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(kr,{className:"h-3 w-3"}),new Date(U.updated_at).toLocaleDateString("pt-BR")]})]}),U.tags&&U.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[U.tags.slice(0,3).map(X=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:X},X)),U.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",U.tags.length-3]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>j(U),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm flex items-center justify-center gap-1",children:[n.jsx(la,{className:"h-4 w-4"}),"Ver"]}),n.jsxs("button",{onClick:()=>L(U),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors text-sm flex items-center justify-center gap-1",children:[n.jsx(fi,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>z(U),className:"px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:n.jsx(ys,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>V(U.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:n.jsx(rr,{className:"h-4 w-4"})})]})]},U.id)})})]}),n.jsx(Nt,{children:b&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Selecionar Template"}),n.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Escolha um template para começar"})]}),n.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(U=>n.jsxs("div",{onClick:()=>T(U),className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 hover:shadow-md transition-all cursor-pointer",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:U.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:U.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:U.department}),U.category&&n.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:U.category})]})]},U.id))})})]})})}),n.jsx(Nt,{children:m&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:g?"Editar Documento":"Novo Documento"}),n.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:g?"Atualize as informações do documento":"Preencha as informações do documento"})]}),n.jsx("button",{onClick:Z,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),n.jsx("input",{type:"text",value:B.title,onChange:U=>C({...B,title:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Título do documento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),n.jsx("textarea",{value:B.description,onChange:U=>C({...B,description:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2,placeholder:"Breve descrição do documento"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),n.jsx("select",{value:B.department,onChange:U=>C({...B,department:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:S.map(U=>n.jsx("option",{value:U,children:U},U))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:B.category,onChange:U=>C({...B,category:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Relatório, Procedimento, etc"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{value:B.status,onChange:U=>C({...B,status:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:k.map(U=>n.jsx("option",{value:U.value,children:U.label},U.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:E,onChange:U=>M(U.target.value),onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),G()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Adicionar tag..."}),n.jsx("button",{onClick:G,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:n.jsx(CS,{className:"h-5 w-5"})})]}),B.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:B.tags.map(U=>n.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[U,n.jsx("button",{onClick:()=>H(U),className:"hover:text-indigo-900",children:n.jsx(Et,{className:"h-3 w-3"})})]},U))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conteúdo * (suporta Markdown)"}),n.jsx("textarea",{value:B.content,onChange:U=>C({...B,content:U.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:15,placeholder:`# Título do Documento

## Seção 1

Conteúdo da seção...

- Item 1
- Item 2`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dicas: Use # para títulos, ## para subtítulos, - para listas"})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:Z,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:D,disabled:!B.title||!B.content,className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Nr,{className:"h-5 w-5"}),g?"Atualizar Documento":"Criar Documento"]})]})]})})}),n.jsx(Nt,{children:v&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:v.title}),n.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:[v.department," • Versão ",v.version]})]}),n.jsx("button",{onClick:()=>j(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[v.description&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Descrição"}),n.jsx("p",{className:"text-gray-600",children:v.description})]}),n.jsx("div",{className:"prose max-w-none",children:v.content.split(`
`).map((U,te)=>U.startsWith("# ")?n.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4",children:U.substring(2)},te):U.startsWith("## ")?n.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:U.substring(3)},te):U.startsWith("### ")?n.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:U.substring(4)},te):U.startsWith("- ")?n.jsx("li",{className:"ml-6",children:U.substring(2)},te):U.trim()===""?n.jsx("br",{},te):n.jsx("p",{className:"mb-2",children:U},te))})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsxs("button",{onClick:()=>z(v),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(ys,{className:"h-5 w-5"}),"Baixar PDF"]}),n.jsxs("button",{onClick:()=>{j(null),L(v)},className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(fi,{className:"h-5 w-5"}),"Editar"]})]})]})})})]})},DIe=()=>{const t=Vs(),[e,r]=F.useState([]),[s,a]=F.useState(!0),[i,o]=F.useState(!1),[l,c]=F.useState(null),[d,u]=F.useState(!1),[h,m]=F.useState({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0});F.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const{data:E,error:M}=await he.from("email_accounts").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(M)throw M;r(E||[])}catch(E){console.error("Error loading email accounts:",E)}finally{a(!1)}},b=async E=>{E.preventDefault();try{if(l){const{error:M}=await he.from("email_accounts").update(h).eq("id",l);if(M)throw M;alert("✅ Conta de email atualizada com sucesso!")}else{const{error:M}=await he.from("email_accounts").insert([h]);if(M)throw M;alert("✅ Conta de email criada com sucesso!")}v(),f()}catch(M){console.error("Error saving email account:",M),M?.message?.includes("email_address")&&M?.message?.includes("already exists")?alert(`❌ ERRO: O email "${h.email_address}" já está cadastrado!

Para editar esta conta:
1. Feche este formulário
2. Clique no ícone de configuração (⚙️) da conta existente
3. Faça as alterações necessárias`):M?.code==="23505"?alert(`❌ ERRO: Esta conta de email já existe no sistema!

Verifique a lista de contas abaixo.`):alert(`❌ Erro ao salvar conta de email:

${M?.message||"Erro desconhecido"}`)}},y=E=>{m({account_name:E.account_name,email_address:E.email_address,smtp_host:E.smtp_host,smtp_port:E.smtp_port,smtp_user:E.smtp_user,smtp_password:E.smtp_password,smtp_secure:E.smtp_secure,imap_host:E.imap_host||"",imap_port:E.imap_port||993,imap_user:E.imap_user||"",imap_password:E.imap_password||"",imap_secure:E.imap_secure,sender_name:E.sender_name,signature:E.signature||"",is_default:E.is_default,is_active:E.is_active}),c(E.id),o(!0)},g=async(E,M)=>{if(confirm(`Deseja realmente excluir a conta ${M}?`))try{const{error:S}=await he.from("email_accounts").delete().eq("id",E);if(S)throw S;f()}catch(S){console.error("Error deleting account:",S),alert("Erro ao excluir conta")}},x=async E=>{try{await he.from("email_accounts").update({is_default:!1}).neq("id",E);const{error:M}=await he.from("email_accounts").update({is_default:!0}).eq("id",E);if(M)throw M;f()}catch(M){console.error("Error setting default:",M)}},v=()=>{m({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0}),c(null),o(!1),u(!1)},j=()=>{m(E=>({...E,smtp_host:"smtp.gmail.com",smtp_port:587,imap_host:"imap.gmail.com",imap_port:993}))},B=()=>{m(E=>({...E,smtp_host:"smtp-mail.outlook.com",smtp_port:587,imap_host:"outlook.office365.com",imap_port:993}))},C=()=>{if(!h.email_address){alert("Por favor, preencha o endereço de email primeiro!");return}const E=h.email_address.split("@")[1],M=h.account_name||`Email Corporativo - ${h.email_address.split("@")[0]}`,S=h.sender_name||h.email_address.split("@")[0].charAt(0).toUpperCase()+h.email_address.split("@")[0].slice(1);m(k=>({...k,account_name:M,sender_name:S,smtp_host:`mail.${E}`,smtp_port:587,smtp_user:k.email_address,imap_host:`mail.${E}`,imap_port:993,imap_user:k.email_address,imap_password:k.smtp_password,smtp_secure:!0,imap_secure:!0,signature:`

---
Atenciosamente,
${S}
${E}`})),alert(`✅ Configurações Hostgator preenchidas!

Agora você só precisa:
1. Verificar os dados
2. Preencher a senha
3. Salvar`)};return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(zs,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(ks,{className:"h-8 w-8 text-blue-600"}),"Configurações de Email"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Configure contas de email corporativo para envio e recebimento"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[!i&&n.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Nova Conta"]}),n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Qd,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})]}),i&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:l?"Editar Conta":"Nova Conta de Email"}),n.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700",children:n.jsx(Et,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:b,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Configuração Rápida:"})," Selecione seu provedor de email"]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm hover:bg-orange-100 font-medium border border-orange-200",children:"🌐 Hostgator"}),n.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm hover:bg-red-100 font-medium border border-red-200",children:"📧 Gmail"}),n.jsx("button",{type:"button",onClick:B,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 font-medium border border-blue-200",children:"📨 Outlook"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["💡 ",n.jsx("strong",{children:"Hostgator:"})," Preencha primeiro o email, depois clique no botão"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),n.jsx("input",{type:"text",required:!0,value:h.account_name,onChange:E=>m({...h,account_name:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Email Comercial"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereço de Email *"}),n.jsx("input",{type:"email",required:!0,value:h.email_address,onChange:E=>m({...h,email_address:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Remetente *"}),n.jsx("input",{type:"text",required:!0,value:h.sender_name,onChange:E=>m({...h,sender_name:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Empresa LTDA"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações de Envio (SMTP)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor SMTP *"}),n.jsx("input",{type:"text",required:!0,value:h.smtp_host,onChange:E=>m({...h,smtp_host:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta SMTP *"}),n.jsx("input",{type:"number",required:!0,value:h.smtp_port,onChange:E=>m({...h,smtp_port:parseInt(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário SMTP *"}),n.jsx("input",{type:"text",required:!0,value:h.smtp_user,onChange:E=>m({...h,smtp_user:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha SMTP *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",required:!0,value:h.smtp_password,onChange:E=>m({...h,smtp_password:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-2 top-2",children:d?n.jsx(m1,{className:"h-5 w-5 text-gray-400"}):n.jsx(la,{className:"h-5 w-5 text-gray-400"})})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.smtp_secure,onChange:E=>m({...h,smtp_secure:E.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Usar conexão segura (TLS/SSL)"})]})})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configurações de Recebimento (IMAP) - Opcional"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor IMAP"}),n.jsx("input",{type:"text",value:h.imap_host,onChange:E=>m({...h,imap_host:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"imap.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta IMAP"}),n.jsx("input",{type:"number",value:h.imap_port,onChange:E=>m({...h,imap_port:parseInt(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuário IMAP"}),n.jsx("input",{type:"text",value:h.imap_user,onChange:E=>m({...h,imap_user:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha IMAP"}),n.jsx("input",{type:d?"text":"password",value:h.imap_password,onChange:E=>m({...h,imap_password:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assinatura de Email"}),n.jsx("textarea",{value:h.signature,onChange:E=>m({...h,signature:E.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Atenciosamente,
Sua Empresa
Tel: (11) 1234-5678`})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.is_default,onChange:E=>m({...h,is_default:E.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Conta padrão"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.is_active,onChange:E=>m({...h,is_active:E.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Conta ativa"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alterações":"Criar Conta"}),n.jsx("button",{type:"button",onClick:v,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contas Configuradas"}),e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(ks,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Nenhuma conta de email configurada"}),n.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Conta" para adicionar'})]}):n.jsx("div",{className:"space-y-3",children:e.map(E=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:E.account_name}),E.is_default&&n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Padrão"}),!E.is_active&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inativa"})]}),n.jsx("p",{className:"text-gray-600",children:E.email_address}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SMTP: ",E.smtp_host,":",E.smtp_port,E.imap_host&&` | IMAP: ${E.imap_host}:${E.imap_port}`]})]}),n.jsxs("div",{className:"flex gap-2",children:[!E.is_default&&n.jsx("button",{onClick:()=>x(E.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Definir como padrão",children:n.jsx(mn,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>y(E),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:n.jsx(gh,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>g(E.id,E.email_address),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:n.jsx(rr,{className:"h-5 w-5"})})]})]})},E.id))})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 Dicas de Configuração"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:'• Para Gmail: Ative "Acesso a apps menos seguros" ou use "Senhas de app"'}),n.jsx("li",{children:"• Para Outlook/Hotmail: Use smtp-mail.outlook.com na porta 587"}),n.jsx("li",{children:"• Para domínios próprios: Consulte seu provedor de hospedagem"}),n.jsx("li",{children:"• Recomendamos sempre usar conexão segura (TLS/SSL)"})]})]})]})})},MIe=()=>{const t=Vs(),[e,r]=F.useState([]),[s,a]=F.useState(!0),[i,o]=F.useState("inbox"),[l,c]=F.useState(""),[d,u]=F.useState(null);F.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);let v=he.from("email_messages").select("*").order("created_at",{ascending:!1});i==="inbox"?v=v.eq("direction","received").eq("is_archived",!1):i==="sent"?v=v.eq("direction","sent"):i==="starred"?v=v.eq("is_starred",!0):i==="archived"&&(v=v.eq("is_archived",!0));const{data:j,error:B}=await v;if(B)throw B;r(j||[])}catch(v){console.error("Error loading messages:",v)}finally{a(!1)}},m=async(v,j)=>{try{const{error:B}=await he.from("email_messages").update({is_read:j,read_at:j?new Date().toISOString():null}).eq("id",v);if(B)throw B;h()}catch(B){console.error("Error updating message:",B)}},f=async(v,j)=>{try{const{error:B}=await he.from("email_messages").update({is_starred:!j}).eq("id",v);if(B)throw B;h()}catch(B){console.error("Error updating message:",B)}},b=async v=>{try{const{error:j}=await he.from("email_messages").update({is_archived:!0}).eq("id",v);if(j)throw j;h(),u(null)}catch(j){console.error("Error archiving message:",j)}},y=async v=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{const{error:j}=await he.from("email_messages").delete().eq("id",v);if(j)throw j;h(),u(null)}catch(j){console.error("Error deleting message:",j)}},g=e.filter(v=>v.subject?.toLowerCase().includes(l.toLowerCase())||v.from_address?.toLowerCase().includes(l.toLowerCase())||v.from_name?.toLowerCase().includes(l.toLowerCase())),x=v=>{switch(v){case"inbox":return e.filter(j=>j.direction==="received"&&!j.is_archived).length;case"sent":return e.filter(j=>j.direction==="sent").length;case"starred":return e.filter(j=>j.is_starred).length;case"archived":return e.filter(j=>j.is_archived).length;default:return e.length}};return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(zs,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[n.jsx("div",{className:"mb-6",children:n.jsxs(Pl,{to:"/email/compose",className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium",children:[n.jsx(Ot,{className:"h-5 w-5"}),"Novo Email"]})}),n.jsxs("nav",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>o("inbox"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="inbox"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(pse,{className:"h-5 w-5"}),n.jsx("span",{children:"Caixa de Entrada"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("inbox")})]}),n.jsxs("button",{onClick:()=>o("sent"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="sent"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(bi,{className:"h-5 w-5"}),n.jsx("span",{children:"Enviados"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("sent")})]}),n.jsxs("button",{onClick:()=>o("starred"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="starred"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Na,{className:"h-5 w-5"}),n.jsx("span",{children:"Com Estrela"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("starred")})]}),n.jsxs("button",{onClick:()=>o("archived"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="archived"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(wS,{className:"h-5 w-5"}),n.jsx("span",{children:"Arquivados"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("archived")})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t",children:n.jsxs(Pl,{to:"/email/settings",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[n.jsx(ks,{className:"h-4 w-4"}),"Configurações de Email"]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Pesquisar emails...",value:l,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Atualizar",children:n.jsx(zs,{className:"h-5 w-5"})}),n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Qd,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[n.jsx(ks,{className:"h-16 w-16 mb-4 text-gray-300"}),n.jsx("p",{className:"text-lg",children:"Nenhuma mensagem encontrada"}),n.jsxs("p",{className:"text-sm mt-1",children:[i==="inbox"&&"Sua caixa de entrada está vazia",i==="sent"&&"Você ainda não enviou nenhum email",i==="starred"&&"Nenhuma mensagem marcada com estrela",i==="archived"&&"Nenhuma mensagem arquivada"]})]}):n.jsx("div",{className:"divide-y",children:g.map(v=>n.jsx("div",{onClick:()=>{u(v),!v.is_read&&v.direction==="received"&&m(v.id,!0)},className:`p-4 cursor-pointer hover:bg-gray-100 transition-colors ${!v.is_read&&v.direction==="received"?"bg-blue-50":"bg-white"} ${d?.id===v.id?"border-l-4 border-blue-600":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("button",{onClick:j=>{j.stopPropagation(),f(v.id,v.is_starred)},className:"mt-1",children:n.jsx(Na,{className:`h-5 w-5 ${v.is_starred?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:`font-medium truncate ${!v.is_read&&v.direction==="received"?"text-gray-900 font-semibold":"text-gray-700"}`,children:[v.direction==="sent"?"Para: ":"",v.from_name||v.from_address]}),n.jsx("p",{className:`text-sm truncate ${!v.is_read&&v.direction==="received"?"text-gray-900 font-medium":"text-gray-600"}`,children:v.subject})]}),n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(v.created_at).toLocaleDateString("pt-BR")})]}),n.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[v.body_text?.substring(0,100),"..."]})]})]})},v.id))})})]}),d&&n.jsxs("div",{className:"w-2/5 bg-white border-l border-gray-200 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold truncate",children:d.subject}),n.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>b(d.id),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2",children:[n.jsx(wS,{className:"h-4 w-4"}),"Arquivar"]}),n.jsxs("button",{onClick:()=>y(d.id),className:"px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg flex items-center gap-2",children:[n.jsx(rr,{className:"h-4 w-4"}),"Excluir"]})]}),n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"De:"})," ",n.jsxs("span",{className:"text-gray-600",children:[d.from_name," <",d.from_address,">"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",n.jsx("span",{className:"text-gray-600",children:new Date(d.created_at).toLocaleString("pt-BR")})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.body_html?n.jsx("div",{dangerouslySetInnerHTML:{__html:d.body_html}}):n.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:d.body_text})})]})]})})},LIe=()=>{const t=Vs(),[e,r]=F.useState(!1),[s,a]=F.useState([]),[i,o]=F.useState([]),[l,c]=F.useState({account_id:"",to:"",cc:"",bcc:"",subject:"",body_text:"",body_html:""});F.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:f,error:b}=await he.from("email_accounts").select("id, account_name, email_address, sender_name").eq("is_active",!0).order("is_default",{ascending:!1});if(b)throw b;a(f||[]),f&&f.length>0&&c(y=>({...y,account_id:f[0].id}))}catch(f){console.error("Error loading accounts:",f)}},u=async()=>{try{const{data:f,error:b}=await he.from("email_templates").select("id, name, subject, body_html, body_text").eq("is_active",!0).order("name");if(b)throw b;o(f||[])}catch(f){console.error("Error loading templates:",f)}},h=f=>{const b=i.find(y=>y.id===f);b&&c(y=>({...y,subject:b.subject,body_text:b.body_text,body_html:b.body_html}))},m=async f=>{if(f.preventDefault(),!l.to||!l.subject||!l.body_text&&!l.body_html){alert("Preencha todos os campos obrigatórios");return}r(!0);try{const{data:b,error:y}=await he.functions.invoke("send-smtp-email",{body:{account_id:l.account_id,to:l.to.split(",").map(g=>g.trim()).filter(g=>g),cc:l.cc?l.cc.split(",").map(g=>g.trim()).filter(g=>g):void 0,bcc:l.bcc?l.bcc.split(",").map(g=>g.trim()).filter(g=>g):void 0,subject:l.subject,body_text:l.body_text,body_html:l.body_html}});if(console.log("Email function response:",{result:b,error:y}),y){const g=y.message||"Erro desconhecido";throw console.error("Edge function error:",y),new Error(g)}if(!b?.success){const g=b?.error||"Erro ao enviar email";throw console.error("Email sending failed:",b),new Error(g)}alert("Email enviado com sucesso!"),t("/email/inbox")}catch(b){console.error("Error sending email:",b);const y=b.message||"Erro desconhecido";alert(`Erro ao enviar email:

${y}

Verifique se a conta de email está configurada corretamente nas Configurações de Email.`)}finally{r(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Email"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Qd,{className:"h-5 w-5"}),"Voltar ao Sistema"]}),n.jsx("button",{onClick:()=>t("/email/inbox"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:n.jsx(Et,{className:"h-5 w-5"})})]})]})}),n.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"De (Conta de Email) *"}),n.jsxs("select",{required:!0,value:l.account_id,onChange:f=>c({...l,account_id:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma conta"}),s.map(f=>n.jsxs("option",{value:f.id,children:[f.account_name," (",f.email_address,")"]},f.id))]}),s.length===0&&n.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Nenhuma conta configurada. Configure em Configurações de Email."})]}),i.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usar Template (Opcional)"}),n.jsxs("select",{onChange:f=>f.target.value&&h(f.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[n.jsx("option",{value:"",children:"Nenhum template"}),i.map(f=>n.jsx("option",{value:f.id,children:f.name},f.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Para * ",n.jsx("span",{className:"text-xs text-gray-500",children:"(separe múltiplos emails com vírgula)"})]}),n.jsx("input",{type:"text",required:!0,value:l.to,onChange:f=>c({...l,to:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"destinatario@email.com, outro@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CC ",n.jsx("span",{className:"text-xs text-gray-500",children:"(cópia)"})]}),n.jsx("input",{type:"text",value:l.cc,onChange:f=>c({...l,cc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CCO ",n.jsx("span",{className:"text-xs text-gray-500",children:"(cópia oculta)"})]}),n.jsx("input",{type:"text",value:l.bcc,onChange:f=>c({...l,bcc:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia.oculta@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),n.jsx("input",{type:"text",required:!0,value:l.subject,onChange:f=>c({...l,subject:f.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Assunto do email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),n.jsx("textarea",{required:!0,value:l.body_text,onChange:f=>c({...l,body_text:f.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite a mensagem do email..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A assinatura configurada será adicionada automaticamente"})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx("button",{type:"submit",disabled:e||s.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:e?n.jsxs(n.Fragment,{children:[n.jsx(Qp,{className:"h-5 w-5 animate-spin"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(bi,{className:"h-5 w-5"}),"Enviar Email"]})}),n.jsx("button",{type:"button",onClick:()=>t("/email/inbox"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"💡 Dicas"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Use templates para agilizar o envio de emails recorrentes"}),n.jsx("li",{children:"• Para enviar para múltiplos destinatários, separe os emails com vírgula"}),n.jsx("li",{children:"• A assinatura da conta será adicionada automaticamente ao final"}),n.jsx("li",{children:"• Verifique se a conta SMTP está configurada corretamente"})]})]})]})})},X4={margem:`Calcular margem de contribuição: (Receita - Custos Variáveis) / Receita × 100
Meta saudável: > 30%
Se abaixo de 20%, investigar: precificação, fornecedores, perdas operacionais`,markup:`Calcular markup: Preço de Venda / Custo
Meta: 1.5 a 2.5x
Relação com margem: Markup 2.0 = Margem 50%`,ebitda:`EBITDA: Lucro Operacional + Depreciação + Amortização
Meta: > 15% da receita
Indica eficiência operacional`,dso:`DSO (Days Sales Outstanding): (Contas a Receber / Receita Mensal) × 30
Meta: < 45 dias
Se > 60 dias, revisar política de crédito urgentemente`,giroEstoque:`Giro de Estoque: Custo de Vendas Anual / Estoque Médio
Meta: > 6x por ano
Se < 4x, há capital parado`,pontoEquilibrio:`Ponto de Equilíbrio: Custos Fixos Mensais / Margem de Contribuição %
Indica receita mínima para não ter prejuízo`},JQ={HIGH:.85,MEDIUM:.7};class RIe{DEFAULT_MAX_DOCS=5;DEFAULT_SIMILARITY_THRESHOLD=.7;async query(e){const r=Date.now();try{const s=await this.retrieveDocuments(e.query,e.filters,e.maxDocuments||this.DEFAULT_MAX_DOCS,e.similarityThreshold||this.DEFAULT_SIMILARITY_THRESHOLD),a=this.filterByPermissions(s,e.context.userRole),i={...e.context,retrievedDocs:a},o=await this.generateStructuredResponse(e.query,i),l=this.calculateConfidence(a,o);o.confidenceLevel=l,l==="low"&&(o.requiresHumanFallback=!0,o.fallbackReason="Conhecimento insuficiente ou conflitante");const c=await this.saveConversation(e,o,a);await this.logAccess(c,e.context,a);const d=Date.now()-r;return{response:o,retrievedDocs:a,conversationId:c,executionTimeMs:d}}catch(s){throw console.error("RAG Query Error:",s),s}}async retrieveDocuments(e,r,s=5,a=.7){try{const{data:i,error:o}=await he.from("thomaz_knowledge_sources").select("*").textSearch("content",e,{type:"websearch",config:"portuguese"}).eq("is_active",!0).limit(s);if(o)throw o;return(i||[]).map(l=>({id:l.id,title:l.title,sourceType:l.source_type,content:l.content,similarity:this.calculateTextSimilarity(e,l.content),version:l.version})).filter(l=>l.similarity>=a).sort((l,c)=>c.similarity-l.similarity)}catch(i){return console.error("Retrieve Documents Error:",i),[]}}calculateTextSimilarity(e,r){const s=e.toLowerCase().split(/\s+/),a=r.toLowerCase(),o=s.filter(l=>a.includes(l)).length/s.length;return Math.min(o+.2,1)}filterByPermissions(e,r){return e}async generateStructuredResponse(e,r){const s=this.detectQueryType(e);let a;switch(s){case"financial_calculation":a=await this.handleFinancialQuery(e,r);break;case"operational_guide":a=await this.handleOperationalQuery(e,r);break;case"strategic_advice":a=await this.handleStrategicQuery(e,r);break;default:a=await this.handleGeneralQuery(e,r)}return a}detectQueryType(e){const r=e.toLowerCase();return/margem|markup|ebitda|dso|giro|estoque|ponto.*equil[íi]brio|fluxo.*caixa/.test(r)?"financial_calculation":/como.*criar|passo.*passo|tutorial|procedimento|erro|problema/.test(r)?"operational_guide":/estrat[ée]gia|crescimento|expans[ãa]o|investimento|decis[ãa]o/.test(r)?"strategic_advice":"general"}async handleFinancialQuery(e,r){const s=r.retrievedDocs?.map(d=>({docId:d.id,title:d.title,version:d.version,relevance:d.similarity}))||[],a=e.toLowerCase();let i="",o="",l=[],c="";return/margem/.test(a)?(i="Margem de Contribuição",o="Calcular margem de contribuição para avaliar lucratividade",l=["Identifique a Receita Total do período","Calcule os Custos Variáveis (materiais, mão de obra direta)","Aplique a fórmula: (Receita - Custos Variáveis) / Receita × 100","Compare com a meta: > 30% é saudável","Se < 20%, investigue: precificação, fornecedores, perdas"],c="Margem é o indicador mais importante para sustentabilidade. Antes de crescer volume, estabilize a margem acima de 25%. Teste ajustes de preço em 10-15% dos serviços de maior volume e meça impacto em 30 dias."):/dso/.test(a)&&(i="DSO (Days Sales Outstanding)",o="Medir eficiência de cobrança e recebimento",l=["Some o total de Contas a Receber atual","Calcule a Receita Média Mensal (últimos 3 meses)","Aplique: (Contas a Receber / Receita Mensal) × 30","Meta ideal: < 45 dias","Se > 60 dias: revisar política de crédito urgentemente"],c="DSO alto mata fluxo de caixa. Implemente: 1) desconto de 3-5% para pagamento antecipado, 2) política de bloqueio automático após 30 dias, 3) call center dedicado para cobrança. ROI esperado: redução de 20% no DSO em 60 dias."),{summary:`${i}: ${o}`,steps:l,sources:s,strategicSuggestion:c,confidenceLevel:s.length>0?"high":"medium",requiresHumanFallback:!1,nextAction:"Execute os cálculos com os dados reais da empresa e compartilhe os resultados para análise detalhada."}}async handleOperationalQuery(e,r){const s=r.retrievedDocs?.map(i=>({docId:i.id,title:i.title,version:i.version,relevance:i.similarity}))||[];if(s.some(i=>i.relevance>.75)&&r.retrievedDocs&&r.retrievedDocs.length>0){const i=r.retrievedDocs[0];return{summary:`Encontrei procedimento documentado: ${i.title}`,steps:this.extractStepsFromDocument(i.content),sources:s,strategicSuggestion:"Recomendo documentar todos os processos operacionais com mesmo nível de detalhe. Processos bem documentados reduzem erros em 60% e tempo de treinamento em 50%.",confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Siga o passo a passo acima. Se encontrar dificuldades, me avise qual etapa."}}return{summary:"Procedimento não encontrado na documentação",sources:s,strategicSuggestion:"Vou criar um rascunho de procedimento baseado em boas práticas. Após validação, podemos incluir na base de conhecimento.",confidenceLevel:"low",requiresHumanFallback:!0,fallbackReason:"Sem documentação específica. Requer validação de especialista.",nextAction:"Posso abrir um ticket para o time documentar este procedimento?"}}async handleStrategicQuery(e,r){const s=r.retrievedDocs?.map(a=>({docId:a.id,title:a.title,version:a.version,relevance:a.similarity}))||[];return{summary:"Análise estratégica com perspectiva empreendedora",steps:["Levante dados dos últimos 60-90 dias (receita, margem, custos fixos)","Identifique os 3 principais gargalos atuais","Calcule ROI esperado de cada melhoria potencial","Priorize ações com payback < 6 meses","Defina métricas de acompanhamento semanal","Execute teste piloto antes de escalar"],sources:s,strategicSuggestion:`Perspectiva empreendedora: Crescimento sem margem saudável é insustentável. Princípios:

1. **Priorize caixa** - Liquidez > Receita
2. **Margem antes de volume** - Estabilize em 25%+ antes de crescer
3. **Teste rápido** - Piloto de 30 dias, depois escala
4. **Decisões com dados** - Histórico mínimo de 60 dias
5. **Risco calculado** - Exposição máxima: 20% do caixa

Ação imediata: Analise as 3 maiores oportunidades de melhoria de margem e prepare business case com ROI claro.`,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Compartilhe os dados atuais para análise detalhada e recomendações personalizadas."}}async handleGeneralQuery(e,r){const s=r.retrievedDocs?.map(i=>({docId:i.id,title:i.title,version:i.version,relevance:i.similarity}))||[];return s.length>0?{summary:"Informação encontrada na base de conhecimento",sources:s,confidenceLevel:"medium",requiresHumanFallback:!1,nextAction:"Posso detalhar algum aspecto específico?"}:{summary:"Informação não encontrada na documentação interna",sources:[],confidenceLevel:"low",requiresHumanFallback:!0,fallbackReason:"Sem documentação disponível",nextAction:"Posso buscar em fontes externas ou abrir um ticket para o time?"}}extractStepsFromDocument(e){const r=e.split(`
`),s=[];for(const a of r){const i=a.match(/^\s*\d+[\.)]\s*(.+)/);i&&s.push(i[1].trim())}return s.length>0?s:["Consulte o documento completo para detalhes"]}calculateConfidence(e,r){if(e.length===0)return"low";const s=e.reduce((a,i)=>a+i.similarity,0)/e.length;return s>=JQ.HIGH&&e.length>=2?"high":s>=JQ.MEDIUM?"medium":"low"}async saveConversation(e,r,s){try{const{data:a,error:i}=await he.from("thomaz_conversations").insert({session_id:e.context.sessionId,user_id:e.context.userId,user_role:e.context.userRole,company_id:e.context.companyId,message_index:0,role:"assistant",content:JSON.stringify(r),retrieved_sources:s.map(o=>o.id),retrieval_score:s.length>0?s.reduce((o,l)=>o+l.similarity,0)/s.length:0,confidence_level:r.confidenceLevel,requires_human:r.requiresHumanFallback}).select().single();if(i)throw i;return a.id}catch(a){return console.error("Save Conversation Error:",a),"unknown"}}async logAccess(e,r,s){try{const a=s.some(i=>i.sourceType==="CONFIDENTIAL"||i.sourceType==="RESTRICTED");await he.from("thomaz_audit_log_rag").insert({conversation_id:e,user_id:r.userId,action_type:"RAG_QUERY",action_description:"Consulta com RAG",data_accessed:{document_ids:s.map(i=>i.id)},permissions_checked:[r.userRole],permission_granted:!0,sensitive_data_exposed:a})}catch(a){console.error("Log Access Error:",a)}}async createFallbackTicket(e,r,s,a,i){try{await he.from("thomaz_fallback_tickets").insert({conversation_id:e,session_id:r,user_query:s,ai_response:a,confidence_score:0,reason:i,priority:"medium",status:"open",sla_deadline:new Date(Date.now()+1440*60*1e3)})}catch(o){console.error("Create Fallback Ticket Error:",o)}}}class UIe{calculateMargin(e){const{receita:r=0,custosVariaveis:s=0}=e;if(r===0)throw new Error("Receita não pode ser zero");const a=(r-s)/r*100;let i="critical",o="";const l=[];return a>=30?(i="excellent",o="Margem excelente! Empresa bem posicionada para crescimento."):a>=25?(i="good",o="Margem saudável. Continue monitorando.",l.push("Buscar oportunidades de otimização de custos")):a>=20?(i="warning",o="Margem no limite. Atenção necessária.",l.push("Revisar precificação dos 20% produtos mais vendidos"),l.push("Renegociar com 3 principais fornecedores")):(i="critical",o="Margem crítica! Ação imediata necessária.",l.push("URGENTE: Revisar toda estrutura de custos e preços"),l.push("Congelar novos investimentos até estabilizar margem"),l.push("Analisar produtos/serviços não lucrativos")),a<30&&(l.push("Meta: alcançar 30% em 90 dias"),l.push("Reduzir retrabalho (meta: <5%)")),{name:"Margem de Contribuição",value:a,unit:"%",status:i,target:30,interpretation:o,recommendations:l}}calculateMarkup(e){const{precoVenda:r=0,custoUnitario:s=0}=e;if(s===0)throw new Error("Custo unitário não pode ser zero");const a=r/s,i=(a-1)/a*100;let o="critical",l="";const c=[];return a>=2.5?(o="excellent",l=`Markup excelente (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`):a>=2?(o="good",l=`Markup bom (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`):a>=1.5?(o="warning",l=`Markup baixo (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`,c.push("Testar aumento de 10-15% nos preços"),c.push("Comparar com concorrência")):(o="critical",l=`Markup crítico (${a.toFixed(2)}x). Margem equivalente: ${i.toFixed(1)}%`,c.push("URGENTE: Ajustar precificação imediatamente"),c.push("Risco de prejuízo operacional alto")),c.push("Meta: Markup entre 2.0x e 2.5x (Margem 50-60%)"),{name:"Markup",value:a,unit:"x",status:o,target:2,interpretation:l,recommendations:c}}calculateEBITDA(e){const{lucroOperacional:r=0,depreciacao:s=0,amortizacao:a=0,receita:i=1}=e,o=r+s+a,l=o/i*100;let c="critical",d="";const u=[];return l>=20?(c="excellent",d="EBITDA excelente! Empresa muito eficiente operacionalmente."):l>=15?(c="good",d="EBITDA saudável. Eficiência operacional adequada."):l>=10?(c="warning",d="EBITDA baixo. Eficiência operacional precisa melhorar.",u.push("Revisar processos operacionais"),u.push("Identificar desperdícios")):(c="critical",d="EBITDA crítico. Problemas sérios de eficiência.",u.push("Auditoria operacional urgente"),u.push("Rever toda estrutura de custos fixos")),u.push("Meta: EBITDA > 15% da receita"),{name:"EBITDA",value:o,unit:"R$",status:c,target:i*.15,interpretation:d,recommendations:u}}calculateDSO(e){const{contasReceber:r=0,receitaMensal:s=1}=e,a=r/s*30;let i="critical",o="";const l=[];return a<=30?(i="excellent",o="Cobrança excelente! Fluxo de caixa saudável."):a<=45?(i="good",o="Cobrança adequada. Dentro do padrão."):a<=60?(i="warning",o="Cobrança lenta. Impacto no fluxo de caixa.",l.push("Oferecer 3-5% desconto para pagamento antecipado"),l.push("Intensificar follow-up de cobranças")):(i="critical",o="Cobrança crítica! Risco de inadimplência alto.",l.push("URGENTE: Revisar política de crédito"),l.push("Implementar bloqueio automático após 30 dias"),l.push("Criar equipe dedicada de cobrança"),l.push("Considerar factoring/antecipação")),l.push("Meta: DSO < 45 dias"),l.push(`Redução de 20% no DSO pode liberar R$ ${(r*.2).toFixed(2)} em caixa`),{name:"DSO (Prazo Médio de Recebimento)",value:a,unit:"dias",status:i,target:45,interpretation:o,recommendations:l}}calculateInventoryTurnover(e){const{custoVendas:r=0,estoqueInicial:s=0,estoqueFinal:a=0}=e,i=(s+a)/2;if(i===0)throw new Error("Estoque médio não pode ser zero");const o=r/i;let l="critical",c="";const d=[];o>=8?(l="excellent",c="Giro excelente! Estoque muito eficiente."):o>=6?(l="good",c="Giro saudável. Gestão adequada de estoque."):o>=4?(l="warning",c="Giro baixo. Capital parado em estoque.",d.push("Reduzir níveis de estoque em 20%"),d.push("Identificar itens de baixo giro")):(l="critical",c="Giro crítico! Muito capital imobilizado.",d.push("URGENTE: Promoção para reduzir estoque"),d.push("Rever política de compras"),d.push("Implementar just-in-time onde possível"));const u=365/o;return d.push(`Meta: Giro > 6x/ano (estoque dura ${u.toFixed(0)} dias)`),{name:"Giro de Estoque",value:o,unit:"x/ano",status:l,target:6,interpretation:c,recommendations:d}}calculateBreakEven(e){const{custosFixos:r=0,receita:s=1,custosVariaveis:a=0}=e,i=(s-a)/s;if(i<=0)throw new Error("Margem de contribuição deve ser positiva");const o=r/i;let l="good",c="";const d=[],u=s/o*100;return u>=150?(l="excellent",c=`Excelente! Receita está ${u.toFixed(0)}% acima do ponto de equilíbrio.`):u>=120?(l="good",c=`Bom! Receita está ${u.toFixed(0)}% acima do ponto de equilíbrio.`):u>=100?(l="warning",c=`Atenção! Receita está apenas ${u.toFixed(0)}% acima do ponto de equilíbrio.`,d.push("Aumentar margem de segurança"),d.push("Reduzir custos fixos se possível")):(l="critical",c=`CRÍTICO! Receita está ABAIXO do ponto de equilíbrio (${u.toFixed(0)}%).`,d.push("URGENTE: Empresa está operando com prejuízo"),d.push("Ação imediata necessária")),d.push(`Ponto de Equilíbrio: R$ ${o.toFixed(2)}/mês`),d.push("Meta: Manter receita 50% acima do ponto de equilíbrio"),{name:"Ponto de Equilíbrio",value:o,unit:"R$/mês",status:l,target:o,interpretation:c,recommendations:d}}async analyzeComplete(e){const r=[];try{e.receita&&e.custosVariaveis&&r.push(this.calculateMargin(e)),e.precoVenda&&e.custoUnitario&&r.push(this.calculateMarkup(e)),e.lucroOperacional!==void 0&&r.push(this.calculateEBITDA(e)),e.contasReceber&&e.receitaMensal&&r.push(this.calculateDSO(e)),e.custoVendas&&e.estoqueInicial!==void 0&&e.estoqueFinal!==void 0&&r.push(this.calculateInventoryTurnover(e)),e.custosFixos&&e.receita&&e.custosVariaveis&&r.push(this.calculateBreakEven(e))}catch(l){console.error("Indicator calculation error:",l)}const s={excellent:100,good:75,warning:50,critical:25},a=r.reduce((l,c)=>l+s[c.status],0)/r.length;let i="critical";a>=90?i="excellent":a>=70?i="good":a>=50&&(i="warning");const o=r.filter(l=>l.status==="critical"||l.status==="warning").flatMap(l=>l.recommendations).slice(0,5);return{indicators:r,overallScore:a,overallStatus:i,priorityActions:o}}}class QIe{roleHierarchy={admin:100,gestor:80,financeiro:60,vendas:40,tecnico:30,user:10};sensitivityHierarchy={public:0,internal:25,confidential:50,restricted:100};sensitivityToRoles={public:["admin","gestor","financeiro","vendas","tecnico","user"],internal:["admin","gestor","financeiro","vendas","tecnico"],confidential:["admin","gestor","financeiro"],restricted:["admin"]};canAccessDocument(e,r,s){const a=e,i=r;if(!this.roleHierarchy[a])return{allowed:!1,reason:"Role de usuário inválido"};const o=this.sensitivityToRoles[i]||[];if(!o.includes(a))return{allowed:!1,reason:`Acesso negado: documento ${i} requer role mínimo de ${o[o.length-1]}`,requiredLevel:i};if(s&&s.length>0&&!s.includes(a)){const l=this.roleHierarchy[a];if(!s.some(d=>this.roleHierarchy[d]<=l))return{allowed:!1,reason:`Acesso negado: documento requer um dos roles: ${s.join(", ")}`,requiredRole:s[0]}}return{allowed:!0}}filterDocumentsByPermission(e,r){return e.filter(s=>this.canAccessDocument(r,s.sensitivity||"public",s.required_roles).allowed)}requires2FA(e,r){const s=["delete_order","cancel_invoice","modify_payment","change_permissions","export_sensitive_data"],a=["create_order","approve_budget","update_inventory"];return!!(r==="high"||s.includes(e)||r==="medium"&&a.includes(e))}canPerformAction(e,r,s){const a=e,o={financial:{view:["admin","gestor","financeiro"],create:["admin","gestor","financeiro"],update:["admin","gestor","financeiro"],delete:["admin","gestor"]},orders:{view:["admin","gestor","financeiro","vendas","tecnico"],create:["admin","gestor","vendas"],update:["admin","gestor","vendas"],delete:["admin","gestor"]},inventory:{view:["admin","gestor","financeiro","tecnico"],create:["admin","gestor"],update:["admin","gestor","tecnico"],delete:["admin","gestor"]},reports:{view:["admin","gestor","financeiro"],create:["admin","gestor"],export:["admin","gestor","financeiro"]},users:{view:["admin","gestor"],create:["admin"],update:["admin"],delete:["admin"]}}[s];if(!o)return{allowed:!1,reason:`Tipo de recurso inválido: ${s}`};const l=o[r];return l?l.includes(a)?{allowed:!0}:{allowed:!1,reason:`Permissão negada: ${r} em ${s} requer role: ${l.join(" ou ")}`,requiredRole:l[0]}:{allowed:!1,reason:`Ação inválida: ${r}`}}getUserAccessLevel(e){return this.roleHierarchy[e]||0}canAccessRoleData(e,r){const s=this.getUserAccessLevel(e),a=this.getUserAccessLevel(r);return s>=a}maskSensitiveData(e,r,s){if(r==="admin"||r==="gestor")return e;const o={...e};for(const l of s)o[l]&&(typeof o[l]=="string"?o[l]="***":typeof o[l]=="number"&&(o[l]=0));return o}}class ZQ{sessionId;userId;userRole;companyId;conversationHistory=[];ragService;financialCalc;embeddingsService;cacheService;permissionsService;constructor(e,r="user",s){this.userId=e,this.userRole=r,this.companyId=s,this.sessionId=this.generateSessionId(),this.ragService=new RIe,this.financialCalc=new UIe,this.embeddingsService=new SH,this.cacheService=new BH,this.permissionsService=new QIe,this.cacheService.startAutoCleanup()}async processMessage(e){const r=Date.now();try{this.addToHistory("user",e);const s=await this.cacheService.getSessionContext(this.sessionId),a=this.detectQueryType(e);let i;switch(a){case"financial_calculation":i=await this.handleFinancialQuery(e);break;case"operational_guide":i=await this.handleOperationalQuery(e);break;case"strategic_advice":i=await this.handleStrategicQuery(e);break;case"data_query":i=await this.handleDataQuery(e);break;default:i=await this.handleGeneralQuery(e)}return this.addToHistory("assistant",i.response,i.structured),await this.cacheService.updateSessionContext(this.sessionId,{lastActivity:new Date,recentTopics:[...s?.recentTopics||[],a].slice(-5)}),i.executionTime=Date.now()-r,i.sessionId=this.sessionId,i}catch(s){return console.error("Process Message Error:",s),{response:"Desculpe, ocorreu um erro ao processar sua mensagem. Pode tentar novamente?",confidenceLevel:"low",requiresFallback:!0,executionTime:Date.now()-r,sessionId:this.sessionId}}}async handleFinancialQuery(e){const r=this.extractNumbers(e),s=e.toLowerCase();let a="",i;try{if(/margem/.test(s))if(r.length>=2){const o={receita:r[0],custosVariaveis:r[1]},l=this.financialCalc.calculateMargin(o);a=this.formatFinancialResult(l),i={summary:`Margem de Contribuição: ${l.value.toFixed(2)}%`,steps:l.recommendations,sources:[],strategicSuggestion:l.interpretation,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Analise as recomendações e implemente as ações prioritárias"}}else a=X4.margem;else if(/dso|prazo.*receb|dias.*venda/.test(s))if(r.length>=2){const o={contasReceber:r[0],receitaMensal:r[1]},l=this.financialCalc.calculateDSO(o);a=this.formatFinancialResult(l),i={summary:`DSO: ${l.value.toFixed(0)} dias`,steps:l.recommendations,sources:[],strategicSuggestion:l.interpretation,confidenceLevel:"high",requiresHumanFallback:!1,nextAction:"Revise a política de cobrança se DSO > 45 dias"}}else a=X4.dso;else if(/markup/.test(s))if(r.length>=2){const o={precoVenda:r[0],custoUnitario:r[1]},l=this.financialCalc.calculateMarkup(o);a=this.formatFinancialResult(l)}else a=X4.markup;else/analis.*complet|todos.*indicador|resumo.*financeiro/.test(s)&&(a=`Para análise financeira completa, preciso dos seguintes dados:

1. **Receita** do período
2. **Custos Variáveis** (materiais, mão de obra direta)
3. **Custos Fixos** (aluguel, salários fixos)
4. **Contas a Receber** atuais
5. **Estoque** (inicial e final)

Forneça os números e farei análise completa com todos indicadores:
- Margem de Contribuição
- Markup
- EBITDA
- DSO
- Giro de Estoque
- Ponto de Equilíbrio

Qual dado você tem disponível?`,i={summary:"Guia para análise financeira completa",sources:[],confidenceLevel:"high",requiresHumanFallback:!1});return{response:a,structured:i,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}catch(o){return console.error("Financial Query Error:",o),{response:"Erro ao calcular indicador financeiro. Verifique se os valores estão corretos.",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}}}async handleOperationalQuery(e){const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},s={query:e,context:r,filters:{sourceType:["SOP","MANUAL","GUIDE"],sensitivity:"internal"},maxDocuments:3,similarityThreshold:.6};try{const a=await this.ragService.query(s);return{response:this.formatRAGResponse(a.response),structured:a.response,confidenceLevel:a.response.confidenceLevel,sources:a.retrievedDocs,requiresFallback:a.response.requiresHumanFallback,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch(a){return console.error("Operational Query Error:",a),{response:"Não encontrei procedimento documentado. Posso criar um ticket para o time?",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}}}async handleStrategicQuery(e){const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},s={query:e,context:r,filters:{sourceType:["MANUAL","GUIDE"],category:["Estratégia","Financeiro"]}};try{const a=await this.ragService.query(s);let i=a.response.summary||"";return a.response.strategicSuggestion&&(i+=`

**Perspectiva Estratégica:**
${a.response.strategicSuggestion}`),i+=`

**Princípios Empresariais:**
1. **Margem antes de volume** - Estabilize lucratividade antes de crescer
2. **Caixa é rei** - Liquidez > Receita
3. **Teste rápido, escale depois** - Piloto de 30 dias, depois expansão
4. **Decisões com dados** - Mínimo 60 dias de histórico
5. **Risco calculado** - Exposição máxima: 20% do caixa

Próximo passo: Analise os dados e defina as 3 prioridades com ROI claro.`,{response:i,structured:a.response,confidenceLevel:"high",sources:a.retrievedDocs,requiresFallback:!1,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch(a){return console.error("Strategic Query Error:",a),{response:this.getDefaultStrategicAdvice(e),confidenceLevel:"medium",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}}async handleDataQuery(e){const r=this.permissionsService.canPerformAction(this.userRole,"view",this.detectResourceType(e));return r.allowed?{response:"Consulta de dados em tempo real será implementada na próxima versão.",confidenceLevel:"low",requiresFallback:!0,executionTime:0,sessionId:this.sessionId}:{response:`Acesso negado: ${r.reason}`,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}async handleGeneralQuery(e){if(/^(oi|olá|ola|bom dia|boa tarde|boa noite|e aí|eai)/i.test(e)){const a=new Date().getHours();return{response:`${a<12?"Bom dia":a<18?"Boa tarde":"Boa noite"}! Como posso ajudar?`,confidenceLevel:"high",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}const r={userId:this.userId,userRole:this.userRole,companyId:this.companyId,sessionId:this.sessionId},s={query:e,context:r};try{const a=await this.ragService.query(s);return{response:this.formatRAGResponse(a.response),structured:a.response,confidenceLevel:a.response.confidenceLevel,sources:a.retrievedDocs,requiresFallback:a.response.requiresHumanFallback,executionTime:a.executionTimeMs,sessionId:this.sessionId}}catch{return{response:"Não entendi bem. Pode reformular a pergunta?",confidenceLevel:"low",requiresFallback:!1,executionTime:0,sessionId:this.sessionId}}}detectQueryType(e){const r=e.toLowerCase();return/margem|markup|ebitda|dso|giro|estoque|ponto.*equil|fluxo.*caixa|lucro|receita/.test(r)?"financial_calculation":/como.*criar|passo.*passo|tutorial|procedimento|erro|problema|não.*consigo/.test(r)?"operational_guide":/estrat[ée]gia|crescimento|expans[ãa]o|investimento|decis[ãa]o|planejamento/.test(r)?"strategic_advice":/quantos?|quais?|mostre|liste|busque|dados|relat[óo]rio/.test(r)?"data_query":"general"}detectResourceType(e){const r=e.toLowerCase();return/financeiro|pagamento|receita|despesa/.test(r)?"financial":/ordem|os|serviço/.test(r)?"orders":/estoque|material|item/.test(r)?"inventory":/relatório|report/.test(r)?"reports":/usuário|user/.test(r)?"users":"general"}extractNumbers(e){const r=e.match(/\d+[.,]?\d*/g);return r?r.map(s=>parseFloat(s.replace(",","."))):[]}formatFinancialResult(e){let r=`**${e.name}**: ${e.value.toFixed(2)}${e.unit}
`;return r+=`**Status**: ${this.translateStatus(e.status)}
`,r+=`**Meta**: ${e.target}${e.unit}

`,r+=`${e.interpretation}

`,e.recommendations.length>0&&(r+=`**Recomendações:**
`,e.recommendations.forEach((s,a)=>{r+=`${a+1}. ${s}
`})),r}formatRAGResponse(e){let r=`${e.summary}
`;return e.steps&&e.steps.length>0&&(r+=`
**Passo a Passo:**
`,e.steps.forEach((s,a)=>{r+=`${a+1}. ${s}
`})),e.strategicSuggestion&&(r+=`
**Visão Estratégica:**
${e.strategicSuggestion}
`),e.nextAction&&(r+=`
**Próxima Ação:**
${e.nextAction}
`),e.sources&&e.sources.length>0&&(r+=`
**Fontes:**
`,e.sources.forEach(s=>{r+=`- ${s.title} (v${s.version})
`})),r}getDefaultStrategicAdvice(e){return`Perspectiva empresarial sobre sua questão:

**Princípios de Execução:**

1. **Dados antes de decisão**: Levante dados dos últimos 60-90 dias
2. **ROI claro**: Toda ação deve ter retorno mensurável
3. **Teste piloto**: 30 dias de teste antes de escalar
4. **Margem primeiro**: Estabilize lucratividade antes de crescer volume
5. **Caixa é rei**: Priorize liquidez sobre receita

**Próximos Passos:**

1. Identifique as 3 principais métricas afetadas
2. Calcule impacto esperado de cada ação
3. Priorize por payback (meta: < 6 meses)
4. Implemente e meça semanalmente
5. Escale o que funciona, corte o que não dá resultado

Compartilhe os dados específicos para análise detalhada.`}translateStatus(e){return{excellent:"✅ Excelente",good:"✔️ Bom",warning:"⚠️ Atenção",critical:"🚨 Crítico"}[e]||e}addToHistory(e,r,s){this.conversationHistory.push({role:e,content:r,timestamp:new Date,metadata:s}),this.conversationHistory.length>20&&(this.conversationHistory=this.conversationHistory.slice(-20))}generateSessionId(){return`thomaz_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getHistory(){return this.conversationHistory}clearHistory(){this.conversationHistory=[]}async indexNewDocuments(){await this.embeddingsService.indexAllDocuments()}}function $Ie(){const[t,e]=F.useState(!1),[r,s]=F.useState([]),[a,i]=F.useState(""),[o,l]=F.useState(!1),[c,d]=F.useState(!1),[u,h]=F.useState(null),m=F.useRef(null),f=F.useRef(null);F.useEffect(()=>{t&&!u&&b()},[t]),F.useEffect(()=>{y()},[r]),F.useEffect(()=>{t&&f.current&&f.current.focus()},[t]);const b=async()=>{const C=new ZQ(void 0,"user",void 0);h(C);const E=new Date().getHours(),M=E<12?"Bom dia":E<18?"Boa tarde":"Boa noite";s([{id:`msg_${Date.now()}`,role:"assistant",content:`${M}! Sou o Thomaz, seu consultor empresarial.

Posso ajudar com análises financeiras, procedimentos operacionais, consultoria estratégica e muito mais.

Sobre o que precisa conversar?`,timestamp:new Date}])},y=()=>{m.current?.scrollIntoView({behavior:"smooth"})},g=async C=>{d(!0);const E=C.split(" ").length,M=Math.min(E*50,2e3);await new Promise(S=>setTimeout(S,M)),d(!1)},x=async()=>{s([]),i(""),l(!0);try{const C=new ZQ;h(C);const E=new Date().getHours(),M=E<12?"Bom dia":E<18?"Boa tarde":"Boa noite",S={id:`msg_${Date.now()}_welcome`,role:"assistant",content:`${M}! Nova conversa iniciada. Como posso ajudar?`,timestamp:new Date};s([S])}catch(C){console.error("Erro ao reiniciar chat:",C)}finally{l(!1)}},v=async C=>{const E=a.trim();if(!E||!u)return;i("");const M={id:`msg_${Date.now()}_user`,role:"user",content:E,timestamp:new Date};s(S=>[...S,M]),l(!0);try{await g(E);const S=await u.processMessage(E),k={id:`msg_${Date.now()}_assistant`,role:"assistant",content:S.response,timestamp:new Date};s(I=>[...I,k])}catch(S){console.error("Erro ao processar mensagem:",S);const k={id:`msg_${Date.now()}_error`,role:"assistant",content:`Desculpe, tive um problema ao processar sua solicitação. 😅

Pode tentar novamente?`,timestamp:new Date};s(I=>[...I,k])}finally{l(!1)}},j=C=>{navigator.clipboard.writeText(C)},B=C=>C.split(`
`).map((E,M)=>{if(E.startsWith("**")&&E.endsWith("**")){const S=E.slice(2,-2);return n.jsx("div",{className:"font-bold text-lg mb-2",children:S},M)}return E.startsWith("•")||E.startsWith("-")?n.jsxs("div",{className:"ml-4 my-1",children:["• ",E.slice(1).trim()]},M):E.trim()?n.jsx("div",{className:"my-1",children:E},M):n.jsx("div",{className:"h-2"},M)});return t?n.jsx(Nt,{children:n.jsxs(ue.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 w-[450px] h-[700px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:n.jsx(Yy,{className:"w-7 h-7 text-blue-600"})}),n.jsx(ue.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:["Thomaz",n.jsx(tm,{className:"w-4 h-4 text-yellow-300"})]}),n.jsx("p",{className:"text-xs text-blue-100",children:"Consultor Sênior - Especialista em Gestão"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&n.jsx(ue.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",title:"Reiniciar conversa",children:n.jsx(Z$,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>e(!1),className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:n.jsx(Et,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map(C=>n.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${C.role==="user"?"flex-row-reverse":"flex-row"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${C.role==="user"?"bg-blue-600":"bg-gradient-to-br from-purple-600 to-blue-600"}`,children:C.role==="user"?n.jsx(nn,{className:"w-5 h-5 text-white"}):n.jsx(Yy,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:`flex-1 ${C.role==="user"?"items-end":"items-start"} flex flex-col`,children:[n.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm ${C.role==="user"?"bg-gradient-to-br from-blue-600 to-blue-700 text-white rounded-br-none":"bg-gradient-to-br from-white to-gray-50 border border-gray-200 text-gray-900 rounded-bl-none"}`,children:n.jsx("div",{className:"text-sm whitespace-pre-wrap",children:B(C.content)})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 px-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:yn(C.timestamp,"HH:mm",{locale:bc})}),C.role==="assistant"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>j(C.content),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:n.jsx(Pd,{className:"w-3 h-3"})}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Útil",children:n.jsx(zae,{className:"w-3 h-3"})}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Não útil",children:n.jsx(Hae,{className:"w-3 h-3"})})]})]})]})]},C.id)),c&&n.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:n.jsx(Yy,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-2xl rounded-bl-none p-3",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(ue.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx(ue.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx(ue.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-2 h-2 bg-gray-400 rounded-full"})]})})]}),n.jsx("div",{ref:m})]}),n.jsxs("div",{className:"p-4 bg-white border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{ref:f,type:"text",value:a,onChange:C=>i(C.target.value),onKeyPress:C=>C.key==="Enter"&&!o&&v(),placeholder:"Fale comigo naturalmente...",disabled:o,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed text-base"}),n.jsx("button",{onClick:()=>v(),disabled:o||!a.trim(),className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:o?n.jsx(Qp,{className:"w-5 h-5 animate-spin"}):n.jsx(bi,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Conversa criptografada e segura • Dados em tempo real"})]})]})}):n.jsxs(ue.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl flex items-center justify-center z-50 hover:shadow-blue-500/50 transition-all",children:[n.jsx(Yy,{className:"w-8 h-8"}),n.jsx(ue.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{repeat:1/0,duration:2},className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full"})]})}function HIe(){const[t,e]=F.useState(!1),[r,s]=F.useState(!1),[a,i]=F.useState([]),[o,l]=F.useState(""),[c,d]=F.useState(!1),[u]=F.useState(crypto.randomUUID()),h=F.useRef(null);F.useEffect(()=>{m()},[a]),F.useEffect(()=>{t&&a.length===0&&i([{id:"welcome",role:"assistant",content:`👋 Olá! Sou o **Assistente Giartech**, sua inteligência corporativa.

Posso ajudá-lo com:

💰 **Financeiro** - Receitas, despesas, DRE e análises
🔧 **Ordens de Serviço** - Status, análises e insights
📦 **Estoque** - Inventário e alertas
👥 **Clientes** - CRM e base de dados
👨‍💼 **Equipe** - Colaboradores e performance
📊 **Indicadores** - KPIs e dashboards
📅 **Agenda** - Compromissos e eventos

Como posso ajudá-lo hoje?`,timestamp:new Date().toISOString()}])},[t]);const m=()=>{h.current?.scrollIntoView({behavior:"smooth"})},f=async()=>{if(!o.trim()||c)return;const x=o.trim();l("");const v={id:`user-${Date.now()}`,role:"user",content:x,timestamp:new Date().toISOString()};i(j=>[...j,v]),d(!0);try{const C=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/giartech-assistant",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({message:x,conversationId:u,userId:"current-user"})})).json();if(C.success&&C.response){const E={id:`assistant-${Date.now()}`,role:"assistant",content:C.response,timestamp:C.timestamp,intent:C.intent};i(M=>[...M,E])}else throw new Error(C.error||"Erro ao processar mensagem")}catch(j){console.error("Error:",j);const B={id:`error-${Date.now()}`,role:"assistant",content:"❌ Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.",timestamp:new Date().toISOString()};i(C=>[...C,B])}finally{d(!1)}},b=[{icon:pr,text:"Como está o financeiro?",color:"text-green-600"},{icon:Or,text:"Quantas OSs temos hoje?",color:"text-blue-600"},{icon:kr,text:"O que tenho na agenda hoje?",color:"text-indigo-600"},{icon:$t,text:"Qual o status do estoque?",color:"text-orange-600"}],y=x=>{l(x)},g=x=>{switch(x){case"financial":return"💰";case"serviceOrders":return"🔧";case"inventory":return"📦";case"clients":return"👥";case"employees":return"👨‍💼";case"analytics":return"📊";case"calendar":return"📅";default:return"🤖"}};return t?n.jsxs(ue.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed z-50 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col ${r?"bottom-6 right-6 w-80 h-16":"bottom-6 right-6 w-[450px] h-[650px]"}`,style:{maxHeight:"calc(100vh - 100px)"},children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-4 py-3 rounded-t-2xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(tm,{className:"h-6 w-6"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-sm",children:"Assistente Giartech"}),n.jsx("p",{className:"text-xs text-blue-100",children:"Inteligência Corporativa"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s(!r),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:r?n.jsx(Ose,{className:"h-4 w-4"}):n.jsx(qse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(Et,{className:"h-4 w-4"})})]})]}),!r&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.map(x=>n.jsx(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${x.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[x.role==="assistant"&&x.intent&&n.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[g(x.intent)," ",x.intent]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:x.content.split(`
`).map((v,j)=>{let B=v;return B=B.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),B=B.replace(/\*(.*?)\*/g,"<em>$1</em>"),n.jsxs("span",{children:[n.jsx("span",{dangerouslySetInnerHTML:{__html:B}}),j<x.content.split(`
`).length-1&&n.jsx("br",{})]},j)})}),n.jsx("div",{className:`text-xs mt-2 ${x.role==="user"?"text-blue-100":"text-gray-400"}`,children:new Date(x.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},x.id)),c&&n.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:n.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),n.jsx("div",{ref:h})]}),a.length===1&&n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Perguntas rápidas:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map((x,v)=>n.jsxs("button",{onClick:()=>y(x.text),className:"flex items-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-xs text-left transition-colors border border-gray-200",children:[n.jsx(x.icon,{className:`h-4 w-4 ${x.color} flex-shrink-0`}),n.jsx("span",{className:"text-gray-700 line-clamp-2",children:x.text})]},v))})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&!x.shiftKey&&f(),placeholder:"Digite sua pergunta...",disabled:c,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-400 text-sm"}),n.jsx("button",{onClick:f,disabled:!o.trim()||c,className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 disabled:from-gray-300 disabled:to-gray-400 text-white p-3 rounded-xl transition-all duration-200 disabled:cursor-not-allowed",children:n.jsx(bi,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by Giartech Intelligence"})]})]})]}):n.jsxs(ue.button,{initial:{scale:0},animate:{scale:1},onClick:()=>e(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 group",children:[n.jsxs("div",{className:"relative",children:[n.jsx(tm,{className:"h-7 w-7 animate-pulse"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-ping"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full"})]}),n.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Assistente Giartech"})]})}const qIe=["email_accounts","email_messages","email_attachments"];class zIe{isTableBlocked(e){return qIe.includes(e.toLowerCase())}async getEmailStatistics(){try{const{data:e,error:r}=await he.from("v_email_statistics").select("*").order("month",{ascending:!1}).limit(6);if(r)throw r;const s=e?.[0]||{total_emails:0,emails_sent:0,emails_received:0,emails_pending:0,emails_unread:0,customers_contacted:0},a=`**Estatísticas de Email (Últimos 6 Meses)**

📧 **Total de Emails:** ${s.total_emails}
📤 **Enviados:** ${s.emails_sent}
📥 **Recebidos:** ${s.emails_received}
⏳ **Pendentes:** ${s.emails_pending}
📬 **Não Lidos:** ${s.emails_unread}
👥 **Clientes Contatados:** ${s.customers_contacted}

*Nota: Por questões de privacidade, não tenho acesso ao conteúdo dos emails.*`;return{success:!0,data:e||[],summary:a,totalRecords:e?.length||0,visualizationType:"metric",insights:[s.emails_pending>5?`${s.emails_pending} emails aguardando envio`:"Fila de envio em dia",s.emails_unread>10?"Muitos emails não lidos":"Caixa de entrada organizada"]}}catch(e){return console.error("Email statistics error:",e),{success:!1,data:[],summary:"⚠️ Por questões de privacidade, não tenho acesso direto a emails. Posso ver apenas estatísticas agregadas.",totalRecords:0}}}async getDashboardMetrics(){try{const[e,r,s,a]=await Promise.all([this.getServiceOrdersMetrics(),this.getCustomersMetrics(),this.getInventoryMetrics(),this.getFinancialMetrics()]),i=`**Dashboard Giartech - Visão Geral**

📊 **Ordens de Serviço:**
• Total: ${e.total}
• Abertas: ${e.open}
• Em andamento: ${e.inProgress}
• Concluídas: ${e.completed}
• Taxa de conclusão: ${e.completionRate}%

👥 **Clientes:**
• Total de clientes: ${r.total}
• Ativos no mês: ${r.activeThisMonth}
• Novos este mês: ${r.newThisMonth}

📦 **Estoque:**
• Total de itens: ${s.totalItems}
• Valor total: R$ ${s.totalValue.toLocaleString("pt-BR")}
• Itens em baixa: ${s.lowStock}

💰 **Financeiro:**
• Receita do mês: R$ ${a.monthRevenue.toLocaleString("pt-BR")}
• Contas a receber: R$ ${a.accountsReceivable.toLocaleString("pt-BR")}
• Margem média: ${a.averageMargin}%`;return{success:!0,data:[{orders:e,customers:r,inventory:s,finance:a}],summary:i,totalRecords:1,visualizationType:"metric",insights:[e.completionRate>80?"Excelente taxa de conclusão de ordens!":"Atenção: Taxa de conclusão pode melhorar",s.lowStock>0?`${s.lowStock} itens precisam de reposição`:"Estoque em bons níveis",a.averageMargin>40?"Margem de lucro saudável":"Oportunidade de melhorar a margem"]}}catch(e){return console.error("Dashboard metrics error:",e),{success:!1,data:[],summary:"Erro ao buscar métricas do dashboard",totalRecords:0}}}async getServiceOrdersMetrics(){const{data:e}=await he.from("service_orders").select("id, status, final_total, created_at"),r=e?.length||0,s=e?.filter(l=>l.status==="aberta").length||0,a=e?.filter(l=>l.status==="em_andamento").length||0,i=e?.filter(l=>l.status==="concluida").length||0,o=r>0?parseFloat((i/r*100).toFixed(1)):0;return{total:r,open:s,inProgress:a,completed:i,completionRate:o}}async searchServiceOrders(e){try{let r=he.from("service_orders").select(`
          *,
          customer:customers(nome_razao, cnpj_cpf, email, telefone),
          items:service_order_items(*)
        `);e.status&&(r=r.eq("status",e.status)),e.customerId&&(r=r.eq("customer_id",e.customerId)),e.dateFrom&&(r=r.gte("created_at",e.dateFrom)),e.dateTo&&(r=r.lte("created_at",e.dateTo)),r=r.limit(e.limit||10).order("created_at",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;const i=this.formatServiceOrdersSummary(s||[]);return{success:!0,data:s||[],summary:i,totalRecords:s?.length||0,visualizationType:"table"}}catch(r){return console.error("Service orders search error:",r),{success:!1,data:[],summary:"Erro ao buscar ordens de serviço",totalRecords:0}}}formatServiceOrdersSummary(e){if(e.length===0)return"Nenhuma ordem de serviço encontrada com os filtros especificados.";const r=e.reduce((i,o)=>i+(o.final_total||0),0),s=e.reduce((i,o)=>(i[o.status]=(i[o.status]||0)+1,i),{});let a=`**${e.length} Ordens de Serviço Encontradas**

💰 Valor Total: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}

📊 Por Status:
`;return Object.entries(s).forEach(([i,o])=>{a+=`${i==="concluida"?"✅":i==="em_andamento"?"⏳":"📋"} ${i}: ${o}
`}),a+=`
**Últimas Ordens:**
`,e.slice(0,5).forEach(i=>{a+=`
• **OS-${i.order_number}** - ${i.customer?.nome_razao||"Cliente não identificado"}
`,a+=`  Status: ${i.status} | Valor: R$ ${(i.final_total||0).toLocaleString("pt-BR")}
`}),a}async getCustomersMetrics(){const{data:e}=await he.from("customers").select("id, created_at"),r=e?.length||0,s=new Date;s.setDate(1),s.setHours(0,0,0,0);const a=e?.filter(o=>new Date(o.created_at)>=s).length||0;return{total:r,activeThisMonth:a,newThisMonth:a}}async searchCustomers(e){try{let r=he.from("customers").select("*");e.search&&(r=r.or(`nome_razao.ilike.%${e.search}%,cnpj_cpf.ilike.%${e.search}%,email.ilike.%${e.search}%`)),r=r.limit(e.limit||10).order("nome_razao");const{data:s,error:a}=await r;if(a)throw a;const i=this.formatCustomersSummary(s||[]);return{success:!0,data:s||[],summary:i,totalRecords:s?.length||0,visualizationType:"table"}}catch(r){return console.error("Customers search error:",r),{success:!1,data:[],summary:"Erro ao buscar clientes",totalRecords:0}}}formatCustomersSummary(e){if(e.length===0)return"Nenhum cliente encontrado.";let r=`**${e.length} Clientes Encontrados**

`;return e.slice(0,10).forEach(s=>{r+=`👤 **${s.nome_razao}**
`,s.cnpj_cpf&&(r+=`   CNPJ/CPF: ${s.cnpj_cpf}
`),s.email&&(r+=`   📧 ${s.email}
`),s.telefone&&(r+=`   📱 ${s.telefone}
`),s.cidade&&(r+=`   📍 ${s.cidade}/${s.estado}
`),r+=`
`}),r}async getInventoryMetrics(){const{data:e}=await he.from("inventory_items").select("id, quantidade, preco_unitario, estoque_minimo"),r=e?.length||0,s=e?.reduce((i,o)=>i+o.quantidade*o.preco_unitario,0)||0,a=e?.filter(i=>i.quantidade<=(i.estoque_minimo||0)).length||0;return{totalItems:r,totalValue:s,lowStock:a}}async searchInventory(e){try{let r=he.from("inventory_items").select("*");e.search&&(r=r.or(`nome.ilike.%${e.search}%,codigo_sku.ilike.%${e.search}%`)),r=r.limit(e.limit||10).order("nome");const{data:s,error:a}=await r;if(a)throw a;let i=s||[];e.lowStock&&(i=i.filter(l=>l.quantidade<=(l.estoque_minimo||0)));const o=this.formatInventorySummary(i);return{success:!0,data:i,summary:o,totalRecords:i.length,visualizationType:"table",insights:e.lowStock&&i.length>0?[`⚠️ ${i.length} itens precisam de reposição urgente!`]:void 0}}catch(r){return console.error("Inventory search error:",r),{success:!1,data:[],summary:"Erro ao buscar estoque",totalRecords:0}}}formatInventorySummary(e){if(e.length===0)return"Nenhum item encontrado no estoque.";const r=e.reduce((a,i)=>a+i.quantidade*i.preco_unitario,0);let s=`**${e.length} Itens no Estoque**

`;return s+=`💰 Valor Total: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}

`,e.slice(0,10).forEach(a=>{const i=a.quantidade<=(a.estoque_minimo||0);s+=`${i?"⚠️":"📦"} **${a.nome}**
`,a.codigo_sku&&(s+=`   SKU: ${a.codigo_sku}
`),s+=`   Quantidade: ${a.quantidade} ${a.unidade||"un"}
`,s+=`   Valor unitário: R$ ${a.preco_unitario.toLocaleString("pt-BR")}
`,i&&(s+=`   ⚠️ Estoque abaixo do mínimo (${a.estoque_minimo})
`),s+=`
`}),s}async getFinancialMetrics(){const e=new Date;e.setDate(1),e.setHours(0,0,0,0);const{data:r}=await he.from("finance_entries").select("tipo, valor, status").gte("data_vencimento",e.toISOString()),s=r?.filter(l=>l.tipo==="receita"&&l.status==="pago").reduce((l,c)=>l+c.valor,0)||0,a=r?.filter(l=>l.tipo==="despesa"&&l.status==="pago").reduce((l,c)=>l+c.valor,0)||0,i=r?.filter(l=>l.tipo==="receita"&&l.status==="pendente").reduce((l,c)=>l+c.valor,0)||0,o=s>0?((s-a)/s*100).toFixed(1):0;return{monthRevenue:s,monthExpenses:a,accountsReceivable:i,averageMargin:parseFloat(o)}}async searchFinancialEntries(e){try{let r=he.from("finance_entries").select(`
          *,
          category:financial_categories(nome, tipo)
        `);e.type&&(r=r.eq("tipo",e.type)),e.status&&(r=r.eq("status",e.status)),e.dateFrom&&(r=r.gte("data_vencimento",e.dateFrom)),e.dateTo&&(r=r.lte("data_vencimento",e.dateTo)),r=r.limit(e.limit||10).order("data_vencimento",{ascending:!1});const{data:s,error:a}=await r;if(a)throw a;const i=this.formatFinancialSummary(s||[]);return{success:!0,data:s||[],summary:i,totalRecords:s?.length||0,visualizationType:"table"}}catch(r){return console.error("Financial entries search error:",r),{success:!1,data:[],summary:"Erro ao buscar lançamentos financeiros",totalRecords:0}}}formatFinancialSummary(e){if(e.length===0)return"Nenhum lançamento financeiro encontrado.";const r=e.filter(o=>o.tipo==="receita").reduce((o,l)=>o+l.valor,0),s=e.filter(o=>o.tipo==="despesa").reduce((o,l)=>o+l.valor,0),a=r-s;let i=`**${e.length} Lançamentos Financeiros**

`;return i+=`💰 Receitas: R$ ${r.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,i+=`💸 Despesas: R$ ${s.toLocaleString("pt-BR",{minimumFractionDigits:2})}
`,i+=`${a>=0?"✅":"⚠️"} Saldo: R$ ${a.toLocaleString("pt-BR",{minimumFractionDigits:2})}

`,i+=`**Últimos Lançamentos:**
`,e.slice(0,5).forEach(o=>{const l=o.tipo==="receita"?"💰":"💸",c=o.status==="pago"?"✅":"⏳";i+=`
${l} **${o.descricao}**
`,i+=`   Valor: R$ ${o.valor.toLocaleString("pt-BR")}
`,i+=`   ${c} Status: ${o.status}
`,o.category&&(i+=`   Categoria: ${o.category.nome}
`)}),i}async searchEmployees(e){try{let r=he.from("employees").select("*");e.search&&(r=r.or(`nome.ilike.%${e.search}%,cargo.ilike.%${e.search}%`)),e.department&&(r=r.eq("departamento",e.department)),r=r.limit(e.limit||10).order("nome");const{data:s,error:a}=await r;if(a)throw a;const i=this.formatEmployeesSummary(s||[]);return{success:!0,data:s||[],summary:i,totalRecords:s?.length||0,visualizationType:"table"}}catch(r){return console.error("Employees search error:",r),{success:!1,data:[],summary:"Erro ao buscar funcionários",totalRecords:0}}}formatEmployeesSummary(e){if(e.length===0)return"Nenhum funcionário encontrado.";let r=`**${e.length} Funcionários Encontrados**

`;return e.slice(0,10).forEach(s=>{r+=`👤 **${s.nome}**
`,s.cargo&&(r+=`   Cargo: ${s.cargo}
`),s.departamento&&(r+=`   Departamento: ${s.departamento}
`),s.email&&(r+=`   📧 ${s.email}
`),s.telefone&&(r+=`   📱 ${s.telefone}
`),r+=`
`}),r}async intelligentQuery(e){const r=e.toLowerCase();if(/dashboard|vis[aã]o.*geral|resumo.*empresa|m[eé]tricas/i.test(r))return this.getDashboardMetrics();if(/ordem.*servi[cç]o|os\s|projeto/i.test(r)){const s={};return/aberta|pendente/i.test(r)&&(s.status="aberta"),/andamento|execu[cç][aã]o/i.test(r)&&(s.status="em_andamento"),/conclu[ií]da|finalizada/i.test(r)&&(s.status="concluida"),this.searchServiceOrders(s)}if(/cliente|customer/i.test(r)){const s=r.match(/cliente\s+(.+)/i);return this.searchCustomers({search:s?s[1]:void 0})}if(/estoque|invent[aá]rio|material|produto/i.test(r)){const s={};return/baixo|repor|reposi[cç][aã]o|m[ií]nimo/i.test(r)&&(s.lowStock=!0),this.searchInventory(s)}if(/financ|receita|despesa|pagamento|lan[cç]amento/i.test(r)){const s={};return/receita/i.test(r)&&(s.type="receita"),/despesa/i.test(r)&&(s.type="despesa"),/pendente|aberto|pagar/i.test(r)&&(s.status="pendente"),/pago|quitado/i.test(r)&&(s.status="pago"),this.searchFinancialEntries(s)}return/funcion[aá]rio|colaborador|equipe|time/i.test(r)?this.searchEmployees({}):this.getDashboardMetrics()}}class VIe{dataService;constructor(){this.dataService=new zIe}async reason(e){const{userMessage:r,conversationHistory:s,userRole:a,companyContext:i}=e,o=await this.interpretIntent(r,s),l=await this.reasonAboutContext(o,e),c=await this.queryRealData(o,l,r),d=await this.retrieveRelevantKnowledge(o,l),u=await this.formulateResponse(o,l,d,e,c);return{interpretation:o,reasoning:l,response:u,realData:c}}async interpretIntent(e,r){const s=e.toLowerCase(),a=this.extractEntities(e),i=this.detectSentiment(s),o=this.assessComplexity(e,r),l=this.detectIntents(s);return{mainIntent:l.main,subIntents:l.sub,entities:a,sentiment:i,complexity:o}}async reasonAboutContext(e,r){const s=[],a=[],i=[],o=[];if(s.push(`Usuário quer: ${e.mainIntent}`),e.subIntents.length>0&&s.push(`Também envolve: ${e.subIntents.join(", ")}`),r.conversationHistory.length>0){const h=r.conversationHistory.slice(-3).map(m=>this.extractMainTopic(m.content));h.length>0&&(a.push(`Tópicos recentes: ${h.join(" → ")}`),s.push("Continuando conversa anterior"))}const{mainIntent:l,subIntents:c}=e;l.includes("financeiro")&&(c.some(u=>u.includes("cliente"))&&i.push("Financeiro + Cliente = Análise de recebíveis ou faturamento"),c.some(u=>u.includes("projeto")||u.includes("ordem"))&&i.push("Financeiro + Projeto = Rentabilidade e custos")),l.includes("documento")&&c.some(u=>u.includes("gerar")||u.includes("criar"))&&(i.push("Documento + Gerar = Sistema de geração de PDFs"),s.push("Posso usar generateDocumentPDFUnified")),(l.includes("orçamento")||l.includes("proposta"))&&(i.push("Relacionado a Ordem de Serviço"),s.push("Dados estão em service_orders e service_order_items"));const{entities:d}=e;return(l.includes("calcular")||l.includes("analisar"))&&(!d.numbers||d.numbers.length===0)&&o.push("Valores numéricos necessários"),l.includes("cliente")&&(!d.names||d.names.length===0)&&o.push("Nome ou identificação do cliente"),{thoughtProcess:s,relevantContext:a,connectionsFound:i,missingInformation:o}}async queryRealData(e,r,s){const{mainIntent:a,subIntents:i}=e;if(/quantos|quanto|qual|mostre|liste|busque|consulte|dados|informa[çc][õo]es/i.test(s)||a.includes("consulta")||a.includes("análise de dados")||a.includes("dashboard"))try{const l=await this.dataService.intelligentQuery(s);return l.success&&l.data.length>0?l:void 0}catch(l){console.error("Real data query error:",l);return}}async retrieveRelevantKnowledge(e,r){const{mainIntent:s,subIntents:a}=e,i=[s,...a];try{const o=this.extractSearchKeywords(i),{data:l,error:c}=await he.from("knowledge_base").select("*").or(o.map(d=>`keywords.cs.{${d}}`).join(",")).limit(5);return c?(console.error("Knowledge retrieval error:",c),[]):l||[]}catch(o){return console.error("Knowledge search error:",o),[]}}async formulateResponse(e,r,s,a,i){const{mainIntent:o}=e,{missingInformation:l,connectionsFound:c}=r;if(l.length>0)return{answer:this.generateClarificationRequest(e,l),confidence:.7,shouldAskForClarification:!0,suggestedFollowUps:[]};if(i&&i.success)return{answer:i.summary,confidence:.95,shouldAskForClarification:!1,suggestedFollowUps:i.insights||["Quer mais detalhes sobre algum item?","Posso fazer outra análise?","Precisa exportar esses dados?"],actionableSteps:i.insights};let d="",u=.8;const h=[],m=[];return o.includes("ajuda")||o.includes("como")?(d=this.generateHelpResponse(e,s),h.push("Quer ver um exemplo prático?","Precisa de mais detalhes sobre algum passo?")):o.includes("calcular")||o.includes("analisar")?(d=this.generateAnalyticalResponse(e,r,s),u=.9,m.push("Revisar os cálculos apresentados","Comparar com períodos anteriores","Implementar recomendações prioritárias")):o.includes("documento")||o.includes("pdf")?(d=this.generateDocumentResponse(e,s),u=.95,h.push("Quer que eu gere um exemplo?","Precisa personalizar o template?")):o.includes("problema")||o.includes("erro")?(d=this.generateTroubleshootingResponse(e,s),u=.75,m.push("Verificar logs de erro","Testar em ambiente controlado","Aplicar solução sugerida")):(d=this.generateGenericIntelligentResponse(e,r,s,a),u=.7),c.length>0&&!d.includes("Conexões")&&(d+=`

**Conexões relevantes:**
${c.map(f=>`• ${f}`).join(`
`)}`),s.length>0&&!d.includes("baseado em")&&(d+=`

*Resposta baseada em ${s.length} fonte(s) de conhecimento interno.*`),{answer:d,confidence:u,shouldAskForClarification:!1,suggestedFollowUps:h,actionableSteps:m.length>0?m:void 0}}detectIntents(e){const r={"ajuda/tutorial":/(como|ajuda|tutorial|ensina|explica|guia)/,"cálculo financeiro":/(calcul|margem|lucro|dso|markup|roi|rentabilidade)/,"análise de dados":/(analis|relat[oó]rio|estat[ií]stic|dashboard|indicador)/,"geração de documento":/(gera|cria|pdf|documento|orçamento|proposta|contrato)/,"consulta de cliente":/(cliente|customer|consumidor)/,"consulta de projeto":/(projeto|obra|ordem.*servi[cç]o|os\s)/,"consulta de estoque":/(estoque|material|invent[aá]rio|produto)/,"consulta de funcionário":/(funcion[aá]rio|colaborador|equipe|time)/,"problema/erro":/(problema|erro|bug|n[aã]o.*funciona|quebr)/,configuração:/(config|ajust|personaliz)/,"estratégia de negócio":/(estrat[eé]gi|oportunidade|crescimento|expans[aã]o)/},s=[];for(const[o,l]of Object.entries(r))l.test(e)&&s.push(o);const a=s[0]||"conversa geral",i=s.slice(1);return{main:a,sub:i}}extractEntities(e){const r={},s=e.match(/\d+([.,]\d+)?/g);s&&(r.numbers=s.map(l=>parseFloat(l.replace(",","."))));const a=e.match(/\d{1,2}\/\d{1,2}\/\d{2,4}/g);a&&(r.dates=a);const i=e.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g);i&&(r.emails=i);const o=e.match(/\b[A-Z][a-z]+(?:\s[A-Z][a-z]+)*\b/g);return o&&o.length>0&&(r.names=o.filter(l=>l.length>2)),r}detectSentiment(e){return/(urgente|imediato|r[aá]pido|agora|j[aá])/i.test(e)?"urgent":/(problema|erro|ruim|péssimo|horrível|não funciona|quebrado)/i.test(e)?"negative":/(ótimo|excelente|perfeito|obrigado|valeu|top)/i.test(e)?"positive":"neutral"}assessComplexity(e,r){const s=e.split(/\s+/).length,a=(e.match(/\?/g)||[]).length>1,i=/\d/.test(e),o=r.length>0;return s<10&&!a?"simple":s>50||a||i&&o?"complex":"moderate"}extractMainTopic(e){const r={Finanças:/(financ|lucr|custo|receita|faturamento)/i,Clientes:/(cliente|customer)/i,Projetos:/(projeto|obra|ordem)/i,Documentos:/(documento|pdf|orçamento|proposta)/i,Estoque:/(estoque|material|produto)/i};for(const[s,a]of Object.entries(r))if(a.test(e))return s;return"Geral"}extractSearchKeywords(e){const r=[],s={"cálculo financeiro":["financeiro","cálculo","margem","lucro"],"geração de documento":["pdf","documento","gerador","template"],"consulta de cliente":["cliente","customer"],"consulta de projeto":["projeto","ordem","serviço"],"ajuda/tutorial":["tutorial","guia","como usar"],"problema/erro":["problema","erro","solução"]};for(const a of e){const i=s[a];i&&r.push(...i)}return[...new Set(r)]}generateClarificationRequest(e,r){const{mainIntent:s}=e;return`Entendi que você quer ${s}, mas preciso de mais informações:

${r.map((a,i)=>`${i+1}. ${a}`).join(`
`)}

Pode fornecer esses dados para eu te ajudar melhor?`}generateHelpResponse(e,r){if(r.length>0){const s=r[0];return`**${s.title}**

${s.summary}

${s.content.substring(0,500)}...

Quer que eu detalhe algum ponto específico?`}return`Posso ajudar com isso! Sobre ${e.mainIntent}, tenho conhecimento extenso.

O que especificamente você gostaria de saber?`}generateAnalyticalResponse(e,r,s){return`Vou analisar isso para você.

**Meu raciocínio:**
${r.thoughtProcess.map((a,i)=>`${i+1}. ${a}`).join(`
`)}

**Contexto relevante:**
${r.relevantContext.map(a=>`• ${a}`).join(`
`)||"Nenhum contexto anterior"}

Baseado nessa análise, recomendo que você considere os seguintes pontos...`}generateDocumentResponse(e,r){const s=r.find(a=>a.keywords?.includes("pdf")||a.keywords?.includes("documento"));return s?`**Sistema de Documentos Giartech**

${s.summary}

**Como usar:**
\`\`\`typescript
${s.content.match(/```[\s\S]*?```/)?.[0]||"Ver documentação completa"}
\`\`\`

Precisa de ajuda com algum passo específico?`:`Para gerar documentos, nosso sistema usa o **Gerador PDF Unificado**.

Posso te ensinar como usar. Qual tipo de documento você precisa gerar?
• Orçamento
• Proposta
• Ordem de Serviço
• Contrato`}generateTroubleshootingResponse(e,r){return`Vamos resolver esse problema juntos.

**Análise inicial:**
${e.mainIntent}

**Sentimento detectado:** ${e.sentiment==="urgent"?"🚨 Urgente":"⚠️ Requer atenção"}

**Passos para diagnóstico:**
1. Identificar a origem do problema
2. Verificar logs e mensagens de erro
3. Testar possíveis soluções
4. Aplicar correção

Pode me dar mais detalhes sobre o erro que está acontecendo?`}generateGenericIntelligentResponse(e,r,s,a){const{mainIntent:i,complexity:o}=e,{thoughtProcess:l}=r;let c=`Entendi sua solicitação sobre ${i}.`;return o==="complex"&&(c+=`

É uma questão complexa que envolve:
${l.map(d=>`• ${d}`).join(`
`)}`),s.length>0&&(c+=`

Encontrei ${s.length} referência(s) relevante(s) na minha base de conhecimento.`),c+=`

Como posso ajudar especificamente? Pode detalhar um pouco mais sua necessidade?`,c}}function KIe({userId:t,userRole:e="user",companyId:r,userName:s}){const[a,i]=F.useState([]),[o,l]=F.useState(""),[c,d]=F.useState(!1),[u,h]=F.useState(""),[m]=F.useState(()=>new VIe),[f,b]=F.useState(null),[y,g]=F.useState(null),x=F.useRef(null),v=F.useRef(null),j=F.useRef(null);F.useEffect(()=>{B()},[]),F.useEffect(()=>{C()},[a,u]),F.useEffect(()=>{E()},[o]);const B=async()=>{const T=new Date().getHours(),V=`${T<12?"Bom dia":T<18?"Boa tarde":"Boa noite"}, ${s||"colega"}! 👋

Sou o **Thomaz**, a inteligência artificial da Giartech. Trabalho aqui como consultor empresarial e estou pronto para conversar sobre qualquer aspecto da nossa operação.

**Posso ajudar com:**
• Análise financeira e estratégica
• Processos operacionais e melhores práticas
• Geração de documentos e relatórios
• Consultas sobre clientes, ordens de serviço e projetos
• Insights sobre o negócio e oportunidades

**Como funciono:**
Tenho acesso profundo a toda nossa base de conhecimento, **dados em tempo real** do sistema e experiência em gestão empresarial. Penso, analiso e respondo como um consultor especializado.

**Experimente perguntar:**
• "Mostre o dashboard geral da empresa"
• "Quantas ordens de serviço temos abertas?"
• "Qual o status financeiro este mês?"
• "Quais itens estão em baixa no estoque?"

O que precisa hoje? Pode conversar naturalmente comigo, como faria com qualquer colega de trabalho.`;i([{id:`msg_${Date.now()}`,role:"assistant",content:V,timestamp:new Date,confidence:"high"}])},C=()=>{x.current?.scrollIntoView({behavior:"smooth"})},E=()=>{const T=v.current;T&&(T.style.height="auto",T.style.height=Math.min(T.scrollHeight,150)+"px")},M=async()=>{if(!o.trim()||c)return;const T={id:`msg_${Date.now()}`,role:"user",content:o.trim(),timestamp:new Date};i(D=>[...D,T]),l(""),d(!0),h("");try{const D=["Analisando sua solicitação...","Buscando informações relevantes...","Consultando base de conhecimento...","Processando dados em tempo real...","Formulando resposta..."];for(const z of D)h(z),await new Promise(Z=>setTimeout(Z,300));const L=await m.reason({userMessage:T.content,conversationHistory:a.map(z=>({role:z.role,content:z.content})),userRole:e,companyContext:{userId:t,companyId:r}});h("");const V={id:`msg_${Date.now()+1}`,role:"assistant",content:L.response.answer,timestamp:new Date,confidence:L.response.confidence>.8?"high":L.response.confidence>.6?"medium":"low",sources:[],thinking:L.reasoning.thoughtProcess.join(" → "),realData:L.realData};await S(V)}catch(D){console.error("Erro ao processar mensagem:",D);const L={id:`msg_${Date.now()+1}`,role:"assistant",content:"Desculpe, encontrei um problema ao processar sua solicitação. Poderia reformular ou tentar novamente?",timestamp:new Date,confidence:"low"};i(V=>[...V,L])}finally{d(!1),h("")}},S=async T=>{const D=T.content.split(" ");let L="";const V={...T,content:"",isStreaming:!0};i(z=>[...z,V]);for(let z=0;z<D.length;z++){L+=(z>0?" ":"")+D[z],i(G=>{const H=[...G],ee=H.length-1;return H[ee]={...H[ee],content:L},H});const Z=D[z].length>8?40:20;await new Promise(G=>setTimeout(G,Z))}i(z=>{const Z=[...z],G=Z.length-1;return Z[G]={...Z[G],isStreaming:!1},Z})},k=T=>{T.key==="Enter"&&!T.shiftKey&&(T.preventDefault(),M())},I=T=>{switch(T){case"high":return"text-green-600";case"medium":return"text-yellow-600";case"low":return"text-red-600";default:return"text-gray-600"}},_=T=>{switch(T){case"high":return"Alta confiança";case"medium":return"Confiança média";case"low":return"Baixa confiança";default:return""}};return n.jsxs("div",{className:"flex flex-col h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center justify-between max-w-5xl mx-auto",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl flex items-center justify-center",children:n.jsx(zf,{className:"w-6 h-6 text-white"})}),n.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Thomaz AI"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Consultor Empresarial • Giartech"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(tm,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{children:"Inteligência Avançada"})]})]})}),n.jsx("div",{ref:j,className:"flex-1 overflow-y-auto px-4 py-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[n.jsx(Nt,{children:a.map((T,D)=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`flex gap-4 ${T.role==="user"?"flex-row-reverse":"flex-row"}`,children:[n.jsx("div",{className:"flex-shrink-0",children:T.role==="assistant"?n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center",children:n.jsx(zf,{className:"w-5 h-5 text-white"})}):n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:n.jsx(Zt,{className:"w-5 h-5 text-white"})})}),n.jsxs("div",{className:`flex-1 ${T.role==="user"?"max-w-2xl ml-auto":"max-w-3xl"}`,children:[n.jsxs("div",{className:`rounded-2xl px-4 py-3 ${T.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[n.jsx("div",{className:"prose prose-sm max-w-none",children:T.content.split(`
`).map((L,V)=>L.startsWith("**")&&L.endsWith("**")?n.jsx("p",{className:"font-semibold mb-2",children:L.slice(2,-2)},V):L.startsWith("•")?n.jsx("li",{className:"ml-4",children:L.slice(1).trim()},V):L?n.jsx("p",{className:"mb-2",children:L},V):n.jsx("br",{},V))}),T.isStreaming&&n.jsx(ue.span,{animate:{opacity:[1,.5,1]},transition:{repeat:1/0,duration:1},className:"inline-block w-2 h-4 bg-blue-600 ml-1"})]}),T.role==="assistant"&&!T.isStreaming&&n.jsxs("div",{className:"flex items-center gap-3 mt-2 px-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:yn(T.timestamp,"HH:mm",{locale:bc})}),T.confidence&&n.jsxs("div",{className:`flex items-center gap-1 text-xs ${I(T.confidence)}`,children:[n.jsx(mn,{className:"w-3 h-3"}),n.jsx("span",{children:_(T.confidence)})]}),T.sources&&T.sources.length>0&&n.jsxs("button",{onClick:()=>b(f===T.id?null:T.id),className:"flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800",children:[n.jsx(vt,{className:"w-3 h-3"}),n.jsxs("span",{children:[T.sources.length," fontes"]}),n.jsx(oo,{className:`w-3 h-3 transition-transform ${f===T.id?"rotate-180":""}`})]})]}),n.jsx(Nt,{children:f===T.id&&T.sources&&n.jsxs(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-2 bg-gray-50 rounded-lg p-3 border border-gray-200",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:"Fontes consultadas:"}),n.jsx("div",{className:"space-y-2",children:T.sources.map((L,V)=>n.jsx("div",{className:"text-xs text-gray-600 pl-3 border-l-2 border-blue-300",children:L.title||L.content?.substring(0,100)+"..."},V))})]})})]})]},T.id))}),u&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex gap-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center",children:n.jsx(q0,{className:"w-5 h-5 text-white animate-spin"})}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(ho,{className:"w-4 h-4 text-blue-600"}),n.jsx("span",{className:"text-sm italic",children:u})]})})})]}),n.jsx("div",{ref:x})]})}),n.jsx("div",{className:"bg-white border-t border-gray-200 px-4 py-4 shadow-lg",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-end gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx("textarea",{ref:v,value:o,onChange:T=>l(T.target.value),onKeyDown:k,disabled:c,placeholder:"Converse naturalmente com o Thomaz... (Enter para enviar, Shift+Enter para nova linha)",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-white text-gray-900 placeholder-gray-500 disabled:bg-gray-50 disabled:text-gray-500",rows:1,style:{minHeight:"48px",maxHeight:"150px"}}),n.jsxs("div",{className:"absolute bottom-2 right-2 text-xs text-gray-400",children:[o.length,"/2000"]})]}),n.jsx(ue.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,disabled:!o.trim()||c,className:`p-3 rounded-xl transition-all ${o.trim()&&!c?"bg-blue-600 hover:bg-blue-700 text-white shadow-lg shadow-blue-500/50":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:c?n.jsx(q0,{className:"w-5 h-5 animate-spin"}):n.jsx(bi,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"flex items-center justify-between mt-3 px-2",children:[n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(tm,{className:"w-3 h-3"}),"Inteligência contextual ativa"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(zf,{className:"w-3 h-3"}),"Raciocínio avançado"]})]}),n.jsx("span",{className:"text-xs text-gray-400",children:"Thomaz AI v2.0 • Giartech"})]})]})})]})}function WIe(){const{user:t}=Mn();return n.jsx(KIe,{userId:t?.id,userRole:t?.role||"user",companyId:void 0,userName:t?.name})}function KG(){const[t,e]=F.useState(""),[r,s]=F.useState(yn(new Date().setDate(1),"yyyy-MM-dd")),[a,i]=F.useState(yn(new Date,"yyyy-MM-dd")),[o,l]=F.useState(null),[c,d]=F.useState(!1),[u,h]=F.useState(!1),m=[{id:"financial",name:"Relatório Financeiro",description:"DRE, Fluxo de Caixa, Contas a Pagar/Receber",icon:n.jsx(pr,{className:"h-6 w-6"}),category:"financial"},{id:"service_orders",name:"Relatório de OSs",description:"Análise completa de ordens de serviço",icon:n.jsx(vt,{className:"h-6 w-6"}),category:"operational"},{id:"sales",name:"Relatório de Vendas",description:"Vendas por cliente, produto e período",icon:n.jsx(Or,{className:"h-6 w-6"}),category:"commercial"},{id:"inventory",name:"Relatório de Estoque",description:"Movimentações, inventário e curva ABC",icon:n.jsx($t,{className:"h-6 w-6"}),category:"inventory"},{id:"customers",name:"Relatório de Clientes",description:"Análise de base de clientes e performance",icon:n.jsx(Zt,{className:"h-6 w-6"}),category:"commercial"},{id:"performance",name:"Relatório de Performance",description:"KPIs, métricas e análise de desempenho",icon:n.jsx(oa,{className:"h-6 w-6"}),category:"operational"}];F.useEffect(()=>{t&&f()},[t,r,a]);const f=async()=>{d(!0);try{const{data:g}=await he.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a),x=g?.filter(C=>C.type==="income"&&C.status==="paid").reduce((C,E)=>C+(E.amount||0),0)||0,v=g?.filter(C=>C.type==="expense"&&C.status==="paid").reduce((C,E)=>C+(E.amount||0),0)||0,{count:j}=await he.from("service_orders").select("*",{count:"exact",head:!0}).gte("created_at",r).lte("created_at",a),{count:B}=await he.from("customers").select("*",{count:"exact",head:!0});l({revenue:x,expenses:v,profit:x-v,serviceOrders:j||0,customers:B||0,avgTicket:j?x/j:0})}catch(g){console.error("Error loading report data:",g)}finally{d(!1)}},b=async()=>{h(!0);try{const g=new Kt;g.setFontSize(20),g.setTextColor(37,99,235),g.text("Giartech - Relatório Gerencial",20,20),g.setFontSize(12),g.setTextColor(100);const x=m.find(B=>B.id===t)?.name||"Relatório";if(g.text(x,20,30),g.text(`Período: ${yn(new Date(r),"dd/MM/yyyy",{locale:bc})} - ${yn(new Date(a),"dd/MM/yyyy",{locale:bc})}`,20,37),g.text(`Gerado em: ${yn(new Date,"dd/MM/yyyy 'às' HH:mm",{locale:bc})}`,20,44),g.setDrawColor(229,231,235),g.line(20,50,190,50),o){g.setFontSize(16),g.setTextColor(0),g.text("Resumo Executivo",20,60);const B=[["Métrica","Valor"],["Receitas",`R$ ${o.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Despesas",`R$ ${o.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Lucro",`R$ ${o.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Ordens de Serviço",o.serviceOrders.toString()],["Ticket Médio",`R$ ${o.avgTicket.toLocaleString("pt-BR",{minimumFractionDigits:2})}`],["Total de Clientes",o.customers.toString()]];g.autoTable({startY:65,head:[B[0]],body:B.slice(1),theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:11,fontStyle:"bold"},bodyStyles:{fontSize:10},alternateRowStyles:{fillColor:[248,250,252]}})}if(t==="financial"){const B=g.lastAutoTable.finalY+15;g.setFontSize(16),g.setTextColor(0),g.text("Detalhamento Financeiro",20,B);const{data:C}=await he.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a).order("due_date",{ascending:!1}).limit(20);if(C&&C.length>0){const E=C.map(M=>[yn(new Date(M.due_date),"dd/MM/yyyy"),M.description,M.type==="income"?"Receita":"Despesa",`R$ ${(M.amount||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,M.status==="paid"?"Pago":M.status==="pending"?"Pendente":"Cancelado"]);g.autoTable({startY:B+5,head:[["Data","Descrição","Tipo","Valor","Status"]],body:E,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:60},2:{cellWidth:25},3:{cellWidth:30},4:{cellWidth:25}}})}}if(t==="service_orders"){const B=g.lastAutoTable.finalY+15;g.setFontSize(16),g.setTextColor(0),g.text("Ordens de Serviço",20,B);const{data:C}=await he.from("service_orders").select("*").gte("created_at",r).lte("created_at",a).order("created_at",{ascending:!1}).limit(20);if(C&&C.length>0){const E=C.map(M=>[M.order_number,yn(new Date(M.created_at),"dd/MM/yyyy"),M.status==="pending"?"Pendente":M.status==="in_progress"?"Em Andamento":M.status==="completed"?"Concluída":"Cancelada",`R$ ${(M.total_value||0).toLocaleString("pt-BR",{minimumFractionDigits:2})}`]);g.autoTable({startY:B+5,head:[["OS","Data","Status","Valor"]],body:E,theme:"grid",headStyles:{fillColor:[37,99,235],textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9}})}}const v=g.internal.getNumberOfPages();for(let B=1;B<=v;B++)g.setPage(B),g.setFontSize(9),g.setTextColor(150),g.text(`Página ${B} de ${v}`,g.internal.pageSize.width/2,g.internal.pageSize.height-10,{align:"center"});const j=`relatorio_${t}_${yn(new Date,"yyyyMMdd_HHmmss")}.pdf`;g.save(j)}catch(g){console.error("Error generating PDF:",g),alert("Erro ao gerar relatório PDF")}finally{h(!1)}},y=async()=>{try{let g="data:text/csv;charset=utf-8,";if(t==="financial"){const{data:j}=await he.from("finance_entries").select("*").gte("due_date",r).lte("due_date",a);g+=`Data,Descrição,Tipo,Valor,Status
`,j?.forEach(B=>{g+=`${B.due_date},"${B.description}",${B.type},${B.amount},${B.status}
`})}const x=encodeURI(g),v=document.createElement("a");v.setAttribute("href",x),v.setAttribute("download",`relatorio_${t}_${yn(new Date,"yyyyMMdd")}.csv`),document.body.appendChild(v),v.click(),document.body.removeChild(v)}catch(g){console.error("Error exporting CSV:",g)}};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatórios Avançados"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gere relatórios detalhados e análises do seu negócio"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:m.map(g=>n.jsxs(ue.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>e(g.id),className:`p-4 rounded-lg border-2 transition-all text-left ${t===g.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300 bg-white"}`,children:[n.jsx("div",{className:`inline-flex p-2 rounded-lg mb-3 ${t===g.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"}`,children:g.icon}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:g.name}),n.jsx("p",{className:"text-sm text-gray-600",children:g.description})]},g.id))}),t&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(p1,{className:"h-5 w-5 text-gray-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Inicial"}),n.jsx("input",{type:"date",value:r,onChange:g=>s(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Final"}),n.jsx("input",{type:"date",value:a,onChange:g=>i(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsx("button",{onClick:b,disabled:u||c,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?n.jsxs(n.Fragment,{children:[n.jsx(q0,{className:"h-4 w-4 animate-spin"}),"Gerando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ys,{className:"h-4 w-4"}),"Gerar PDF"]})}),n.jsx("button",{onClick:y,disabled:c,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Exportar CSV",children:n.jsx(vt,{className:"h-4 w-4"})})]})]})]}),t&&o&&n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Preview do Relatório"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-green-700",children:"Receitas"}),n.jsx(h1,{className:"h-4 w-4 text-green-600"})]}),n.jsxs("p",{className:"text-2xl font-bold text-green-900",children:["R$ ",o.revenue.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-red-700",children:"Despesas"}),n.jsx(ME,{className:"h-4 w-4 text-red-600"})]}),n.jsxs("p",{className:"text-2xl font-bold text-red-900",children:["R$ ",o.expenses.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:`rounded-lg p-4 ${o.profit>=0?"bg-gradient-to-br from-blue-50 to-blue-100":"bg-gradient-to-br from-orange-50 to-orange-100"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:`text-sm font-medium ${o.profit>=0?"text-blue-700":"text-orange-700"}`,children:"Lucro"}),n.jsx(Or,{className:`h-4 w-4 ${o.profit>=0?"text-blue-600":"text-orange-600"}`})]}),n.jsxs("p",{className:`text-2xl font-bold ${o.profit>=0?"text-blue-900":"text-orange-900"}`,children:["R$ ",o.profit.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordens de Serviço"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:o.serviceOrders})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ticket Médio"}),n.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:["R$ ",o.avgTicket.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total de Clientes"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:o.customers})]})]})]}),!t&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Selecione um Tipo de Relatório"}),n.jsx("p",{className:"text-gray-600",children:"Escolha um dos tipos de relatório acima para começar"})]})]})}function e9(){const[t,e]=F.useState([]),[r,s]=F.useState([]),[a,i]=F.useState(!0),[o,l]=F.useState(null),[c,d]=F.useState(!1),u=yq();F.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:x,error:v}=await he.from("automation_rules").select("*").order("priority",{ascending:!1});if(v)throw v;e(x||[])}catch(x){console.error("Error loading rules:",x),u.error("Erro ao carregar regras")}finally{i(!1)}},m=async x=>{try{const{data:v,error:j}=await he.from("automation_logs").select("*").eq("rule_id",x).order("executed_at",{ascending:!1}).limit(50);if(j)throw j;s(v||[]),d(!0)}catch(v){console.error("Error loading logs:",v),u.error("Erro ao carregar histórico")}},f=async(x,v)=>{try{const{error:j}=await he.from("automation_rules").update({is_active:!v}).eq("id",x);if(j)throw j;u.success(v?"Automação pausada":"Automação ativada"),h()}catch(j){console.error("Error toggling rule:",j),u.error("Erro ao alterar status")}},b=async x=>{if(confirm("Deseja realmente excluir esta automação?"))try{const{error:v}=await he.from("automation_rules").delete().eq("id",x);if(v)throw v;u.success("Automação excluída"),h()}catch(v){console.error("Error deleting rule:",v),u.error("Erro ao excluir automação")}},y=x=>({service_order_created:"OS Criada",service_order_completed:"OS Concluída",payment_received:"Pagamento Recebido",payment_overdue:"Pagamento Atrasado",stock_low:"Estoque Baixo",customer_created:"Cliente Cadastrado",custom_date:"Data Específica"})[x]||x,g=x=>{switch(x){case"success":return"text-green-600 bg-green-50";case"failed":return"text-red-600 bg-red-50";case"running":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}};return a?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Automações e Workflows"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Configure regras automáticas para seu negócio"})]}),n.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>u.info("Criação de automação em desenvolvimento"),children:[n.jsx(Ot,{className:"h-4 w-4"}),"Nova Automação"]})]}),n.jsx("div",{className:"grid grid-cols-1 gap-4 mb-6",children:t.map(x=>n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:`p-2 rounded-lg ${x.is_active?"bg-green-100":"bg-gray-100"}`,children:n.jsx(ho,{className:`h-5 w-5 ${x.is_active?"text-green-600":"text-gray-400"}`})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),n.jsx("p",{className:"text-sm text-gray-600",children:x.description})]})]})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>f(x.id,x.is_active),className:`p-2 rounded-lg transition-colors ${x.is_active?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:x.is_active?"Pausar":"Ativar",children:x.is_active?n.jsx(rae,{className:"h-4 w-4"}):n.jsx(_S,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>m(x.id),className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50 transition-colors",title:"Ver Histórico",children:n.jsx(H0,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>b(x.id),className:"p-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",title:"Excluir",children:n.jsx(rr,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Gatilho"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:y(x.trigger_type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Prioridade"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:x.priority})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Execuções"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:x.execution_count})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Última Execução"}),n.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:x.last_executed_at?yn(new Date(x.last_executed_at),"dd/MM/yyyy HH:mm",{locale:bc}):"Nunca"})]})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[n.jsx("span",{className:"text-xs text-gray-500 mb-2 block",children:"Ações Configuradas"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:x.actions.map((v,j)=>n.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium",children:v.type==="notification"?"🔔 Notificação":v.type==="email"?"📧 Email":v.type==="webhook"?"🔗 Webhook":v.type},j))})]})]},x.id))}),t.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg border border-gray-200",children:[n.jsx(ho,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma Automação Configurada"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira automação para começar a otimizar seus processos"}),n.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",onClick:()=>u.info("Criação de automação em desenvolvimento"),children:[n.jsx(Ot,{className:"h-4 w-4"}),"Criar Primeira Automação"]})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:n.jsxs(ue.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Histórico de Execuções"}),n.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(Q0,{className:"h-6 w-6"})})]})}),n.jsx("div",{className:"overflow-y-auto max-h-[calc(80vh-120px)]",children:r.length===0?n.jsx("div",{className:"p-12 text-center text-gray-500",children:"Nenhuma execução registrada"}):n.jsx("div",{className:"divide-y divide-gray-100",children:r.map(x=>n.jsxs("div",{className:"p-4 hover:bg-gray-50",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[x.status==="success"&&n.jsx(Ja,{className:"h-5 w-5 text-green-600"}),x.status==="failed"&&n.jsx(Q0,{className:"h-5 w-5 text-red-600"}),x.status==="running"&&n.jsx(tr,{className:"h-5 w-5 text-blue-600 animate-spin"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:x.trigger_event})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(x.status)}`,children:x.status==="success"?"Sucesso":x.status==="failed"?"Falhou":x.status==="running"?"Executando":"Pendente"})]}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[n.jsx("span",{children:yn(new Date(x.executed_at),"dd/MM/yyyy 'às' HH:mm",{locale:bc})}),n.jsxs("span",{children:[x.actions_executed," ações executadas"]}),x.actions_failed>0&&n.jsxs("span",{className:"text-red-600",children:[x.actions_failed," falharam"]})]}),x.error_message&&n.jsx("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700",children:x.error_message})]},x.id))})})]})})]})}function WG(){const[t,e]=F.useState([]),[r,s]=F.useState(!0),[a,i]=F.useState(""),[o,l]=F.useState("all");F.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:y,error:g}=await he.from("v_customer_credit_scoring").select("*").order("credit_score",{ascending:!1});if(g)throw g;e(y||[])}catch(y){console.error("Erro ao carregar credit scoring:",y)}finally{s(!1)}},d=async()=>{try{s(!0);const{error:y}=await he.rpc("recalculate_all_credit_scores");if(y)throw y;await c(),alert("Scores recalculados com sucesso!")}catch(y){console.error("Erro ao recalcular scores:",y),alert("Erro ao recalcular scores. Tente novamente.")}},u=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(y),h=y=>({Excelente:"bg-green-100 text-green-800 border-green-300",Bom:"bg-blue-100 text-blue-800 border-blue-300",Médio:"bg-yellow-100 text-yellow-800 border-yellow-300","Alto Risco":"bg-orange-100 text-orange-800 border-orange-300",Bloqueado:"bg-red-100 text-red-800 border-red-300"})[y]||"bg-gray-100 text-gray-800 border-gray-300",m=y=>y==="Excelente"||y==="Bom"?n.jsx(Ja,{className:"h-5 w-5"}):y==="Bloqueado"||y==="Alto Risco"?n.jsx(un,{className:"h-5 w-5"}):n.jsx(rn,{className:"h-5 w-5"}),f=t.filter(y=>{const g=y.customer_name.toLowerCase().includes(a.toLowerCase()),x=o==="all"||y.risk_category===o;return g&&x}),b={total:t.length,excelente:t.filter(y=>y.risk_category==="Excelente").length,bom:t.filter(y=>y.risk_category==="Bom").length,medio:t.filter(y=>y.risk_category==="Médio").length,alto:t.filter(y=>y.risk_category==="Alto Risco").length,bloqueado:t.filter(y=>y.risk_category==="Bloqueado").length};return r?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(zs,{className:"h-12 w-12 animate-spin text-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Credit Scoring"}),n.jsx("p",{className:"text-gray-600",children:"Análise de risco e crédito de clientes"})]}),n.jsxs("button",{onClick:d,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-lg",children:[n.jsx(zs,{className:"h-5 w-5"}),"Recalcular Todos"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total"}),n.jsx(rn,{className:"h-5 w-5 text-gray-400"})]}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:b.total})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Excelente"?"all":"Excelente"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Excelente"}),n.jsx(Ja,{className:"h-5 w-5"})]}),n.jsx("p",{className:"text-3xl font-bold",children:b.excelente})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Bom"?"all":"Bom"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Bom"}),n.jsx(Or,{className:"h-5 w-5"})]}),n.jsx("p",{className:"text-3xl font-bold",children:b.bom})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Médio"?"all":"Médio"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Médio"}),n.jsx(un,{className:"h-5 w-5"})]}),n.jsx("p",{className:"text-3xl font-bold",children:b.medio})]}),n.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-red-500 to-pink-600 rounded-xl p-6 shadow-md text-white cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>l(o==="Alto Risco"||o==="Bloqueado"?"all":"Alto Risco"),children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Risco Alto"}),n.jsx(un,{className:"h-5 w-5"})]}),n.jsx("p",{className:"text-3xl font-bold",children:b.alto+b.bloqueado})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ir,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar cliente...",value:a,onChange:y=>i(y.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Cliente"}),n.jsx("th",{className:"text-left py-4 px-4 font-semibold text-gray-700",children:"Tipo"}),n.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Score"}),n.jsx("th",{className:"text-center py-4 px-4 font-semibold text-gray-700",children:"Categoria"}),n.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Limite Sugerido"}),n.jsx("th",{className:"text-right py-4 px-4 font-semibold text-gray-700",children:"Total Compras"})]})}),n.jsx("tbody",{children:f.map(y=>n.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"py-4 px-4",children:n.jsx("div",{className:"font-medium text-gray-900",children:y.customer_name})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:"text-sm text-gray-600",children:y.customer_type})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.credit_score})}),n.jsx("td",{className:"py-4 px-4 text-center",children:n.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-sm font-semibold border ${h(y.risk_category)}`,children:[m(y.risk_category),y.risk_category]})}),n.jsx("td",{className:"py-4 px-4 text-right font-semibold text-gray-900",children:u(y.suggested_credit_limit)}),n.jsx("td",{className:"py-4 px-4 text-right text-gray-600",children:u(y.total_purchases)})]},y.customer_id))})]}),f.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(rn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum cliente encontrado"})]})]})]})]})})}function k6({tabs:t,defaultTab:e,className:r=""}){const[s,a]=F.useState(e||t[0]?.id),i=t.find(o=>o.id===s);return n.jsxs("div",{className:`flex flex-col h-full ${r}`,children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:[n.jsx("div",{className:"flex items-center space-x-1 px-6 py-4 overflow-x-auto scrollbar-thin",children:t.map(o=>{const l=o.icon,c=s===o.id;return n.jsxs("button",{onClick:()=>a(o.id),className:`
                  relative flex items-center space-x-2 px-4 py-2.5 rounded-lg
                  transition-all duration-200 whitespace-nowrap
                  ${c?"bg-blue-50 text-blue-700 font-medium shadow-sm":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}
                `,children:[n.jsx(l,{className:`w-5 h-5 ${c?"text-blue-600":"text-gray-500"}`}),n.jsx("span",{children:o.label}),o.badge!==void 0&&o.badge>0&&n.jsx("span",{className:`
                    ml-1 px-2 py-0.5 text-xs font-semibold rounded-full
                    ${c?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"}
                  `,children:o.badge}),c&&n.jsx(ue.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600",transition:{type:"spring",stiffness:500,damping:30}})]},o.id)})}),i?.description&&n.jsx("div",{className:"px-6 pb-3",children:n.jsx("p",{className:"text-sm text-gray-600",children:i.description})})]}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx(Nt,{mode:"wait",children:n.jsx(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"h-full",children:i&&n.jsx(i.component,{})},s)})})]})}function GIe(){const t=[{id:"dashboard",label:"Dashboard",icon:oa,component:bV,description:"Visão geral integrada do financeiro com KPIs principais"},{id:"movimentacoes",label:"Movimentações",icon:pr,component:HG,description:"Gestão de receitas, despesas e fluxo de caixa"},{id:"analise",label:"Análise",icon:oh,component:qG,description:"Análises avançadas: EBITDA, ROI, Margens e Indicadores"},{id:"contas",label:"Contas Bancárias",icon:pn,component:zG,description:"Gerenciamento de contas bancárias e saldos"},{id:"categorias",label:"Categorias",icon:Xne,component:VG,description:"Organização de categorias e subcategorias financeiras"}];return n.jsxs("div",{className:"h-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"💰 Centro Financeiro"}),n.jsx("p",{className:"text-blue-100",children:"Gestão completa do financeiro: dashboard, movimentações, análises e configurações"})]}),n.jsx(k6,{tabs:t,defaultTab:"dashboard"})]})}function XIe(){return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[n.jsx(xh,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Metas Financeiras"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Sistema de acompanhamento de metas e targets estratégicos"}),n.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:n.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponível em breve"})})]})})}function YIe(){return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-8 text-center",children:[n.jsx(un,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Alertas Críticos"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Sistema de monitoramento de alertas e problemas que precisam atenção"}),n.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:n.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponível em breve"})})]})})}function JIe(){const t=[{id:"credit-scoring",label:"Credit Scoring",icon:rn,component:WG,description:"Análise de risco e crédito de clientes com score automatizado"},{id:"metas",label:"Metas & Targets",icon:xh,component:XIe,description:"Acompanhamento de objetivos e metas financeiras estratégicas"},{id:"alertas",label:"Alertas Críticos",icon:un,component:YIe,description:"Problemas e situações que requerem atenção imediata"}];return n.jsxs("div",{className:"h-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-6 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"📊 Consolidado Executivo"}),n.jsx("p",{className:"text-blue-100",children:"Análises estratégicas complementares: Credit Scoring, Metas e Alertas"})]}),n.jsx(k6,{tabs:t,defaultTab:"credit-scoring"})]})}function ZIe(){return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 text-center",children:[n.jsx(tH,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Relatórios Customizados"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Crie relatórios personalizados com os dados que você precisa"}),n.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:n.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponível em breve"})})]})})}function eDe(){return n.jsx("div",{className:"p-6",children:n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl p-8 text-center",children:[n.jsx(H0,{className:"h-16 w-16 text-purple-600 mx-auto mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Histórico de Relatórios"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Acesse relatórios gerados anteriormente e baixe novamente"}),n.jsx("div",{className:"inline-block bg-white rounded-lg px-6 py-3 shadow-md",children:n.jsx("p",{className:"text-sm text-gray-600",children:"Em desenvolvimento - Disponível em breve"})})]})})}function tDe(){const t=[{id:"dashboards",label:"Dashboards",icon:dv,component:yV,description:"Relatórios visuais interativos com gráficos e análises"},{id:"pdfs",label:"PDFs Profissionais",icon:vt,component:KG,description:"Relatórios em PDF para impressão e apresentações"},{id:"customizados",label:"Customizados",icon:tH,component:ZIe,description:"Crie relatórios personalizados com seus próprios filtros"},{id:"historico",label:"Histórico",icon:H0,component:eDe,description:"Histórico de relatórios gerados anteriormente"}];return n.jsxs("div",{className:"h-full",children:[n.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-700 text-white px-6 py-8",children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"📄 Relatórios"}),n.jsx("p",{className:"text-emerald-100",children:"Todos os relatórios e análises em um único lugar"})]}),n.jsx(k6,{tabs:t,defaultTab:"dashboards"})]})}const Ht=({children:t})=>n.jsx(n.Fragment,{children:t});function rDe(){const[t,e]=F.useState(!0),[r,s]=F.useState(!1),[a,i]=F.useState(!1),[o,l]=F.useState(!1),[c,d]=F.useState(!1),[u,h]=F.useState(""),[m,f]=F.useState(""),[b]=F.useState("admin"),[y,g]=F.useState(!1),[x,v]=F.useState(!1),j=Ch(),[B,C]=F.useState(!1),{isSearchOpen:E,closeSearch:M}=mce(),S=pce();F.useEffect(()=>{xce()},[]),F.useEffect(()=>{(async()=>{try{console.log("🤖 Inicializando ThomazAI...");const D=await hce();D.success?(console.log("✅ ThomazAI inicializado com sucesso!"),console.log(`📚 ${D.metrics.totalDocuments} documentos | ${D.metrics.totalChunks} chunks`),v(!0)):(console.warn("⚠️ ThomazAI iniciado com avisos:",D.errors),v(!0))}catch(D){console.error("❌ Erro ao inicializar ThomazAI:",D),v(!0)}})();const T=setTimeout(()=>{e(!1),!localStorage.getItem("os_system_tutorial_completed")&&s(!0)},1500);return()=>clearTimeout(T)},[]),F.useEffect(()=>{const _=async()=>{try{const L=await(await fetch("/version.json?t="+Date.now())).json(),V=localStorage.getItem("app_version");V&&V!==L.version?(console.log("Nova versão disponível:",L.version),confirm(`Nova versão ${L.version} disponível!

${L.description}

Deseja atualizar agora?`)&&(localStorage.setItem("app_version",L.version),window.location.reload())):V||localStorage.setItem("app_version",L.version)}catch(D){console.error("Erro ao verificar atualizações:",D)}};_();const T=setInterval(_,300*1e3);return()=>clearInterval(T)},[]);const k=_=>{h(_),i(!0),g(!0),setTimeout(()=>{g(!1)},1e4)},I=_=>{f(_),l(!0)};return t?n.jsx(fie,{}):n.jsxs(vce,{children:[n.jsxs(Nt,{mode:"wait",children:[n.jsxs(TY,{location:j,children:[n.jsx(Dt,{path:"/login",element:n.jsx(N1e,{})}),n.jsx(Dt,{path:"/pricing",element:n.jsx(C1e,{})}),n.jsx(Dt,{path:"/",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(GD,{})})})}),n.jsx(Dt,{path:"/home",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(XD,{})})})}),n.jsx(Dt,{path:"/ordens-servico-kanban",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(p1e,{})})})}),n.jsx(Dt,{path:"/departmental-dashboard",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(YOe,{})})})}),n.jsx(Dt,{path:"/service-orders",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(_ce,{})})})}),n.jsx(Dt,{path:"/service-orders/create",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(bO,{})})})}),n.jsx(Dt,{path:"/service-orders/:id/view",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(yAe,{})})})}),n.jsx(Dt,{path:"/service-orders/:id",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(bO,{})})})}),n.jsx(Dt,{path:"/inventory",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(z0e,{})})})}),n.jsx(Dt,{path:"/inventory/:id",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(V0e,{})})})}),n.jsx(Dt,{path:"/inventory/create",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(K0e,{})})})}),n.jsx(Dt,{path:"/reports",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(yV,{})})})}),n.jsx(Dt,{path:"/settings",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(Gwe,{})})})}),n.jsx(Dt,{path:"/users",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(Xwe,{})})})}),n.jsx(Dt,{path:"/service-catalog",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(Jwe,{})})})}),n.jsx(Dt,{path:"/financial",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(bV,{})})})}),n.jsx(Dt,{path:"/client-management",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(n1e,{})})})}),n.jsx(Dt,{path:"/visual-customization",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(s1e,{onPremiumFeature:k})})})}),n.jsx(Dt,{path:"/monitoring",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(i1e,{onPremiumFeature:k,onEnterpriseFeature:I})})})}),n.jsx(Dt,{path:"/calendar",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(A1e,{onPremiumFeature:k})})})}),n.jsx(Dt,{path:"/projects",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(m1e,{onPremiumFeature:k,onEnterpriseFeature:I})})})}),n.jsx(Dt,{path:"/profile",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(f1e,{})})})}),n.jsx(Dt,{path:"/access-codes",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(_1e,{})})})}),n.jsx(Dt,{path:"/digital-library",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(JOe,{})})})}),n.jsx(Dt,{path:"/chat",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(ZOe,{})})})}),n.jsx(Dt,{path:"/whatsapp-crm",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(eIe,{})})})}),n.jsx(Dt,{path:"/thomaz-metrics",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(tIe,{})})})}),n.jsx(Dt,{path:"/thomaz",element:n.jsx(Ht,{children:n.jsx(WIe,{})})}),n.jsx(Dt,{path:"/financial-management",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(HG,{})})})}),n.jsx(Dt,{path:"/financial-analysis",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(qG,{})})})}),n.jsx(Dt,{path:"/cfo-dashboard",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(GD,{})})})}),n.jsx(Dt,{path:"/reports-advanced",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(KG,{})})})}),n.jsx(Dt,{path:"/automacoes",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(e9,{})})})}),n.jsx(Dt,{path:"/automations",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(e9,{})})})}),n.jsx(Dt,{path:"/financeiro",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(GIe,{})})})}),n.jsx(Dt,{path:"/executivo",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(JIe,{})})})}),n.jsx(Dt,{path:"/relatorios",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(tDe,{})})})}),n.jsx(Dt,{path:"/credit-scoring",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(WG,{})})})}),n.jsx(Dt,{path:"/financial-categories",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(VG,{})})})}),n.jsx(Dt,{path:"/email/settings",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(DIe,{})})})}),n.jsx(Dt,{path:"/email/compose",element:n.jsx(Ht,{children:n.jsx(LIe,{})})}),n.jsx(Dt,{path:"/email/inbox",element:n.jsx(Ht,{children:n.jsx(MIe,{})})}),n.jsx(Dt,{path:"/audit-logs",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(xIe,{})})})}),n.jsx(Dt,{path:"/bank-accounts",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(zG,{})})})}),n.jsx(Dt,{path:"/access-management",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(gIe,{})})})}),n.jsx(Dt,{path:"/funcionarios",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(fIe,{})})})}),n.jsx(Dt,{path:"/convites-usuarios",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(pIe,{})})})}),n.jsx(Dt,{path:"/crm-leads",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(yIe,{})})})}),n.jsx(Dt,{path:"/contracts",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(bIe,{})})})}),n.jsx(Dt,{path:"/contract-templates",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(vIe,{})})})}),n.jsx(Dt,{path:"/document-templates",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(wIe,{})})})}),n.jsx(Dt,{path:"/invoices",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(jIe,{})})})}),n.jsx(Dt,{path:"/company-settings",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(NIe,{})})})}),n.jsx(Dt,{path:"/equipments",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(_Ie,{})})})}),n.jsx(Dt,{path:"/suppliers",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(CIe,{})})})}),n.jsx(Dt,{path:"/purchasing",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(EIe,{})})})}),n.jsx(Dt,{path:"/rotas",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(PIe,{})})})}),n.jsx(Dt,{path:"/documentos",element:n.jsx(Ht,{children:n.jsx(Wt,{children:n.jsx(IIe,{})})})}),n.jsx(Dt,{path:"/homepage",element:n.jsx(g1e,{})}),n.jsx(Dt,{path:"/home",element:n.jsx(XD,{})}),n.jsx(Dt,{path:"/sobre",element:n.jsx(x1e,{})}),n.jsx(Dt,{path:"/servicos",element:n.jsx(y1e,{})}),n.jsx(Dt,{path:"/contato",element:n.jsx(b1e,{})})]},j.pathname),n.jsx(Zwe,{isOpen:r,onComplete:()=>{s(!1),localStorage.setItem("os_system_tutorial_completed","true")}}),n.jsx(v1e,{isOpen:a,feature:u,onClose:()=>i(!1)}),n.jsx(j1e,{isOpen:o,feature:m,onClose:()=>l(!1)}),n.jsx(S1e,{isOpen:c,onClose:()=>d(!1),requiredRole:b}),y&&n.jsx(w1e,{feature:u})]}),n.jsx($Ie,{}),n.jsx(HIe,{}),n.jsx(Ace,{isOpen:E,onClose:M}),n.jsx(fce,{isOpen:S.isOpen,onClose:S.close}),bce()&&n.jsx(gce,{})]})}class nDe extends F.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("Uncaught error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ops! Algo deu errado"}),n.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro inesperado ao carregar o sistema."})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[n.jsx("h2",{className:"text-sm font-semibold text-red-800 mb-2",children:"Detalhes do erro:"}),n.jsx("pre",{className:"text-xs text-red-700 overflow-auto max-h-40",children:this.state.error?.toString()})]}),this.state.errorInfo&&n.jsxs("details",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[n.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (clique para expandir)"}),n.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-60 mt-2",children:this.state.errorInfo.componentStack})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Recarregar Página"}),n.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null})},className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Tentar Novamente"})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Dica:"})," Abra o console do navegador (F12) para ver mais detalhes do erro."]})})]})}):this.props.children}}LX.createRoot(document.getElementById("root")).render(n.jsx(ke.StrictMode,{children:n.jsx(nDe,{children:n.jsx(UY,{children:n.jsx(rDe,{})})})}));export{hn as _,zy as c,Xr as g};
