function ZG(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eX(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),r}var sj={exports:{}},hg={},aj={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AP;function tX(){if(AP)return fr;AP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),h=Symbol.iterator;function f(Z){return Z===null||typeof Z!="object"?null:(Z=h&&Z[h]||Z["@@iterator"],typeof Z=="function"?Z:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function g(Z,$,L){this.props=Z,this.context=$,this.refs=y,this.updater=L||p}g.prototype.isReactComponent={},g.prototype.setState=function(Z,$){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,$,"setState")},g.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function x(){}x.prototype=g.prototype;function w(Z,$,L){this.props=Z,this.context=$,this.refs=y,this.updater=L||p}var _=w.prototype=new x;_.constructor=w,v(_,g.prototype),_.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,B={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(Z,$,L){var Y,X={},Ae=null,fe=null;if($!=null)for(Y in $.ref!==void 0&&(fe=$.ref),$.key!==void 0&&(Ae=""+$.key),$)C.call($,Y)&&!I.hasOwnProperty(Y)&&(X[Y]=$[Y]);var de=arguments.length-2;if(de===1)X.children=L;else if(1<de){for(var me=Array(de),Ce=0;Ce<de;Ce++)me[Ce]=arguments[Ce+2];X.children=me}if(Z&&Z.defaultProps)for(Y in de=Z.defaultProps,de)X[Y]===void 0&&(X[Y]=de[Y]);return{$$typeof:t,type:Z,key:Ae,ref:fe,props:X,_owner:B.current}}function E(Z,$){return{$$typeof:t,type:Z.type,key:$,ref:Z.ref,props:Z.props,_owner:Z._owner}}function D(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function N(Z){var $={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(L){return $[L]})}var T=/\/+/g;function Q(Z,$){return typeof Z=="object"&&Z!==null&&Z.key!=null?N(""+Z.key):$.toString(36)}function U(Z,$,L,Y,X){var Ae=typeof Z;(Ae==="undefined"||Ae==="boolean")&&(Z=null);var fe=!1;if(Z===null)fe=!0;else switch(Ae){case"string":case"number":fe=!0;break;case"object":switch(Z.$$typeof){case t:case e:fe=!0}}if(fe)return fe=Z,X=X(fe),Z=Y===""?"."+Q(fe,0):Y,k(X)?(L="",Z!=null&&(L=Z.replace(T,"$&/")+"/"),U(X,$,L,"",function(Ce){return Ce})):X!=null&&(D(X)&&(X=E(X,L+(!X.key||fe&&fe.key===X.key?"":(""+X.key).replace(T,"$&/")+"/")+Z)),$.push(X)),1;if(fe=0,Y=Y===""?".":Y+":",k(Z))for(var de=0;de<Z.length;de++){Ae=Z[de];var me=Y+Q(Ae,de);fe+=U(Ae,$,L,me,X)}else if(me=f(Z),typeof me=="function")for(Z=me.call(Z),de=0;!(Ae=Z.next()).done;)Ae=Ae.value,me=Y+Q(Ae,de++),fe+=U(Ae,$,L,me,X);else if(Ae==="object")throw $=String(Z),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return fe}function K(Z,$,L){if(Z==null)return Z;var Y=[],X=0;return U(Z,Y,"","",function(Ae){return $.call(L,Ae,X++)}),Y}function z(Z){if(Z._status===-1){var $=Z._result;$=$(),$.then(function(L){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=L)},function(L){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=L)}),Z._status===-1&&(Z._status=0,Z._result=$)}if(Z._status===1)return Z._result.default;throw Z._result}var ee={current:null},G={transition:null},q={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:G,ReactCurrentOwner:B};function re(){throw Error("act(...) is not supported in production builds of React.")}return fr.Children={map:K,forEach:function(Z,$,L){K(Z,function(){$.apply(this,arguments)},L)},count:function(Z){var $=0;return K(Z,function(){$++}),$},toArray:function(Z){return K(Z,function($){return $})||[]},only:function(Z){if(!D(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},fr.Component=g,fr.Fragment=r,fr.Profiler=a,fr.PureComponent=w,fr.StrictMode=s,fr.Suspense=c,fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,fr.act=re,fr.cloneElement=function(Z,$,L){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Y=v({},Z.props),X=Z.key,Ae=Z.ref,fe=Z._owner;if($!=null){if($.ref!==void 0&&(Ae=$.ref,fe=B.current),$.key!==void 0&&(X=""+$.key),Z.type&&Z.type.defaultProps)var de=Z.type.defaultProps;for(me in $)C.call($,me)&&!I.hasOwnProperty(me)&&(Y[me]=$[me]===void 0&&de!==void 0?de[me]:$[me])}var me=arguments.length-2;if(me===1)Y.children=L;else if(1<me){de=Array(me);for(var Ce=0;Ce<me;Ce++)de[Ce]=arguments[Ce+2];Y.children=de}return{$$typeof:t,type:Z.type,key:X,ref:Ae,props:Y,_owner:fe}},fr.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:i,_context:Z},Z.Consumer=Z},fr.createElement=S,fr.createFactory=function(Z){var $=S.bind(null,Z);return $.type=Z,$},fr.createRef=function(){return{current:null}},fr.forwardRef=function(Z){return{$$typeof:l,render:Z}},fr.isValidElement=D,fr.lazy=function(Z){return{$$typeof:u,_payload:{_status:-1,_result:Z},_init:z}},fr.memo=function(Z,$){return{$$typeof:d,type:Z,compare:$===void 0?null:$}},fr.startTransition=function(Z){var $=G.transition;G.transition={};try{Z()}finally{G.transition=$}},fr.unstable_act=re,fr.useCallback=function(Z,$){return ee.current.useCallback(Z,$)},fr.useContext=function(Z){return ee.current.useContext(Z)},fr.useDebugValue=function(){},fr.useDeferredValue=function(Z){return ee.current.useDeferredValue(Z)},fr.useEffect=function(Z,$){return ee.current.useEffect(Z,$)},fr.useId=function(){return ee.current.useId()},fr.useImperativeHandle=function(Z,$,L){return ee.current.useImperativeHandle(Z,$,L)},fr.useInsertionEffect=function(Z,$){return ee.current.useInsertionEffect(Z,$)},fr.useLayoutEffect=function(Z,$){return ee.current.useLayoutEffect(Z,$)},fr.useMemo=function(Z,$){return ee.current.useMemo(Z,$)},fr.useReducer=function(Z,$,L){return ee.current.useReducer(Z,$,L)},fr.useRef=function(Z){return ee.current.useRef(Z)},fr.useState=function(Z){return ee.current.useState(Z)},fr.useSyncExternalStore=function(Z,$,L){return ee.current.useSyncExternalStore(Z,$,L)},fr.useTransition=function(){return ee.current.useTransition()},fr.version="18.3.1",fr}var fP;function T3(){return fP||(fP=1,aj.exports=tX()),aj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function rX(){if(mP)return hg;mP=1;var t=T3(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var u,h={},f=null,p=null;d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),c.ref!==void 0&&(p=c.ref);for(u in c)s.call(c,u)&&!i.hasOwnProperty(u)&&(h[u]=c[u]);if(l&&l.defaultProps)for(u in c=l.defaultProps,c)h[u]===void 0&&(h[u]=c[u]);return{$$typeof:e,type:l,key:f,ref:p,props:h,_owner:a.current}}return hg.Fragment=r,hg.jsx=o,hg.jsxs=o,hg}var pP;function nX(){return pP||(pP=1,sj.exports=rX()),sj.exports}var n=nX(),O=T3();const ke=Dr(O),sX=ZG({__proto__:null,default:ke},[O]);var My={},ij={exports:{}},Ci={},oj={exports:{}},lj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function aX(){return gP||(gP=1,(function(t){function e(G,q){var re=G.length;G.push(q);e:for(;0<re;){var Z=re-1>>>1,$=G[Z];if(0<a($,q))G[Z]=q,G[re]=$,re=Z;else break e}}function r(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var q=G[0],re=G.pop();if(re!==q){G[0]=re;e:for(var Z=0,$=G.length,L=$>>>1;Z<L;){var Y=2*(Z+1)-1,X=G[Y],Ae=Y+1,fe=G[Ae];if(0>a(X,re))Ae<$&&0>a(fe,X)?(G[Z]=fe,G[Ae]=re,Z=Ae):(G[Z]=X,G[Y]=re,Z=Y);else if(Ae<$&&0>a(fe,re))G[Z]=fe,G[Ae]=re,Z=Ae;else break e}}return q}function a(G,q){var re=G.sortIndex-q.sortIndex;return re!==0?re:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,p=!1,v=!1,y=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var q=r(d);q!==null;){if(q.callback===null)s(d);else if(q.startTime<=G)s(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=r(d)}}function k(G){if(y=!1,_(G),!v)if(r(c)!==null)v=!0,z(C);else{var q=r(d);q!==null&&ee(k,q.startTime-G)}}function C(G,q){v=!1,y&&(y=!1,x(S),S=-1),p=!0;var re=f;try{for(_(q),h=r(c);h!==null&&(!(h.expirationTime>q)||G&&!N());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var $=Z(h.expirationTime<=q);q=t.unstable_now(),typeof $=="function"?h.callback=$:h===r(c)&&s(c),_(q)}else s(c);h=r(c)}if(h!==null)var L=!0;else{var Y=r(d);Y!==null&&ee(k,Y.startTime-q),L=!1}return L}finally{h=null,f=re,p=!1}}var B=!1,I=null,S=-1,E=5,D=-1;function N(){return!(t.unstable_now()-D<E)}function T(){if(I!==null){var G=t.unstable_now();D=G;var q=!0;try{q=I(!0,G)}finally{q?Q():(B=!1,I=null)}}else B=!1}var Q;if(typeof w=="function")Q=function(){w(T)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,K=U.port2;U.port1.onmessage=T,Q=function(){K.postMessage(null)}}else Q=function(){g(T,0)};function z(G){I=G,B||(B=!0,Q())}function ee(G,q){S=g(function(){G(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,z(C))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var re=f;f=q;try{return G()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=f;f=G;try{return q()}finally{f=re}},t.unstable_scheduleCallback=function(G,q,re){var Z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,G={id:u++,callback:q,priorityLevel:G,startTime:re,expirationTime:$,sortIndex:-1},re>Z?(G.sortIndex=re,e(d,G),r(c)===null&&G===r(d)&&(y?(x(S),S=-1):y=!0,ee(k,re-Z))):(G.sortIndex=$,e(c,G),v||p||(v=!0,z(C))),G},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(G){var q=f;return function(){var re=f;f=q;try{return G.apply(this,arguments)}finally{f=re}}}})(lj)),lj}var xP;function iX(){return xP||(xP=1,oj.exports=aX()),oj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function oX(){if(yP)return Ci;yP=1;var t=T3(),e=iX();function r(A){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+A,b=1;b<arguments.length;b++)m+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+A+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(A,m){o(A,m),o(A+"Capture",m)}function o(A,m){for(a[A]=m,A=0;A<m.length;A++)s.add(m[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},h={};function f(A){return c.call(h,A)?!0:c.call(u,A)?!1:d.test(A)?h[A]=!0:(u[A]=!0,!1)}function p(A,m,b,P){if(b!==null&&b.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return P?!1:b!==null?!b.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function v(A,m,b,P){if(m===null||typeof m>"u"||p(A,m,b,P))return!0;if(P)return!1;if(b!==null)switch(b.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(A,m,b,P,R,V,ae){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=P,this.attributeNamespace=R,this.mustUseProperty=b,this.propertyName=A,this.type=m,this.sanitizeURL=V,this.removeEmptyString=ae}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){g[A]=new y(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var m=A[0];g[m]=new y(m,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){g[A]=new y(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){g[A]=new y(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){g[A]=new y(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){g[A]=new y(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){g[A]=new y(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){g[A]=new y(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){g[A]=new y(A,5,!1,A.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function w(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var m=A.replace(x,w);g[m]=new y(m,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var m=A.replace(x,w);g[m]=new y(m,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var m=A.replace(x,w);g[m]=new y(m,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){g[A]=new y(A,1,!1,A.toLowerCase(),null,!1,!1)}),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){g[A]=new y(A,1,!1,A.toLowerCase(),null,!0,!0)});function _(A,m,b,P){var R=g.hasOwnProperty(m)?g[m]:null;(R!==null?R.type!==0:P||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(v(m,b,R,P)&&(b=null),P||R===null?f(m)&&(b===null?A.removeAttribute(m):A.setAttribute(m,""+b)):R.mustUseProperty?A[R.propertyName]=b===null?R.type===3?!1:"":b:(m=R.attributeName,P=R.attributeNamespace,b===null?A.removeAttribute(m):(R=R.type,b=R===3||R===4&&b===!0?"":""+b,P?A.setAttributeNS(P,m,b):A.setAttribute(m,b))))}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),B=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),N=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),G=Symbol.iterator;function q(A){return A===null||typeof A!="object"?null:(A=G&&A[G]||A["@@iterator"],typeof A=="function"?A:null)}var re=Object.assign,Z;function $(A){if(Z===void 0)try{throw Error()}catch(b){var m=b.stack.trim().match(/\n( *(at )?)/);Z=m&&m[1]||""}return`
`+Z+A}var L=!1;function Y(A,m){if(!A||L)return"";L=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Xe){var P=Xe}Reflect.construct(A,[],m)}else{try{m.call()}catch(Xe){P=Xe}A.call(m.prototype)}else{try{throw Error()}catch(Xe){P=Xe}A()}}catch(Xe){if(Xe&&P&&typeof Xe.stack=="string"){for(var R=Xe.stack.split(`
`),V=P.stack.split(`
`),ae=R.length-1,_e=V.length-1;1<=ae&&0<=_e&&R[ae]!==V[_e];)_e--;for(;1<=ae&&0<=_e;ae--,_e--)if(R[ae]!==V[_e]){if(ae!==1||_e!==1)do if(ae--,_e--,0>_e||R[ae]!==V[_e]){var Pe=`
`+R[ae].replace(" at new "," at ");return A.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",A.displayName)),Pe}while(1<=ae&&0<=_e);break}}}finally{L=!1,Error.prepareStackTrace=b}return(A=A?A.displayName||A.name:"")?$(A):""}function X(A){switch(A.tag){case 5:return $(A.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return A=Y(A.type,!1),A;case 11:return A=Y(A.type.render,!1),A;case 1:return A=Y(A.type,!0),A;default:return""}}function Ae(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case I:return"Fragment";case B:return"Portal";case E:return"Profiler";case S:return"StrictMode";case Q:return"Suspense";case U:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case N:return(A.displayName||"Context")+".Consumer";case D:return(A._context.displayName||"Context")+".Provider";case T:var m=A.render;return A=A.displayName,A||(A=m.displayName||m.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case K:return m=A.displayName||null,m!==null?m:Ae(A.type)||"Memo";case z:m=A._payload,A=A._init;try{return Ae(A(m))}catch{}}return null}function fe(A){var m=A.type;switch(A.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=m.render,A=A.displayName||A.name||"",m.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(m);case 8:return m===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function de(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function me(A){var m=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ce(A){var m=me(A)?"checked":"value",b=Object.getOwnPropertyDescriptor(A.constructor.prototype,m),P=""+A[m];if(!A.hasOwnProperty(m)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var R=b.get,V=b.set;return Object.defineProperty(A,m,{configurable:!0,get:function(){return R.call(this)},set:function(ae){P=""+ae,V.call(this,ae)}}),Object.defineProperty(A,m,{enumerable:b.enumerable}),{getValue:function(){return P},setValue:function(ae){P=""+ae},stopTracking:function(){A._valueTracker=null,delete A[m]}}}}function xe(A){A._valueTracker||(A._valueTracker=Ce(A))}function we(A){if(!A)return!1;var m=A._valueTracker;if(!m)return!0;var b=m.getValue(),P="";return A&&(P=me(A)?A.checked?"true":"false":A.value),A=P,A!==b?(m.setValue(A),!0):!1}function Ie(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function lt(A,m){var b=m.checked;return re({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??A._wrapperState.initialChecked})}function Le(A,m){var b=m.defaultValue==null?"":m.defaultValue,P=m.checked!=null?m.checked:m.defaultChecked;b=de(m.value!=null?m.value:b),A._wrapperState={initialChecked:P,initialValue:b,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function J(A,m){m=m.checked,m!=null&&_(A,"checked",m,!1)}function Qe(A,m){J(A,m);var b=de(m.value),P=m.type;if(b!=null)P==="number"?(b===0&&A.value===""||A.value!=b)&&(A.value=""+b):A.value!==""+b&&(A.value=""+b);else if(P==="submit"||P==="reset"){A.removeAttribute("value");return}m.hasOwnProperty("value")?ie(A,m.type,b):m.hasOwnProperty("defaultValue")&&ie(A,m.type,de(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(A.defaultChecked=!!m.defaultChecked)}function je(A,m,b){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var P=m.type;if(!(P!=="submit"&&P!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+A._wrapperState.initialValue,b||m===A.value||(A.value=m),A.defaultValue=m}b=A.name,b!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,b!==""&&(A.name=b)}function ie(A,m,b){(m!=="number"||Ie(A.ownerDocument)!==A)&&(b==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+b&&(A.defaultValue=""+b))}var Se=Array.isArray;function We(A,m,b,P){if(A=A.options,m){m={};for(var R=0;R<b.length;R++)m["$"+b[R]]=!0;for(b=0;b<A.length;b++)R=m.hasOwnProperty("$"+A[b].value),A[b].selected!==R&&(A[b].selected=R),R&&P&&(A[b].defaultSelected=!0)}else{for(b=""+de(b),m=null,R=0;R<A.length;R++){if(A[R].value===b){A[R].selected=!0,P&&(A[R].defaultSelected=!0);return}m!==null||A[R].disabled||(m=A[R])}m!==null&&(m.selected=!0)}}function Oe(A,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return re({},m,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function ve(A,m){var b=m.value;if(b==null){if(b=m.children,m=m.defaultValue,b!=null){if(m!=null)throw Error(r(92));if(Se(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),b=m}A._wrapperState={initialValue:de(b)}}function st(A,m){var b=de(m.value),P=de(m.defaultValue);b!=null&&(b=""+b,b!==A.value&&(A.value=b),m.defaultValue==null&&A.defaultValue!==b&&(A.defaultValue=b)),P!=null&&(A.defaultValue=""+P)}function Ne(A){var m=A.textContent;m===A._wrapperState.initialValue&&m!==""&&m!==null&&(A.value=m)}function ge(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Je(A,m){return A==null||A==="http://www.w3.org/1999/xhtml"?ge(m):A==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var Ve,yt=(function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,b,P,R){MSApp.execUnsafeLocalFunction(function(){return A(m,b,P,R)})}:A})(function(A,m){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=m;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Ve.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;m.firstChild;)A.appendChild(m.firstChild)}});function gt(A,m){if(m){var b=A.firstChild;if(b&&b===A.lastChild&&b.nodeType===3){b.nodeValue=m;return}}A.textContent=m}var ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(A){Ze.forEach(function(m){m=m+A.charAt(0).toUpperCase()+A.substring(1),ce[m]=ce[A]})});function Ue(A,m,b){return m==null||typeof m=="boolean"||m===""?"":b||typeof m!="number"||m===0||ce.hasOwnProperty(A)&&ce[A]?(""+m).trim():m+"px"}function Re(A,m){A=A.style;for(var b in m)if(m.hasOwnProperty(b)){var P=b.indexOf("--")===0,R=Ue(b,m[b],P);b==="float"&&(b="cssFloat"),P?A.setProperty(b,R):A[b]=R}}var rt=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(A,m){if(m){if(rt[A]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,A));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function At(A,m){if(A.indexOf("-")===-1)return typeof m.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=null;function Mr(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var Br=null,Sn=null,ua=null;function An(A){if(A=wu(A)){if(typeof Br!="function")throw Error(r(280));var m=A.stateNode;m&&(m=Wh(m),Br(A.stateNode,A.type,m))}}function tr(A){Sn?ua?ua.push(A):ua=[A]:Sn=A}function Nr(){if(Sn){var A=Sn,m=ua;if(ua=Sn=null,An(A),m)for(A=0;A<m.length;A++)An(m[A])}}function Pl(A,m){return A(m)}function ls(){}var hi=!1;function Di(A,m,b){if(hi)return A(m,b);hi=!0;try{return Pl(A,m,b)}finally{hi=!1,(Sn!==null||ua!==null)&&(ls(),Nr())}}function Lt(A,m){var b=A.stateNode;if(b===null)return null;var P=Wh(b);if(P===null)return null;b=P[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(P=!P.disabled)||(A=A.type,P=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!P;break e;default:A=!1}if(A)return null;if(b&&typeof b!="function")throw Error(r(231,m,typeof b));return b}var Qa=!1;if(l)try{var ha={};Object.defineProperty(ha,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",ha,ha),window.removeEventListener("test",ha,ha)}catch{Qa=!1}function Aa(A,m,b,P,R,V,ae,_e,Pe){var Xe=Array.prototype.slice.call(arguments,3);try{m.apply(b,Xe)}catch(ut){this.onError(ut)}}var fn=!1,mn=null,Is=!1,Fl=null,Vo={onError:function(A){fn=!0,mn=A}};function Mi(A,m,b,P,R,V,ae,_e,Pe){fn=!1,mn=null,Aa.apply(Vo,arguments)}function Li(A,m,b,P,R,V,ae,_e,Pe){if(Mi.apply(this,arguments),fn){if(fn){var Xe=mn;fn=!1,mn=null}else throw Error(r(198));Is||(Is=!0,Fl=Xe)}}function ws(A){var m=A,b=A;if(A.alternate)for(;m.return;)m=m.return;else{A=m;do m=A,(m.flags&4098)!==0&&(b=m.return),A=m.return;while(A)}return m.tag===3?b:null}function Ui(A){if(A.tag===13){var m=A.memoizedState;if(m===null&&(A=A.alternate,A!==null&&(m=A.memoizedState)),m!==null)return m.dehydrated}return null}function Ha(A){if(ws(A)!==A)throw Error(r(188))}function ao(A){var m=A.alternate;if(!m){if(m=ws(A),m===null)throw Error(r(188));return m!==A?null:A}for(var b=A,P=m;;){var R=b.return;if(R===null)break;var V=R.alternate;if(V===null){if(P=R.return,P!==null){b=P;continue}break}if(R.child===V.child){for(V=R.child;V;){if(V===b)return Ha(R),A;if(V===P)return Ha(R),m;V=V.sibling}throw Error(r(188))}if(b.return!==P.return)b=R,P=V;else{for(var ae=!1,_e=R.child;_e;){if(_e===b){ae=!0,b=R,P=V;break}if(_e===P){ae=!0,P=R,b=V;break}_e=_e.sibling}if(!ae){for(_e=V.child;_e;){if(_e===b){ae=!0,b=V,P=R;break}if(_e===P){ae=!0,P=V,b=R;break}_e=_e.sibling}if(!ae)throw Error(r(189))}}if(b.alternate!==P)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?A:m}function Tl(A){return A=ao(A),A!==null?Nc(A):null}function Nc(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var m=Nc(A);if(m!==null)return m;A=A.sibling}return null}var _c=e.unstable_scheduleCallback,Cc=e.unstable_cancelCallback,Vd=e.unstable_shouldYield,mf=e.unstable_requestPaint,pn=e.unstable_now,zp=e.unstable_getCurrentPriorityLevel,Ol=e.unstable_ImmediatePriority,Sh=e.unstable_UserBlockingPriority,Kd=e.unstable_NormalPriority,Bh=e.unstable_LowPriority,pf=e.unstable_IdlePriority,Sc=null,Ai=null;function Wd(A){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Sc,A,void 0,(A.current.flags&128)===128)}catch{}}var $a=Math.clz32?Math.clz32:xf,In=Math.log,gf=Math.LN2;function xf(A){return A>>>=0,A===0?32:31-(In(A)/gf|0)|0}var Bc=64,Il=4194304;function Ec(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function fa(A,m){var b=A.pendingLanes;if(b===0)return 0;var P=0,R=A.suspendedLanes,V=A.pingedLanes,ae=b&268435455;if(ae!==0){var _e=ae&~R;_e!==0?P=Ec(_e):(V&=ae,V!==0&&(P=Ec(V)))}else ae=b&~R,ae!==0?P=Ec(ae):V!==0&&(P=Ec(V));if(P===0)return 0;if(m!==0&&m!==P&&(m&R)===0&&(R=P&-P,V=m&-m,R>=V||R===16&&(V&4194240)!==0))return m;if((P&4)!==0&&(P|=b&16),m=A.entangledLanes,m!==0)for(A=A.entanglements,m&=P;0<m;)b=31-$a(m),R=1<<b,P|=A[b],m&=~R;return P}function Gd(A,m){switch(A){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(A,m){for(var b=A.suspendedLanes,P=A.pingedLanes,R=A.expirationTimes,V=A.pendingLanes;0<V;){var ae=31-$a(V),_e=1<<ae,Pe=R[ae];Pe===-1?((_e&b)===0||(_e&P)!==0)&&(R[ae]=Gd(_e,m)):Pe<=m&&(A.expiredLanes|=_e),V&=~_e}}function kc(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function Eh(){var A=Bc;return Bc<<=1,(Bc&4194240)===0&&(Bc=64),A}function kh(A){for(var m=[],b=0;31>b;b++)m.push(A);return m}function Dl(A,m,b){A.pendingLanes|=m,m!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,m=31-$a(m),A[m]=b}function Vp(A,m){var b=A.pendingLanes&~m;A.pendingLanes=m,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=m,A.mutableReadLanes&=m,A.entangledLanes&=m,m=A.entanglements;var P=A.eventTimes;for(A=A.expirationTimes;0<b;){var R=31-$a(b),V=1<<R;m[R]=0,P[R]=-1,A[R]=-1,b&=~V}}function Xd(A,m){var b=A.entangledLanes|=m;for(A=A.entanglements;b;){var P=31-$a(b),R=1<<P;R&m|A[P]&m&&(A[P]|=m),b&=~R}}var _r=0;function Yd(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var yf,Ph,vf,io,Pc,Ml=!1,Fc=[],gn=null,oo=null,Ri=null,Vt=new Map,Tc=new Map,lo=[],co="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fh(A,m){switch(A){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Vt.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(m.pointerId)}}function Ll(A,m,b,P,R,V){return A===null||A.nativeEvent!==V?(A={blockedOn:m,domEventName:b,eventSystemFlags:P,nativeEvent:V,targetContainers:[R]},m!==null&&(m=wu(m),m!==null&&Ph(m)),A):(A.eventSystemFlags|=P,m=A.targetContainers,R!==null&&m.indexOf(R)===-1&&m.push(R),A)}function Jd(A,m,b,P,R){switch(m){case"focusin":return gn=Ll(gn,A,m,b,P,R),!0;case"dragenter":return oo=Ll(oo,A,m,b,P,R),!0;case"mouseover":return Ri=Ll(Ri,A,m,b,P,R),!0;case"pointerover":var V=R.pointerId;return Vt.set(V,Ll(Vt.get(V)||null,A,m,b,P,R)),!0;case"gotpointercapture":return V=R.pointerId,Tc.set(V,Ll(Tc.get(V)||null,A,m,b,P,R)),!0}return!1}function Zd(A){var m=Gl(A.target);if(m!==null){var b=ws(m);if(b!==null){if(m=b.tag,m===13){if(m=Ui(b),m!==null){A.blockedOn=m,Pc(A.priority,function(){vf(b)});return}}else if(m===3&&b.stateNode.current.memoizedState.isDehydrated){A.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}A.blockedOn=null}function eu(A){if(A.blockedOn!==null)return!1;for(var m=A.targetContainers;0<m.length;){var b=ru(A.domEventName,A.eventSystemFlags,m[0],A.nativeEvent);if(b===null){b=A.nativeEvent;var P=new b.constructor(b.type,b);It=P,b.target.dispatchEvent(P),It=null}else return m=wu(b),m!==null&&Ph(m),A.blockedOn=b,!1;m.shift()}return!0}function bf(A,m,b){eu(A)&&b.delete(m)}function Kp(){Ml=!1,gn!==null&&eu(gn)&&(gn=null),oo!==null&&eu(oo)&&(oo=null),Ri!==null&&eu(Ri)&&(Ri=null),Vt.forEach(bf),Tc.forEach(bf)}function Ko(A,m){A.blockedOn===m&&(A.blockedOn=null,Ml||(Ml=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Kp)))}function Qi(A){function m(R){return Ko(R,A)}if(0<Fc.length){Ko(Fc[0],A);for(var b=1;b<Fc.length;b++){var P=Fc[b];P.blockedOn===A&&(P.blockedOn=null)}}for(gn!==null&&Ko(gn,A),oo!==null&&Ko(oo,A),Ri!==null&&Ko(Ri,A),Vt.forEach(m),Tc.forEach(m),b=0;b<lo.length;b++)P=lo[b],P.blockedOn===A&&(P.blockedOn=null);for(;0<lo.length&&(b=lo[0],b.blockedOn===null);)Zd(b),b.blockedOn===null&&lo.shift()}var qa=k.ReactCurrentBatchConfig,tu=!0;function Oc(A,m,b,P){var R=_r,V=qa.transition;qa.transition=null;try{_r=1,Ul(A,m,b,P)}finally{_r=R,qa.transition=V}}function Th(A,m,b,P){var R=_r,V=qa.transition;qa.transition=null;try{_r=4,Ul(A,m,b,P)}finally{_r=R,qa.transition=V}}function Ul(A,m,b,P){if(tu){var R=ru(A,m,b,P);if(R===null)zh(A,m,P,Ic,b),Fh(A,P);else if(Jd(R,A,m,b,P))P.stopPropagation();else if(Fh(A,P),m&4&&-1<co.indexOf(A)){for(;R!==null;){var V=wu(R);if(V!==null&&yf(V),V=ru(A,m,b,P),V===null&&zh(A,m,P,Ic,b),V===R)break;R=V}R!==null&&P.stopPropagation()}else zh(A,m,P,null,b)}}var Ic=null;function ru(A,m,b,P){if(Ic=null,A=Mr(P),A=Gl(A),A!==null)if(m=ws(A),m===null)A=null;else if(b=m.tag,b===13){if(A=Ui(m),A!==null)return A;A=null}else if(b===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;A=null}else m!==A&&(A=null);return Ic=A,null}function Oh(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zp()){case Ol:return 1;case Sh:return 4;case Kd:case Bh:return 16;case pf:return 536870912;default:return 16}default:return 16}}var Hi=null,fi=null,mi=null;function wf(){if(mi)return mi;var A,m=fi,b=m.length,P,R="value"in Hi?Hi.value:Hi.textContent,V=R.length;for(A=0;A<b&&m[A]===R[A];A++);var ae=b-A;for(P=1;P<=ae&&m[b-P]===R[V-P];P++);return mi=R.slice(A,1<P?1-P:void 0)}function $i(A){var m=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&m===13&&(A=13)):A=m,A===10&&(A=13),32<=A||A===13?A:0}function pa(){return!0}function nu(){return!1}function Xn(A){function m(b,P,R,V,ae){this._reactName=b,this._targetInst=R,this.type=P,this.nativeEvent=V,this.target=ae,this.currentTarget=null;for(var _e in A)A.hasOwnProperty(_e)&&(b=A[_e],this[_e]=b?b(V):V[_e]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?pa:nu,this.isPropagationStopped=nu,this}return re(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=pa)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=pa)},persist:function(){},isPersistent:pa}),m}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Xn(Rl),Dc=re({},Rl,{view:0,detail:0}),Ih=Xn(Dc),Mc,su,uo,Hl=re({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wt,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==uo&&(uo&&A.type==="mousemove"?(Mc=A.screenX-uo.screenX,su=A.screenY-uo.screenY):su=Mc=0,uo=A),Mc)},movementY:function(A){return"movementY"in A?A.movementY:su}}),au=Xn(Hl),jf=re({},Hl,{dataTransfer:0}),Wp=Xn(jf),iu=re({},Dc,{relatedTarget:0}),Wo=Xn(iu),Dh=re({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=Xn(Dh),Mh=re({},Rl,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),M=Xn(Mh),ne=re({},Rl,{data:0}),be=Xn(ne),Be={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},He={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},et={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ct(A){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(A):(A=et[A])?!!m[A]:!1}function wt(){return ct}var Dt=re({},Dc,{key:function(A){if(A.key){var m=Be[A.key]||A.key;if(m!=="Unidentified")return m}return A.type==="keypress"?(A=$i(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?He[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wt,charCode:function(A){return A.type==="keypress"?$i(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?$i(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),or=Xn(Dt),sr=re({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pr=Xn(sr),xn=re({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wt}),Bn=Xn(xn),Qn=re({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ds=Xn(Qn),cs=re({},Hl,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),qi=Xn(cs),za=[9,13,27,32],pi=l&&"CompositionEvent"in window,ql=null;l&&"documentMode"in document&&(ql=document.documentMode);var Lh=l&&"TextEvent"in window&&!ql,ou=l&&(!pi||ql&&8<ql&&11>=ql),Lc=" ",lu=!1;function cu(A,m){switch(A){case"keyup":return za.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var En=!1;function du(A,m){switch(A){case"compositionend":return Uc(m);case"keypress":return m.which!==32?null:(lu=!0,Lc);case"textInput":return A=m.data,A===Lc&&lu?null:A;default:return null}}function uu(A,m){if(En)return A==="compositionend"||!pi&&cu(A,m)?(A=wf(),mi=fi=Hi=null,En=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return ou&&m.locale!=="ko"?null:m.data;default:return null}}var hu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m==="input"?!!hu[A.type]:m==="textarea"}function Ys(A,m,b,P){tr(P),m=Sf(m,"onChange"),0<m.length&&(b=new Ql("onChange","change",null,b,P),A.push({event:b,listeners:m}))}var Rc=null,Go=null;function Nf(A){$h(A,0)}function Js(A){var m=Gc(A);if(we(m))return A}function fu(A,m){if(A==="change")return m}var Uh=!1;if(l){var mu;if(l){var ho="oninput"in document;if(!ho){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),ho=typeof zl.oninput=="function"}mu=ho}else mu=!1;Uh=mu&&(!document.documentMode||9<document.documentMode)}function Zs(){Rc&&(Rc.detachEvent("onpropertychange",Ms),Go=Rc=null)}function Ms(A){if(A.propertyName==="value"&&Js(Go)){var m=[];Ys(m,Go,A,Mr(A)),Di(Nf,m)}}function Vl(A,m,b){A==="focusin"?(Zs(),Rc=m,Go=b,Rc.attachEvent("onpropertychange",Ms)):A==="focusout"&&Zs()}function Xo(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Js(Go)}function Yo(A,m){if(A==="click")return Js(m)}function pu(A,m){if(A==="input"||A==="change")return Js(m)}function Jo(A,m){return A===m&&(A!==0||1/A===1/m)||A!==A&&m!==m}var Cr=typeof Object.is=="function"?Object.is:Jo;function Zo(A,m){if(Cr(A,m))return!0;if(typeof A!="object"||A===null||typeof m!="object"||m===null)return!1;var b=Object.keys(A),P=Object.keys(m);if(b.length!==P.length)return!1;for(P=0;P<b.length;P++){var R=b[P];if(!c.call(m,R)||!Cr(A[R],m[R]))return!1}return!0}function Ls(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function Va(A,m){var b=Ls(A);A=0;for(var P;b;){if(b.nodeType===3){if(P=A+b.textContent.length,A<=m&&P>=m)return{node:b,offset:m-A};A=P}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Ls(b)}}function Qc(A,m){return A&&m?A===m?!0:A&&A.nodeType===3?!1:m&&m.nodeType===3?Qc(A,m.parentNode):"contains"in A?A.contains(m):A.compareDocumentPosition?!!(A.compareDocumentPosition(m)&16):!1:!1}function Rh(){for(var A=window,m=Ie();m instanceof A.HTMLIFrameElement;){try{var b=typeof m.contentWindow.location.href=="string"}catch{b=!1}if(b)A=m.contentWindow;else break;m=Ie(A.document)}return m}function Hc(A){var m=A&&A.nodeName&&A.nodeName.toLowerCase();return m&&(m==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||m==="textarea"||A.contentEditable==="true")}function $c(A){var m=Rh(),b=A.focusedElem,P=A.selectionRange;if(m!==b&&b&&b.ownerDocument&&Qc(b.ownerDocument.documentElement,b)){if(P!==null&&Hc(b)){if(m=P.start,A=P.end,A===void 0&&(A=m),"selectionStart"in b)b.selectionStart=m,b.selectionEnd=Math.min(A,b.value.length);else if(A=(m=b.ownerDocument||document)&&m.defaultView||window,A.getSelection){A=A.getSelection();var R=b.textContent.length,V=Math.min(P.start,R);P=P.end===void 0?V:Math.min(P.end,R),!A.extend&&V>P&&(R=P,P=V,V=R),R=Va(b,V);var ae=Va(b,P);R&&ae&&(A.rangeCount!==1||A.anchorNode!==R.node||A.anchorOffset!==R.offset||A.focusNode!==ae.node||A.focusOffset!==ae.offset)&&(m=m.createRange(),m.setStart(R.node,R.offset),A.removeAllRanges(),V>P?(A.addRange(m),A.extend(ae.node,ae.offset)):(m.setEnd(ae.node,ae.offset),A.addRange(m)))}}for(m=[],A=b;A=A.parentNode;)A.nodeType===1&&m.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<m.length;b++)A=m[b],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var qc=l&&"documentMode"in document&&11>=document.documentMode,Ka=null,el=null,Ao=null,tl=!1;function rl(A,m,b){var P=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;tl||Ka==null||Ka!==Ie(P)||(P=Ka,"selectionStart"in P&&Hc(P)?P={start:P.selectionStart,end:P.selectionEnd}:(P=(P.ownerDocument&&P.ownerDocument.defaultView||window).getSelection(),P={anchorNode:P.anchorNode,anchorOffset:P.anchorOffset,focusNode:P.focusNode,focusOffset:P.focusOffset}),Ao&&Zo(Ao,P)||(Ao=P,P=Sf(el,"onSelect"),0<P.length&&(m=new Ql("onSelect","select",null,m,b),A.push({event:m,listeners:P}),m.target=Ka)))}function Kl(A,m){var b={};return b[A.toLowerCase()]=m.toLowerCase(),b["Webkit"+A]="webkit"+m,b["Moz"+A]="moz"+m,b}var js={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},ga={},zr={};l&&(zr=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Tr(A){if(ga[A])return ga[A];if(!js[A])return A;var m=js[A],b;for(b in m)if(m.hasOwnProperty(b)&&b in zr)return ga[A]=m[b];return A}var kn=Tr("animationend"),Hn=Tr("animationiteration"),fo=Tr("animationstart"),gu=Tr("transitionend"),zc=new Map,Qh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(A,m){zc.set(A,m),i(m,[A])}for(var xu=0;xu<Qh.length;xu++){var ea=Qh[xu],gi=ea.toLowerCase(),_f=ea[0].toUpperCase()+ea.slice(1);mo(gi,"on"+_f)}mo(kn,"onAnimationEnd"),mo(Hn,"onAnimationIteration"),mo(fo,"onAnimationStart"),mo("dblclick","onDoubleClick"),mo("focusin","onFocus"),mo("focusout","onBlur"),mo(gu,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ry=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function Hh(A,m,b){var P=A.type||"unknown-event";A.currentTarget=b,Li(P,m,void 0,A),A.currentTarget=null}function $h(A,m){m=(m&4)!==0;for(var b=0;b<A.length;b++){var P=A[b],R=P.event;P=P.listeners;e:{var V=void 0;if(m)for(var ae=P.length-1;0<=ae;ae--){var _e=P[ae],Pe=_e.instance,Xe=_e.currentTarget;if(_e=_e.listener,Pe!==V&&R.isPropagationStopped())break e;Hh(R,_e,Xe),V=Pe}else for(ae=0;ae<P.length;ae++){if(_e=P[ae],Pe=_e.instance,Xe=_e.currentTarget,_e=_e.listener,Pe!==V&&R.isPropagationStopped())break e;Hh(R,_e,Xe),V=Pe}}}if(Is)throw A=Fl,Is=!1,Fl=null,A}function Vr(A,m){var b=m[ya];b===void 0&&(b=m[ya]=new Set);var P=A+"__bubble";b.has(P)||(qh(m,A,2,!1),b.add(P))}function Cf(A,m,b){var P=0;m&&(P|=4),qh(b,A,P,m)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Vc(A){if(!A[yu]){A[yu]=!0,s.forEach(function(b){b!=="selectionchange"&&(ry.has(b)||Cf(b,!1,A),Cf(b,!0,A))});var m=A.nodeType===9?A:A.ownerDocument;m===null||m[yu]||(m[yu]=!0,Cf("selectionchange",!1,m))}}function qh(A,m,b,P){switch(Oh(m)){case 1:var R=Oc;break;case 4:R=Th;break;default:R=Ul}b=R.bind(null,m,b,A),R=void 0,!Qa||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(R=!0),P?R!==void 0?A.addEventListener(m,b,{capture:!0,passive:R}):A.addEventListener(m,b,!0):R!==void 0?A.addEventListener(m,b,{passive:R}):A.addEventListener(m,b,!1)}function zh(A,m,b,P,R){var V=P;if((m&1)===0&&(m&2)===0&&P!==null)e:for(;;){if(P===null)return;var ae=P.tag;if(ae===3||ae===4){var _e=P.stateNode.containerInfo;if(_e===R||_e.nodeType===8&&_e.parentNode===R)break;if(ae===4)for(ae=P.return;ae!==null;){var Pe=ae.tag;if((Pe===3||Pe===4)&&(Pe=ae.stateNode.containerInfo,Pe===R||Pe.nodeType===8&&Pe.parentNode===R))return;ae=ae.return}for(;_e!==null;){if(ae=Gl(_e),ae===null)return;if(Pe=ae.tag,Pe===5||Pe===6){P=V=ae;continue e}_e=_e.parentNode}}P=P.return}Di(function(){var Xe=V,ut=Mr(b),ht=[];e:{var dt=zc.get(A);if(dt!==void 0){var Ct=Ql,Pt=A;switch(A){case"keypress":if($i(b)===0)break e;case"keydown":case"keyup":Ct=or;break;case"focusin":Pt="focus",Ct=Wo;break;case"focusout":Pt="blur",Ct=Wo;break;case"beforeblur":case"afterblur":Ct=Wo;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ct=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ct=Wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ct=Bn;break;case kn:case Hn:case fo:Ct=$l;break;case gu:Ct=Ds;break;case"scroll":Ct=Ih;break;case"wheel":Ct=qi;break;case"copy":case"cut":case"paste":Ct=M;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ct=pr}var Tt=(m&4)!==0,es=!Tt&&A==="scroll",ze=Tt?dt!==null?dt+"Capture":null:dt;Tt=[];for(var De=Xe,Ke;De!==null;){Ke=De;var ft=Ke.stateNode;if(Ke.tag===5&&ft!==null&&(Ke=ft,ze!==null&&(ft=Lt(De,ze),ft!=null&&Tt.push(Vh(De,ft,Ke)))),es)break;De=De.return}0<Tt.length&&(dt=new Ct(dt,Pt,null,b,ut),ht.push({event:dt,listeners:Tt}))}}if((m&7)===0){e:{if(dt=A==="mouseover"||A==="pointerover",Ct=A==="mouseout"||A==="pointerout",dt&&b!==It&&(Pt=b.relatedTarget||b.fromElement)&&(Gl(Pt)||Pt[Us]))break e;if((Ct||dt)&&(dt=ut.window===ut?ut:(dt=ut.ownerDocument)?dt.defaultView||dt.parentWindow:window,Ct?(Pt=b.relatedTarget||b.toElement,Ct=Xe,Pt=Pt?Gl(Pt):null,Pt!==null&&(es=ws(Pt),Pt!==es||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(Ct=null,Pt=Xe),Ct!==Pt)){if(Tt=au,ft="onMouseLeave",ze="onMouseEnter",De="mouse",(A==="pointerout"||A==="pointerover")&&(Tt=pr,ft="onPointerLeave",ze="onPointerEnter",De="pointer"),es=Ct==null?dt:Gc(Ct),Ke=Pt==null?dt:Gc(Pt),dt=new Tt(ft,De+"leave",Ct,b,ut),dt.target=es,dt.relatedTarget=Ke,ft=null,Gl(ut)===Xe&&(Tt=new Tt(ze,De+"enter",Pt,b,ut),Tt.target=Ke,Tt.relatedTarget=es,ft=Tt),es=ft,Ct&&Pt)t:{for(Tt=Ct,ze=Pt,De=0,Ke=Tt;Ke;Ke=Kc(Ke))De++;for(Ke=0,ft=ze;ft;ft=Kc(ft))Ke++;for(;0<De-Ke;)Tt=Kc(Tt),De--;for(;0<Ke-De;)ze=Kc(ze),Ke--;for(;De--;){if(Tt===ze||ze!==null&&Tt===ze.alternate)break t;Tt=Kc(Tt),ze=Kc(ze)}Tt=null}else Tt=null;Ct!==null&&ny(ht,dt,Ct,Tt,!1),Pt!==null&&es!==null&&ny(ht,es,Pt,Tt,!0)}}e:{if(dt=Xe?Gc(Xe):window,Ct=dt.nodeName&&dt.nodeName.toLowerCase(),Ct==="select"||Ct==="input"&&dt.type==="file")var Ot=fu;else if(Au(dt))if(Uh)Ot=pu;else{Ot=Xo;var Qt=Vl}else(Ct=dt.nodeName)&&Ct.toLowerCase()==="input"&&(dt.type==="checkbox"||dt.type==="radio")&&(Ot=Yo);if(Ot&&(Ot=Ot(A,Xe))){Ys(ht,Ot,b,ut);break e}Qt&&Qt(A,dt,Xe),A==="focusout"&&(Qt=dt._wrapperState)&&Qt.controlled&&dt.type==="number"&&ie(dt,"number",dt.value)}switch(Qt=Xe?Gc(Xe):window,A){case"focusin":(Au(Qt)||Qt.contentEditable==="true")&&(Ka=Qt,el=Xe,Ao=null);break;case"focusout":Ao=el=Ka=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,rl(ht,b,ut);break;case"selectionchange":if(qc)break;case"keydown":case"keyup":rl(ht,b,ut)}var Ht;if(pi)e:{switch(A){case"compositionstart":var rr="onCompositionStart";break e;case"compositionend":rr="onCompositionEnd";break e;case"compositionupdate":rr="onCompositionUpdate";break e}rr=void 0}else En?cu(A,b)&&(rr="onCompositionEnd"):A==="keydown"&&b.keyCode===229&&(rr="onCompositionStart");rr&&(ou&&b.locale!=="ko"&&(En||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&En&&(Ht=wf()):(Hi=ut,fi="value"in Hi?Hi.value:Hi.textContent,En=!0)),Qt=Sf(Xe,rr),0<Qt.length&&(rr=new be(rr,A,null,b,ut),ht.push({event:rr,listeners:Qt}),Ht?rr.data=Ht:(Ht=Uc(b),Ht!==null&&(rr.data=Ht)))),(Ht=Lh?du(A,b):uu(A,b))&&(Xe=Sf(Xe,"onBeforeInput"),0<Xe.length&&(ut=new be("onBeforeInput","beforeinput",null,b,ut),ht.push({event:ut,listeners:Xe}),ut.data=Ht))}$h(ht,m)})}function Vh(A,m,b){return{instance:A,listener:m,currentTarget:b}}function Sf(A,m){for(var b=m+"Capture",P=[];A!==null;){var R=A,V=R.stateNode;R.tag===5&&V!==null&&(R=V,V=Lt(A,b),V!=null&&P.unshift(Vh(A,V,R)),V=Lt(A,m),V!=null&&P.push(Vh(A,V,R))),A=A.return}return P}function Kc(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function ny(A,m,b,P,R){for(var V=m._reactName,ae=[];b!==null&&b!==P;){var _e=b,Pe=_e.alternate,Xe=_e.stateNode;if(Pe!==null&&Pe===P)break;_e.tag===5&&Xe!==null&&(_e=Xe,R?(Pe=Lt(b,V),Pe!=null&&ae.unshift(Vh(b,Pe,_e))):R||(Pe=Lt(b,V),Pe!=null&&ae.push(Vh(b,Pe,_e)))),b=b.return}ae.length!==0&&A.push({event:m,listeners:ae})}var x2=/\r\n?/g,y2=/\u0000|\uFFFD/g;function sy(A){return(typeof A=="string"?A:""+A).replace(x2,`
`).replace(y2,"")}function Bf(A,m,b){if(m=sy(m),sy(A)!==m&&b)throw Error(r(425))}function vu(){}var Kh=null,Wc=null;function Gp(A,m){return A==="textarea"||A==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,ay=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,v2=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(A){return iy.resolve(null).then(A).catch(b2)}:Xp;function b2(A){setTimeout(function(){throw A})}function Yp(A,m){var b=m,P=0;do{var R=b.nextSibling;if(A.removeChild(b),R&&R.nodeType===8)if(b=R.data,b==="/$"){if(P===0){A.removeChild(R),Qi(m);return}P--}else b!=="$"&&b!=="$?"&&b!=="$!"||P++;b=R}while(b);Qi(m)}function ta(A){for(;A!=null;A=A.nextSibling){var m=A.nodeType;if(m===1||m===3)break;if(m===8){if(m=A.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return A}function xi(A){A=A.previousSibling;for(var m=0;A;){if(A.nodeType===8){var b=A.data;if(b==="$"||b==="$!"||b==="$?"){if(m===0)return A;m--}else b==="/$"&&m++}A=A.previousSibling}return null}var xa=Math.random().toString(36).slice(2),po="__reactFiber$"+xa,bu="__reactProps$"+xa,Us="__reactContainer$"+xa,ya="__reactEvents$"+xa,w2="__reactListeners$"+xa,j2="__reactHandles$"+xa;function Gl(A){var m=A[po];if(m)return m;for(var b=A.parentNode;b;){if(m=b[Us]||b[po]){if(b=m.alternate,m.child!==null||b!==null&&b.child!==null)for(A=xi(A);A!==null;){if(b=A[po])return b;A=xi(A)}return m}A=b,b=A.parentNode}return null}function wu(A){return A=A[po]||A[Us],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function Gc(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(r(33))}function Wh(A){return A[bu]||null}var Jp=[],nl=-1;function zi(A){return{current:A}}function Or(A){0>nl||(A.current=Jp[nl],Jp[nl]=null,nl--)}function Lr(A,m){nl++,Jp[nl]=A.current,A.current=m}var Xl={},Ns=zi(Xl),va=zi(!1),Xc=Xl;function ju(A,m){var b=A.type.contextTypes;if(!b)return Xl;var P=A.stateNode;if(P&&P.__reactInternalMemoizedUnmaskedChildContext===m)return P.__reactInternalMemoizedMaskedChildContext;var R={},V;for(V in b)R[V]=m[V];return P&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=m,A.__reactInternalMemoizedMaskedChildContext=R),R}function ba(A){return A=A.childContextTypes,A!=null}function Ef(){Or(va),Or(Ns)}function oy(A,m,b){if(Ns.current!==Xl)throw Error(r(168));Lr(Ns,m),Lr(va,b)}function Zp(A,m,b){var P=A.stateNode;if(m=m.childContextTypes,typeof P.getChildContext!="function")return b;P=P.getChildContext();for(var R in P)if(!(R in m))throw Error(r(108,fe(A)||"Unknown",R));return re({},b,P)}function Yc(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||Xl,Xc=Ns.current,Lr(Ns,A),Lr(va,va.current),!0}function ly(A,m,b){var P=A.stateNode;if(!P)throw Error(r(169));b?(A=Zp(A,m,Xc),P.__reactInternalMemoizedMergedChildContext=A,Or(va),Or(Ns),Lr(Ns,A)):Or(va),Lr(va,b)}var sl=null,Gh=!1,j=!1;function F(A){sl===null?sl=[A]:sl.push(A)}function H(A){Gh=!0,F(A)}function W(){if(!j&&sl!==null){j=!0;var A=0,m=_r;try{var b=sl;for(_r=1;A<b.length;A++){var P=b[A];do P=P(!0);while(P!==null)}sl=null,Gh=!1}catch(R){throw sl!==null&&(sl=sl.slice(A+1)),_c(Ol,W),R}finally{_r=m,j=!1}}return null}var te=[],se=0,oe=null,le=0,ue=[],ye=0,Ee=null,$e=1,qe="";function Me(A,m){te[se++]=le,te[se++]=oe,oe=A,le=m}function ot(A,m,b){ue[ye++]=$e,ue[ye++]=qe,ue[ye++]=Ee,Ee=A;var P=$e;A=qe;var R=32-$a(P)-1;P&=~(1<<R),b+=1;var V=32-$a(m)+R;if(30<V){var ae=R-R%5;V=(P&(1<<ae)-1).toString(32),P>>=ae,R-=ae,$e=1<<32-$a(m)+R|b<<R|P,qe=V+A}else $e=1<<V|b<<R|P,qe=A}function Ye(A){A.return!==null&&(Me(A,1),ot(A,1,0))}function Fe(A){for(;A===oe;)oe=te[--se],te[se]=null,le=te[--se],te[se]=null;for(;A===Ee;)Ee=ue[--ye],ue[ye]=null,qe=ue[--ye],ue[ye]=null,$e=ue[--ye],ue[ye]=null}var Te=null,nt=null,tt=!1,at=null;function jt(A,m){var b=wo(5,null,null,0);b.elementType="DELETED",b.stateNode=m,b.return=A,m=A.deletions,m===null?(A.deletions=[b],A.flags|=16):m.push(b)}function pt(A,m){switch(A.tag){case 5:var b=A.type;return m=m.nodeType!==1||b.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(A.stateNode=m,Te=A,nt=ta(m.firstChild),!0):!1;case 6:return m=A.pendingProps===""||m.nodeType!==3?null:m,m!==null?(A.stateNode=m,Te=A,nt=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(b=Ee!==null?{id:$e,overflow:qe}:null,A.memoizedState={dehydrated:m,treeContext:b,retryLane:1073741824},b=wo(18,null,null,0),b.stateNode=m,b.return=A,A.child=b,Te=A,nt=null,!0):!1;default:return!1}}function Ut(A){return(A.mode&1)!==0&&(A.flags&128)===0}function xt(A){if(tt){var m=nt;if(m){var b=m;if(!pt(A,m)){if(Ut(A))throw Error(r(418));m=ta(b.nextSibling);var P=Te;m&&pt(A,m)?jt(P,b):(A.flags=A.flags&-4097|2,tt=!1,Te=A)}}else{if(Ut(A))throw Error(r(418));A.flags=A.flags&-4097|2,tt=!1,Te=A}}}function wr(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;Te=A}function jr(A){if(A!==Te)return!1;if(!tt)return wr(A),tt=!0,!1;var m;if((m=A.tag!==3)&&!(m=A.tag!==5)&&(m=A.type,m=m!=="head"&&m!=="body"&&!Gp(A.type,A.memoizedProps)),m&&(m=nt)){if(Ut(A))throw xr(),Error(r(418));for(;m;)jt(A,m),m=ta(m.nextSibling)}if(wr(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));e:{for(A=A.nextSibling,m=0;A;){if(A.nodeType===8){var b=A.data;if(b==="/$"){if(m===0){nt=ta(A.nextSibling);break e}m--}else b!=="$"&&b!=="$!"&&b!=="$?"||m++}A=A.nextSibling}nt=null}}else nt=Te?ta(A.stateNode.nextSibling):null;return!0}function xr(){for(var A=nt;A;)A=ta(A.nextSibling)}function dr(){nt=Te=null,tt=!1}function Ir(A){at===null?at=[A]:at.push(A)}var Ur=k.ReactCurrentBatchConfig;function Jt(A,m,b){if(A=b.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var P=b.stateNode}if(!P)throw Error(r(147,A));var R=P,V=""+A;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===V?m.ref:(m=function(ae){var _e=R.refs;ae===null?delete _e[V]:_e[V]=ae},m._stringRef=V,m)}if(typeof A!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,A))}return A}function yn(A,m){throw A=Object.prototype.toString.call(m),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":A))}function ra(A){var m=A._init;return m(A._payload)}function Dn(A){function m(ze,De){if(A){var Ke=ze.deletions;Ke===null?(ze.deletions=[De],ze.flags|=16):Ke.push(De)}}function b(ze,De){if(!A)return null;for(;De!==null;)m(ze,De),De=De.sibling;return null}function P(ze,De){for(ze=new Map;De!==null;)De.key!==null?ze.set(De.key,De):ze.set(De.index,De),De=De.sibling;return ze}function R(ze,De){return ze=Iu(ze,De),ze.index=0,ze.sibling=null,ze}function V(ze,De,Ke){return ze.index=Ke,A?(Ke=ze.alternate,Ke!==null?(Ke=Ke.index,Ke<De?(ze.flags|=2,De):Ke):(ze.flags|=2,De)):(ze.flags|=1048576,De)}function ae(ze){return A&&ze.alternate===null&&(ze.flags|=2),ze}function _e(ze,De,Ke,ft){return De===null||De.tag!==6?(De=J2(Ke,ze.mode,ft),De.return=ze,De):(De=R(De,Ke),De.return=ze,De)}function Pe(ze,De,Ke,ft){var Ot=Ke.type;return Ot===I?ut(ze,De,Ke.props.children,ft,Ke.key):De!==null&&(De.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===z&&ra(Ot)===De.type)?(ft=R(De,Ke.props),ft.ref=Jt(ze,De,Ke),ft.return=ze,ft):(ft=By(Ke.type,Ke.key,Ke.props,null,ze.mode,ft),ft.ref=Jt(ze,De,Ke),ft.return=ze,ft)}function Xe(ze,De,Ke,ft){return De===null||De.tag!==4||De.stateNode.containerInfo!==Ke.containerInfo||De.stateNode.implementation!==Ke.implementation?(De=Z2(Ke,ze.mode,ft),De.return=ze,De):(De=R(De,Ke.children||[]),De.return=ze,De)}function ut(ze,De,Ke,ft,Ot){return De===null||De.tag!==7?(De=nA(Ke,ze.mode,ft,Ot),De.return=ze,De):(De=R(De,Ke),De.return=ze,De)}function ht(ze,De,Ke){if(typeof De=="string"&&De!==""||typeof De=="number")return De=J2(""+De,ze.mode,Ke),De.return=ze,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case C:return Ke=By(De.type,De.key,De.props,null,ze.mode,Ke),Ke.ref=Jt(ze,null,De),Ke.return=ze,Ke;case B:return De=Z2(De,ze.mode,Ke),De.return=ze,De;case z:var ft=De._init;return ht(ze,ft(De._payload),Ke)}if(Se(De)||q(De))return De=nA(De,ze.mode,Ke,null),De.return=ze,De;yn(ze,De)}return null}function dt(ze,De,Ke,ft){var Ot=De!==null?De.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return Ot!==null?null:_e(ze,De,""+Ke,ft);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case C:return Ke.key===Ot?Pe(ze,De,Ke,ft):null;case B:return Ke.key===Ot?Xe(ze,De,Ke,ft):null;case z:return Ot=Ke._init,dt(ze,De,Ot(Ke._payload),ft)}if(Se(Ke)||q(Ke))return Ot!==null?null:ut(ze,De,Ke,ft,null);yn(ze,Ke)}return null}function Ct(ze,De,Ke,ft,Ot){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return ze=ze.get(Ke)||null,_e(De,ze,""+ft,Ot);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case C:return ze=ze.get(ft.key===null?Ke:ft.key)||null,Pe(De,ze,ft,Ot);case B:return ze=ze.get(ft.key===null?Ke:ft.key)||null,Xe(De,ze,ft,Ot);case z:var Qt=ft._init;return Ct(ze,De,Ke,Qt(ft._payload),Ot)}if(Se(ft)||q(ft))return ze=ze.get(Ke)||null,ut(De,ze,ft,Ot,null);yn(De,ft)}return null}function Pt(ze,De,Ke,ft){for(var Ot=null,Qt=null,Ht=De,rr=De=0,$s=null;Ht!==null&&rr<Ke.length;rr++){Ht.index>rr?($s=Ht,Ht=null):$s=Ht.sibling;var Pr=dt(ze,Ht,Ke[rr],ft);if(Pr===null){Ht===null&&(Ht=$s);break}A&&Ht&&Pr.alternate===null&&m(ze,Ht),De=V(Pr,De,rr),Qt===null?Ot=Pr:Qt.sibling=Pr,Qt=Pr,Ht=$s}if(rr===Ke.length)return b(ze,Ht),tt&&Me(ze,rr),Ot;if(Ht===null){for(;rr<Ke.length;rr++)Ht=ht(ze,Ke[rr],ft),Ht!==null&&(De=V(Ht,De,rr),Qt===null?Ot=Ht:Qt.sibling=Ht,Qt=Ht);return tt&&Me(ze,rr),Ot}for(Ht=P(ze,Ht);rr<Ke.length;rr++)$s=Ct(Ht,ze,rr,Ke[rr],ft),$s!==null&&(A&&$s.alternate!==null&&Ht.delete($s.key===null?rr:$s.key),De=V($s,De,rr),Qt===null?Ot=$s:Qt.sibling=$s,Qt=$s);return A&&Ht.forEach(function(Du){return m(ze,Du)}),tt&&Me(ze,rr),Ot}function Tt(ze,De,Ke,ft){var Ot=q(Ke);if(typeof Ot!="function")throw Error(r(150));if(Ke=Ot.call(Ke),Ke==null)throw Error(r(151));for(var Qt=Ot=null,Ht=De,rr=De=0,$s=null,Pr=Ke.next();Ht!==null&&!Pr.done;rr++,Pr=Ke.next()){Ht.index>rr?($s=Ht,Ht=null):$s=Ht.sibling;var Du=dt(ze,Ht,Pr.value,ft);if(Du===null){Ht===null&&(Ht=$s);break}A&&Ht&&Du.alternate===null&&m(ze,Ht),De=V(Du,De,rr),Qt===null?Ot=Du:Qt.sibling=Du,Qt=Du,Ht=$s}if(Pr.done)return b(ze,Ht),tt&&Me(ze,rr),Ot;if(Ht===null){for(;!Pr.done;rr++,Pr=Ke.next())Pr=ht(ze,Pr.value,ft),Pr!==null&&(De=V(Pr,De,rr),Qt===null?Ot=Pr:Qt.sibling=Pr,Qt=Pr);return tt&&Me(ze,rr),Ot}for(Ht=P(ze,Ht);!Pr.done;rr++,Pr=Ke.next())Pr=Ct(Ht,ze,rr,Pr.value,ft),Pr!==null&&(A&&Pr.alternate!==null&&Ht.delete(Pr.key===null?rr:Pr.key),De=V(Pr,De,rr),Qt===null?Ot=Pr:Qt.sibling=Pr,Qt=Pr);return A&&Ht.forEach(function(JG){return m(ze,JG)}),tt&&Me(ze,rr),Ot}function es(ze,De,Ke,ft){if(typeof Ke=="object"&&Ke!==null&&Ke.type===I&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case C:e:{for(var Ot=Ke.key,Qt=De;Qt!==null;){if(Qt.key===Ot){if(Ot=Ke.type,Ot===I){if(Qt.tag===7){b(ze,Qt.sibling),De=R(Qt,Ke.props.children),De.return=ze,ze=De;break e}}else if(Qt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===z&&ra(Ot)===Qt.type){b(ze,Qt.sibling),De=R(Qt,Ke.props),De.ref=Jt(ze,Qt,Ke),De.return=ze,ze=De;break e}b(ze,Qt);break}else m(ze,Qt);Qt=Qt.sibling}Ke.type===I?(De=nA(Ke.props.children,ze.mode,ft,Ke.key),De.return=ze,ze=De):(ft=By(Ke.type,Ke.key,Ke.props,null,ze.mode,ft),ft.ref=Jt(ze,De,Ke),ft.return=ze,ze=ft)}return ae(ze);case B:e:{for(Qt=Ke.key;De!==null;){if(De.key===Qt)if(De.tag===4&&De.stateNode.containerInfo===Ke.containerInfo&&De.stateNode.implementation===Ke.implementation){b(ze,De.sibling),De=R(De,Ke.children||[]),De.return=ze,ze=De;break e}else{b(ze,De);break}else m(ze,De);De=De.sibling}De=Z2(Ke,ze.mode,ft),De.return=ze,ze=De}return ae(ze);case z:return Qt=Ke._init,es(ze,De,Qt(Ke._payload),ft)}if(Se(Ke))return Pt(ze,De,Ke,ft);if(q(Ke))return Tt(ze,De,Ke,ft);yn(ze,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,De!==null&&De.tag===6?(b(ze,De.sibling),De=R(De,Ke),De.return=ze,ze=De):(b(ze,De),De=J2(Ke,ze.mode,ft),De.return=ze,ze=De),ae(ze)):b(ze,De)}return es}var Yn=Dn(!0),Er=Dn(!1),Rs=zi(null),Qs=null,vn=null,Jn=null;function _s(){Jn=vn=Qs=null}function wa(A){var m=Rs.current;Or(Rs),A._currentValue=m}function yi(A,m,b){for(;A!==null;){var P=A.alternate;if((A.childLanes&m)!==m?(A.childLanes|=m,P!==null&&(P.childLanes|=m)):P!==null&&(P.childLanes&m)!==m&&(P.childLanes|=m),A===b)break;A=A.return}}function bn(A,m){Qs=A,Jn=vn=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&m)!==0&&(ji=!0),A.firstContext=null)}function $n(A){var m=A._currentValue;if(Jn!==A)if(A={context:A,memoizedValue:m,next:null},vn===null){if(Qs===null)throw Error(r(308));vn=A,Qs.dependencies={lanes:0,firstContext:A}}else vn=vn.next=A;return m}var Wa=null;function Yl(A){Wa===null?Wa=[A]:Wa.push(A)}function al(A,m,b,P){var R=m.interleaved;return R===null?(b.next=b,Yl(m)):(b.next=R.next,R.next=b),m.interleaved=b,kr(A,P)}function kr(A,m){A.lanes|=m;var b=A.alternate;for(b!==null&&(b.lanes|=m),b=A,A=A.return;A!==null;)A.childLanes|=m,b=A.alternate,b!==null&&(b.childLanes|=m),b=A,A=A.return;return b.tag===3?b.stateNode:null}var go=!1;function kf(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eg(A,m){A=A.updateQueue,m.updateQueue===A&&(m.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function vi(A,m){return{eventTime:A,lane:m,tag:0,payload:null,callback:null,next:null}}function bi(A,m,b){var P=A.updateQueue;if(P===null)return null;if(P=P.shared,(Sr&2)!==0){var R=P.pending;return R===null?m.next=m:(m.next=R.next,R.next=m),P.pending=m,kr(A,b)}return R=P.interleaved,R===null?(m.next=m,Yl(P)):(m.next=R.next,R.next=m),P.interleaved=m,kr(A,b)}function Jc(A,m,b){if(m=m.updateQueue,m!==null&&(m=m.shared,(b&4194240)!==0)){var P=m.lanes;P&=A.pendingLanes,b|=P,m.lanes=b,Xd(A,b)}}function wi(A,m){var b=A.updateQueue,P=A.alternate;if(P!==null&&(P=P.updateQueue,b===P)){var R=null,V=null;if(b=b.firstBaseUpdate,b!==null){do{var ae={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};V===null?R=V=ae:V=V.next=ae,b=b.next}while(b!==null);V===null?R=V=m:V=V.next=m}else R=V=m;b={baseState:P.baseState,firstBaseUpdate:R,lastBaseUpdate:V,shared:P.shared,effects:P.effects},A.updateQueue=b;return}A=b.lastBaseUpdate,A===null?b.firstBaseUpdate=m:A.next=m,b.lastBaseUpdate=m}function il(A,m,b,P){var R=A.updateQueue;go=!1;var V=R.firstBaseUpdate,ae=R.lastBaseUpdate,_e=R.shared.pending;if(_e!==null){R.shared.pending=null;var Pe=_e,Xe=Pe.next;Pe.next=null,ae===null?V=Xe:ae.next=Xe,ae=Pe;var ut=A.alternate;ut!==null&&(ut=ut.updateQueue,_e=ut.lastBaseUpdate,_e!==ae&&(_e===null?ut.firstBaseUpdate=Xe:_e.next=Xe,ut.lastBaseUpdate=Pe))}if(V!==null){var ht=R.baseState;ae=0,ut=Xe=Pe=null,_e=V;do{var dt=_e.lane,Ct=_e.eventTime;if((P&dt)===dt){ut!==null&&(ut=ut.next={eventTime:Ct,lane:0,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null});e:{var Pt=A,Tt=_e;switch(dt=m,Ct=b,Tt.tag){case 1:if(Pt=Tt.payload,typeof Pt=="function"){ht=Pt.call(Ct,ht,dt);break e}ht=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Tt.payload,dt=typeof Pt=="function"?Pt.call(Ct,ht,dt):Pt,dt==null)break e;ht=re({},ht,dt);break e;case 2:go=!0}}_e.callback!==null&&_e.lane!==0&&(A.flags|=64,dt=R.effects,dt===null?R.effects=[_e]:dt.push(_e))}else Ct={eventTime:Ct,lane:dt,tag:_e.tag,payload:_e.payload,callback:_e.callback,next:null},ut===null?(Xe=ut=Ct,Pe=ht):ut=ut.next=Ct,ae|=dt;if(_e=_e.next,_e===null){if(_e=R.shared.pending,_e===null)break;dt=_e,_e=dt.next,dt.next=null,R.lastBaseUpdate=dt,R.shared.pending=null}}while(!0);if(ut===null&&(Pe=ht),R.baseState=Pe,R.firstBaseUpdate=Xe,R.lastBaseUpdate=ut,m=R.shared.interleaved,m!==null){R=m;do ae|=R.lane,R=R.next;while(R!==m)}else V===null&&(R.shared.lanes=0);Zh|=ae,A.lanes=ae,A.memoizedState=ht}}function Zc(A,m,b){if(A=m.effects,m.effects=null,A!==null)for(m=0;m<A.length;m++){var P=A[m],R=P.callback;if(R!==null){if(P.callback=null,P=b,typeof R!="function")throw Error(r(191,R));R.call(P)}}}var Nu={},Ga=zi(Nu),_u=zi(Nu),Jl=zi(Nu);function ol(A){if(A===Nu)throw Error(r(174));return A}function Cu(A,m){switch(Lr(Jl,m),Lr(_u,A),Lr(Ga,Nu),A=m.nodeType,A){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Je(null,"");break;default:A=A===8?m.parentNode:m,m=A.namespaceURI||null,A=A.tagName,m=Je(m,A)}Or(Ga),Lr(Ga,m)}function xo(){Or(Ga),Or(_u),Or(Jl)}function cy(A){ol(Jl.current);var m=ol(Ga.current),b=Je(m,A.type);m!==b&&(Lr(_u,A),Lr(Ga,b))}function tg(A){_u.current===A&&(Or(Ga),Or(_u))}var en=zi(0);function Vi(A){for(var m=A;m!==null;){if(m.tag===13){var b=m.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var rg=[];function ng(){for(var A=0;A<rg.length;A++)rg[A]._workInProgressVersionPrimary=null;rg.length=0}var Pf=k.ReactCurrentDispatcher,Ff=k.ReactCurrentBatchConfig,yo=0,an=null,qn=null,Mn=null,Su=!1,ll=!1,Bu=0,N2=0;function Zn(){throw Error(r(321))}function Tf(A,m){if(m===null)return!1;for(var b=0;b<m.length&&b<A.length;b++)if(!Cr(A[b],m[b]))return!1;return!0}function Xh(A,m,b,P,R,V){if(yo=V,an=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Pf.current=A===null||A.memoizedState===null?NG:_G,A=b(P,R),ll){V=0;do{if(ll=!1,Bu=0,25<=V)throw Error(r(301));V+=1,Mn=qn=null,m.updateQueue=null,Pf.current=CG,A=b(P,R)}while(ll)}if(Pf.current=fy,m=qn!==null&&qn.next!==null,yo=0,Mn=qn=an=null,Su=!1,m)throw Error(r(300));return A}function vo(){var A=Bu!==0;return Bu=0,A}function Ki(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?an.memoizedState=Mn=A:Mn=Mn.next=A,Mn}function Xa(){if(qn===null){var A=an.alternate;A=A!==null?A.memoizedState:null}else A=qn.next;var m=Mn===null?an.memoizedState:Mn.next;if(m!==null)Mn=m,qn=A;else{if(A===null)throw Error(r(310));qn=A,A={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},Mn===null?an.memoizedState=Mn=A:Mn=Mn.next=A}return Mn}function Yh(A,m){return typeof m=="function"?m(A):m}function Of(A){var m=Xa(),b=m.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=A;var P=qn,R=P.baseQueue,V=b.pending;if(V!==null){if(R!==null){var ae=R.next;R.next=V.next,V.next=ae}P.baseQueue=R=V,b.pending=null}if(R!==null){V=R.next,P=P.baseState;var _e=ae=null,Pe=null,Xe=V;do{var ut=Xe.lane;if((yo&ut)===ut)Pe!==null&&(Pe=Pe.next={lane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),P=Xe.hasEagerState?Xe.eagerState:A(P,Xe.action);else{var ht={lane:ut,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null};Pe===null?(_e=Pe=ht,ae=P):Pe=Pe.next=ht,an.lanes|=ut,Zh|=ut}Xe=Xe.next}while(Xe!==null&&Xe!==V);Pe===null?ae=P:Pe.next=_e,Cr(P,m.memoizedState)||(ji=!0),m.memoizedState=P,m.baseState=ae,m.baseQueue=Pe,b.lastRenderedState=P}if(A=b.interleaved,A!==null){R=A;do V=R.lane,an.lanes|=V,Zh|=V,R=R.next;while(R!==A)}else R===null&&(b.lanes=0);return[m.memoizedState,b.dispatch]}function Zl(A){var m=Xa(),b=m.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=A;var P=b.dispatch,R=b.pending,V=m.memoizedState;if(R!==null){b.pending=null;var ae=R=R.next;do V=A(V,ae.action),ae=ae.next;while(ae!==R);Cr(V,m.memoizedState)||(ji=!0),m.memoizedState=V,m.baseQueue===null&&(m.baseState=V),b.lastRenderedState=V}return[V,P]}function dy(){}function sg(A,m){var b=an,P=Xa(),R=m(),V=!Cr(P.memoizedState,R);if(V&&(P.memoizedState=R,ji=!0),P=P.queue,Mf(hy.bind(null,b,P,A),[A]),P.getSnapshot!==m||V||Mn!==null&&Mn.memoizedState.tag&1){if(b.flags|=2048,Ya(9,ag.bind(null,b,P,R,m),void 0,null),Hs===null)throw Error(r(349));(yo&30)!==0||uy(b,m,R)}return R}function uy(A,m,b){A.flags|=16384,A={getSnapshot:m,value:b},m=an.updateQueue,m===null?(m={lastEffect:null,stores:null},an.updateQueue=m,m.stores=[A]):(b=m.stores,b===null?m.stores=[A]:b.push(A))}function ag(A,m,b,P){m.value=b,m.getSnapshot=P,Eu(m)&&If(A)}function hy(A,m,b){return b(function(){Eu(m)&&If(A)})}function Eu(A){var m=A.getSnapshot;A=A.value;try{var b=m();return!Cr(A,b)}catch{return!0}}function If(A){var m=kr(A,1);m!==null&&Al(m,A,1,-1)}function Jh(A){var m=Ki();return typeof A=="function"&&(A=A()),m.memoizedState=m.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:A},m.queue=A,A=A.dispatch=jG.bind(null,an,A),[m.memoizedState,A]}function Ya(A,m,b,P){return A={tag:A,create:m,destroy:b,deps:P,next:null},m=an.updateQueue,m===null?(m={lastEffect:null,stores:null},an.updateQueue=m,m.lastEffect=A.next=A):(b=m.lastEffect,b===null?m.lastEffect=A.next=A:(P=b.next,b.next=A,A.next=P,m.lastEffect=A)),A}function cl(){return Xa().memoizedState}function Wi(A,m,b,P){var R=Ki();an.flags|=A,R.memoizedState=Ya(1|m,b,void 0,P===void 0?null:P)}function ed(A,m,b,P){var R=Xa();P=P===void 0?null:P;var V=void 0;if(qn!==null){var ae=qn.memoizedState;if(V=ae.destroy,P!==null&&Tf(P,ae.deps)){R.memoizedState=Ya(m,b,V,P);return}}an.flags|=A,R.memoizedState=Ya(1|m,b,V,P)}function Df(A,m){return Wi(8390656,8,A,m)}function Mf(A,m){return ed(2048,8,A,m)}function Ay(A,m){return ed(4,2,A,m)}function Lf(A,m){return ed(4,4,A,m)}function Uf(A,m){if(typeof m=="function")return A=A(),m(A),function(){m(null)};if(m!=null)return A=A(),m.current=A,function(){m.current=null}}function u6(A,m,b){return b=b!=null?b.concat([A]):null,ed(4,4,Uf.bind(null,m,A),b)}function _2(){}function h6(A,m){var b=Xa();m=m===void 0?null:m;var P=b.memoizedState;return P!==null&&m!==null&&Tf(m,P[1])?P[0]:(b.memoizedState=[A,m],A)}function A6(A,m){var b=Xa();m=m===void 0?null:m;var P=b.memoizedState;return P!==null&&m!==null&&Tf(m,P[1])?P[0]:(A=A(),b.memoizedState=[A,m],A)}function f6(A,m,b){return(yo&21)===0?(A.baseState&&(A.baseState=!1,ji=!0),A.memoizedState=b):(Cr(b,m)||(b=Eh(),an.lanes|=b,Zh|=b,A.baseState=!0),m)}function bG(A,m){var b=_r;_r=b!==0&&4>b?b:4,A(!0);var P=Ff.transition;Ff.transition={};try{A(!1),m()}finally{_r=b,Ff.transition=P}}function m6(){return Xa().memoizedState}function wG(A,m,b){var P=Tu(A);if(b={lane:P,action:b,hasEagerState:!1,eagerState:null,next:null},p6(A))g6(m,b);else if(b=al(A,m,b,P),b!==null){var R=Za();Al(b,A,P,R),x6(b,m,P)}}function jG(A,m,b){var P=Tu(A),R={lane:P,action:b,hasEagerState:!1,eagerState:null,next:null};if(p6(A))g6(m,R);else{var V=A.alternate;if(A.lanes===0&&(V===null||V.lanes===0)&&(V=m.lastRenderedReducer,V!==null))try{var ae=m.lastRenderedState,_e=V(ae,b);if(R.hasEagerState=!0,R.eagerState=_e,Cr(_e,ae)){var Pe=m.interleaved;Pe===null?(R.next=R,Yl(m)):(R.next=Pe.next,Pe.next=R),m.interleaved=R;return}}catch{}finally{}b=al(A,m,R,P),b!==null&&(R=Za(),Al(b,A,P,R),x6(b,m,P))}}function p6(A){var m=A.alternate;return A===an||m!==null&&m===an}function g6(A,m){ll=Su=!0;var b=A.pending;b===null?m.next=m:(m.next=b.next,b.next=m),A.pending=m}function x6(A,m,b){if((b&4194240)!==0){var P=m.lanes;P&=A.pendingLanes,b|=P,m.lanes=b,Xd(A,b)}}var fy={readContext:$n,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},NG={readContext:$n,useCallback:function(A,m){return Ki().memoizedState=[A,m===void 0?null:m],A},useContext:$n,useEffect:Df,useImperativeHandle:function(A,m,b){return b=b!=null?b.concat([A]):null,Wi(4194308,4,Uf.bind(null,m,A),b)},useLayoutEffect:function(A,m){return Wi(4194308,4,A,m)},useInsertionEffect:function(A,m){return Wi(4,2,A,m)},useMemo:function(A,m){var b=Ki();return m=m===void 0?null:m,A=A(),b.memoizedState=[A,m],A},useReducer:function(A,m,b){var P=Ki();return m=b!==void 0?b(m):m,P.memoizedState=P.baseState=m,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:m},P.queue=A,A=A.dispatch=wG.bind(null,an,A),[P.memoizedState,A]},useRef:function(A){var m=Ki();return A={current:A},m.memoizedState=A},useState:Jh,useDebugValue:_2,useDeferredValue:function(A){return Ki().memoizedState=A},useTransition:function(){var A=Jh(!1),m=A[0];return A=bG.bind(null,A[1]),Ki().memoizedState=A,[m,A]},useMutableSource:function(){},useSyncExternalStore:function(A,m,b){var P=an,R=Ki();if(tt){if(b===void 0)throw Error(r(407));b=b()}else{if(b=m(),Hs===null)throw Error(r(349));(yo&30)!==0||uy(P,m,b)}R.memoizedState=b;var V={value:b,getSnapshot:m};return R.queue=V,Df(hy.bind(null,P,V,A),[A]),P.flags|=2048,Ya(9,ag.bind(null,P,V,b,m),void 0,null),b},useId:function(){var A=Ki(),m=Hs.identifierPrefix;if(tt){var b=qe,P=$e;b=(P&~(1<<32-$a(P)-1)).toString(32)+b,m=":"+m+"R"+b,b=Bu++,0<b&&(m+="H"+b.toString(32)),m+=":"}else b=N2++,m=":"+m+"r"+b.toString(32)+":";return A.memoizedState=m},unstable_isNewReconciler:!1},_G={readContext:$n,useCallback:h6,useContext:$n,useEffect:Mf,useImperativeHandle:u6,useInsertionEffect:Ay,useLayoutEffect:Lf,useMemo:A6,useReducer:Of,useRef:cl,useState:function(){return Of(Yh)},useDebugValue:_2,useDeferredValue:function(A){var m=Xa();return f6(m,qn.memoizedState,A)},useTransition:function(){var A=Of(Yh)[0],m=Xa().memoizedState;return[A,m]},useMutableSource:dy,useSyncExternalStore:sg,useId:m6,unstable_isNewReconciler:!1},CG={readContext:$n,useCallback:h6,useContext:$n,useEffect:Mf,useImperativeHandle:u6,useInsertionEffect:Ay,useLayoutEffect:Lf,useMemo:A6,useReducer:Zl,useRef:cl,useState:function(){return Zl(Yh)},useDebugValue:_2,useDeferredValue:function(A){var m=Xa();return qn===null?m.memoizedState=A:f6(m,qn.memoizedState,A)},useTransition:function(){var A=Zl(Yh)[0],m=Xa().memoizedState;return[A,m]},useMutableSource:dy,useSyncExternalStore:sg,useId:m6,unstable_isNewReconciler:!1};function dl(A,m){if(A&&A.defaultProps){m=re({},m),A=A.defaultProps;for(var b in A)m[b]===void 0&&(m[b]=A[b]);return m}return m}function C2(A,m,b,P){m=A.memoizedState,b=b(P,m),b=b==null?m:re({},m,b),A.memoizedState=b,A.lanes===0&&(A.updateQueue.baseState=b)}var my={isMounted:function(A){return(A=A._reactInternals)?ws(A)===A:!1},enqueueSetState:function(A,m,b){A=A._reactInternals;var P=Za(),R=Tu(A),V=vi(P,R);V.payload=m,b!=null&&(V.callback=b),m=bi(A,V,R),m!==null&&(Al(m,A,R,P),Jc(m,A,R))},enqueueReplaceState:function(A,m,b){A=A._reactInternals;var P=Za(),R=Tu(A),V=vi(P,R);V.tag=1,V.payload=m,b!=null&&(V.callback=b),m=bi(A,V,R),m!==null&&(Al(m,A,R,P),Jc(m,A,R))},enqueueForceUpdate:function(A,m){A=A._reactInternals;var b=Za(),P=Tu(A),R=vi(b,P);R.tag=2,m!=null&&(R.callback=m),m=bi(A,R,P),m!==null&&(Al(m,A,P,b),Jc(m,A,P))}};function y6(A,m,b,P,R,V,ae){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(P,V,ae):m.prototype&&m.prototype.isPureReactComponent?!Zo(b,P)||!Zo(R,V):!0}function v6(A,m,b){var P=!1,R=Xl,V=m.contextType;return typeof V=="object"&&V!==null?V=$n(V):(R=ba(m)?Xc:Ns.current,P=m.contextTypes,V=(P=P!=null)?ju(A,R):Xl),m=new m(b,V),A.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=my,A.stateNode=m,m._reactInternals=A,P&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=R,A.__reactInternalMemoizedMaskedChildContext=V),m}function b6(A,m,b,P){A=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(b,P),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(b,P),m.state!==A&&my.enqueueReplaceState(m,m.state,null)}function S2(A,m,b,P){var R=A.stateNode;R.props=b,R.state=A.memoizedState,R.refs={},kf(A);var V=m.contextType;typeof V=="object"&&V!==null?R.context=$n(V):(V=ba(m)?Xc:Ns.current,R.context=ju(A,V)),R.state=A.memoizedState,V=m.getDerivedStateFromProps,typeof V=="function"&&(C2(A,m,V,b),R.state=A.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&my.enqueueReplaceState(R,R.state,null),il(A,b,R,P),R.state=A.memoizedState),typeof R.componentDidMount=="function"&&(A.flags|=4194308)}function Rf(A,m){try{var b="",P=m;do b+=X(P),P=P.return;while(P);var R=b}catch(V){R=`
Error generating stack: `+V.message+`
`+V.stack}return{value:A,source:m,stack:R,digest:null}}function B2(A,m,b){return{value:A,source:null,stack:b??null,digest:m??null}}function E2(A,m){try{console.error(m.value)}catch(b){setTimeout(function(){throw b})}}var SG=typeof WeakMap=="function"?WeakMap:Map;function w6(A,m,b){b=vi(-1,b),b.tag=3,b.payload={element:null};var P=m.value;return b.callback=function(){wy||(wy=!0,q2=P),E2(A,m)},b}function j6(A,m,b){b=vi(-1,b),b.tag=3;var P=A.type.getDerivedStateFromError;if(typeof P=="function"){var R=m.value;b.payload=function(){return P(R)},b.callback=function(){E2(A,m)}}var V=A.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(b.callback=function(){E2(A,m),typeof P!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var ae=m.stack;this.componentDidCatch(m.value,{componentStack:ae!==null?ae:""})}),b}function N6(A,m,b){var P=A.pingCache;if(P===null){P=A.pingCache=new SG;var R=new Set;P.set(m,R)}else R=P.get(m),R===void 0&&(R=new Set,P.set(m,R));R.has(b)||(R.add(b),A=QG.bind(null,A,m,b),m.then(A,A))}function _6(A){do{var m;if((m=A.tag===13)&&(m=A.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return A;A=A.return}while(A!==null);return null}function C6(A,m,b,P,R){return(A.mode&1)===0?(A===m?A.flags|=65536:(A.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(m=vi(-1,1),m.tag=2,bi(b,m,1))),b.lanes|=1),A):(A.flags|=65536,A.lanes=R,A)}var BG=k.ReactCurrentOwner,ji=!1;function Ja(A,m,b,P){m.child=A===null?Er(m,null,b,P):Yn(m,A.child,b,P)}function S6(A,m,b,P,R){b=b.render;var V=m.ref;return bn(m,R),P=Xh(A,m,b,P,V,R),b=vo(),A!==null&&!ji?(m.updateQueue=A.updateQueue,m.flags&=-2053,A.lanes&=~R,td(A,m,R)):(tt&&b&&Ye(m),m.flags|=1,Ja(A,m,P,R),m.child)}function B6(A,m,b,P,R){if(A===null){var V=b.type;return typeof V=="function"&&!Y2(V)&&V.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(m.tag=15,m.type=V,E6(A,m,V,P,R)):(A=By(b.type,null,P,m,m.mode,R),A.ref=m.ref,A.return=m,m.child=A)}if(V=A.child,(A.lanes&R)===0){var ae=V.memoizedProps;if(b=b.compare,b=b!==null?b:Zo,b(ae,P)&&A.ref===m.ref)return td(A,m,R)}return m.flags|=1,A=Iu(V,P),A.ref=m.ref,A.return=m,m.child=A}function E6(A,m,b,P,R){if(A!==null){var V=A.memoizedProps;if(Zo(V,P)&&A.ref===m.ref)if(ji=!1,m.pendingProps=P=V,(A.lanes&R)!==0)(A.flags&131072)!==0&&(ji=!0);else return m.lanes=A.lanes,td(A,m,R)}return k2(A,m,b,P,R)}function k6(A,m,b){var P=m.pendingProps,R=P.children,V=A!==null?A.memoizedState:null;if(P.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Hf,Gi),Gi|=b;else{if((b&1073741824)===0)return A=V!==null?V.baseLanes|b:b,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:A,cachePool:null,transitions:null},m.updateQueue=null,Lr(Hf,Gi),Gi|=A,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},P=V!==null?V.baseLanes:b,Lr(Hf,Gi),Gi|=P}else V!==null?(P=V.baseLanes|b,m.memoizedState=null):P=b,Lr(Hf,Gi),Gi|=P;return Ja(A,m,R,b),m.child}function P6(A,m){var b=m.ref;(A===null&&b!==null||A!==null&&A.ref!==b)&&(m.flags|=512,m.flags|=2097152)}function k2(A,m,b,P,R){var V=ba(b)?Xc:Ns.current;return V=ju(m,V),bn(m,R),b=Xh(A,m,b,P,V,R),P=vo(),A!==null&&!ji?(m.updateQueue=A.updateQueue,m.flags&=-2053,A.lanes&=~R,td(A,m,R)):(tt&&P&&Ye(m),m.flags|=1,Ja(A,m,b,R),m.child)}function F6(A,m,b,P,R){if(ba(b)){var V=!0;Yc(m)}else V=!1;if(bn(m,R),m.stateNode===null)gy(A,m),v6(m,b,P),S2(m,b,P,R),P=!0;else if(A===null){var ae=m.stateNode,_e=m.memoizedProps;ae.props=_e;var Pe=ae.context,Xe=b.contextType;typeof Xe=="object"&&Xe!==null?Xe=$n(Xe):(Xe=ba(b)?Xc:Ns.current,Xe=ju(m,Xe));var ut=b.getDerivedStateFromProps,ht=typeof ut=="function"||typeof ae.getSnapshotBeforeUpdate=="function";ht||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(_e!==P||Pe!==Xe)&&b6(m,ae,P,Xe),go=!1;var dt=m.memoizedState;ae.state=dt,il(m,P,ae,R),Pe=m.memoizedState,_e!==P||dt!==Pe||va.current||go?(typeof ut=="function"&&(C2(m,b,ut,P),Pe=m.memoizedState),(_e=go||y6(m,b,_e,P,dt,Pe,Xe))?(ht||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=P,m.memoizedState=Pe),ae.props=P,ae.state=Pe,ae.context=Xe,P=_e):(typeof ae.componentDidMount=="function"&&(m.flags|=4194308),P=!1)}else{ae=m.stateNode,eg(A,m),_e=m.memoizedProps,Xe=m.type===m.elementType?_e:dl(m.type,_e),ae.props=Xe,ht=m.pendingProps,dt=ae.context,Pe=b.contextType,typeof Pe=="object"&&Pe!==null?Pe=$n(Pe):(Pe=ba(b)?Xc:Ns.current,Pe=ju(m,Pe));var Ct=b.getDerivedStateFromProps;(ut=typeof Ct=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(_e!==ht||dt!==Pe)&&b6(m,ae,P,Pe),go=!1,dt=m.memoizedState,ae.state=dt,il(m,P,ae,R);var Pt=m.memoizedState;_e!==ht||dt!==Pt||va.current||go?(typeof Ct=="function"&&(C2(m,b,Ct,P),Pt=m.memoizedState),(Xe=go||y6(m,b,Xe,P,dt,Pt,Pe)||!1)?(ut||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(P,Pt,Pe),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(P,Pt,Pe)),typeof ae.componentDidUpdate=="function"&&(m.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ae.componentDidUpdate!="function"||_e===A.memoizedProps&&dt===A.memoizedState||(m.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||_e===A.memoizedProps&&dt===A.memoizedState||(m.flags|=1024),m.memoizedProps=P,m.memoizedState=Pt),ae.props=P,ae.state=Pt,ae.context=Pe,P=Xe):(typeof ae.componentDidUpdate!="function"||_e===A.memoizedProps&&dt===A.memoizedState||(m.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||_e===A.memoizedProps&&dt===A.memoizedState||(m.flags|=1024),P=!1)}return P2(A,m,b,P,V,R)}function P2(A,m,b,P,R,V){P6(A,m);var ae=(m.flags&128)!==0;if(!P&&!ae)return R&&ly(m,b,!1),td(A,m,V);P=m.stateNode,BG.current=m;var _e=ae&&typeof b.getDerivedStateFromError!="function"?null:P.render();return m.flags|=1,A!==null&&ae?(m.child=Yn(m,A.child,null,V),m.child=Yn(m,null,_e,V)):Ja(A,m,_e,V),m.memoizedState=P.state,R&&ly(m,b,!0),m.child}function T6(A){var m=A.stateNode;m.pendingContext?oy(A,m.pendingContext,m.pendingContext!==m.context):m.context&&oy(A,m.context,!1),Cu(A,m.containerInfo)}function O6(A,m,b,P,R){return dr(),Ir(R),m.flags|=256,Ja(A,m,b,P),m.child}var F2={dehydrated:null,treeContext:null,retryLane:0};function T2(A){return{baseLanes:A,cachePool:null,transitions:null}}function I6(A,m,b){var P=m.pendingProps,R=en.current,V=!1,ae=(m.flags&128)!==0,_e;if((_e=ae)||(_e=A!==null&&A.memoizedState===null?!1:(R&2)!==0),_e?(V=!0,m.flags&=-129):(A===null||A.memoizedState!==null)&&(R|=1),Lr(en,R&1),A===null)return xt(m),A=m.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((m.mode&1)===0?m.lanes=1:A.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(ae=P.children,A=P.fallback,V?(P=m.mode,V=m.child,ae={mode:"hidden",children:ae},(P&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=ae):V=Ey(ae,P,0,null),A=nA(A,P,b,null),V.return=m,A.return=m,V.sibling=A,m.child=V,m.child.memoizedState=T2(b),m.memoizedState=F2,A):O2(m,ae));if(R=A.memoizedState,R!==null&&(_e=R.dehydrated,_e!==null))return EG(A,m,ae,P,_e,R,b);if(V){V=P.fallback,ae=m.mode,R=A.child,_e=R.sibling;var Pe={mode:"hidden",children:P.children};return(ae&1)===0&&m.child!==R?(P=m.child,P.childLanes=0,P.pendingProps=Pe,m.deletions=null):(P=Iu(R,Pe),P.subtreeFlags=R.subtreeFlags&14680064),_e!==null?V=Iu(_e,V):(V=nA(V,ae,b,null),V.flags|=2),V.return=m,P.return=m,P.sibling=V,m.child=P,P=V,V=m.child,ae=A.child.memoizedState,ae=ae===null?T2(b):{baseLanes:ae.baseLanes|b,cachePool:null,transitions:ae.transitions},V.memoizedState=ae,V.childLanes=A.childLanes&~b,m.memoizedState=F2,P}return V=A.child,A=V.sibling,P=Iu(V,{mode:"visible",children:P.children}),(m.mode&1)===0&&(P.lanes=b),P.return=m,P.sibling=null,A!==null&&(b=m.deletions,b===null?(m.deletions=[A],m.flags|=16):b.push(A)),m.child=P,m.memoizedState=null,P}function O2(A,m){return m=Ey({mode:"visible",children:m},A.mode,0,null),m.return=A,A.child=m}function py(A,m,b,P){return P!==null&&Ir(P),Yn(m,A.child,null,b),A=O2(m,m.pendingProps.children),A.flags|=2,m.memoizedState=null,A}function EG(A,m,b,P,R,V,ae){if(b)return m.flags&256?(m.flags&=-257,P=B2(Error(r(422))),py(A,m,ae,P)):m.memoizedState!==null?(m.child=A.child,m.flags|=128,null):(V=P.fallback,R=m.mode,P=Ey({mode:"visible",children:P.children},R,0,null),V=nA(V,R,ae,null),V.flags|=2,P.return=m,V.return=m,P.sibling=V,m.child=P,(m.mode&1)!==0&&Yn(m,A.child,null,ae),m.child.memoizedState=T2(ae),m.memoizedState=F2,V);if((m.mode&1)===0)return py(A,m,ae,null);if(R.data==="$!"){if(P=R.nextSibling&&R.nextSibling.dataset,P)var _e=P.dgst;return P=_e,V=Error(r(419)),P=B2(V,P,void 0),py(A,m,ae,P)}if(_e=(ae&A.childLanes)!==0,ji||_e){if(P=Hs,P!==null){switch(ae&-ae){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(P.suspendedLanes|ae))!==0?0:R,R!==0&&R!==V.retryLane&&(V.retryLane=R,kr(A,R),Al(P,A,R,-1))}return X2(),P=B2(Error(r(421))),py(A,m,ae,P)}return R.data==="$?"?(m.flags|=128,m.child=A.child,m=HG.bind(null,A),R._reactRetry=m,null):(A=V.treeContext,nt=ta(R.nextSibling),Te=m,tt=!0,at=null,A!==null&&(ue[ye++]=$e,ue[ye++]=qe,ue[ye++]=Ee,$e=A.id,qe=A.overflow,Ee=m),m=O2(m,P.children),m.flags|=4096,m)}function D6(A,m,b){A.lanes|=m;var P=A.alternate;P!==null&&(P.lanes|=m),yi(A.return,m,b)}function I2(A,m,b,P,R){var V=A.memoizedState;V===null?A.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:P,tail:b,tailMode:R}:(V.isBackwards=m,V.rendering=null,V.renderingStartTime=0,V.last=P,V.tail=b,V.tailMode=R)}function M6(A,m,b){var P=m.pendingProps,R=P.revealOrder,V=P.tail;if(Ja(A,m,P.children,b),P=en.current,(P&2)!==0)P=P&1|2,m.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=m.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&D6(A,b,m);else if(A.tag===19)D6(A,b,m);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===m)break e;for(;A.sibling===null;){if(A.return===null||A.return===m)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}P&=1}if(Lr(en,P),(m.mode&1)===0)m.memoizedState=null;else switch(R){case"forwards":for(b=m.child,R=null;b!==null;)A=b.alternate,A!==null&&Vi(A)===null&&(R=b),b=b.sibling;b=R,b===null?(R=m.child,m.child=null):(R=b.sibling,b.sibling=null),I2(m,!1,R,b,V);break;case"backwards":for(b=null,R=m.child,m.child=null;R!==null;){if(A=R.alternate,A!==null&&Vi(A)===null){m.child=R;break}A=R.sibling,R.sibling=b,b=R,R=A}I2(m,!0,b,null,V);break;case"together":I2(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function gy(A,m){(m.mode&1)===0&&A!==null&&(A.alternate=null,m.alternate=null,m.flags|=2)}function td(A,m,b){if(A!==null&&(m.dependencies=A.dependencies),Zh|=m.lanes,(b&m.childLanes)===0)return null;if(A!==null&&m.child!==A.child)throw Error(r(153));if(m.child!==null){for(A=m.child,b=Iu(A,A.pendingProps),m.child=b,b.return=m;A.sibling!==null;)A=A.sibling,b=b.sibling=Iu(A,A.pendingProps),b.return=m;b.sibling=null}return m.child}function kG(A,m,b){switch(m.tag){case 3:T6(m),dr();break;case 5:cy(m);break;case 1:ba(m.type)&&Yc(m);break;case 4:Cu(m,m.stateNode.containerInfo);break;case 10:var P=m.type._context,R=m.memoizedProps.value;Lr(Rs,P._currentValue),P._currentValue=R;break;case 13:if(P=m.memoizedState,P!==null)return P.dehydrated!==null?(Lr(en,en.current&1),m.flags|=128,null):(b&m.child.childLanes)!==0?I6(A,m,b):(Lr(en,en.current&1),A=td(A,m,b),A!==null?A.sibling:null);Lr(en,en.current&1);break;case 19:if(P=(b&m.childLanes)!==0,(A.flags&128)!==0){if(P)return M6(A,m,b);m.flags|=128}if(R=m.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),Lr(en,en.current),P)break;return null;case 22:case 23:return m.lanes=0,k6(A,m,b)}return td(A,m,b)}var L6,D2,U6,R6;L6=function(A,m){for(var b=m.child;b!==null;){if(b.tag===5||b.tag===6)A.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===m)break;for(;b.sibling===null;){if(b.return===null||b.return===m)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},D2=function(){},U6=function(A,m,b,P){var R=A.memoizedProps;if(R!==P){A=m.stateNode,ol(Ga.current);var V=null;switch(b){case"input":R=lt(A,R),P=lt(A,P),V=[];break;case"select":R=re({},R,{value:void 0}),P=re({},P,{value:void 0}),V=[];break;case"textarea":R=Oe(A,R),P=Oe(A,P),V=[];break;default:typeof R.onClick!="function"&&typeof P.onClick=="function"&&(A.onclick=vu)}_t(b,P);var ae;b=null;for(Xe in R)if(!P.hasOwnProperty(Xe)&&R.hasOwnProperty(Xe)&&R[Xe]!=null)if(Xe==="style"){var _e=R[Xe];for(ae in _e)_e.hasOwnProperty(ae)&&(b||(b={}),b[ae]="")}else Xe!=="dangerouslySetInnerHTML"&&Xe!=="children"&&Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&Xe!=="autoFocus"&&(a.hasOwnProperty(Xe)?V||(V=[]):(V=V||[]).push(Xe,null));for(Xe in P){var Pe=P[Xe];if(_e=R?.[Xe],P.hasOwnProperty(Xe)&&Pe!==_e&&(Pe!=null||_e!=null))if(Xe==="style")if(_e){for(ae in _e)!_e.hasOwnProperty(ae)||Pe&&Pe.hasOwnProperty(ae)||(b||(b={}),b[ae]="");for(ae in Pe)Pe.hasOwnProperty(ae)&&_e[ae]!==Pe[ae]&&(b||(b={}),b[ae]=Pe[ae])}else b||(V||(V=[]),V.push(Xe,b)),b=Pe;else Xe==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,_e=_e?_e.__html:void 0,Pe!=null&&_e!==Pe&&(V=V||[]).push(Xe,Pe)):Xe==="children"?typeof Pe!="string"&&typeof Pe!="number"||(V=V||[]).push(Xe,""+Pe):Xe!=="suppressContentEditableWarning"&&Xe!=="suppressHydrationWarning"&&(a.hasOwnProperty(Xe)?(Pe!=null&&Xe==="onScroll"&&Vr("scroll",A),V||_e===Pe||(V=[])):(V=V||[]).push(Xe,Pe))}b&&(V=V||[]).push("style",b);var Xe=V;(m.updateQueue=Xe)&&(m.flags|=4)}},R6=function(A,m,b,P){b!==P&&(m.flags|=4)};function ig(A,m){if(!tt)switch(A.tailMode){case"hidden":m=A.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?A.tail=null:b.sibling=null;break;case"collapsed":b=A.tail;for(var P=null;b!==null;)b.alternate!==null&&(P=b),b=b.sibling;P===null?m||A.tail===null?A.tail=null:A.tail.sibling=null:P.sibling=null}}function ja(A){var m=A.alternate!==null&&A.alternate.child===A.child,b=0,P=0;if(m)for(var R=A.child;R!==null;)b|=R.lanes|R.childLanes,P|=R.subtreeFlags&14680064,P|=R.flags&14680064,R.return=A,R=R.sibling;else for(R=A.child;R!==null;)b|=R.lanes|R.childLanes,P|=R.subtreeFlags,P|=R.flags,R.return=A,R=R.sibling;return A.subtreeFlags|=P,A.childLanes=b,m}function PG(A,m,b){var P=m.pendingProps;switch(Fe(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ja(m),null;case 1:return ba(m.type)&&Ef(),ja(m),null;case 3:return P=m.stateNode,xo(),Or(va),Or(Ns),ng(),P.pendingContext&&(P.context=P.pendingContext,P.pendingContext=null),(A===null||A.child===null)&&(jr(m)?m.flags|=4:A===null||A.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,at!==null&&(K2(at),at=null))),D2(A,m),ja(m),null;case 5:tg(m);var R=ol(Jl.current);if(b=m.type,A!==null&&m.stateNode!=null)U6(A,m,b,P,R),A.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!P){if(m.stateNode===null)throw Error(r(166));return ja(m),null}if(A=ol(Ga.current),jr(m)){P=m.stateNode,b=m.type;var V=m.memoizedProps;switch(P[po]=m,P[bu]=V,A=(m.mode&1)!==0,b){case"dialog":Vr("cancel",P),Vr("close",P);break;case"iframe":case"object":case"embed":Vr("load",P);break;case"video":case"audio":for(R=0;R<Wl.length;R++)Vr(Wl[R],P);break;case"source":Vr("error",P);break;case"img":case"image":case"link":Vr("error",P),Vr("load",P);break;case"details":Vr("toggle",P);break;case"input":Le(P,V),Vr("invalid",P);break;case"select":P._wrapperState={wasMultiple:!!V.multiple},Vr("invalid",P);break;case"textarea":ve(P,V),Vr("invalid",P)}_t(b,V),R=null;for(var ae in V)if(V.hasOwnProperty(ae)){var _e=V[ae];ae==="children"?typeof _e=="string"?P.textContent!==_e&&(V.suppressHydrationWarning!==!0&&Bf(P.textContent,_e,A),R=["children",_e]):typeof _e=="number"&&P.textContent!==""+_e&&(V.suppressHydrationWarning!==!0&&Bf(P.textContent,_e,A),R=["children",""+_e]):a.hasOwnProperty(ae)&&_e!=null&&ae==="onScroll"&&Vr("scroll",P)}switch(b){case"input":xe(P),je(P,V,!0);break;case"textarea":xe(P),Ne(P);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(P.onclick=vu)}P=R,m.updateQueue=P,P!==null&&(m.flags|=4)}else{ae=R.nodeType===9?R:R.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=ge(b)),A==="http://www.w3.org/1999/xhtml"?b==="script"?(A=ae.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof P.is=="string"?A=ae.createElement(b,{is:P.is}):(A=ae.createElement(b),b==="select"&&(ae=A,P.multiple?ae.multiple=!0:P.size&&(ae.size=P.size))):A=ae.createElementNS(A,b),A[po]=m,A[bu]=P,L6(A,m,!1,!1),m.stateNode=A;e:{switch(ae=At(b,P),b){case"dialog":Vr("cancel",A),Vr("close",A),R=P;break;case"iframe":case"object":case"embed":Vr("load",A),R=P;break;case"video":case"audio":for(R=0;R<Wl.length;R++)Vr(Wl[R],A);R=P;break;case"source":Vr("error",A),R=P;break;case"img":case"image":case"link":Vr("error",A),Vr("load",A),R=P;break;case"details":Vr("toggle",A),R=P;break;case"input":Le(A,P),R=lt(A,P),Vr("invalid",A);break;case"option":R=P;break;case"select":A._wrapperState={wasMultiple:!!P.multiple},R=re({},P,{value:void 0}),Vr("invalid",A);break;case"textarea":ve(A,P),R=Oe(A,P),Vr("invalid",A);break;default:R=P}_t(b,R),_e=R;for(V in _e)if(_e.hasOwnProperty(V)){var Pe=_e[V];V==="style"?Re(A,Pe):V==="dangerouslySetInnerHTML"?(Pe=Pe?Pe.__html:void 0,Pe!=null&&yt(A,Pe)):V==="children"?typeof Pe=="string"?(b!=="textarea"||Pe!=="")&&gt(A,Pe):typeof Pe=="number"&&gt(A,""+Pe):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?Pe!=null&&V==="onScroll"&&Vr("scroll",A):Pe!=null&&_(A,V,Pe,ae))}switch(b){case"input":xe(A),je(A,P,!1);break;case"textarea":xe(A),Ne(A);break;case"option":P.value!=null&&A.setAttribute("value",""+de(P.value));break;case"select":A.multiple=!!P.multiple,V=P.value,V!=null?We(A,!!P.multiple,V,!1):P.defaultValue!=null&&We(A,!!P.multiple,P.defaultValue,!0);break;default:typeof R.onClick=="function"&&(A.onclick=vu)}switch(b){case"button":case"input":case"select":case"textarea":P=!!P.autoFocus;break e;case"img":P=!0;break e;default:P=!1}}P&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return ja(m),null;case 6:if(A&&m.stateNode!=null)R6(A,m,A.memoizedProps,P);else{if(typeof P!="string"&&m.stateNode===null)throw Error(r(166));if(b=ol(Jl.current),ol(Ga.current),jr(m)){if(P=m.stateNode,b=m.memoizedProps,P[po]=m,(V=P.nodeValue!==b)&&(A=Te,A!==null))switch(A.tag){case 3:Bf(P.nodeValue,b,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&Bf(P.nodeValue,b,(A.mode&1)!==0)}V&&(m.flags|=4)}else P=(b.nodeType===9?b:b.ownerDocument).createTextNode(P),P[po]=m,m.stateNode=P}return ja(m),null;case 13:if(Or(en),P=m.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(tt&&nt!==null&&(m.mode&1)!==0&&(m.flags&128)===0)xr(),dr(),m.flags|=98560,V=!1;else if(V=jr(m),P!==null&&P.dehydrated!==null){if(A===null){if(!V)throw Error(r(318));if(V=m.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(r(317));V[po]=m}else dr(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;ja(m),V=!1}else at!==null&&(K2(at),at=null),V=!0;if(!V)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=b,m):(P=P!==null,P!==(A!==null&&A.memoizedState!==null)&&P&&(m.child.flags|=8192,(m.mode&1)!==0&&(A===null||(en.current&1)!==0?Cs===0&&(Cs=3):X2())),m.updateQueue!==null&&(m.flags|=4),ja(m),null);case 4:return xo(),D2(A,m),A===null&&Vc(m.stateNode.containerInfo),ja(m),null;case 10:return wa(m.type._context),ja(m),null;case 17:return ba(m.type)&&Ef(),ja(m),null;case 19:if(Or(en),V=m.memoizedState,V===null)return ja(m),null;if(P=(m.flags&128)!==0,ae=V.rendering,ae===null)if(P)ig(V,!1);else{if(Cs!==0||A!==null&&(A.flags&128)!==0)for(A=m.child;A!==null;){if(ae=Vi(A),ae!==null){for(m.flags|=128,ig(V,!1),P=ae.updateQueue,P!==null&&(m.updateQueue=P,m.flags|=4),m.subtreeFlags=0,P=b,b=m.child;b!==null;)V=b,A=P,V.flags&=14680066,ae=V.alternate,ae===null?(V.childLanes=0,V.lanes=A,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=ae.childLanes,V.lanes=ae.lanes,V.child=ae.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=ae.memoizedProps,V.memoizedState=ae.memoizedState,V.updateQueue=ae.updateQueue,V.type=ae.type,A=ae.dependencies,V.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),b=b.sibling;return Lr(en,en.current&1|2),m.child}A=A.sibling}V.tail!==null&&pn()>$f&&(m.flags|=128,P=!0,ig(V,!1),m.lanes=4194304)}else{if(!P)if(A=Vi(ae),A!==null){if(m.flags|=128,P=!0,b=A.updateQueue,b!==null&&(m.updateQueue=b,m.flags|=4),ig(V,!0),V.tail===null&&V.tailMode==="hidden"&&!ae.alternate&&!tt)return ja(m),null}else 2*pn()-V.renderingStartTime>$f&&b!==1073741824&&(m.flags|=128,P=!0,ig(V,!1),m.lanes=4194304);V.isBackwards?(ae.sibling=m.child,m.child=ae):(b=V.last,b!==null?b.sibling=ae:m.child=ae,V.last=ae)}return V.tail!==null?(m=V.tail,V.rendering=m,V.tail=m.sibling,V.renderingStartTime=pn(),m.sibling=null,b=en.current,Lr(en,P?b&1|2:b&1),m):(ja(m),null);case 22:case 23:return G2(),P=m.memoizedState!==null,A!==null&&A.memoizedState!==null!==P&&(m.flags|=8192),P&&(m.mode&1)!==0?(Gi&1073741824)!==0&&(ja(m),m.subtreeFlags&6&&(m.flags|=8192)):ja(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function FG(A,m){switch(Fe(m),m.tag){case 1:return ba(m.type)&&Ef(),A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 3:return xo(),Or(va),Or(Ns),ng(),A=m.flags,(A&65536)!==0&&(A&128)===0?(m.flags=A&-65537|128,m):null;case 5:return tg(m),null;case 13:if(Or(en),A=m.memoizedState,A!==null&&A.dehydrated!==null){if(m.alternate===null)throw Error(r(340));dr()}return A=m.flags,A&65536?(m.flags=A&-65537|128,m):null;case 19:return Or(en),null;case 4:return xo(),null;case 10:return wa(m.type._context),null;case 22:case 23:return G2(),null;case 24:return null;default:return null}}var xy=!1,Na=!1,TG=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Qf(A,m){var b=A.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(P){zn(A,m,P)}else b.current=null}function M2(A,m,b){try{b()}catch(P){zn(A,m,P)}}var Q6=!1;function OG(A,m){if(Kh=tu,A=Rh(),Hc(A)){if("selectionStart"in A)var b={start:A.selectionStart,end:A.selectionEnd};else e:{b=(b=A.ownerDocument)&&b.defaultView||window;var P=b.getSelection&&b.getSelection();if(P&&P.rangeCount!==0){b=P.anchorNode;var R=P.anchorOffset,V=P.focusNode;P=P.focusOffset;try{b.nodeType,V.nodeType}catch{b=null;break e}var ae=0,_e=-1,Pe=-1,Xe=0,ut=0,ht=A,dt=null;t:for(;;){for(var Ct;ht!==b||R!==0&&ht.nodeType!==3||(_e=ae+R),ht!==V||P!==0&&ht.nodeType!==3||(Pe=ae+P),ht.nodeType===3&&(ae+=ht.nodeValue.length),(Ct=ht.firstChild)!==null;)dt=ht,ht=Ct;for(;;){if(ht===A)break t;if(dt===b&&++Xe===R&&(_e=ae),dt===V&&++ut===P&&(Pe=ae),(Ct=ht.nextSibling)!==null)break;ht=dt,dt=ht.parentNode}ht=Ct}b=_e===-1||Pe===-1?null:{start:_e,end:Pe}}else b=null}b=b||{start:0,end:0}}else b=null;for(Wc={focusedElem:A,selectionRange:b},tu=!1,Bt=m;Bt!==null;)if(m=Bt,A=m.child,(m.subtreeFlags&1028)!==0&&A!==null)A.return=m,Bt=A;else for(;Bt!==null;){m=Bt;try{var Pt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Tt=Pt.memoizedProps,es=Pt.memoizedState,ze=m.stateNode,De=ze.getSnapshotBeforeUpdate(m.elementType===m.type?Tt:dl(m.type,Tt),es);ze.__reactInternalSnapshotBeforeUpdate=De}break;case 3:var Ke=m.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ft){zn(m,m.return,ft)}if(A=m.sibling,A!==null){A.return=m.return,Bt=A;break}Bt=m.return}return Pt=Q6,Q6=!1,Pt}function og(A,m,b){var P=m.updateQueue;if(P=P!==null?P.lastEffect:null,P!==null){var R=P=P.next;do{if((R.tag&A)===A){var V=R.destroy;R.destroy=void 0,V!==void 0&&M2(m,b,V)}R=R.next}while(R!==P)}}function yy(A,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&A)===A){var P=b.create;b.destroy=P()}b=b.next}while(b!==m)}}function L2(A){var m=A.ref;if(m!==null){var b=A.stateNode;switch(A.tag){case 5:A=b;break;default:A=b}typeof m=="function"?m(A):m.current=A}}function H6(A){var m=A.alternate;m!==null&&(A.alternate=null,H6(m)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(m=A.stateNode,m!==null&&(delete m[po],delete m[bu],delete m[ya],delete m[w2],delete m[j2])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function $6(A){return A.tag===5||A.tag===3||A.tag===4}function q6(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||$6(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function U2(A,m,b){var P=A.tag;if(P===5||P===6)A=A.stateNode,m?b.nodeType===8?b.parentNode.insertBefore(A,m):b.insertBefore(A,m):(b.nodeType===8?(m=b.parentNode,m.insertBefore(A,b)):(m=b,m.appendChild(A)),b=b._reactRootContainer,b!=null||m.onclick!==null||(m.onclick=vu));else if(P!==4&&(A=A.child,A!==null))for(U2(A,m,b),A=A.sibling;A!==null;)U2(A,m,b),A=A.sibling}function R2(A,m,b){var P=A.tag;if(P===5||P===6)A=A.stateNode,m?b.insertBefore(A,m):b.appendChild(A);else if(P!==4&&(A=A.child,A!==null))for(R2(A,m,b),A=A.sibling;A!==null;)R2(A,m,b),A=A.sibling}var na=null,ul=!1;function ku(A,m,b){for(b=b.child;b!==null;)z6(A,m,b),b=b.sibling}function z6(A,m,b){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Sc,b)}catch{}switch(b.tag){case 5:Na||Qf(b,m);case 6:var P=na,R=ul;na=null,ku(A,m,b),na=P,ul=R,na!==null&&(ul?(A=na,b=b.stateNode,A.nodeType===8?A.parentNode.removeChild(b):A.removeChild(b)):na.removeChild(b.stateNode));break;case 18:na!==null&&(ul?(A=na,b=b.stateNode,A.nodeType===8?Yp(A.parentNode,b):A.nodeType===1&&Yp(A,b),Qi(A)):Yp(na,b.stateNode));break;case 4:P=na,R=ul,na=b.stateNode.containerInfo,ul=!0,ku(A,m,b),na=P,ul=R;break;case 0:case 11:case 14:case 15:if(!Na&&(P=b.updateQueue,P!==null&&(P=P.lastEffect,P!==null))){R=P=P.next;do{var V=R,ae=V.destroy;V=V.tag,ae!==void 0&&((V&2)!==0||(V&4)!==0)&&M2(b,m,ae),R=R.next}while(R!==P)}ku(A,m,b);break;case 1:if(!Na&&(Qf(b,m),P=b.stateNode,typeof P.componentWillUnmount=="function"))try{P.props=b.memoizedProps,P.state=b.memoizedState,P.componentWillUnmount()}catch(_e){zn(b,m,_e)}ku(A,m,b);break;case 21:ku(A,m,b);break;case 22:b.mode&1?(Na=(P=Na)||b.memoizedState!==null,ku(A,m,b),Na=P):ku(A,m,b);break;default:ku(A,m,b)}}function V6(A){var m=A.updateQueue;if(m!==null){A.updateQueue=null;var b=A.stateNode;b===null&&(b=A.stateNode=new TG),m.forEach(function(P){var R=$G.bind(null,A,P);b.has(P)||(b.add(P),P.then(R,R))})}}function hl(A,m){var b=m.deletions;if(b!==null)for(var P=0;P<b.length;P++){var R=b[P];try{var V=A,ae=m,_e=ae;e:for(;_e!==null;){switch(_e.tag){case 5:na=_e.stateNode,ul=!1;break e;case 3:na=_e.stateNode.containerInfo,ul=!0;break e;case 4:na=_e.stateNode.containerInfo,ul=!0;break e}_e=_e.return}if(na===null)throw Error(r(160));z6(V,ae,R),na=null,ul=!1;var Pe=R.alternate;Pe!==null&&(Pe.return=null),R.return=null}catch(Xe){zn(R,m,Xe)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)K6(m,A),m=m.sibling}function K6(A,m){var b=A.alternate,P=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(hl(m,A),ec(A),P&4){try{og(3,A,A.return),yy(3,A)}catch(Tt){zn(A,A.return,Tt)}try{og(5,A,A.return)}catch(Tt){zn(A,A.return,Tt)}}break;case 1:hl(m,A),ec(A),P&512&&b!==null&&Qf(b,b.return);break;case 5:if(hl(m,A),ec(A),P&512&&b!==null&&Qf(b,b.return),A.flags&32){var R=A.stateNode;try{gt(R,"")}catch(Tt){zn(A,A.return,Tt)}}if(P&4&&(R=A.stateNode,R!=null)){var V=A.memoizedProps,ae=b!==null?b.memoizedProps:V,_e=A.type,Pe=A.updateQueue;if(A.updateQueue=null,Pe!==null)try{_e==="input"&&V.type==="radio"&&V.name!=null&&J(R,V),At(_e,ae);var Xe=At(_e,V);for(ae=0;ae<Pe.length;ae+=2){var ut=Pe[ae],ht=Pe[ae+1];ut==="style"?Re(R,ht):ut==="dangerouslySetInnerHTML"?yt(R,ht):ut==="children"?gt(R,ht):_(R,ut,ht,Xe)}switch(_e){case"input":Qe(R,V);break;case"textarea":st(R,V);break;case"select":var dt=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!V.multiple;var Ct=V.value;Ct!=null?We(R,!!V.multiple,Ct,!1):dt!==!!V.multiple&&(V.defaultValue!=null?We(R,!!V.multiple,V.defaultValue,!0):We(R,!!V.multiple,V.multiple?[]:"",!1))}R[bu]=V}catch(Tt){zn(A,A.return,Tt)}}break;case 6:if(hl(m,A),ec(A),P&4){if(A.stateNode===null)throw Error(r(162));R=A.stateNode,V=A.memoizedProps;try{R.nodeValue=V}catch(Tt){zn(A,A.return,Tt)}}break;case 3:if(hl(m,A),ec(A),P&4&&b!==null&&b.memoizedState.isDehydrated)try{Qi(m.containerInfo)}catch(Tt){zn(A,A.return,Tt)}break;case 4:hl(m,A),ec(A);break;case 13:hl(m,A),ec(A),R=A.child,R.flags&8192&&(V=R.memoizedState!==null,R.stateNode.isHidden=V,!V||R.alternate!==null&&R.alternate.memoizedState!==null||($2=pn())),P&4&&V6(A);break;case 22:if(ut=b!==null&&b.memoizedState!==null,A.mode&1?(Na=(Xe=Na)||ut,hl(m,A),Na=Xe):hl(m,A),ec(A),P&8192){if(Xe=A.memoizedState!==null,(A.stateNode.isHidden=Xe)&&!ut&&(A.mode&1)!==0)for(Bt=A,ut=A.child;ut!==null;){for(ht=Bt=ut;Bt!==null;){switch(dt=Bt,Ct=dt.child,dt.tag){case 0:case 11:case 14:case 15:og(4,dt,dt.return);break;case 1:Qf(dt,dt.return);var Pt=dt.stateNode;if(typeof Pt.componentWillUnmount=="function"){P=dt,b=dt.return;try{m=P,Pt.props=m.memoizedProps,Pt.state=m.memoizedState,Pt.componentWillUnmount()}catch(Tt){zn(P,b,Tt)}}break;case 5:Qf(dt,dt.return);break;case 22:if(dt.memoizedState!==null){X6(ht);continue}}Ct!==null?(Ct.return=dt,Bt=Ct):X6(ht)}ut=ut.sibling}e:for(ut=null,ht=A;;){if(ht.tag===5){if(ut===null){ut=ht;try{R=ht.stateNode,Xe?(V=R.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(_e=ht.stateNode,Pe=ht.memoizedProps.style,ae=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null,_e.style.display=Ue("display",ae))}catch(Tt){zn(A,A.return,Tt)}}}else if(ht.tag===6){if(ut===null)try{ht.stateNode.nodeValue=Xe?"":ht.memoizedProps}catch(Tt){zn(A,A.return,Tt)}}else if((ht.tag!==22&&ht.tag!==23||ht.memoizedState===null||ht===A)&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===A)break e;for(;ht.sibling===null;){if(ht.return===null||ht.return===A)break e;ut===ht&&(ut=null),ht=ht.return}ut===ht&&(ut=null),ht.sibling.return=ht.return,ht=ht.sibling}}break;case 19:hl(m,A),ec(A),P&4&&V6(A);break;case 21:break;default:hl(m,A),ec(A)}}function ec(A){var m=A.flags;if(m&2){try{e:{for(var b=A.return;b!==null;){if($6(b)){var P=b;break e}b=b.return}throw Error(r(160))}switch(P.tag){case 5:var R=P.stateNode;P.flags&32&&(gt(R,""),P.flags&=-33);var V=q6(A);R2(A,V,R);break;case 3:case 4:var ae=P.stateNode.containerInfo,_e=q6(A);U2(A,_e,ae);break;default:throw Error(r(161))}}catch(Pe){zn(A,A.return,Pe)}A.flags&=-3}m&4096&&(A.flags&=-4097)}function IG(A,m,b){Bt=A,W6(A)}function W6(A,m,b){for(var P=(A.mode&1)!==0;Bt!==null;){var R=Bt,V=R.child;if(R.tag===22&&P){var ae=R.memoizedState!==null||xy;if(!ae){var _e=R.alternate,Pe=_e!==null&&_e.memoizedState!==null||Na;_e=xy;var Xe=Na;if(xy=ae,(Na=Pe)&&!Xe)for(Bt=R;Bt!==null;)ae=Bt,Pe=ae.child,ae.tag===22&&ae.memoizedState!==null?Y6(R):Pe!==null?(Pe.return=ae,Bt=Pe):Y6(R);for(;V!==null;)Bt=V,W6(V),V=V.sibling;Bt=R,xy=_e,Na=Xe}G6(A)}else(R.subtreeFlags&8772)!==0&&V!==null?(V.return=R,Bt=V):G6(A)}}function G6(A){for(;Bt!==null;){var m=Bt;if((m.flags&8772)!==0){var b=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Na||yy(5,m);break;case 1:var P=m.stateNode;if(m.flags&4&&!Na)if(b===null)P.componentDidMount();else{var R=m.elementType===m.type?b.memoizedProps:dl(m.type,b.memoizedProps);P.componentDidUpdate(R,b.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var V=m.updateQueue;V!==null&&Zc(m,V,P);break;case 3:var ae=m.updateQueue;if(ae!==null){if(b=null,m.child!==null)switch(m.child.tag){case 5:b=m.child.stateNode;break;case 1:b=m.child.stateNode}Zc(m,ae,b)}break;case 5:var _e=m.stateNode;if(b===null&&m.flags&4){b=_e;var Pe=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Pe.autoFocus&&b.focus();break;case"img":Pe.src&&(b.src=Pe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Xe=m.alternate;if(Xe!==null){var ut=Xe.memoizedState;if(ut!==null){var ht=ut.dehydrated;ht!==null&&Qi(ht)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Na||m.flags&512&&L2(m)}catch(dt){zn(m,m.return,dt)}}if(m===A){Bt=null;break}if(b=m.sibling,b!==null){b.return=m.return,Bt=b;break}Bt=m.return}}function X6(A){for(;Bt!==null;){var m=Bt;if(m===A){Bt=null;break}var b=m.sibling;if(b!==null){b.return=m.return,Bt=b;break}Bt=m.return}}function Y6(A){for(;Bt!==null;){var m=Bt;try{switch(m.tag){case 0:case 11:case 15:var b=m.return;try{yy(4,m)}catch(Pe){zn(m,b,Pe)}break;case 1:var P=m.stateNode;if(typeof P.componentDidMount=="function"){var R=m.return;try{P.componentDidMount()}catch(Pe){zn(m,R,Pe)}}var V=m.return;try{L2(m)}catch(Pe){zn(m,V,Pe)}break;case 5:var ae=m.return;try{L2(m)}catch(Pe){zn(m,ae,Pe)}}}catch(Pe){zn(m,m.return,Pe)}if(m===A){Bt=null;break}var _e=m.sibling;if(_e!==null){_e.return=m.return,Bt=_e;break}Bt=m.return}}var DG=Math.ceil,vy=k.ReactCurrentDispatcher,Q2=k.ReactCurrentOwner,bo=k.ReactCurrentBatchConfig,Sr=0,Hs=null,ds=null,sa=0,Gi=0,Hf=zi(0),Cs=0,lg=null,Zh=0,by=0,H2=0,cg=null,Ni=null,$2=0,$f=1/0,rd=null,wy=!1,q2=null,Pu=null,jy=!1,Fu=null,Ny=0,dg=0,z2=null,_y=-1,Cy=0;function Za(){return(Sr&6)!==0?pn():_y!==-1?_y:_y=pn()}function Tu(A){return(A.mode&1)===0?1:(Sr&2)!==0&&sa!==0?sa&-sa:Ur.transition!==null?(Cy===0&&(Cy=Eh()),Cy):(A=_r,A!==0||(A=window.event,A=A===void 0?16:Oh(A.type)),A)}function Al(A,m,b,P){if(50<dg)throw dg=0,z2=null,Error(r(185));Dl(A,b,P),((Sr&2)===0||A!==Hs)&&(A===Hs&&((Sr&2)===0&&(by|=b),Cs===4&&Ou(A,sa)),_i(A,P),b===1&&Sr===0&&(m.mode&1)===0&&($f=pn()+500,Gh&&W()))}function _i(A,m){var b=A.callbackNode;ma(A,m);var P=fa(A,A===Hs?sa:0);if(P===0)b!==null&&Cc(b),A.callbackNode=null,A.callbackPriority=0;else if(m=P&-P,A.callbackPriority!==m){if(b!=null&&Cc(b),m===1)A.tag===0?H(Z6.bind(null,A)):F(Z6.bind(null,A)),v2(function(){(Sr&6)===0&&W()}),b=null;else{switch(Yd(P)){case 1:b=Ol;break;case 4:b=Sh;break;case 16:b=Kd;break;case 536870912:b=pf;break;default:b=Kd}b=oP(b,J6.bind(null,A))}A.callbackPriority=m,A.callbackNode=b}}function J6(A,m){if(_y=-1,Cy=0,(Sr&6)!==0)throw Error(r(327));var b=A.callbackNode;if(qf()&&A.callbackNode!==b)return null;var P=fa(A,A===Hs?sa:0);if(P===0)return null;if((P&30)!==0||(P&A.expiredLanes)!==0||m)m=Sy(A,P);else{m=P;var R=Sr;Sr|=2;var V=tP();(Hs!==A||sa!==m)&&(rd=null,$f=pn()+500,tA(A,m));do try{UG();break}catch(_e){eP(A,_e)}while(!0);_s(),vy.current=V,Sr=R,ds!==null?m=0:(Hs=null,sa=0,m=Cs)}if(m!==0){if(m===2&&(R=kc(A),R!==0&&(P=R,m=V2(A,R))),m===1)throw b=lg,tA(A,0),Ou(A,P),_i(A,pn()),b;if(m===6)Ou(A,P);else{if(R=A.current.alternate,(P&30)===0&&!MG(R)&&(m=Sy(A,P),m===2&&(V=kc(A),V!==0&&(P=V,m=V2(A,V))),m===1))throw b=lg,tA(A,0),Ou(A,P),_i(A,pn()),b;switch(A.finishedWork=R,A.finishedLanes=P,m){case 0:case 1:throw Error(r(345));case 2:rA(A,Ni,rd);break;case 3:if(Ou(A,P),(P&130023424)===P&&(m=$2+500-pn(),10<m)){if(fa(A,0)!==0)break;if(R=A.suspendedLanes,(R&P)!==P){Za(),A.pingedLanes|=A.suspendedLanes&R;break}A.timeoutHandle=Xp(rA.bind(null,A,Ni,rd),m);break}rA(A,Ni,rd);break;case 4:if(Ou(A,P),(P&4194240)===P)break;for(m=A.eventTimes,R=-1;0<P;){var ae=31-$a(P);V=1<<ae,ae=m[ae],ae>R&&(R=ae),P&=~V}if(P=R,P=pn()-P,P=(120>P?120:480>P?480:1080>P?1080:1920>P?1920:3e3>P?3e3:4320>P?4320:1960*DG(P/1960))-P,10<P){A.timeoutHandle=Xp(rA.bind(null,A,Ni,rd),P);break}rA(A,Ni,rd);break;case 5:rA(A,Ni,rd);break;default:throw Error(r(329))}}}return _i(A,pn()),A.callbackNode===b?J6.bind(null,A):null}function V2(A,m){var b=cg;return A.current.memoizedState.isDehydrated&&(tA(A,m).flags|=256),A=Sy(A,m),A!==2&&(m=Ni,Ni=b,m!==null&&K2(m)),A}function K2(A){Ni===null?Ni=A:Ni.push.apply(Ni,A)}function MG(A){for(var m=A;;){if(m.flags&16384){var b=m.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var P=0;P<b.length;P++){var R=b[P],V=R.getSnapshot;R=R.value;try{if(!Cr(V(),R))return!1}catch{return!1}}}if(b=m.child,m.subtreeFlags&16384&&b!==null)b.return=m,m=b;else{if(m===A)break;for(;m.sibling===null;){if(m.return===null||m.return===A)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ou(A,m){for(m&=~H2,m&=~by,A.suspendedLanes|=m,A.pingedLanes&=~m,A=A.expirationTimes;0<m;){var b=31-$a(m),P=1<<b;A[b]=-1,m&=~P}}function Z6(A){if((Sr&6)!==0)throw Error(r(327));qf();var m=fa(A,0);if((m&1)===0)return _i(A,pn()),null;var b=Sy(A,m);if(A.tag!==0&&b===2){var P=kc(A);P!==0&&(m=P,b=V2(A,P))}if(b===1)throw b=lg,tA(A,0),Ou(A,m),_i(A,pn()),b;if(b===6)throw Error(r(345));return A.finishedWork=A.current.alternate,A.finishedLanes=m,rA(A,Ni,rd),_i(A,pn()),null}function W2(A,m){var b=Sr;Sr|=1;try{return A(m)}finally{Sr=b,Sr===0&&($f=pn()+500,Gh&&W())}}function eA(A){Fu!==null&&Fu.tag===0&&(Sr&6)===0&&qf();var m=Sr;Sr|=1;var b=bo.transition,P=_r;try{if(bo.transition=null,_r=1,A)return A()}finally{_r=P,bo.transition=b,Sr=m,(Sr&6)===0&&W()}}function G2(){Gi=Hf.current,Or(Hf)}function tA(A,m){A.finishedWork=null,A.finishedLanes=0;var b=A.timeoutHandle;if(b!==-1&&(A.timeoutHandle=-1,ay(b)),ds!==null)for(b=ds.return;b!==null;){var P=b;switch(Fe(P),P.tag){case 1:P=P.type.childContextTypes,P!=null&&Ef();break;case 3:xo(),Or(va),Or(Ns),ng();break;case 5:tg(P);break;case 4:xo();break;case 13:Or(en);break;case 19:Or(en);break;case 10:wa(P.type._context);break;case 22:case 23:G2()}b=b.return}if(Hs=A,ds=A=Iu(A.current,null),sa=Gi=m,Cs=0,lg=null,H2=by=Zh=0,Ni=cg=null,Wa!==null){for(m=0;m<Wa.length;m++)if(b=Wa[m],P=b.interleaved,P!==null){b.interleaved=null;var R=P.next,V=b.pending;if(V!==null){var ae=V.next;V.next=R,P.next=ae}b.pending=P}Wa=null}return A}function eP(A,m){do{var b=ds;try{if(_s(),Pf.current=fy,Su){for(var P=an.memoizedState;P!==null;){var R=P.queue;R!==null&&(R.pending=null),P=P.next}Su=!1}if(yo=0,Mn=qn=an=null,ll=!1,Bu=0,Q2.current=null,b===null||b.return===null){Cs=1,lg=m,ds=null;break}e:{var V=A,ae=b.return,_e=b,Pe=m;if(m=sa,_e.flags|=32768,Pe!==null&&typeof Pe=="object"&&typeof Pe.then=="function"){var Xe=Pe,ut=_e,ht=ut.tag;if((ut.mode&1)===0&&(ht===0||ht===11||ht===15)){var dt=ut.alternate;dt?(ut.updateQueue=dt.updateQueue,ut.memoizedState=dt.memoizedState,ut.lanes=dt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var Ct=_6(ae);if(Ct!==null){Ct.flags&=-257,C6(Ct,ae,_e,V,m),Ct.mode&1&&N6(V,Xe,m),m=Ct,Pe=Xe;var Pt=m.updateQueue;if(Pt===null){var Tt=new Set;Tt.add(Pe),m.updateQueue=Tt}else Pt.add(Pe);break e}else{if((m&1)===0){N6(V,Xe,m),X2();break e}Pe=Error(r(426))}}else if(tt&&_e.mode&1){var es=_6(ae);if(es!==null){(es.flags&65536)===0&&(es.flags|=256),C6(es,ae,_e,V,m),Ir(Rf(Pe,_e));break e}}V=Pe=Rf(Pe,_e),Cs!==4&&(Cs=2),cg===null?cg=[V]:cg.push(V),V=ae;do{switch(V.tag){case 3:V.flags|=65536,m&=-m,V.lanes|=m;var ze=w6(V,Pe,m);wi(V,ze);break e;case 1:_e=Pe;var De=V.type,Ke=V.stateNode;if((V.flags&128)===0&&(typeof De.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(Pu===null||!Pu.has(Ke)))){V.flags|=65536,m&=-m,V.lanes|=m;var ft=j6(V,_e,m);wi(V,ft);break e}}V=V.return}while(V!==null)}nP(b)}catch(Ot){m=Ot,ds===b&&b!==null&&(ds=b=b.return);continue}break}while(!0)}function tP(){var A=vy.current;return vy.current=fy,A===null?fy:A}function X2(){(Cs===0||Cs===3||Cs===2)&&(Cs=4),Hs===null||(Zh&268435455)===0&&(by&268435455)===0||Ou(Hs,sa)}function Sy(A,m){var b=Sr;Sr|=2;var P=tP();(Hs!==A||sa!==m)&&(rd=null,tA(A,m));do try{LG();break}catch(R){eP(A,R)}while(!0);if(_s(),Sr=b,vy.current=P,ds!==null)throw Error(r(261));return Hs=null,sa=0,Cs}function LG(){for(;ds!==null;)rP(ds)}function UG(){for(;ds!==null&&!Vd();)rP(ds)}function rP(A){var m=iP(A.alternate,A,Gi);A.memoizedProps=A.pendingProps,m===null?nP(A):ds=m,Q2.current=null}function nP(A){var m=A;do{var b=m.alternate;if(A=m.return,(m.flags&32768)===0){if(b=PG(b,m,Gi),b!==null){ds=b;return}}else{if(b=FG(b,m),b!==null){b.flags&=32767,ds=b;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Cs=6,ds=null;return}}if(m=m.sibling,m!==null){ds=m;return}ds=m=A}while(m!==null);Cs===0&&(Cs=5)}function rA(A,m,b){var P=_r,R=bo.transition;try{bo.transition=null,_r=1,RG(A,m,b,P)}finally{bo.transition=R,_r=P}return null}function RG(A,m,b,P){do qf();while(Fu!==null);if((Sr&6)!==0)throw Error(r(327));b=A.finishedWork;var R=A.finishedLanes;if(b===null)return null;if(A.finishedWork=null,A.finishedLanes=0,b===A.current)throw Error(r(177));A.callbackNode=null,A.callbackPriority=0;var V=b.lanes|b.childLanes;if(Vp(A,V),A===Hs&&(ds=Hs=null,sa=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||jy||(jy=!0,oP(Kd,function(){return qf(),null})),V=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||V){V=bo.transition,bo.transition=null;var ae=_r;_r=1;var _e=Sr;Sr|=4,Q2.current=null,OG(A,b),K6(b,A),$c(Wc),tu=!!Kh,Wc=Kh=null,A.current=b,IG(b),mf(),Sr=_e,_r=ae,bo.transition=V}else A.current=b;if(jy&&(jy=!1,Fu=A,Ny=R),V=A.pendingLanes,V===0&&(Pu=null),Wd(b.stateNode),_i(A,pn()),m!==null)for(P=A.onRecoverableError,b=0;b<m.length;b++)R=m[b],P(R.value,{componentStack:R.stack,digest:R.digest});if(wy)throw wy=!1,A=q2,q2=null,A;return(Ny&1)!==0&&A.tag!==0&&qf(),V=A.pendingLanes,(V&1)!==0?A===z2?dg++:(dg=0,z2=A):dg=0,W(),null}function qf(){if(Fu!==null){var A=Yd(Ny),m=bo.transition,b=_r;try{if(bo.transition=null,_r=16>A?16:A,Fu===null)var P=!1;else{if(A=Fu,Fu=null,Ny=0,(Sr&6)!==0)throw Error(r(331));var R=Sr;for(Sr|=4,Bt=A.current;Bt!==null;){var V=Bt,ae=V.child;if((Bt.flags&16)!==0){var _e=V.deletions;if(_e!==null){for(var Pe=0;Pe<_e.length;Pe++){var Xe=_e[Pe];for(Bt=Xe;Bt!==null;){var ut=Bt;switch(ut.tag){case 0:case 11:case 15:og(8,ut,V)}var ht=ut.child;if(ht!==null)ht.return=ut,Bt=ht;else for(;Bt!==null;){ut=Bt;var dt=ut.sibling,Ct=ut.return;if(H6(ut),ut===Xe){Bt=null;break}if(dt!==null){dt.return=Ct,Bt=dt;break}Bt=Ct}}}var Pt=V.alternate;if(Pt!==null){var Tt=Pt.child;if(Tt!==null){Pt.child=null;do{var es=Tt.sibling;Tt.sibling=null,Tt=es}while(Tt!==null)}}Bt=V}}if((V.subtreeFlags&2064)!==0&&ae!==null)ae.return=V,Bt=ae;else e:for(;Bt!==null;){if(V=Bt,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:og(9,V,V.return)}var ze=V.sibling;if(ze!==null){ze.return=V.return,Bt=ze;break e}Bt=V.return}}var De=A.current;for(Bt=De;Bt!==null;){ae=Bt;var Ke=ae.child;if((ae.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=ae,Bt=Ke;else e:for(ae=De;Bt!==null;){if(_e=Bt,(_e.flags&2048)!==0)try{switch(_e.tag){case 0:case 11:case 15:yy(9,_e)}}catch(Ot){zn(_e,_e.return,Ot)}if(_e===ae){Bt=null;break e}var ft=_e.sibling;if(ft!==null){ft.return=_e.return,Bt=ft;break e}Bt=_e.return}}if(Sr=R,W(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Sc,A)}catch{}P=!0}return P}finally{_r=b,bo.transition=m}}return!1}function sP(A,m,b){m=Rf(b,m),m=w6(A,m,1),A=bi(A,m,1),m=Za(),A!==null&&(Dl(A,1,m),_i(A,m))}function zn(A,m,b){if(A.tag===3)sP(A,A,b);else for(;m!==null;){if(m.tag===3){sP(m,A,b);break}else if(m.tag===1){var P=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Pu===null||!Pu.has(P))){A=Rf(b,A),A=j6(m,A,1),m=bi(m,A,1),A=Za(),m!==null&&(Dl(m,1,A),_i(m,A));break}}m=m.return}}function QG(A,m,b){var P=A.pingCache;P!==null&&P.delete(m),m=Za(),A.pingedLanes|=A.suspendedLanes&b,Hs===A&&(sa&b)===b&&(Cs===4||Cs===3&&(sa&130023424)===sa&&500>pn()-$2?tA(A,0):H2|=b),_i(A,m)}function aP(A,m){m===0&&((A.mode&1)===0?m=1:(m=Il,Il<<=1,(Il&130023424)===0&&(Il=4194304)));var b=Za();A=kr(A,m),A!==null&&(Dl(A,m,b),_i(A,b))}function HG(A){var m=A.memoizedState,b=0;m!==null&&(b=m.retryLane),aP(A,b)}function $G(A,m){var b=0;switch(A.tag){case 13:var P=A.stateNode,R=A.memoizedState;R!==null&&(b=R.retryLane);break;case 19:P=A.stateNode;break;default:throw Error(r(314))}P!==null&&P.delete(m),aP(A,b)}var iP;iP=function(A,m,b){if(A!==null)if(A.memoizedProps!==m.pendingProps||va.current)ji=!0;else{if((A.lanes&b)===0&&(m.flags&128)===0)return ji=!1,kG(A,m,b);ji=(A.flags&131072)!==0}else ji=!1,tt&&(m.flags&1048576)!==0&&ot(m,le,m.index);switch(m.lanes=0,m.tag){case 2:var P=m.type;gy(A,m),A=m.pendingProps;var R=ju(m,Ns.current);bn(m,b),R=Xh(null,m,P,A,R,b);var V=vo();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ba(P)?(V=!0,Yc(m)):V=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,kf(m),R.updater=my,m.stateNode=R,R._reactInternals=m,S2(m,P,A,b),m=P2(null,m,P,!0,V,b)):(m.tag=0,tt&&V&&Ye(m),Ja(null,m,R,b),m=m.child),m;case 16:P=m.elementType;e:{switch(gy(A,m),A=m.pendingProps,R=P._init,P=R(P._payload),m.type=P,R=m.tag=zG(P),A=dl(P,A),R){case 0:m=k2(null,m,P,A,b);break e;case 1:m=F6(null,m,P,A,b);break e;case 11:m=S6(null,m,P,A,b);break e;case 14:m=B6(null,m,P,dl(P.type,A),b);break e}throw Error(r(306,P,""))}return m;case 0:return P=m.type,R=m.pendingProps,R=m.elementType===P?R:dl(P,R),k2(A,m,P,R,b);case 1:return P=m.type,R=m.pendingProps,R=m.elementType===P?R:dl(P,R),F6(A,m,P,R,b);case 3:e:{if(T6(m),A===null)throw Error(r(387));P=m.pendingProps,V=m.memoizedState,R=V.element,eg(A,m),il(m,P,null,b);var ae=m.memoizedState;if(P=ae.element,V.isDehydrated)if(V={element:P,isDehydrated:!1,cache:ae.cache,pendingSuspenseBoundaries:ae.pendingSuspenseBoundaries,transitions:ae.transitions},m.updateQueue.baseState=V,m.memoizedState=V,m.flags&256){R=Rf(Error(r(423)),m),m=O6(A,m,P,b,R);break e}else if(P!==R){R=Rf(Error(r(424)),m),m=O6(A,m,P,b,R);break e}else for(nt=ta(m.stateNode.containerInfo.firstChild),Te=m,tt=!0,at=null,b=Er(m,null,P,b),m.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(dr(),P===R){m=td(A,m,b);break e}Ja(A,m,P,b)}m=m.child}return m;case 5:return cy(m),A===null&&xt(m),P=m.type,R=m.pendingProps,V=A!==null?A.memoizedProps:null,ae=R.children,Gp(P,R)?ae=null:V!==null&&Gp(P,V)&&(m.flags|=32),P6(A,m),Ja(A,m,ae,b),m.child;case 6:return A===null&&xt(m),null;case 13:return I6(A,m,b);case 4:return Cu(m,m.stateNode.containerInfo),P=m.pendingProps,A===null?m.child=Yn(m,null,P,b):Ja(A,m,P,b),m.child;case 11:return P=m.type,R=m.pendingProps,R=m.elementType===P?R:dl(P,R),S6(A,m,P,R,b);case 7:return Ja(A,m,m.pendingProps,b),m.child;case 8:return Ja(A,m,m.pendingProps.children,b),m.child;case 12:return Ja(A,m,m.pendingProps.children,b),m.child;case 10:e:{if(P=m.type._context,R=m.pendingProps,V=m.memoizedProps,ae=R.value,Lr(Rs,P._currentValue),P._currentValue=ae,V!==null)if(Cr(V.value,ae)){if(V.children===R.children&&!va.current){m=td(A,m,b);break e}}else for(V=m.child,V!==null&&(V.return=m);V!==null;){var _e=V.dependencies;if(_e!==null){ae=V.child;for(var Pe=_e.firstContext;Pe!==null;){if(Pe.context===P){if(V.tag===1){Pe=vi(-1,b&-b),Pe.tag=2;var Xe=V.updateQueue;if(Xe!==null){Xe=Xe.shared;var ut=Xe.pending;ut===null?Pe.next=Pe:(Pe.next=ut.next,ut.next=Pe),Xe.pending=Pe}}V.lanes|=b,Pe=V.alternate,Pe!==null&&(Pe.lanes|=b),yi(V.return,b,m),_e.lanes|=b;break}Pe=Pe.next}}else if(V.tag===10)ae=V.type===m.type?null:V.child;else if(V.tag===18){if(ae=V.return,ae===null)throw Error(r(341));ae.lanes|=b,_e=ae.alternate,_e!==null&&(_e.lanes|=b),yi(ae,b,m),ae=V.sibling}else ae=V.child;if(ae!==null)ae.return=V;else for(ae=V;ae!==null;){if(ae===m){ae=null;break}if(V=ae.sibling,V!==null){V.return=ae.return,ae=V;break}ae=ae.return}V=ae}Ja(A,m,R.children,b),m=m.child}return m;case 9:return R=m.type,P=m.pendingProps.children,bn(m,b),R=$n(R),P=P(R),m.flags|=1,Ja(A,m,P,b),m.child;case 14:return P=m.type,R=dl(P,m.pendingProps),R=dl(P.type,R),B6(A,m,P,R,b);case 15:return E6(A,m,m.type,m.pendingProps,b);case 17:return P=m.type,R=m.pendingProps,R=m.elementType===P?R:dl(P,R),gy(A,m),m.tag=1,ba(P)?(A=!0,Yc(m)):A=!1,bn(m,b),v6(m,P,R),S2(m,P,R,b),P2(null,m,P,!0,A,b);case 19:return M6(A,m,b);case 22:return k6(A,m,b)}throw Error(r(156,m.tag))};function oP(A,m){return _c(A,m)}function qG(A,m,b,P){this.tag=A,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(A,m,b,P){return new qG(A,m,b,P)}function Y2(A){return A=A.prototype,!(!A||!A.isReactComponent)}function zG(A){if(typeof A=="function")return Y2(A)?1:0;if(A!=null){if(A=A.$$typeof,A===T)return 11;if(A===K)return 14}return 2}function Iu(A,m){var b=A.alternate;return b===null?(b=wo(A.tag,m,A.key,A.mode),b.elementType=A.elementType,b.type=A.type,b.stateNode=A.stateNode,b.alternate=A,A.alternate=b):(b.pendingProps=m,b.type=A.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=A.flags&14680064,b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,m=A.dependencies,b.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},b.sibling=A.sibling,b.index=A.index,b.ref=A.ref,b}function By(A,m,b,P,R,V){var ae=2;if(P=A,typeof A=="function")Y2(A)&&(ae=1);else if(typeof A=="string")ae=5;else e:switch(A){case I:return nA(b.children,R,V,m);case S:ae=8,R|=8;break;case E:return A=wo(12,b,m,R|2),A.elementType=E,A.lanes=V,A;case Q:return A=wo(13,b,m,R),A.elementType=Q,A.lanes=V,A;case U:return A=wo(19,b,m,R),A.elementType=U,A.lanes=V,A;case ee:return Ey(b,R,V,m);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case D:ae=10;break e;case N:ae=9;break e;case T:ae=11;break e;case K:ae=14;break e;case z:ae=16,P=null;break e}throw Error(r(130,A==null?A:typeof A,""))}return m=wo(ae,b,m,R),m.elementType=A,m.type=P,m.lanes=V,m}function nA(A,m,b,P){return A=wo(7,A,P,m),A.lanes=b,A}function Ey(A,m,b,P){return A=wo(22,A,P,m),A.elementType=ee,A.lanes=b,A.stateNode={isHidden:!1},A}function J2(A,m,b){return A=wo(6,A,null,m),A.lanes=b,A}function Z2(A,m,b){return m=wo(4,A.children!==null?A.children:[],A.key,m),m.lanes=b,m.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},m}function VG(A,m,b,P,R){this.tag=m,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=P,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function ej(A,m,b,P,R,V,ae,_e,Pe){return A=new VG(A,m,b,_e,Pe),m===1?(m=1,V===!0&&(m|=8)):m=0,V=wo(3,null,null,m),A.current=V,V.stateNode=A,V.memoizedState={element:P,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(V),A}function KG(A,m,b){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:P==null?null:""+P,children:A,containerInfo:m,implementation:b}}function lP(A){if(!A)return Xl;A=A._reactInternals;e:{if(ws(A)!==A||A.tag!==1)throw Error(r(170));var m=A;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ba(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(A.tag===1){var b=A.type;if(ba(b))return Zp(A,b,m)}return m}function cP(A,m,b,P,R,V,ae,_e,Pe){return A=ej(b,P,!0,A,R,V,ae,_e,Pe),A.context=lP(null),b=A.current,P=Za(),R=Tu(b),V=vi(P,R),V.callback=m??null,bi(b,V,R),A.current.lanes=R,Dl(A,R,P),_i(A,P),A}function ky(A,m,b,P){var R=m.current,V=Za(),ae=Tu(R);return b=lP(b),m.context===null?m.context=b:m.pendingContext=b,m=vi(V,ae),m.payload={element:A},P=P===void 0?null:P,P!==null&&(m.callback=P),A=bi(R,m,ae),A!==null&&(Al(A,R,ae,V),Jc(A,R,ae)),ae}function Py(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function dP(A,m){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var b=A.retryLane;A.retryLane=b!==0&&b<m?b:m}}function tj(A,m){dP(A,m),(A=A.alternate)&&dP(A,m)}function WG(){return null}var uP=typeof reportError=="function"?reportError:function(A){console.error(A)};function rj(A){this._internalRoot=A}Fy.prototype.render=rj.prototype.render=function(A){var m=this._internalRoot;if(m===null)throw Error(r(409));ky(A,m,null,null)},Fy.prototype.unmount=rj.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var m=A.containerInfo;eA(function(){ky(null,A,null,null)}),m[Us]=null}};function Fy(A){this._internalRoot=A}Fy.prototype.unstable_scheduleHydration=function(A){if(A){var m=io();A={blockedOn:null,target:A,priority:m};for(var b=0;b<lo.length&&m!==0&&m<lo[b].priority;b++);lo.splice(b,0,A),b===0&&Zd(A)}};function nj(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function Ty(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function hP(){}function GG(A,m,b,P,R){if(R){if(typeof P=="function"){var V=P;P=function(){var Xe=Py(ae);V.call(Xe)}}var ae=cP(m,P,A,0,null,!1,!1,"",hP);return A._reactRootContainer=ae,A[Us]=ae.current,Vc(A.nodeType===8?A.parentNode:A),eA(),ae}for(;R=A.lastChild;)A.removeChild(R);if(typeof P=="function"){var _e=P;P=function(){var Xe=Py(Pe);_e.call(Xe)}}var Pe=ej(A,0,!1,null,null,!1,!1,"",hP);return A._reactRootContainer=Pe,A[Us]=Pe.current,Vc(A.nodeType===8?A.parentNode:A),eA(function(){ky(m,Pe,b,P)}),Pe}function Oy(A,m,b,P,R){var V=b._reactRootContainer;if(V){var ae=V;if(typeof R=="function"){var _e=R;R=function(){var Pe=Py(ae);_e.call(Pe)}}ky(m,ae,A,R)}else ae=GG(b,m,A,R,P);return Py(ae)}yf=function(A){switch(A.tag){case 3:var m=A.stateNode;if(m.current.memoizedState.isDehydrated){var b=Ec(m.pendingLanes);b!==0&&(Xd(m,b|1),_i(m,pn()),(Sr&6)===0&&($f=pn()+500,W()))}break;case 13:eA(function(){var P=kr(A,1);if(P!==null){var R=Za();Al(P,A,1,R)}}),tj(A,1)}},Ph=function(A){if(A.tag===13){var m=kr(A,134217728);if(m!==null){var b=Za();Al(m,A,134217728,b)}tj(A,134217728)}},vf=function(A){if(A.tag===13){var m=Tu(A),b=kr(A,m);if(b!==null){var P=Za();Al(b,A,m,P)}tj(A,m)}},io=function(){return _r},Pc=function(A,m){var b=_r;try{return _r=A,m()}finally{_r=b}},Br=function(A,m,b){switch(m){case"input":if(Qe(A,b),m=b.name,b.type==="radio"&&m!=null){for(b=A;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<b.length;m++){var P=b[m];if(P!==A&&P.form===A.form){var R=Wh(P);if(!R)throw Error(r(90));we(P),Qe(P,R)}}}break;case"textarea":st(A,b);break;case"select":m=b.value,m!=null&&We(A,!!b.multiple,m,!1)}},Pl=W2,ls=eA;var XG={usingClientEntryPoint:!1,Events:[wu,Gc,Wh,tr,Nr,W2]},ug={findFiberByHostInstance:Gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YG={bundleType:ug.bundleType,version:ug.version,rendererPackageName:ug.rendererPackageName,rendererConfig:ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=Tl(A),A===null?null:A.stateNode},findFiberByHostInstance:ug.findFiberByHostInstance||WG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Iy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Iy.isDisabled&&Iy.supportsFiber)try{Sc=Iy.inject(YG),Ai=Iy}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XG,Ci.createPortal=function(A,m){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nj(m))throw Error(r(200));return KG(A,m,null,b)},Ci.createRoot=function(A,m){if(!nj(A))throw Error(r(299));var b=!1,P="",R=uP;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&(P=m.identifierPrefix),m.onRecoverableError!==void 0&&(R=m.onRecoverableError)),m=ej(A,1,!1,null,null,b,!1,P,R),A[Us]=m.current,Vc(A.nodeType===8?A.parentNode:A),new rj(m)},Ci.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var m=A._reactInternals;if(m===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=Tl(m),A=A===null?null:A.stateNode,A},Ci.flushSync=function(A){return eA(A)},Ci.hydrate=function(A,m,b){if(!Ty(m))throw Error(r(200));return Oy(null,A,m,!0,b)},Ci.hydrateRoot=function(A,m,b){if(!nj(A))throw Error(r(405));var P=b!=null&&b.hydratedSources||null,R=!1,V="",ae=uP;if(b!=null&&(b.unstable_strictMode===!0&&(R=!0),b.identifierPrefix!==void 0&&(V=b.identifierPrefix),b.onRecoverableError!==void 0&&(ae=b.onRecoverableError)),m=cP(m,null,A,1,b??null,R,!1,V,ae),A[Us]=m.current,Vc(A),P)for(A=0;A<P.length;A++)b=P[A],R=b._getVersion,R=R(b._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[b,R]:m.mutableSourceEagerHydrationData.push(b,R);return new Fy(m)},Ci.render=function(A,m,b){if(!Ty(m))throw Error(r(200));return Oy(null,A,m,!1,b)},Ci.unmountComponentAtNode=function(A){if(!Ty(A))throw Error(r(40));return A._reactRootContainer?(eA(function(){Oy(null,null,A,!1,function(){A._reactRootContainer=null,A[Us]=null})}),!0):!1},Ci.unstable_batchedUpdates=W2,Ci.unstable_renderSubtreeIntoContainer=function(A,m,b,P){if(!Ty(b))throw Error(r(200));if(A==null||A._reactInternals===void 0)throw Error(r(38));return Oy(A,m,b,!1,P)},Ci.version="18.3.1-next-f1338f8080-20240426",Ci}var vP;function D7(){if(vP)return ij.exports;vP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ij.exports=oX(),ij.exports}var bP;function lX(){if(bP)return My;bP=1;var t=D7();return My.createRoot=t.createRoot,My.hydrateRoot=t.hydrateRoot,My}var cX=lX();const dX=Dr(cX);D7();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},N0.apply(this,arguments)}var Xu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xu||(Xu={}));const wP="popstate";function uX(t){t===void 0&&(t={});function e(s,a){let{pathname:i,search:o,hash:l}=s.location;return I4("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:mb(a)}return AX(e,r,null,t)}function xs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function M7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hX(){return Math.random().toString(36).substr(2,8)}function jP(t,e){return{usr:t.state,key:t.key,idx:e}}function I4(t,e,r,s){return r===void 0&&(r=null),N0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ep(e):e,{state:r,key:e&&e.key||s||hX()})}function mb(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ep(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function AX(t,e,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l=Xu.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(N0({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function h(){l=Xu.Pop;let g=u(),x=g==null?null:g-d;d=g,c&&c({action:l,location:y.location,delta:x})}function f(g,x){l=Xu.Push;let w=I4(y.location,g,x);d=u()+1;let _=jP(w,d),k=y.createHref(w);try{o.pushState(_,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&c&&c({action:l,location:y.location,delta:1})}function p(g,x){l=Xu.Replace;let w=I4(y.location,g,x);d=u();let _=jP(w,d),k=y.createHref(w);o.replaceState(_,"",k),i&&c&&c({action:l,location:y.location,delta:0})}function v(g){let x=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof g=="string"?g:mb(g);return w=w.replace(/ $/,"%20"),xs(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return l},get location(){return t(a,o)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(wP,h),c=g,()=>{a.removeEventListener(wP,h),c=null}},createHref(g){return e(a,g)},createURL:v,encodeLocation(g){let x=v(g);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(g){return o.go(g)}};return y}var NP;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NP||(NP={}));function fX(t,e,r){return r===void 0&&(r="/"),mX(t,e,r)}function mX(t,e,r,s){let a=typeof e=="string"?Ep(e):e,i=O3(a.pathname||"/",r);if(i==null)return null;let o=L7(t);pX(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=BX(i);l=_X(o[c],d)}return l}function L7(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(xs(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=ah([s,c.relativePath]),u=r.concat(c);i.children&&i.children.length>0&&(xs(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),L7(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:jX(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of U7(i.path))a(i,o,c)}),e}function U7(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=U7(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function pX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:NX(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const gX=/^:[\w-]+$/,xX=3,yX=2,vX=1,bX=10,wX=-2,_P=t=>t==="*";function jX(t,e){let r=t.split("/"),s=r.length;return r.some(_P)&&(s+=wX),e&&(s+=yX),r.filter(a=>!_P(a)).reduce((a,i)=>a+(gX.test(i)?xX:i===""?vX:bX),s)}function NX(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function _X(t,e,r){let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=CX({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:ah([i,h.pathname]),pathnameBase:FX(ah([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=ah([i,h.pathnameBase]))}return o}function CX(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=SX(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((d,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=l[h]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?d[f]=void 0:d[f]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function SX(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),M7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function BX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return M7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function O3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}function EX(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:a=""}=typeof t=="string"?Ep(t):t;return{pathname:r?r.startsWith("/")?r:kX(r,e):e,search:TX(s),hash:OX(a)}}function kX(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function cj(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PX(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function R7(t,e){let r=PX(t);return e?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Q7(t,e,r,s){s===void 0&&(s=!1);let a;typeof t=="string"?a=Ep(t):(a=N0({},t),xs(!a.pathname||!a.pathname.includes("?"),cj("?","pathname","search",a)),xs(!a.pathname||!a.pathname.includes("#"),cj("#","pathname","hash",a)),xs(!a.search||!a.search.includes("#"),cj("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=EX(a,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ah=t=>t.join("/").replace(/\/\/+/g,"/"),FX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IX(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H7=["post","put","patch","delete"];new Set(H7);const DX=["get",...H7];new Set(DX);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_0.apply(this,arguments)}const I3=O.createContext(null),MX=O.createContext(null),rf=O.createContext(null),Kw=O.createContext(null),Ud=O.createContext({outlet:null,matches:[],isDataRoute:!1}),$7=O.createContext(null);function LX(t,e){let{relative:r}=e===void 0?{}:e;Ox()||xs(!1);let{basename:s,navigator:a}=O.useContext(rf),{hash:i,pathname:o,search:l}=z7(t,{relative:r}),c=o;return s!=="/"&&(c=o==="/"?s:ah([s,o])),a.createHref({pathname:c,search:l,hash:i})}function Ox(){return O.useContext(Kw)!=null}function nf(){return Ox()||xs(!1),O.useContext(Kw).location}function q7(t){O.useContext(rf).static||O.useLayoutEffect(t)}function ui(){let{isDataRoute:t}=O.useContext(Ud);return t?ZX():UX()}function UX(){Ox()||xs(!1);let t=O.useContext(I3),{basename:e,future:r,navigator:s}=O.useContext(rf),{matches:a}=O.useContext(Ud),{pathname:i}=nf(),o=JSON.stringify(R7(a,r.v7_relativeSplatPath)),l=O.useRef(!1);return q7(()=>{l.current=!0}),O.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let h=Q7(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ah([e,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[e,s,o,i,t])}const RX=O.createContext(null);function QX(t){let e=O.useContext(Ud).outlet;return e&&O.createElement(RX.Provider,{value:t},e)}function D3(){let{matches:t}=O.useContext(Ud),e=t[t.length-1];return e?e.params:{}}function z7(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=O.useContext(rf),{matches:a}=O.useContext(Ud),{pathname:i}=nf(),o=JSON.stringify(R7(a,s.v7_relativeSplatPath));return O.useMemo(()=>Q7(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function HX(t,e){return $X(t,e)}function $X(t,e,r,s){Ox()||xs(!1);let{navigator:a}=O.useContext(rf),{matches:i}=O.useContext(Ud),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=nf(),u;if(e){var h;let g=typeof e=="string"?Ep(e):e;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||xs(!1),u=g}else u=d;let f=u.pathname||"/",p=f;if(c!=="/"){let g=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=fX(t,{pathname:p}),y=WX(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:ah([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:ah([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,s);return e&&y?O.createElement(Kw.Provider,{value:{location:_0({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xu.Pop}},y):y}function qX(){let t=JX(),e=IX(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),r?O.createElement("pre",{style:a},r):null,null)}const zX=O.createElement(qX,null);class VX extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?O.createElement(Ud.Provider,{value:this.props.routeContext},O.createElement($7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KX(t){let{routeContext:e,match:r,children:s}=t,a=O.useContext(I3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(Ud.Provider,{value:e},s)}function WX(t,e,r,s){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let u=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);u>=0||xs(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,v=!1,y=null,g=null;r&&(p=l&&h.route.id?l[h.route.id]:void 0,y=h.route.errorElement||zX,c&&(d<0&&f===0?(eY("route-fallback"),v=!0,g=null):d===f&&(v=!0,g=h.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,f+1)),w=()=>{let _;return p?_=y:v?_=g:h.route.Component?_=O.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,O.createElement(KX,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:r!=null},children:_})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?O.createElement(VX,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var V7=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(V7||{}),K7=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(K7||{});function GX(t){let e=O.useContext(I3);return e||xs(!1),e}function XX(t){let e=O.useContext(MX);return e||xs(!1),e}function YX(t){let e=O.useContext(Ud);return e||xs(!1),e}function W7(t){let e=YX(),r=e.matches[e.matches.length-1];return r.route.id||xs(!1),r.route.id}function JX(){var t;let e=O.useContext($7),r=XX(),s=W7();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function ZX(){let{router:t}=GX(V7.UseNavigateStable),e=W7(K7.UseNavigateStable),r=O.useRef(!1);return q7(()=>{r.current=!0}),O.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,_0({fromRouteId:e},i)))},[t,e])}const CP={};function eY(t,e,r){CP[t]||(CP[t]=!0)}function tY(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function rY(t){return QX(t.context)}function Mt(t){xs(!1)}function nY(t){let{basename:e="/",children:r=null,location:s,navigationType:a=Xu.Pop,navigator:i,static:o=!1,future:l}=t;Ox()&&xs(!1);let c=e.replace(/^\/*/,"/"),d=O.useMemo(()=>({basename:c,navigator:i,static:o,future:_0({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof s=="string"&&(s=Ep(s));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:v="default"}=s,y=O.useMemo(()=>{let g=O3(u,c);return g==null?null:{location:{pathname:g,search:h,hash:f,state:p,key:v},navigationType:a}},[c,u,h,f,p,v,a]);return y==null?null:O.createElement(rf.Provider,{value:d},O.createElement(Kw.Provider,{children:r,value:y}))}function sY(t){let{children:e,location:r}=t;return HX(D4(e),r)}new Promise(()=>{});function D4(t,e){e===void 0&&(e=[]);let r=[];return O.Children.forEach(t,(s,a)=>{if(!O.isValidElement(s))return;let i=[...e,a];if(s.type===O.Fragment){r.push.apply(r,D4(s.props.children,i));return}s.type!==Mt&&xs(!1),!s.props.index||!s.props.children||xs(!1);let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=D4(s.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M4(){return M4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},M4.apply(this,arguments)}function aY(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function iY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oY(t,e){return t.button===0&&(!e||e==="_self")&&!iY(t)}function L4(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let s=t[r];return e.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function lY(t,e){let r=L4(t);return e&&e.forEach((s,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const cY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dY="6";try{window.__reactRouterVersion=dY}catch{}const uY="startTransition",SP=sX[uY];function hY(t){let{basename:e,children:r,future:s,window:a}=t,i=O.useRef();i.current==null&&(i.current=uX({window:a,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:d}=s||{},u=O.useCallback(h=>{d&&SP?SP(()=>c(h)):c(h)},[c,d]);return O.useLayoutEffect(()=>o.listen(u),[o,u]),O.useEffect(()=>tY(s),[s]),O.createElement(nY,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:s})}const AY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cl=O.forwardRef(function(e,r){let{onClick:s,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,f=aY(e,cY),{basename:p}=O.useContext(rf),v,y=!1;if(typeof d=="string"&&fY.test(d)&&(v=d,AY))try{let _=new URL(window.location.href),k=d.startsWith("//")?new URL(_.protocol+d):new URL(d),C=O3(k.pathname,p);k.origin===_.origin&&C!=null?d=C+k.search+k.hash:y=!0}catch{}let g=LX(d,{relative:a}),x=mY(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:a,viewTransition:h});function w(_){s&&s(_),_.defaultPrevented||x(_)}return O.createElement("a",M4({},f,{href:v||g,onClick:y||i?s:w,ref:r,target:c}))});var BP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BP||(BP={}));var EP;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(EP||(EP={}));function mY(t,e){let{target:r,replace:s,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=ui(),d=nf(),u=z7(t,{relative:o});return O.useCallback(h=>{if(oY(h,r)){h.preventDefault();let f=s!==void 0?s:mb(d)===mb(u);c(t,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,s,a,r,t,i,o,l])}function G7(t){let e=O.useRef(L4(t)),r=O.useRef(!1),s=nf(),a=O.useMemo(()=>lY(s.search,r.current?null:e.current),[s.search]),i=ui(),o=O.useCallback((l,c)=>{const d=L4(typeof l=="function"?l(a):l);r.current=!0,i("?"+d,c)},[i,a]);return[a,o]}const M3=O.createContext({});function L3(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const U3=typeof window<"u",X7=U3?O.useLayoutEffect:O.useEffect,Ww=O.createContext(null);function R3(t,e){t.indexOf(e)===-1&&t.push(e)}function Q3(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const _d=(t,e,r)=>r>e?e:r<t?t:r;let H3=()=>{};const Cd={},Y7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function J7(t){return typeof t=="object"&&t!==null}const Z7=t=>/^0[^.\s]+$/u.test(t);function $3(t){let e;return()=>(e===void 0&&(e=t()),e)}const Uo=t=>t,pY=(t,e)=>r=>e(t(r)),Ix=(...t)=>t.reduce(pY),C0=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class q3{constructor(){this.subscriptions=[]}add(e){return R3(this.subscriptions,e),()=>Q3(this.subscriptions,e)}notify(e,r,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,s);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hc=t=>t*1e3,Oo=t=>t/1e3;function e9(t,e){return e?t*(1e3/e):0}const t9=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,gY=1e-7,xY=12;function yY(t,e,r,s,a){let i,o,l=0;do o=e+(r-e)/2,i=t9(o,s,a)-t,i>0?r=o:e=o;while(Math.abs(i)>gY&&++l<xY);return o}function Dx(t,e,r,s){if(t===e&&r===s)return Uo;const a=i=>yY(i,0,1,t,r);return i=>i===0||i===1?i:t9(a(i),e,s)}const r9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n9=t=>e=>1-t(1-e),s9=Dx(.33,1.53,.69,.99),z3=n9(s9),a9=r9(z3),i9=t=>(t*=2)<1?.5*z3(t):.5*(2-Math.pow(2,-10*(t-1))),V3=t=>1-Math.sin(Math.acos(t)),o9=n9(V3),l9=r9(V3),vY=Dx(.42,0,1,1),bY=Dx(0,0,.58,1),c9=Dx(.42,0,.58,1),wY=t=>Array.isArray(t)&&typeof t[0]!="number",d9=t=>Array.isArray(t)&&typeof t[0]=="number",jY={linear:Uo,easeIn:vY,easeInOut:c9,easeOut:bY,circIn:V3,circInOut:l9,circOut:o9,backIn:z3,backInOut:a9,backOut:s9,anticipate:i9},NY=t=>typeof t=="string",kP=t=>{if(d9(t)){H3(t.length===4);const[e,r,s,a]=t;return Dx(e,r,s,a)}else if(NY(t))return jY[t];return t},Ly=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _Y(t,e){let r=new Set,s=new Set,a=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(u){o.has(u)&&(d.schedule(u),t()),u(l)}const d={schedule:(u,h=!1,f=!1)=>{const v=f&&a?r:s;return h&&o.add(u),v.has(u)||v.add(u),u},cancel:u=>{s.delete(u),o.delete(u)},process:u=>{if(l=u,a){i=!0;return}a=!0,[r,s]=[s,r],r.forEach(c),r.clear(),a=!1,i&&(i=!1,d.process(u))}};return d}const CY=40;function u9(t,e){let r=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Ly.reduce((_,k)=>(_[k]=_Y(i),_),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:f,render:p,postRender:v}=o,y=()=>{const _=Cd.useManualTiming?a.timestamp:performance.now();r=!1,Cd.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(_-a.timestamp,CY),1)),a.timestamp=_,a.isProcessing=!0,l.process(a),c.process(a),d.process(a),u.process(a),h.process(a),f.process(a),p.process(a),v.process(a),a.isProcessing=!1,r&&e&&(s=!1,t(y))},g=()=>{r=!0,s=!0,a.isProcessing||t(y)};return{schedule:Ly.reduce((_,k)=>{const C=o[k];return _[k]=(B,I=!1,S=!1)=>(r||g(),C.schedule(B,I,S)),_},{}),cancel:_=>{for(let k=0;k<Ly.length;k++)o[Ly[k]].cancel(_)},state:a,steps:o}}const{schedule:Fn,cancel:hh,state:ia,steps:dj}=u9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Uo,!0);let Gv;function SY(){Gv=void 0}const Pi={now:()=>(Gv===void 0&&Pi.set(ia.isProcessing||Cd.useManualTiming?ia.timestamp:performance.now()),Gv),set:t=>{Gv=t,queueMicrotask(SY)}},h9=t=>e=>typeof e=="string"&&e.startsWith(t),K3=h9("--"),BY=h9("var(--"),W3=t=>BY(t)?EY.test(t.split("/*")[0].trim()):!1,EY=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kp={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},S0={...kp,transform:t=>_d(0,1,t)},Uy={...kp,default:1},Yg=t=>Math.round(t*1e5)/1e5,G3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kY(t){return t==null}const PY=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X3=(t,e)=>r=>!!(typeof r=="string"&&PY.test(r)&&r.startsWith(t)||e&&!kY(r)&&Object.prototype.hasOwnProperty.call(r,e)),A9=(t,e,r)=>s=>{if(typeof s!="string")return s;const[a,i,o,l]=s.match(G3);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},FY=t=>_d(0,255,t),uj={...kp,transform:t=>Math.round(FY(t))},SA={test:X3("rgb","red"),parse:A9("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+uj.transform(t)+", "+uj.transform(e)+", "+uj.transform(r)+", "+Yg(S0.transform(s))+")"};function TY(t){let e="",r="",s="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const U4={test:X3("#"),parse:TY,transform:SA.transform},Mx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qu=Mx("deg"),Ac=Mx("%"),Zt=Mx("px"),OY=Mx("vh"),IY=Mx("vw"),PP={...Ac,parse:t=>Ac.parse(t)/100,transform:t=>Ac.transform(t*100)},wm={test:X3("hsl","hue"),parse:A9("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ac.transform(Yg(e))+", "+Ac.transform(Yg(r))+", "+Yg(S0.transform(s))+")"},ms={test:t=>SA.test(t)||U4.test(t)||wm.test(t),parse:t=>SA.test(t)?SA.parse(t):wm.test(t)?wm.parse(t):U4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?SA.transform(t):wm.transform(t),getAnimatableNone:t=>{const e=ms.parse(t);return e.alpha=0,ms.transform(e)}},DY=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MY(t){return isNaN(t)&&typeof t=="string"&&(t.match(G3)?.length||0)+(t.match(DY)?.length||0)>0}const f9="number",m9="color",LY="var",UY="var(",FP="${}",RY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function B0(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},a=[];let i=0;const l=e.replace(RY,c=>(ms.test(c)?(s.color.push(i),a.push(m9),r.push(ms.parse(c))):c.startsWith(UY)?(s.var.push(i),a.push(LY),r.push(c)):(s.number.push(i),a.push(f9),r.push(parseFloat(c))),++i,FP)).split(FP);return{values:r,split:l,indexes:s,types:a}}function p9(t){return B0(t).values}function g9(t){const{split:e,types:r}=B0(t),s=e.length;return a=>{let i="";for(let o=0;o<s;o++)if(i+=e[o],a[o]!==void 0){const l=r[o];l===f9?i+=Yg(a[o]):l===m9?i+=ms.transform(a[o]):i+=a[o]}return i}}const QY=t=>typeof t=="number"?0:ms.test(t)?ms.getAnimatableNone(t):t;function HY(t){const e=p9(t);return g9(t)(e.map(QY))}const Ah={test:MY,parse:p9,createTransformer:g9,getAnimatableNone:HY};function hj(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function $Y({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=hj(c,l,t+1/3),i=hj(c,l,t),o=hj(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:s}}function pb(t,e){return r=>r>0?e:t}const Ln=(t,e,r)=>t+(e-t)*r,Aj=(t,e,r)=>{const s=t*t,a=r*(e*e-s)+s;return a<0?0:Math.sqrt(a)},qY=[U4,SA,wm],zY=t=>qY.find(e=>e.test(t));function TP(t){const e=zY(t);if(!e)return!1;let r=e.parse(t);return e===wm&&(r=$Y(r)),r}const OP=(t,e)=>{const r=TP(t),s=TP(e);if(!r||!s)return pb(t,e);const a={...r};return i=>(a.red=Aj(r.red,s.red,i),a.green=Aj(r.green,s.green,i),a.blue=Aj(r.blue,s.blue,i),a.alpha=Ln(r.alpha,s.alpha,i),SA.transform(a))},R4=new Set(["none","hidden"]);function VY(t,e){return R4.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function KY(t,e){return r=>Ln(t,e,r)}function Y3(t){return typeof t=="number"?KY:typeof t=="string"?W3(t)?pb:ms.test(t)?OP:XY:Array.isArray(t)?x9:typeof t=="object"?ms.test(t)?OP:WY:pb}function x9(t,e){const r=[...t],s=r.length,a=t.map((i,o)=>Y3(i)(i,e[o]));return i=>{for(let o=0;o<s;o++)r[o]=a[o](i);return r}}function WY(t,e){const r={...t,...e},s={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(s[a]=Y3(t[a])(t[a],e[a]));return a=>{for(const i in s)r[i]=s[i](a);return r}}function GY(t,e){const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][s[i]],l=t.values[o]??0;r[a]=l,s[i]++}return r}const XY=(t,e)=>{const r=Ah.createTransformer(e),s=B0(t),a=B0(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?R4.has(t)&&!a.values.length||R4.has(e)&&!s.values.length?VY(t,e):Ix(x9(GY(s,a),a.values),r):pb(t,e)};function y9(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Ln(t,e,r):Y3(t)(t,e)}const YY=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Fn.update(e,r),stop:()=>hh(e),now:()=>ia.isProcessing?ia.timestamp:Pi.now()}},v9=(t,e,r=10)=>{let s="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)s+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gb=2e4;function J3(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<gb;)e+=r,s=t.next(e);return e>=gb?1/0:e}function JY(t,e=100,r){const s=r({...t,keyframes:[0,e]}),a=Math.min(J3(s),gb);return{type:"keyframes",ease:i=>s.next(a*i).value/e,duration:Oo(a)}}const ZY=5;function b9(t,e,r){const s=Math.max(e-ZY,0);return e9(r-t(s),e-s)}const Kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fj=.001;function eJ({duration:t=Kn.duration,bounce:e=Kn.bounce,velocity:r=Kn.velocity,mass:s=Kn.mass}){let a,i,o=1-e;o=_d(Kn.minDamping,Kn.maxDamping,o),t=_d(Kn.minDuration,Kn.maxDuration,Oo(t)),o<1?(a=d=>{const u=d*o,h=u*t,f=u-r,p=Q4(d,o),v=Math.exp(-h);return fj-f/p*v},i=d=>{const h=d*o*t,f=h*r+r,p=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-h),y=Q4(Math.pow(d,2),o);return(-a(d)+fj>0?-1:1)*((f-p)*v)/y}):(a=d=>{const u=Math.exp(-d*t),h=(d-r)*t+1;return-fj+u*h},i=d=>{const u=Math.exp(-d*t),h=(r-d)*(t*t);return u*h});const l=5/t,c=rJ(a,i,l);if(t=hc(t),isNaN(c))return{stiffness:Kn.stiffness,damping:Kn.damping,duration:t};{const d=Math.pow(c,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:t}}}const tJ=12;function rJ(t,e,r){let s=r;for(let a=1;a<tJ;a++)s=s-t(s)/e(s);return s}function Q4(t,e){return t*Math.sqrt(1-e*e)}const nJ=["duration","bounce"],sJ=["stiffness","damping","mass"];function IP(t,e){return e.some(r=>t[r]!==void 0)}function aJ(t){let e={velocity:Kn.velocity,stiffness:Kn.stiffness,damping:Kn.damping,mass:Kn.mass,isResolvedFromDuration:!1,...t};if(!IP(t,sJ)&&IP(t,nJ))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),a=s*s,i=2*_d(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Kn.mass,stiffness:a,damping:i}}else{const r=eJ(t);e={...e,...r,mass:Kn.mass},e.isResolvedFromDuration=!0}return e}function xb(t=Kn.visualDuration,e=Kn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:f,isResolvedFromDuration:p}=aJ({...r,velocity:-Oo(r.velocity||0)}),v=f||0,y=d/(2*Math.sqrt(c*u)),g=o-i,x=Oo(Math.sqrt(c/u)),w=Math.abs(g)<5;s||(s=w?Kn.restSpeed.granular:Kn.restSpeed.default),a||(a=w?Kn.restDelta.granular:Kn.restDelta.default);let _;if(y<1){const C=Q4(x,y);_=B=>{const I=Math.exp(-y*x*B);return o-I*((v+y*x*g)/C*Math.sin(C*B)+g*Math.cos(C*B))}}else if(y===1)_=C=>o-Math.exp(-x*C)*(g+(v+x*g)*C);else{const C=x*Math.sqrt(y*y-1);_=B=>{const I=Math.exp(-y*x*B),S=Math.min(C*B,300);return o-I*((v+y*x*g)*Math.sinh(S)+C*g*Math.cosh(S))/C}}const k={calculatedDuration:p&&h||null,next:C=>{const B=_(C);if(p)l.done=C>=h;else{let I=C===0?v:0;y<1&&(I=C===0?hc(v):b9(_,C,B));const S=Math.abs(I)<=s,E=Math.abs(o-B)<=a;l.done=S&&E}return l.value=l.done?o:B,l},toString:()=>{const C=Math.min(J3(k),gb),B=v9(I=>k.next(C*I).value,C,30);return C+"ms "+B},toTransition:()=>{}};return k}xb.applyToOptions=t=>{const e=JY(t,100,xb);return t.ease=e.ease,t.duration=hc(e.duration),t.type="keyframes",t};function H4({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},p=S=>l!==void 0&&S<l||c!==void 0&&S>c,v=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let y=r*e;const g=h+y,x=o===void 0?g:o(g);x!==g&&(y=x-h);const w=S=>-y*Math.exp(-S/s),_=S=>x+w(S),k=S=>{const E=w(S),D=_(S);f.done=Math.abs(E)<=d,f.value=f.done?x:D};let C,B;const I=S=>{p(f.value)&&(C=S,B=xb({keyframes:[f.value,v(f.value)],velocity:b9(_,S,f.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return I(0),{calculatedDuration:null,next:S=>{let E=!1;return!B&&C===void 0&&(E=!0,k(S),I(S)),C!==void 0&&S>=C?B.next(S-C):(!E&&k(S),f)}}}function iJ(t,e,r){const s=[],a=r||Cd.mix||y9,i=t.length-1;for(let o=0;o<i;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Uo:e;l=Ix(c,l)}s.push(l)}return s}function oJ(t,e,{clamp:r=!0,ease:s,mixer:a}={}){const i=t.length;if(H3(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=iJ(e,s,a),c=l.length,d=u=>{if(o&&u<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const f=C0(t[h],t[h+1],u);return l[h](f)};return r?u=>d(_d(t[0],t[i-1],u)):d}function lJ(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const a=C0(0,e,s);t.push(Ln(r,1,a))}}function cJ(t){const e=[0];return lJ(e,t.length-1),e}function dJ(t,e){return t.map(r=>r*e)}function uJ(t,e){return t.map(()=>e||c9).splice(0,t.length-1)}function Jg({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const a=wY(s)?s.map(kP):kP(s),i={done:!1,value:e[0]},o=dJ(r&&r.length===e.length?r:cJ(e),t),l=oJ(o,e,{ease:Array.isArray(a)?a:uJ(e,a)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const hJ=t=>t!==null;function Z3(t,{repeat:e,repeatType:r="loop"},s,a=1){const i=t.filter(hJ),l=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||s===void 0?i[l]:s}const AJ={decay:H4,inertia:H4,tween:Jg,keyframes:Jg,spring:xb};function w9(t){typeof t.type=="string"&&(t.type=AJ[t.type])}class eE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const fJ=t=>t/100;class tE extends eE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Pi.now()&&this.tick(Pi.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;w9(e);const{type:r=Jg,repeat:s=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||Jg;c!==Jg&&typeof l[0]!="number"&&(this.mixKeyframes=Ix(fJ,y9(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=J3(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:f,repeatDelay:p,type:v,onUpdate:y,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const x=this.currentTime-d*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,k=s;if(h){const S=Math.min(this.currentTime,a)/l;let E=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&E--,E=Math.min(E,h+1),!!(E%2)&&(f==="reverse"?(D=1-D,p&&(D-=p/l)):f==="mirror"&&(k=o)),_=_d(0,1,D)*l}const C=w?{done:!1,value:u[0]}:k.next(_);i&&(C.value=i(C.value));let{done:B}=C;!w&&c!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return I&&v!==H4&&(C.value=Z3(u,this.options,g,this.speed)),y&&y(C.value),I&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Oo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oo(e)}get time(){return Oo(this.currentTime)}set time(e){e=hc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pi.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Oo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=YY,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pi.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function mJ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const BA=t=>t*180/Math.PI,$4=t=>{const e=BA(Math.atan2(t[1],t[0]));return q4(e)},pJ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$4,rotateZ:$4,skewX:t=>BA(Math.atan(t[1])),skewY:t=>BA(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},q4=t=>(t=t%360,t<0&&(t+=360),t),DP=$4,MP=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),LP=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),gJ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MP,scaleY:LP,scale:t=>(MP(t)+LP(t))/2,rotateX:t=>q4(BA(Math.atan2(t[6],t[5]))),rotateY:t=>q4(BA(Math.atan2(-t[2],t[0]))),rotateZ:DP,rotate:DP,skewX:t=>BA(Math.atan(t[4])),skewY:t=>BA(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function z4(t){return t.includes("scale")?1:0}function V4(t,e){if(!t||t==="none")return z4(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(r)s=gJ,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=pJ,a=l}if(!a)return z4(e);const i=s[e],o=a[1].split(",").map(yJ);return typeof i=="function"?i(o):o[i]}const xJ=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return V4(r,e)};function yJ(t){return parseFloat(t.trim())}const Pp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fp=new Set(Pp),UP=t=>t===kp||t===Zt,vJ=new Set(["x","y","z"]),bJ=Pp.filter(t=>!vJ.has(t));function wJ(t){const e=[];return bJ.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const MA={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>V4(e,"x"),y:(t,{transform:e})=>V4(e,"y")};MA.translateX=MA.x;MA.translateY=MA.y;const LA=new Set;let K4=!1,W4=!1,G4=!1;function j9(){if(W4){const t=Array.from(LA).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const a=wJ(s);a.length&&(r.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=r.get(s);a&&a.forEach(([i,o])=>{s.getValue(i)?.set(o)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}W4=!1,K4=!1,LA.forEach(t=>t.complete(G4)),LA.clear()}function N9(){LA.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(W4=!0)})}function jJ(){G4=!0,N9(),j9(),G4=!1}class rE{constructor(e,r,s,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(LA.add(this),K4||(K4=!0,Fn.read(N9),Fn.resolveKeyframes(j9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(s&&r){const l=s.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}mJ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),LA.delete(this)}cancel(){this.state==="scheduled"&&(LA.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const NJ=t=>t.startsWith("--");function _J(t,e,r){NJ(e)?t.style.setProperty(e,r):t.style[e]=r}const CJ=$3(()=>window.ScrollTimeline!==void 0),SJ={};function BJ(t,e){const r=$3(t);return()=>SJ[e]??r()}const _9=BJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dg=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,RP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dg([0,.65,.55,1]),circOut:Dg([.55,0,1,.45]),backIn:Dg([.31,.01,.66,-.59]),backOut:Dg([.33,1.53,.69,.99])};function C9(t,e){if(t)return typeof t=="function"?_9()?v9(t,e):"ease-out":d9(t)?Dg(t):Array.isArray(t)?t.map(r=>C9(r,e)||RP.easeOut):RP[t]}function EJ(t,e,r,{delay:s=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const u={[e]:r};c&&(u.offset=c);const h=C9(l,a);Array.isArray(h)&&(u.easing=h);const f={delay:s,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(f.pseudoElement=d),t.animate(u,f)}function S9(t){return typeof t=="function"&&"applyToOptions"in t}function kJ({type:t,...e}){return S9(t)&&_9()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class PJ extends eE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,H3(typeof e.type!="string");const d=kJ(e);this.animation=EJ(r,s,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Z3(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):_J(r,s,u),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Oo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Oo(e)}get time(){return Oo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&CJ()?(this.animation.timeline=e,Uo):r(this)}}const B9={anticipate:i9,backInOut:a9,circInOut:l9};function FJ(t){return t in B9}function TJ(t){typeof t.ease=="string"&&FJ(t.ease)&&(t.ease=B9[t.ease])}const QP=10;class OJ extends PJ{constructor(e){TJ(e),w9(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new tE({...o,autoplay:!1}),c=hc(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-QP).value,l.sample(c).value,QP),l.stop()}}const HP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ah.test(t)||t==="0")&&!t.startsWith("url("));function IJ(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function DJ(t,e,r,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=HP(a,e),l=HP(i,e);return!o||!l?!1:IJ(t)||(r==="spring"||S9(r))&&s}function X4(t){t.duration=0,t.type="keyframes"}const MJ=new Set(["opacity","clipPath","filter","transform"]),LJ=$3(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function UJ(t){const{motionValue:e,name:r,repeatDelay:s,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return LJ()&&r&&MJ.has(r)&&(r!=="transform"||!d)&&!c&&!s&&a!=="mirror"&&i!==0&&o!=="inertia"}const RJ=40;class QJ extends eE{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:u,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pi.now();const f={autoplay:e,delay:r,type:s,repeat:a,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:u,...h},p=u?.KeyframeResolver||rE;this.keyframeResolver=new p(l,(v,y,g)=>this.onKeyframesResolved(v,y,f,!g),c,d,u),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,s,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:u}=s;this.resolvedAt=Pi.now(),DJ(e,i,o,l)||((Cd.instantAnimations||!c)&&u?.(Z3(e,s,r)),e[0]=e[e.length-1],X4(s),s.repeat=0);const f={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>RJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},p=!d&&UJ(f)?new OJ({...f,element:f.motionValue.owner.current}):new tE(f);p.finished.then(()=>this.notifyFinished()).catch(Uo),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),jJ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const HJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $J(t){const e=HJ.exec(t);if(!e)return[,];const[,r,s,a]=e;return[`--${r??s}`,a]}function E9(t,e,r=1){const[s,a]=$J(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const o=i.trim();return Y7(o)?parseFloat(o):o}return W3(a)?E9(a,e,r+1):a}function nE(t,e){return t?.[e]??t?.default??t}const k9=new Set(["width","height","top","left","right","bottom",...Pp]),qJ={test:t=>t==="auto",parse:t=>t},P9=t=>e=>e.test(t),F9=[kp,Zt,Ac,Qu,IY,OY,qJ],$P=t=>F9.find(P9(t));function zJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Z7(t):!0}const VJ=new Set(["brightness","contrast","saturate","opacity"]);function KJ(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(G3)||[];if(!s)return t;const a=r.replace(s,"");let i=VJ.has(e)?1:0;return s!==r&&(i*=100),e+"("+i+a+")"}const WJ=/\b([a-z-]*)\(.*?\)/gu,Y4={...Ah,getAnimatableNone:t=>{const e=t.match(WJ);return e?e.map(KJ).join(" "):t}},qP={...kp,transform:Math.round},GJ={rotate:Qu,rotateX:Qu,rotateY:Qu,rotateZ:Qu,scale:Uy,scaleX:Uy,scaleY:Uy,scaleZ:Uy,skew:Qu,skewX:Qu,skewY:Qu,distance:Zt,translateX:Zt,translateY:Zt,translateZ:Zt,x:Zt,y:Zt,z:Zt,perspective:Zt,transformPerspective:Zt,opacity:S0,originX:PP,originY:PP,originZ:Zt},sE={borderWidth:Zt,borderTopWidth:Zt,borderRightWidth:Zt,borderBottomWidth:Zt,borderLeftWidth:Zt,borderRadius:Zt,radius:Zt,borderTopLeftRadius:Zt,borderTopRightRadius:Zt,borderBottomRightRadius:Zt,borderBottomLeftRadius:Zt,width:Zt,maxWidth:Zt,height:Zt,maxHeight:Zt,top:Zt,right:Zt,bottom:Zt,left:Zt,padding:Zt,paddingTop:Zt,paddingRight:Zt,paddingBottom:Zt,paddingLeft:Zt,margin:Zt,marginTop:Zt,marginRight:Zt,marginBottom:Zt,marginLeft:Zt,backgroundPositionX:Zt,backgroundPositionY:Zt,...GJ,zIndex:qP,fillOpacity:S0,strokeOpacity:S0,numOctaves:qP},XJ={...sE,color:ms,backgroundColor:ms,outlineColor:ms,fill:ms,stroke:ms,borderColor:ms,borderTopColor:ms,borderRightColor:ms,borderBottomColor:ms,borderLeftColor:ms,filter:Y4,WebkitFilter:Y4},T9=t=>XJ[t];function O9(t,e){let r=T9(t);return r!==Y4&&(r=Ah),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const YJ=new Set(["auto","none","0"]);function JJ(t,e,r){let s=0,a;for(;s<t.length&&!a;){const i=t[s];typeof i=="string"&&!YJ.has(i)&&B0(i).values.length&&(a=t[s]),s++}if(a&&r)for(const i of e)t[i]=O9(r,a)}class ZJ extends rE{constructor(e,r,s,a,i){super(e,r,s,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),W3(d))){const u=E9(d,r.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!k9.has(s)||e.length!==2)return;const[a,i]=e,o=$P(a),l=$P(i);if(o!==l)if(UP(o)&&UP(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else MA[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||zJ(e[a]))&&s.push(a);s.length&&JJ(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=MA[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=s.length-1,o=s[i];s[i]=MA[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function eZ(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=r?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const I9=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function D9(t){return J7(t)&&"offsetHeight"in t}const zP=30,tZ=t=>!isNaN(parseFloat(t));class rZ{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Pi.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Pi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new q3);const s=this.events[e].add(r);return e==="change"?()=>{s(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zP)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,zP);return e9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zm(t,e){return new rZ(t,e)}const{schedule:aE}=u9(queueMicrotask,!1),yl={x:!1,y:!1};function M9(){return yl.x||yl.y}function nZ(t){return t==="x"||t==="y"?yl[t]?null:(yl[t]=!0,()=>{yl[t]=!1}):yl.x||yl.y?null:(yl.x=yl.y=!0,()=>{yl.x=yl.y=!1})}function L9(t,e){const r=eZ(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[r,a,()=>s.abort()]}function VP(t){return!(t.pointerType==="touch"||M9())}function sZ(t,e,r={}){const[s,a,i]=L9(t,r),o=l=>{if(!VP(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const u=h=>{VP(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,a)};return s.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const U9=(t,e)=>e?t===e?!0:U9(t,e.parentElement):!1,iE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function iZ(t){return aZ.has(t.tagName)||t.tabIndex!==-1}const Xv=new WeakSet;function KP(t){return e=>{e.key==="Enter"&&t(e)}}function mj(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oZ=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=KP(()=>{if(Xv.has(r))return;mj(r,"down");const a=KP(()=>{mj(r,"up")}),i=()=>mj(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function WP(t){return iE(t)&&!M9()}function lZ(t,e,r={}){const[s,a,i]=L9(t,r),o=l=>{const c=l.currentTarget;if(!WP(l))return;Xv.add(c);const d=e(c,l),u=(p,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),Xv.has(c)&&Xv.delete(c),WP(p)&&typeof d=="function"&&d(p,{success:v})},h=p=>{u(p,c===window||c===document||r.useGlobalTarget||U9(c,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",f,a)};return s.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),D9(l)&&(l.addEventListener("focus",d=>oZ(d,a)),!iZ(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function R9(t){return J7(t)&&"ownerSVGElement"in t}function cZ(t){return R9(t)&&t.tagName==="svg"}const Da=t=>!!(t&&t.getVelocity),dZ=[...F9,ms,Ah],uZ=t=>dZ.find(P9(t)),oE=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function GP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function hZ(...t){return e=>{let r=!1;const s=t.map(a=>{const i=GP(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():GP(t[a],null)}}}}function AZ(...t){return O.useCallback(hZ(...t),t)}class fZ extends O.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,a=D9(s)&&s.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mZ({children:t,isPresent:e,anchorX:r,root:s}){const a=O.useId(),i=O.useRef(null),o=O.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=O.useContext(oE),c=AZ(i,t?.ref);return O.useInsertionEffect(()=>{const{width:d,height:u,top:h,left:f,right:p}=o.current;if(e||!i.current||!d||!u)return;const v=r==="left"?`left: ${f}`:`right: ${p}`;i.current.dataset.motionPopId=a;const y=document.createElement("style");l&&(y.nonce=l);const g=s??document.head;return g.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${u}px !important;
            ${v}px !important;
            top: ${h}px !important;
          }
        `),()=>{g.contains(y)&&g.removeChild(y)}},[e]),n.jsx(fZ,{isPresent:e,childRef:i,sizeRef:o,children:O.cloneElement(t,{ref:c})})}const pZ=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=L3(gZ),u=O.useId();let h=!0,f=O.useMemo(()=>(h=!1,{id:u,initial:e,isPresent:r,custom:a,onExitComplete:p=>{d.set(p,!0);for(const v of d.values())if(!v)return;s&&s()},register:p=>(d.set(p,!1),()=>d.delete(p))}),[r,d,s]);return i&&h&&(f={...f}),O.useMemo(()=>{d.forEach((p,v)=>d.set(v,!1))},[r]),O.useEffect(()=>{!r&&!d.size&&s&&s()},[r]),o==="popLayout"&&(t=n.jsx(mZ,{isPresent:r,anchorX:l,root:c,children:t})),n.jsx(Ww.Provider,{value:f,children:t})};function gZ(){return new Map}function Q9(t=!0){const e=O.useContext(Ww);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:a}=e,i=O.useId();O.useEffect(()=>{if(t)return a(i)},[t]);const o=O.useCallback(()=>t&&s&&s(i),[i,s,t]);return!r&&s?[!1,o]:[!0]}const Ry=t=>t.key||"";function XP(t){const e=[];return O.Children.forEach(t,r=>{O.isValidElement(r)&&e.push(r)}),e}const vt=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=Q9(o),h=O.useMemo(()=>XP(t),[t]),f=o&&!d?[]:h.map(Ry),p=O.useRef(!0),v=O.useRef(h),y=L3(()=>new Map),[g,x]=O.useState(h),[w,_]=O.useState(h);X7(()=>{p.current=!1,v.current=h;for(let B=0;B<w.length;B++){const I=Ry(w[B]);f.includes(I)?y.delete(I):y.get(I)!==!0&&y.set(I,!1)}},[w,f.length,f.join("-")]);const k=[];if(h!==g){let B=[...h];for(let I=0;I<w.length;I++){const S=w[I],E=Ry(S);f.includes(E)||(B.splice(I,0,S),k.push(S))}return i==="wait"&&k.length&&(B=k),_(XP(B)),x(h),null}const{forceRender:C}=O.useContext(M3);return n.jsx(n.Fragment,{children:w.map(B=>{const I=Ry(B),S=o&&!d?!1:h===w||f.includes(I),E=()=>{if(y.has(I))y.set(I,!0);else return;let D=!0;y.forEach(N=>{N||(D=!1)}),D&&(C?.(),_(v.current),o&&u?.(),s&&s())};return n.jsx(pZ,{isPresent:S,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:S?void 0:E,anchorX:l,children:B},I)})})},H9=O.createContext({strict:!1}),YP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ep={};for(const t in YP)ep[t]={isEnabled:e=>YP[t].some(r=>!!e[r])};function xZ(t){for(const e in t)ep[e]={...ep[e],...t[e]}}const yZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yZ.has(t)}let $9=t=>!yb(t);function vZ(t){typeof t=="function"&&($9=e=>e.startsWith("on")?!yb(e):t(e))}try{vZ(require("@emotion/is-prop-valid").default)}catch{}function bZ(t,e,r){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||($9(a)||r===!0&&yb(a)||!e&&!yb(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const Gw=O.createContext({});function Xw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function E0(t){return typeof t=="string"||Array.isArray(t)}const lE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cE=["initial",...lE];function Yw(t){return Xw(t.animate)||cE.some(e=>E0(t[e]))}function q9(t){return!!(Yw(t)||t.variants)}function wZ(t,e){if(Yw(t)){const{initial:r,animate:s}=t;return{initial:r===!1||E0(r)?r:void 0,animate:E0(s)?s:void 0}}return t.inherit!==!1?e:{}}function jZ(t){const{initial:e,animate:r}=wZ(t,O.useContext(Gw));return O.useMemo(()=>({initial:e,animate:r}),[JP(e),JP(r)])}function JP(t){return Array.isArray(t)?t.join(" "):t}const k0={};function NZ(t){for(const e in t)k0[e]=t[e],K3(e)&&(k0[e].isCSSVariable=!0)}function z9(t,{layout:e,layoutId:r}){return Fp.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!k0[t]||t==="opacity")}const _Z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CZ=Pp.length;function SZ(t,e,r){let s="",a=!0;for(let i=0;i<CZ;i++){const o=Pp[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=I9(l,sE[o]);if(!c){a=!1;const u=_Z[o]||o;s+=`${u}(${d}) `}r&&(e[o]=d)}}return s=s.trim(),r?s=r(e,a?"":s):a&&(s="none"),s}function dE(t,e,r){const{style:s,vars:a,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Fp.has(c)){o=!0;continue}else if(K3(c)){a[c]=d;continue}else{const u=I9(d,sE[c]);c.startsWith("origin")?(l=!0,i[c]=u):s[c]=u}}if(e.transform||(o||r?s.transform=SZ(e,t.transform,r):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:u=0}=i;s.transformOrigin=`${c} ${d} ${u}`}}const uE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function V9(t,e,r){for(const s in e)!Da(e[s])&&!z9(s,r)&&(t[s]=e[s])}function BZ({transformTemplate:t},e){return O.useMemo(()=>{const r=uE();return dE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function EZ(t,e){const r=t.style||{},s={};return V9(s,r,t),Object.assign(s,BZ(t,e)),s}function kZ(t,e){const r={},s=EZ(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const PZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},FZ={offset:"strokeDashoffset",array:"strokeDasharray"};function TZ(t,e,r=1,s=0,a=!0){t.pathLength=1;const i=a?PZ:FZ;t[i.offset]=Zt.transform(-s);const o=Zt.transform(e),l=Zt.transform(r);t[i.array]=`${o} ${l}`}function K9(t,{attrX:e,attrY:r,attrScale:s,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...l},c,d,u){if(dE(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f}=t;h.transform&&(f.transform=h.transform,delete h.transform),(f.transform||h.transformOrigin)&&(f.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),f.transform&&(f.transformBox=u?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),s!==void 0&&(h.scale=s),a!==void 0&&TZ(h,a,i,o,!1)}const W9=()=>({...uE(),attrs:{}}),G9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OZ(t,e,r,s){const a=O.useMemo(()=>{const i=W9();return K9(i,e,G9(s),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};V9(i,t.style,t),a.style={...i,...a.style}}return a}const IZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hE(t){return typeof t!="string"||t.includes("-")?!1:!!(IZ.indexOf(t)>-1||/[A-Z]/u.test(t))}function DZ(t,e,r,{latestValues:s},a,i=!1){const l=(hE(t)?OZ:kZ)(e,s,a,t),c=bZ(e,typeof t=="string",i),d=t!==O.Fragment?{...c,...l,ref:r}:{},{children:u}=e,h=O.useMemo(()=>Da(u)?u.get():u,[u]);return O.createElement(t,{...d,children:h})}function ZP(t){const e=[{},{}];return t?.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function AE(t,e,r,s){if(typeof e=="function"){const[a,i]=ZP(s);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=ZP(s);e=e(r!==void 0?r:t.custom,a,i)}return e}function Yv(t){return Da(t)?t.get():t}function MZ({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,a){return{latestValues:LZ(r,s,a,t),renderState:e()}}function LZ(t,e,r,s){const a={},i=s(t,{});for(const f in i)a[f]=Yv(i[f]);let{initial:o,animate:l}=t;const c=Yw(t),d=q9(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let u=r?r.initial===!1:!1;u=u||o===!1;const h=u?l:o;if(h&&typeof h!="boolean"&&!Xw(h)){const f=Array.isArray(h)?h:[h];for(let p=0;p<f.length;p++){const v=AE(t,f[p]);if(v){const{transitionEnd:y,transition:g,...x}=v;for(const w in x){let _=x[w];if(Array.isArray(_)){const k=u?_.length-1:0;_=_[k]}_!==null&&(a[w]=_)}for(const w in y)a[w]=y[w]}}}return a}const X9=t=>(e,r)=>{const s=O.useContext(Gw),a=O.useContext(Ww),i=()=>MZ(t,e,s,a);return r?i():L3(i)};function fE(t,e,r){const{style:s}=t,a={};for(const i in s)(Da(s[i])||e.style&&Da(e.style[i])||z9(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=s[i]);return a}const UZ=X9({scrapeMotionValuesFromProps:fE,createRenderState:uE});function Y9(t,e,r){const s=fE(t,e,r);for(const a in t)if(Da(t[a])||Da(e[a])){const i=Pp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[i]=t[a]}return s}const RZ=X9({scrapeMotionValuesFromProps:Y9,createRenderState:W9}),QZ=Symbol.for("motionComponentSymbol");function jm(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HZ(t,e,r){return O.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):jm(r)&&(r.current=s))},[e])}const mE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$Z="framerAppearId",J9="data-"+mE($Z),Z9=O.createContext({});function qZ(t,e,r,s,a){const{visualElement:i}=O.useContext(Gw),o=O.useContext(H9),l=O.useContext(Ww),c=O.useContext(oE).reducedMotion,d=O.useRef(null);s=s||o.renderer,!d.current&&s&&(d.current=s(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=O.useContext(Z9);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&zZ(d.current,r,a,h);const f=O.useRef(!1);O.useInsertionEffect(()=>{u&&f.current&&u.update(r,l)});const p=r[J9],v=O.useRef(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return X7(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),O.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),v.current=!1),u.enteringChildren=void 0)}),u}function zZ(t,e,r,s){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:eH(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&jm(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:d})}function eH(t){if(t)return t.options.allowProjection!==!1?t.projection:eH(t.parent)}function pj(t,{forwardMotionProps:e=!1}={},r,s){r&&xZ(r);const a=hE(t)?RZ:UZ;function i(l,c){let d;const u={...O.useContext(oE),...l,layoutId:VZ(l)},{isStatic:h}=u,f=jZ(l),p=a(l,h);if(!h&&U3){KZ();const v=WZ(u);d=v.MeasureLayout,f.visualElement=qZ(t,p,u,s,v.ProjectionNode)}return n.jsxs(Gw.Provider,{value:f,children:[d&&f.visualElement?n.jsx(d,{visualElement:f.visualElement,...u}):null,DZ(t,l,HZ(p,f.visualElement,c),p,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=O.forwardRef(i);return o[QZ]=t,o}function VZ({layoutId:t}){const e=O.useContext(M3).id;return e&&t!==void 0?e+"-"+t:t}function KZ(t,e){O.useContext(H9).strict}function WZ(t){const{drag:e,layout:r}=ep;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function GZ(t,e){if(typeof Proxy>"u")return pj;const r=new Map,s=(i,o)=>pj(i,o,t,e),a=(i,o)=>s(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?s:(r.has(o)||r.set(o,pj(o,void 0,t,e)),r.get(o))})}function tH({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function XZ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function YZ(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function gj(t){return t===void 0||t===1}function J4({scale:t,scaleX:e,scaleY:r}){return!gj(t)||!gj(e)||!gj(r)}function fA(t){return J4(t)||rH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function rH(t){return eF(t.x)||eF(t.y)}function eF(t){return t&&t!=="0%"}function vb(t,e,r){const s=t-r,a=e*s;return r+a}function tF(t,e,r,s,a){return a!==void 0&&(t=vb(t,a,s)),vb(t,r,s)+e}function Z4(t,e=0,r=1,s,a){t.min=tF(t.min,e,r,s,a),t.max=tF(t.max,e,r,s,a)}function nH(t,{x:e,y:r}){Z4(t.x,e.translate,e.scale,e.originPoint),Z4(t.y,r.translate,r.scale,r.originPoint)}const rF=.999999999999,nF=1.0000000000001;function JZ(t,e,r,s=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_m(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nH(t,o)),s&&fA(i.latestValues)&&_m(t,i.latestValues))}e.x<nF&&e.x>rF&&(e.x=1),e.y<nF&&e.y>rF&&(e.y=1)}function Nm(t,e){t.min=t.min+e,t.max=t.max+e}function sF(t,e,r,s,a=.5){const i=Ln(t.min,t.max,a);Z4(t,e,r,i,s)}function _m(t,e){sF(t.x,e.x,e.scaleX,e.scale,e.originX),sF(t.y,e.y,e.scaleY,e.scale,e.originY)}function sH(t,e){return tH(YZ(t.getBoundingClientRect(),e))}function ZZ(t,e,r){const s=sH(t,r),{scroll:a}=e;return a&&(Nm(s.x,a.offset.x),Nm(s.y,a.offset.y)),s}const aF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cm=()=>({x:aF(),y:aF()}),iF=()=>({min:0,max:0}),rs=()=>({x:iF(),y:iF()}),eS={current:null},aH={current:!1};function eee(){if(aH.current=!0,!!U3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eS.current=t.matches;t.addEventListener("change",e),e()}else eS.current=!1}const tee=new WeakMap;function ree(t,e,r){for(const s in e){const a=e[s],i=r[s];if(Da(a))t.addValue(s,a);else if(Da(i))t.addValue(s,Zm(a,{owner:t}));else if(i!==a)if(t.hasValue(s)){const o=t.getValue(s);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(s);t.addValue(s,Zm(o!==void 0?o:a,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const oF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class nee{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=rE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Pi.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Fn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Yw(r),this.isVariantNode=q9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const f in h){const p=h[f];c[f]!==void 0&&Da(p)&&p.set(c[f])}}mount(e){this.current=e,tee.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),aH.current||eee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:eS.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hh(this.notifyUpdate),hh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Fp.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ep){const r=ep[e];if(!r)continue;const{isEnabled:s,Feature:a}=r;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<oF.length;s++){const a=oF[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=ree(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Zm(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Y7(s)||Z7(s))?s=parseFloat(s):!uZ(s)&&Ah.test(r)&&(s=O9(e,r)),this.setBaseTarget(e,Da(s)?s.get():s)),Da(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=AE(this.props,r,this.presenceContext?.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Da(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new q3),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){aE.render(this.render)}}class iH extends nee{constructor(){super(...arguments),this.KeyframeResolver=ZJ}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Da(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function oH(t,{style:e,vars:r},s,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,s);for(o in r)i.setProperty(o,r[o])}function see(t){return window.getComputedStyle(t)}class aee extends iH{constructor(){super(...arguments),this.type="html",this.renderInstance=oH}readValueFromInstance(e,r){if(Fp.has(r))return this.projection?.isProjecting?z4(r):xJ(e,r);{const s=see(e),a=(K3(r)?s.getPropertyValue(r):s[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return sH(e,r)}build(e,r,s){dE(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return fE(e,r,s)}}const lH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function iee(t,e,r,s){oH(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(lH.has(a)?a:mE(a),e.attrs[a])}class oee extends iH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Fp.has(r)){const s=T9(r);return s&&s.default||0}return r=lH.has(r)?r:mE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return Y9(e,r,s)}build(e,r,s){K9(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,a){iee(e,r,s,a)}mount(e){this.isSVGTag=G9(e.tagName),super.mount(e)}}const lee=(t,e)=>hE(t)?new oee(e):new aee(e,{allowProjection:t!==O.Fragment});function Im(t,e,r){const s=t.getProps();return AE(s,e,r!==void 0?r:s.custom,t)}const tS=t=>Array.isArray(t);function cee(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Zm(r))}function dee(t){return tS(t)?t[t.length-1]||0:t}function uee(t,e){const r=Im(t,e);let{transitionEnd:s={},transition:a={},...i}=r||{};i={...i,...s};for(const o in i){const l=dee(i[o]);cee(t,o,l)}}function hee(t){return!!(Da(t)&&t.add)}function rS(t,e){const r=t.getValue("willChange");if(hee(r))return r.add(e);if(!r&&Cd.WillChange){const s=new Cd.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function cH(t){return t.props[J9]}const Aee=t=>t!==null;function fee(t,{repeat:e,repeatType:r="loop"},s){const a=t.filter(Aee),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const mee={type:"spring",stiffness:500,damping:25,restSpeed:10},pee=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),gee={type:"keyframes",duration:.8},xee={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yee=(t,{keyframes:e})=>e.length>2?gee:Fp.has(t)?t.startsWith("scale")?pee(e[1]):mee:xee;function vee({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const pE=(t,e,r,s={},a,i)=>o=>{const l=nE(s,t)||{},c=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-hc(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:f=>{e.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:a};vee(l)||Object.assign(u,yee(t,u)),u.duration&&(u.duration=hc(u.duration)),u.repeatDelay&&(u.repeatDelay=hc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(X4(u),u.delay===0&&(h=!0)),(Cd.instantAnimations||Cd.skipAnimations)&&(h=!0,X4(u),u.delay=0),u.allowFlatten=!l.type&&!l.ease,h&&!i&&e.get()!==void 0){const f=fee(u.keyframes,l);if(f!==void 0){Fn.update(()=>{u.onUpdate(f),u.onComplete()});return}}return l.isSync?new tE(u):new QJ(u)};function bee({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function dH(t,e,{delay:r=0,transitionOverride:s,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;s&&(i=s);const c=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const u in l){const h=t.getValue(u,t.latestValues[u]??null),f=l[u];if(f===void 0||d&&bee(d,u))continue;const p={delay:r,...nE(i||{},u)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(f)&&f===v&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const x=cH(t);if(x){const w=window.MotionHandoffAnimation(x,u,Fn);w!==null&&(p.startTime=w,y=!0)}}rS(t,u),h.start(pE(u,h,f,t.shouldReduceMotion&&k9.has(u)?{type:!1}:p,t,y));const g=h.animation;g&&c.push(g)}return o&&Promise.all(c).then(()=>{Fn.update(()=>{o&&uee(t,o)})}),c}function uH(t,e,r,s=0,a=1){const i=Array.from(t).sort((d,u)=>d.sortNodePosition(u)).indexOf(e),o=t.size,l=(o-1)*s;return typeof r=="function"?r(i,o):a===1?i*s:l-i*s}function nS(t,e,r={}){const s=Im(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const i=s?()=>Promise.all(dH(t,s,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=a;return wee(t,e,c,d,u,h,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[c,d]=l==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(r.delay)])}function wee(t,e,r=0,s=0,a=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(nS(c,e,{...o,delay:r+(typeof s=="function"?0:s)+uH(t.variantChildren,c,s,a,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function jee(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(i=>nS(t,i,r));s=Promise.all(a)}else if(typeof e=="string")s=nS(t,e,r);else{const a=typeof e=="function"?Im(t,e,r.custom):e;s=Promise.all(dH(t,a,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function hH(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const Nee=cE.length;function AH(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?AH(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Nee;r++){const s=cE[r],a=t.props[s];(E0(a)||a===!1)&&(e[s]=a)}return e}const _ee=[...lE].reverse(),Cee=lE.length;function See(t){return e=>Promise.all(e.map(({animation:r,options:s})=>jee(t,r,s)))}function Bee(t){let e=See(t),r=lF(),s=!0;const a=c=>(d,u)=>{const h=Im(t,u,c==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:f,transitionEnd:p,...v}=h;d={...d,...v,...p}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,u=AH(t.parent)||{},h=[],f=new Set;let p={},v=1/0;for(let g=0;g<Cee;g++){const x=_ee[g],w=r[x],_=d[x]!==void 0?d[x]:u[x],k=E0(_),C=x===c?w.isActive:null;C===!1&&(v=g);let B=_===u[x]&&_!==d[x]&&k;if(B&&s&&t.manuallyAnimateOnMount&&(B=!1),w.protectedKeys={...p},!w.isActive&&C===null||!_&&!w.prevProp||Xw(_)||typeof _=="boolean")continue;const I=Eee(w.prevProp,_);let S=I||x===c&&w.isActive&&!B&&k||g>v&&k,E=!1;const D=Array.isArray(_)?_:[_];let N=D.reduce(a(x),{});C===!1&&(N={});const{prevResolvedValues:T={}}=w,Q={...T,...N},U=ee=>{S=!0,f.has(ee)&&(E=!0,f.delete(ee)),w.needsAnimating[ee]=!0;const G=t.getValue(ee);G&&(G.liveStyle=!1)};for(const ee in Q){const G=N[ee],q=T[ee];if(p.hasOwnProperty(ee))continue;let re=!1;tS(G)&&tS(q)?re=!hH(G,q):re=G!==q,re?G!=null?U(ee):f.add(ee):G!==void 0&&f.has(ee)?U(ee):w.protectedKeys[ee]=!0}w.prevProp=_,w.prevResolvedValues=N,w.isActive&&(p={...p,...N}),s&&t.blockInitialAnimation&&(S=!1);const K=B&&I;S&&(!K||E)&&h.push(...D.map(ee=>{const G={type:x};if(typeof ee=="string"&&s&&!K&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,re=Im(q,ee);if(q.enteringChildren&&re){const{delayChildren:Z}=re.transition||{};G.delay=uH(q.enteringChildren,t,Z)}}return{animation:ee,options:G}}))}if(f.size){const g={};if(typeof d.initial!="boolean"){const x=Im(t,Array.isArray(d.initial)?d.initial[0]:d.initial);x&&x.transition&&(g.transition=x.transition)}f.forEach(x=>{const w=t.getBaseTarget(x),_=t.getValue(x);_&&(_.liveStyle=!0),g[x]=w??null}),h.push({animation:g})}let y=!!h.length;return s&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(h):Promise.resolve()}function l(c,d){if(r[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(c,d)),r[c].isActive=d;const u=o(c);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=lF()}}}function Eee(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hH(e,t):!1}function sA(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lF(){return{animate:sA(!0),whileInView:sA(),whileHover:sA(),whileTap:sA(),whileDrag:sA(),whileFocus:sA(),exit:sA()}}class bh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kee extends bh{constructor(e){super(e),e.animationState||(e.animationState=Bee(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Pee=0;class Fee extends bh{constructor(){super(...arguments),this.id=Pee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Tee={animation:{Feature:kee},exit:{Feature:Fee}};function P0(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Lx(t){return{point:{x:t.pageX,y:t.pageY}}}const Oee=t=>e=>iE(e)&&t(e,Lx(e));function Zg(t,e,r,s){return P0(t,e,Oee(r),s)}const fH=1e-4,Iee=1-fH,Dee=1+fH,mH=.01,Mee=0-mH,Lee=0+mH;function ti(t){return t.max-t.min}function Uee(t,e,r){return Math.abs(t-e)<=r}function cF(t,e,r,s=.5){t.origin=s,t.originPoint=Ln(e.min,e.max,t.origin),t.scale=ti(r)/ti(e),t.translate=Ln(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Iee&&t.scale<=Dee||isNaN(t.scale))&&(t.scale=1),(t.translate>=Mee&&t.translate<=Lee||isNaN(t.translate))&&(t.translate=0)}function e0(t,e,r,s){cF(t.x,e.x,r.x,s?s.originX:void 0),cF(t.y,e.y,r.y,s?s.originY:void 0)}function dF(t,e,r){t.min=r.min+e.min,t.max=t.min+ti(e)}function Ree(t,e,r){dF(t.x,e.x,r.x),dF(t.y,e.y,r.y)}function uF(t,e,r){t.min=e.min-r.min,t.max=t.min+ti(e)}function t0(t,e,r){uF(t.x,e.x,r.x),uF(t.y,e.y,r.y)}function Bo(t){return[t("x"),t("y")]}const pH=({current:t})=>t?t.ownerDocument.defaultView:null,hF=(t,e)=>Math.abs(t-e);function Qee(t,e){const r=hF(t.x,e.x),s=hF(t.y,e.y);return Math.sqrt(r**2+s**2)}class gH{constructor(e,r,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yj(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=Qee(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:y}=f,{timestamp:g}=ia;this.history.push({...y,timestamp:g});const{onStart:x,onMove:w}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=xj(p,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=yj(f.type==="pointercancel"?this.lastMoveEventInfo:xj(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,x),y&&y(f,x)},!iE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=a||window;const l=Lx(e),c=xj(l,this.transformPagePoint),{point:d}=c,{timestamp:u}=ia;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(e,yj(c,this.history)),this.removeListeners=Ix(Zg(this.contextWindow,"pointermove",this.handlePointerMove),Zg(this.contextWindow,"pointerup",this.handlePointerUp),Zg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hh(this.updatePoint)}}function xj(t,e){return e?{point:e(t.point)}:t}function AF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yj({point:t},e){return{point:t,delta:AF(t,xH(e)),offset:AF(t,Hee(e)),velocity:$ee(e,.1)}}function Hee(t){return t[0]}function xH(t){return t[t.length-1]}function $ee(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const a=xH(t);for(;r>=0&&(s=t[r],!(a.timestamp-s.timestamp>hc(e)));)r--;if(!s)return{x:0,y:0};const i=Oo(a.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-s.x)/i,y:(a.y-s.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function qee(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?Ln(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?Ln(r,t,s.max):Math.min(t,r)),t}function fF(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function zee(t,{top:e,left:r,bottom:s,right:a}){return{x:fF(t.x,r,a),y:fF(t.y,e,s)}}function mF(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function Vee(t,e){return{x:mF(t.x,e.x),y:mF(t.y,e.y)}}function Kee(t,e){let r=.5;const s=ti(t),a=ti(e);return a>s?r=C0(e.min,e.max-s,t.min):s>a&&(r=C0(t.min,t.max-a,e.min)),_d(0,1,r)}function Wee(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const sS=.35;function Gee(t=sS){return t===!1?t=0:t===!0&&(t=sS),{x:pF(t,"left","right"),y:pF(t,"top","bottom")}}function pF(t,e,r){return{min:gF(t,e),max:gF(t,r)}}function gF(t,e){return typeof t=="number"?t:t[e]||0}const Xee=new WeakMap;class Yee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Lx(h).point)},o=(h,f)=>{const{drag:p,dragPropagation:v,onDragStart:y}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=nZ(p),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bo(x=>{let w=this.getAxisMotionValue(x).get()||0;if(Ac.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[x];k&&(w=ti(k)*(parseFloat(w)/100))}}this.originPoint[x]=w}),y&&Fn.postRender(()=>y(h,f)),rS(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:y,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=f;if(v&&this.currentDirection===null){this.currentDirection=Jee(x),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),g&&g(h,f)},c=(h,f)=>{this.latestPointerEvent=h,this.latestPanInfo=f,this.stop(h,f),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Bo(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new gH(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:pH(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!s)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Fn.postRender(()=>l(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:a}=this.getProps();if(!s||!Qy(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=qee(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&jm(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=zee(s.layoutBox,e):this.constraints=!1,this.elastic=Gee(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bo(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Wee(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!jm(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=ZZ(s,a.root,this.visualElement.getTransformPagePoint());let o=Vee(a.layout.layoutBox,i);if(r){const l=r(XZ(o));this.hasMutatedConstraints=!!l,l&&(o=tH(l))}return o}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=Bo(u=>{if(!Qy(u,r,this.currentDirection))return;let h=c&&c[u]||{};o&&(h={min:0,max:0});const f=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:s?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return rS(this.visualElement,e),s.start(pE(e,s,0,r,this.visualElement,!1))}stopAnimation(){Bo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bo(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[r];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Bo(r=>{const{drag:s}=this.getProps();if(!Qy(r,s,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(e[r]-Ln(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!jm(r)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Bo(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=Kee({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Bo(o=>{if(!Qy(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(Ln(c,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Xee.set(this.visualElement,this);const e=this.visualElement.current,r=Zg(e,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();jm(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fn.read(s);const o=P0(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(Bo(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=sS,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Qy(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Jee(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Zee extends bh{constructor(e){super(e),this.removeGroupControls=Uo,this.removeListeners=Uo,this.controls=new Yee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Uo}unmount(){this.removeGroupControls(),this.removeListeners()}}const xF=t=>(e,r)=>{t&&Fn.postRender(()=>t(e,r))};class ete extends bh{constructor(){super(...arguments),this.removePointerDownListener=Uo}onPointerDown(e){this.session=new gH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:xF(e),onStart:xF(r),onMove:s,onEnd:(i,o)=>{delete this.session,a&&Fn.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Zg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ag={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Zt.test(t))t=parseFloat(t);else return t;const r=yF(t,e.target.x),s=yF(t,e.target.y);return`${r}% ${s}%`}},tte={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,a=Ah.parse(t);if(a.length>5)return s;const i=Ah.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const d=Ln(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let vj=!1;class rte extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:a}=this.props,{projection:i}=e;NZ(nte),i&&(r.group&&r.group.add(i),s&&s.register&&a&&s.register(i),vj&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:a,isPresent:i}=this.props,{projection:o}=s;return o&&(o.isPresent=i,vj=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Fn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:a}=e;vj=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yH(t){const[e,r]=Q9(),s=O.useContext(M3);return n.jsx(rte,{...t,layoutGroup:s,switchLayoutGroup:O.useContext(Z9),isPresent:e,safeToRemove:r})}const nte={borderRadius:{...Ag,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ag,borderTopRightRadius:Ag,borderBottomLeftRadius:Ag,borderBottomRightRadius:Ag,boxShadow:tte};function ste(t,e,r){const s=Da(t)?t:Zm(t);return s.start(pE("",s,e,r)),s.animation}const ate=(t,e)=>t.depth-e.depth;class ite{constructor(){this.children=[],this.isDirty=!1}add(e){R3(this.children,e),this.isDirty=!0}remove(e){Q3(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ate),this.isDirty=!1,this.children.forEach(e)}}function ote(t,e){const r=Pi.now(),s=({timestamp:a})=>{const i=a-r;i>=e&&(hh(s),t(i-e))};return Fn.setup(s,!0),()=>hh(s)}const vH=["TopLeft","TopRight","BottomLeft","BottomRight"],lte=vH.length,vF=t=>typeof t=="string"?parseFloat(t):t,bF=t=>typeof t=="number"||Zt.test(t);function cte(t,e,r,s,a,i){a?(t.opacity=Ln(0,r.opacity??1,dte(s)),t.opacityExit=Ln(e.opacity??1,0,ute(s))):i&&(t.opacity=Ln(e.opacity??1,r.opacity??1,s));for(let o=0;o<lte;o++){const l=`border${vH[o]}Radius`;let c=wF(e,l),d=wF(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||bF(c)===bF(d)?(t[l]=Math.max(Ln(vF(c),vF(d),s),0),(Ac.test(d)||Ac.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=Ln(e.rotate||0,r.rotate||0,s))}function wF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dte=bH(0,.5,o9),ute=bH(.5,.95,Uo);function bH(t,e,r){return s=>s<t?0:s>e?1:r(C0(t,e,s))}function jF(t,e){t.min=e.min,t.max=e.max}function jo(t,e){jF(t.x,e.x),jF(t.y,e.y)}function NF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _F(t,e,r,s,a){return t-=e,t=vb(t,1/r,s),a!==void 0&&(t=vb(t,1/a,s)),t}function hte(t,e=0,r=1,s=.5,a,i=t,o=t){if(Ac.test(e)&&(e=parseFloat(e),e=Ln(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Ln(i.min,i.max,s);t===i&&(l-=e),t.min=_F(t.min,e,r,l,a),t.max=_F(t.max,e,r,l,a)}function CF(t,e,[r,s,a],i,o){hte(t,e[r],e[s],e[a],e.scale,i,o)}const Ate=["x","scaleX","originX"],fte=["y","scaleY","originY"];function SF(t,e,r,s){CF(t.x,e,Ate,r?r.x:void 0,s?s.x:void 0),CF(t.y,e,fte,r?r.y:void 0,s?s.y:void 0)}function BF(t){return t.translate===0&&t.scale===1}function wH(t){return BF(t.x)&&BF(t.y)}function EF(t,e){return t.min===e.min&&t.max===e.max}function mte(t,e){return EF(t.x,e.x)&&EF(t.y,e.y)}function kF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function jH(t,e){return kF(t.x,e.x)&&kF(t.y,e.y)}function PF(t){return ti(t.x)/ti(t.y)}function FF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class pte{constructor(){this.members=[]}add(e){R3(this.members,e),e.scheduleRender()}remove(e){if(Q3(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let s;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gte(t,e,r){let s="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(s=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:f,skewX:p,skewY:v}=r;d&&(s=`perspective(${d}px) ${s}`),u&&(s+=`rotate(${u}deg) `),h&&(s+=`rotateX(${h}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const bj=["","X","Y","Z"],xte=1e3;let yte=0;function wj(t,e,r,s){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function NH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=cH(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Fn,!(a||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&NH(s)}function _H({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(o={},l=e?.()){this.id=yte++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wte),this.nodes.forEach(Cte),this.nodes.forEach(Ste),this.nodes.forEach(jte)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new ite)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new q3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=R9(o)&&!cZ(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let u,h=0;const f=()=>this.root.updateBlockedByResize=!1;Fn.read(()=>{h=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==h&&(h=p,this.root.updateBlockedByResize=!0,u&&u(),u=ote(f,250),Jv.hasAnimatedSinceResize&&(Jv.hasAnimatedSinceResize=!1,this.nodes.forEach(IF)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Fte,{onLayoutAnimationStart:y,onLayoutAnimationComplete:g}=d.getProps(),x=!this.targetLayout||!jH(this.targetLayout,p),w=!h&&f;if(this.options.layoutRoot||this.resumeFrom||w||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...nE(v,"layout"),onPlay:y,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,w)}else h||IF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bte),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(OF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(_te),this.nodes.forEach(vte),this.nodes.forEach(bte)):this.nodes.forEach(OF),this.clearAllSnapshots();const l=Pi.now();ia.delta=_d(0,1e3/60,l-ia.timestamp),ia.timestamp=l,ia.isProcessing=!0,dj.update.process(ia),dj.preRender.process(ia),dj.render.process(ia),ia.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Nte),this.sharedNodes.forEach(Ete)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ti(this.snapshot.measuredBox.x)&&!ti(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||fA(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Tte(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return rs();const l=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Ote))){const{scroll:d}=this.root;d&&(Nm(l.x,d.offset.x),Nm(l.y,d.offset.y))}return l}removeElementScroll(o){const l=rs();if(jo(l,o),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&jo(l,o),Nm(l.x,u.offset.x),Nm(l.y,u.offset.y))}return l}applyTransform(o,l=!1){const c=rs();jo(c,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&_m(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),fA(u.latestValues)&&_m(c,u.latestValues)}return fA(this.latestValues)&&_m(c,this.latestValues),c}removeTransform(o){const l=rs();jo(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!fA(d.latestValues))continue;J4(d.latestValues)&&d.updateSnapshot();const u=rs(),h=d.measurePageBox();jo(u,h),SF(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return fA(this.latestValues)&&SF(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ia.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ia.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),t0(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rs(),this.targetWithTransforms=rs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ree(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):jo(this.target,this.layout.layoutBox),nH(this.target,this.targetDelta)):jo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rs(),this.relativeTargetOrigin=rs(),t0(this.relativeTargetOrigin,this.target,f.target),jo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||J4(this.parent.latestValues)||rH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ia.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;jo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;JZ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=rs());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NF(this.prevProjectionDelta.x,this.projectionDelta.x),NF(this.prevProjectionDelta.y,this.projectionDelta.y)),e0(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!FF(this.projectionDelta.x,this.prevProjectionDelta.x)||!FF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cm(),this.projectionDelta=Cm(),this.projectionDeltaWithTransform=Cm()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Cm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=rs(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,g=this.getStack(),x=!g||g.members.length<=1,w=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(Pte));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const C=k/1e3;DF(h.x,o.x,C),DF(h.y,o.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t0(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kte(this.relativeTarget,this.relativeTargetOrigin,f,C),_&&mte(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=rs()),jo(_,this.relativeTarget)),y&&(this.animationValues=u,cte(u,d,this.latestValues,C,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(hh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{Jv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zm(0)),this.currentAnimation=ste(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xte),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:u}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&CH(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||rs();const h=ti(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=ti(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}jo(l,c),_m(l,u),e0(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new pte),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&wj("z",o,d,this.animationValues);for(let u=0;u<bj.length;u++)wj(`rotate${bj[u]}`,o,d,this.animationValues),wj(`skew${bj[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Yv(l?.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Yv(l?.pointerEvents)||""),this.hasProjected&&!fA(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=gte(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),o.transform=h;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,d.animationValues?o.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in k0){if(u[v]===void 0)continue;const{correct:y,applyTo:g,isCSSVariable:x}=k0[v],w=h==="none"?u[v]:y(u[v],d);if(g){const _=g.length;for(let k=0;k<_;k++)o[g[k]]=w}else x?this.options.visualElement.renderState.vars[v]=w:o[v]=w}this.options.layoutId&&(o.pointerEvents=d===this?Yv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(TF),this.root.sharedNodes.clear()}}}function vte(t){t.updateLayout()}function bte(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Bo(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],f=ti(h);h.min=r[u].min,h.max=h.min+f}):CH(a,e.layoutBox,r)&&Bo(u=>{const h=i?e.measuredBox[u]:e.layoutBox[u],f=ti(r[u]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+f)});const o=Cm();e0(o,r,e.layoutBox);const l=Cm();i?e0(l,t.applyTransform(s,!0),e.measuredBox):e0(l,r,e.layoutBox);const c=!wH(o);let d=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:f}=u;if(h&&f){const p=rs();t0(p,e.layoutBox,h.layoutBox);const v=rs();t0(v,r,f.layoutBox),jH(p,v)||(d=!0),u.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function wte(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jte(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nte(t){t.clearSnapshot()}function TF(t){t.clearMeasurements()}function OF(t){t.isLayoutDirty=!1}function _te(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function IF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Cte(t){t.resolveTargetDelta()}function Ste(t){t.calcProjection()}function Bte(t){t.resetSkewAndRotation()}function Ete(t){t.removeLeadSnapshot()}function DF(t,e,r){t.translate=Ln(e.translate,0,r),t.scale=Ln(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function MF(t,e,r,s){t.min=Ln(e.min,r.min,s),t.max=Ln(e.max,r.max,s)}function kte(t,e,r,s){MF(t.x,e.x,r.x,s),MF(t.y,e.y,r.y,s)}function Pte(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Fte={duration:.45,ease:[.4,0,.1,1]},LF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),UF=LF("applewebkit/")&&!LF("chrome/")?Math.round:Uo;function RF(t){t.min=UF(t.min),t.max=UF(t.max)}function Tte(t){RF(t.x),RF(t.y)}function CH(t,e,r){return t==="position"||t==="preserve-aspect"&&!Uee(PF(e),PF(r),.2)}function Ote(t){return t!==t.root&&t.scroll?.wasRoot}const Ite=_H({attachResizeListener:(t,e)=>P0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jj={current:void 0},SH=_H({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jj.current){const t=new Ite({});t.mount(window),t.setOptions({layoutScroll:!0}),jj.current=t}return jj.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Dte={pan:{Feature:ete},drag:{Feature:Zee,ProjectionNode:SH,MeasureLayout:yH}};function QF(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=s[a];i&&Fn.postRender(()=>i(e,Lx(e)))}class Mte extends bh{mount(){const{current:e}=this.node;e&&(this.unmount=sZ(e,(r,s)=>(QF(this.node,s,"Start"),a=>QF(this.node,a,"End"))))}unmount(){}}class Lte extends bh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ix(P0(this.node.current,"focus",()=>this.onFocus()),P0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HF(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=s[a];i&&Fn.postRender(()=>i(e,Lx(e)))}class Ute extends bh{mount(){const{current:e}=this.node;e&&(this.unmount=lZ(e,(r,s)=>(HF(this.node,s,"Start"),(a,{success:i})=>HF(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aS=new WeakMap,Nj=new WeakMap,Rte=t=>{const e=aS.get(t.target);e&&e(t)},Qte=t=>{t.forEach(Rte)};function Hte({root:t,...e}){const r=t||document;Nj.has(r)||Nj.set(r,{});const s=Nj.get(r),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Qte,{root:t,...e})),s[a]}function $te(t,e,r){const s=Hte(e);return aS.set(t,r),s.observe(t),()=>{aS.delete(t),s.unobserve(t)}}const qte={some:0,all:1};class zte extends bh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:qte[a]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=d?u:h;f&&f(c)};return $te(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Vte(e,r))&&this.startObserver()}unmount(){}}function Vte({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Kte={inView:{Feature:zte},tap:{Feature:Ute},focus:{Feature:Lte},hover:{Feature:Mte}},Wte={layout:{ProjectionNode:SH,MeasureLayout:yH}},Gte={...Tee,...Kte,...Dte,...Wte},he=GZ(Gte,lee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),$F=t=>{const e=Yte(t);return e.charAt(0).toUpperCase()+e.slice(1)},BH=(...t)=>t.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),Jte=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...Zte,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:BH("lucide",a),...!i&&!Jte(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,u])=>O.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const r=O.forwardRef(({className:s,...a},i)=>O.createElement(ere,{ref:i,iconNode:e,className:BH(`lucide-${Xte($F(t))}`,`lucide-${t}`,s),...a}));return r.displayName=$F(t),r};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Dm=Ge("activity",tre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],iS=Ge("archive",rre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],gE=Ge("arrow-down-right",nre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Jw=Ge("arrow-down",sre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rd=Ge("arrow-left",are);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ho=Ge("arrow-right",ire);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Zw=Ge("arrow-up-right",ore);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Mm=Ge("arrow-up",lre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xE=Ge("award",cre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],EH=Ge("bell",dre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],hre=Ge("book",ure);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Hy=Ge("bot",Are);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],mre=Ge("briefcase",fre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],md=Ge("building-2",pre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],UA=Ge("building",gre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oS=Ge("calculator",xre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vr=Ge("calendar",yre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],bre=Ge("camera",vre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],kH=Ge("car",wre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],EA=Ge("chart-bar",jre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],oi=Ge("chart-column",Nre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M10 6h8",key:"zvc2xc"}],["path",{d:"M12 16h6",key:"yi5mkt"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 11h7",key:"wz2hg0"}]],qF=Ge("chart-gantt",_re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],PH=Ge("chart-line",Cre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Zv=Ge("chart-pie",Sre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],zF=Ge("check-check",Bre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],rn=Ge("check",Ere);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sd=Ge("chevron-down",kre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],bb=Ge("chevron-left",Pre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],e1=Ge("chevron-right",Fre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],KA=Ge("chevron-up",Tre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gn=Ge("circle-alert",Ore);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ua=Ge("circle-check-big",Ire);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ys=Ge("circle-check",Dre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],Lre=Ge("circle-pause",Mre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yE=Ge("circle-play",Ure);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Qre=Ge("circle-question-mark",Rre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FH=Ge("circle-x",Hre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ih=Ge("circle",$re);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],li=Ge("clipboard-list",qre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wt=Ge("clock",zre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],TH=Ge("cloud",Vre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Wre=Ge("code",Kre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Bd=Ge("copy",Gre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],hn=Ge("credit-card",Xre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ux=Ge("crown",Yre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],F0=Ge("database",Jre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],gr=Ge("dollar-sign",Zre);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ts=Ge("download",ene);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rne=Ge("ellipsis-vertical",tne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],sne=Ge("external-link",nne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vE=Ge("eye-off",ane);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],da=Ge("eye",ine);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],VF=Ge("facebook",one);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],lS=Ge("file-check",lne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],dne=Ge("file-down",cne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Et=Ge("file-text",une);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],bE=Ge("file",hne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],eb=Ge("flag",Ane);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],mne=Ge("folder-kanban",fne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],$y=Ge("folder-open",pne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xne=Ge("folder-plus",gne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],KF=Ge("folder",yne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],wE=Ge("funnel",vne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],WF=Ge("git-branch",bne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],T0=Ge("globe",wne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Nne=Ge("grip-vertical",jne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Cne=Ge("heart",_ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GF=Ge("history",Sne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Ene=Ge("inbox",Bne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nl=Ge("info",kne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],XF=Ge("instagram",Pne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fne=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Lm=Ge("key",Fne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],One=Ge("layout-grid",Tne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Dne=Ge("library",Ine);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],sf=Ge("list-filter",Mne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_j=Ge("list",Lne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rne=Ge("loader-circle",Une);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Tp=Ge("loader",Qne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],OH=Ge("lock-open",Hne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Fo=Ge("lock",$ne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],YF=Ge("log-out",qne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vs=Ge("mail",zne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],no=Ge("map-pin",Vne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],Wne=Ge("maximize-2",Kne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Xne=Ge("menu",Gne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ud=Ge("message-circle",Yne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wb=Ge("message-square",Jne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],ese=Ge("mic-off",Zne);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],rse=Ge("mic",tse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],sse=Ge("minimize-2",nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M5 12h14",key:"1ays0h"}]],O0=Ge("minus",ase);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ose=Ge("monitor",ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cse=Ge("moon",lse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],I0=Ge("navigation",dse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qt=Ge("package",use);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],t1=Ge("palette",hse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],fse=Ge("paperclip",Ase);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pse=Ge("pen",mse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],xse=Ge("phone-off",gse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ci=Ge("phone",yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],JF=Ge("play",vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],zt=Ge("plus",bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],fh=Ge("printer",wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],di=Ge("refresh-cw",jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IH=Ge("rotate-ccw",Nse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],hr=Ge("save",_se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sn=Ge("search",Cse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ti=Ge("send",Sse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Ese=Ge("server",Bse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mh=Ge("settings",kse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],DH=Ge("share-2",Pse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],_n=Ge("shield",Fse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Sm=Ge("shopping-cart",Tse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],jE=Ge("smartphone",Ose);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Dse=Ge("smile",Ise);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],ZF=Ge("snowflake",Mse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],D0=Ge("sparkles",Lse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jb=Ge("square-check-big",Use);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ri=Ge("square-pen",Rse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Hse=Ge("square",Qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],la=Ge("star",$se);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zse=Ge("sun",qse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]],Kse=Ge("table",Vse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],Gse=Ge("tablet",Wse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Nb=Ge("tag",Xse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],r1=Ge("target",Yse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],Zse=Ge("thumbs-down",Jse);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],tae=Ge("thumbs-up",eae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yt=Ge("trash-2",rae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cc=Ge("trending-down",nae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],qr=Ge("trending-up",sae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Un=Ge("triangle-alert",aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],NE=Ge("truck",iae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],r0=Ge("upload",oae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cae=Ge("user-check",lae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uae=Ge("user-cog",dae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],MH=Ge("user-plus",hae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],fae=Ge("user-x",Aae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cn=Ge("user",mae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ir=Ge("users",pae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Cj=Ge("video",gae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eT=Ge("video-off",xae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],vae=Ge("volume-2",yae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qy=Ge("wallet",bae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wae=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],_E=Ge("wrench",wae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],bt=Ge("x",jae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ed=Ge("zap",Nae),_ae=()=>n.jsxs("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 flex items-center justify-center z-50",children:[n.jsxs("div",{className:"absolute inset-0 opacity-10",children:[n.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-white rounded-full blur-xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-xl animate-pulse",style:{animationDelay:"0.5s"}})]}),n.jsxs("div",{className:"text-center z-10",children:[n.jsx(he.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut",type:"spring",stiffness:100},className:"flex items-center justify-center mb-8",children:n.jsxs("div",{className:"relative",children:[n.jsx(he.div,{animate:{rotate:360,scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/30",children:n.jsx(li,{className:"h-10 w-10 text-white"})}),n.jsx(he.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.5},className:"absolute -bottom-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:n.jsx(qt,{className:"h-4 w-4 text-white"})})]})}),n.jsx(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"text-4xl font-bold text-white mb-4",children:"Sistema OS"}),n.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.6},className:"text-lg text-white/80 mb-8",children:"Gesto integrada de ordens de servio"}),n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.4},className:"w-64 h-1 bg-white/20 rounded-full overflow-hidden mx-auto",children:n.jsx(he.div,{initial:{width:0},animate:{width:"100%"},transition:{delay:1.4,duration:1,ease:"easeInOut"},className:"h-full bg-gradient-to-r from-pink-400 to-purple-400 rounded-full"})}),n.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:.4},className:"text-sm text-white/60 mt-4",children:"Carregando o sistema..."})]})]}),Cae="modulepreload",Sae=function(t){return"/"+t},tT={},ph=function(e,r,s){let a=Promise.resolve();if(r&&r.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");a=c(r.map(d=>{if(d=Sae(d),d in tT)return;tT[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Cae,u||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Bae=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ph(async()=>{const{default:s}=await Promise.resolve().then(()=>Op);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class CE extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class rT extends CE{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class nT extends CE{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sT extends CE{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cS||(cS={}));var Eae=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class kae{constructor(e,{headers:r={},customFetch:s,region:a=cS.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Bae(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Eae(this,arguments,void 0,function*(r,s={}){var a;try{const{headers:i,method:o,body:l,signal:c}=s;let d={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(d["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let f;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(d["Content-Type"]="text/plain",f=l):typeof FormData<"u"&&l instanceof FormData?f=l:(d["Content-Type"]="application/json",f=JSON.stringify(l)));const p=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:f,signal:c}).catch(x=>{throw x.name==="AbortError"?x:new rT(x)}),v=p.headers.get("x-relay-error");if(v&&v==="true")throw new nT(p);if(!p.ok)throw new sT(p);let y=((a=p.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),g;return y==="application/json"?g=yield p.json():y==="application/octet-stream"?g=yield p.blob():y==="text/event-stream"?g=p:y==="multipart/form-data"?g=yield p.formData():g=yield p.text(),{data:g,error:null,response:p}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new rT(i)}:{data:null,error:i,response:i instanceof sT||i instanceof nT?i.context:void 0}}})}}var qs={},zf={},Vf={},Kf={},Wf={},Gf={},Pae=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tp=Pae();const Fae=tp.fetch,LH=tp.fetch.bind(tp),UH=tp.Headers,Tae=tp.Request,Oae=tp.Response,Op=Object.freeze(Object.defineProperty({__proto__:null,Headers:UH,Request:Tae,Response:Oae,default:LH,fetch:Fae},Symbol.toStringTag,{value:"Module"})),Iae=eX(Op);var zy={},aT;function RH(){if(aT)return zy;aT=1,Object.defineProperty(zy,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return zy.default=t,zy}var iT;function QH(){if(iT)return Gf;iT=1;var t=Gf&&Gf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gf,"__esModule",{value:!0});const e=t(Iae),r=t(RH());class s{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var u,h,f,p;let v=null,y=null,g=null,x=d.status,w=d.statusText;if(d.ok){if(this.method!=="HEAD"){const B=await d.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=B:y=JSON.parse(B))}const k=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),C=(f=d.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");k&&C&&C.length>1&&(g=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,g=null,x=406,w="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const k=await d.text();try{v=JSON.parse(k),Array.isArray(v)&&d.status===404&&(y=[],v=null,x=200,w="OK")}catch{d.status===404&&k===""?(x=204,w="No Content"):v={message:k}}if(v&&this.isMaybeSingle&&(!((p=v?.details)===null||p===void 0)&&p.includes("0 rows"))&&(v=null,x=200,w="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:y,count:g,status:x,statusText:w}});return this.shouldThrowOnError||(c=c.catch(d=>{var u,h,f;return{error:{message:`${(u=d?.name)!==null&&u!==void 0?u:"FetchError"}: ${d?.message}`,details:`${(h=d?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=d?.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Gf.default=s,Gf}var oT;function HH(){if(oT)return Wf;oT=1;var t=Wf&&Wf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Wf,"__esModule",{value:!0});const e=t(QH());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const d=c?`${c}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(d,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:d="text"}={}){var u;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${f}"; options=${h};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Wf.default=r,Wf}var lT;function SE(){if(lT)return Kf;lT=1;var t=Kf&&Kf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Kf,"__esModule",{value:!0});const e=t(HH());class r extends e.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const o=Array.from(new Set(i)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(a,`in.(${o})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(a,`${c}fts${d}.${i}`),this}match(a){return Object.entries(a).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(a,i,o){return this.url.searchParams.append(a,`not.${i}.${o}`),this}or(a,{foreignTable:i,referencedTable:o=i}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${a})`),this}filter(a,i,o){return this.url.searchParams.append(a,`${i}.${o}`),this}}return Kf.default=r,Kf}var cT;function $H(){if(cT)return Vf;cT=1;var t=Vf&&Vf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vf,"__esModule",{value:!0});const e=t(SE());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",u),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(d.length>0){const u=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Vf.default=r,Vf}var dT;function Dae(){if(dT)return zf;dT=1;var t=zf&&zf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(zf,"__esModule",{value:!0});const e=t($H()),r=t(SE());class s{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:d}={}){var u;let h;const f=new URL(`${this.url}/rpc/${i}`);let p;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{f.searchParams.append(y,g)})):(h="POST",p=o);const v=new Headers(this.headers);return d&&v.set("Prefer",`count=${d}`),new r.default({method:h,url:f,headers:v,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return zf.default=s,zf}var uT;function Mae(){if(uT)return qs;uT=1;var t=qs&&qs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.PostgrestError=qs.PostgrestBuilder=qs.PostgrestTransformBuilder=qs.PostgrestFilterBuilder=qs.PostgrestQueryBuilder=qs.PostgrestClient=void 0;const e=t(Dae());qs.PostgrestClient=e.default;const r=t($H());qs.PostgrestQueryBuilder=r.default;const s=t(SE());qs.PostgrestFilterBuilder=s.default;const a=t(HH());qs.PostgrestTransformBuilder=a.default;const i=t(QH());qs.PostgrestBuilder=i.default;const o=t(RH());return qs.PostgrestError=o.default,qs.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},qs}var Lae=Mae();const Uae=Dr(Lae),{PostgrestClient:Rae,PostgrestQueryBuilder:kOe,PostgrestFilterBuilder:POe,PostgrestTransformBuilder:FOe,PostgrestBuilder:TOe,PostgrestError:OOe}=Uae;class Qae{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Hae="2.75.0",$ae=`realtime-js/${Hae}`,qae="1.0.0",dS=1e4,zae=1e3,Vae=100;var n0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(n0||(n0={}));var Es;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Es||(Es={}));var bl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bl||(bl={}));var uS;(function(t){t.websocket="websocket"})(uS||(uS={}));var wA;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(wA||(wA={}));class Kae{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=s.decode(e.slice(o,o+a));o=o+a;const c=s.decode(e.slice(o,o+i));o=o+i;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class qH{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var on;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(on||(on={}));const hT=(t,e,r={})=>{var s;const a=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Wae(o,t,e,a),i),{}):{}},Wae=(t,e,r,s)=>{const a=e.find(l=>l.name===t),i=a?.type,o=r[t];return i&&!s.includes(i)?zH(i,o):hS(o)},zH=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Jae(e,r)}switch(t){case on.bool:return Gae(e);case on.float4:case on.float8:case on.int2:case on.int4:case on.int8:case on.numeric:case on.oid:return Xae(e);case on.json:case on.jsonb:return Yae(e);case on.timestamp:return Zae(e);case on.abstime:case on.date:case on.daterange:case on.int4range:case on.int8range:case on.money:case on.reltime:case on.text:case on.time:case on.timestamptz:case on.timetz:case on.tsrange:case on.tstzrange:return hS(e);default:return hS(e)}},hS=t=>t,Gae=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Xae=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Yae=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jae=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>zH(e,l))}return t},Zae=t=>typeof t=="string"?t.replace(" ","T"):t,VH=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Sj{constructor(e,r,s={},a=dS){this.channel=e,this.event=r,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var AT;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(AT||(AT={}));class s0{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=s0.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=s0.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=s0.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(d,u)=>{o[d]||(c[d]=u)}),this.map(o,(d,u)=>{const h=i[d];if(h){const f=u.map(g=>g.presence_ref),p=h.map(g=>g.presence_ref),v=u.filter(g=>p.indexOf(g.presence_ref)<0),y=h.filter(g=>f.indexOf(g.presence_ref)<0);v.length>0&&(l[d]=v),y.length>0&&(c[d]=y)}else l[d]=u}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(e,r,s,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var d;const u=(d=e[l])!==null&&d!==void 0?d:[];if(e[l]=this.cloneDeep(c),u.length>0){const h=e[l].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}s(l,u,c)}),this.map(o,(l,c)=>{let d=e[l];if(!d)return;const u=c.map(h=>h.presence_ref);d=d.filter(h=>u.indexOf(h.presence_ref)<0),e[l]=d,a(l,d,c),d.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const a=e[s];return"metas"in a?r[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(fT||(fT={}));var a0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(a0||(a0={}));var hd;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hd||(hd={}));class BE{constructor(e,r={config:{}},s){var a,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Es.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sj(this,bl.join,this.params,this.timeout),this.rejoinTimer=new qH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Es.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Es.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bl.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new s0(this),this.broadcastEndpointURL=VH(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Es.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[a0.PRESENCE]&&this.bindings[a0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(hd.CHANNEL_ERROR,p)),this._onClose(()=>e?.(hd.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e?.(hd.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,g=(v=y?.length)!==null&&v!==void 0?v:0,x=[];for(let w=0;w<g;w++){const _=y[w],{filter:{event:k,schema:C,table:B,filter:I}}=_,S=p&&p[w];if(S&&S.event===k&&S.schema===C&&S.table===B&&S.filter===I)x.push(Object.assign(Object.assign({},_),{id:S.id}));else{this.unsubscribe(),this.state=Es.errored,e?.(hd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(hd.SUBSCRIBED);return}}).receive("error",p=>{this.state=Es.errored,e?.(hd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(hd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Es.joined&&e===a0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Es.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bl.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Sj(this,bl.leave,{},e),s.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Es.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Sj(this,e,r,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Vae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=bl;if(s&&[l,c,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,y,g;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(y=p.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(p=>p.callback(f,s)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,y,g,x,w,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,C=(v=p.filter)===null||v===void 0?void 0:v.event;return k&&((y=r.ids)===null||y===void 0?void 0:y.includes(k))&&(C==="*"||C?.toLocaleLowerCase()===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const k=(w=(x=p?.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return k==="*"||k===((_=r?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:g,commit_timestamp:x,type:w,errors:_}=v;f=Object.assign(Object.assign({},{schema:y,table:g,commit_timestamp:x,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(v))}p.callback(f,s)})}_isClosed(){return this.state===Es.closed}_isJoined(){return this.state===Es.joined}_isJoining(){return this.state===Es.joining}_isLeaving(){return this.state===Es.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&BE.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bl.close,{},e)}_onError(e){this._on(bl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Es.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hT(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hT(e.columns,e.old_record)),r}}const Bj=()=>{},Vy={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eie=[1e3,2e3,5e3,1e4],tie=1e4,rie=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nie{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dS,this.transport=null,this.heartbeatIntervalMs=Vy.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bj,this.ref=0,this.reconnectTimer=null,this.logger=Bj,this.conn=null,this.sendBuffer=[],this.serializer=new Kae,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>ph(async()=>{const{default:l}=await Promise.resolve().then(()=>Op);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${uS.websocket}`,this.httpEndpoint=VH(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qae.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qae}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case n0.connecting:return wA.Connecting;case n0.open:return wA.Open;case n0.closing:return wA.Closing;default:return wA.Closed}}isConnected(){return this.connectionState()===wA.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new BE(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(zae,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vy.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${s}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([rie],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:$ae};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(bl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new qH(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vy.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,a,i,o,l,c,d,u;if(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:dS,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:Vy.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:Bj,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(h=>eie[h-1]||tie),this.encode=(d=e?.encode)!==null&&d!==void 0?d:((h,f)=>f(JSON.stringify(h))),this.decode=(u=e?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class EE extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fs(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class sie extends EE{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class AS extends EE{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var aie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const KH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ph(async()=>{const{default:s}=await Promise.resolve().then(()=>Op);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},iie=()=>aie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ph(()=>Promise.resolve().then(()=>Op),void 0)).Response:Response}),fS=t=>{if(Array.isArray(t))return t.map(r=>fS(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=fS(s)}),e},oie=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var af=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Ej=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lie=(t,e,r)=>af(void 0,void 0,void 0,function*(){const s=yield iie();t instanceof s&&!r?.noResolveJson?t.json().then(a=>{const i=t.status||500,o=a?.statusCode||i+"";e(new sie(Ej(a),i,o))}).catch(a=>{e(new AS(Ej(a),a))}):e(new AS(Ej(t),t))}),cie=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"||!s?a:(oie(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function Rx(t,e,r,s,a,i){return af(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,cie(e,s,a,i)).then(c=>{if(!c.ok)throw c;return s?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>lie(c,l,s))})})}function _b(t,e,r,s){return af(this,void 0,void 0,function*(){return Rx(t,"GET",e,r,s)})}function ac(t,e,r,s,a){return af(this,void 0,void 0,function*(){return Rx(t,"POST",e,s,a,r)})}function mS(t,e,r,s,a){return af(this,void 0,void 0,function*(){return Rx(t,"PUT",e,s,a,r)})}function die(t,e,r,s){return af(this,void 0,void 0,function*(){return Rx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function WH(t,e,r,s,a){return af(this,void 0,void 0,function*(){return Rx(t,"DELETE",e,s,a,r)})}var uie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class hie{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return uie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fs(e))return{data:null,error:e};throw e}})}}var Aie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class fie{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}asStream(){return new hie(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.execute().then(e,r)}execute(){return Aie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fs(e))return{data:null,error:e};throw e}})}}var Si=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const mie={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pie{constructor(e,r={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=KH(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,a){return Si(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},mT),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(l=Object.assign(Object.assign({},l),a.headers));const d=this._removeEmptyFolders(r),u=this._getFinalPath(d),h=yield(e=="PUT"?mS:ac)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fs(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Si(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,a){return Si(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:mT.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl)):(c=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const h=yield mS(this.fetch,l.toString(),c,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(fs(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Si(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield ac(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new EE("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fs(s))return{data:null,error:s};throw s}})}update(e,r,s){return Si(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Si(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}copy(e,r,s){return Si(this,void 0,void 0,function*(){try{return{data:{path:(yield ac(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,s){return Si(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield ac(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,s){return Si(this,void 0,void 0,function*(){try{const a=yield ac(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>_b(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new fie(c,this.shouldThrowOnError)}info(e){return Si(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield _b(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fS(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fs(s))return{data:null,error:s};throw s}})}exists(e){return Si(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield die(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fs(s)&&s instanceof AS){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${d}`)}}}remove(e){return Si(this,void 0,void 0,function*(){try{return{data:yield WH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fs(r))return{data:null,error:r};throw r}})}list(e,r,s){return Si(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},mie),r),{prefix:e||""});return{data:yield ac(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}listV2(e,r){return Si(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ac(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fs(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gie="2.75.0",xie={"X-Client-Info":`storage-js/${gie}`};var Xf=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class yie{constructor(e,r={},s,a){this.shouldThrowOnError=!1;const i=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xie),r),this.fetch=KH(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Xf(this,void 0,void 0,function*(){try{return{data:yield _b(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fs(e))return{data:null,error:e};throw e}})}getBucket(e){return Xf(this,void 0,void 0,function*(){try{return{data:yield _b(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fs(r))return{data:null,error:r};throw r}})}createBucket(e){return Xf(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fs(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return Xf(this,void 0,void 0,function*(){try{return{data:yield mS(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fs(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Xf(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fs(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Xf(this,void 0,void 0,function*(){try{return{data:yield WH(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fs(r))return{data:null,error:r};throw r}})}}class vie extends yie{constructor(e,r={},s,a){super(e,r,s,a)}from(e){return new pie(this.url,this.headers,e,this.fetch)}}const bie="2.75.0";let Mg="";typeof Deno<"u"?Mg="deno":typeof document<"u"?Mg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mg="react-native":Mg="node";const wie={"X-Client-Info":`supabase-js-${Mg}/${bie}`},jie={headers:wie},Nie={schema:"public"},_ie={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cie={};var Sie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};const Bie=t=>{let e;return t?e=t:typeof fetch>"u"?e=LH:e=fetch,(...r)=>e(...r)},Eie=()=>typeof Headers>"u"?UH:Headers,kie=(t,e,r)=>{const s=Bie(r),a=Eie();return(i,o)=>Sie(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let d=new a(o?.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:d}))})};var Pie=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};function Fie(t){return t.endsWith("/")?t:t+"/"}function Tie(t,e){var r,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:d,realtime:u,global:h}=e,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(s=l?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>Pie(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Oie(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fie(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const GH="2.75.0",pm=30*1e3,pS=3,kj=pS*pm,Iie="http://localhost:9999",Die="supabase.auth.token",Mie={"X-Client-Info":`gotrue-js/${GH}`},gS="X-Supabase-Api-Version",XH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lie=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Uie=600*1e3;class M0 extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function $t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Rie extends M0{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Qie(t){return $t(t)&&t.name==="AuthApiError"}class jA extends M0{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wh extends M0{constructor(e,r,s,a){super(e,s,a),this.name=r,this.status=s}}class Hu extends wh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hie(t){return $t(t)&&t.name==="AuthSessionMissingError"}class Yf extends wh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ky extends wh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Wy extends wh{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $ie(t){return $t(t)&&t.name==="AuthImplicitGrantRedirectError"}class pT extends wh{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xS extends wh{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Pj(t){return $t(t)&&t.name==="AuthRetryableFetchError"}class gT extends wh{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class yS extends wh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xT=` 	
\r=`.split(""),qie=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<xT.length;e+=1)t[xT[e].charCodeAt(0)]=-2;for(let e=0;e<Cb.length;e+=1)t[Cb[e].charCodeAt(0)]=e;return t})();function yT(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Cb[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Cb[s]),e.queuedBits-=6}}function YH(t,e,r){const s=qie[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function vT(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{Kie(o,s,r)};for(let o=0;o<t.length;o+=1)YH(t.charCodeAt(o),a,i);return e.join("")}function zie(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vie(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zie(s,e)}}function Kie(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Um(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)YH(t.charCodeAt(a),r,s);return new Uint8Array(e)}function Wie(t){const e=[];return Vie(t,r=>e.push(r)),new Uint8Array(e)}function kA(t){const e=[],r={queue:0,queuedBits:0},s=a=>{e.push(a)};return t.forEach(a=>yT(a,r,s)),yT(null,r,s),e.join("")}function Gie(t){return Math.round(Date.now()/1e3)+t}function Xie(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Yi=()=>typeof window<"u"&&typeof document<"u",aA={tested:!1,writable:!1},JH=()=>{if(!Yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(aA.tested)return aA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),aA.tested=!0,aA.writable=!0}catch{aA.tested=!0,aA.writable=!1}return aA.writable};function Yie(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((s,a)=>{e[a]=s}),e}const ZH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ph(async()=>{const{default:s}=await Promise.resolve().then(()=>Op);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Jie=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gm=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},iA=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mu=async(t,e)=>{await t.removeItem(e)};class n1{constructor(){this.promise=new n1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}n1.promiseConstructor=Promise;function Fj(t){const e=t.split(".");if(e.length!==3)throw new yS("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Lie.test(e[s]))throw new yS("JWT not in base64url format");return{header:JSON.parse(vT(e[0])),payload:JSON.parse(vT(e[1])),signature:Um(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zie(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function eoe(t,e){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function toe(t){return("0"+t.toString(16)).substr(-2)}function roe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,toe).join("")}async function noe(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function soe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await noe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jf(t,e,r=!1){const s=roe();let a=s;r&&(a+="/PASSWORD_RECOVERY"),await gm(t,`${e}-code-verifier`,a);const i=await soe(s);return[i,s===i?"plain":"s256"]}const aoe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ioe(t){const e=t.headers.get(gS);if(!e||!e.match(aoe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ooe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function loe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const coe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zf(t){if(!coe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tj(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bT(t){return JSON.parse(JSON.stringify(t))}var doe=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};const mA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uoe=[502,503,504];async function wT(t){var e;if(!Jie(t))throw new xS(mA(t),0);if(uoe.includes(t.status))throw new xS(mA(t),t.status);let r;try{r=await t.json()}catch(i){throw new jA(mA(i),i)}let s;const a=ioe(t);if(a&&a.getTime()>=XH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new gT(mA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Hu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gT(mA(r),t.status,r.weak_password.reasons);throw new Rie(mA(r),t.status||500,s)}const hoe=(t,e,r,s)=>{const a={method:t,headers:e?.headers||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),r))};async function cr(t,e,r,s){var a;const i=Object.assign({},s?.headers);i[gS]||(i[gS]=XH["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Aoe(t,e,r+l,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(c):{data:Object.assign({},c),error:null}}async function Aoe(t,e,r,s,a,i){const o=hoe(e,s,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new xS(mA(c),0)}if(l.ok||await wT(l),s?.noResolveJson)return l;try{return await l.json()}catch(c){await wT(c)}}function gl(t){var e;let r=null;poe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Gie(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function jT(t){const e=gl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Wu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function foe(t){return{data:t,error:null}}function moe(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i}=t,o=doe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function NT(t){return t}function poe(t){return t.access_token&&t.refresh_token&&t.expires_in}const Oj=["global","local","others"];var goe=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};class xoe{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=ZH(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Oj[0]){if(Oj.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oj.join(", ")}`);try{return await cr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await cr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wu})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=goe(e,["options"]),a=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await cr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:moe,redirectTo:r?.redirectTo})}catch(r){if($t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Wu})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await cr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:NT});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if($t(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Zf(e);try{return await cr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Wu})}catch(r){if($t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Zf(e);try{return await cr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Wu})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){Zf(e);try{return await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wu})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Zf(e.userId);try{const{data:r,error:s}=await cr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:s}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Zf(e.userId),Zf(e.id);try{return{data:await cr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,a,i,o,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await cr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:NT});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);d[`${g}Page`]=y}),d.total=parseInt(f)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if($t(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await cr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await cr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await cr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}}function _T(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const em={debug:!!(globalThis&&JH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e$ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yoe extends e${}async function voe(t,e,r){em.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),em.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){em.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{em.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw em.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yoe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(em.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function boe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function t$(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function woe(t){return parseInt(t,16)}function joe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Noe(t){var e;const{chainId:r,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:d,scheme:u,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const p=t$(t.address),v=u?`${u}://${s}`:s,y=t.statement?`${t.statement}
`:"",g=`${v} wants you to sign in with your Ethereum account:
${p}

${y}`;let x=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),l&&(x+=`
Not Before: ${l.toISOString()}`),c&&(x+=`
Request ID: ${c}`),d){let w=`
Resources:`;for(const _ of d){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}x+=w}return`${g}
${x}`}class As extends Error{constructor({message:e,code:r,cause:s,name:a}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sb extends As{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function _oe({error:t,options:e}){var r,s,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new As({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new As({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new As({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new As({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new As({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new As({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new As({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new As({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(n$(o)){if(i.rp.id!==o)return new As({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new As({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new As({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new As({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new As({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Coe({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new As({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new As({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(n$(s)){if(r.rpId!==s)return new As({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new As({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new As({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new As({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}var r$=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(r[s[a]]=t[s[a]]);return r};class Soe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Boe=new Soe;function Eoe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,a=r$(t,["challenge","user","excludeCredentials"]),i=Um(e).buffer,o=Object.assign(Object.assign({},r),{id:Um(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const d=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Um(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function koe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=r$(t,["challenge","allowCredentials"]),a=Um(e).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Um(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Poe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:kA(new Uint8Array(t.response.attestationObject)),clientDataJSON:kA(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Foe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:kA(new Uint8Array(a.authenticatorData)),clientDataJSON:kA(new Uint8Array(a.clientDataJSON)),signature:kA(new Uint8Array(a.signature)),userHandle:a.userHandle?kA(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function n$(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function CT(){var t,e;return!!(Yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Toe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sb("Browser returned unexpected credential type",e)}:{data:null,error:new Sb("Empty credential response",e)}}catch(e){return{data:null,error:_oe({error:e,options:t})}}}async function Ooe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sb("Browser returned unexpected credential type",e)}:{data:null,error:new Sb("Empty credential response",e)}}catch(e){return{data:null,error:Coe({error:e,options:t})}}}const Ioe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Doe={userVerification:"preferred",hints:["security-key"]};function Bb(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const l=s[i];e(l)?s[i]=Bb(l,o):s[i]=Bb(o)}else s[i]=o}return s}function Moe(t,e){return Bb(Ioe,t,e||{})}function Loe(t,e){return Bb(Doe,t,e||{})}class Uoe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=a??Boe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Moe(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:h}=await Toe({publicKey:d,signal:c});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const d=Loe(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:h}=await Ooe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new jA("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new M0("rpId is required for WebAuthn authentication")};try{if(!CT())return{data:null,error:new jA("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new jA("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new M0("rpId is required for WebAuthn registration")};try{if(!CT())return{data:null,error:new jA("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:l};const{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return $t(o)?{data:null,error:o}:{data:null,error:new jA("Unexpected error in register",o)}}}}boe();const Roe={url:Iie,storageKey:Die,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Mie,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ST(t,e,r){return await r()}const tm={};class L0{get jwks(){var e,r;return(r=(e=tm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){tm[this.storageKey]=Object.assign(Object.assign({},tm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=tm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){tm[this.storageKey]=Object.assign(Object.assign({},tm[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=L0.nextInstanceID,L0.nextInstanceID+=1,this.instanceID>0&&Yi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Roe),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new xoe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ZH(a.fetch),this.lock=a.lock||ST,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Yi()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=voe:this.lock=ST,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Uoe(this)},this.persistSession?(a.storage?this.storage=a.storage:JH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_T(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_T(this.memoryStorage)),Yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${GH}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Yie(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Yi()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),$ie(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $t(r)?{error:r}:{error:new jA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,a;try{const i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:gl}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,a;try{let i;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Jf(this.storage,this.storageKey)),i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:h,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:v},xform:gl})}else if("phone"in e){const{phone:u,password:h,options:f}=e;i=await cr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f?.data)!==null&&s!==void 0?s:{},channel:(a=f?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:gl})}else throw new Ky("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if($t(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jT})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await cr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:jT})}else throw new Ky("You must provide either an email or phone number and a password");const{data:s,error:a}=r;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Yf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,a,i,o,l,c,d,u,h,f;let p,v;if("message"in e)p=e.message,v=e.signature;else{const{chain:y,wallet:g,statement:x,options:w}=e;let _;if(Yi())if(typeof g=="object")_=g;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")_=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href),C=await _.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!C||C.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=t$(C[0]);let I=(s=w?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!I){const E=await _.request({method:"eth_chainId"});I=woe(E)}const S={domain:k.host,address:B,statement:x,uri:k.href,version:"1",chainId:I,nonce:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(d=w?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Noe(S),v=await _.request({method:"personal_sign",params:[joe(p),B]})}try{const{data:y,error:g}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gl});if(g)throw g;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Yf}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:g})}catch(y){if($t(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,s,a,i,o,l,c,d,u,h,f,p;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:g,wallet:x,statement:w,options:_}=e;let k;if(Yi())if(typeof x=="object")k=x;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))k=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const C=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const B=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),w?{statement:w}:null));let I;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")I=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)I=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)v=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),y=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(a=(s=_?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=_?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((o=_?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((h=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",..._.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const B=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=B}}try{const{data:g,error:x}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:kA(y)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:gl});if(x)throw x;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new Yf}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:x})}catch(g){if($t(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await iA(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(r??"").split("/");try{const{data:i,error:o}=await cr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:gl});if(await Mu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Yf}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if($t(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:a,access_token:i,nonce:o}=e,l=await cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gl}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Yf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Jf(this.storage,this.storageKey));const{error:h}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:d,error:u}=await cr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c?.data)!==null&&a!==void 0?a:{},create_user:(i=c?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Ky("You must provide either an email or phone number.")}catch(l){if($t(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,s;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await cr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:gl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,d=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,s,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Jf(this.storage,this.storageKey)),await cr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:foe})}catch(i){if($t(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Hu;const{error:a}=await cr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if($t(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:i}=e,{error:o}=await cr(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:a,options:i}=e,{data:o,error:l}=await cr(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new Ky("You must provide either an email or phone number and a type")}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await iA(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<kj:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await iA(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Tj()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,u)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Wu}):await this._useSession(async r=>{var s,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Hu}:await cr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Wu})})}catch(r){if($t(r))return Hie(r)&&(await this._removeSession(),await Mu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new Hu;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Jf(this.storage,this.storageKey));const{data:d,error:u}=await cr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Wu});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if($t(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Hu;const r=Date.now()/1e3;let s=r,a=!0,i=null;const{payload:o}=Fj(e.access_token);if(o.exp&&(s=o.exp,a=s<=r),a){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($t(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new Hu;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($t(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Yi())throw new Wy("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Wy(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wy("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pT("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:d}=e;if(!i||!l||!o||!d)throw new Wy("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(l);let f=u+h;c&&(f=parseInt(c));const p=f-u;p*1e3<=pm&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,u);const{data:y,error:g}=await this._getUser(i);if(g)throw g;const x={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(s){if($t(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await iA(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{error:i};const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Qie(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Mu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Xie(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Jf(this.storage,this.storageKey,!0));try{return await cr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($t(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,d,u;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await cr(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Yi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if($t(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:c,access_token:d,nonce:u}=e,h=await cr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:gl}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Yf}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:p})}catch(a){if($t(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)throw o;return await cr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await eoe(async a=>(a>0&&await Zie(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await cr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gl})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Pj(i)&&Date.now()+o-s<pm})}catch(s){if(this._debug(r,"error",s),$t(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Yi()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await iA(this.storage,this.storageKey);if(a&&this.userStorage){let o=await iA(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await gm(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:Tj()}else if(a&&!a.user&&!a.user){const o=await iA(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await Mu(this.storage,this.storageKey+"-user"),await gm(this.storage,this.storageKey,a)):a.user=Tj()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<kj;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${kj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Pj(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Hu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new n1;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Hu;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),$t(i)){const o={data:null,error:i};return Pj(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await gm(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=bT(a);await gm(this.storage,this.storageKey,i)}else{const a=bT(r);await gm(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Mu(this.storage,this.storageKey),await Mu(this.storage,this.storageKey+"-code-verifier"),await Mu(this.storage,this.storageKey+"-user"),this.userStorage&&await Mu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Yi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pm);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/pm);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${pm}ms, refresh threshold is ${pS} ticks`),a<=pS&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof e$)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yi()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const a=[`provider=${encodeURIComponent(r)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await Jf(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;return i?{data:null,error:i}:await cr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:d}=await cr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&c.type==="totp"&&(!((a=c?.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if($t(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Poe(e.webauthn.credential_response):Foe(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await cr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Eoe(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:koe(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($t(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r?.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Fj(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(l=>l.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===e),s&&this.jwks_cached_at+Uie>a)return s;const{data:i,error:o}=await cr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};s=p.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Fj(s);r?.allowExpired||ooe(i.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:i,header:a,signature:o},error:null}}const u=loe(a.alg),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Wie(`${l}.${c}`)))throw new yS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}}}L0.nextInstanceID=0;const Qoe=L0;class Hoe extends Qoe{constructor(e){super(e)}}var $oe=function(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,e||[])).next())})};class qoe{constructor(e,r,s){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Oie(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Nie,realtime:Cie,auth:Object.assign(Object.assign({},_ie),{storageKey:c}),global:jie},u=Tie(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=kie(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Rae(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new vie(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new kae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return $oe(this,void 0,void 0,function*(){var e,r;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,storageKey:o,flowType:l,lock:c,debug:d},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hoe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:a,userStorage:i,flowType:l,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nie(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s?.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zoe=(t,e,r)=>new qoe(t,e,r);function Voe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Voe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");function Koe(t){const e=t.tipo_pessoa==="pj";return{id:t.id,name:t.nome_razao||"",email:t.email,phone:t.telefone,address:"",client_type:t.tipo_pessoa?.toUpperCase()||"PF",document:e?t.cnpj:t.cpf,company_name:e?t.nome_razao:void 0,notes:t.observacoes,created_at:t.created_at,updated_at:t.updated_at||t.created_at}}function s$(t,e,r){let s="pending";if(t.status){const o=t.status.toLowerCase();o==="pending"||o.includes("aberta")||o.includes("pendente")?s="pending":o==="in_progress"||o.includes("execuo")||o.includes("agendada")||o.includes("andamento")?s="in_progress":o==="completed"||o.includes("conclu")?s="completed":o==="cancelled"||o.includes("cancel")?s="cancelled":["pending","in_progress","completed","cancelled"].includes(o)&&(s=o)}const a=r?.find(o=>o.principal===!0)||r?.[0];let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{...t,id:t.id,order_number:t.order_number||t.id,client_id:t.customer_id,client_name:e?.nome_razao||"",client_phone:e?.telefone||"",client_email:e?.email,client_address:i,client_city:a?.cidade||"",client_state:a?.estado||"",client_cep:a?.cep||"",client_document:e?.tipo_pessoa==="pj"?e?.cnpj:e?.cpf,client_company_name:e?.tipo_pessoa==="pj"?e?.nome_razao:void 0,description:t.description||"",status:s,created_at:t.opened_at,due_date:t.scheduled_at,scheduled_at:t.scheduled_at,estimated_value:t.total_value,actual_value:t.total_value,notes:t.notes||"",updated_at:t.opened_at}}function a$(t,e,r){let s="pending";if(t.status){const o=t.status.toLowerCase();o==="aberta"||o==="pendente"?s="pending":o==="em andamento"||o==="execuo"?s="in_progress":o==="concluida"||o==="finalizada"?s="completed":o==="cancelada"&&(s="cancelled")}const a=r?.find(o=>o.principal===!0)||r?.[0];let i="";return a&&(i=[a.logradouro,a.numero,a.complemento,a.bairro,a.cidade,a.estado,a.cep].filter(Boolean).join(", ")),{id:t.id,order_number:t.codigo||t.id,client_id:t.customer_id,client_name:e?.nome_razao||"",client_phone:e?.telefone||"",client_email:e?.email,client_address:i,client_city:a?.cidade||"",client_state:a?.estado||"",client_cep:a?.cep||"",client_document:e?.tipo_pessoa==="pj"?e?.cnpj:e?.cpf,client_company_name:e?.tipo_pessoa==="pj"?e?.nome_razao:void 0,description:t.descricao||"",status:s,created_at:t.created_at,due_date:t.data,estimated_value:t.total,actual_value:t.total,notes:"",updated_at:t.created_at}}function kE(t){return{id:t.id,name:t.name,category:t.category,quantity:t.quantity||0,min_stock:t.min_quantity||0,price:t.unit_price||t.unit_cost||0,supplier:t.supplier_name||"",sku:t.code,location:t.location,description:t.description,created_at:t.created_at||new Date().toISOString(),updated_at:t.updated_at||new Date().toISOString()}}function i$(t){const e=()=>{const r=Date.now().toString(36),s=Math.random().toString(36).substring(2,7);return`INV-${r}-${s}`.toUpperCase()};return{name:t.name||"",description:t.description||void 0,code:t.sku&&t.sku.trim()!==""?t.sku:e(),category:t.category||void 0,quantity:t.quantity,min_quantity:t.min_stock,unit_price:t.price,unit_cost:t.cost||t.price,location:t.location||void 0,supplier_name:t.supplier||void 0,active:!0}}class Woe{cache=new Map;defaultTTL=300*1e3;set(e,r,s=this.defaultTTL){this.cache.set(e,{data:r,timestamp:Date.now(),expiresIn:s})}get(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>r.expiresIn?(this.cache.delete(e),null):r.data:null}invalidate(e){this.cache.delete(e)}invalidatePattern(e){const r=new RegExp(e);Array.from(this.cache.keys()).forEach(s=>{r.test(s)&&this.cache.delete(s)})}clear(){this.cache.clear()}getOrFetch(e,r,s){const a=this.get(e);return a!==null?Promise.resolve(a):r().then(i=>(this.set(e,i,s),i))}}const Ro=new Woe;class BT extends Error{constructor(e,r,s=500){super(e),this.code=r,this.statusCode=s,this.name="AppError"}}const kd=t=>{if("code"in t&&"message"in t){const e=t,s={23505:"Este registro j existe no sistema",23503:"No  possvel excluir este registro pois existem dados vinculados",23502:"Campos obrigatrios no foram preenchidos","42P01":"Tabela no encontrada no banco de dados",PGRST116:"Nenhum registro encontrado",42501:"Voc no tem permisso para realizar esta ao"}[e.code]||e.message;return new BT(s,e.code,400)}return new BT(t.message||"Erro desconhecido",void 0,500)},Goe="https://hevvpugkhcmujiyncysq.supabase.co",Xoe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",pe=zoe(Goe,Xoe,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}});let Yoe=[{id:"1",name:"Instalao de Ar Condicionado Split",category:"Instalao",description:"Instalao completa de ar condicionado split incluindo suporte, tubulao e testes",estimated_time:"3 horas",base_price:350,materials:[{name:"Suporte para Ar Condicionado",quantity:1},{name:"Tubulao de Cobre 3m",quantity:1},{name:"Cabo PP 3x2.5mm 5m",quantity:1}],instructions:["Verificar local de instalao","Instalar suporte da unidade externa","Fixar unidade interna","Conectar tubulao","Fazer conexo eltrica","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Manuteno Preventiva",category:"Manuteno",description:"Limpeza de filtros, verificao de gs e limpeza geral do equipamento",estimated_time:"1.5 horas",base_price:180,materials:[{name:"Produto de Limpeza",quantity:1},{name:"Filtro de Ar",quantity:1}],instructions:["Desligar equipamento","Remover e limpar filtros","Verificar nvel de gs","Limpar serpentinas","Testar funcionamento"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Reparo de Vazamento",category:"Reparo",description:"Identificao e reparo de vazamentos no sistema de refrigerao",estimated_time:"2 horas",base_price:250,materials:[{name:"Gs Refrigerante R410A",quantity:1},{name:"Vedante",quantity:1}],instructions:["Localizar vazamento","Reparar ponto de vazamento","Testar vedao","Recarregar gs","Testar presso"],is_active:!0,created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}],Joe=[{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",company_name:"Empresa ABC Ltda",trade_name:"ABC Corp",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"},{id:"3",name:"Maria Santos",email:"maria@email.com",phone:"(11) 97777-9012",address:"Rua das Palmeiras, 456 - So Paulo, SP",client_type:"PF",document:"987.654.321-00",created_at:"2023-12-13T08:00:00",updated_at:"2023-12-13T08:00:00"}],Zoe=[{id:"OS-2023-001",order_number:"OS-2023-001",client_name:"Joo Silva",client_phone:"(11) 99999-1234",client_address:"Rua das Flores, 123",service_type:"Instalao de Ar Condicionado",description:"Instalao de ar condicionado split 12.000 BTUs no quarto principal",priority:"high",status:"in_progress",assigned_to:"Carlos Tcnico",created_at:"2023-12-15T08:00:00",due_date:"2023-12-18",estimated_value:850,notes:"Cliente solicitou instalao urgente. Verificar voltagem antes da instalao.",updated_at:"2023-12-15T08:00:00"}],ele=[{id:"1",name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,min_stock:2,price:1800,supplier:"Fornecedor A",sku:"AC-12000-220",location:"Prateleira A3",description:"Ar condicionado split 12.000 BTUs, 220V",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Suporte para Ar Condicionado",category:"Acessrios",quantity:15,min_stock:5,price:50,supplier:"Fornecedor B",sku:"SUP-AC-001",location:"Prateleira B1",description:"Suporte universal para unidade externa",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"3",name:"Tubulao de Cobre 3m",category:"Materiais",quantity:8,min_stock:3,price:80,supplier:"Fornecedor C",sku:"TUB-CU-3M",location:"Prateleira C2",description:'Tubulao de cobre 1/4" x 3/8" - 3 metros',created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"}];const tle=async t=>{try{const{data:e,error:r}=await pe.from("service_orders").insert([{order_number:t.order_number,client_id:t.client_id,client_name:t.client_name,client_phone:t.client_phone,client_address:t.client_address,service_type:t.service_type,description:t.description,priority:t.priority,status:t.status,assigned_to:t.assigned_to,due_date:t.due_date,estimated_value:t.estimated_value,notes:t.notes}]).select().single();if(r)throw kd(r);return Ro.invalidatePattern("service_orders"),e}catch(e){throw kd(e)}},rle=async()=>Ro.getOrFetch("service_orders_v2",async()=>{try{const[t,e,r]=await Promise.all([pe.from("orders").select("*").order("created_at",{ascending:!1}),pe.from("service_orders").select("*").order("created_at",{ascending:!1}),pe.from("customers").select("*")]),s=r.data||[],a=new Map(s.map(o=>[o.id,o])),i=[];return t.data&&t.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(a$(o,l))}),e.data&&e.data.forEach(o=>{const l=o.customer_id?a.get(o.customer_id):void 0;i.push(s$(o,l))}),i.sort((o,l)=>new Date(l.created_at).getTime()-new Date(o.created_at).getTime()),i}catch(t){return console.error("Error fetching service orders:",t),Zoe}},30*1e3),tb=async t=>{try{const[e,r,s,a,i,o,l,c]=await Promise.all([pe.from("orders").select("*").eq("id",t).maybeSingle(),pe.from("service_orders").select("*").eq("id",t).maybeSingle(),pe.from("customers").select("*"),pe.from("customer_addresses").select("*"),pe.from("service_order_items").select(`
        *,
        service_catalog:service_catalog_id(
          id,
          name,
          description,
          base_price,
          category,
          escopo_servico,
          requisitos_tecnicos,
          avisos_seguranca,
          passos_execucao,
          resultados_esperados,
          padroes_qualidade,
          informacoes_garantia,
          observacoes_tecnicas,
          tempo_estimado_minutos
        )
      `).eq("service_order_id",t),pe.from("service_order_materials").select("*, material:material_id(name, unit)").eq("service_order_id",t),pe.from("service_order_labor").select("*, employee:staff_id(id, name)").eq("service_order_id",t),pe.from("service_order_team").select("*, employee:employee_id(id, name)").eq("service_order_id",t)]),d=s.data||[],u=new Map(d.map(v=>[v.id,v])),h=a.data||[],f=new Map;h.forEach(v=>{f.has(v.customer_id)||f.set(v.customer_id,[]),f.get(v.customer_id).push(v)});let p=null;if(e.data){const v=e.data,y=v.customer_id?u.get(v.customer_id):void 0,g=v.customer_id?f.get(v.customer_id):void 0;p=a$(v,y,g)}if(r.data){const v=r.data,y=v.customer_id?u.get(v.customer_id):void 0,g=v.customer_id?f.get(v.customer_id):void 0;p=s$(v,y,g)}if(p){const v=new Map,y=new Map;(o.data||[]).forEach(g=>{const x=g.service_order_item_id;x&&(v.has(x)||v.set(x,[]),v.get(x).push({nome:g.material_name||g.nome_material||g.material?.name||"Material",quantidade:g.quantity||g.quantidade||0,unidade_medida:g.material_unit||g.material?.unit||"un",preco_unitario:g.unit_sale_price||g.preco_venda||g.unit_price||0,valor_total:g.total_sale_price||g.valor_total||g.total_price||0}))}),(l.data||[]).forEach(g=>{const x=g.service_order_item_id;x&&(y.has(x)||y.set(x,[]),y.get(x).push({nome:g.nome_funcionario||g.employee?.name||"Funcionrio",tempo_minutos:g.tempo_minutos||(g.hours?g.hours*60:0)||0,custo_hora:g.custo_hora||g.hourly_rate||0,custo_total:g.custo_total||g.total_cost||0}))}),p.items=(i.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,service_catalog_id:g.service_catalog_id,service_name:g.service_catalog?.name||"",descricao:g.notes||g.descricao||g.service_catalog?.description||g.service_catalog?.name||"",description:g.notes||g.service_catalog?.description||g.service_catalog?.name||"",name:g.service_catalog?.name||"",quantidade:g.quantity||g.quantidade||1,quantity:g.quantity||1,preco_unitario:g.unit_price||g.preco_unitario||0,unit_price:g.unit_price||0,preco_total:g.total_price||g.preco_total||0,total_price:g.total_price||0,tempo_estimado_minutos:g.estimated_duration||g.tempo_estimado_minutos||0,estimated_duration:g.estimated_duration||0,notes:g.notes||"",difficulty_level:g.difficulty_level||1,difficulty_multiplier:g.difficulty_multiplier||1,base_unit_price:g.base_unit_price||g.unit_price||0,materiais:v.get(g.id)||[],funcionarios:y.get(g.id)||[],created_at:g.created_at,updated_at:g.updated_at})),p.materials=(o.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,material_id:g.material_id,material_name:g.material_name,nome:g.material_name,quantity:g.quantity||0,quantidade:g.quantity||0,unit_price:g.unit_price||0,preco_compra_unitario:g.unit_price||0,total_price:g.total_price||0,custo_total:g.total_price||0,notes:g.notes||"",created_at:g.created_at,updated_at:g.updated_at})),p.team=(c.data||[]).map(g=>({id:g.id,service_order_id:g.service_order_id,employee_id:g.employee_id,nome:g.employee?.name||"Funcionrio",name:g.employee?.name||"Funcionrio",role:g.role||g.employee?.especialidade||g.employee?.role||"",assigned_at:g.assigned_at,created_at:g.created_at}))}return p}catch(e){return console.error("Error fetching service order by ID:",e),null}},ET=async(t,e)=>{try{const{data:r,error:s}=await pe.from("service_orders").update(e).eq("id",t).select().single();if(s)throw kd(s);return Ro.invalidatePattern("service_orders"),r}catch(r){throw kd(r)}},o$=async t=>{try{const{data:e,error:r}=await pe.rpc("delete_service_order_complete",{p_service_order_id:t});if(r)throw kd(r);return Ro.invalidatePattern("service_orders"),e}catch(e){throw kd(e)}},nle=async t=>{try{const e=i$(t),{data:r,error:s}=await pe.from("inventory_items").insert([e]).select().single();if(s)throw kd(s);return Ro.invalidatePattern("inventory"),kE(r)}catch(e){throw kd(e)}},sle=async()=>Ro.getOrFetch("inventory_items",async()=>{try{const{data:t,error:e}=await pe.from("inventory_items").select("*").order("name");if(e)throw kd(e);return t.map(kE)}catch(t){return console.error("Error fetching inventory items:",t),ele}},300*1e3),ale=async(t,e)=>{const r=i$(e),{data:s,error:a}=await pe.from("inventory_items").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating inventory item:",a),a;return Ro.invalidatePattern("inventory"),kE(s)},ile=async t=>{const{error:e}=await pe.from("inventory_items").delete().eq("id",t);if(e)throw console.error("Error deleting inventory item:",e),e},ole=async()=>{const{data:t,error:e}=await pe.from("customers").select("*").order("nome_razao");return e?(console.error("Error fetching clients:",e),Joe):t.map(Koe)},lle=async t=>{try{const{error:e}=await pe.from("customers").delete().eq("id",t);if(e)throw e.code==="23503"?new Error("No  possvel excluir este cliente pois existem registros vinculados (ordens de servio, contratos, etc). Exclua os registros vinculados primeiro."):e;Ro.invalidatePattern("clients"),Ro.invalidatePattern("customers")}catch(e){throw console.error("Error deleting client:",e),e}},cle=async t=>{let e=null;if(t.contract_type){const{data:i}=await pe.from("contract_types").select("id").eq("active",!0).limit(1).maybeSingle();i&&(e=i.id)}const r={customer_id:t.client_id||t.customer_id,contract_number:t.contract_number,start_date:t.start_date,end_date:t.end_date,value:t.value,status:t.status,payment_frequency:t.frequency,notes:t.notes||t.terms_and_conditions,contract_type_id:e},{data:s,error:a}=await pe.from("contracts").insert([r]).select().single();if(a)throw console.error("Error creating contract:",a),a;return s},dle=async t=>{const{data:e,error:r}=await pe.from("contracts").select("*, customers(*)").eq("customer_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching client contracts:",r),[]):e},ule=async(t,e)=>{const r={...e,customer_id:e.client_id||e.customer_id};delete r.client_id;const{data:s,error:a}=await pe.from("contracts").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating contract:",a),a;return s},hle=async t=>{const{error:e}=await pe.from("contracts").delete().eq("id",t);if(e)throw console.error("Error deleting contract:",e),e},Ale=async t=>{const e={name:t.name,description:t.description,category:t.category,base_price:t.base_price,active:t.is_active!==void 0?t.is_active:t.active!==void 0?t.active:!0};if(t.estimated_time){const a=parseFloat(t.estimated_time);isNaN(a)||(e.estimated_duration=a)}else t.estimated_duration&&(e.estimated_duration=t.estimated_duration);const{data:r,error:s}=await pe.from("service_catalog").insert([e]).select().single();if(s)throw console.error("Error creating service catalog item:",s),s;return r},fle=async()=>{const{data:t,error:e}=await pe.from("service_catalog").select("*").eq("active",!0).order("name");return e?(console.error("Error fetching service catalog:",e),Yoe):t},mle=async(t,e)=>{const r={};if(e.name!==void 0&&(r.name=e.name),e.description!==void 0&&(r.description=e.description),e.category!==void 0&&(r.category=e.category),e.base_price!==void 0&&(r.base_price=e.base_price),e.is_active!==void 0?r.active=e.is_active:e.active!==void 0&&(r.active=e.active),e.estimated_time){const i=parseFloat(e.estimated_time);isNaN(i)||(r.estimated_duration=i)}else e.estimated_duration!==void 0&&(r.estimated_duration=e.estimated_duration);const{data:s,error:a}=await pe.from("service_catalog").update(r).eq("id",t).select().single();if(a)throw console.error("Error updating service catalog item:",a),a;return s},ple=async t=>{const{error:e}=await pe.from("service_catalog").delete().eq("id",t);if(e)throw console.error("Error deleting service catalog item:",e),e},gle=async()=>{const{data:t,error:e}=await pe.from("agenda_events").select("*").order("start_date",{ascending:!0});return e?(console.error("Error fetching agenda events:",e),[]):t},xle=async t=>{const{data:e,error:r}=await pe.from("agenda_events").insert([t]).select().single();if(r)throw console.error("Error creating agenda event:",r),r;return e},Ij=async(t,e)=>{const{data:r,error:s}=await pe.from("agenda_events").update(e).eq("id",t).select().single();if(s)throw console.error("Error updating agenda event:",s),s;return r},yle=async t=>{const{error:e}=await pe.from("agenda_events").delete().eq("id",t);if(e)throw console.error("Error deleting agenda event:",e),e},l$=O.createContext(void 0),On=()=>{const t=O.useContext(l$);if(t===void 0)throw new Error("useUser must be used within a UserProvider");return t},vle=({children:t})=>{const[e,r]=O.useState(null),[s,a]=O.useState(null),[i,o]=O.useState(!0);O.useEffect(()=>{const x={id:"mock-admin-id",email:"admin@sistema.com",name:"Administrador",role:"admin",avatar:void 0,status:"active",department_id:void 0,phone:void 0,permissions:["view_dashboard","manage_orders","view_orders","manage_clients","view_clients","manage_inventory","view_inventory","manage_financial","view_financial","view_bank_balances","manage_users","system_settings"]},w={id:"mock-admin-id",email:"admin@sistema.com",aud:"authenticated",role:"authenticated",created_at:new Date().toISOString(),app_metadata:{},user_metadata:{}};a(x),r({...x,authUser:w}),o(!1)},[]);const l=s?.role==="admin",c=s?.role==="manager",d=s?.role==="technician",u=s?.role==="external",h=l||c,f=l,p=x=>l?!0:s?.permissions?.includes(x)||!1,v=async(x,w)=>{console.log("Login simulado:",x)},y=async()=>{console.log("Logout simulado")},g=x=>{console.log("Premium feature requested:",x)};return n.jsx(l$.Provider,{value:{user:e,profile:s,isLoading:i,isAdmin:l,isManager:c,isTechnician:d,isExternal:u,isPremium:h,isEnterprise:f,hasPermission:p,login:v,logout:y,onPremiumFeature:g},children:t})},fg=[{id:"inicio",path:"/",icon:EA,label:"Incio",description:"Pgina inicial do sistema"},{id:"agenda",path:"/calendar",icon:vr,label:"Agenda",description:"Compromissos e eventos"},{id:"clients",path:"/client-management",icon:ir,label:"Clientes",description:"Gesto de clientes PF/PJ"},{id:"fornecedores",path:"/suppliers",icon:md,label:"Fornecedores",description:"Gesto de fornecedores"},{id:"compras",path:"/purchasing",icon:Sm,label:"Compras",description:"Pedidos e alertas de estoque"},{id:"service-orders",path:"/service-orders",icon:li,label:"Ordens de Servio",description:"Gesto de OS"},{id:"rotas",path:"/rotas",icon:I0,label:"Rotas",description:"Rastreamento e gesto de rotas"},{id:"financial",path:"/financial",icon:gr,label:"Integrao Financeira",description:"Dashboard financeiro integrado"},{id:"gestao-financeira",path:"/financial-management",icon:qr,label:"Gesto Financeira",description:"Receitas, despesas e DRE"},{id:"analise-financeira",path:"/financial-analysis",icon:Dm,label:"Anlise Financeira",description:"EBITDA, ROI, Margens e Grficos"},{id:"categorias-financeiras",path:"/financial-categories",icon:mne,label:"Categorias Financeiras",description:"Categorias e subcategorias"},{id:"contas-bancarias",path:"/bank-accounts",icon:hn,label:"Contas Bancrias",description:"Gerenciar contas e saldos"},{id:"catalogo",path:"/service-catalog",icon:_E,label:"Catlogo de Servios",description:"Servios disponveis"},{id:"inventory",path:"/inventory",icon:qt,label:"Estoque",description:"Controle de materiais"},{id:"reports",path:"/reports",icon:Zv,label:"Relatrios",description:"Anlises e dashboards"},{id:"whatsapp-crm",path:"/whatsapp-crm",icon:ud,label:"WhatsApp CRM",description:"Gesto de conversas"},{id:"email",path:"/email/inbox",icon:vs,label:"Email Corporativo",description:"Enviar e receber emails"},{id:"library",path:"/digital-library",icon:Dne,label:"Biblioteca Digital",description:"Documentos e arquivos"},{id:"funcionarios",path:"/funcionarios",icon:uae,label:"Funcionrios",description:"Gesto de funcionrios"},{id:"users",path:"/users",icon:ir,label:"Usurios",description:"Gerenciar usurios"},{id:"access",path:"/access-management",icon:Lm,label:"Gesto de Acessos",description:"Controle de permisses"},{id:"audit",path:"/audit-logs",icon:_n,label:"Auditoria",description:"Rastreamento de operaes"},{id:"document-templates",path:"/document-templates",icon:Et,label:"Templates de Documentos",description:"Gerenciar templates de OS, contratos e propostas"},{id:"customization",path:"/visual-customization",icon:t1,label:"Personalizao",description:"Customizar interface"},{id:"settings",path:"/settings",icon:mh,label:"Configuraes",description:"Configuraes gerais"}],ble=({onCollapse:t})=>{const e=nf(),{user:r,logout:s}=On(),[a,i]=O.useState(!1),[o,l]=O.useState(fg),[c,d]=O.useState(null),[u,h]=O.useState(!1),[f,p]=O.useState(0),[v,y]=O.useState({total:0,meeting:0,pagar:0,cobrar:0,operational:0,other:0});O.useEffect(()=>{_().catch(T=>{console.error("Failed to load menu order:",T)}),x(),w();const N=setInterval(()=>{x(),w()},6e4);return()=>clearInterval(N)},[]);const g=()=>r?.email||"default_user",x=async()=>{try{const{data:N,error:T}=await pe.rpc("get_critical_stock_count");!T&&N!==null&&p(N)}catch(N){console.error("Error loading stock alerts:",N)}},w=async()=>{try{const{data:N,error:T}=await pe.rpc("get_urgent_events_by_type");!T&&N!==null&&y(N)}catch(N){console.error("Error loading agenda alerts:",N)}},_=async()=>{try{const N=g(),{data:T,error:Q}=await pe.from("user_menu_order").select("menu_items").eq("user_id",N).maybeSingle();if(Q){console.warn("Error loading menu order, using defaults:",Q);return}if(T&&T.menu_items&&Array.isArray(T.menu_items)){const U=T.menu_items,K=U.map(ee=>fg.find(G=>G.id===ee)).filter(ee=>ee!==void 0),z=fg.filter(ee=>!U.includes(ee.id));l([...K,...z])}}catch(N){console.error("Error loading menu order, using defaults:",N)}},k=async N=>{try{const T=g(),Q=N.map(K=>K.id),{error:U}=await pe.from("user_menu_order").upsert({user_id:T,menu_items:Q,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(U)throw U}catch(T){console.error("Error saving menu order:",T)}},C=(N,T)=>{u&&(d(T),N.dataTransfer.effectAllowed="move")},B=N=>{u&&(N.preventDefault(),N.dataTransfer.dropEffect="move")},I=(N,T)=>{if(!u||!c)return;N.preventDefault();const Q=o.findIndex(ee=>ee.id===c),U=o.findIndex(ee=>ee.id===T);if(Q===-1||U===-1)return;const K=[...o],[z]=K.splice(Q,1);K.splice(U,0,z),l(K),k(K),d(null)},S=()=>{l(fg),k(fg)},E=()=>{const N=!a;i(N),t?.(N)},D=N=>e.pathname===N;return n.jsxs(he.aside,{initial:{x:0},animate:{width:a?"80px":"280px"},transition:{duration:.3},className:"fixed left-0 top-0 bg-gradient-to-b from-gray-900 to-gray-800 text-white h-screen flex flex-col shadow-2xl z-40",children:[n.jsx("div",{className:"p-4 border-b border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[!a&&n.jsxs(he.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",children:[n.jsx(EA,{className:"h-8 w-8 text-blue-400"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-bold",children:"GiarTech"}),n.jsx("p",{className:"text-xs text-gray-400",children:"Sistema Integrado"})]})]}),n.jsx("button",{onClick:E,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors",children:a?n.jsx(e1,{className:"h-5 w-5"}):n.jsx(bb,{className:"h-5 w-5"})})]})}),!a&&n.jsxs("div",{className:"px-4 py-2 border-b border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{onClick:()=>h(!u),className:`text-xs px-3 py-1 rounded transition-colors ${u?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:u?"Salvar Ordem":"Editar Menu"}),u&&n.jsxs("button",{onClick:S,className:"text-xs px-3 py-1 rounded bg-gray-700 text-gray-300 hover:bg-gray-600 flex items-center gap-1",title:"Restaurar ordem padro",children:[n.jsx(IH,{className:"h-3 w-3"}),"Restaurar"]})]}),u&&n.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Arraste os itens para reordenar"})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:o.map(N=>{const T=N.icon,Q=D(N.path);return n.jsxs(Cl,{to:N.path,draggable:u,onDragStart:U=>C(U,N.id),onDragOver:B,onDrop:U=>I(U,N.id),className:`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all group relative ${Q?"bg-blue-600 text-white shadow-lg":"hover:bg-gray-700 text-gray-300"} ${u?"cursor-move":"cursor-pointer"} ${c===N.id?"opacity-50":""}`,title:a?N.label:"",children:[u&&!a&&n.jsx(Nne,{className:"h-4 w-4 text-gray-400"}),n.jsx(T,{className:`h-5 w-5 ${Q?"text-white":"text-gray-400 group-hover:text-white"}`}),!a&&n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[n.jsx("p",{className:"font-medium truncate",children:N.label}),N.id==="compras"&&f>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-2 py-0.5 rounded-full animate-pulse",children:f}),N.id==="agenda"&&v.total>0&&n.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[v.meeting>0&&n.jsx("span",{className:"bg-blue-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Reunies/Pessoal",children:v.meeting}),v.pagar>0&&n.jsx("span",{className:"bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Pagamentos",children:v.pagar}),v.cobrar>0&&n.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Cobranas",children:v.cobrar}),v.operational>0&&n.jsx("span",{className:"bg-orange-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Operacional",children:v.operational}),v.other>0&&n.jsx("span",{className:"bg-purple-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse",title:"Outros",children:v.other})]})]}),n.jsx("p",{className:"text-xs opacity-75 truncate",children:N.description})]}),N.id==="compras"&&f>0&&a&&n.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold px-1.5 py-0.5 rounded-full animate-pulse min-w-[20px] text-center",children:f}),N.id==="agenda"&&v.total>0&&a&&n.jsxs("div",{className:"absolute -top-1 -right-1 flex flex-col gap-0.5",children:[v.meeting>0&&n.jsx("span",{className:"bg-blue-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Reunies",children:v.meeting}),v.pagar>0&&n.jsx("span",{className:"bg-red-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Pagar",children:v.pagar}),v.cobrar>0&&n.jsx("span",{className:"bg-green-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Cobrar",children:v.cobrar}),v.operational>0&&n.jsx("span",{className:"bg-orange-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Operacional",children:v.operational}),v.other>0&&n.jsx("span",{className:"bg-purple-500 text-white text-[10px] font-bold px-1 py-0.5 rounded-full animate-pulse min-w-[16px] text-center",title:"Outros",children:v.other})]}),Q&&!a&&n.jsx(he.div,{layoutId:"activeIndicator",className:"absolute right-0 top-0 bottom-0 w-1 bg-white rounded-l"})]},N.id)})}),n.jsx("div",{className:"p-4 border-t border-gray-700",children:a?n.jsx("button",{onClick:s,className:"w-full p-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",title:"Sair",children:n.jsx(YF,{className:"h-5 w-5 mx-auto"})}):n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-800 rounded-lg",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold",children:r?.name?.[0]||"U"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-medium truncate",children:r?.name||"Usurio"}),n.jsx("p",{className:"text-xs text-gray-400 truncate",children:r?.email||"user@example.com"})]})]}),n.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-3 py-2 text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[n.jsx(YF,{className:"h-5 w-5"}),n.jsx("span",{children:"Sair"})]})]})})]})},nr=({children:t})=>{const[e,r]=O.useState(!1),[s,a]=O.useState("calc(100% - 280px)"),[i,o]=O.useState("280px"),l=c=>{r(c)};return O.useEffect(()=>{e?(a("calc(100% - 80px)"),o("80px")):(a("calc(100% - 280px)"),o("280px"))},[e]),O.useEffect(()=>{const c=d=>{d.altKey&&d.key==="h"&&console.log("Quick access activated with Alt+H")};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[]),n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx(ble,{onCollapse:l}),n.jsx("main",{className:"min-h-screen transition-all duration-300",style:{marginLeft:i},children:t||n.jsx(rY,{})})]})},Dj="serviceOrderDraft",wle=({isOpen:t,onClose:e,onSave:r,orderId:s})=>{const[a,i]=O.useState("dados"),[o,l]=O.useState(!1),[c,d]=O.useState(""),[u,h]=O.useState(""),[f,p]=O.useState(""),[v,y]=O.useState(null),[g,x]=O.useState({customer_id:"",description:"",scheduled_at:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,payment_method:"dinheiro",payment_installments:1,warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",estimated_hours:0,actual_hours:0,title:"",brand:"",model:"",equipment:"",prazo_execucao_dias:15,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",additional_info:""}),[w,_]=O.useState([]),[k,C]=O.useState(null),[B,I]=O.useState([]),[S,E]=O.useState([]),[D,N]=O.useState([]),[T,Q]=O.useState([]),[U,K]=O.useState([]),[z,ee]=O.useState([]),[G,q]=O.useState([]),[re,Z]=O.useState([]);O.useEffect(()=>{t?($(),s?L(s):X()):i("dados")},[t,s]),O.useEffect(()=>{t&&!s&&Y()},[g,z,G,re]),O.useEffect(()=>{if(g.customer_id&&w.length>0){const ve=w.find(st=>st.id===g.customer_id);C(ve||null)}},[g.customer_id,w]);const $=async()=>{try{const[ve,st,Ne,ge,Je,Ve]=await Promise.all([pe.from("customers").select("*, customer_addresses(*)").order("nome_razao"),pe.from("materials").select("*").eq("active",!0).order("name"),pe.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),pe.from("bank_accounts").select("*").eq("active",!0).order("account_name"),pe.from("contract_templates").select("*").order("name"),pe.from("service_catalog").select("*, service_catalog_materials(*)").eq("active",!0).order("name")]);_(ve.data||[]),I(st.data||[]),E(Ne.data||[]),N(ge.data||[]),Q(Je.data||[]),K(Ve.data||[])}catch(ve){console.error("Error loading data:",ve)}},L=async ve=>{try{l(!0);const[st,Ne,ge,Je]=await Promise.all([pe.from("service_orders").select("*").eq("id",ve).single(),pe.from("service_order_items").select("*").eq("service_order_id",ve),pe.from("service_order_materials").select("*").eq("service_order_id",ve),pe.from("service_order_team").select("*").eq("service_order_id",ve)]),Ve=st.data;if(!Ve)throw new Error("Ordem no encontrada");if(console.log(" Carregando OS:",ve),console.log(" Ordem:",Ve),console.log(" Itens:",Ne.data),console.log(" Materiais:",ge.data),console.log(" Equipe:",Je.data),x({customer_id:Ve.customer_id||"",description:Ve.description||"",scheduled_at:Ve.scheduled_at||"",desconto_percentual:Ve.discount_percentage||0,desconto_valor:Ve.discount_amount||0,show_material_costs:Ve.show_material_costs||!1,payment_method:Ve.payment_method||"dinheiro",payment_installments:Ve.payment_installments||1,warranty_period:Ve.warranty_period||90,warranty_type:Ve.warranty_type||"days",warranty_terms:Ve.warranty_terms||"",bank_account_id:Ve.bank_account_id||"",contract_template_id:Ve.contract_template_id||"",contract_notes:Ve.contract_notes||"",notes:Ve.notes||"",estimated_hours:Ve.estimated_hours||0,actual_hours:Ve.actual_hours||0,title:Ve.title||"",brand:Ve.brand||"",model:Ve.model||"",equipment:Ve.equipment||"",prazo_execucao_dias:Ve.prazo_execucao_dias||15,relatorio_tecnico:Ve.relatorio_tecnico||"",orientacoes_servico:Ve.orientacoes_servico||"",escopo_detalhado:Ve.escopo_detalhado||"",additional_info:Ve.additional_info||""}),Ne.data&&Ne.data.length>0){const yt=await Promise.all(Ne.data.map(async gt=>{const ce=await pe.from("service_order_materials").select("*").eq("service_order_id",ve).eq("service_order_item_id",gt.id),Ze=await pe.from("service_order_team").select("*").eq("service_order_id",ve).eq("service_order_item_id",gt.id),Ue=(ce.data||[]).map(rt=>({id:rt.id,material_id:rt.material_id||"",nome:rt.material_name||"",quantidade:rt.quantity||0,unidade_medida:rt.unit||"un",preco_compra_unitario:rt.unit_cost||0,preco_venda_unitario:rt.unit_price||0,custo_total:(rt.unit_cost||0)*(rt.quantity||0),valor_total:(rt.unit_price||0)*(rt.quantity||0),lucro:((rt.unit_price||0)-(rt.unit_cost||0))*(rt.quantity||0)})),Re=(Ze.data||[]).map(rt=>({id:rt.id,staff_id:rt.employee_id||"",nome:rt.employee_name||"",tempo_minutos:rt.hours_worked?rt.hours_worked*60:0,custo_hora:rt.hourly_rate||0,custo_total:(rt.hourly_rate||0)*(rt.hours_worked||0)}));return{id:gt.id,catalog_service_id:gt.service_catalog_id||"",descricao:gt.service_name||gt.description||"Servio",quantidade:gt.quantity||1,preco_unitario:gt.unit_price||0,preco_total:gt.total_price||0,tempo_estimado_minutos:gt.estimated_duration||0,materiais:Ue,funcionarios:Re,custo_materiais:Ue.reduce((rt,_t)=>rt+_t.custo_total,0),custo_mao_obra:Re.reduce((rt,_t)=>rt+_t.custo_total,0),custo_total:gt.total_cost||0,lucro:(gt.total_price||0)-(gt.total_cost||0),margem_lucro:gt.total_price?(gt.total_price-(gt.total_cost||0))/gt.total_price*100:0}}));console.log(" Servios carregados com materiais e mo de obra:",yt),ee(yt)}if(ge.data&&ge.data.length>0){const gt=ge.data.filter(ce=>!ce.service_order_item_id).map(ce=>({id:ce.id,material_id:ce.material_id||"",nome:ce.material_name||"",quantidade:ce.quantity||0,unidade_medida:ce.unit||"un",preco_compra_unitario:ce.unit_cost||0,preco_venda_unitario:ce.unit_price||0,custo_total:(ce.unit_cost||0)*(ce.quantity||0),valor_total:(ce.unit_price||0)*(ce.quantity||0),lucro:((ce.unit_price||0)-(ce.unit_cost||0))*(ce.quantity||0)}));console.log(" Materiais globais:",gt),q(gt)}if(Je.data&&Je.data.length>0){const gt=Je.data.filter(ce=>!ce.service_order_item_id).map(ce=>({id:ce.id,staff_id:ce.employee_id||"",nome:ce.employee_name||"",tempo_minutos:ce.hours_worked?ce.hours_worked*60:0,custo_hora:ce.hourly_rate||0,custo_total:(ce.hourly_rate||0)*(ce.hours_worked||0)}));console.log(" Mo de obra global:",gt),Z(gt)}console.log(" Carregamento completo!")}catch(st){console.error(" Erro ao carregar OS:",st),alert("Erro ao carregar dados da ordem de servio: "+st.message)}finally{l(!1)}},Y=()=>{try{const ve={formData:g,serviceItems:z,globalMaterials:G,globalLabor:re,timestamp:new Date().toISOString()};localStorage.setItem(Dj,JSON.stringify(ve))}catch(ve){console.error("Error saving draft:",ve)}},X=()=>{try{const ve=localStorage.getItem(Dj);if(ve){const st=JSON.parse(ve);x(st.formData||g),ee(st.serviceItems||[]),q(st.globalMaterials||[]),Z(st.globalLabor||[])}}catch(ve){console.error("Error loading draft:",ve)}},Ae=()=>{try{localStorage.removeItem(Dj)}catch(ve){console.error("Error clearing draft:",ve)}},fe=()=>{ee([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0},...z])},de=ve=>{ee(z.filter(st=>st.id!==ve))},me=(ve,st)=>{ee(z.map(Ne=>{if(Ne.id===ve){const ge={...Ne,...st};return ge.preco_total=ge.quantidade*ge.preco_unitario,ge.custo_materiais=ge.materiais?.reduce((Je,Ve)=>Je+Ve.custo_total,0)||0,ge.custo_mao_obra=ge.funcionarios?.reduce((Je,Ve)=>Je+Ve.custo_total,0)||0,ge.custo_total=ge.custo_materiais+ge.custo_mao_obra,ge.lucro=ge.preco_total-ge.custo_total,ge.margem_lucro=ge.custo_total>0?ge.lucro/ge.custo_total*100:0,ge}return Ne}))},Ce=()=>{q([{id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0},...G])},xe=ve=>{q(G.filter(st=>st.id!==ve))},we=(ve,st)=>{q(G.map(Ne=>{if(Ne.id===ve){const ge={...Ne,...st};return ge.custo_total=ge.quantidade*ge.preco_compra_unitario,ge.valor_total=ge.quantidade*ge.preco_venda_unitario,ge.lucro=ge.valor_total-ge.custo_total,ge}return Ne}))},Ie=(ve,st)=>{const Ne=B.find(ge=>ge.id===st);Ne&&(we(ve,{material_id:st,nome:Ne.name,unidade_medida:Ne.unit||"UN",preco_compra_unitario:Number(Ne.unit_cost)||0,preco_venda_unitario:Number(Ne.sale_price)||0}),d(""))},lt=()=>{Z([{id:crypto.randomUUID(),staff_id:"",nome:"",tempo_minutos:60,custo_hora:0,custo_total:0},...re])},Le=ve=>{Z(re.filter(st=>st.id!==ve))},J=(ve,st)=>{Z(re.map(Ne=>{if(Ne.id===ve){const ge={...Ne,...st},Je=ge.tempo_minutos/60;return ge.custo_total=Je*ge.custo_hora,ge}return Ne}))},Qe=(ve,st)=>{const Ne=S.find(ge=>ge.id===st);Ne&&(J(ve,{staff_id:st,nome:Ne.name,custo_hora:Number(Ne.custo_hora)||0}),h(""))},je=(ve,st)=>{const Ne=U.find(ge=>ge.id===st);Ne&&(me(ve,{catalog_service_id:st,descricao:Ne.name,preco_unitario:Number(Ne.base_price)||0,tempo_estimado_minutos:Number(Ne.estimated_time_minutes)||0}),p(""),y(null))},ie=()=>{const ve=z.reduce((Ue,Re)=>Ue+Re.preco_total,0),st=g.desconto_valor||ve*(g.desconto_percentual/100),Ne=z.reduce((Ue,Re)=>Ue+Re.custo_materiais,0),ge=z.reduce((Ue,Re)=>Ue+Re.custo_mao_obra,0),Je=G.reduce((Ue,Re)=>Ue+Re.custo_total,0),Ve=re.reduce((Ue,Re)=>Ue+Re.custo_total,0),yt=Ne+ge+Je+Ve,gt=ve-st,ce=gt-yt,Ze=yt>0?ce/yt*100:0;return{subtotal:ve,desconto:st,total:gt,custo_total:yt,lucro_total:ce,margem_lucro:Ze,custo_total_materiais:Ne+Je,custo_total_mao_obra:ge+Ve,global_materiais:Je,global_mao_obra:Ve}},Se=async()=>{try{if(!g.customer_id||z.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}l(!0);const ve=ie(),st=g.scheduled_at?new Date(new Date(g.scheduled_at).getTime()+g.warranty_period*(g.warranty_type==="days"?864e5:g.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,Ne={customer_id:g.customer_id,description:g.description,scheduled_at:g.scheduled_at||null,status:"aberta",total_value:ve.total,desconto_percentual:g.desconto_percentual,desconto_valor:g.desconto_valor,custo_total_materiais:ve.custo_total_materiais,custo_total_mao_obra:ve.custo_total_mao_obra,custo_total:ve.custo_total,lucro_total:ve.lucro_total,margem_lucro:ve.margem_lucro,show_material_costs:g.show_material_costs,payment_method:g.payment_method,payment_installments:g.payment_installments,bank_account_id:g.bank_account_id||null,warranty_period:g.warranty_period,warranty_type:g.warranty_type,warranty_terms:g.warranty_terms,warranty_end_date:st,contract_template_id:g.contract_template_id||null,contract_notes:g.contract_notes,subtotal:ve.subtotal,discount_amount:ve.desconto,final_total:ve.total,notes:g.notes,client_name:k?.nome_razao||"",client_company_name:k?.nome_fantasia||"",client_cnpj:k?.cnpj||"",client_cpf:k?.cpf||"",client_phone:k?.telefone_1||"",client_email:k?.email||"",client_address:k?.endereco_logradouro?`${k.endereco_logradouro}${k.endereco_numero?", "+k.endereco_numero:""}${k.endereco_complemento?" - "+k.endereco_complemento:""}${k.endereco_bairro?", "+k.endereco_bairro:""}`:"",client_city:k?.endereco_cidade||"",client_state:k?.endereco_estado||"",client_cep:k?.endereco_cep||"",payment_methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",payment_pix:k?.cnpj||k?.cpf||"",title:g.title||"",brand:g.brand||"",model:g.model||"",equipment:g.equipment||"",prazo_execucao_dias:g.prazo_execucao_dias||null,relatorio_tecnico:g.relatorio_tecnico||"",orientacoes_servico:g.orientacoes_servico||"",escopo_detalhado:g.escopo_detalhado||"",additional_info:g.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"};let ge=s;if(s){const{error:Je}=await pe.from("service_orders").update(Ne).eq("id",s);if(Je)throw Je}else{const{data:Je,error:Ve}=await pe.from("service_orders").insert([Ne]).select().single();if(Ve)throw Ve;ge=Je.id}Ae(),r(),e()}catch(ve){console.error("Error saving order:",ve),alert("Erro ao salvar ordem de servio!")}finally{l(!1)}},We=ve=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ve),Oe=ie();return t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[n.jsx(Et,{className:"h-7 w-7"}),s?"Editar Ordem de Servio":"Nova Ordem de Servio"]}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Preencha os dados em cada aba - salvamento automtico"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Bsicos",icon:Nl},{id:"servicos",label:"Servios",icon:qt},{id:"materiais",label:"Materiais",icon:qt},{id:"mao-obra",label:"Mo de Obra",icon:ir},{id:"pagamento",label:"Pagamento",icon:gr},{id:"garantia",label:"Garantia & Contrato",icon:_n},{id:"resumo",label:"Resumo Financeiro",icon:oS}].map(ve=>{const st=ve.icon;return n.jsxs("button",{onClick:()=>i(ve.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===ve.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(st,{className:"h-4 w-4"}),ve.label]},ve.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(vt,{mode:"wait",children:[a==="dados"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),n.jsxs("select",{value:g.customer_id,onChange:ve=>x({...g,customer_id:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),w.map(ve=>n.jsx("option",{value:ve.id,children:ve.nome_razao},ve.id))]}),k&&n.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"CPF/CNPJ:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:k.cpf_cnpj})]}),k.telefone&&n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Telefone:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:k.telefone})]}),k.email&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Email:"}),n.jsx("span",{className:"text-blue-800 ml-2",children:k.email})]}),k.customer_addresses&&k.customer_addresses.length>0&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"font-semibold text-blue-900",children:"Endereo:"}),n.jsxs("span",{className:"text-blue-800 ml-2",children:[k.customer_addresses[0].logradouro,", ",k.customer_addresses[0].numero,k.customer_addresses[0].complemento&&`, ${k.customer_addresses[0].complemento}`," - ",k.customer_addresses[0].bairro,", ",k.customer_addresses[0].cidade," - ",k.customer_addresses[0].estado,", CEP: ",k.customer_addresses[0].cep]})]})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),n.jsx("input",{type:"datetime-local",value:g.scheduled_at,onChange:ve=>x({...g,scheduled_at:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),n.jsx("textarea",{value:g.description,onChange:ve=>x({...g,description:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio opcional da OS..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes Internas"}),n.jsx("textarea",{value:g.notes,onChange:ve=>x({...g,notes:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Notas internas (no aparecem para o cliente)..."})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold mb-3 text-blue-700",children:" Informaes do Oramento"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ttulo do Projeto"}),n.jsx("input",{type:"text",value:g.title,onChange:ve=>x({...g,title:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: climatizao apartamento da familia"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),n.jsx("input",{type:"text",value:g.brand,onChange:ve=>x({...g,brand:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Midea"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),n.jsx("input",{type:"text",value:g.model,onChange:ve=>x({...g,model:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: VRF"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Aparelho/Equipamento"}),n.jsx("input",{type:"text",value:g.equipment,onChange:ve=>x({...g,equipment:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: cassete 1 via e hiwall"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),n.jsx("input",{type:"number",value:g.prazo_execucao_dias,onChange:ve=>x({...g,prazo_execucao_dias:parseInt(ve.target.value)||0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"15"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado"}),n.jsx("textarea",{value:g.escopo_detalhado,onChange:ve=>x({...g,escopo_detalhado:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descrio detalhada do escopo do projeto..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),n.jsx("textarea",{value:g.relatorio_tecnico,onChange:ve=>x({...g,relatorio_tecnico:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico do servio..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),n.jsx("textarea",{value:g.orientacoes_servico,onChange:ve=>x({...g,orientacoes_servico:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Orientaes especficas para execuo..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Informaes Adicionais"}),n.jsx("textarea",{value:g.additional_info,onChange:ve=>x({...g,additional_info:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h4",{className:"font-semibold mb-3 text-gray-700",children:" Tempo de Execuo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-blue-900",children:"Tempo Previsto (horas)"}),n.jsx("input",{type:"number",value:g.estimated_hours,onChange:ve=>x({...g,estimated_hours:Number(ve.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 4"}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Tempo estimado total para execuo da OS"})]}),n.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[n.jsx("label",{className:"block text-sm font-medium mb-2 text-green-900",children:"Tempo Real (horas)"}),n.jsx("input",{type:"number",value:g.actual_hours,onChange:ve=>x({...g,actual_hours:Number(ve.target.value)}),min:"0",step:"0.5",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: 3.5"}),n.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Tempo real gasto aps concluso"})]})]}),g.estimated_hours>0&&g.actual_hours>0&&n.jsx("div",{className:`mt-3 p-3 rounded-lg ${g.actual_hours<=g.estimated_hours?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"}`,children:n.jsx("p",{className:`text-sm font-medium ${g.actual_hours<=g.estimated_hours?"text-green-800":"text-red-800"}`,children:g.actual_hours<=g.estimated_hours?" Dentro do prazo estimado!":` ${(g.actual_hours-g.estimated_hours).toFixed(1)}h acima do estimado`})})]})]},"dados"),a==="servicos"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Servios da OS"}),n.jsxs("button",{onClick:fe,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Servio"]})]}),z.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum servio adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Servio" para comear'})]}),z.map((ve,st)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Servio #",st+1]}),n.jsx("button",{onClick:()=>de(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-3 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar no Catlogo de Servios"}),n.jsx("input",{type:"text",value:v===ve.id?f:"",onFocus:()=>y(ve.id),onChange:Ne=>{y(ve.id),p(Ne.target.value)},className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no catlogo..."}),v===ve.id&&f&&U.filter(Ne=>Ne.name.toLowerCase().includes(f.toLowerCase())||Ne.category&&Ne.category.toLowerCase().includes(f.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:U.filter(Ne=>Ne.name.toLowerCase().includes(f.toLowerCase())||Ne.category&&Ne.category.toLowerCase().includes(f.toLowerCase())).map(Ne=>n.jsxs("button",{type:"button",onClick:()=>je(ve.id,Ne.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Ne.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("span",{children:Ne.category||"Sem categoria"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:[We(Number(Ne.base_price)||0)," - ",Ne.estimated_time_minutes||0,"min"]})]})]},Ne.id))})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),n.jsx("input",{type:"text",value:ve.descricao,onChange:Ne=>me(ve.id,{descricao:Ne.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:ve.quantidade,min:"1",onChange:Ne=>me(ve.id,{quantidade:Number(Ne.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),n.jsx("input",{type:"number",value:ve.preco_unitario,min:"0",step:"0.01",onChange:Ne=>me(ve.id,{preco_unitario:Number(Ne.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (min)"}),n.jsx("input",{type:"number",value:ve.tempo_estimado_minutos,min:"0",onChange:Ne=>me(ve.id,{tempo_estimado_minutos:Number(Ne.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-900",children:"Preo Total:"}),n.jsx("span",{className:"text-lg font-bold text-blue-900",children:We(ve.preco_total)})]})})]},`${ve.id}-${st}`))]},"servicos"),a==="materiais"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Materiais da OS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Materiais que sero consumidos nesta ordem de servio"})]}),n.jsxs("button",{onClick:Ce,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Material"]})]}),G.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Material" para comear'})]}),G.map((ve,st)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",st+1]}),n.jsx("button",{onClick:()=>xe(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"md:col-span-2 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material"}),n.jsx("input",{type:"text",value:c,onChange:Ne=>d(Ne.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar no estoque..."}),c&&B.filter(Ne=>Ne.name.toLowerCase().includes(c.toLowerCase())||Ne.sku&&Ne.sku.toLowerCase().includes(c.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:B.filter(Ne=>Ne.name.toLowerCase().includes(c.toLowerCase())||Ne.sku&&Ne.sku.toLowerCase().includes(c.toLowerCase())).map(Ne=>n.jsxs("button",{type:"button",onClick:()=>Ie(ve.id,Ne.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Ne.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsxs("span",{children:[Ne.sku||"Sem SKU"," - ",Ne.unit]}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["Estoque: ",Ne.quantity]})]})]},Ne.id))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:ve.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um material"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade *"}),n.jsx("input",{type:"number",value:ve.quantidade,min:"0",step:"0.01",onChange:Ne=>we(ve.id,{quantidade:Number(Ne.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade"}),n.jsx("input",{type:"text",value:ve.unidade_medida,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unit. (Compra)"}),n.jsx("input",{type:"number",value:ve.preco_compra_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unit. (Venda)"}),n.jsx("input",{type:"number",value:ve.preco_venda_unitario,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("span",{className:"text-xs text-red-700",children:"Custo Total:"}),n.jsx("p",{className:"text-lg font-bold text-red-700",children:We(ve.custo_total)})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[n.jsx("span",{className:"text-xs text-green-700",children:"Valor Total:"}),n.jsx("p",{className:"text-lg font-bold text-green-700",children:We(ve.valor_total)})]}),n.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[n.jsx("span",{className:"text-xs text-blue-700",children:"Lucro:"}),n.jsx("p",{className:"text-lg font-bold text-blue-700",children:We(ve.lucro)})]})]})]},`material-${ve.id}-${st}`))]},"materiais"),a==="mao-obra"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Mo de Obra da OS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Funcionrios que trabalharo nesta ordem de servio"})]}),n.jsxs("button",{onClick:lt,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Funcionrio"]})]}),re.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx(ir,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum funcionrio adicionado"}),n.jsx("p",{className:"text-sm",children:'Clique em "Adicionar Funcionrio" para comear'})]}),re.map((ve,st)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Funcionrio #",st+1]}),n.jsx("button",{onClick:()=>Le(ve.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"md:col-span-2 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Funcionrio"}),n.jsx("input",{type:"text",value:u,onChange:Ne=>h(Ne.target.value),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Digite para buscar..."}),u&&S.filter(Ne=>Ne.name.toLowerCase().includes(u.toLowerCase())||Ne.role&&Ne.role.toLowerCase().includes(u.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:S.filter(Ne=>Ne.name.toLowerCase().includes(u.toLowerCase())||Ne.role&&Ne.role.toLowerCase().includes(u.toLowerCase())).map(Ne=>n.jsxs("button",{type:"button",onClick:()=>Qe(ve.id,Ne.id),className:"w-full px-4 py-3 text-left hover:bg-blue-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:Ne.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsx("span",{children:Ne.role||"Sem funo"}),n.jsxs("span",{className:"font-semibold text-blue-600",children:["R$ ",Number(Ne.custo_hora||0).toFixed(2),"/h"]})]})]},Ne.id))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Funcionrio *"}),n.jsx("input",{type:"text",value:ve.nome,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100",placeholder:"Selecione um funcionrio"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (minutos) *"}),n.jsx("input",{type:"number",value:ve.tempo_minutos,min:"0",step:"10",onChange:Ne=>J(ve.id,{tempo_minutos:Number(Ne.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo/Hora"}),n.jsx("input",{type:"number",value:ve.custo_hora,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-100"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Horas Trabalhadas"}),n.jsx("input",{type:"text",value:`${(ve.tempo_minutos/60).toFixed(2)}h`,readOnly:!0,className:"w-full px-4 py-2 border rounded-lg bg-blue-50 text-blue-900 font-semibold"})]})]}),n.jsx("div",{className:"mt-4 bg-blue-50 rounded-lg p-3 border border-blue-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-blue-900",children:"Custo Total:"}),n.jsx("span",{className:"text-lg font-bold text-blue-900",children:We(ve.custo_total)})]})})]},`labor-${ve.id}-${st}`))]},"mao-obra"),a==="pagamento"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("select",{value:g.payment_method,onChange:ve=>x({...g,payment_method:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"debito",children:"Carto de Dbito"}),n.jsx("option",{value:"credito",children:"Carto de Crdito"}),n.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"cheque",children:"Cheque"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),n.jsxs("select",{value:g.payment_installments,onChange:ve=>x({...g,payment_installments:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(ve=>n.jsxs("option",{value:ve,children:[ve,"x"]},ve))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),n.jsxs("select",{value:g.bank_account_id,onChange:ve=>x({...g,bank_account_id:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Padro"}),D.map(ve=>n.jsxs("option",{value:ve.id,children:[ve.account_name," - ",ve.bank_name]},ve.id))]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5"}),"Desconto (Opcional)"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto Percentual (%)"}),n.jsx("input",{type:"number",value:g.desconto_percentual,min:"0",max:"100",step:"0.01",onChange:ve=>x({...g,desconto_percentual:Number(ve.target.value),desconto_valor:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 5"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em 0 se no houver desconto"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Desconto em Reais (R$)"}),n.jsx("input",{type:"number",value:g.desconto_valor,min:"0",step:"0.01",onChange:ve=>x({...g,desconto_valor:Number(ve.target.value),desconto_percentual:0}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 50.00"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ou defina um valor fixo"})]})]})]})]},"pagamento"),a==="garantia"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),n.jsx("input",{type:"number",value:g.warranty_period,min:"0",onChange:ve=>x({...g,warranty_period:Number(ve.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),n.jsxs("select",{value:g.warranty_type,onChange:ve=>x({...g,warranty_type:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"days",children:"Dias"}),n.jsx("option",{value:"months",children:"Meses"}),n.jsx("option",{value:"years",children:"Anos"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),n.jsx("textarea",{value:g.warranty_terms,onChange:ve=>x({...g,warranty_terms:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia..."})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),n.jsxs("select",{value:g.contract_template_id,onChange:ve=>x({...g,contract_template_id:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Nenhum"}),T.map(ve=>n.jsx("option",{value:ve.id,children:ve.name},ve.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),n.jsx("textarea",{value:g.contract_notes,onChange:ve=>x({...g,contract_notes:ve.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]},"garantia"),a==="resumo"&&n.jsx(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo da Ordem de Servio"}),n.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Informaes que sero apresentadas ao cliente"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Servios Contratados"}),n.jsx("div",{className:"space-y-2",children:z.map((ve,st)=>n.jsxs("div",{className:"flex justify-between text-sm py-2 border-b last:border-0",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"font-medium",children:[st+1,". ",ve.descricao]}),n.jsxs("span",{className:"text-gray-600 ml-2",children:["(Qtd: ",ve.quantidade,")"]})]}),n.jsx("span",{className:"font-bold text-blue-700",children:We(ve.preco_total)})]},ve.id))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Informaes de Pagamento"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Forma de Pagamento:"}),n.jsx("span",{className:"font-semibold capitalize",children:g.payment_method.replace("_"," ")})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Parcelas:"}),n.jsx("span",{className:"font-semibold",children:g.payment_installments===1?" vista":`${g.payment_installments}x`})]}),g.payment_installments>1&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Valor por Parcela:"}),n.jsx("span",{className:"font-semibold",children:We(Oe.total/g.payment_installments)})]})]})]}),n.jsxs("div",{className:"bg-amber-50 rounded-lg p-4 border border-amber-200",children:[n.jsx("h4",{className:"font-semibold text-amber-900 mb-3",children:"Garantia"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Perodo de Garantia:"}),n.jsxs("span",{className:"font-semibold",children:[g.warranty_period," ",g.warranty_type==="days"?"dias":g.warranty_type==="months"?"meses":"anos"]})]}),g.warranty_terms&&n.jsxs("div",{className:"mt-2 p-3 bg-white rounded border",children:[n.jsx("p",{className:"text-xs text-gray-600 font-medium mb-1",children:"Termos de Garantia:"}),n.jsx("p",{className:"text-sm text-gray-700",children:g.warranty_terms})]})]})]}),n.jsx("div",{className:"bg-white rounded-lg p-6 border-2 border-gray-300 shadow-sm",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-gray-700",children:"Subtotal dos Servios:"}),n.jsx("span",{className:"font-bold",children:We(Oe.subtotal)})]}),Oe.desconto>0&&n.jsxs("div",{className:"flex justify-between text-base",children:[n.jsx("span",{className:"text-gray-700",children:"Desconto Aplicado:"}),n.jsxs("span",{className:"font-bold text-red-600",children:["- ",We(Oe.desconto)]})]}),n.jsxs("div",{className:"border-t-2 pt-3 flex justify-between items-center",children:[n.jsx("span",{className:"font-bold text-xl text-gray-900",children:"VALOR TOTAL DA PROPOSTA:"}),n.jsx("span",{className:"font-bold text-3xl text-green-600",children:We(Oe.total)})]})]})}),g.contract_notes&&n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Observaes do Contrato"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:g.contract_notes})]})]})]})},"resumo")]})}),n.jsxs("div",{className:"border-t p-6 bg-gray-50 rounded-b-xl flex justify-between",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-100",children:"Cancelar"}),n.jsxs("button",{onClick:Se,disabled:o,className:"px-8 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(hr,{className:"h-4 w-4"}),o?"Salvando...":s?"Atualizar OS":"Salvar OS"]})]})]})}):null},jle=()=>{const{isAdmin:t}=On(),e=ui(),[r,s]=G7(),[a,i]=O.useState(""),[o,l]=O.useState("all"),[c,d]=O.useState("all"),[u,h]=O.useState([]),[f,p]=O.useState(!0),[v,y]=O.useState(null),[g,x]=O.useState(!1),[w,_]=O.useState(null),[k,C]=O.useState(!1),[B,I]=O.useState(!1),[S,E]=O.useState(void 0);O.useEffect(()=>{D()},[]),O.useEffect(()=>{const Z=r.get("edit");Z&&(E(Z),I(!0),s({}))},[r]);const D=async()=>{try{p(!0);const Z=await rle();h(Z||[]),y(null)}catch(Z){console.error("Error loading service orders:",Z),y("Erro ao carregar ordens de servio"),h([])}finally{p(!1)}},N=async Z=>{try{if(confirm(`Deseja duplicar a OS ${Z.order_number}?`)){const $={...Z,id:void 0,order_number:`${Z.order_number}-COPIA`,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await tle($),await D(),alert("OS duplicada com sucesso!")}}catch($){console.error("Error duplicating order:",$),alert("Erro ao duplicar OS")}},T=async(Z,$)=>{try{h(L=>L.map(Y=>Y.id===Z?{...Y,status:$,updated_at:new Date().toISOString()}:Y)),await ET(Z,{status:$,updated_at:new Date().toISOString()}),Ro.invalidate("service_orders_v2")}catch(L){console.error("Error updating status:",L),alert(`Erro ao atualizar status: ${L}`),await D()}},Q=async Z=>{try{const $=Z.status==="pending"?"in_progress":Z.status==="in_progress"?"completed":Z.status;confirm(`Deseja ${$==="in_progress"?"iniciar":"concluir"} a OS ${Z.order_number}?`)&&(h(L=>L.map(Y=>Y.id===Z.id?{...Y,status:$,updated_at:new Date().toISOString()}:Y)),await ET(Z.id,{status:$,updated_at:new Date().toISOString()}),Ro.invalidate("service_orders_v2"),alert(`OS ${$==="in_progress"?"iniciada":"concluda"} com sucesso!`))}catch($){console.error("Error executing order:",$),alert("Erro ao executar ao"),await D()}},U=Z=>{_(Z),x(!0)},K=async()=>{if(w)try{C(!0),h(Z=>Z.filter($=>$.id!==w.id)),await o$(w.id),Ro.invalidate("service_orders_v2"),x(!1),_(null),alert("Ordem de servio excluda com sucesso!")}catch(Z){console.error("Error deleting order:",Z),await D(),alert(`Erro ao excluir ordem de servio: ${Z?.message||"Erro desconhecido"}`)}finally{C(!1)}},z=()=>{x(!1),_(null)},ee=u.filter(Z=>{const $=Z.order_number.toLowerCase().includes(a.toLowerCase())||Z.client_name.toLowerCase().includes(a.toLowerCase())||Z.service_type.toLowerCase().includes(a.toLowerCase()),L=o==="all"||Z.status===o,Y=c==="all"||Z.priority===c;return $&&L&&Y}),G=Z=>{switch(Z){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"on_hold":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},q=Z=>{switch(Z){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},re=Z=>{switch(Z){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Desconhecida"}};return n.jsxs("div",{className:"space-y-6",children:[v&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Gn,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:v})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ordens de Servio"}),n.jsxs("button",{onClick:()=>{E(void 0),I(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Nova OS"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nmero, cliente ou servio...",value:a,onChange:Z=>i(Z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sf,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:o,onChange:Z=>l(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"in_progress",children:"Em Andamento"}),n.jsx("option",{value:"completed",children:"Concluda"}),n.jsx("option",{value:"cancelled",children:"Cancelada"})]})]}),n.jsxs("select",{value:c,onChange:Z=>d(Z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Prioridades"}),n.jsx("option",{value:"high",children:"Alta"}),n.jsx("option",{value:"medium",children:"Mdia"}),n.jsx("option",{value:"low",children:"Baixa"})]})]})]})}),f?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando ordens..."})]}):n.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((Z,$)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:$*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 group",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsxs("div",{className:"text-center",children:[n.jsx(li,{className:"h-5 w-5 text-white mx-auto mb-0.5"}),n.jsx("span",{className:"text-xs font-bold text-white/90",children:Z.order_number})]})}),n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("span",{className:"text-xs font-semibold text-blue-600 bg-blue-50 px-2 py-0.5 rounded",children:["OS-",Z.order_number]})}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Z.service_type||"Sem descrio"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${q(Z.priority)}`,children:re(Z.priority)}),n.jsxs("select",{value:Z.status,onChange:L=>T(Z.id,L.target.value),className:`px-3 py-1 rounded-full text-xs font-medium border-0 cursor-pointer ${G(Z.status)}`,children:[n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"in_progress",children:"Em Andamento"}),n.jsx("option",{value:"on_hold",children:"Pausado"}),n.jsx("option",{value:"completed",children:"Concludo"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cn,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-900",children:Z.client_name})]}),n.jsx("p",{className:"text-xs text-gray-600 ml-6",children:Z.client_phone})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),n.jsx("p",{className:"text-sm text-gray-900",children:Z.assigned_to})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-1",children:"Prazo"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vr,{className:"h-4 w-4 text-gray-400"}),n.jsx("p",{className:"text-sm text-gray-900",children:Z.due_date?new Date(Z.due_date).toLocaleDateString("pt-BR"):Z.service_date?new Date(Z.service_date).toLocaleDateString("pt-BR"):"No definido"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:Z.description}),n.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:L=>{L.stopPropagation(),e(`/service-orders/${Z.id}/view`)},className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar OS",children:n.jsx(da,{className:"h-4 w-4"})}),n.jsx("button",{onClick:L=>{L.stopPropagation(),E(Z.id),I(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar OS",children:n.jsx(hn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:L=>{L.stopPropagation(),Q(Z)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:Z.status==="pending"?"Iniciar OS":Z.status==="in_progress"?"Concluir OS":"OS Concluda",disabled:Z.status==="completed",children:n.jsx(yE,{className:"h-4 w-4"})}),n.jsx("button",{onClick:L=>{L.stopPropagation(),N(Z)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicar OS",children:n.jsx(Bd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:L=>{L.stopPropagation(),U(Z)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir OS",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]})]},Z.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(li,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhuma ordem encontrada"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos ordens de servio com os filtros selecionados."}),n.jsx("button",{onClick:()=>{i(""),l("all"),d("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),g&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:n.jsx(Yt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),n.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Nmero:"})," ",w?.order_number]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Cliente:"})," ",w?.client_name]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Servio:"})," ",w?.service_type]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Valor:"})," R$ ",(w?.total_cost||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),n.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),n.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:z,disabled:k,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:K,disabled:k,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:k?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Yt,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),n.jsx(wle,{isOpen:B,onClose:()=>{I(!1),E(void 0)},onSave:()=>{D(),I(!1),E(void 0)},orderId:S})]})};function Yr(t){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(t)}var Oa=Uint8Array,ro=Uint16Array,PE=Int32Array,s1=new Oa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a1=new Oa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),vS=new Oa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c$=function(t,e){for(var r=new ro(31),s=0;s<31;++s)r[s]=e+=1<<t[s-1];for(var a=new PE(r[30]),s=1;s<30;++s)for(var i=r[s];i<r[s+1];++i)a[i]=i-r[s]<<5|s;return{b:r,r:a}},d$=c$(s1,2),u$=d$.b,bS=d$.r;u$[28]=258,bS[258]=28;var h$=c$(a1,0),Nle=h$.b,kT=h$.r,wS=new ro(32768);for(var Nn=0;Nn<32768;++Nn){var Lu=(Nn&43690)>>1|(Nn&21845)<<1;Lu=(Lu&52428)>>2|(Lu&13107)<<2,Lu=(Lu&61680)>>4|(Lu&3855)<<4,wS[Nn]=((Lu&65280)>>8|(Lu&255)<<8)>>1}var fc=(function(t,e,r){for(var s=t.length,a=0,i=new ro(e);a<s;++a)t[a]&&++i[t[a]-1];var o=new ro(e);for(a=1;a<e;++a)o[a]=o[a-1]+i[a-1]<<1;var l;if(r){l=new ro(1<<e);var c=15-e;for(a=0;a<s;++a)if(t[a])for(var d=a<<4|t[a],u=e-t[a],h=o[t[a]-1]++<<u,f=h|(1<<u)-1;h<=f;++h)l[wS[h]>>c]=d}else for(l=new ro(s),a=0;a<s;++a)t[a]&&(l[a]=wS[o[t[a]-1]++]>>15-t[a]);return l}),gh=new Oa(288);for(var Nn=0;Nn<144;++Nn)gh[Nn]=8;for(var Nn=144;Nn<256;++Nn)gh[Nn]=9;for(var Nn=256;Nn<280;++Nn)gh[Nn]=7;for(var Nn=280;Nn<288;++Nn)gh[Nn]=8;var U0=new Oa(32);for(var Nn=0;Nn<32;++Nn)U0[Nn]=5;var _le=fc(gh,9,0),Cle=fc(gh,9,1),Sle=fc(U0,5,0),Ble=fc(U0,5,1),Mj=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},fl=function(t,e,r){var s=e/8|0;return(t[s]|t[s+1]<<8)>>(e&7)&r},Lj=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},FE=function(t){return(t+7)/8|0},A$=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Oa(t.subarray(e,r))},Ele=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],vl=function(t,e,r){var s=new Error(e||Ele[t]);if(s.code=t,Error.captureStackTrace&&Error.captureStackTrace(s,vl),!r)throw s;return s},kle=function(t,e,r,s){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new Oa(0);var o=!r,l=o||e.i!=2,c=e.i;o&&(r=new Oa(a*3));var d=function(xe){var we=r.length;if(xe>we){var Ie=new Oa(Math.max(we*2,xe));Ie.set(r),r=Ie}},u=e.f||0,h=e.p||0,f=e.b||0,p=e.l,v=e.d,y=e.m,g=e.n,x=a*8;do{if(!p){u=fl(t,h,1);var w=fl(t,h+1,3);if(h+=3,w)if(w==1)p=Cle,v=Ble,y=9,g=5;else if(w==2){var B=fl(t,h,31)+257,I=fl(t,h+10,15)+4,S=B+fl(t,h+5,31)+1;h+=14;for(var E=new Oa(S),D=new Oa(19),N=0;N<I;++N)D[vS[N]]=fl(t,h+N*3,7);h+=I*3;for(var T=Mj(D),Q=(1<<T)-1,U=fc(D,T,1),N=0;N<S;){var K=U[fl(t,h,Q)];h+=K&15;var _=K>>4;if(_<16)E[N++]=_;else{var z=0,ee=0;for(_==16?(ee=3+fl(t,h,3),h+=2,z=E[N-1]):_==17?(ee=3+fl(t,h,7),h+=3):_==18&&(ee=11+fl(t,h,127),h+=7);ee--;)E[N++]=z}}var G=E.subarray(0,B),q=E.subarray(B);y=Mj(G),g=Mj(q),p=fc(G,y,1),v=fc(q,g,1)}else vl(1);else{var _=FE(h)+4,k=t[_-4]|t[_-3]<<8,C=_+k;if(C>a){c&&vl(0);break}l&&d(f+k),r.set(t.subarray(_,C),f),e.b=f+=k,e.p=h=C*8,e.f=u;continue}if(h>x){c&&vl(0);break}}l&&d(f+131072);for(var re=(1<<y)-1,Z=(1<<g)-1,$=h;;$=h){var z=p[Lj(t,h)&re],L=z>>4;if(h+=z&15,h>x){c&&vl(0);break}if(z||vl(2),L<256)r[f++]=L;else if(L==256){$=h,p=null;break}else{var Y=L-254;if(L>264){var N=L-257,X=s1[N];Y=fl(t,h,(1<<X)-1)+u$[N],h+=X}var Ae=v[Lj(t,h)&Z],fe=Ae>>4;Ae||vl(3),h+=Ae&15;var q=Nle[fe];if(fe>3){var X=a1[fe];q+=Lj(t,h)&(1<<X)-1,h+=X}if(h>x){c&&vl(0);break}l&&d(f+131072);var de=f+Y;if(f<q){var me=i-q,Ce=Math.min(q,de);for(me+f<0&&vl(3);f<Ce;++f)r[f]=s[me+f]}for(;f<de;++f)r[f]=r[f-q]}}e.l=p,e.p=$,e.b=f,e.f=u,p&&(u=1,e.m=y,e.d=v,e.n=g)}while(!u);return f!=r.length&&o?A$(r,0,f):r.subarray(0,f)},nd=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8},mg=function(t,e,r){r<<=e&7;var s=e/8|0;t[s]|=r,t[s+1]|=r>>8,t[s+2]|=r>>16},Uj=function(t,e){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s,f:t[s]});var a=r.length,i=r.slice();if(!a)return{t:m$,l:0};if(a==1){var o=new Oa(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(C,B){return C.f-B.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,u=1,h=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};u!=a-1;)l=r[r[d].f<r[h].f?d++:h++],c=r[d!=u&&r[d].f<r[h].f?d++:h++],r[u++]={s:-1,f:l.f+c.f,l,r:c};for(var f=i[0].s,s=1;s<a;++s)i[s].s>f&&(f=i[s].s);var p=new ro(f+1),v=jS(r[u-1],p,0);if(v>e){var s=0,y=0,g=v-e,x=1<<g;for(i.sort(function(B,I){return p[I.s]-p[B.s]||B.f-I.f});s<a;++s){var w=i[s].s;if(p[w]>e)y+=x-(1<<v-p[w]),p[w]=e;else break}for(y>>=g;y>0;){var _=i[s].s;p[_]<e?y-=1<<e-p[_]++-1:++s}for(;s>=0&&y;--s){var k=i[s].s;p[k]==e&&(--p[k],++y)}v=e}return{t:new Oa(p),l:v}},jS=function(t,e,r){return t.s==-1?Math.max(jS(t.l,e,r+1),jS(t.r,e,r+1)):e[t.s]=r},PT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ro(++e),s=0,a=t[0],i=1,o=function(c){r[s++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(a),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(a);i=1,a=t[l]}return{c:r.subarray(0,s),n:e}},pg=function(t,e){for(var r=0,s=0;s<e.length;++s)r+=t[s]*e[s];return r},f$=function(t,e,r){var s=r.length,a=FE(e+2);t[a]=s&255,t[a+1]=s>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<s;++i)t[a+i+4]=r[i];return(a+4+s)*8},FT=function(t,e,r,s,a,i,o,l,c,d,u){nd(e,u++,r),++a[256];for(var h=Uj(a,15),f=h.t,p=h.l,v=Uj(i,15),y=v.t,g=v.l,x=PT(f),w=x.c,_=x.n,k=PT(y),C=k.c,B=k.n,I=new ro(19),S=0;S<w.length;++S)++I[w[S]&31];for(var S=0;S<C.length;++S)++I[C[S]&31];for(var E=Uj(I,7),D=E.t,N=E.l,T=19;T>4&&!D[vS[T-1]];--T);var Q=d+5<<3,U=pg(a,gh)+pg(i,U0)+o,K=pg(a,f)+pg(i,y)+o+14+3*T+pg(I,D)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&Q<=U&&Q<=K)return f$(e,u,t.subarray(c,c+d));var z,ee,G,q;if(nd(e,u,1+(K<U)),u+=2,K<U){z=fc(f,p,0),ee=f,G=fc(y,g,0),q=y;var re=fc(D,N,0);nd(e,u,_-257),nd(e,u+5,B-1),nd(e,u+10,T-4),u+=14;for(var S=0;S<T;++S)nd(e,u+3*S,D[vS[S]]);u+=3*T;for(var Z=[w,C],$=0;$<2;++$)for(var L=Z[$],S=0;S<L.length;++S){var Y=L[S]&31;nd(e,u,re[Y]),u+=D[Y],Y>15&&(nd(e,u,L[S]>>5&127),u+=L[S]>>12)}}else z=_le,ee=gh,G=Sle,q=U0;for(var S=0;S<l;++S){var X=s[S];if(X>255){var Y=X>>18&31;mg(e,u,z[Y+257]),u+=ee[Y+257],Y>7&&(nd(e,u,X>>23&31),u+=s1[Y]);var Ae=X&31;mg(e,u,G[Ae]),u+=q[Ae],Ae>3&&(mg(e,u,X>>5&8191),u+=a1[Ae])}else mg(e,u,z[X]),u+=ee[X]}return mg(e,u,z[256]),u+ee[256]},Ple=new PE([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),m$=new Oa(0),Fle=function(t,e,r,s,a,i){var o=i.z||t.length,l=new Oa(s+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(s,l.length-a),d=i.l,u=(i.r||0)&7;if(e){u&&(c[0]=i.r>>3);for(var h=Ple[e-1],f=h>>13,p=h&8191,v=(1<<r)-1,y=i.p||new ro(32768),g=i.h||new ro(v+1),x=Math.ceil(r/3),w=2*x,_=function(lt){return(t[lt]^t[lt+1]<<x^t[lt+2]<<w)&v},k=new PE(25e3),C=new ro(288),B=new ro(32),I=0,S=0,E=i.i||0,D=0,N=i.w||0,T=0;E+2<o;++E){var Q=_(E),U=E&32767,K=g[Q];if(y[U]=K,g[Q]=U,N<=E){var z=o-E;if((I>7e3||D>24576)&&(z>423||!d)){u=FT(t,c,0,k,C,B,S,D,T,E-T,u),D=I=S=0,T=E;for(var ee=0;ee<286;++ee)C[ee]=0;for(var ee=0;ee<30;++ee)B[ee]=0}var G=2,q=0,re=p,Z=U-K&32767;if(z>2&&Q==_(E-Z))for(var $=Math.min(f,z)-1,L=Math.min(32767,E),Y=Math.min(258,z);Z<=L&&--re&&U!=K;){if(t[E+G]==t[E+G-Z]){for(var X=0;X<Y&&t[E+X]==t[E+X-Z];++X);if(X>G){if(G=X,q=Z,X>$)break;for(var Ae=Math.min(Z,X-2),fe=0,ee=0;ee<Ae;++ee){var de=E-Z+ee&32767,me=y[de],Ce=de-me&32767;Ce>fe&&(fe=Ce,K=de)}}}U=K,K=y[U],Z+=U-K&32767}if(q){k[D++]=268435456|bS[G]<<18|kT[q];var xe=bS[G]&31,we=kT[q]&31;S+=s1[xe]+a1[we],++C[257+xe],++B[we],N=E+G,++I}else k[D++]=t[E],++C[t[E]]}}for(E=Math.max(E,N);E<o;++E)k[D++]=t[E],++C[t[E]];u=FT(t,c,d,k,C,B,S,D,T,E-T,u),d||(i.r=u&7|c[u/8|0]<<3,u-=7,i.h=g,i.p=y,i.i=E,i.w=N)}else{for(var E=i.w||0;E<o+d;E+=65535){var Ie=E+65535;Ie>=o&&(c[u/8|0]=d,Ie=o),u=f$(c,u+1,t.subarray(E,Ie))}i.i=o}return A$(l,0,s+FE(u)+a)},p$=function(){var t=1,e=0;return{p:function(r){for(var s=t,a=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)a+=s+=r[o];s=(s&65535)+15*(s>>16),a=(a&65535)+15*(a>>16)}t=s,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Tle=function(t,e,r,s,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new Oa(i.length+t.length);o.set(i),o.set(t,i.length),t=o,a.w=i.length}return Fle(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,s,a)},g$=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Ole=function(t,e){var r=e.level,s=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=s<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=p$();a.p(e.dictionary),g$(t,2,a.d())}},Ile=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&vl(6,"invalid zlib data"),(t[1]>>5&1)==1&&vl(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function NS(t,e){e||(e={});var r=p$();r.p(t);var s=Tle(t,e,e.dictionary?6:2,4);return Ole(s,e),g$(s,s.length-4,r.d()),s}function Dle(t,e){return kle(t.subarray(Ile(t),-4),{i:2},e,e)}var Mle=typeof TextDecoder<"u"&&new TextDecoder,Lle=0;try{Mle.decode(m$,{stream:!0}),Lle=1}catch{}var Xt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Rj(){Xt.console&&typeof Xt.console.log=="function"&&Xt.console.log.apply(Xt.console,arguments)}var tn={log:Rj,warn:function(t){Xt.console&&(typeof Xt.console.warn=="function"?Xt.console.warn.apply(Xt.console,arguments):Rj.call(null,arguments))},error:function(t){Xt.console&&(typeof Xt.console.error=="function"?Xt.console.error.apply(Xt.console,arguments):Rj(t))}};function Qj(t,e,r){var s=new XMLHttpRequest;s.open("GET",t),s.responseType="blob",s.onload=function(){pA(s.response,e,r)},s.onerror=function(){tn.error("could not download file")},s.send()}function TT(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Gy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i0,_S,pA=Xt.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==Xt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var s=Xt.URL||Xt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?TT(a.href)?Qj(t,e,r):Gy(a,a.target="_blank"):Gy(a)):(a.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(a.href)}),4e4),setTimeout((function(){Gy(a)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(TT(t))Qj(t,e,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){Gy(s)}))}else navigator.msSaveOrOpenBlob((function(a,i){return i===void 0?i={autoBom:!1}:Yr(i)!=="object"&&(tn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),typeof t=="string")return Qj(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(Xt.HTMLElement)||Xt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var u=l.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=u:location=u,s=null},l.readAsDataURL(t)}else{var c=Xt.URL||Xt.webkitURL,d=c.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout((function(){c.revokeObjectURL(d)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function x$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],s=0;s<r.length;s++){var a=r[s].re,i=r[s].process,o=a.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Hj(t,e){var r=t[0],s=t[1],a=t[2],i=t[3];r=_a(r,s,a,i,e[0],7,-680876936),i=_a(i,r,s,a,e[1],12,-389564586),a=_a(a,i,r,s,e[2],17,606105819),s=_a(s,a,i,r,e[3],22,-1044525330),r=_a(r,s,a,i,e[4],7,-176418897),i=_a(i,r,s,a,e[5],12,1200080426),a=_a(a,i,r,s,e[6],17,-1473231341),s=_a(s,a,i,r,e[7],22,-45705983),r=_a(r,s,a,i,e[8],7,1770035416),i=_a(i,r,s,a,e[9],12,-1958414417),a=_a(a,i,r,s,e[10],17,-42063),s=_a(s,a,i,r,e[11],22,-1990404162),r=_a(r,s,a,i,e[12],7,1804603682),i=_a(i,r,s,a,e[13],12,-40341101),a=_a(a,i,r,s,e[14],17,-1502002290),r=Ca(r,s=_a(s,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=Ca(i,r,s,a,e[6],9,-1069501632),a=Ca(a,i,r,s,e[11],14,643717713),s=Ca(s,a,i,r,e[0],20,-373897302),r=Ca(r,s,a,i,e[5],5,-701558691),i=Ca(i,r,s,a,e[10],9,38016083),a=Ca(a,i,r,s,e[15],14,-660478335),s=Ca(s,a,i,r,e[4],20,-405537848),r=Ca(r,s,a,i,e[9],5,568446438),i=Ca(i,r,s,a,e[14],9,-1019803690),a=Ca(a,i,r,s,e[3],14,-187363961),s=Ca(s,a,i,r,e[8],20,1163531501),r=Ca(r,s,a,i,e[13],5,-1444681467),i=Ca(i,r,s,a,e[2],9,-51403784),a=Ca(a,i,r,s,e[7],14,1735328473),r=Sa(r,s=Ca(s,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=Sa(i,r,s,a,e[8],11,-2022574463),a=Sa(a,i,r,s,e[11],16,1839030562),s=Sa(s,a,i,r,e[14],23,-35309556),r=Sa(r,s,a,i,e[1],4,-1530992060),i=Sa(i,r,s,a,e[4],11,1272893353),a=Sa(a,i,r,s,e[7],16,-155497632),s=Sa(s,a,i,r,e[10],23,-1094730640),r=Sa(r,s,a,i,e[13],4,681279174),i=Sa(i,r,s,a,e[0],11,-358537222),a=Sa(a,i,r,s,e[3],16,-722521979),s=Sa(s,a,i,r,e[6],23,76029189),r=Sa(r,s,a,i,e[9],4,-640364487),i=Sa(i,r,s,a,e[12],11,-421815835),a=Sa(a,i,r,s,e[15],16,530742520),r=Ba(r,s=Sa(s,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=Ba(i,r,s,a,e[7],10,1126891415),a=Ba(a,i,r,s,e[14],15,-1416354905),s=Ba(s,a,i,r,e[5],21,-57434055),r=Ba(r,s,a,i,e[12],6,1700485571),i=Ba(i,r,s,a,e[3],10,-1894986606),a=Ba(a,i,r,s,e[10],15,-1051523),s=Ba(s,a,i,r,e[1],21,-2054922799),r=Ba(r,s,a,i,e[8],6,1873313359),i=Ba(i,r,s,a,e[15],10,-30611744),a=Ba(a,i,r,s,e[6],15,-1560198380),s=Ba(s,a,i,r,e[13],21,1309151649),r=Ba(r,s,a,i,e[4],6,-145523070),i=Ba(i,r,s,a,e[11],10,-1120210379),a=Ba(a,i,r,s,e[2],15,718787259),s=Ba(s,a,i,r,e[9],21,-343485551),t[0]=Yu(r,t[0]),t[1]=Yu(s,t[1]),t[2]=Yu(a,t[2]),t[3]=Yu(i,t[3])}function i1(t,e,r,s,a,i){return e=Yu(Yu(e,t),Yu(s,i)),Yu(e<<a|e>>>32-a,r)}function _a(t,e,r,s,a,i,o){return i1(e&r|~e&s,t,e,a,i,o)}function Ca(t,e,r,s,a,i,o){return i1(e&s|r&~s,t,e,a,i,o)}function Sa(t,e,r,s,a,i,o){return i1(e^r^s,t,e,a,i,o)}function Ba(t,e,r,s,a,i,o){return i1(r^(e|~s),t,e,a,i,o)}function y$(t){var e,r=t.length,s=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Hj(s,Ule(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Hj(s,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Hj(s,a),s}function Ule(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}i0=Xt.atob.bind(Xt),_S=Xt.btoa.bind(Xt);var OT="0123456789abcdef".split("");function Rle(t){for(var e="",r=0;r<4;r++)e+=OT[t>>8*r+4&15]+OT[t>>8*r&15];return e}function Qle(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function CS(t){return y$(t).map(Qle).join("")}var Hle=(function(t){for(var e=0;e<t.length;e++)t[e]=Rle(t[e]);return t.join("")})(y$("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yu(t,e){if(Hle){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function SS(t,e){var r,s,a,i;if(t!==r){for(var o=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var u=l[c];d=(d+u+o.charCodeAt(c))%256,l[c]=l[d],l[d]=u}r=t,s=l}else l=s;var h=e.length,f=0,p=0,v="";for(c=0;c<h;c++)p=(p+(u=l[f=(f+1)%256]))%256,l[f]=l[p],l[p]=u,o=l[(l[f]+l[p])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var IT={print:4,modify:8,copy:16,"annot-forms":32};function xm(t,e,r,s){this.v=1,this.r=2;var a=192;t.forEach((function(l){if(IT.perm!==void 0)throw new Error("Invalid permission: "+l);a+=IT[l]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^a)),this.encryptionKey=CS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(s)).substr(0,5),this.U=SS(this.encryptionKey,this.padding)}function ym(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,s=0;s<r;s++){var a=t.charCodeAt(s);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[s]}return e}function DT(t){if(Yr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,s,a){if(a=a||!1,typeof r!="string"||typeof s!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[s,!!a],i},this.unsubscribe=function(r){for(var s in e)if(e[s][r])return delete e[s][r],Object.keys(e[s]).length===0&&delete e[s],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var s=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,s)}catch(l){Xt.console&&tn.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Eb(t){if(!(this instanceof Eb))return new Eb(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function v$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function NA(t,e,r,s,a){if(!(this instanceof NA))return new NA(t,e,r,s,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,v$.call(this,s,a)}function Bm(t,e,r,s,a){if(!(this instanceof Bm))return new Bm(t,e,r,s,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,v$.call(this,s,a)}function Rt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;Yr(t=t||{})==="object"&&(r=t.orientation,s=t.unit||s,a=t.format||a,i=t.compress||t.compressPdf||i,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),s=s||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=DT;var v="1.3",y=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(M){v=M};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return g};var x=p.__private__.getPageFormat=function(M){return g[M]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function k(){this.saveGraphicsState(),J(new Lt(ce,0,0,-ce,0,$l()*ce).toString()+" cm"),this.setFontSize(this.getFontSize()/ce),d="n",_=w.ADVANCED}function C(){this.restoreGraphicsState(),d="S",_=w.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(M,ne){if(M=="bold"&&ne=="normal"||M=="bold"&&ne==400||M=="normal"&&ne=="italic"||M=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(M=ne==400||ne==="normal"?M==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||M!=="normal"?(ne==700?"bold":ne)+""+M:"bold"),M};p.advancedAPI=function(M){var ne=_===w.COMPAT;return ne&&k.call(this),typeof M!="function"||(M(this),ne&&C.call(this)),this},p.compatAPI=function(M){var ne=_===w.ADVANCED;return ne&&C.call(this),typeof M!="function"||(M(this),ne&&k.call(this)),this},p.isAdvancedAPI=function(){return _===w.ADVANCED};var I,S=function(M){if(_!==w.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},E=p.roundToPrecision=p.__private__.roundToPrecision=function(M,ne){var be=e||ne;if(isNaN(M)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(be).replace(/0+$/,"")};I=p.hpf=p.__private__.hpf=typeof c=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return E(M,c)}:c==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return E(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return E(M,16)};var D=p.f2=p.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return E(M,2)},N=p.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return E(M,3)},T=p.scale=p.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?M*ce:_===w.ADVANCED?M:void 0},Q=function(M){return _===w.COMPAT?$l()-M:_===w.ADVANCED?M:void 0},U=function(M){return T(Q(M))};p.__private__.setPrecision=p.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var K,z="00000000000000000000000000000000",ee=p.__private__.getFileId=function(){return z},G=p.__private__.setFileId=function(M){return z=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():z.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),u!==null&&(gn=new xm(u.userPermissions,u.userPassword,u.ownerPassword,z)),z};p.setFileId=function(M){return G(M),this},p.getFileId=function(){return ee()};var q=p.__private__.convertDateToPDFDate=function(M){var ne=M.getTimezoneOffset(),be=ne<0?"+":"-",Be=Math.floor(Math.abs(ne/60)),He=Math.abs(ne%60),et=[be,Y(Be),"'",Y(He),"'"].join("");return["D:",M.getFullYear(),Y(M.getMonth()+1),Y(M.getDate()),Y(M.getHours()),Y(M.getMinutes()),Y(M.getSeconds()),et].join("")},re=p.__private__.convertPDFDateToDate=function(M){var ne=parseInt(M.substr(2,4),10),be=parseInt(M.substr(6,2),10)-1,Be=parseInt(M.substr(8,2),10),He=parseInt(M.substr(10,2),10),et=parseInt(M.substr(12,2),10),ct=parseInt(M.substr(14,2),10);return new Date(ne,be,Be,He,et,ct,0)},Z=p.__private__.setCreationDate=function(M){var ne;if(M===void 0&&(M=new Date),M instanceof Date)ne=q(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=M}return K=ne},$=p.__private__.getCreationDate=function(M){var ne=K;return M==="jsDate"&&(ne=re(K)),ne};p.setCreationDate=function(M){return Z(M),this},p.getCreationDate=function(M){return $(M)};var L,Y=p.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},X=p.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Ae=0,fe=[],de=[],me=0,Ce=[],xe=[],we=!1,Ie=de,lt=function(){Ae=0,me=0,de=[],fe=[],Ce=[],Vo=mn(),Mi=mn()};p.__private__.setCustomOutputDestination=function(M){we=!0,Ie=M};var Le=function(M){we||(Ie=M)};p.__private__.resetCustomOutputDestination=function(){we=!1,Ie=de};var J=p.__private__.out=function(M){return M=M.toString(),me+=M.length+1,Ie.push(M),Ie},Qe=p.__private__.write=function(M){return J(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},je=p.__private__.getArrayBuffer=function(M){for(var ne=M.length,be=new ArrayBuffer(ne),Be=new Uint8Array(be);ne--;)Be[ne]=M.charCodeAt(ne);return be},ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return ie};var Se=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(M){return Se=_===w.ADVANCED?M/ce:M,this};var We,Oe=p.__private__.getFontSize=p.getFontSize=function(){return _===w.COMPAT?Se:Se*ce},ve=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(M){return ve=M,this},p.__private__.getR2L=p.getR2L=function(){return ve};var st,Ne=p.__private__.setZoomMode=function(M){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))We=M;else if(isNaN(M)){if(ne.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');We=M}else We=parseInt(M,10)};p.__private__.getZoomMode=function(){return We};var ge,Je=p.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');st=M};p.__private__.getPageMode=function(){return st};var Ve=p.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');ge=M};p.__private__.getLayoutMode=function(){return ge},p.__private__.setDisplayMode=p.setDisplayMode=function(M,ne,be){return Ne(M),Ve(ne),Je(be),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(M){if(Object.keys(yt).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[M]},p.__private__.getDocumentProperties=function(){return yt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(M){for(var ne in yt)yt.hasOwnProperty(ne)&&M[ne]&&(yt[ne]=M[ne]);return this},p.__private__.setDocumentProperty=function(M,ne){if(Object.keys(yt).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[M]=ne};var gt,ce,Ze,Ue,Re,rt={},_t={},At=[],It={},Mr={},Br={},Sn={},ua=null,An=0,tr=[],Nr=new DT(p),Pl=t.hotfixes||[],ls={},hi={},Di=[],Lt=function M(ne,be,Be,He,et,ct){if(!(this instanceof M))return new M(ne,be,Be,He,et,ct);isNaN(ne)&&(ne=1),isNaN(be)&&(be=0),isNaN(Be)&&(Be=0),isNaN(He)&&(He=1),isNaN(et)&&(et=0),isNaN(ct)&&(ct=0),this._matrix=[ne,be,Be,He,et,ct]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(M)},Lt.prototype.multiply=function(M){var ne=M.sx*this.sx+M.shy*this.shx,be=M.sx*this.shy+M.shy*this.sy,Be=M.shx*this.sx+M.sy*this.shx,He=M.shx*this.shy+M.sy*this.sy,et=M.tx*this.sx+M.ty*this.shx+this.tx,ct=M.tx*this.shy+M.ty*this.sy+this.ty;return new Lt(ne,be,Be,He,et,ct)},Lt.prototype.decompose=function(){var M=this.sx,ne=this.shy,be=this.shx,Be=this.sy,He=this.tx,et=this.ty,ct=Math.sqrt(M*M+ne*ne),wt=(M/=ct)*be+(ne/=ct)*Be;be-=M*wt,Be-=ne*wt;var Dt=Math.sqrt(be*be+Be*Be);return wt/=Dt,M*(Be/=Dt)<ne*(be/=Dt)&&(M=-M,ne=-ne,wt=-wt,ct=-ct),{scale:new Lt(ct,0,0,Dt,0,0),translate:new Lt(1,0,0,1,He,et),rotate:new Lt(M,ne,-ne,M,0,0),skew:new Lt(1,0,wt,1,0,0)}},Lt.prototype.toString=function(M){return this.join(" ")},Lt.prototype.inversed=function(){var M=this.sx,ne=this.shy,be=this.shx,Be=this.sy,He=this.tx,et=this.ty,ct=1/(M*Be-ne*be),wt=Be*ct,Dt=-ne*ct,or=-be*ct,sr=M*ct;return new Lt(wt,Dt,or,sr,-wt*He-or*et,-Dt*He-sr*et)},Lt.prototype.applyToPoint=function(M){var ne=M.x*this.sx+M.y*this.shx+this.tx,be=M.x*this.shy+M.y*this.sy+this.ty;return new uo(ne,be)},Lt.prototype.applyToRectangle=function(M){var ne=this.applyToPoint(M),be=this.applyToPoint(new uo(M.x+M.w,M.y+M.h));return new Hl(ne.x,ne.y,be.x-ne.x,be.y-ne.y)},Lt.prototype.clone=function(){var M=this.sx,ne=this.shy,be=this.shx,Be=this.sy,He=this.tx,et=this.ty;return new Lt(M,ne,be,Be,He,et)},p.Matrix=Lt;var Qa=p.matrixMult=function(M,ne){return ne.multiply(M)},ha=new Lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=ha;var Aa=function(M,ne){if(!Mr[M]){var be=(ne instanceof NA?"Sh":"P")+(Object.keys(It).length+1).toString(10);ne.id=be,Mr[M]=be,It[be]=ne,Nr.publish("addPattern",ne)}};p.ShadingPattern=NA,p.TilingPattern=Bm,p.addShadingPattern=function(M,ne){return S("addShadingPattern()"),Aa(M,ne),this},p.beginTilingPattern=function(M){S("beginTilingPattern()"),jf(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},p.endTilingPattern=function(M,ne){S("endTilingPattern()"),ne.stream=xe[L].join(`
`),Aa(M,ne),Nr.publish("endTilingPattern",ne),Di.pop().restore()};var fn=p.__private__.newObject=function(){var M=mn();return Is(M,!0),M},mn=p.__private__.newObjectDeferred=function(){return Ae++,fe[Ae]=function(){return me},Ae},Is=function(M,ne){return ne=typeof ne=="boolean"&&ne,fe[M]=me,ne&&J(M+" 0 obj"),M},Fl=p.__private__.newAdditionalObject=function(){var M={objId:mn(),content:""};return Ce.push(M),M},Vo=mn(),Mi=mn(),Li=p.__private__.decodeColorString=function(M){var ne=M.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var be=parseFloat(ne[0]);ne=[be,be,be,"r"]}for(var Be="#",He=0;He<3;He++)Be+=("0"+Math.floor(255*parseFloat(ne[He])).toString(16)).slice(-2);return Be},ws=p.__private__.encodeColorString=function(M){var ne;typeof M=="string"&&(M={ch1:M});var be=M.ch1,Be=M.ch2,He=M.ch3,et=M.ch4,ct=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var wt=new x$(be);if(wt.ok)be=wt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Dt=parseInt(be.substr(1),16);be=Dt>>16&255,Be=Dt>>8&255,He=255&Dt}if(Be===void 0||et===void 0&&be===Be&&Be===He)if(typeof be=="string")ne=be+" "+ct[0];else switch(M.precision){case 2:ne=D(be/255)+" "+ct[0];break;case 3:default:ne=N(be/255)+" "+ct[0]}else if(et===void 0||Yr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return ne=["1.","1.","1.",ct[1]].join(" ");if(typeof be=="string")ne=[be,Be,He,ct[1]].join(" ");else switch(M.precision){case 2:ne=[D(be/255),D(Be/255),D(He/255),ct[1]].join(" ");break;default:case 3:ne=[N(be/255),N(Be/255),N(He/255),ct[1]].join(" ")}}else if(typeof be=="string")ne=[be,Be,He,et,ct[2]].join(" ");else switch(M.precision){case 2:ne=[D(be),D(Be),D(He),D(et),ct[2]].join(" ");break;case 3:default:ne=[N(be),N(Be),N(He),N(et),ct[2]].join(" ")}return ne},Ui=p.__private__.getFilters=function(){return o},Ha=p.__private__.putStream=function(M){var ne=(M=M||{}).data||"",be=M.filters||Ui(),Be=M.alreadyAppliedFilters||[],He=M.addLength1||!1,et=ne.length,ct=M.objectId,wt=function(Ds){return Ds};if(u!==null&&ct===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(wt=gn.encryptor(ct,0));var Dt={};be===!0&&(be=["FlateEncode"]);var or=M.additionalKeyValues||[],sr=(Dt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(ne,be):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Be)?Be.join(" "):Be.toString());if(Dt.data.length!==0&&(or.push({key:"Length",value:Dt.data.length}),He===!0&&or.push({key:"Length1",value:et})),sr.length!=0)if(sr.split("/").length-1==1)or.push({key:"Filter",value:sr});else{or.push({key:"Filter",value:"["+sr+"]"});for(var pr=0;pr<or.length;pr+=1)if(or[pr].key==="DecodeParms"){for(var xn=[],Bn=0;Bn<Dt.reverseChain.split("/").length-1;Bn+=1)xn.push("null");xn.push(or[pr].value),or[pr].value="["+xn.join(" ")+"]"}}J("<<");for(var Qn=0;Qn<or.length;Qn++)J("/"+or[Qn].key+" "+or[Qn].value);J(">>"),Dt.data.length!==0&&(J("stream"),J(wt(Dt.data)),J("endstream"))},ao=p.__private__.putPage=function(M){var ne=M.number,be=M.data,Be=M.objId,He=M.contentsObjId;Is(Be,!0),J("<</Type /Page"),J("/Parent "+M.rootDictionaryObjId+" 0 R"),J("/Resources "+M.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(I(M.mediaBox.bottomLeftX))+" "+parseFloat(I(M.mediaBox.bottomLeftY))+" "+I(M.mediaBox.topRightX)+" "+I(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&J("/CropBox ["+I(M.cropBox.bottomLeftX)+" "+I(M.cropBox.bottomLeftY)+" "+I(M.cropBox.topRightX)+" "+I(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&J("/BleedBox ["+I(M.bleedBox.bottomLeftX)+" "+I(M.bleedBox.bottomLeftY)+" "+I(M.bleedBox.topRightX)+" "+I(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&J("/TrimBox ["+I(M.trimBox.bottomLeftX)+" "+I(M.trimBox.bottomLeftY)+" "+I(M.trimBox.topRightX)+" "+I(M.trimBox.topRightY)+"]"),M.artBox!==null&&J("/ArtBox ["+I(M.artBox.bottomLeftX)+" "+I(M.artBox.bottomLeftY)+" "+I(M.artBox.topRightX)+" "+I(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&J("/UserUnit "+M.userUnit),Nr.publish("putPage",{objId:Be,pageContext:tr[ne],pageNumber:ne,page:be}),J("/Contents "+He+" 0 R"),J(">>"),J("endobj");var et=be.join(`
`);return _===w.ADVANCED&&(et+=`
Q`),Is(He,!0),Ha({data:et,filters:Ui(),objectId:He}),J("endobj"),Be},Tl=p.__private__.putPages=function(){var M,ne,be=[];for(M=1;M<=An;M++)tr[M].objId=mn(),tr[M].contentsObjId=mn();for(M=1;M<=An;M++)be.push(ao({number:M,data:xe[M],objId:tr[M].objId,contentsObjId:tr[M].contentsObjId,mediaBox:tr[M].mediaBox,cropBox:tr[M].cropBox,bleedBox:tr[M].bleedBox,trimBox:tr[M].trimBox,artBox:tr[M].artBox,userUnit:tr[M].userUnit,rootDictionaryObjId:Vo,resourceDictionaryObjId:Mi}));Is(Vo,!0),J("<</Type /Pages");var Be="/Kids [";for(ne=0;ne<An;ne++)Be+=be[ne]+" 0 R ";J(Be+"]"),J("/Count "+An),J(">>"),J("endobj"),Nr.publish("postPutPages")},Nc=function(M){Nr.publish("putFont",{font:M,out:J,newObject:fn,putStream:Ha}),M.isAlreadyPutted!==!0&&(M.objectNumber=fn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+ym(M.postScriptName)),J("/Subtype /Type1"),typeof M.encoding=="string"&&J("/Encoding /"+M.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},_c=function(){for(var M in rt)rt.hasOwnProperty(M)&&(h===!1||h===!0&&f.hasOwnProperty(M))&&Nc(rt[M])},Cc=function(M){M.objectNumber=fn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[I(M.x),I(M.y),I(M.x+M.width),I(M.y+M.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var be=M.pages[1].join(`
`);Ha({data:be,additionalKeyValues:ne,objectId:M.objectNumber}),J("endobj")},Vd=function(){for(var M in ls)ls.hasOwnProperty(M)&&Cc(ls[M])},mf=function(M,ne){var be,Be=[],He=1/(ne-1);for(be=0;be<1;be+=He)Be.push(be);if(Be.push(1),M[0].offset!=0){var et={offset:0,color:M[0].color};M.unshift(et)}if(M[M.length-1].offset!=1){var ct={offset:1,color:M[M.length-1].color};M.push(ct)}for(var wt="",Dt=0,or=0;or<Be.length;or++){for(be=Be[or];be>M[Dt+1].offset;)Dt++;var sr=M[Dt].offset,pr=(be-sr)/(M[Dt+1].offset-sr),xn=M[Dt].color,Bn=M[Dt+1].color;wt+=X(Math.round((1-pr)*xn[0]+pr*Bn[0]).toString(16))+X(Math.round((1-pr)*xn[1]+pr*Bn[1]).toString(16))+X(Math.round((1-pr)*xn[2]+pr*Bn[2]).toString(16))}return wt.trim()},pn=function(M,ne){ne||(ne=21);var be=fn(),Be=mf(M.colors,ne),He=[];He.push({key:"FunctionType",value:"0"}),He.push({key:"Domain",value:"[0.0 1.0]"}),He.push({key:"Size",value:"["+ne+"]"}),He.push({key:"BitsPerSample",value:"8"}),He.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ha({data:Be,additionalKeyValues:He,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),J("endobj"),M.objectNumber=fn(),J("<< /ShadingType "+M.type),J("/ColorSpace /DeviceRGB");var et="/Coords ["+I(parseFloat(M.coords[0]))+" "+I(parseFloat(M.coords[1]))+" ";M.type===2?et+=I(parseFloat(M.coords[2]))+" "+I(parseFloat(M.coords[3])):et+=I(parseFloat(M.coords[2]))+" "+I(parseFloat(M.coords[3]))+" "+I(parseFloat(M.coords[4]))+" "+I(parseFloat(M.coords[5])),J(et+="]"),M.matrix&&J("/Matrix ["+M.matrix.toString()+"]"),J("/Function "+be+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},zp=function(M,ne){var be=mn(),Be=fn();ne.push({resourcesOid:be,objectOid:Be}),M.objectNumber=Be;var He=[];He.push({key:"Type",value:"/Pattern"}),He.push({key:"PatternType",value:"1"}),He.push({key:"PaintType",value:"1"}),He.push({key:"TilingType",value:"1"}),He.push({key:"BBox",value:"["+M.boundingBox.map(I).join(" ")+"]"}),He.push({key:"XStep",value:I(M.xStep)}),He.push({key:"YStep",value:I(M.yStep)}),He.push({key:"Resources",value:be+" 0 R"}),M.matrix&&He.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ha({data:M.stream,additionalKeyValues:He,objectId:M.objectNumber}),J("endobj")},Ol=function(M){var ne;for(ne in It)It.hasOwnProperty(ne)&&(It[ne]instanceof NA?pn(It[ne]):It[ne]instanceof Bm&&zp(It[ne],M))},Sh=function(M){for(var ne in M.objectNumber=fn(),J("<<"),M)switch(ne){case"opacity":J("/ca "+D(M[ne]));break;case"stroke-opacity":J("/CA "+D(M[ne]))}J(">>"),J("endobj")},Kd=function(){var M;for(M in Br)Br.hasOwnProperty(M)&&Sh(Br[M])},Bh=function(){for(var M in J("/XObject <<"),ls)ls.hasOwnProperty(M)&&ls[M].objectNumber>=0&&J("/"+M+" "+ls[M].objectNumber+" 0 R");Nr.publish("putXobjectDict"),J(">>")},pf=function(){gn.oid=fn(),J("<<"),J("/Filter /Standard"),J("/V "+gn.v),J("/R "+gn.r),J("/U <"+gn.toHexString(gn.U)+">"),J("/O <"+gn.toHexString(gn.O)+">"),J("/P "+gn.P),J(">>"),J("endobj")},Sc=function(){for(var M in J("/Font <<"),rt)rt.hasOwnProperty(M)&&(h===!1||h===!0&&f.hasOwnProperty(M))&&J("/"+M+" "+rt[M].objectNumber+" 0 R");J(">>")},Ai=function(){if(Object.keys(It).length>0){for(var M in J("/Shading <<"),It)It.hasOwnProperty(M)&&It[M]instanceof NA&&It[M].objectNumber>=0&&J("/"+M+" "+It[M].objectNumber+" 0 R");Nr.publish("putShadingPatternDict"),J(">>")}},Wd=function(M){if(Object.keys(It).length>0){for(var ne in J("/Pattern <<"),It)It.hasOwnProperty(ne)&&It[ne]instanceof p.TilingPattern&&It[ne].objectNumber>=0&&It[ne].objectNumber<M&&J("/"+ne+" "+It[ne].objectNumber+" 0 R");Nr.publish("putTilingPatternDict"),J(">>")}},$a=function(){if(Object.keys(Br).length>0){var M;for(M in J("/ExtGState <<"),Br)Br.hasOwnProperty(M)&&Br[M].objectNumber>=0&&J("/"+M+" "+Br[M].objectNumber+" 0 R");Nr.publish("putGStateDict"),J(">>")}},In=function(M){Is(M.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Sc(),Ai(),Wd(M.objectOid),$a(),Bh(),J(">>"),J("endobj")},gf=function(){var M=[];_c(),Kd(),Vd(),Ol(M),Nr.publish("putResources"),M.forEach(In),In({resourcesOid:Mi,objectOid:Number.MAX_SAFE_INTEGER}),Nr.publish("postPutResources")},xf=function(){Nr.publish("putAdditionalObjects");for(var M=0;M<Ce.length;M++){var ne=Ce[M];Is(ne.objId,!0),J(ne.content),J("endobj")}Nr.publish("postPutAdditionalObjects")},Bc=function(M){_t[M.fontName]=_t[M.fontName]||{},_t[M.fontName][M.fontStyle]=M.id},Il=function(M,ne,be,Be,He){var et={id:"F"+(Object.keys(rt).length+1).toString(10),postScriptName:M,fontName:ne,fontStyle:be,encoding:Be,isStandardFont:He||!1,metadata:{}};return Nr.publish("addFont",{font:et,instance:this}),rt[et.id]=et,Bc(et),et.id},Ec=function(M){for(var ne=0,be=ie.length;ne<be;ne++){var Be=Il.call(this,M[ne][0],M[ne][1],M[ne][2],ie[ne][3],!0);h===!1&&(f[Be]=!0);var He=M[ne][0].split("-");Bc({id:Be,fontName:He[0],fontStyle:He[1]||""})}Nr.publish("addFonts",{fonts:rt,dictionary:_t})},fa=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Be){var ne=Be.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var be="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Be.message;if(!Xt.console)throw new Error(be);Xt.console.error(be,Be),Xt.alert&&alert(be)}},M.foo.bar=M,M.foo},Gd=function(M,ne){var be,Be,He,et,ct,wt,Dt,or,sr;if(He=(ne=ne||{}).sourceEncoding||"Unicode",ct=ne.outputEncoding,(ne.autoencode||ct)&&rt[gt].metadata&&rt[gt].metadata[He]&&rt[gt].metadata[He].encoding&&(et=rt[gt].metadata[He].encoding,!ct&&rt[gt].encoding&&(ct=rt[gt].encoding),!ct&&et.codePages&&(ct=et.codePages[0]),typeof ct=="string"&&(ct=et[ct]),ct)){for(Dt=!1,wt=[],be=0,Be=M.length;be<Be;be++)(or=ct[M.charCodeAt(be)])?wt.push(String.fromCharCode(or)):wt.push(M[be]),wt[be].charCodeAt(0)>>8&&(Dt=!0);M=wt.join("")}for(be=M.length;Dt===void 0&&be!==0;)M.charCodeAt(be-1)>>8&&(Dt=!0),be--;if(!Dt)return M;for(wt=ne.noBOM?[]:[254,255],be=0,Be=M.length;be<Be;be++){if((sr=(or=M.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");wt.push(sr),wt.push(or-(sr<<8))}return String.fromCharCode.apply(void 0,wt)},ma=p.__private__.pdfEscape=p.pdfEscape=function(M,ne){return Gd(M,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},kc=p.__private__.beginPage=function(M){xe[++An]=[],tr[An]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Dl(An),Le(xe[L])},Eh=function(M,ne){var be,Be,He;switch(r=ne||r,typeof M=="string"&&(be=x(M.toLowerCase()),Array.isArray(be)&&(Be=be[0],He=be[1])),Array.isArray(M)&&(Be=M[0]*ce,He=M[1]*ce),isNaN(Be)&&(Be=a[0],He=a[1]),(Be>14400||He>14400)&&(tn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Be=Math.min(14400,Be),He=Math.min(14400,He)),a=[Be,He],r.substr(0,1)){case"l":He>Be&&(a=[He,Be]);break;case"p":Be>He&&(a=[He,Be])}kc(a),Ic(Th),J(pa),Ih!==0&&J(Ih+" J"),Mc!==0&&J(Mc+" j"),Nr.publish("addPage",{pageNumber:An})},kh=function(M){M>0&&M<=An&&(xe.splice(M,1),tr.splice(M,1),An--,L>An&&(L=An),this.setPage(L))},Dl=function(M){M>0&&M<=An&&(L=M)},Vp=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return xe.length-1},Xd=function(M,ne,be){var Be,He=void 0;return be=be||{},M=M!==void 0?M:rt[gt].fontName,ne=ne!==void 0?ne:rt[gt].fontStyle,Be=M.toLowerCase(),_t[Be]!==void 0&&_t[Be][ne]!==void 0?He=_t[Be][ne]:_t[M]!==void 0&&_t[M][ne]!==void 0?He=_t[M][ne]:be.disableWarning===!1&&tn.warn("Unable to look up font label for font '"+M+"', '"+ne+"'. Refer to getFontList() for available fonts."),He||be.noFallback||(He=_t.times[ne])==null&&(He=_t.times.normal),He},_r=p.__private__.putInfo=function(){var M=fn(),ne=function(Be){return Be};for(var be in u!==null&&(ne=gn.encryptor(M,0)),J("<<"),J("/Producer ("+ma(ne("jsPDF "+Rt.version))+")"),yt)yt.hasOwnProperty(be)&&yt[be]&&J("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+ma(ne(yt[be]))+")");J("/CreationDate ("+ma(ne(K))+")"),J(">>"),J("endobj")},Yd=p.__private__.putCatalog=function(M){var ne=(M=M||{}).rootDictionaryObjId||Vo;switch(fn(),J("<<"),J("/Type /Catalog"),J("/Pages "+ne+" 0 R"),We||(We="fullwidth"),We){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+We;be.substr(be.length-1)==="%"&&(We=parseInt(We)/100),typeof We=="number"&&J("/OpenAction [3 0 R /XYZ null null "+D(We)+"]")}switch(ge||(ge="continuous"),ge){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}st&&J("/PageMode /"+st),Nr.publish("putCatalog"),J(">>"),J("endobj")},yf=p.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(Ae+1)),J("/Root "+Ae+" 0 R"),J("/Info "+(Ae-1)+" 0 R"),u!==null&&J("/Encrypt "+gn.oid+" 0 R"),J("/ID [ <"+z+"> <"+z+"> ]"),J(">>")},Ph=p.__private__.putHeader=function(){J("%PDF-"+v),J("%")},vf=p.__private__.putXRef=function(){var M="0000000000";J("xref"),J("0 "+(Ae+1)),J("0000000000 65535 f ");for(var ne=1;ne<=Ae;ne++)typeof fe[ne]=="function"?J((M+fe[ne]()).slice(-10)+" 00000 n "):fe[ne]!==void 0?J((M+fe[ne]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},io=p.__private__.buildDocument=function(){lt(),Le(de),Nr.publish("buildDocument"),Ph(),Tl(),xf(),gf(),u!==null&&pf(),_r(),Yd();var M=me;return vf(),yf(),J("startxref"),J(""+M),J("%%EOF"),Le(xe[L]),de.join(`
`)},Pc=p.__private__.getBlob=function(M){return new Blob([je(M)],{type:"application/pdf"})},Ml=p.output=p.__private__.output=fa((function(M,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",M){case void 0:return io();case"save":p.save(ne.filename);break;case"arraybuffer":return je(io());case"blob":return Pc(io());case"bloburi":case"bloburl":if(Xt.URL!==void 0&&typeof Xt.URL.createObjectURL=="function")return Xt.URL&&Xt.URL.createObjectURL(Pc(io()))||void 0;tn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Be=io();try{be=_S(Be)}catch{be=_S(unescape(encodeURIComponent(Be)))}return"data:application/pdf;filename="+ne.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var He="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(He=ne.pdfObjectUrl,et="");var ct='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+He+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",wt=Xt.open();return wt!==null&&wt.document.write(ct),wt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xt)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',or=Xt.open();if(or!==null){or.document.write(Dt);var sr=this;or.document.documentElement.querySelector("#pdfViewer").onload=function(){or.document.title=ne.filename,or.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(sr.output("bloburl"))}}return or}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var pr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',xn=Xt.open();if(xn!==null&&(xn.document.write(pr),xn.document.title=ne.filename),xn||typeof safari>"u")return xn;break;case"datauri":case"dataurl":return Xt.document.location.href=this.output("datauristring",ne);default:return null}})),Fc=function(M){return Array.isArray(Pl)===!0&&Pl.indexOf(M)>-1};switch(s){case"pt":ce=1;break;case"mm":ce=72/25.4;break;case"cm":ce=72/2.54;break;case"in":ce=72;break;case"px":ce=Fc("px_scaling")==1?.75:96/72;break;case"pc":case"em":ce=12;break;case"ex":ce=6;break;default:if(typeof s!="number")throw new Error("Invalid unit: "+s);ce=s}var gn=null;Z(),G();var oo=function(M){return u!==null?gn.encryptor(M,0):function(ne){return ne}},Ri=p.__private__.getPageInfo=p.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tr[M].objId,pageNumber:M,pageContext:tr[M]}},Vt=p.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in tr)if(tr[ne].objId===M)break;return Ri(ne)},Tc=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:tr[L].objId,pageNumber:L,pageContext:tr[L]}};p.addPage=function(){return Eh.apply(this,arguments),this},p.setPage=function(){return Dl.apply(this,arguments),Le.call(this,xe[L]),this},p.insertPage=function(M){return this.addPage(),this.movePage(L,M),this},p.movePage=function(M,ne){var be,Be;if(M>ne){be=xe[M],Be=tr[M];for(var He=M;He>ne;He--)xe[He]=xe[He-1],tr[He]=tr[He-1];xe[ne]=be,tr[ne]=Be,this.setPage(ne)}else if(M<ne){be=xe[M],Be=tr[M];for(var et=M;et<ne;et++)xe[et]=xe[et+1],tr[et]=tr[et+1];xe[ne]=be,tr[ne]=Be,this.setPage(ne)}return this},p.deletePage=function(){return kh.apply(this,arguments),this},p.__private__.text=p.text=function(M,ne,be,Be,He){var et,ct,wt,Dt,or,sr,pr,xn,Bn,Qn=(Be=Be||{}).scope||this;if(typeof M=="number"&&typeof ne=="number"&&(typeof be=="string"||Array.isArray(be))){var Ds=be;be=ne,ne=M,M=Ds}if(arguments[3]instanceof Lt?(S("The transform parameter of text() with a Matrix value"),Bn=He):(wt=arguments[4],Dt=arguments[5],Yr(pr=arguments[3])==="object"&&pr!==null||(typeof wt=="string"&&(Dt=wt,wt=null),typeof pr=="string"&&(Dt=pr,pr=null),typeof pr=="number"&&(wt=pr,pr=null),Be={flags:pr,angle:wt,align:Dt})),isNaN(ne)||isNaN(be)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Qn;var cs="",qi=!1,za=typeof Be.lineHeightFactor=="number"?Be.lineHeightFactor:Oc,pi=Qn.internal.scaleFactor;function ql(zr){return zr=zr.split("	").join(Array(Be.TabLen||9).join(" ")),ma(zr,pr)}function Lh(zr){for(var Tr,kn=zr.concat(),Hn=[],fo=kn.length;fo--;)typeof(Tr=kn.shift())=="string"?Hn.push(Tr):Array.isArray(zr)&&(Tr.length===1||Tr[1]===void 0&&Tr[2]===void 0)?Hn.push(Tr[0]):Hn.push([Tr[0],Tr[1],Tr[2]]);return Hn}function ou(zr,Tr){var kn;if(typeof zr=="string")kn=Tr(zr)[0];else if(Array.isArray(zr)){for(var Hn,fo,gu=zr.concat(),zc=[],Qh=gu.length;Qh--;)typeof(Hn=gu.shift())=="string"?zc.push(Tr(Hn)[0]):Array.isArray(Hn)&&typeof Hn[0]=="string"&&(fo=Tr(Hn[0],Hn[1],Hn[2]),zc.push([fo[0],fo[1],fo[2]]));kn=zc}return kn}var Lc=!1,lu=!0;if(typeof M=="string")Lc=!0;else if(Array.isArray(M)){var cu=M.concat();ct=[];for(var Uc,En=cu.length;En--;)(typeof(Uc=cu.shift())!="string"||Array.isArray(Uc)&&typeof Uc[0]!="string")&&(lu=!1);Lc=lu}if(Lc===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var du=Se/Qn.internal.scaleFactor,uu=du*(za-1);switch(Be.baseline){case"bottom":be-=uu;break;case"top":be+=du-uu;break;case"hanging":be+=du-2*uu;break;case"middle":be+=du/2-uu}if((sr=Be.maxWidth||0)>0&&(typeof M=="string"?M=Qn.splitTextToSize(M,sr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce((function(zr,Tr){return zr.concat(Qn.splitTextToSize(Tr,sr))}),[]))),et={text:M,x:ne,y:be,options:Be,mutex:{pdfEscape:ma,activeFontKey:gt,fonts:rt,activeFontSize:Se}},Nr.publish("preProcessText",et),M=et.text,wt=(Be=et.options).angle,!(Bn instanceof Lt)&&wt&&typeof wt=="number"){wt*=Math.PI/180,Be.rotationDirection===0&&(wt=-wt),_===w.ADVANCED&&(wt=-wt);var hu=Math.cos(wt),Au=Math.sin(wt);Bn=new Lt(hu,Au,-Au,hu,0,0)}else wt&&wt instanceof Lt&&(Bn=wt);_!==w.ADVANCED||Bn||(Bn=ha),(or=Be.charSpace||Ql)!==void 0&&(cs+=I(T(or))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(xn=Be.horizontalScale)!==void 0&&(cs+=I(100*xn)+` Tz
`),Be.lang;var Ys=-1,Rc=Be.renderingMode!==void 0?Be.renderingMode:Be.stroke,Go=Qn.internal.getCurrentPageInfo().pageContext;switch(Rc){case 0:case!1:case"fill":Ys=0;break;case 1:case!0:case"stroke":Ys=1;break;case 2:case"fillThenStroke":Ys=2;break;case 3:case"invisible":Ys=3;break;case 4:case"fillAndAddForClipping":Ys=4;break;case 5:case"strokeAndAddPathForClipping":Ys=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ys=6;break;case 7:case"addToPathForClipping":Ys=7}var Nf=Go.usedRenderingMode!==void 0?Go.usedRenderingMode:-1;Ys!==-1?cs+=Ys+` Tr
`:Nf!==-1&&(cs+=`0 Tr
`),Ys!==-1&&(Go.usedRenderingMode=Ys),Dt=Be.align||"left";var Js,fu=Se*za,Uh=Qn.internal.pageSize.getWidth(),mu=rt[gt];or=Be.charSpace||Ql,sr=Be.maxWidth||0,pr=Object.assign({autoencode:!0,noBOM:!0},Be.flags);var ho=[],zl=function(zr){return Qn.getStringUnitWidth(zr,{font:mu,charSpace:or,fontSize:Se,doKerning:!1})*Se/pi};if(Object.prototype.toString.call(M)==="[object Array]"){var Zs;ct=Lh(M),Dt!=="left"&&(Js=ct.map(zl));var Ms,Vl=0;if(Dt==="right"){ne-=Js[0],M=[],En=ct.length;for(var Xo=0;Xo<En;Xo++)Xo===0?(Ms=fi(ne),Zs=mi(be)):(Ms=T(Vl-Js[Xo]),Zs=-fu),M.push([ct[Xo],Ms,Zs]),Vl=Js[Xo]}else if(Dt==="center"){ne-=Js[0]/2,M=[],En=ct.length;for(var Yo=0;Yo<En;Yo++)Yo===0?(Ms=fi(ne),Zs=mi(be)):(Ms=T((Vl-Js[Yo])/2),Zs=-fu),M.push([ct[Yo],Ms,Zs]),Vl=Js[Yo]}else if(Dt==="left"){M=[],En=ct.length;for(var pu=0;pu<En;pu++)M.push(ct[pu])}else if(Dt==="justify"&&mu.encoding==="Identity-H"){M=[],En=ct.length,sr=sr!==0?sr:Uh;for(var Jo=0,Cr=0;Cr<En;Cr++)if(Zs=Cr===0?mi(be):-fu,Ms=Cr===0?fi(ne):Jo,Cr<En-1){var Zo=T((sr-Js[Cr])/(ct[Cr].split(" ").length-1)),Ls=ct[Cr].split(" ");M.push([Ls[0]+" ",Ms,Zs]),Jo=0;for(var Va=1;Va<Ls.length;Va++){var Qc=(zl(Ls[Va-1]+" "+Ls[Va])-zl(Ls[Va]))*pi+Zo;Va==Ls.length-1?M.push([Ls[Va],Qc,0]):M.push([Ls[Va]+" ",Qc,0]),Jo-=Qc}}else M.push([ct[Cr],Ms,Zs]);M.push(["",Jo,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],En=ct.length,sr=sr!==0?sr:Uh,Cr=0;Cr<En;Cr++)Zs=Cr===0?mi(be):-fu,Ms=Cr===0?fi(ne):0,Cr<En-1?ho.push(I(T((sr-Js[Cr])/(ct[Cr].split(" ").length-1)))):ho.push(0),M.push([ct[Cr],Ms,Zs])}}var Rh=typeof Be.R2L=="boolean"?Be.R2L:ve;Rh===!0&&(M=ou(M,(function(zr,Tr,kn){return[zr.split("").reverse().join(""),Tr,kn]}))),et={text:M,x:ne,y:be,options:Be,mutex:{pdfEscape:ma,activeFontKey:gt,fonts:rt,activeFontSize:Se}},Nr.publish("postProcessText",et),M=et.text,qi=et.mutex.isHex||!1;var Hc=rt[gt].encoding;Hc!=="WinAnsiEncoding"&&Hc!=="StandardEncoding"||(M=ou(M,(function(zr,Tr,kn){return[ql(zr),Tr,kn]}))),ct=Lh(M),M=[];for(var $c,qc,Ka,el=0,Ao=1,tl=Array.isArray(ct[0])?Ao:el,rl="",Kl=function(zr,Tr,kn){var Hn="";return kn instanceof Lt?(kn=typeof Be.angle=="number"?Qa(kn,new Lt(1,0,0,1,zr,Tr)):Qa(new Lt(1,0,0,1,zr,Tr),kn),_===w.ADVANCED&&(kn=Qa(new Lt(1,0,0,-1,0,0),kn)),Hn=kn.join(" ")+` Tm
`):Hn=I(zr)+" "+I(Tr)+` Td
`,Hn},js=0;js<ct.length;js++){switch(rl="",tl){case Ao:Ka=(qi?"<":"(")+ct[js][0]+(qi?">":")"),$c=parseFloat(ct[js][1]),qc=parseFloat(ct[js][2]);break;case el:Ka=(qi?"<":"(")+ct[js]+(qi?">":")"),$c=fi(ne),qc=mi(be)}ho!==void 0&&ho[js]!==void 0&&(rl=ho[js]+` Tw
`),js===0?M.push(rl+Kl($c,qc,Bn)+Ka):tl===el?M.push(rl+Ka):tl===Ao&&M.push(rl+Kl($c,qc,Bn)+Ka)}M=tl===el?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var ga=`BT
/`;return ga+=gt+" "+Se+` Tf
`,ga+=I(Se*za)+` TL
`,ga+=Xn+`
`,ga+=cs,ga+=M,J(ga+="ET"),f[gt]=!0,Qn};var lo=p.__private__.clip=p.clip=function(M){return J(M==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return lo("evenodd")},p.__private__.discardPath=p.discardPath=function(){return J("n"),this};var co=p.__private__.isValidStyle=function(M){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(ne=!0),ne};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(M){return co(M)&&(d=M),this};var Fh=p.__private__.getStyle=p.getStyle=function(M){var ne=d;switch(M){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=M}return ne},Ll=p.close=function(){return J("h"),this};p.stroke=function(){return J("S"),this},p.fill=function(M){return Jd("f",M),this},p.fillEvenOdd=function(M){return Jd("f*",M),this},p.fillStroke=function(M){return Jd("B",M),this},p.fillStrokeEvenOdd=function(M){return Jd("B*",M),this};var Jd=function(M,ne){Yr(ne)==="object"?bf(ne,M):J(M)},Zd=function(M){M===null||_===w.ADVANCED&&M===void 0||(M=Fh(M),J(M))};function eu(M,ne,be,Be,He){var et=new Bm(ne||this.boundingBox,be||this.xStep,Be||this.yStep,this.gState,He||this.matrix);et.stream=this.stream;var ct=M+"$$"+this.cloneIndex+++"$$";return Aa(ct,et),et}var bf=function(M,ne){var be=Mr[M.key],Be=It[be];if(Be instanceof NA)J("q"),J(Kp(ne)),Be.gState&&p.setGState(Be.gState),J(M.matrix.toString()+" cm"),J("/"+be+" sh"),J("Q");else if(Be instanceof Bm){var He=new Lt(1,0,0,-1,0,$l());M.matrix&&(He=He.multiply(M.matrix||ha),be=eu.call(Be,M.key,M.boundingBox,M.xStep,M.yStep,He).id),J("q"),J("/Pattern cs"),J("/"+be+" scn"),Be.gState&&p.setGState(Be.gState),J(ne),J("Q")}},Kp=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ko=p.moveTo=function(M,ne){return J(I(T(M))+" "+I(U(ne))+" m"),this},Qi=p.lineTo=function(M,ne){return J(I(T(M))+" "+I(U(ne))+" l"),this},qa=p.curveTo=function(M,ne,be,Be,He,et){return J([I(T(M)),I(U(ne)),I(T(be)),I(U(Be)),I(T(He)),I(U(et)),"c"].join(" ")),this};p.__private__.line=p.line=function(M,ne,be,Be,He){if(isNaN(M)||isNaN(ne)||isNaN(be)||isNaN(Be)||!co(He))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[be-M,Be-ne]],M,ne,[1,1],He||"S"):this.lines([[be-M,Be-ne]],M,ne,[1,1]).stroke()},p.__private__.lines=p.lines=function(M,ne,be,Be,He,et){var ct,wt,Dt,or,sr,pr,xn,Bn,Qn,Ds,cs,qi;if(typeof M=="number"&&(qi=be,be=ne,ne=M,M=qi),Be=Be||[1,1],et=et||!1,isNaN(ne)||isNaN(be)||!Array.isArray(M)||!Array.isArray(Be)||!co(He)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(ne,be),ct=Be[0],wt=Be[1],or=M.length,Ds=ne,cs=be,Dt=0;Dt<or;Dt++)(sr=M[Dt]).length===2?(Ds=sr[0]*ct+Ds,cs=sr[1]*wt+cs,Qi(Ds,cs)):(pr=sr[0]*ct+Ds,xn=sr[1]*wt+cs,Bn=sr[2]*ct+Ds,Qn=sr[3]*wt+cs,Ds=sr[4]*ct+Ds,cs=sr[5]*wt+cs,qa(pr,xn,Bn,Qn,Ds,cs));return et&&Ll(),Zd(He),this},p.path=function(M){for(var ne=0;ne<M.length;ne++){var be=M[ne],Be=be.c;switch(be.op){case"m":Ko(Be[0],Be[1]);break;case"l":Qi(Be[0],Be[1]);break;case"c":qa.apply(this,Be);break;case"h":Ll()}}return this},p.__private__.rect=p.rect=function(M,ne,be,Be,He){if(isNaN(M)||isNaN(ne)||isNaN(be)||isNaN(Be)||!co(He))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(Be=-Be),J([I(T(M)),I(U(ne)),I(T(be)),I(T(Be)),"re"].join(" ")),Zd(He),this},p.__private__.triangle=p.triangle=function(M,ne,be,Be,He,et,ct){if(isNaN(M)||isNaN(ne)||isNaN(be)||isNaN(Be)||isNaN(He)||isNaN(et)||!co(ct))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-M,Be-ne],[He-be,et-Be],[M-He,ne-et]],M,ne,[1,1],ct,!0),this},p.__private__.roundedRect=p.roundedRect=function(M,ne,be,Be,He,et,ct){if(isNaN(M)||isNaN(ne)||isNaN(be)||isNaN(Be)||isNaN(He)||isNaN(et)||!co(ct))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var wt=4/3*(Math.SQRT2-1);return He=Math.min(He,.5*be),et=Math.min(et,.5*Be),this.lines([[be-2*He,0],[He*wt,0,He,et-et*wt,He,et],[0,Be-2*et],[0,et*wt,-He*wt,et,-He,et],[2*He-be,0],[-He*wt,0,-He,-et*wt,-He,-et],[0,2*et-Be],[0,-et*wt,He*wt,-et,He,-et]],M+He,ne,[1,1],ct,!0),this},p.__private__.ellipse=p.ellipse=function(M,ne,be,Be,He){if(isNaN(M)||isNaN(ne)||isNaN(be)||isNaN(Be)||!co(He))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*be,ct=4/3*(Math.SQRT2-1)*Be;return Ko(M+be,ne),qa(M+be,ne-ct,M+et,ne-Be,M,ne-Be),qa(M-et,ne-Be,M-be,ne-ct,M-be,ne),qa(M-be,ne+ct,M-et,ne+Be,M,ne+Be),qa(M+et,ne+Be,M+be,ne+ct,M+be,ne),Zd(He),this},p.__private__.circle=p.circle=function(M,ne,be,Be){if(isNaN(M)||isNaN(ne)||isNaN(be)||!co(Be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,ne,be,be,Be)},p.setFont=function(M,ne,be){return be&&(ne=B(ne,be)),gt=Xd(M,ne,{disableWarning:!1}),this};var tu=p.__private__.getFont=p.getFont=function(){return rt[Xd.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var M,ne,be={};for(M in _t)if(_t.hasOwnProperty(M))for(ne in be[M]=[],_t[M])_t[M].hasOwnProperty(ne)&&be[M].push(ne);return be},p.addFont=function(M,ne,be,Be,He){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?He=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(be=B(be,Be)),He=He||"Identity-H",Il.call(this,M,ne,be,He)};var Oc,Th=t.lineWidth||.200025,Ul=p.__private__.getLineWidth=p.getLineWidth=function(){return Th},Ic=p.__private__.setLineWidth=p.setLineWidth=function(M){return Th=M,J(I(T(M))+" w"),this};p.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(M,ne){if(M=M||[],ne=ne||0,isNaN(ne)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map((function(be){return I(T(be))})).join(" "),ne=I(T(ne)),J("["+M+"] "+ne+" d"),this};var ru=p.__private__.getLineHeight=p.getLineHeight=function(){return Se*Oc};p.__private__.getLineHeight=p.getLineHeight=function(){return Se*Oc};var Oh=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Oc=M),this},Hi=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Oc};Oh(t.lineHeight);var fi=p.__private__.getHorizontalCoordinate=function(M){return T(M)},mi=p.__private__.getVerticalCoordinate=function(M){return _===w.ADVANCED?M:tr[L].mediaBox.topRightY-tr[L].mediaBox.bottomLeftY-T(M)},wf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(M){return I(fi(M))},$i=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(M){return I(mi(M))},pa=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Li(pa)},p.__private__.setStrokeColor=p.setDrawColor=function(M,ne,be,Be){return pa=ws({ch1:M,ch2:ne,ch3:be,ch4:Be,pdfColorType:"draw",precision:2}),J(pa),this};var nu=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Li(nu)},p.__private__.setFillColor=p.setFillColor=function(M,ne,be,Be){return nu=ws({ch1:M,ch2:ne,ch3:be,ch4:Be,pdfColorType:"fill",precision:2}),J(nu),this};var Xn=t.textColor||"0 g",Rl=p.__private__.getTextColor=p.getTextColor=function(){return Li(Xn)};p.__private__.setTextColor=p.setTextColor=function(M,ne,be,Be){return Xn=ws({ch1:M,ch2:ne,ch3:be,ch4:Be,pdfColorType:"text",precision:3}),this};var Ql=t.charSpace,Dc=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ql||0)};p.__private__.setCharSpace=p.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ql=M,this};var Ih=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(M){var ne=p.CapJoinStyles[M];if(ne===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ih=ne,J(ne+" J"),this};var Mc=0;p.__private__.setLineJoin=p.setLineJoin=function(M){var ne=p.CapJoinStyles[M];if(ne===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Mc=ne,J(ne+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(I(T(M))+" M"),this},p.GState=Eb,p.setGState=function(M){(M=typeof M=="string"?Br[Sn[M]]:su(null,M)).equals(ua)||(J("/"+M.id+" gs"),ua=M)};var su=function(M,ne){if(!M||!Sn[M]){var be=!1;for(var Be in Br)if(Br.hasOwnProperty(Be)&&Br[Be].equals(ne)){be=!0;break}if(be)ne=Br[Be];else{var He="GS"+(Object.keys(Br).length+1).toString(10);Br[He]=ne,ne.id=He}return M&&(Sn[M]=ne.id),Nr.publish("addGState",ne),ne}};p.addGState=function(M,ne){return su(M,ne),this},p.saveGraphicsState=function(){return J("q"),At.push({key:gt,size:Se,color:Xn}),this},p.restoreGraphicsState=function(){J("Q");var M=At.pop();return gt=M.key,Se=M.size,Xn=M.color,ua=null,this},p.setCurrentTransformationMatrix=function(M){return J(M.toString()+" cm"),this},p.comment=function(M){return J("#"+M),this};var uo=function(M,ne){var be=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(et){isNaN(et)||(be=parseFloat(et))}});var Be=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Be},set:function(et){isNaN(et)||(Be=parseFloat(et))}});var He="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return He},set:function(et){He=et.toString()}}),this},Hl=function(M,ne,be,Be){uo.call(this,M,ne),this.type="rect";var He=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return He},set:function(ct){isNaN(ct)||(He=parseFloat(ct))}});var et=Be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(ct){isNaN(ct)||(et=parseFloat(ct))}}),this},au=function(){this.page=An,this.currentPage=L,this.pages=xe.slice(0),this.pagesContext=tr.slice(0),this.x=Ze,this.y=Ue,this.matrix=Re,this.width=Wo(L),this.height=$l(L),this.outputDestination=Ie,this.id="",this.objectNumber=-1};au.prototype.restore=function(){An=this.page,L=this.currentPage,tr=this.pagesContext,xe=this.pages,Ze=this.x,Ue=this.y,Re=this.matrix,Dh(L,this.width),Mh(L,this.height),Ie=this.outputDestination};var jf=function(M,ne,be,Be,He){Di.push(new au),An=L=0,xe=[],Ze=M,Ue=ne,Re=He,kc([be,Be])},Wp=function(M){if(hi[M])Di.pop().restore();else{var ne=new au,be="Xo"+(Object.keys(ls).length+1).toString(10);ne.id=be,hi[M]=be,ls[be]=ne,Nr.publish("addFormObject",ne),Di.pop().restore()}};for(var iu in p.beginFormObject=function(M,ne,be,Be,He){return jf(M,ne,be,Be,He),this},p.endFormObject=function(M){return Wp(M),this},p.doFormObject=function(M,ne){var be=ls[hi[M]];return J("q"),J(ne.toString()+" cm"),J("/"+be.id+" Do"),J("Q"),this},p.getFormObject=function(M){var ne=ls[hi[M]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},p.save=function(M,ne){return M=M||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(pA(Pc(io()),M),typeof pA.unload=="function"&&Xt.setTimeout&&setTimeout(pA.unload,911),this):new Promise((function(be,Be){try{var He=pA(Pc(io()),M);typeof pA.unload=="function"&&Xt.setTimeout&&setTimeout(pA.unload,911),be(He)}catch(et){Be(et.message)}}))},Rt.API)Rt.API.hasOwnProperty(iu)&&(iu==="events"&&Rt.API.events.length?(function(M,ne){var be,Be,He;for(He=ne.length-1;He!==-1;He--)be=ne[He][0],Be=ne[He][1],M.subscribe.apply(M,[be].concat(typeof Be=="function"?[Be]:Be))})(Nr,Rt.API.events):p[iu]=Rt.API[iu]);var Wo=p.getPageWidth=function(M){return(tr[M=M||L].mediaBox.topRightX-tr[M].mediaBox.bottomLeftX)/ce},Dh=p.setPageWidth=function(M,ne){tr[M].mediaBox.topRightX=ne*ce+tr[M].mediaBox.bottomLeftX},$l=p.getPageHeight=function(M){return(tr[M=M||L].mediaBox.topRightY-tr[M].mediaBox.bottomLeftY)/ce},Mh=p.setPageHeight=function(M,ne){tr[M].mediaBox.topRightY=ne*ce+tr[M].mediaBox.bottomLeftY};return p.internal={pdfEscape:ma,getStyle:Fh,getFont:tu,getFontSize:Oe,getCharSpace:Dc,getTextColor:Rl,getLineHeight:ru,getLineHeightFactor:Hi,getLineWidth:Ul,write:Qe,getHorizontalCoordinate:fi,getVerticalCoordinate:mi,getCoordinateString:wf,getVerticalCoordinateString:$i,collections:{},newObject:fn,newAdditionalObject:Fl,newObjectDeferred:mn,newObjectDeferredBegin:Is,getFilters:Ui,putStream:Ha,events:Nr,scaleFactor:ce,pageSize:{getWidth:function(){return Wo(L)},setWidth:function(M){Dh(L,M)},getHeight:function(){return $l(L)},setHeight:function(M){Mh(L,M)}},encryptionOptions:u,encryption:gn,getEncryptor:oo,output:Ml,getNumberOfPages:Vp,pages:xe,out:J,f2:D,f3:N,getPageInfo:Ri,getPageInfoByObjId:Vt,getCurrentPageInfo:Tc,getPDFVersion:y,Point:uo,Rectangle:Hl,Matrix:Lt,hasHotfix:Fc},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Wo(L)},set:function(M){Dh(L,M)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return $l(L)},set:function(M){Mh(L,M)},enumerable:!0,configurable:!0}),Ec.call(p,ie),gt="F1",Eh(a,r),Nr.publish("initialized"),p}xm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},xm.prototype.toHexString=function(t){return t.split("").map((function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)})).join("")},xm.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},xm.prototype.processOwnerPassword=function(t,e){return SS(CS(e).substr(0,5),t)},xm.prototype.encryptor=function(t,e){var r=CS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(s){return SS(r,s)}},Eb.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Yr(t)!==Yr(this))return!1;var s=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;s++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&s--;return s===0},Rt.API={events:[]},Rt.version="2.5.2";var Vn=Rt.API,TE=1,of=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rm=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},lr=function(t){return t.toFixed(2)},Uu=function(t){return t.toFixed(5)};Vn.__acroform__={};var Oi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},MT=function(t){return t*TE},nc=function(t){var e=new w$,r=Ft.internal.getHeight(t)||0,s=Ft.internal.getWidth(t)||0;return e.BBox=[0,0,Number(lr(s)),Number(lr(r))],e},$le=Vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},qle=Vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},zle=Vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},ss=Vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return zle(t,e-1)},as=Vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $le(t,e-1)},is=Vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qle(t,e-1)},Vle=Vn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,s=e.internal.getVerticalCoordinate,a=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=s(i+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=s(i)||0,[Number(lr(c.lowerLeft_X)),Number(lr(c.lowerLeft_Y)),Number(lr(c.upperRight_X)),Number(lr(c.upperRight_Y))]},Kle=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,s=BS(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+lr(s.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=nc(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},BS=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,s={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map((function(N){return N.split(`
`)})):a.map((function(N){return[N]}));var i=r,o=Ft.internal.getHeight(t)||0;o=o<0?-o:o;var l=Ft.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(N,T,Q){if(N+1<a.length){var U=T+" "+a[N+1][0];return Xy(U,t,Q).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,u,h=Xy("3",t,i).height,f=t.multiline?o-i:(o-h)/2,p=f+=2,v=0,y=0,g=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Xy(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",w=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var k=!1;if(a[_].length!==1&&g!==a[_].length-1){if((h+2)*(w+2)+2>o)continue e;x+=a[_][g],k=!0,y=_,_--}else{x=(x+=a[_][g]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var C=parseInt(_),B=c(C,x,i),I=_>=a.length-1;if(B&&!I){x+=" ",g=0;continue}if(B||I){if(I)y=C;else if(t.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(w+2)+2>o)continue e;y=C}}for(var S="",E=v;E<=y;E++){var D=a[E];if(t.multiline){if(E===y){S+=D[g]+" ",g=(g+1)%D.length;continue}if(E===v){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=Xy(S,t,i).width,t.textAlign){case"right":d=l-u-2;break;case"center":d=(l-u)/2;break;case"left":default:d=2}e+=lr(d)+" "+lr(p)+` Td
`,e+="("+of(S)+`) Tj
`,e+=-lr(d)+` 0 Td
`,p=-(i+2),u=0,v=k?y:y+1,w++,x=""}break}return s.text=e,s.fontSize=i,s},Xy=function(t,e,r){var s=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:s,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},Wle={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Gle=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find((function(s){return s.type===r.type&&s.object===r.object}))===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Xle=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var s=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Yr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[s]}},Yle=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Sl.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Wle)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");TE=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new j$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",(function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)})),t.internal.events.subscribe("buildDocument",(function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var s=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in s)if(s.hasOwnProperty(a)){var i=s[a];i.objId=void 0,i.hasAnnotation&&Gle(i,r)}})(t)})),t.internal.events.subscribe("putCatalog",(function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)})),t.internal.events.subscribe("postPutPages",(function(r){(function(s,a){var i=!s;for(var o in s||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),s=s||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(s.hasOwnProperty(o)){var l=s[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=Vle(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Ft.createDefaultAppearanceStream(l),Yr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var u=Kle(l);c.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(l.appearanceStreamContent){var h="";for(var f in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(f)){var p=l.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),h+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),h+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&Xle(a.internal.acroformPlugin.xForms,a)})(r,t)})),t.internal.acroformPlugin.isInitialized=!0}},b$=Vn.__acroform__.arrayToPdfArray=function(t,e,r){var s=function(o){return o};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Yr(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(s=r.internal.getEncryptor(e)),a+="("+of(s(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$j=function(t,e,r){var s=function(a){return a};return e!==void 0&&r&&(s=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+of(s(t))+")"},dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};dc.prototype.toString=function(){return this.objId+" 0 R"},dc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},dc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter((function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"}));for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var s=e[r],a=this[s];a&&(Array.isArray(a)?t.push({key:s,value:b$(a,this.objId,this.scope)}):a instanceof dc?(a.scope=this.scope,t.push({key:s,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:s,value:a}))}return t};var w$=function(){dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Oi(w$,dc);var j$=function(){dc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(s){return s};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+of(r(t))+")"}},set:function(r){t=r}})};Oi(j$,dc);var Sl=function t(){dc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ss(e,3)},set:function(x){x?this.F=as(e,3):this.F=is(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var s=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(s.length!==0)return s},set:function(x){s=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[0])?0:s[0]},set:function(x){s[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[1])?0:s[1]},set:function(x){s[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[2])?0:s[2]},set:function(x){s[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!s||isNaN(s[3])?0:s[3]},set:function(x){s[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof kb)return;i="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+of(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/TE:d},set:function(x){d=x}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof kb||this instanceof RA))return $j(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Ks?f:$j(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Ks?x:x.substr(0,1)==="("?rm(x.substr(1,x.length-2)):rm(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks?rm(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Ks?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ks?p:$j(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Ks?x:x.substr(0,1)==="("?rm(x.substr(1,x.length-2)):rm(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ks?rm(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Ks?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(x){v=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,1)},set:function(x){x?this.Ff=as(this.Ff,1):this.Ff=is(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,2)},set:function(x){x?this.Ff=as(this.Ff,2):this.Ff=is(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,3)},set:function(x){x?this.Ff=as(this.Ff,3):this.Ff=is(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(g!==null)return g},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');g=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(g){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:g=2;break;case"center":case 1:g=1;break;case"left":case 0:default:g=0}}})};Oi(Sl,dc);var Rm=function(){Sl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b$(e,this.objId,this.scope)},set:function(r){var s,a;a=[],typeof(s=r)=="string"&&(a=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(s,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,s){for(s=s||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),s!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,18)},set:function(r){r?this.Ff=as(this.Ff,18):this.Ff=is(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=as(this.Ff,19):this.Ff=is(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,20)},set:function(r){r?(this.Ff=as(this.Ff,20),e.sort()):this.Ff=is(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,22)},set:function(r){r?this.Ff=as(this.Ff,22):this.Ff=is(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,23)},set:function(r){r?this.Ff=as(this.Ff,23):this.Ff=is(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,27)},set:function(r){r?this.Ff=as(this.Ff,27):this.Ff=is(this.Ff,27)}}),this.hasAppearanceStream=!1};Oi(Rm,Sl);var Qm=function(){Rm.call(this),this.fontName="helvetica",this.combo=!1};Oi(Qm,Rm);var Hm=function(){Qm.call(this),this.combo=!0};Oi(Hm,Qm);var rb=function(){Hm.call(this),this.edit=!0};Oi(rb,Hm);var Ks=function(){Sl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,15)},set:function(r){r?this.Ff=as(this.Ff,15):this.Ff=is(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,16)},set:function(r){r?this.Ff=as(this.Ff,16):this.Ff=is(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,17)},set:function(r){r?this.Ff=as(this.Ff,17):this.Ff=is(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,26)},set:function(r){r?this.Ff=as(this.Ff,26):this.Ff=is(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var s,a=[];for(s in a.push("<<"),e)a.push("/"+s+" ("+of(r(e[s]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Yr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Oi(Ks,Sl);var nb=function(){Ks.call(this),this.pushButton=!0};Oi(nb,Ks);var $m=function(){Ks.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Oi($m,Ks);var kb=function(){var t,e;Sl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),s)o.push("/"+i+" ("+of(a(s[i]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Yr(a)==="object"&&(s=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(a){typeof a=="string"&&(s.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Oi(kb,Sl),$m.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},$m.prototype.createOption=function(t){var e=new kb;return e.Parent=this,e.optionName=t,this.Kids.push(e),Jle.call(this.scope,e),e};var sb=function(){Ks.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};Oi(sb,Ks);var RA=function(){Sl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,13)},set:function(e){e?this.Ff=as(this.Ff,13):this.Ff=is(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,21)},set:function(e){e?this.Ff=as(this.Ff,21):this.Ff=is(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,23)},set:function(e){e?this.Ff=as(this.Ff,23):this.Ff=is(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,24)},set:function(e){e?this.Ff=as(this.Ff,24):this.Ff=is(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,25)},set:function(e){e?this.Ff=as(this.Ff,25):this.Ff=is(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,26)},set:function(e){e?this.Ff=as(this.Ff,26):this.Ff=is(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Oi(RA,Sl);var ab=function(){RA.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ss(this.Ff,14)},set:function(t){t?this.Ff=as(this.Ff,14):this.Ff=is(this.Ff,14)}}),this.password=!0};Oi(ab,RA);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=[],s=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=BS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+lr(Ft.internal.getWidth(t))+" "+lr(Ft.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+s+" "+lr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),a=[],i=Ft.internal.getHeight(t),o=Ft.internal.getWidth(t),l=BS(t,t.caption);return a.push("1 g"),a.push("0 0 "+lr(o)+" "+lr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+lr(o-1)+" "+lr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+lr(l.fontSize)+" Tf "+s),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Ft.internal.getWidth(t))+" "+lr(Ft.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Circle.YesNormal,e.D[t]=Ft.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var r=[],s=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Ft.internal.Bezier_C,i=Number((s*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Uu(Ft.internal.getWidth(t)/2)+" "+Uu(Ft.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=[],s=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5)),o=Number((s*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Ft.internal.getWidth(t)/2)+" "+Uu(Ft.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Ft.internal.getWidth(t)/2)+" "+Uu(Ft.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),r.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),r.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),r.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=[],s=Ft.internal.getWidth(t)<=Ft.internal.getHeight(t)?Ft.internal.getWidth(t)/4:Ft.internal.getHeight(t)/4;s=Number((.9*s).toFixed(5));var a=Number((2*s).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Uu(Ft.internal.getWidth(t)/2)+" "+Uu(Ft.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ft.RadioButton.Cross.YesNormal,e.D[t]=Ft.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nc(t);e.scope=t.scope;var r=[],s=Ft.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+lr(Ft.internal.getWidth(t)-2)+" "+lr(Ft.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(lr(s.x1.x)+" "+lr(s.x1.y)+" m"),r.push(lr(s.x2.x)+" "+lr(s.x2.y)+" l"),r.push(lr(s.x4.x)+" "+lr(s.x4.y)+" m"),r.push(lr(s.x3.x)+" "+lr(s.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=Ft.internal.calculateCross(t),s=[];return s.push("0.749023 g"),s.push("0 0 "+lr(Ft.internal.getWidth(t))+" "+lr(Ft.internal.getHeight(t))+" re"),s.push("f"),s.push("q"),s.push("1 1 "+lr(Ft.internal.getWidth(t)-2)+" "+lr(Ft.internal.getHeight(t)-2)+" re"),s.push("W"),s.push("n"),s.push(lr(r.x1.x)+" "+lr(r.x1.y)+" m"),s.push(lr(r.x2.x)+" "+lr(r.x2.y)+" l"),s.push(lr(r.x4.x)+" "+lr(r.x4.y)+" m"),s.push(lr(r.x3.x)+" "+lr(r.x3.y)+" l"),s.push("s"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=nc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+lr(Ft.internal.getWidth(t))+" "+lr(Ft.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ft.internal.getWidth(t),r=Ft.internal.getHeight(t),s=Math.min(e,r);return{x1:{x:(e-s)/2,y:(r-s)/2+s},x2:{x:(e-s)/2+s,y:(r-s)/2},x3:{x:(e-s)/2,y:(r-s)/2},x4:{x:(e-s)/2+s,y:(r-s)/2+s}}}},Ft.internal.getWidth=function(t){var e=0;return Yr(t)==="object"&&(e=MT(t.Rect[2])),e},Ft.internal.getHeight=function(t){var e=0;return Yr(t)==="object"&&(e=MT(t.Rect[3])),e};var Jle=Vn.addField=function(t){if(Yle(this,t),!(t instanceof Sl))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vn.AcroFormChoiceField=Rm,Vn.AcroFormListBox=Qm,Vn.AcroFormComboBox=Hm,Vn.AcroFormEditBox=rb,Vn.AcroFormButton=Ks,Vn.AcroFormPushButton=nb,Vn.AcroFormRadioButton=$m,Vn.AcroFormCheckBox=sb,Vn.AcroFormTextField=RA,Vn.AcroFormPasswordField=ab,Vn.AcroFormAppearance=Ft,Vn.AcroForm={ChoiceField:Rm,ListBox:Qm,ComboBox:Hm,EditBox:rb,Button:Ks,PushButton:nb,RadioButton:$m,CheckBox:sb,TextField:RA,PasswordField:ab,Appearance:Ft},Rt.AcroForm={ChoiceField:Rm,ListBox:Qm,ComboBox:Hm,EditBox:rb,Button:Ks,PushButton:nb,RadioButton:$m,CheckBox:sb,TextField:RA,PasswordField:ab,Appearance:Ft};Rt.AcroForm;function N$(t){return t.reduce((function(e,r,s){return e[r]=s,e}),{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(N,T){var Q,U,K,z,ee,G=e;if((T=T||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(B(N))for(ee in r)for(K=r[ee],Q=0;Q<K.length;Q+=1){for(z=!0,U=0;U<K[Q].length;U+=1)if(K[Q][U]!==void 0&&K[Q][U]!==N[U]){z=!1;break}if(z===!0){G=ee;break}}else for(ee in r)for(K=r[ee],Q=0;Q<K.length;Q+=1){for(z=!0,U=0;U<K[Q].length;U+=1)if(K[Q][U]!==void 0&&K[Q][U]!==N.charCodeAt(U)){z=!1;break}if(z===!0){G=ee;break}}return G===e&&T!==e&&(G=T),G},a=function N(T){for(var Q=this.internal.write,U=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:T.width}),z.push({key:"Height",value:T.height}),T.colorSpace===g.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===g.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var ee="",G=0,q=T.transparency.length;G<q;G++)ee+=T.transparency[G]+" "+T.transparency[G]+" ";z.push({key:"Mask",value:"["+ee+"]"})}T.sMask!==void 0&&z.push({key:"SMask",value:T.objectId+1+" 0 R"});var re=T.filter!==void 0?["/"+T.filter]:void 0;if(U({data:T.data,additionalKeyValues:z,alreadyAppliedFilters:re,objectId:T.objectId}),Q("endobj"),"sMask"in T&&T.sMask!==void 0){var Z="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,$={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:Z,data:T.sMask};"filter"in T&&($.filter=T.filter),N.call(this,$)}if(T.colorSpace===g.INDEXED){var L=this.internal.newObject();U({data:S(new Uint8Array(T.palette)),objectId:L}),Q("endobj")}},i=function(){var N=this.internal.collections.addImage_images;for(var T in N)a.call(this,N[T])},o=function(){var N,T=this.internal.collections.addImage_images,Q=this.internal.write;for(var U in T)Q("/I"+(N=T[U]).index,N.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var N=this.internal.collections.addImage_images;return l.call(this),N},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(N){return typeof t["process"+N.toUpperCase()]=="function"},h=function(N){return Yr(N)==="object"&&N.nodeType===1},f=function(N,T){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var Q=""+N.getAttribute("src");if(Q.indexOf("data:image/")===0)return i0(unescape(Q).split("base64,").pop());var U=t.loadFile(Q,!0);if(U!==void 0)return U}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var K;switch(T){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return i0(N.toDataURL(K,1).split("base64,").pop())}},p=function(N){var T=this.internal.collections.addImage_images;if(T){for(var Q in T)if(N===T[Q].alias)return T[Q]}},v=function(N,T,Q){return N||T||(N=-96,T=-96),N<0&&(N=-1*Q.width*72/N/this.internal.scaleFactor),T<0&&(T=-1*Q.height*72/T/this.internal.scaleFactor),N===0&&(N=T*Q.width/Q.height),T===0&&(T=N*Q.height/Q.width),[N,T]},y=function(N,T,Q,U,K,z){var ee=v.call(this,Q,U,K),G=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,re=c.call(this);if(Q=ee[0],U=ee[1],re[K.index]=K,z){z*=Math.PI/180;var Z=Math.cos(z),$=Math.sin(z),L=function(X){return X.toFixed(4)},Y=[L(Z),L($),L(-1*$),L(Z),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,G(N),q(T+U),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([G(Q),"0","0",G(U),"0","0","cm"].join(" "))):this.internal.write([G(Q),"0","0",G(U),G(N),q(T+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(N){var T,Q,U=0;if(typeof N=="string")for(Q=N.length,T=0;T<Q;T++)U=(U<<5)-U+N.charCodeAt(T),U|=0;else if(B(N))for(Q=N.byteLength/2,T=0;T<Q;T++)U=(U<<5)-U+N[T],U|=0;return U},_=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var T=!0;return N.length===0&&(T=!1),N.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(T=!1),T},k=t.__addimage__.extractImageFromDataUrl=function(N){var T=(N=N||"").split("base64,"),Q=null;if(T.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(U)&&(Q={mimeType:U[1],charset:U[2],data:T[1]})}return Q},C=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return C()&&N instanceof ArrayBuffer};var B=t.__addimage__.isArrayBufferView=function(N){return C()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(N){for(var T=N.length,Q=new Uint8Array(T),U=0;U<T;U++)Q[U]=N.charCodeAt(U);return Q},S=t.__addimage__.arrayBufferToBinaryString=function(N){for(var T="",Q=B(N)?N:new Uint8Array(N),U=0;U<Q.length;U+=8192)T+=String.fromCharCode.apply(null,Q.subarray(U,U+8192));return T};t.addImage=function(){var N,T,Q,U,K,z,ee,G,q;if(typeof arguments[1]=="number"?(T=e,Q=arguments[1],U=arguments[2],K=arguments[3],z=arguments[4],ee=arguments[5],G=arguments[6],q=arguments[7]):(T=arguments[1],Q=arguments[2],U=arguments[3],K=arguments[4],z=arguments[5],ee=arguments[6],G=arguments[7],q=arguments[8]),Yr(N=arguments[0])==="object"&&!h(N)&&"imageData"in N){var re=N;N=re.imageData,T=re.format||T||e,Q=re.x||Q||0,U=re.y||U||0,K=re.w||re.width||K,z=re.h||re.height||z,ee=re.alias||ee,G=re.compression||G,q=re.rotation||re.angle||q}var Z=this.internal.getFilters();if(G===void 0&&Z.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(Q)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=E.call(this,N,T,ee,G);return y.call(this,Q,U,K,z,$,q),this};var E=function(N,T,Q,U){var K,z,ee;if(typeof N=="string"&&s(N)===e){N=unescape(N);var G=D(N,!1);(G!==""||(G=t.loadFile(N,!0))!==void 0)&&(N=G)}if(h(N)&&(N=f(N,T)),T=s(N,T),!u(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((ee=Q)==null||ee.length===0)&&(Q=(function(q){return typeof q=="string"||B(q)?w(q):B(q.data)?w(q.data):null})(N)),(K=p.call(this,Q))||(C()&&(N instanceof Uint8Array||T==="RGBA"||(z=N,N=I(N))),K=this["process"+T.toUpperCase()](N,d.call(this),Q,(function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:x.NONE})(U),z)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},D=t.__addimage__.convertBase64ToBinaryString=function(N,T){var Q;T=typeof T!="boolean"||T;var U,K="";if(typeof N=="string"){U=(Q=k(N))!==null?Q.data:N;try{K=i0(U)}catch(z){if(T)throw _(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};t.getImageProperties=function(N){var T,Q,U="";if(h(N)&&(N=f(N)),typeof N=="string"&&s(N)===e&&((U=D(N,!1))===""&&(U=t.loadFile(N)||""),N=U),Q=s(N),!u(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(!C()||N instanceof Uint8Array||(N=I(N)),!(T=this["process"+Q.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=Q,T}})(Rt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Rt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var s,a,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,u=!1,h=0;h<d.length&&!u;h++)switch((s=d[h]).type){case"link":(e(s.options.url)||e(s.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<d.length;f++){s=d[f];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(s.type){case"reference":this.internal.write(" "+s.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),w=s.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y)+"] ")+"/Contents ("+p(x(s.contents))+")",i+=" /Popup "+g.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+p(x(w))+") >>",y.content=i;var _=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(s.bounds.x+30)+" "+l(s.bounds.y+s.bounds.h)+" "+o(s.bounds.x+s.bounds.w+30)+" "+l(s.bounds.y)+"] ")+" /Parent "+_,s.open&&(i+=" /Open true"),i+=" >>",g.content=i,this.internal.write(y.objId,"0 R",g.objId,"0 R");break;case"freetext":a="/Rect ["+o(s.bounds.x)+" "+l(s.bounds.y)+" "+o(s.bounds.x+s.bounds.w)+" "+l(s.bounds.y+s.bounds.h)+"] ";var k=s.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(s.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(s.options.name){var C=this.annotations._nameMap[s.options.name];s.options.pageNumber=C.page,s.options.top=C.y}else s.options.top||(s.options.top=0);if(a="/Rect ["+s.finalBounds.x+" "+s.finalBounds.y+" "+s.finalBounds.w+" "+s.finalBounds.h+"] ",i="",s.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(s.options.url))+") >>";else if(s.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(s.options.pageNumber).objId+" 0 R",s.options.magFactor=s.options.magFactor||"XYZ",s.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+s.options.top+"]";break;case"FitV":s.options.left=s.options.left||0,i+=" /FitV "+s.options.left+"]";break;case"XYZ":default:var B=l(s.options.top);s.options.left=s.options.left||0,s.options.zoom===void 0&&(s.options.zoom=0),i+=" /XYZ "+s.options.left+" "+B+" "+s.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var s=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":s.pageContext.annotations.push(r)}},t.link=function(r,s,a,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(s),w:c(r+a),h:d(s+i)},options:o,type:"link"})},t.textWithLink=function(r,s,a,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var u=this.splitTextToSize(r,l).length;o=Math.ceil(d*u)}else l=c,o=d;return this.text(r,s,a,i),a+=.2*d,i.align==="center"&&(s-=c/2),i.align==="right"&&(s-=c),this.link(s,a-d,l,o,i),c},t.getTextWidth=function(r){var s=this.internal.getFontSize();return this.getStringUnitWidth(r)*s/this.internal.scaleFactor}})(Rt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},s={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&a.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&i(y)&&e[y.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(y){var g=0,x=r,w="",_=0;for(g=0;g<y.length;g+=1)x[y.charCodeAt(g)]!==void 0?(_++,typeof(x=x[y.charCodeAt(g)])=="number"&&(w+=String.fromCharCode(x),x=r,_=0),g===y.length-1&&(x=r,w+=y.charAt(g-(_-1)),g-=_-1,_=0)):(x=r,w+=y.charAt(g-_),g-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&s[y.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(y,g,x){return o(y)?i(y)===!1?-1:!d(y)||!o(g)&&!o(x)||!o(x)&&l(g)||l(y)&&!o(g)||l(y)&&c(g)||l(y)&&l(g)?0:u(y)&&o(g)&&!l(g)&&o(x)&&d(x)?3:l(y)||!o(x)?1:2:-1},p=function(y){var g=0,x=0,w=0,_="",k="",C="",B=(y=y||"").split("\\s+"),I=[];for(g=0;g<B.length;g+=1){for(I.push(""),x=0;x<B[g].length;x+=1)_=B[g][x],k=B[g][x-1],C=B[g][x+1],o(_)?(w=f(_,k,C),I[g]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):I[g]+=_;I[g]=h(I[g])}return I.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var y,g=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(g)){var w=0;for(x=[],w=0;w<g.length;w+=1)Array.isArray(g[w])?x.push([p(g[w][0]),g[w][1],g[w][2]]):x.push([p(g[w])]);y=x}else y=p(g);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",v])})(Rt.API),Rt.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+e+" 0 R")}))}return this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var s=150;Object.defineProperty(this,"width",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=s+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,s){var a;if((r=r||"2d")!=="2d")return null;for(a in s)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=s[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Rt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,s=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(y){v=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return s.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){s.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),h=d.font||this.getFont(),f=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,y=0,g=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce((function(_,k){return _.concat(g.splitTextToSize(k,x))}),[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)p<(y=this.getStringUnitWidth(c[w],{font:h})*u)&&(p=y);return p!==0&&(v=c.length),{w:p/=f,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){s.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,u,h,f){if(s.call(this),!u)throw new Error("No data for PDF table.");var p,v,y,g,x=[],w=[],_=[],k={},C={},B=[],I=[],S=(f=f||{}).autoSize||!1,E=f.printHeaders!==!1,D=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,N=f.margins||Object.assign({width:this.getPageWidth()},e),T=typeof f.padding=="number"?f.padding:3,Q=f.headerBackgroundColor||"#c8c8c8",U=f.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=E,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=U,this.setFontSize(D),h==null)w=x=Object.keys(u[0]),_=x.map((function(){return"left"}));else if(Array.isArray(h)&&Yr(h[0])==="object")for(x=h.map((function(re){return re.name})),w=h.map((function(re){return re.prompt||re.name||""})),_=h.map((function(re){return re.align||"left"})),p=0;p<h.length;p+=1)C[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(w=x=h,_=x.map((function(){return"left"})));if(S||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<x.length;p+=1){for(k[g=x[p]]=u.map((function(re){return re[g]})),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=k[g],this.setFont(void 0,"normal"),y=0;y<v.length;y+=1)B.push(this.getTextDimensions(v[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[g]=Math.max.apply(null,B)+T+T,B=[]}if(E){var K={};for(p=0;p<x.length;p+=1)K[x[p]]={},K[x[p]].text=w[p],K[x[p]].align=_[p];var z=l.call(this,K,C);I=x.map((function(re){return new i(c,d,C[re],z,K[re].text,void 0,K[re].align)})),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ee=h.reduce((function(re,Z){return re[Z.name]=Z.align,re}),{});for(p=0;p<u.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:u[p]},this);var G=l.call(this,u[p],C);for(y=0;y<x.length;y+=1){var q=u[p][x[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:y,data:q},this),o.call(this,new i(c,d,C[x[y]],G,q,p+2,ee[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var u=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map((function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-u-u)}),this).map((function(p){return this.getLineHeightFactor()*p.length*h/f+u+u}),this).reduce((function(p,v){return Math.max(p,v)}),0)};t.setTableHeaderRow=function(c){s.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(v)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}})(Rt.API);var _$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ES=N$(C$),S$=[100,200,300,400,500,600,700,800,900],Zle=N$(S$);function kS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return _$[i=i||"normal"]?i:"normal"})(t.style),s=(function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}})(t.weight),a=(function(i){return typeof ES[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:s,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,s].join(" ")}}}function LT(t,e,r,s){var a;for(a=r;a>=0&&a<e.length;a+=s)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=s)if(t[e[a]])return t[e[a]]}var ece={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},UT={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function RT(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function tce(t,e,r){for(var s=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},ece,r.genericFontFamilies||{}),i=null,o=null,l=0;l<e.length;++l)if(a[(i=kS(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){o=t[i.family];break}if(!(o=o||t[s]))throw new Error("Could not find a font-family for the rule '"+RT(i)+"' and default family '"+s+"'.");if(o=(function(c,d){if(d[c])return d[c];var u=ES[c],h=u<=ES.normal?-1:1,f=LT(d,C$,u,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+c);return f})(i.stretch,o),o=(function(c,d){if(d[c])return d[c];for(var u=_$[c],h=0;h<u.length;++h)if(d[u[h]])return d[u[h]];throw new Error("Could not find a matching font-style for "+c)})(i.style,o),!(o=(function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var u=Zle[c],h=LT(d,S$,u,c<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+c);return h})(i.weight,o)))throw new Error("Failed to resolve a font for the rule '"+RT(i)+"'.");return o}function QT(t){return t.trimLeft()}function rce(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function nce(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Yy,HT,$T,qj=["times"];(function(t){var e,r,s,a,i,o,l,c,d,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new c,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new o,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new o,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var L=$;Object.defineProperty(this,"pdf",{get:function(){return L}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Le){Y=!!Le}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Le){X=!!Le}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(Le){isNaN(Le)||(Ae=Le)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Le){isNaN(Le)||(fe=Le)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(Le){var J;typeof Le=="number"?J=[Le,Le,Le,Le]:((J=new Array(4))[0]=Le[0],J[1]=Le.length>=2?Le[1]:J[0],J[2]=Le.length>=3?Le[2]:J[0],J[3]=Le.length>=4?Le[3]:J[1]),d.margin=J}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(Le){de=Le}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Le){me=Le}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(Le){Ce=Le}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(Le){Le instanceof u&&(d=Le)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(Le){d.path=Le}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(Le){xe=Le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Le){var J;J=f(Le),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Le){var J=f(Le);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Le){["butt","round","square"].indexOf(Le)!==-1&&(this.ctx.lineCap=Le,this.pdf.setLineCap(Le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Le){isNaN(Le)||(this.ctx.lineWidth=Le,this.pdf.setLineWidth(Le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Le){["bevel","round","miter"].indexOf(Le)!==-1&&(this.ctx.lineJoin=Le,this.pdf.setLineJoin(Le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Le){isNaN(Le)||(this.ctx.miterLimit=Le,this.pdf.setMiterLimit(Le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Le){this.ctx.textBaseline=Le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Le){["right","end","center","left","start"].indexOf(Le)!==-1&&(this.ctx.textAlign=Le)}});var we=null;function Ie(Le,J){if(we===null){var Qe=(function(je){var ie=[];return Object.keys(je).forEach((function(Se){je[Se].forEach((function(We){var Oe=null;switch(We){case"bold":Oe={family:Se,weight:"bold"};break;case"italic":Oe={family:Se,style:"italic"};break;case"bolditalic":Oe={family:Se,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Se}}Oe!==null&&(Oe.ref={name:Se,style:We},ie.push(Oe))}))})),ie})(Le.getFontList());we=(function(je){for(var ie={},Se=0;Se<je.length;++Se){var We=kS(je[Se]),Oe=We.family,ve=We.stretch,st=We.style,Ne=We.weight;ie[Oe]=ie[Oe]||{},ie[Oe][ve]=ie[Oe][ve]||{},ie[Oe][ve][st]=ie[Oe][ve][st]||{},ie[Oe][ve][st][Ne]=We}return ie})(Qe.concat(J))}return we}var lt=null;Object.defineProperty(this,"fontFaces",{get:function(){return lt},set:function(Le){we=null,lt=Le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Le){var J;if(this.ctx.font=Le,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Le))!==null){var Qe=J[1],je=(J[2],J[3]),ie=J[4],Se=(J[5],J[6]),We=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ie)[2];ie=Math.floor(We==="px"?parseFloat(ie)*this.pdf.internal.scaleFactor:We==="em"?parseFloat(ie)*this.pdf.getFontSize():parseFloat(ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ie);var Oe=(function(yt){var gt,ce,Ze=[],Ue=yt.trim();if(Ue==="")return qj;if(Ue in UT)return[UT[Ue]];for(;Ue!=="";){switch(ce=null,gt=(Ue=QT(Ue)).charAt(0)){case'"':case"'":ce=rce(Ue.substring(1),gt);break;default:ce=nce(Ue)}if(ce===null||(Ze.push(ce[0]),(Ue=QT(ce[1]))!==""&&Ue.charAt(0)!==","))return qj;Ue=Ue.replace(/^,/,"")}return Ze})(Se);if(this.fontFaces){var ve=tce(Ie(this.pdf,this.fontFaces),Oe.map((function(yt){return{family:yt,stretch:"normal",weight:je,style:Qe}})));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var st="";(je==="bold"||parseInt(je,10)>=700||Qe==="bold")&&(st="bold"),Qe==="italic"&&(st+="italic"),st.length===0&&(st="normal");for(var Ne="",ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Je=0;Je<Oe.length;Je++){if(this.pdf.internal.getFont(Oe[Je],st,{noFallback:!0,disableWarning:!0})!==void 0){Ne=Oe[Je];break}if(st==="bolditalic"&&this.pdf.internal.getFont(Oe[Je],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ne=Oe[Je],st="bold";else if(this.pdf.internal.getFont(Oe[Je],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ne=Oe[Je],st="normal";break}}if(Ne===""){for(var Ve=0;Ve<Oe.length;Ve++)if(ge[Oe[Ve]]){Ne=ge[Oe[Ve]];break}}Ne=Ne===""?"Times":Ne,this.pdf.setFont(Ne,st)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Le){this.ctx.globalCompositeOperation=Le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Le){this.ctx.globalAlpha=Le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Le){this.ctx.lineDashOffset=Le,Z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Le){this.ctx.lineDash=Le,Z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Le){this.ctx.ignoreClearRect=!!Le}})};h.prototype.setLineDash=function($){this.lineDash=$},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){k.call(this,"fill",!1)},h.prototype.stroke=function(){k.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function($,L){if(isNaN($)||isNaN(L))throw tn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o($,L));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o($,L)},h.prototype.closePath=function(){var $=new o(0,0),L=0;for(L=this.path.length-1;L!==-1;L--)if(this.path[L].type==="begin"&&Yr(this.path[L+1])==="object"&&typeof this.path[L+1].x=="number"){$=new o(this.path[L+1].x,this.path[L+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o($.x,$.y)},h.prototype.lineTo=function($,L){if(isNaN($)||isNaN(L))throw tn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o($,L));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},h.prototype.quadraticCurveTo=function($,L,Y,X){if(isNaN(Y)||isNaN(X)||isNaN($)||isNaN(L))throw tn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(Y,X)),fe=this.ctx.transform.applyToPoint(new o($,L));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},h.prototype.bezierCurveTo=function($,L,Y,X,Ae,fe){if(isNaN(Ae)||isNaN(fe)||isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X))throw tn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new o(Ae,fe)),me=this.ctx.transform.applyToPoint(new o($,L)),Ce=this.ctx.transform.applyToPoint(new o(Y,X));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Ce.x,y2:Ce.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},h.prototype.arc=function($,L,Y,X,Ae,fe){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(Ae))throw tn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new o($,L));$=de.x,L=de.y;var me=this.ctx.transform.applyToPoint(new o(0,Y)),Ce=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(me.x-Ce.x,2)+Math.pow(me.y-Ce.y,2))}Math.abs(Ae-X)>=2*Math.PI&&(X=0,Ae=2*Math.PI),this.path.push({type:"arc",x:$,y:L,radius:Y,startAngle:X,endAngle:Ae,counterclockwise:fe})},h.prototype.arcTo=function($,L,Y,X,Ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function($,L,Y,X){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X))throw tn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,L),this.lineTo($+Y,L),this.lineTo($+Y,L+X),this.lineTo($,L+X),this.lineTo($,L),this.lineTo($+Y,L),this.lineTo($,L)},h.prototype.fillRect=function($,L,Y,X){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X))throw tn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Ae={};this.lineCap!=="butt"&&(Ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,L,Y,X),this.fill(),Ae.hasOwnProperty("lineCap")&&(this.lineCap=Ae.lineCap),Ae.hasOwnProperty("lineJoin")&&(this.lineJoin=Ae.lineJoin)}},h.prototype.strokeRect=function($,L,Y,X){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X))throw tn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect($,L,Y,X),this.stroke())},h.prototype.clearRect=function($,L,Y,X){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X))throw tn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,L,Y,X))},h.prototype.save=function($){$=typeof $!="boolean"||$;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(L),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},h.prototype.restore=function($){$=typeof $!="boolean"||$;for(var L=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(L),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function($){var L,Y,X,Ae;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))L=0,Y=0,X=0,Ae=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(fe!==null)L=parseInt(fe[1]),Y=parseInt(fe[2]),X=parseInt(fe[3]),Ae=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)L=parseInt(fe[1]),Y=parseInt(fe[2]),X=parseInt(fe[3]),Ae=parseFloat(fe[4]);else{if(Ae=1,typeof $=="string"&&$.charAt(0)!=="#"){var de=new x$($);$=de.ok?de.toHex():"#000000"}$.length===4?(L=$.substring(1,2),L+=L,Y=$.substring(2,3),Y+=Y,X=$.substring(3,4),X+=X):(L=$.substring(1,3),Y=$.substring(3,5),X=$.substring(5,7)),L=parseInt(L,16),Y=parseInt(Y,16),X=parseInt(X,16)}}return{r:L,g:Y,b:X,a:Ae,style:$}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function($,L,Y,X){if(isNaN(L)||isNaN(Y)||typeof $!="string")throw tn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!p.call(this)){var Ae=G(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:$,x:L,y:Y,scale:fe,angle:Ae,align:this.textAlign,maxWidth:X})}},h.prototype.strokeText=function($,L,Y,X){if(isNaN(L)||isNaN(Y)||typeof $!="string")throw tn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){X=isNaN(X)?void 0:X;var Ae=G(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;T.call(this,{text:$,x:L,y:Y,scale:fe,renderingMode:"stroke",angle:Ae,align:this.textAlign,maxWidth:X})}},h.prototype.measureText=function($){if(typeof $!="string")throw tn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var L=this.pdf,Y=this.pdf.internal.scaleFactor,X=L.internal.getFontSize(),Ae=L.getStringUnitWidth($)*X/L.internal.scaleFactor,fe=function(de){var me=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new fe({width:Ae*=Math.round(96*Y/72*1e4)/1e4})},h.prototype.scale=function($,L){if(isNaN($)||isNaN(L))throw tn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c($,0,0,L,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.rotate=function($){if(isNaN($))throw tn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var L=new c(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(L)},h.prototype.translate=function($,L){if(isNaN($)||isNaN(L))throw tn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,$,L);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.transform=function($,L,Y,X,Ae,fe){if(isNaN($)||isNaN(L)||isNaN(Y)||isNaN(X)||isNaN(Ae)||isNaN(fe))throw tn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c($,L,Y,X,Ae,fe);this.ctx.transform=this.ctx.transform.multiply(de)},h.prototype.setTransform=function($,L,Y,X,Ae,fe){$=isNaN($)?1:$,L=isNaN(L)?0:L,Y=isNaN(Y)?0:Y,X=isNaN(X)?1:X,Ae=isNaN(Ae)?0:Ae,fe=isNaN(fe)?0:fe,this.ctx.transform=new c($,L,Y,X,Ae,fe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function($,L,Y,X,Ae,fe,de,me,Ce){var xe=this.pdf.getImageProperties($),we=1,Ie=1,lt=1,Le=1;X!==void 0&&me!==void 0&&(lt=me/X,Le=Ce/Ae,we=xe.width/X*me/X,Ie=xe.height/Ae*Ce/Ae),fe===void 0&&(fe=L,de=Y,L=0,Y=0),X!==void 0&&me===void 0&&(me=X,Ce=Ae),X===void 0&&me===void 0&&(me=xe.width,Ce=xe.height);for(var J,Qe=this.ctx.transform.decompose(),je=G(Qe.rotate.shx),ie=new c,Se=(ie=(ie=(ie=ie.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new l(fe-L*lt,de-Y*Le,X*we,Ae*Ie)),We=g.call(this,Se),Oe=[],ve=0;ve<We.length;ve+=1)Oe.indexOf(We[ve])===-1&&Oe.push(We[ve]);if(_(Oe),this.autoPaging)for(var st=Oe[0],Ne=Oe[Oe.length-1],ge=st;ge<Ne+1;ge++){this.pdf.setPage(ge);var Je=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=ge===1?this.posY+this.margin[0]:this.margin[0],yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ce=ge===1?0:yt+(ge-2)*gt;if(this.ctx.clip_path.length!==0){var Ze=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-ce+Ve+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Ze}var Ue=JSON.parse(JSON.stringify(Se));Ue=w([Ue],this.posX+this.margin[3],-ce+Ve+this.ctx.prevPageLastElemOffset)[0];var Re=(ge>st||ge<Ne)&&y.call(this);Re&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,gt,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,je),Re&&this.pdf.restoreGraphicsState()}else this.pdf.addImage($,"JPEG",Se.x,Se.y,Se.w,Se.h,null,null,je)};var g=function($,L,Y){var X=[];L=L||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":X.push(Math.floor(($.y+Ae)/Y)+1);break;case"arc":X.push(Math.floor(($.y+Ae-$.radius)/Y)+1),X.push(Math.floor(($.y+Ae+$.radius)/Y)+1);break;case"qct":var fe=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);X.push(Math.floor((fe.y+Ae)/Y)+1),X.push(Math.floor((fe.y+fe.h+Ae)/Y)+1);break;case"bct":var de=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);X.push(Math.floor((de.y+Ae)/Y)+1),X.push(Math.floor((de.y+de.h+Ae)/Y)+1);break;case"rect":X.push(Math.floor(($.y+Ae)/Y)+1),X.push(Math.floor(($.y+$.h+Ae)/Y)+1)}for(var me=0;me<X.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<X[me];)x.call(this);return X},x=function(){var $=this.fillStyle,L=this.strokeStyle,Y=this.font,X=this.lineCap,Ae=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=L,this.font=Y,this.lineCap=X,this.lineWidth=Ae,this.lineJoin=fe},w=function($,L,Y){for(var X=0;X<$.length;X++)switch($[X].type){case"bct":$[X].x2+=L,$[X].y2+=Y;case"qct":$[X].x1+=L,$[X].y1+=Y;case"mt":case"lt":case"arc":default:$[X].x+=L,$[X].y+=Y}return $},_=function($){return $.sort((function(L,Y){return L-Y}))},k=function($,L){for(var Y,X,Ae=this.fillStyle,fe=this.strokeStyle,de=this.lineCap,me=this.lineWidth,Ce=Math.abs(me*this.ctx.transform.scaleX),xe=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),lt=[],Le=0;Le<Ie.length;Le++)if(Ie[Le].x!==void 0)for(var J=g.call(this,Ie[Le]),Qe=0;Qe<J.length;Qe+=1)lt.indexOf(J[Qe])===-1&&lt.push(J[Qe]);for(var je=0;je<lt.length;je++)for(;this.pdf.internal.getNumberOfPages()<lt[je];)x.call(this);if(_(lt),this.autoPaging)for(var ie=lt[0],Se=lt[lt.length-1],We=ie;We<Se+1;We++){this.pdf.setPage(We),this.fillStyle=Ae,this.strokeStyle=fe,this.lineCap=de,this.lineWidth=Ce,this.lineJoin=xe;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=We===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=We===1?0:st+(We-2)*Ne;if(this.ctx.clip_path.length!==0){var Je=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Y,this.posX+this.margin[3],-ge+ve+this.ctx.prevPageLastElemOffset),C.call(this,$,!0),this.path=Je}if(X=JSON.parse(JSON.stringify(we)),this.path=w(X,this.posX+this.margin[3],-ge+ve+this.ctx.prevPageLastElemOffset),L===!1||We===0){var Ve=(We>ie||We<Se)&&y.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Ne,null).clip().discardPath()),C.call(this,$,L),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Ce,C.call(this,$,L),this.lineWidth=me;this.path=we},C=function($,L){if(($!=="stroke"||L||!v.call(this))&&($==="stroke"||L||!p.call(this))){for(var Y,X,Ae=[],fe=this.path,de=0;de<fe.length;de++){var me=fe[de];switch(me.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:me,deltas:[],abs:[]});break;case"lt":var Ce=Ae.length;if(fe[de-1]&&!isNaN(fe[de-1].x)&&(Y=[me.x-fe[de-1].x,me.y-fe[de-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Ae[Ce-1].close!==!0&&Ae[Ce-1].begin!==!0){Ae[Ce-1].deltas.push(Y),Ae[Ce-1].abs.push(me);break}}break;case"bct":Y=[me.x1-fe[de-1].x,me.y1-fe[de-1].y,me.x2-fe[de-1].x,me.y2-fe[de-1].y,me.x-fe[de-1].x,me.y-fe[de-1].y],Ae[Ae.length-1].deltas.push(Y);break;case"qct":var xe=fe[de-1].x+2/3*(me.x1-fe[de-1].x),we=fe[de-1].y+2/3*(me.y1-fe[de-1].y),Ie=me.x+2/3*(me.x1-me.x),lt=me.y+2/3*(me.y1-me.y),Le=me.x,J=me.y;Y=[xe-fe[de-1].x,we-fe[de-1].y,Ie-fe[de-1].x,lt-fe[de-1].y,Le-fe[de-1].x,J-fe[de-1].y],Ae[Ae.length-1].deltas.push(Y);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(me)}}X=L?null:$==="stroke"?"stroke":"fill";for(var Qe=!1,je=0;je<Ae.length;je++)if(Ae[je].arc)for(var ie=Ae[je].abs,Se=0;Se<ie.length;Se++){var We=ie[Se];We.type==="arc"?S.call(this,We.x,We.y,We.radius,We.startAngle,We.endAngle,We.counterclockwise,void 0,L,!Qe):Q.call(this,We.x,We.y),Qe=!0}else if(Ae[je].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(Ae[je].begin!==!0){var Oe=Ae[je].start.x,ve=Ae[je].start.y;U.call(this,Ae[je].deltas,Oe,ve),Qe=!0}X&&E.call(this,X),L&&D.call(this)}},B=function($){var L=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=L*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-Y;case"top":return $+L-Y;case"hanging":return $+L-2*Y;case"middle":return $+L/2-Y;case"ideographic":return $;case"alphabetic":default:return $}},I=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(L,Y){this.colorStops.push([L,Y])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function($,L,Y,X,Ae,fe,de,me,Ce){for(var xe=z.call(this,Y,X,Ae,fe),we=0;we<xe.length;we++){var Ie=xe[we];we===0&&(Ce?N.call(this,Ie.x1+$,Ie.y1+L):Q.call(this,Ie.x1+$,Ie.y1+L)),K.call(this,$,L,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}me?D.call(this):E.call(this,de)},E=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},N=function($,L){this.pdf.internal.out(r($)+" "+s(L)+" m")},T=function($){var L;switch($.align){case"right":case"end":L="right";break;case"center":L="center";break;case"left":case"start":default:L="left"}var Y=this.pdf.getTextDimensions($.text),X=B.call(this,$.y),Ae=I.call(this,X)-Y.h,fe=this.ctx.transform.applyToPoint(new o($.x,X)),de=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ce,xe,we,Ie=this.ctx.transform.applyToRectangle(new l($.x,X,Y.w,Y.h)),lt=me.applyToRectangle(new l($.x,Ae,Y.w,Y.h)),Le=g.call(this,lt),J=[],Qe=0;Qe<Le.length;Qe+=1)J.indexOf(Le[Qe])===-1&&J.push(Le[Qe]);if(_(J),this.autoPaging)for(var je=J[0],ie=J[J.length-1],Se=je;Se<ie+1;Se++){this.pdf.setPage(Se);var We=Se===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],st=ve-this.margin[0],Ne=this.pdf.internal.pageSize.width-this.margin[1],ge=Ne-this.margin[3],Je=Se===1?0:Oe+(Se-2)*st;if(this.ctx.clip_path.length!==0){var Ve=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ce,this.posX+this.margin[3],-1*Je+We),C.call(this,"fill",!0),this.path=Ve}var yt=w([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Je+We+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*$.scale),we=this.lineWidth,this.lineWidth=we*$.scale);var gt=this.autoPaging!=="text";if(gt||yt.y+yt.h<=ve){if(gt||yt.y>=We&&yt.x<=Ne){var ce=gt?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||Ne-yt.x)[0],Ze=w([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-Je+We+this.ctx.prevPageLastElemOffset)[0],Ue=gt&&(Se>je||Se<ie)&&y.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,st,null).clip().discardPath()),this.pdf.text(ce,Ze.x,Ze.y,{angle:$.angle,align:L,renderingMode:$.renderingMode}),Ue&&this.pdf.restoreGraphicsState()}}else yt.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-yt.y);$.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=we)}else $.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*$.scale),we=this.lineWidth,this.lineWidth=we*$.scale),this.pdf.text($.text,fe.x+this.posX,fe.y+this.posY,{angle:$.angle,align:L,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=we)},Q=function($,L,Y,X){Y=Y||0,X=X||0,this.pdf.internal.out(r($+Y)+" "+s(L+X)+" l")},U=function($,L,Y){return this.pdf.lines($,L,Y,null,null)},K=function($,L,Y,X,Ae,fe,de,me){this.pdf.internal.out([e(a(Y+$)),e(i(X+L)),e(a(Ae+$)),e(i(fe+L)),e(a(de+$)),e(i(me+L)),"c"].join(" "))},z=function($,L,Y,X){for(var Ae=2*Math.PI,fe=Math.PI/2;L>Y;)L-=Ae;var de=Math.abs(Y-L);de<Ae&&X&&(de=Ae-de);for(var me=[],Ce=X?-1:1,xe=L;de>1e-5;){var we=xe+Ce*Math.min(de,fe);me.push(ee.call(this,$,xe,we)),de-=Math.abs(we-xe),xe=we}return me},ee=function($,L,Y){var X=(Y-L)/2,Ae=$*Math.cos(X),fe=$*Math.sin(X),de=Ae,me=-fe,Ce=de*de+me*me,xe=Ce+de*Ae+me*fe,we=4/3*(Math.sqrt(2*Ce*xe)-xe)/(de*fe-me*Ae),Ie=de-we*me,lt=me+we*de,Le=Ie,J=-lt,Qe=X+L,je=Math.cos(Qe),ie=Math.sin(Qe);return{x1:$*Math.cos(L),y1:$*Math.sin(L),x2:Ie*je-lt*ie,y2:Ie*ie+lt*je,x3:Le*je-J*ie,y3:Le*ie+J*je,x4:$*Math.cos(Y),y4:$*Math.sin(Y)}},G=function($){return 180*$/Math.PI},q=function($,L,Y,X,Ae,fe){var de=$+.5*(Y-$),me=L+.5*(X-L),Ce=Ae+.5*(Y-Ae),xe=fe+.5*(X-fe),we=Math.min($,Ae,de,Ce),Ie=Math.max($,Ae,de,Ce),lt=Math.min(L,fe,me,xe),Le=Math.max(L,fe,me,xe);return new l(we,lt,Ie-we,Le-lt)},re=function($,L,Y,X,Ae,fe,de,me){var Ce,xe,we,Ie,lt,Le,J,Qe,je,ie,Se,We,Oe,ve,st=Y-$,Ne=X-L,ge=Ae-Y,Je=fe-X,Ve=de-Ae,yt=me-fe;for(xe=0;xe<41;xe++)je=(J=(we=$+(Ce=xe/40)*st)+Ce*((lt=Y+Ce*ge)-we))+Ce*(lt+Ce*(Ae+Ce*Ve-lt)-J),ie=(Qe=(Ie=L+Ce*Ne)+Ce*((Le=X+Ce*Je)-Ie))+Ce*(Le+Ce*(fe+Ce*yt-Le)-Qe),xe==0?(Se=je,We=ie,Oe=je,ve=ie):(Se=Math.min(Se,je),We=Math.min(We,ie),Oe=Math.max(Oe,je),ve=Math.max(ve,ie));return new l(Math.round(Se),Math.round(We),Math.round(Oe-Se),Math.round(ve-We))},Z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,L,Y=($=this.ctx.lineDash,L=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:L}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Rt.API),(function(t){var e=function(i){var o,l,c,d,u,h,f,p,v,y;for(l=[],c=0,d=(i+=o="\0\0\0\0".slice(i.length%4||4)).length;d>c;c+=4)(u=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(h=(u=((u=((u=((u=(u-(y=u%85))/85)-(v=u%85))/85)-(p=u%85))/85)-(f=u%85))/85)%85,l.push(h+33,f+33,p+33,v+33,y+33)):l.push(122);return(function(g,x){for(var w=x;w>0;w--)g.pop()})(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var o,l,c,d,u,h=String,f="length",p=255,v="charCodeAt",y="slice",g="replace";for(i[y](-2),i=i[y](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),c=[],d=0,u=(i+=o="uuuuu"[y](i[f]%5||5))[f];u>d;d+=5)l=52200625*(i[v](d)-33)+614125*(i[v](d+1)-33)+7225*(i[v](d+2)-33)+85*(i[v](d+3)-33)+(i[v](d+4)-33),c.push(p&l>>24,p&l>>16,p&l>>8,p&l);return(function(x,w){for(var _=w;_>0;_--)x.pop()})(c,o[f]),h.fromCharCode.apply(h,c)},s=function(i){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),o.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var o=new Uint8Array(i.length),l=i.length;l--;)o[l]=i.charCodeAt(l);return i=(o=NS(o)).reduce((function(c,d){return c+String.fromCharCode(d)}),"")};t.processDataByFilters=function(i,o){var l=0,c=i||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map((function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)})).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}})(Rt.API),(function(t){t.loadFile=function(e,r,s){return(function(a,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,u){var h=new XMLHttpRequest,f=0,p=function(v){var y=v.length,g=[],x=String.fromCharCode;for(f=0;f<y;f+=1)g.push(x(255&v.charCodeAt(f)));return g.join("")};if(h.open("GET",c,!d),h.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(h.onload=function(){h.status===200?u(p(this.responseText)):u(void 0)}),h.send(null),d&&h.status===200)return p(h.responseText)})(a,i,o)}catch{}return l})(e,r,s)},t.loadImageFile=t.loadFile})(Rt.API),(function(t){function e(){return(Xt.html2canvas?Promise.resolve(Xt.html2canvas):ph(()=>Promise.resolve().then(()=>Hge),void 0)).catch((function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))})).then((function(o){return o.default?o.default:o}))}function r(){return(Xt.DOMPurify?Promise.resolve(Xt.DOMPurify):ph(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch((function(o){return Promise.reject(new Error("Could not load dompurify: "+o))})).then((function(o){return o.default?o.default:o}))}var s=function(o){var l=Yr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,o,1,[o])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(o,l){return o.__proto__=l||i.prototype,o},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(o,l){return this.then((function(){switch(l=l||(function(c){switch(s(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o)){case"string":return this.then(r).then((function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})}));case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}}))},i.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=(function c(d,u){for(var h=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(c(f,u));return d.nodeType===1&&(d.nodeName==="CANVAS"?(h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(h.value=d.value),h.addEventListener("load",(function(){h.scrollTop=d.scrollTop,h.scrollLeft=d.scrollLeft}),!0)),h})(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},i.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)})).then((function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then((function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var f=0;f<d.length;++f){var p=d[f],v=p.src.find((function(y){return y.format==="truetype"}));v&&c.addFont(v.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)})).then((function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)}))},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o}))},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},i.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},i.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(o,l)}))},i.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}}))},i.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},i.prototype.set=function(o){if(s(o)!=="object")return this;var l=Object.keys(o||{}).map((function(c){if(c in i.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}}),this);return this.then((function(){return this.thenList(l)}))},i.prototype.get=function(o,l){return this.then((function(){var c=o in i.template.prop?this.prop[o]:this.opt[o];return l?l(c):c}))},i.prototype.setMargin=function(o){return this.then((function(){switch(s(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o})).then(this.setPageSize)},i.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then((function(){(o=o||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o}))},i.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},i.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,(function(d,u){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,(function(h){return c.updateProgress(null,d),h})).then(d,u).then((function(h){return c.updateProgress(1),h}))}))},i.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=c.call(d,o,l);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},i.prototype.thenList=function(o){var l=this;return o.forEach((function(c){l=l.thenCore(c)})),l},i.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return i.convert(l,this)},i.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},i.prototype.error=function(o){return this.then((function(){throw new Error(o)}))},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Rt.getPageSize=function(o,l,c){if(Yr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+l}var p,v=0,y=0;if(f.hasOwnProperty(h))v=f[h][1]/u,y=f[h][0]/u;else try{v=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>v&&(p=y,y=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>y&&(p=y,y=v,v=p)}return{width:y,height:v,unit:l,k:u,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(kS):null;var c=new i(l);return l.worker?c:c.from(o).doCallback()}})(Rt.API),Rt.API.addJS=function(t){return $T=t,this.internal.events.subscribe("postPutResources",(function(){Yy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Yy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HT=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$T+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Yy!==void 0&&HT!==void 0&&this.internal.out("/Names <</JavaScript "+Yy+" 0 R>>")})),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,s=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var o=a[i],l=s.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(i=0;i<d;i++){var h=r.internal.newObject();u.push(h);var f=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(s,a,i){var o={title:a,options:i,children:[]};return s==null&&(s=this.root),s.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(s){s.id=r.internal.newObjectDeferred();for(var a=0;a<s.children.length;a++)this.genIds_r(s.children[a])},r.outline.renderRoot=function(s){this.objStart(s),this.line("/Type /Outlines"),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1]))),this.line("/Count "+this.count_r({count:0},s)),this.objEnd()},r.outline.renderItems=function(s){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<s.children.length;i++){var o=s.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(s)),i>0&&this.line("/Prev "+this.makeRef(s.children[i-1])),i<s.children.length-1&&this.line("/Next "+this.makeRef(s.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var d=0;d<s.children.length;d++)this.renderItems(s.children[d])},r.outline.line=function(s){this.ctx.val+=s+`\r
`},r.outline.makeRef=function(s){return s.id+" 0 R"},r.outline.makeString=function(s){return"("+r.internal.pdfEscape(s)+")"},r.outline.objStart=function(s){this.ctx.val+=`\r
`+s.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(s,a){for(var i=0;i<a.children.length;i++)s.count++,this.count_r(s,a.children[i]);return s.count}}])})(Rt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,s,a,i,o,l){var c,d=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=(function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,y={width:0,height:0,numcomponents:1},g=4;g<v;g+=2){if(g+=p,e.indexOf(h.charCodeAt(g+1))!==-1){f=256*h.charCodeAt(g+5)+h.charCodeAt(g+6),y={width:256*h.charCodeAt(g+7)+h.charCodeAt(g+8),height:f,numcomponents:h.charCodeAt(g+9)};break}p=256*h.charCodeAt(g+2)+h.charCodeAt(g+3)}return y})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}u={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:s,alias:a}}return u}})(Rt.API);var nm,Jy,qT,zT,VT,sce=(function(){var t,e,r;function s(i){var o,l,c,d,u,h,f,p,v,y,g,x,w,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),v=(function(){var k,C;for(C=[],k=0;k<4;++k)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),d=this.readUInt16()||100,h.delay=1e3*u/d,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),i=h?.data||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(g=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,g.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}s.prototype.read=function(i){var o,l;for(l=[],o=0;0<=i?o<i:o>i;0<=i?++o:--o)l.push(this.data[this.pos++]);return l},s.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},s.prototype.decodePixels=function(i){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,d=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(h,f,p,v){var y,g,x,w,_,k,C,B,I,S,E,D,N,T,Q,U,K,z,ee,G,q,re=Math.ceil((d.width-h)/p),Z=Math.ceil((d.height-f)/v),$=d.width==re&&d.height==Z;for(T=o*re,D=$?l:new Uint8Array(T*Z),k=i.length,N=0,g=0;N<Z&&c<k;){switch(i[c++]){case 0:for(w=K=0;K<T;w=K+=1)D[g++]=i[c++];break;case 1:for(w=z=0;z<T;w=z+=1)y=i[c++],_=w<o?0:D[g-o],D[g++]=(y+_)%256;break;case 2:for(w=ee=0;ee<T;w=ee+=1)y=i[c++],x=(w-w%o)/o,Q=N&&D[(N-1)*T+x*o+w%o],D[g++]=(Q+y)%256;break;case 3:for(w=G=0;G<T;w=G+=1)y=i[c++],x=(w-w%o)/o,_=w<o?0:D[g-o],Q=N&&D[(N-1)*T+x*o+w%o],D[g++]=(y+Math.floor((_+Q)/2))%256;break;case 4:for(w=q=0;q<T;w=q+=1)y=i[c++],x=(w-w%o)/o,_=w<o?0:D[g-o],N===0?Q=U=0:(Q=D[(N-1)*T+x*o+w%o],U=x&&D[(N-1)*T+(x-1)*o+w%o]),C=_+Q-U,B=Math.abs(C-_),S=Math.abs(C-Q),E=Math.abs(C-U),I=B<=S&&B<=E?_:S<=E?Q:U,D[g++]=(y+I)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!$){var L=((f+N*v)*d.width+h)*o,Y=N*T;for(w=0;w<re;w+=1){for(var X=0;X<o;X+=1)l[L++]=D[Y++];L+=(p-1)*o}}N++}}return i=Dle(i),d.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),l},s.prototype.decodePalette=function(){var i,o,l,c,d,u,h,f,p;for(l=this.palette,u=this.transparency.indexed||[],d=new Uint8Array((u.length||0)+l.length),c=0,i=0,o=h=0,f=l.length;h<f;o=h+=3)d[c++]=l[o],d[c++]=l[o+1],d[c++]=l[o+2],d[c++]=(p=u[i++])!=null?p:255;return d},s.prototype.copyToImageData=function(i,o){var l,c,d,u,h,f,p,v,y,g,x;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),v=(d=i.data||i).length,h=y||o,u=f=0,c===1)for(;u<v;)p=y?4*o[u/4]:f,g=h[p++],d[u++]=g,d[u++]=g,d[u++]=g,d[u++]=l?h[p++]:255,f=p;else for(;u<v;)p=y?4*o[u/4]:f,d[u++]=h[p++],d[u++]=h[p++],d[u++]=h[p++],d[u++]=l?h[p++]:255,f=p},s.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Xt)==="[object Window]"){try{e=Xt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var o;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},s.prototype.decodeFrames=function(i){var o,l,c,d,u,h,f,p;if(this.animation){for(p=[],l=u=0,h=(f=this.animation.frames).length;u<h;l=++u)o=f[l],c=i.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,d),o.imageData=c,p.push(o.image=t(c));return p}},s.prototype.renderFrame=function(i,o){var l,c,d;return l=(c=this.animation.frames)[o],d=c[o-1],o===0&&i.clearRect(0,0,this.width,this.height),d?.disposeOp===1?i.clearRect(d.xOffset,d.yOffset,d.width,d.height):d?.disposeOp===2&&i.putImageData(d.imageData,d.xOffset,d.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},s.prototype.animate=function(i){var o,l,c,d,u,h,f=this;return l=0,h=this.animation,d=h.numFrames,c=h.frames,u=h.numPlays,(o=function(){var p,v;if(p=l++%d,v=c[p],f.renderFrame(i,p),d>1&&l/d<u)return f.animation._timeout=setTimeout(o,v.delay)})()},s.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},s.prototype.render=function(i){var o,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,o=i.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},s})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ace(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,s=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,o=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,u=[],h=0,f=null,p=0,v=null;for(this.width=r,this.height=s;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],(1&y)==0&&(f=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,k=t[e++],C=k>>6&1,B=1<<(7&k)+1,I=l,S=c,E=!1;k>>7&&(E=!0,I=e,S=B,e+=3*B);var D=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x:g,y:x,width:w,height:_,has_local_palette:E,palette_offset:I,palette_size:S,data_offset:D,data_length:e-D,transparent_index:f,interlaced:!!C,delay:h,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(T){if(T<0||T>=u.length)throw new Error("Frame index out of range.");return u[T]},this.decodeAndBlitFrameBGRA=function(T,Q){var U=this.frameInfo(T),K=U.width*U.height,z=new Uint8Array(K);KT(t,U.data_offset,z,K);var ee=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var q=U.width,re=r-q,Z=q,$=4*(U.y*r+U.x),L=4*((U.y+U.height)*r+U.x),Y=$,X=4*re;U.interlaced===!0&&(X+=4*r*7);for(var Ae=8,fe=0,de=z.length;fe<de;++fe){var me=z[fe];if(Z===0&&(Z=q,(Y+=X)>=L&&(X=4*re+4*r*(Ae-1),Y=$+(q+re)*(Ae<<1),Ae>>=1)),me===G)Y+=4;else{var Ce=t[ee+3*me],xe=t[ee+3*me+1],we=t[ee+3*me+2];Q[Y++]=we,Q[Y++]=xe,Q[Y++]=Ce,Q[Y++]=255}--Z}},this.decodeAndBlitFrameRGBA=function(T,Q){var U=this.frameInfo(T),K=U.width*U.height,z=new Uint8Array(K);KT(t,U.data_offset,z,K);var ee=U.palette_offset,G=U.transparent_index;G===null&&(G=256);var q=U.width,re=r-q,Z=q,$=4*(U.y*r+U.x),L=4*((U.y+U.height)*r+U.x),Y=$,X=4*re;U.interlaced===!0&&(X+=4*r*7);for(var Ae=8,fe=0,de=z.length;fe<de;++fe){var me=z[fe];if(Z===0&&(Z=q,(Y+=X)>=L&&(X=4*re+4*r*(Ae-1),Y=$+(q+re)*(Ae<<1),Ae>>=1)),me===G)Y+=4;else{var Ce=t[ee+3*me],xe=t[ee+3*me+1],we=t[ee+3*me+2];Q[Y++]=Ce,Q[Y++]=xe,Q[Y++]=we,Q[Y++]=255}--Z}}}function KT(t,e,r,s){for(var a=t[e++],i=1<<a,o=i+1,l=o+1,c=a+1,d=(1<<c)-1,u=0,h=0,f=0,p=t[e++],v=new Int32Array(4096),y=null;;){for(;u<16&&p!==0;)h|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<c)break;var g=h&d;if(h>>=c,u-=c,g!==i){if(g===o)break;for(var x=g<l?g:y,w=0,_=x;_>i;)_=v[_]>>8,++w;var k=_;if(f+w+(x!==g?1:0)>s)return void tn.log("Warning, gif stream longer than expected.");r[f++]=k;var C=f+=w;for(x!==g&&(r[f++]=k),_=x;w--;)_=v[_],r[--C]=255&_,_>>=8;y!==null&&l<4096&&(v[l++]=y<<8|k,l>=d+1&&c<12&&(++c,d=d<<1|1)),y=g}else l=o+1,d=(1<<(c=a+1))-1,y=null}return f!==s&&tn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function zj(t){var e,r,s,a,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),v=new Array(64),y=[],g=0,x=7,w=new Array(64),_=new Array(64),k=new Array(64),C=new Array(256),B=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z($,L){for(var Y=0,X=0,Ae=new Array,fe=1;fe<=16;fe++){for(var de=1;de<=$[fe];de++)Ae[L[X]]=[],Ae[L[X]][0]=Y,Ae[L[X]][1]=fe,X++,Y++;Y*=2}return Ae}function ee($){for(var L=$[0],Y=$[1]-1;Y>=0;)L&1<<Y&&(g|=1<<x),Y--,--x<0&&(g==255?(G(255),G(0)):G(g),x=7,g=0)}function G($){y.push($)}function q($){G($>>8&255),G(255&$)}function re($,L,Y,X,Ae){for(var fe,de=Ae[0],me=Ae[240],Ce=(function(ie,Se){var We,Oe,ve,st,Ne,ge,Je,Ve,yt,gt,ce=0;for(yt=0;yt<8;++yt){We=ie[ce],Oe=ie[ce+1],ve=ie[ce+2],st=ie[ce+3],Ne=ie[ce+4],ge=ie[ce+5],Je=ie[ce+6];var Ze=We+(Ve=ie[ce+7]),Ue=We-Ve,Re=Oe+Je,rt=Oe-Je,_t=ve+ge,At=ve-ge,It=st+Ne,Mr=st-Ne,Br=Ze+It,Sn=Ze-It,ua=Re+_t,An=Re-_t;ie[ce]=Br+ua,ie[ce+4]=Br-ua;var tr=.707106781*(An+Sn);ie[ce+2]=Sn+tr,ie[ce+6]=Sn-tr;var Nr=.382683433*((Br=Mr+At)-(An=rt+Ue)),Pl=.5411961*Br+Nr,ls=1.306562965*An+Nr,hi=.707106781*(ua=At+rt),Di=Ue+hi,Lt=Ue-hi;ie[ce+5]=Lt+Pl,ie[ce+3]=Lt-Pl,ie[ce+1]=Di+ls,ie[ce+7]=Di-ls,ce+=8}for(ce=0,yt=0;yt<8;++yt){We=ie[ce],Oe=ie[ce+8],ve=ie[ce+16],st=ie[ce+24],Ne=ie[ce+32],ge=ie[ce+40],Je=ie[ce+48];var Qa=We+(Ve=ie[ce+56]),ha=We-Ve,Aa=Oe+Je,fn=Oe-Je,mn=ve+ge,Is=ve-ge,Fl=st+Ne,Vo=st-Ne,Mi=Qa+Fl,Li=Qa-Fl,ws=Aa+mn,Ui=Aa-mn;ie[ce]=Mi+ws,ie[ce+32]=Mi-ws;var Ha=.707106781*(Ui+Li);ie[ce+16]=Li+Ha,ie[ce+48]=Li-Ha;var ao=.382683433*((Mi=Vo+Is)-(Ui=fn+ha)),Tl=.5411961*Mi+ao,Nc=1.306562965*Ui+ao,_c=.707106781*(ws=Is+fn),Cc=ha+_c,Vd=ha-_c;ie[ce+40]=Vd+Tl,ie[ce+24]=Vd-Tl,ie[ce+8]=Cc+Nc,ie[ce+56]=Cc-Nc,ce++}for(yt=0;yt<64;++yt)gt=ie[yt]*Se[yt],p[yt]=gt>0?gt+.5|0:gt-.5|0;return p})($,L),xe=0;xe<64;++xe)v[I[xe]]=Ce[xe];var we=v[0]-Y;Y=v[0],we==0?ee(X[0]):(ee(X[f[fe=32767+we]]),ee(h[fe]));for(var Ie=63;Ie>0&&v[Ie]==0;)Ie--;if(Ie==0)return ee(de),Y;for(var lt,Le=1;Le<=Ie;){for(var J=Le;v[Le]==0&&Le<=Ie;)++Le;var Qe=Le-J;if(Qe>=16){lt=Qe>>4;for(var je=1;je<=lt;++je)ee(me);Qe&=15}fe=32767+v[Le],ee(Ae[(Qe<<4)+f[fe]]),ee(h[fe]),Le++}return Ie!=63&&ee(de),Y}function Z($){$=Math.min(Math.max($,1),100),i!=$&&((function(L){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var Ae=o((Y[X]*L+50)/100);Ae=Math.min(Math.max(Ae,1),255),l[I[X]]=Ae}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var me=o((fe[de]*L+50)/100);me=Math.min(Math.max(me,1),255),c[I[de]]=me}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,we=0;we<8;we++)for(var Ie=0;Ie<8;Ie++)d[xe]=1/(l[I[xe]]*Ce[we]*Ce[Ie]*8),u[xe]=1/(c[I[xe]]*Ce[we]*Ce[Ie]*8),xe++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),i=$)}this.encode=function($,L){L&&Z(L),y=new Array,g=0,x=7,q(65496),q(65504),q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),q(1),q(1),G(0),G(0),(function(){q(65499),q(132),G(0);for(var Oe=0;Oe<64;Oe++)G(l[Oe]);G(1);for(var ve=0;ve<64;ve++)G(c[ve])})(),(function(Oe,ve){q(65472),q(17),G(8),q(ve),q(Oe),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)})($.width,$.height),(function(){q(65476),q(418),G(0);for(var Oe=0;Oe<16;Oe++)G(S[Oe+1]);for(var ve=0;ve<=11;ve++)G(E[ve]);G(16);for(var st=0;st<16;st++)G(D[st+1]);for(var Ne=0;Ne<=161;Ne++)G(N[Ne]);G(1);for(var ge=0;ge<16;ge++)G(T[ge+1]);for(var Je=0;Je<=11;Je++)G(Q[Je]);G(17);for(var Ve=0;Ve<16;Ve++)G(U[Ve+1]);for(var yt=0;yt<=161;yt++)G(K[yt])})(),q(65498),q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var Y=0,X=0,Ae=0;g=0,x=7,this.encode.displayName="_encode_";for(var fe,de,me,Ce,xe,we,Ie,lt,Le,J=$.data,Qe=$.width,je=$.height,ie=4*Qe,Se=0;Se<je;){for(fe=0;fe<ie;){for(xe=ie*Se+fe,Ie=-1,lt=0,Le=0;Le<64;Le++)we=xe+(lt=Le>>3)*ie+(Ie=4*(7&Le)),Se+lt>=je&&(we-=ie*(Se+1+lt-je)),fe+Ie>=ie&&(we-=fe+Ie-ie+4),de=J[we++],me=J[we++],Ce=J[we++],w[Le]=(B[de]+B[me+256>>0]+B[Ce+512>>0]>>16)-128,_[Le]=(B[de+768>>0]+B[me+1024>>0]+B[Ce+1280>>0]>>16)-128,k[Le]=(B[de+1280>>0]+B[me+1536>>0]+B[Ce+1792>>0]>>16)-128;Y=re(w,d,Y,e,s),X=re(_,u,X,r,a),Ae=re(k,u,Ae,r,a),fe+=32}Se+=8}if(x>=0){var We=[];We[1]=x+1,We[0]=(1<<x+1)-1,ee(We)}return q(65497),new Uint8Array(y)},t=t||50,(function(){for(var $=String.fromCharCode,L=0;L<256;L++)C[L]=$(L)})(),e=z(S,E),r=z(T,Q),s=z(D,N),a=z(U,K),(function(){for(var $=1,L=2,Y=1;Y<=15;Y++){for(var X=$;X<L;X++)f[32767+X]=Y,h[32767+X]=[],h[32767+X][1]=Y,h[32767+X][0]=X;for(var Ae=-(L-1);Ae<=-$;Ae++)f[32767+Ae]=Y,h[32767+Ae]=[],h[32767+Ae][1]=Y,h[32767+Ae][0]=L-1+Ae;$<<=1,L<<=1}})(),(function(){for(var $=0;$<256;$++)B[$]=19595*$,B[$+256>>0]=38470*$,B[$+512>>0]=7471*$+32768,B[$+768>>0]=-11059*$,B[$+1024>>0]=-21709*$,B[$+1280>>0]=32768*$+8421375,B[$+1536>>0]=-27439*$,B[$+1792>>0]=-5329*$})(),Z(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ml(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function WT(t){function e(S){if(!S)throw Error("assert :P")}function r(S,E,D){for(var N=0;4>N;N++)if(S[E+N]!=D.charCodeAt(N))return!0;return!1}function s(S,E,D,N,T){for(var Q=0;Q<T;Q++)S[E+Q]=D[N+Q]}function a(S,E,D,N){for(var T=0;T<N;T++)S[E+T]=D}function i(S){return new Int32Array(S)}function o(S,E){for(var D=[],N=0;N<S;N++)D.push(new E);return D}function l(S,E){var D=[];return(function N(T,Q,U){for(var K=U[Q],z=0;z<K&&(T.push(U.length>Q+1?[]:new E),!(U.length<Q+1));z++)N(T[z],Q+1,U)})(D,0,S),D}var c=function(){var S=this;function E(j,F){for(var H=1<<F-1>>>0;j&H;)H>>>=1;return H?(j&H-1)+H:j}function D(j,F,H,W,te){e(!(W%H));do j[F+(W-=H)]=te;while(0<W)}function N(j,F,H,W,te){if(e(2328>=te),512>=te)var se=i(512);else if((se=i(te))==null)return 0;return(function(oe,le,ue,ye,Ee,$e){var qe,Me,ot=le,Ye=1<<ue,Fe=i(16),Te=i(16);for(e(Ee!=0),e(ye!=null),e(oe!=null),e(0<ue),Me=0;Me<Ee;++Me){if(15<ye[Me])return 0;++Fe[ye[Me]]}if(Fe[0]==Ee)return 0;for(Te[1]=0,qe=1;15>qe;++qe){if(Fe[qe]>1<<qe)return 0;Te[qe+1]=Te[qe]+Fe[qe]}for(Me=0;Me<Ee;++Me)qe=ye[Me],0<ye[Me]&&($e[Te[qe]++]=Me);if(Te[15]==1)return(ye=new T).g=0,ye.value=$e[0],D(oe,ot,1,Ye,ye),Ye;var nt,tt=-1,at=Ye-1,jt=0,pt=1,Ut=1,xt=1<<ue;for(Me=0,qe=1,Ee=2;qe<=ue;++qe,Ee<<=1){if(pt+=Ut<<=1,0>(Ut-=Fe[qe]))return 0;for(;0<Fe[qe];--Fe[qe])(ye=new T).g=qe,ye.value=$e[Me++],D(oe,ot+jt,Ee,xt,ye),jt=E(jt,qe)}for(qe=ue+1,Ee=2;15>=qe;++qe,Ee<<=1){if(pt+=Ut<<=1,0>(Ut-=Fe[qe]))return 0;for(;0<Fe[qe];--Fe[qe]){if(ye=new T,(jt&at)!=tt){for(ot+=xt,nt=1<<(tt=qe)-ue;15>tt&&!(0>=(nt-=Fe[tt]));)++tt,nt<<=1;Ye+=xt=1<<(nt=tt-ue),oe[le+(tt=jt&at)].g=nt+ue,oe[le+tt].value=ot-le-tt}ye.g=qe-ue,ye.value=$e[Me++],D(oe,ot+(jt>>ue),Ee,xt,ye),jt=E(jt,qe)}}return pt!=2*Te[15]-1?0:Ye})(j,F,H,W,te,se)}function T(){this.value=this.g=0}function Q(){this.value=this.g=0}function U(){this.G=o(5,T),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(En,Q)}function K(j,F,H,W){e(j!=null),e(F!=null),e(2147483648>W),j.Ca=254,j.I=0,j.b=-8,j.Ka=0,j.oa=F,j.pa=H,j.Jd=F,j.Yc=H+W,j.Zc=4<=W?H+W-4+1:H,fe(j)}function z(j,F){for(var H=0;0<F--;)H|=me(j,128)<<F;return H}function ee(j,F){var H=z(j,F);return de(j)?-H:H}function G(j,F,H,W){var te,se=0;for(e(j!=null),e(F!=null),e(4294967288>W),j.Sb=W,j.Ra=0,j.u=0,j.h=0,4<W&&(W=4),te=0;te<W;++te)se+=F[H+te]<<8*te;j.Ra=se,j.bb=W,j.oa=F,j.pa=H}function q(j){for(;8<=j.u&&j.bb<j.Sb;)j.Ra>>>=8,j.Ra+=j.oa[j.pa+j.bb]<<hu-8>>>0,++j.bb,j.u-=8;Y(j)&&(j.h=1,j.u=0)}function re(j,F){if(e(0<=F),!j.h&&F<=uu){var H=L(j)&du[F];return j.u+=F,q(j),H}return j.h=1,j.u=0}function Z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(j){return j.Ra>>>(j.u&hu-1)>>>0}function Y(j){return e(j.bb<=j.Sb),j.h||j.bb==j.Sb&&j.u>hu}function X(j,F){j.u=F,j.h=Y(j)}function Ae(j){j.u>=Au&&(e(j.u>=Au),q(j))}function fe(j){e(j!=null&&j.oa!=null),j.pa<j.Zc?(j.I=(j.oa[j.pa++]|j.I<<8)>>>0,j.b+=8):(e(j!=null&&j.oa!=null),j.pa<j.Yc?(j.b+=8,j.I=j.oa[j.pa++]|j.I<<8):j.Ka?j.b=0:(j.I<<=8,j.b+=8,j.Ka=1))}function de(j){return z(j,1)}function me(j,F){var H=j.Ca;0>j.b&&fe(j);var W=j.b,te=H*F>>>8,se=(j.I>>>W>te)+0;for(se?(H-=te,j.I-=te+1<<W>>>0):H=te+1,W=H,te=0;256<=W;)te+=8,W>>=8;return W=7^te+Ys[W],j.b-=W,j.Ca=(H<<W)-1,se}function Ce(j,F,H){j[F+0]=H>>24&255,j[F+1]=H>>16&255,j[F+2]=H>>8&255,j[F+3]=H>>0&255}function xe(j,F){return j[F+0]<<0|j[F+1]<<8}function we(j,F){return xe(j,F)|j[F+2]<<16}function Ie(j,F){return xe(j,F)|xe(j,F+2)<<16}function lt(j,F){var H=1<<F;return e(j!=null),e(0<F),j.X=i(H),j.X==null?0:(j.Mb=32-F,j.Xa=F,1)}function Le(j,F){e(j!=null),e(F!=null),e(j.Xa==F.Xa),s(F.X,0,j.X,0,1<<F.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Qe(j,F,H,W){e(H!=null),e(W!=null);var te=H[0],se=W[0];return te==0&&(te=(j*se+F/2)/F),se==0&&(se=(F*te+j/2)/j),0>=te||0>=se?0:(H[0]=te,W[0]=se,1)}function je(j,F){return j+(1<<F)-1>>>F}function ie(j,F){return((4278255360&j)+(4278255360&F)>>>0&4278255360)+((16711935&j)+(16711935&F)>>>0&16711935)>>>0}function Se(j,F){S[F]=function(H,W,te,se,oe,le,ue){var ye;for(ye=0;ye<oe;++ye){var Ee=S[j](le[ue+ye-1],te,se+ye);le[ue+ye]=ie(H[W+ye],Ee)}}}function We(){this.ud=this.hd=this.jd=0}function Oe(j,F){return((4278124286&(j^F))>>>1)+(j&F)>>>0}function ve(j){return 0<=j&&256>j?j:0>j?0:255<j?255:void 0}function st(j,F){return ve(j+(j-F+.5>>1))}function Ne(j,F,H){return Math.abs(F-H)-Math.abs(j-H)}function ge(j,F,H,W,te,se,oe){for(W=se[oe-1],H=0;H<te;++H)se[oe+H]=W=ie(j[F+H],W)}function Je(j,F,H,W,te){var se;for(se=0;se<H;++se){var oe=j[F+se],le=oe>>8&255,ue=16711935&(ue=(ue=16711935&oe)+((le<<16)+le));W[te+se]=(4278255360&oe)+ue>>>0}}function Ve(j,F){F.jd=j>>0&255,F.hd=j>>8&255,F.ud=j>>16&255}function yt(j,F,H,W,te,se){var oe;for(oe=0;oe<W;++oe){var le=F[H+oe],ue=le>>>8,ye=le,Ee=255&(Ee=(Ee=le>>>16)+((j.jd<<24>>24)*(ue<<24>>24)>>>5));ye=255&(ye=(ye=ye+((j.hd<<24>>24)*(ue<<24>>24)>>>5))+((j.ud<<24>>24)*(Ee<<24>>24)>>>5)),te[se+oe]=(4278255360&le)+(Ee<<16)+ye}}function gt(j,F,H,W,te){S[F]=function(se,oe,le,ue,ye,Ee,$e,qe,Me){for(ue=$e;ue<qe;++ue)for($e=0;$e<Me;++$e)ye[Ee++]=te(le[W(se[oe++])])},S[j]=function(se,oe,le,ue,ye,Ee,$e){var qe=8>>se.b,Me=se.Ea,ot=se.K[0],Ye=se.w;if(8>qe)for(se=(1<<se.b)-1,Ye=(1<<qe)-1;oe<le;++oe){var Fe,Te=0;for(Fe=0;Fe<Me;++Fe)Fe&se||(Te=W(ue[ye++])),Ee[$e++]=te(ot[Te&Ye]),Te>>=qe}else S["VP8LMapColor"+H](ue,ye,ot,Ye,Ee,$e,oe,le,Me)}}function ce(j,F,H,W,te){for(H=F+H;F<H;){var se=j[F++];W[te++]=se>>16&255,W[te++]=se>>8&255,W[te++]=se>>0&255}}function Ze(j,F,H,W,te){for(H=F+H;F<H;){var se=j[F++];W[te++]=se>>16&255,W[te++]=se>>8&255,W[te++]=se>>0&255,W[te++]=se>>24&255}}function Ue(j,F,H,W,te){for(H=F+H;F<H;){var se=(oe=j[F++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;W[te++]=se,W[te++]=oe}}function Re(j,F,H,W,te){for(H=F+H;F<H;){var se=(oe=j[F++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;W[te++]=se,W[te++]=oe}}function rt(j,F,H,W,te){for(H=F+H;F<H;){var se=j[F++];W[te++]=se>>0&255,W[te++]=se>>8&255,W[te++]=se>>16&255}}function _t(j,F,H,W,te,se){if(se==0)for(H=F+H;F<H;)Ce(W,((se=j[F++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),te+=32;else s(W,te,j,F,H)}function At(j,F){S[F][0]=S[j+"0"],S[F][1]=S[j+"1"],S[F][2]=S[j+"2"],S[F][3]=S[j+"3"],S[F][4]=S[j+"4"],S[F][5]=S[j+"5"],S[F][6]=S[j+"6"],S[F][7]=S[j+"7"],S[F][8]=S[j+"8"],S[F][9]=S[j+"9"],S[F][10]=S[j+"10"],S[F][11]=S[j+"11"],S[F][12]=S[j+"12"],S[F][13]=S[j+"13"],S[F][14]=S[j+"0"],S[F][15]=S[j+"0"]}function It(j){return j==yu||j==Vc||j==qh||j==zh}function Mr(){this.eb=[],this.size=this.A=this.fb=0}function Br(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Mr,this.f.kb=new Br,this.sd=null}function ua(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function An(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tr(j){return alert("todo:WebPSamplerProcessPlane"),j.T}function Nr(j,F){var H=j.T,W=F.ba.f.RGBA,te=W.eb,se=W.fb+j.ka*W.A,oe=ya[F.ba.S],le=j.y,ue=j.O,ye=j.f,Ee=j.N,$e=j.ea,qe=j.W,Me=F.cc,ot=F.dc,Ye=F.Mc,Fe=F.Nc,Te=j.ka,nt=j.ka+j.T,tt=j.U,at=tt+1>>1;for(Te==0?oe(le,ue,null,null,ye,Ee,$e,qe,ye,Ee,$e,qe,te,se,null,null,tt):(oe(F.ec,F.fc,le,ue,Me,ot,Ye,Fe,ye,Ee,$e,qe,te,se-W.A,te,se,tt),++H);Te+2<nt;Te+=2)Me=ye,ot=Ee,Ye=$e,Fe=qe,Ee+=j.Rc,qe+=j.Rc,se+=2*W.A,oe(le,(ue+=2*j.fa)-j.fa,le,ue,Me,ot,Ye,Fe,ye,Ee,$e,qe,te,se-W.A,te,se,tt);return ue+=j.fa,j.j+nt<j.o?(s(F.ec,F.fc,le,ue,tt),s(F.cc,F.dc,ye,Ee,at),s(F.Mc,F.Nc,$e,qe,at),H--):1&nt||oe(le,ue,null,null,ye,Ee,$e,qe,ye,Ee,$e,qe,te,se+W.A,null,null,tt),H}function Pl(j,F,H){var W=j.F,te=[j.J];if(W!=null){var se=j.U,oe=F.ba.S,le=oe==$h||oe==qh;F=F.ba.f.RGBA;var ue=[0],ye=j.ka;ue[0]=j.T,j.Kb&&(ye==0?--ue[0]:(--ye,te[0]-=j.width),j.j+j.ka+j.T==j.o&&(ue[0]=j.o-j.j-ye));var Ee=F.eb;ye=F.fb+ye*F.A,j=Tr(W,te[0],j.width,se,ue,Ee,ye+(le?0:3),F.A),e(H==ue),j&&It(oe)&&ga(Ee,ye,le,se,ue,F.A)}return 0}function ls(j){var F=j.ma,H=F.ba.S,W=11>H,te=H==Wl||H==Hh||H==$h||H==Vr||H==12||It(H);if(F.memory=null,F.Ib=null,F.Jb=null,F.Nd=null,!lu(F.Oa,j,te?11:12))return 0;if(te&&It(H)&&ct(),j.da)alert("todo:use_scaling");else{if(W){if(F.Ib=tr,j.Kb){if(H=j.U+1>>1,F.memory=i(j.U+2*H),F.memory==null)return 0;F.ec=F.memory,F.fc=0,F.cc=F.ec,F.dc=F.fc+j.U,F.Mc=F.cc,F.Nc=F.dc+H,F.Ib=Nr,ct()}}else alert("todo:EmitYUV");te&&(F.Jb=Pl,W&&He())}if(W&&!Ns){for(j=0;256>j;++j)va[j]=89858*(j-128)+zi>>nl,ba[j]=-22014*(j-128)+zi,ju[j]=-45773*(j-128),Xc[j]=113618*(j-128)+zi>>nl;for(j=Or;j<Lr;++j)F=76283*(j-16)+zi>>nl,Ef[j-Or]=za(F,255),oy[j-Or]=za(F+8>>4,15);Ns=1}return 1}function hi(j){var F=j.ma,H=j.U,W=j.T;return e(!(1&j.ka)),0>=H||0>=W?0:(H=F.Ib(j,F),F.Jb!=null&&F.Jb(j,F,H),F.Dc+=H,1)}function Di(j){j.ma.memory=null}function Lt(j,F,H,W){return re(j,8)!=47?0:(F[0]=re(j,14)+1,H[0]=re(j,14)+1,W[0]=re(j,1),re(j,3)!=0?0:!j.h)}function Qa(j,F){if(4>j)return j+1;var H=j-2>>1;return(2+(1&j)<<H)+re(F,H)+1}function ha(j,F){return 120<F?F-120:1<=(H=((H=y2[F-1])>>4)*j+(8-(15&H)))?H:1;var H}function Aa(j,F,H){var W=L(H),te=j[F+=255&W].g-8;return 0<te&&(X(H,H.u+8),W=L(H),F+=j[F].value,F+=W&(1<<te)-1),X(H,H.u+j[F].g),j[F].value}function fn(j,F,H){return H.g+=j.g,H.value+=j.value<<F>>>0,e(8>=H.g),j.g}function mn(j,F,H){var W=j.xc;return e((F=W==0?0:j.vc[j.md*(H>>W)+(F>>W)])<j.Wb),j.Ya[F]}function Is(j,F,H,W){var te=j.ab,se=j.c*F,oe=j.C;F=oe+F;var le=H,ue=W;for(W=j.Ta,H=j.Ua;0<te--;){var ye=j.gc[te],Ee=oe,$e=F,qe=le,Me=ue,ot=(ue=W,le=H,ye.Ea);switch(e(Ee<$e),e($e<=ye.nc),ye.hc){case 2:Nf(qe,Me,($e-Ee)*ot,ue,le);break;case 0:var Ye=Ee,Fe=$e,Te=ue,nt=le,tt=(xt=ye).Ea;Ye==0&&(Rc(qe,Me,null,null,1,Te,nt),ge(qe,Me+1,0,0,tt-1,Te,nt+1),Me+=tt,nt+=tt,++Ye);for(var at=1<<xt.b,jt=at-1,pt=je(tt,xt.b),Ut=xt.K,xt=xt.w+(Ye>>xt.b)*pt;Ye<Fe;){var wr=Ut,jr=xt,xr=1;for(Go(qe,Me,Te,nt-tt,1,Te,nt);xr<tt;){var dr=(xr&~jt)+at;dr>tt&&(dr=tt),(0,ho[wr[jr++]>>8&15])(qe,Me+ +xr,Te,nt+xr-tt,dr-xr,Te,nt+xr),xr=dr}Me+=tt,nt+=tt,++Ye&jt||(xt+=pt)}$e!=ye.nc&&s(ue,le-ot,ue,le+($e-Ee-1)*ot,ot);break;case 1:for(ot=qe,Fe=Me,tt=(qe=ye.Ea)-(nt=qe&~(Te=(Me=1<<ye.b)-1)),Ye=je(qe,ye.b),at=ye.K,ye=ye.w+(Ee>>ye.b)*Ye;Ee<$e;){for(jt=at,pt=ye,Ut=new We,xt=Fe+nt,wr=Fe+qe;Fe<xt;)Ve(jt[pt++],Ut),zl(Ut,ot,Fe,Me,ue,le),Fe+=Me,le+=Me;Fe<wr&&(Ve(jt[pt++],Ut),zl(Ut,ot,Fe,tt,ue,le),Fe+=tt,le+=tt),++Ee&Te||(ye+=Ye)}break;case 3:if(qe==ue&&Me==le&&0<ye.b){for(Fe=ue,qe=ot=le+($e-Ee)*ot-(nt=($e-Ee)*je(ye.Ea,ye.b)),Me=ue,Te=le,Ye=[],nt=(tt=nt)-1;0<=nt;--nt)Ye[nt]=Me[Te+nt];for(nt=tt-1;0<=nt;--nt)Fe[qe+nt]=Ye[nt];Js(ye,Ee,$e,ue,ot,ue,le)}else Js(ye,Ee,$e,qe,Me,ue,le)}le=W,ue=H}ue!=H&&s(W,H,le,ue,se)}function Fl(j,F){var H=j.V,W=j.Ba+j.c*j.C,te=F-j.C;if(e(F<=j.l.o),e(16>=te),0<te){var se=j.l,oe=j.Ta,le=j.Ua,ue=se.width;if(Is(j,te,H,W),te=le=[le],e((H=j.C)<(W=F)),e(se.v<se.va),W>se.o&&(W=se.o),H<se.j){var ye=se.j-H;H=se.j,te[0]+=ye*ue}if(H>=W?H=0:(te[0]+=4*se.v,se.ka=H-se.j,se.U=se.va-se.v,se.T=W-H,H=1),H){if(le=le[0],11>(H=j.ca).S){var Ee=H.f.RGBA,$e=(W=H.S,te=se.U,se=se.T,ye=Ee.eb,Ee.A),qe=se;for(Ee=Ee.fb+j.Ma*Ee.A;0<qe--;){var Me=oe,ot=le,Ye=te,Fe=ye,Te=Ee;switch(W){case _f:Zs(Me,ot,Ye,Fe,Te);break;case Wl:Ms(Me,ot,Ye,Fe,Te);break;case yu:Ms(Me,ot,Ye,Fe,Te),ga(Fe,Te,0,Ye,1,0);break;case ry:Yo(Me,ot,Ye,Fe,Te);break;case Hh:_t(Me,ot,Ye,Fe,Te,1);break;case Vc:_t(Me,ot,Ye,Fe,Te,1),ga(Fe,Te,0,Ye,1,0);break;case $h:_t(Me,ot,Ye,Fe,Te,0);break;case qh:_t(Me,ot,Ye,Fe,Te,0),ga(Fe,Te,1,Ye,1,0);break;case Vr:Vl(Me,ot,Ye,Fe,Te);break;case zh:Vl(Me,ot,Ye,Fe,Te),zr(Fe,Te,Ye,1,0);break;case Cf:Xo(Me,ot,Ye,Fe,Te);break;default:e(0)}le+=ue,Ee+=$e}j.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");e(j.Ma<=H.height)}}j.C=F,e(j.C<=j.i)}function Vo(j){var F;if(0<j.ua)return 0;for(F=0;F<j.Wb;++F){var H=j.Ya[F].G,W=j.Ya[F].H;if(0<H[1][W[1]+0].g||0<H[2][W[2]+0].g||0<H[3][W[3]+0].g)return 0}return 1}function Mi(j,F,H,W,te,se){if(j.Z!=0){var oe=j.qd,le=j.rd;for(e(Us[j.Z]!=null);F<H;++F)Us[j.Z](oe,le,W,te,W,te,se),oe=W,le=te,te+=se;j.qd=oe,j.rd=le}}function Li(j,F){var H=j.l.ma,W=H.Z==0||H.Z==1?j.l.j:j.C;if(W=j.C<W?W:j.C,e(F<=j.l.o),F>W){var te=j.l.width,se=H.ca,oe=H.tb+te*W,le=j.V,ue=j.Ba+j.c*W,ye=j.gc;e(j.ab==1),e(ye[0].hc==3),Uh(ye[0],W,F,le,ue,se,oe),Mi(H,W,F,se,oe,te)}j.C=j.Ma=F}function ws(j,F,H,W,te,se,oe){var le=j.$/W,ue=j.$%W,ye=j.m,Ee=j.s,$e=H+j.$,qe=$e;te=H+W*te;var Me=H+W*se,ot=280+Ee.ua,Ye=j.Pb?le:16777216,Fe=0<Ee.ua?Ee.Wa:null,Te=Ee.wc,nt=$e<Me?mn(Ee,ue,le):null;e(j.C<se),e(Me<=te);var tt=!1;e:for(;;){for(;tt||$e<Me;){var at=0;if(le>=Ye){var jt=$e-H;e((Ye=j).Pb),Ye.wd=Ye.m,Ye.xd=jt,0<Ye.s.ua&&Le(Ye.s.Wa,Ye.s.vb),Ye=le+Bf}if(ue&Te||(nt=mn(Ee,ue,le)),e(nt!=null),nt.Qb&&(F[$e]=nt.qb,tt=!0),!tt)if(Ae(ye),nt.jc){at=ye,jt=F;var pt=$e,Ut=nt.pd[L(at)&En-1];e(nt.jc),256>Ut.g?(X(at,at.u+Ut.g),jt[pt]=Ut.value,at=0):(X(at,at.u+Ut.g-256),e(256<=Ut.value),at=Ut.value),at==0&&(tt=!0)}else at=Aa(nt.G[0],nt.H[0],ye);if(ye.h)break;if(tt||256>at){if(!tt)if(nt.nd)F[$e]=(nt.qb|at<<8)>>>0;else{if(Ae(ye),tt=Aa(nt.G[1],nt.H[1],ye),Ae(ye),jt=Aa(nt.G[2],nt.H[2],ye),pt=Aa(nt.G[3],nt.H[3],ye),ye.h)break;F[$e]=(pt<<24|tt<<16|at<<8|jt)>>>0}if(tt=!1,++$e,++ue>=W&&(ue=0,++le,oe!=null&&le<=se&&!(le%16)&&oe(j,le),Fe!=null))for(;qe<$e;)at=F[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at}else if(280>at){if(at=Qa(at-256,ye),jt=Aa(nt.G[4],nt.H[4],ye),Ae(ye),jt=ha(W,jt=Qa(jt,ye)),ye.h)break;if($e-H<jt||te-$e<at)break e;for(pt=0;pt<at;++pt)F[$e+pt]=F[$e+pt-jt];for($e+=at,ue+=at;ue>=W;)ue-=W,++le,oe!=null&&le<=se&&!(le%16)&&oe(j,le);if(e($e<=te),ue&Te&&(nt=mn(Ee,ue,le)),Fe!=null)for(;qe<$e;)at=F[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at}else{if(!(at<ot))break e;for(tt=at-280,e(Fe!=null);qe<$e;)at=F[qe++],Fe.X[(506832829*at&4294967295)>>>Fe.Mb]=at;at=$e,e(!(tt>>>(jt=Fe).Xa)),F[at]=jt.X[tt],tt=!0}tt||e(ye.h==Y(ye))}if(j.Pb&&ye.h&&$e<te)e(j.m.h),j.a=5,j.m=j.wd,j.$=j.xd,0<j.s.ua&&Le(j.s.vb,j.s.Wa);else{if(ye.h)break e;oe?.(j,le>se?se:le),j.a=0,j.$=$e-H}return 1}return j.a=3,0}function Ui(j){e(j!=null),j.vc=null,j.yc=null,j.Ya=null;var F=j.Wa;F!=null&&(F.X=null),j.vb=null,e(j!=null)}function Ha(){var j=new Wp;return j==null?null:(j.a=0,j.xb=bu,At("Predictor","VP8LPredictors"),At("Predictor","VP8LPredictors_C"),At("PredictorAdd","VP8LPredictorsAdd"),At("PredictorAdd","VP8LPredictorsAdd_C"),Nf=Je,zl=yt,Zs=ce,Ms=Ze,Vl=Ue,Xo=Re,Yo=rt,S.VP8LMapColor32b=fu,S.VP8LMapColor8b=mu,j)}function ao(j,F,H,W,te){var se=1,oe=[j],le=[F],ue=W.m,ye=W.s,Ee=null,$e=0;e:for(;;){if(H)for(;se&&re(ue,1);){var qe=oe,Me=le,ot=W,Ye=1,Fe=ot.m,Te=ot.gc[ot.ab],nt=re(Fe,2);if(ot.Oc&1<<nt)se=0;else{switch(ot.Oc|=1<<nt,Te.hc=nt,Te.Ea=qe[0],Te.nc=Me[0],Te.K=[null],++ot.ab,e(4>=ot.ab),nt){case 0:case 1:Te.b=re(Fe,3)+2,Ye=ao(je(Te.Ea,Te.b),je(Te.nc,Te.b),0,ot,Te.K),Te.K=Te.K[0];break;case 3:var tt,at=re(Fe,8)+1,jt=16<at?0:4<at?1:2<at?2:3;if(qe[0]=je(Te.Ea,jt),Te.b=jt,tt=Ye=ao(at,1,0,ot,Te.K)){var pt,Ut=at,xt=Te,wr=1<<(8>>xt.b),jr=i(wr);if(jr==null)tt=0;else{var xr=xt.K[0],dr=xt.w;for(jr[0]=xt.K[0][0],pt=1;pt<1*Ut;++pt)jr[pt]=ie(xr[dr+pt],jr[pt-1]);for(;pt<4*wr;++pt)jr[pt]=0;xt.K[0]=null,xt.K[0]=jr,tt=1}}Ye=tt;break;case 2:break;default:e(0)}se=Ye}}if(oe=oe[0],le=le[0],se&&re(ue,1)&&!(se=1<=($e=re(ue,4))&&11>=$e)){W.a=3;break e}var Ir;if(Ir=se)t:{var Ur,Jt,yn,ra=W,Dn=oe,Yn=le,Er=$e,Rs=H,Qs=ra.m,vn=ra.s,Jn=[null],_s=1,wa=0,yi=sy[Er];r:for(;;){if(Rs&&re(Qs,1)){var bn=re(Qs,3)+2,$n=je(Dn,bn),Wa=je(Yn,bn),Yl=$n*Wa;if(!ao($n,Wa,0,ra,Jn))break r;for(Jn=Jn[0],vn.xc=bn,Ur=0;Ur<Yl;++Ur){var al=Jn[Ur]>>8&65535;Jn[Ur]=al,al>=_s&&(_s=al+1)}}if(Qs.h)break r;for(Jt=0;5>Jt;++Jt){var kr=Kc[Jt];!Jt&&0<Er&&(kr+=1<<Er),wa<kr&&(wa=kr)}var go=o(_s*yi,T),kf=_s,eg=o(kf,U);if(eg==null)var vi=null;else e(65536>=kf),vi=eg;var bi=i(wa);if(vi==null||bi==null||go==null){ra.a=1;break r}var Jc=go;for(Ur=yn=0;Ur<_s;++Ur){var wi=vi[Ur],il=wi.G,Zc=wi.H,Nu=0,Ga=1,_u=0;for(Jt=0;5>Jt;++Jt){kr=Kc[Jt],il[Jt]=Jc,Zc[Jt]=yn,!Jt&&0<Er&&(kr+=1<<Er);s:{var Jl,ol=kr,Cu=ra,xo=bi,cy=Jc,tg=yn,en=0,Vi=Cu.m,rg=re(Vi,1);if(a(xo,0,0,ol),rg){var ng=re(Vi,1)+1,Pf=re(Vi,1),Ff=re(Vi,Pf==0?1:8);xo[Ff]=1,ng==2&&(xo[Ff=re(Vi,8)]=1);var yo=1}else{var an=i(19),qn=re(Vi,4)+4;if(19<qn){Cu.a=3;var Mn=0;break s}for(Jl=0;Jl<qn;++Jl)an[x2[Jl]]=re(Vi,3);var Su=void 0,ll=void 0,Bu=Cu,N2=an,Zn=ol,Tf=xo,Xh=0,vo=Bu.m,Ki=8,Xa=o(128,T);n:for(;N(Xa,0,7,N2,19);){if(re(vo,1)){var Yh=2+2*re(vo,3);if((Su=2+re(vo,Yh))>Zn)break n}else Su=Zn;for(ll=0;ll<Zn&&Su--;){Ae(vo);var Of=Xa[0+(127&L(vo))];X(vo,vo.u+Of.g);var Zl=Of.value;if(16>Zl)Tf[ll++]=Zl,Zl!=0&&(Ki=Zl);else{var dy=Zl==16,sg=Zl-16,uy=Sf[sg],ag=re(vo,Vh[sg])+uy;if(ll+ag>Zn)break n;for(var hy=dy?Ki:0;0<ag--;)Tf[ll++]=hy}}Xh=1;break n}Xh||(Bu.a=3),yo=Xh}(yo=yo&&!Vi.h)&&(en=N(cy,tg,8,xo,ol)),yo&&en!=0?Mn=en:(Cu.a=3,Mn=0)}if(Mn==0)break r;if(Ga&&ny[Jt]==1&&(Ga=Jc[yn].g==0),Nu+=Jc[yn].g,yn+=Mn,3>=Jt){var Eu,If=bi[0];for(Eu=1;Eu<kr;++Eu)bi[Eu]>If&&(If=bi[Eu]);_u+=If}}if(wi.nd=Ga,wi.Qb=0,Ga&&(wi.qb=(il[3][Zc[3]+0].value<<24|il[1][Zc[1]+0].value<<16|il[2][Zc[2]+0].value)>>>0,Nu==0&&256>il[0][Zc[0]+0].value&&(wi.Qb=1,wi.qb+=il[0][Zc[0]+0].value<<8)),wi.jc=!wi.Qb&&6>_u,wi.jc){var Jh,Ya=wi;for(Jh=0;Jh<En;++Jh){var cl=Jh,Wi=Ya.pd[cl],ed=Ya.G[0][Ya.H[0]+cl];256<=ed.value?(Wi.g=ed.g+256,Wi.value=ed.value):(Wi.g=0,Wi.value=0,cl>>=fn(ed,8,Wi),cl>>=fn(Ya.G[1][Ya.H[1]+cl],16,Wi),cl>>=fn(Ya.G[2][Ya.H[2]+cl],0,Wi),fn(Ya.G[3][Ya.H[3]+cl],24,Wi))}}}vn.vc=Jn,vn.Wb=_s,vn.Ya=vi,vn.yc=go,Ir=1;break t}Ir=0}if(!(se=Ir)){W.a=3;break e}if(0<$e){if(ye.ua=1<<$e,!lt(ye.Wa,$e)){W.a=1,se=0;break e}}else ye.ua=0;var Df=W,Mf=oe,Ay=le,Lf=Df.s,Uf=Lf.xc;if(Df.c=Mf,Df.i=Ay,Lf.md=je(Mf,Uf),Lf.wc=Uf==0?-1:(1<<Uf)-1,H){W.xb=po;break e}if((Ee=i(oe*le))==null){W.a=1,se=0;break e}se=(se=ws(W,Ee,0,oe,le,le,null))&&!ue.h;break e}return se?(te!=null?te[0]=Ee:(e(Ee==null),e(H)),W.$=0,H||Ui(ye)):Ui(ye),se}function Tl(j,F){var H=j.c*j.i,W=H+F+16*F;return e(j.c<=F),j.V=i(W),j.V==null?(j.Ta=null,j.Ua=0,j.a=1,0):(j.Ta=j.V,j.Ua=j.Ba+H+F,1)}function Nc(j,F){var H=j.C,W=F-H,te=j.V,se=j.Ba+j.c*H;for(e(F<=j.l.o);0<W;){var oe=16<W?16:W,le=j.l.ma,ue=j.l.width,ye=ue*oe,Ee=le.ca,$e=le.tb+ue*H,qe=j.Ta,Me=j.Ua;Is(j,oe,te,se),kn(qe,Me,Ee,$e,ye),Mi(le,H,H+oe,Ee,$e,ue),W-=oe,te+=oe*j.c,H+=oe}e(H==F),j.C=j.Ma=F}function _c(){this.ub=this.yd=this.td=this.Rb=0}function Cc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Vd(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function mf(){this.Yb=(function(){var j=[];return(function F(H,W,te){for(var se=te[W],oe=0;oe<se&&(H.push(te.length>W+1?[]:0),!(te.length<W+1));oe++)F(H[oe],W+1,te)})(j,0,[3,11]),j})()}function pn(){this.jb=i(3),this.Wc=l([4,8],mf),this.Xc=l([4,17],mf)}function zp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ol(){this.ld=this.La=this.dd=this.tc=0}function Sh(){this.Na=this.la=0}function Kd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bh(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ol),this.Y=0,this.ya=Array(new Bh),this.aa=0,this.l=new Wd}function Sc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ai(){this.cb=this.a=0,this.sc="",this.m=new Z,this.Od=new _c,this.Kc=new Cc,this.ed=new zp,this.Qa=new Vd,this.Ic=this.$c=this.Aa=0,this.D=new pf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Z),this.ia=0,this.pb=o(4,Kd),this.Pa=new pn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Sc),this.Hd=0,this.rb=Array(new Sh),this.sb=0,this.wa=Array(new Ol),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bh),this.L=this.aa=0,this.gd=l([4,2],Ol),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $a(){var j=new Ai;return j!=null&&(j.a=0,j.sc="OK",j.cb=0,j.Xb=0,Wc||(Wc=Bc)),j}function In(j,F,H){return j.a==0&&(j.a=F,j.sc=H,j.cb=0),0}function gf(j,F,H){return 3<=H&&j[F+0]==157&&j[F+1]==1&&j[F+2]==42}function xf(j,F){if(j==null)return 0;if(j.a=0,j.sc="OK",F==null)return In(j,2,"null VP8Io passed to VP8GetHeaders()");var H=F.data,W=F.w,te=F.ha;if(4>te)return In(j,7,"Truncated header.");var se=H[W+0]|H[W+1]<<8|H[W+2]<<16,oe=j.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return In(j,3,"Incorrect keyframe parameters.");if(!oe.yd)return In(j,4,"Frame not displayable.");W+=3,te-=3;var le=j.Kc;if(oe.Rb){if(7>te)return In(j,7,"cannot parse picture header");if(!gf(H,W,te))return In(j,3,"Bad code word");le.c=16383&(H[W+4]<<8|H[W+3]),le.Td=H[W+4]>>6,le.i=16383&(H[W+6]<<8|H[W+5]),le.Ud=H[W+6]>>6,W+=7,te-=7,j.za=le.c+15>>4,j.Ub=le.i+15>>4,F.width=le.c,F.height=le.i,F.Da=0,F.j=0,F.v=0,F.va=F.width,F.o=F.height,F.da=0,F.ib=F.width,F.hb=F.height,F.U=F.width,F.T=F.height,a((se=j.Pa).jb,0,255,se.jb.length),e((se=j.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(oe.ub>te)return In(j,7,"bad partition length");K(se=j.m,H,W,oe.ub),W+=oe.ub,te-=oe.ub,oe.Rb&&(le.Ld=de(se),le.Kd=de(se)),le=j.Qa;var ue,ye=j.Pa;if(e(se!=null),e(le!=null),le.Cb=de(se),le.Cb){if(le.Bb=de(se),de(se)){for(le.Fb=de(se),ue=0;4>ue;++ue)le.Zb[ue]=de(se)?ee(se,7):0;for(ue=0;4>ue;++ue)le.Lb[ue]=de(se)?ee(se,6):0}if(le.Bb)for(ue=0;3>ue;++ue)ye.jb[ue]=de(se)?z(se,8):255}else le.Bb=0;if(se.Ka)return In(j,3,"cannot parse segment header");if((le=j.ed).zd=de(se),le.Tb=z(se,6),le.wb=z(se,3),le.Pc=de(se),le.Pc&&de(se)){for(ye=0;4>ye;++ye)de(se)&&(le.vd[ye]=ee(se,6));for(ye=0;4>ye;++ye)de(se)&&(le.od[ye]=ee(se,6))}if(j.L=le.Tb==0?0:le.zd?1:2,se.Ka)return In(j,3,"cannot parse filter header");var Ee=te;if(te=ue=W,W=ue+Ee,le=Ee,j.Xb=(1<<z(j.m,2))-1,Ee<3*(ye=j.Xb))H=7;else{for(ue+=3*ye,le-=3*ye,Ee=0;Ee<ye;++Ee){var $e=H[te+0]|H[te+1]<<8|H[te+2]<<16;$e>le&&($e=le),K(j.Jc[+Ee],H,ue,$e),ue+=$e,le-=$e,te+=3}K(j.Jc[+ye],H,ue,le),H=ue<W?0:5}if(H!=0)return In(j,H,"cannot parse partitions");for(H=z(ue=j.m,7),te=de(ue)?ee(ue,4):0,W=de(ue)?ee(ue,4):0,le=de(ue)?ee(ue,4):0,ye=de(ue)?ee(ue,4):0,ue=de(ue)?ee(ue,4):0,Ee=j.Qa,$e=0;4>$e;++$e){if(Ee.Cb){var qe=Ee.Zb[$e];Ee.Fb||(qe+=H)}else{if(0<$e){j.pb[$e]=j.pb[0];continue}qe=H}var Me=j.pb[$e];Me.Sc[0]=vu[za(qe+te,127)],Me.Sc[1]=Kh[za(qe+0,127)],Me.Eb[0]=2*vu[za(qe+W,127)],Me.Eb[1]=101581*Kh[za(qe+le,127)]>>16,8>Me.Eb[1]&&(Me.Eb[1]=8),Me.Qc[0]=vu[za(qe+ye,117)],Me.Qc[1]=Kh[za(qe+ue,127)],Me.lc=qe+ue}if(!oe.Rb)return In(j,4,"Not a key frame.");for(de(se),oe=j.Pa,H=0;4>H;++H){for(te=0;8>te;++te)for(W=0;3>W;++W)for(le=0;11>le;++le)ye=me(se,b2[H][te][W][le])?z(se,8):iy[H][te][W][le],oe.Wc[H][te].Yb[W][le]=ye;for(te=0;17>te;++te)oe.Xc[H][te]=oe.Wc[H][Yp[te]]}return j.kc=de(se),j.kc&&(j.Bd=z(se,8)),j.cb=1}function Bc(j,F,H,W,te,se,oe){var le=F[te].Yb[H];for(H=0;16>te;++te){if(!me(j,le[H+0]))return te;for(;!me(j,le[H+1]);)if(le=F[++te].Yb[0],H=0,te==16)return 16;var ue=F[te+1].Yb;if(me(j,le[H+2])){var ye=j,Ee=0;if(me(ye,(qe=le)[($e=H)+3]))if(me(ye,qe[$e+6])){for(le=0,$e=2*(Ee=me(ye,qe[$e+8]))+(qe=me(ye,qe[$e+9+Ee])),Ee=0,qe=Gp[$e];qe[le];++le)Ee+=Ee+me(ye,qe[le]);Ee+=3+(8<<$e)}else me(ye,qe[$e+7])?(Ee=7+2*me(ye,165),Ee+=me(ye,145)):Ee=5+me(ye,159);else Ee=me(ye,qe[$e+4])?3+me(ye,qe[$e+5]):2;le=ue[2]}else Ee=1,le=ue[1];ue=oe+Xp[te],0>(ye=j).b&&fe(ye);var $e,qe=ye.b,Me=($e=ye.Ca>>1)-(ye.I>>qe)>>31;--ye.b,ye.Ca+=Me,ye.Ca|=1,ye.I-=($e+1&Me)<<qe,se[ue]=((Ee^Me)-Me)*W[(0<te)+0]}return 16}function Il(j){var F=j.rb[j.sb-1];F.la=0,F.Na=0,a(j.zc,0,0,j.zc.length),j.ja=0}function Ec(j,F){if(j==null)return 0;if(F==null)return In(j,2,"NULL VP8Io parameter in VP8Decode().");if(!j.cb&&!xf(j,F))return 0;if(e(j.cb),F.ac==null||F.ac(F)){F.ob&&(j.L=0);var H=Yc[j.L];if(j.L==2?(j.yb=0,j.zb=0):(j.yb=F.v-H>>4,j.zb=F.j-H>>4,0>j.yb&&(j.yb=0),0>j.zb&&(j.zb=0)),j.Va=F.o+15+H>>4,j.Hb=F.va+15+H>>4,j.Hb>j.za&&(j.Hb=j.za),j.Va>j.Ub&&(j.Va=j.Ub),0<j.L){var W=j.ed;for(H=0;4>H;++H){var te;if(j.Qa.Cb){var se=j.Qa.Lb[H];j.Qa.Fb||(se+=W.Tb)}else se=W.Tb;for(te=0;1>=te;++te){var oe=j.gd[H][te],le=se;if(W.Pc&&(le+=W.vd[0],te&&(le+=W.od[0])),0<(le=0>le?0:63<le?63:le)){var ue=le;0<W.wb&&(ue=4<W.wb?ue>>2:ue>>1)>9-W.wb&&(ue=9-W.wb),1>ue&&(ue=1),oe.dd=ue,oe.tc=2*le+ue,oe.ld=40<=le?2:15<=le?1:0}else oe.tc=0;oe.La=te}}}H=0}else In(j,6,"Frame setup failed"),H=j.a;if(H=H==0){if(H){j.$c=0,0<j.Aa||(j.Ic=sl);e:{H=j.Ic,W=4*(ue=j.za);var ye=32*ue,Ee=ue+1,$e=0<j.L?ue*(0<j.Aa?2:1):0,qe=(j.Aa==2?2:1)*ue;if((oe=W+832+(te=3*(16*H+Yc[j.L])/2*ye)+(se=j.Fa!=null&&0<j.Fa.length?j.Kc.c*j.Kc.i:0))!=oe)H=0;else{if(oe>j.Vb){if(j.Vb=0,j.Ec=i(oe),j.Fc=0,j.Ec==null){H=In(j,1,"no memory during frame initialization.");break e}j.Vb=oe}oe=j.Ec,le=j.Fc,j.Ac=oe,j.Bc=le,le+=W,j.Gd=o(ye,Sc),j.Hd=0,j.rb=o(Ee+1,Sh),j.sb=1,j.wa=$e?o($e,Ol):null,j.Y=0,j.D.Nb=0,j.D.wa=j.wa,j.D.Y=j.Y,0<j.Aa&&(j.D.Y+=ue),e(!0),j.oc=oe,j.pc=le,le+=832,j.ya=o(qe,Bh),j.aa=0,j.D.ya=j.ya,j.D.aa=j.aa,j.Aa==2&&(j.D.aa+=ue),j.R=16*ue,j.B=8*ue,ue=(ye=Yc[j.L])*j.R,ye=ye/2*j.B,j.sa=oe,j.ta=le+ue,j.qa=j.sa,j.ra=j.ta+16*H*j.R+ye,j.Ha=j.qa,j.Ia=j.ra+8*H*j.B+ye,j.$c=0,le+=te,j.mb=se?oe:null,j.nb=se?le:null,e(le+se<=j.Fc+j.Vb),Il(j),a(j.Ac,j.Bc,0,W),H=1}}if(H){if(F.ka=0,F.y=j.sa,F.O=j.ta,F.f=j.qa,F.N=j.ra,F.ea=j.Ha,F.Vd=j.Ia,F.fa=j.R,F.Rc=j.B,F.F=null,F.J=0,!Qh){for(H=-255;255>=H;++H)Hn[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)fo[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)gu[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)zc[255+H]=0>H?0:255<H?255:H;Qh=1}pu=_r,Jo=kh,Zo=Dl,Ls=Vp,Va=Xd,Cr=Eh,Qc=nu,Rh=Xn,Hc=Dc,$c=Ih,qc=Rl,Ka=Ql,el=Mc,Ao=su,tl=Hi,rl=fi,Kl=mi,js=wf,xi[0]=co,xi[1]=yf,xi[2]=Tc,xi[3]=lo,xi[4]=Fh,xi[5]=Jd,xi[6]=Ll,xi[7]=Zd,xi[8]=bf,xi[9]=eu,ta[0]=Fc,ta[1]=vf,ta[2]=io,ta[3]=Pc,ta[4]=gn,ta[5]=oo,ta[6]=Ri,xa[0]=qa,xa[1]=Ph,xa[2]=Kp,xa[3]=Ko,xa[4]=Oc,xa[5]=tu,xa[6]=Th,H=1}else H=0}H&&(H=(function(Me,ot){for(Me.M=0;Me.M<Me.Va;++Me.M){var Ye,Fe=Me.Jc[Me.M&Me.Xb],Te=Me.m,nt=Me;for(Ye=0;Ye<nt.za;++Ye){var tt=Te,at=nt,jt=at.Ac,pt=at.Bc+4*Ye,Ut=at.zc,xt=at.ya[at.aa+Ye];if(at.Qa.Bb?xt.$b=me(tt,at.Pa.jb[0])?2+me(tt,at.Pa.jb[2]):me(tt,at.Pa.jb[1]):xt.$b=0,at.kc&&(xt.Ad=me(tt,at.Bd)),xt.Za=!me(tt,145)+0,xt.Za){var wr=xt.Ob,jr=0;for(at=0;4>at;++at){var xr,dr=Ut[0+at];for(xr=0;4>xr;++xr){dr=v2[jt[pt+xr]][dr];for(var Ir=ay[me(tt,dr[0])];0<Ir;)Ir=ay[2*Ir+me(tt,dr[Ir])];dr=-Ir,jt[pt+xr]=dr}s(wr,jr,jt,pt,4),jr+=4,Ut[0+at]=dr}}else dr=me(tt,156)?me(tt,128)?1:3:me(tt,163)?2:0,xt.Ob[0]=dr,a(jt,pt,dr,4),a(Ut,0,dr,4);xt.Dd=me(tt,142)?me(tt,114)?me(tt,183)?1:3:2:0}if(nt.m.Ka)return In(Me,7,"Premature end-of-partition0 encountered.");for(;Me.ja<Me.za;++Me.ja){if(nt=Fe,tt=(Te=Me).rb[Te.sb-1],jt=Te.rb[Te.sb+Te.ja],Ye=Te.ya[Te.aa+Te.ja],pt=Te.kc?Ye.Ad:0)tt.la=jt.la=0,Ye.Za||(tt.Na=jt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Ur,Jt;if(tt=jt,jt=nt,pt=Te.Pa.Xc,Ut=Te.ya[Te.aa+Te.ja],xt=Te.pb[Ut.$b],at=Ut.ad,wr=0,jr=Te.rb[Te.sb-1],dr=xr=0,a(at,wr,0,384),Ut.Za)var yn=0,ra=pt[3];else{Ir=i(16);var Dn=tt.Na+jr.Na;if(Dn=Wc(jt,pt[1],Dn,xt.Eb,0,Ir,0),tt.Na=jr.Na=(0<Dn)+0,1<Dn)pu(Ir,0,at,wr);else{var Yn=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)at[wr+Ir]=Yn}yn=1,ra=pt[0]}var Er=15&tt.la,Rs=15&jr.la;for(Ir=0;4>Ir;++Ir){var Qs=1&Rs;for(Yn=Jt=0;4>Yn;++Yn)Er=Er>>1|(Qs=(Dn=Wc(jt,ra,Dn=Qs+(1&Er),xt.Sc,yn,at,wr))>yn)<<7,Jt=Jt<<2|(3<Dn?3:1<Dn?2:at[wr+0]!=0),wr+=16;Er>>=4,Rs=Rs>>1|Qs<<7,xr=(xr<<8|Jt)>>>0}for(ra=Er,yn=Rs>>4,Ur=0;4>Ur;Ur+=2){for(Jt=0,Er=tt.la>>4+Ur,Rs=jr.la>>4+Ur,Ir=0;2>Ir;++Ir){for(Qs=1&Rs,Yn=0;2>Yn;++Yn)Dn=Qs+(1&Er),Er=Er>>1|(Qs=0<(Dn=Wc(jt,pt[2],Dn,xt.Qc,0,at,wr)))<<3,Jt=Jt<<2|(3<Dn?3:1<Dn?2:at[wr+0]!=0),wr+=16;Er>>=2,Rs=Rs>>1|Qs<<5}dr|=Jt<<4*Ur,ra|=Er<<4<<Ur,yn|=(240&Rs)<<Ur}tt.la=ra,jr.la=yn,Ut.Hc=xr,Ut.Gc=dr,Ut.ia=43690&dr?0:xt.ia,pt=!(xr|dr)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Ye.$b][Ye.Za],Te.wa[Te.Y+Te.ja].La|=!pt),nt.Ka)return In(Me,7,"Premature end-of-file encountered.")}if(Il(Me),Te=ot,nt=1,Ye=(Fe=Me).D,tt=0<Fe.L&&Fe.M>=Fe.zb&&Fe.M<=Fe.Va,Fe.Aa==0)e:{if(Ye.M=Fe.M,Ye.uc=tt,ou(Fe,Ye),nt=1,Ye=(Jt=Fe.D).Nb,tt=(dr=Yc[Fe.L])*Fe.R,jt=dr/2*Fe.B,Ir=16*Ye*Fe.R,Yn=8*Ye*Fe.B,pt=Fe.sa,Ut=Fe.ta-tt+Ir,xt=Fe.qa,at=Fe.ra-jt+Yn,wr=Fe.Ha,jr=Fe.Ia-jt+Yn,Rs=(Er=Jt.M)==0,xr=Er>=Fe.Va-1,Fe.Aa==2&&ou(Fe,Jt),Jt.uc)for(Qs=(Dn=Fe).D.M,e(Dn.D.uc),Jt=Dn.yb;Jt<Dn.Hb;++Jt){yn=Jt,ra=Qs;var vn=(Jn=(kr=Dn).D).Nb;Ur=kr.R;var Jn=Jn.wa[Jn.Y+yn],_s=kr.sa,wa=kr.ta+16*vn*Ur+16*yn,yi=Jn.dd,bn=Jn.tc;if(bn!=0)if(e(3<=bn),kr.L==1)0<yn&&rl(_s,wa,Ur,bn+4),Jn.La&&js(_s,wa,Ur,bn),0<ra&&tl(_s,wa,Ur,bn+4),Jn.La&&Kl(_s,wa,Ur,bn);else{var $n=kr.B,Wa=kr.qa,Yl=kr.ra+8*vn*$n+8*yn,al=kr.Ha,kr=kr.Ia+8*vn*$n+8*yn;vn=Jn.ld,0<yn&&(Rh(_s,wa,Ur,bn+4,yi,vn),$c(Wa,Yl,al,kr,$n,bn+4,yi,vn)),Jn.La&&(Ka(_s,wa,Ur,bn,yi,vn),Ao(Wa,Yl,al,kr,$n,bn,yi,vn)),0<ra&&(Qc(_s,wa,Ur,bn+4,yi,vn),Hc(Wa,Yl,al,kr,$n,bn+4,yi,vn)),Jn.La&&(qc(_s,wa,Ur,bn,yi,vn),el(Wa,Yl,al,kr,$n,bn,yi,vn))}}if(Fe.ia&&alert("todo:DitherRow"),Te.put!=null){if(Jt=16*Er,Er=16*(Er+1),Rs?(Te.y=Fe.sa,Te.O=Fe.ta+Ir,Te.f=Fe.qa,Te.N=Fe.ra+Yn,Te.ea=Fe.Ha,Te.W=Fe.Ia+Yn):(Jt-=dr,Te.y=pt,Te.O=Ut,Te.f=xt,Te.N=at,Te.ea=wr,Te.W=jr),xr||(Er-=dr),Er>Te.o&&(Er=Te.o),Te.F=null,Te.J=null,Fe.Fa!=null&&0<Fe.Fa.length&&Jt<Er&&(Te.J=Mh(Fe,Te,Jt,Er-Jt),Te.F=Fe.mb,Te.F==null&&Te.F.length==0)){nt=In(Fe,3,"Could not decode alpha data.");break e}Jt<Te.j&&(dr=Te.j-Jt,Jt=Te.j,e(!(1&dr)),Te.O+=Fe.R*dr,Te.N+=Fe.B*(dr>>1),Te.W+=Fe.B*(dr>>1),Te.F!=null&&(Te.J+=Te.width*dr)),Jt<Er&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Jt-Te.j,Te.U=Te.va-Te.v,Te.T=Er-Jt,nt=Te.put(Te))}Ye+1!=Fe.Ic||xr||(s(Fe.sa,Fe.ta-tt,pt,Ut+16*Fe.R,tt),s(Fe.qa,Fe.ra-jt,xt,at+8*Fe.B,jt),s(Fe.Ha,Fe.Ia-jt,wr,jr+8*Fe.B,jt))}if(!nt)return In(Me,6,"Output aborted.")}return 1})(j,F)),F.bc!=null&&F.bc(F),H&=1}return H?(j.cb=0,H):0}function fa(j,F,H,W,te){te=j[F+H+32*W]+(te>>3),j[F+H+32*W]=-256&te?0>te?0:255:te}function Gd(j,F,H,W,te,se){fa(j,F,0,H,W+te),fa(j,F,1,H,W+se),fa(j,F,2,H,W-se),fa(j,F,3,H,W-te)}function ma(j){return(20091*j>>16)+j}function kc(j,F,H,W){var te,se=0,oe=i(16);for(te=0;4>te;++te){var le=j[F+0]+j[F+8],ue=j[F+0]-j[F+8],ye=(35468*j[F+4]>>16)-ma(j[F+12]),Ee=ma(j[F+4])+(35468*j[F+12]>>16);oe[se+0]=le+Ee,oe[se+1]=ue+ye,oe[se+2]=ue-ye,oe[se+3]=le-Ee,se+=4,F++}for(te=se=0;4>te;++te)le=(j=oe[se+0]+4)+oe[se+8],ue=j-oe[se+8],ye=(35468*oe[se+4]>>16)-ma(oe[se+12]),fa(H,W,0,0,le+(Ee=ma(oe[se+4])+(35468*oe[se+12]>>16))),fa(H,W,1,0,ue+ye),fa(H,W,2,0,ue-ye),fa(H,W,3,0,le-Ee),se++,W+=32}function Eh(j,F,H,W){var te=j[F+0]+4,se=35468*j[F+4]>>16,oe=ma(j[F+4]),le=35468*j[F+1]>>16;Gd(H,W,0,te+oe,j=ma(j[F+1]),le),Gd(H,W,1,te+se,j,le),Gd(H,W,2,te-se,j,le),Gd(H,W,3,te-oe,j,le)}function kh(j,F,H,W,te){kc(j,F,H,W),te&&kc(j,F+16,H,W+4)}function Dl(j,F,H,W){Jo(j,F+0,H,W,1),Jo(j,F+32,H,W+128,1)}function Vp(j,F,H,W){var te;for(j=j[F+0]+4,te=0;4>te;++te)for(F=0;4>F;++F)fa(H,W,F,te,j)}function Xd(j,F,H,W){j[F+0]&&Ls(j,F+0,H,W),j[F+16]&&Ls(j,F+16,H,W+4),j[F+32]&&Ls(j,F+32,H,W+128),j[F+48]&&Ls(j,F+48,H,W+128+4)}function _r(j,F,H,W){var te,se=i(16);for(te=0;4>te;++te){var oe=j[F+0+te]+j[F+12+te],le=j[F+4+te]+j[F+8+te],ue=j[F+4+te]-j[F+8+te],ye=j[F+0+te]-j[F+12+te];se[0+te]=oe+le,se[8+te]=oe-le,se[4+te]=ye+ue,se[12+te]=ye-ue}for(te=0;4>te;++te)oe=(j=se[0+4*te]+3)+se[3+4*te],le=se[1+4*te]+se[2+4*te],ue=se[1+4*te]-se[2+4*te],ye=j-se[3+4*te],H[W+0]=oe+le>>3,H[W+16]=ye+ue>>3,H[W+32]=oe-le>>3,H[W+48]=ye-ue>>3,W+=64}function Yd(j,F,H){var W,te=F-32,se=ea,oe=255-j[te-1];for(W=0;W<H;++W){var le,ue=se,ye=oe+j[F-1];for(le=0;le<H;++le)j[F+le]=ue[ye+j[te+le]];F+=32}}function yf(j,F){Yd(j,F,4)}function Ph(j,F){Yd(j,F,8)}function vf(j,F){Yd(j,F,16)}function io(j,F){var H;for(H=0;16>H;++H)s(j,F+32*H,j,F-32,16)}function Pc(j,F){var H;for(H=16;0<H;--H)a(j,F,j[F-1],16),F+=32}function Ml(j,F,H){var W;for(W=0;16>W;++W)a(F,H+32*W,j,16)}function Fc(j,F){var H,W=16;for(H=0;16>H;++H)W+=j[F-1+32*H]+j[F+H-32];Ml(W>>5,j,F)}function gn(j,F){var H,W=8;for(H=0;16>H;++H)W+=j[F-1+32*H];Ml(W>>4,j,F)}function oo(j,F){var H,W=8;for(H=0;16>H;++H)W+=j[F+H-32];Ml(W>>4,j,F)}function Ri(j,F){Ml(128,j,F)}function Vt(j,F,H){return j+2*F+H+2>>2}function Tc(j,F){var H,W=F-32;for(W=new Uint8Array([Vt(j[W-1],j[W+0],j[W+1]),Vt(j[W+0],j[W+1],j[W+2]),Vt(j[W+1],j[W+2],j[W+3]),Vt(j[W+2],j[W+3],j[W+4])]),H=0;4>H;++H)s(j,F+32*H,W,0,W.length)}function lo(j,F){var H=j[F-1],W=j[F-1+32],te=j[F-1+64],se=j[F-1+96];Ce(j,F+0,16843009*Vt(j[F-1-32],H,W)),Ce(j,F+32,16843009*Vt(H,W,te)),Ce(j,F+64,16843009*Vt(W,te,se)),Ce(j,F+96,16843009*Vt(te,se,se))}function co(j,F){var H,W=4;for(H=0;4>H;++H)W+=j[F+H-32]+j[F-1+32*H];for(W>>=3,H=0;4>H;++H)a(j,F+32*H,W,4)}function Fh(j,F){var H=j[F-1+0],W=j[F-1+32],te=j[F-1+64],se=j[F-1-32],oe=j[F+0-32],le=j[F+1-32],ue=j[F+2-32],ye=j[F+3-32];j[F+0+96]=Vt(W,te,j[F-1+96]),j[F+1+96]=j[F+0+64]=Vt(H,W,te),j[F+2+96]=j[F+1+64]=j[F+0+32]=Vt(se,H,W),j[F+3+96]=j[F+2+64]=j[F+1+32]=j[F+0+0]=Vt(oe,se,H),j[F+3+64]=j[F+2+32]=j[F+1+0]=Vt(le,oe,se),j[F+3+32]=j[F+2+0]=Vt(ue,le,oe),j[F+3+0]=Vt(ye,ue,le)}function Ll(j,F){var H=j[F+1-32],W=j[F+2-32],te=j[F+3-32],se=j[F+4-32],oe=j[F+5-32],le=j[F+6-32],ue=j[F+7-32];j[F+0+0]=Vt(j[F+0-32],H,W),j[F+1+0]=j[F+0+32]=Vt(H,W,te),j[F+2+0]=j[F+1+32]=j[F+0+64]=Vt(W,te,se),j[F+3+0]=j[F+2+32]=j[F+1+64]=j[F+0+96]=Vt(te,se,oe),j[F+3+32]=j[F+2+64]=j[F+1+96]=Vt(se,oe,le),j[F+3+64]=j[F+2+96]=Vt(oe,le,ue),j[F+3+96]=Vt(le,ue,ue)}function Jd(j,F){var H=j[F-1+0],W=j[F-1+32],te=j[F-1+64],se=j[F-1-32],oe=j[F+0-32],le=j[F+1-32],ue=j[F+2-32],ye=j[F+3-32];j[F+0+0]=j[F+1+64]=se+oe+1>>1,j[F+1+0]=j[F+2+64]=oe+le+1>>1,j[F+2+0]=j[F+3+64]=le+ue+1>>1,j[F+3+0]=ue+ye+1>>1,j[F+0+96]=Vt(te,W,H),j[F+0+64]=Vt(W,H,se),j[F+0+32]=j[F+1+96]=Vt(H,se,oe),j[F+1+32]=j[F+2+96]=Vt(se,oe,le),j[F+2+32]=j[F+3+96]=Vt(oe,le,ue),j[F+3+32]=Vt(le,ue,ye)}function Zd(j,F){var H=j[F+0-32],W=j[F+1-32],te=j[F+2-32],se=j[F+3-32],oe=j[F+4-32],le=j[F+5-32],ue=j[F+6-32],ye=j[F+7-32];j[F+0+0]=H+W+1>>1,j[F+1+0]=j[F+0+64]=W+te+1>>1,j[F+2+0]=j[F+1+64]=te+se+1>>1,j[F+3+0]=j[F+2+64]=se+oe+1>>1,j[F+0+32]=Vt(H,W,te),j[F+1+32]=j[F+0+96]=Vt(W,te,se),j[F+2+32]=j[F+1+96]=Vt(te,se,oe),j[F+3+32]=j[F+2+96]=Vt(se,oe,le),j[F+3+64]=Vt(oe,le,ue),j[F+3+96]=Vt(le,ue,ye)}function eu(j,F){var H=j[F-1+0],W=j[F-1+32],te=j[F-1+64],se=j[F-1+96];j[F+0+0]=H+W+1>>1,j[F+2+0]=j[F+0+32]=W+te+1>>1,j[F+2+32]=j[F+0+64]=te+se+1>>1,j[F+1+0]=Vt(H,W,te),j[F+3+0]=j[F+1+32]=Vt(W,te,se),j[F+3+32]=j[F+1+64]=Vt(te,se,se),j[F+3+64]=j[F+2+64]=j[F+0+96]=j[F+1+96]=j[F+2+96]=j[F+3+96]=se}function bf(j,F){var H=j[F-1+0],W=j[F-1+32],te=j[F-1+64],se=j[F-1+96],oe=j[F-1-32],le=j[F+0-32],ue=j[F+1-32],ye=j[F+2-32];j[F+0+0]=j[F+2+32]=H+oe+1>>1,j[F+0+32]=j[F+2+64]=W+H+1>>1,j[F+0+64]=j[F+2+96]=te+W+1>>1,j[F+0+96]=se+te+1>>1,j[F+3+0]=Vt(le,ue,ye),j[F+2+0]=Vt(oe,le,ue),j[F+1+0]=j[F+3+32]=Vt(H,oe,le),j[F+1+32]=j[F+3+64]=Vt(W,H,oe),j[F+1+64]=j[F+3+96]=Vt(te,W,H),j[F+1+96]=Vt(se,te,W)}function Kp(j,F){var H;for(H=0;8>H;++H)s(j,F+32*H,j,F-32,8)}function Ko(j,F){var H;for(H=0;8>H;++H)a(j,F,j[F-1],8),F+=32}function Qi(j,F,H){var W;for(W=0;8>W;++W)a(F,H+32*W,j,8)}function qa(j,F){var H,W=8;for(H=0;8>H;++H)W+=j[F+H-32]+j[F-1+32*H];Qi(W>>4,j,F)}function tu(j,F){var H,W=4;for(H=0;8>H;++H)W+=j[F+H-32];Qi(W>>3,j,F)}function Oc(j,F){var H,W=4;for(H=0;8>H;++H)W+=j[F-1+32*H];Qi(W>>3,j,F)}function Th(j,F){Qi(128,j,F)}function Ul(j,F,H){var W=j[F-H],te=j[F+0],se=3*(te-W)+mo[1020+j[F-2*H]-j[F+H]],oe=xu[112+(se+4>>3)];j[F-H]=ea[255+W+xu[112+(se+3>>3)]],j[F+0]=ea[255+te-oe]}function Ic(j,F,H,W){var te=j[F+0],se=j[F+H];return gi[255+j[F-2*H]-j[F-H]]>W||gi[255+se-te]>W}function ru(j,F,H,W){return 4*gi[255+j[F-H]-j[F+0]]+gi[255+j[F-2*H]-j[F+H]]<=W}function Oh(j,F,H,W,te){var se=j[F-3*H],oe=j[F-2*H],le=j[F-H],ue=j[F+0],ye=j[F+H],Ee=j[F+2*H],$e=j[F+3*H];return 4*gi[255+le-ue]+gi[255+oe-ye]>W?0:gi[255+j[F-4*H]-se]<=te&&gi[255+se-oe]<=te&&gi[255+oe-le]<=te&&gi[255+$e-Ee]<=te&&gi[255+Ee-ye]<=te&&gi[255+ye-ue]<=te}function Hi(j,F,H,W){var te=2*W+1;for(W=0;16>W;++W)ru(j,F+W,H,te)&&Ul(j,F+W,H)}function fi(j,F,H,W){var te=2*W+1;for(W=0;16>W;++W)ru(j,F+W*H,1,te)&&Ul(j,F+W*H,1)}function mi(j,F,H,W){var te;for(te=3;0<te;--te)Hi(j,F+=4*H,H,W)}function wf(j,F,H,W){var te;for(te=3;0<te;--te)fi(j,F+=4,H,W)}function $i(j,F,H,W,te,se,oe,le){for(se=2*se+1;0<te--;){if(Oh(j,F,H,se,oe))if(Ic(j,F,H,le))Ul(j,F,H);else{var ue=j,ye=F,Ee=H,$e=ue[ye-2*Ee],qe=ue[ye-Ee],Me=ue[ye+0],ot=ue[ye+Ee],Ye=ue[ye+2*Ee],Fe=27*(nt=mo[1020+3*(Me-qe)+mo[1020+$e-ot]])+63>>7,Te=18*nt+63>>7,nt=9*nt+63>>7;ue[ye-3*Ee]=ea[255+ue[ye-3*Ee]+nt],ue[ye-2*Ee]=ea[255+$e+Te],ue[ye-Ee]=ea[255+qe+Fe],ue[ye+0]=ea[255+Me-Fe],ue[ye+Ee]=ea[255+ot-Te],ue[ye+2*Ee]=ea[255+Ye-nt]}F+=W}}function pa(j,F,H,W,te,se,oe,le){for(se=2*se+1;0<te--;){if(Oh(j,F,H,se,oe))if(Ic(j,F,H,le))Ul(j,F,H);else{var ue=j,ye=F,Ee=H,$e=ue[ye-Ee],qe=ue[ye+0],Me=ue[ye+Ee],ot=xu[112+((Ye=3*(qe-$e))+4>>3)],Ye=xu[112+(Ye+3>>3)],Fe=ot+1>>1;ue[ye-2*Ee]=ea[255+ue[ye-2*Ee]+Fe],ue[ye-Ee]=ea[255+$e+Ye],ue[ye+0]=ea[255+qe-ot],ue[ye+Ee]=ea[255+Me-Fe]}F+=W}}function nu(j,F,H,W,te,se){$i(j,F,H,1,16,W,te,se)}function Xn(j,F,H,W,te,se){$i(j,F,1,H,16,W,te,se)}function Rl(j,F,H,W,te,se){var oe;for(oe=3;0<oe;--oe)pa(j,F+=4*H,H,1,16,W,te,se)}function Ql(j,F,H,W,te,se){var oe;for(oe=3;0<oe;--oe)pa(j,F+=4,1,H,16,W,te,se)}function Dc(j,F,H,W,te,se,oe,le){$i(j,F,te,1,8,se,oe,le),$i(H,W,te,1,8,se,oe,le)}function Ih(j,F,H,W,te,se,oe,le){$i(j,F,1,te,8,se,oe,le),$i(H,W,1,te,8,se,oe,le)}function Mc(j,F,H,W,te,se,oe,le){pa(j,F+4*te,te,1,8,se,oe,le),pa(H,W+4*te,te,1,8,se,oe,le)}function su(j,F,H,W,te,se,oe,le){pa(j,F+4,1,te,8,se,oe,le),pa(H,W+4,1,te,8,se,oe,le)}function uo(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new An,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function au(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function jf(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new T}function Wp(){this.xb=this.a=0,this.l=new Wd,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new jf,this.ab=0,this.gc=o(4,au),this.Oc=0}function iu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Wd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Wo(j,F,H,W,te,se,oe){for(j=j==null?0:j[F+0],F=0;F<oe;++F)te[se+F]=j+H[W+F]&255,j=te[se+F]}function Dh(j,F,H,W,te,se,oe){var le;if(j==null)Wo(null,null,H,W,te,se,oe);else for(le=0;le<oe;++le)te[se+le]=j[F+le]+H[W+le]&255}function $l(j,F,H,W,te,se,oe){if(j==null)Wo(null,null,H,W,te,se,oe);else{var le,ue=j[F+0],ye=ue,Ee=ue;for(le=0;le<oe;++le)ye=Ee+(ue=j[F+le])-ye,Ee=H[W+le]+(-256&ye?0>ye?0:255:ye)&255,ye=ue,te[se+le]=Ee}}function Mh(j,F,H,W){var te=F.width,se=F.o;if(e(j!=null&&F!=null),0>H||0>=W||H+W>se)return null;if(!j.Cc){if(j.ga==null){var oe;if(j.ga=new iu,(oe=j.ga==null)||(oe=F.width*F.o,e(j.Gb.length==0),j.Gb=i(oe),j.Uc=0,j.Gb==null?oe=0:(j.mb=j.Gb,j.nb=j.Uc,j.rc=null,oe=1),oe=!oe),!oe){oe=j.ga;var le=j.Fa,ue=j.P,ye=j.qc,Ee=j.mb,$e=j.nb,qe=ue+1,Me=ye-1,ot=oe.l;if(e(le!=null&&Ee!=null&&F!=null),Us[0]=null,Us[1]=Wo,Us[2]=Dh,Us[3]=$l,oe.ca=Ee,oe.tb=$e,oe.c=F.width,oe.i=F.height,e(0<oe.c&&0<oe.i),1>=ye)F=0;else if(oe.$a=le[ue+0]>>0&3,oe.Z=le[ue+0]>>2&3,oe.Lc=le[ue+0]>>4&3,ue=le[ue+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||ue)F=0;else if(ot.put=hi,ot.ac=ls,ot.bc=Di,ot.ma=oe,ot.width=F.width,ot.height=F.height,ot.Da=F.Da,ot.v=F.v,ot.va=F.va,ot.j=F.j,ot.o=F.o,oe.$a)e:{e(oe.$a==1),F=Ha();t:for(;;){if(F==null){F=0;break e}if(e(oe!=null),oe.mc=F,F.c=oe.c,F.i=oe.i,F.l=oe.l,F.l.ma=oe,F.l.width=oe.c,F.l.height=oe.i,F.a=0,G(F.m,le,qe,Me),!ao(oe.c,oe.i,1,F,null)||(F.ab==1&&F.gc[0].hc==3&&Vo(F.s)?(oe.ic=1,le=F.c*F.i,F.Ta=null,F.Ua=0,F.V=i(le),F.Ba=0,F.V==null?(F.a=1,F=0):F=1):(oe.ic=0,F=Tl(F,oe.c)),!F))break t;F=1;break e}oe.mc=null,F=0}else F=Me>=oe.c*oe.i;oe=!F}if(oe)return null;j.ga.Lc!=1?j.Ga=0:W=se-H}e(j.ga!=null),e(H+W<=se);e:{if(F=(le=j.ga).c,se=le.l.o,le.$a==0){if(qe=j.rc,Me=j.Vc,ot=j.Fa,ue=j.P+1+H*F,ye=j.mb,Ee=j.nb+H*F,e(ue<=j.P+j.qc),le.Z!=0)for(e(Us[le.Z]!=null),oe=0;oe<W;++oe)Us[le.Z](qe,Me,ot,ue,ye,Ee,F),qe=ye,Me=Ee,Ee+=F,ue+=F;else for(oe=0;oe<W;++oe)s(ye,Ee,ot,ue,F),qe=ye,Me=Ee,Ee+=F,ue+=F;j.rc=qe,j.Vc=Me}else{if(e(le.mc!=null),F=H+W,e((oe=le.mc)!=null),e(F<=oe.i),oe.C>=F)F=1;else if(le.ic||He(),le.ic){le=oe.V,qe=oe.Ba,Me=oe.c;var Ye=oe.i,Fe=(ot=1,ue=oe.$/Me,ye=oe.$%Me,Ee=oe.m,$e=oe.s,oe.$),Te=Me*Ye,nt=Me*F,tt=$e.wc,at=Fe<nt?mn($e,ye,ue):null;e(Fe<=Te),e(F<=Ye),e(Vo($e));t:for(;;){for(;!Ee.h&&Fe<nt;){if(ye&tt||(at=mn($e,ye,ue)),e(at!=null),Ae(Ee),256>(Ye=Aa(at.G[0],at.H[0],Ee)))le[qe+Fe]=Ye,++Fe,++ye>=Me&&(ye=0,++ue<=F&&!(ue%16)&&Li(oe,ue));else{if(!(280>Ye)){ot=0;break t}Ye=Qa(Ye-256,Ee);var jt,pt=Aa(at.G[4],at.H[4],Ee);if(Ae(Ee),!(Fe>=(pt=ha(Me,pt=Qa(pt,Ee)))&&Te-Fe>=Ye)){ot=0;break t}for(jt=0;jt<Ye;++jt)le[qe+Fe+jt]=le[qe+Fe+jt-pt];for(Fe+=Ye,ye+=Ye;ye>=Me;)ye-=Me,++ue<=F&&!(ue%16)&&Li(oe,ue);Fe<nt&&ye&tt&&(at=mn($e,ye,ue))}e(Ee.h==Y(Ee))}Li(oe,ue>F?F:ue);break t}!ot||Ee.h&&Fe<Te?(ot=0,oe.a=Ee.h?5:3):oe.$=Fe,F=ot}else F=ws(oe,oe.V,oe.Ba,oe.c,oe.i,F,Nc);if(!F){W=0;break e}}H+W>=se&&(j.Cc=1),W=1}if(!W)return null;if(j.Cc&&((W=j.ga)!=null&&(W.mc=null),j.ga=null,0<j.Ga))return alert("todo:WebPDequantizeLevels"),null}return j.nb+H*te}function M(j,F,H,W,te,se){for(;0<te--;){var oe,le=j,ue=F+(H?1:0),ye=j,Ee=F+(H?0:3);for(oe=0;oe<W;++oe){var $e=ye[Ee+4*oe];$e!=255&&($e*=32897,le[ue+4*oe+0]=le[ue+4*oe+0]*$e>>23,le[ue+4*oe+1]=le[ue+4*oe+1]*$e>>23,le[ue+4*oe+2]=le[ue+4*oe+2]*$e>>23)}F+=se}}function ne(j,F,H,W,te){for(;0<W--;){var se;for(se=0;se<H;++se){var oe=j[F+2*se+0],le=15&(ye=j[F+2*se+1]),ue=4369*le,ye=(240&ye|ye>>4)*ue>>16;j[F+2*se+0]=(240&oe|oe>>4)*ue>>16&240|(15&oe|oe<<4)*ue>>16>>4&15,j[F+2*se+1]=240&ye|le}F+=te}}function be(j,F,H,W,te,se,oe,le){var ue,ye,Ee=255;for(ye=0;ye<te;++ye){for(ue=0;ue<W;++ue){var $e=j[F+ue];se[oe+4*ue]=$e,Ee&=$e}F+=H,oe+=le}return Ee!=255}function Be(j,F,H,W,te){var se;for(se=0;se<te;++se)H[W+se]=j[F+se]>>8}function He(){ga=M,zr=ne,Tr=be,kn=Be}function et(j,F,H){S[j]=function(W,te,se,oe,le,ue,ye,Ee,$e,qe,Me,ot,Ye,Fe,Te,nt,tt){var at,jt=tt-1>>1,pt=le[ue+0]|ye[Ee+0]<<16,Ut=$e[qe+0]|Me[ot+0]<<16;e(W!=null);var xt=3*pt+Ut+131074>>2;for(F(W[te+0],255&xt,xt>>16,Ye,Fe),se!=null&&(xt=3*Ut+pt+131074>>2,F(se[oe+0],255&xt,xt>>16,Te,nt)),at=1;at<=jt;++at){var wr=le[ue+at]|ye[Ee+at]<<16,jr=$e[qe+at]|Me[ot+at]<<16,xr=pt+wr+Ut+jr+524296,dr=xr+2*(wr+Ut)>>3;xt=dr+pt>>1,pt=(xr=xr+2*(pt+jr)>>3)+wr>>1,F(W[te+2*at-1],255&xt,xt>>16,Ye,Fe+(2*at-1)*H),F(W[te+2*at-0],255&pt,pt>>16,Ye,Fe+(2*at-0)*H),se!=null&&(xt=xr+Ut>>1,pt=dr+jr>>1,F(se[oe+2*at-1],255&xt,xt>>16,Te,nt+(2*at-1)*H),F(se[oe+2*at+0],255&pt,pt>>16,Te,nt+(2*at+0)*H)),pt=wr,Ut=jr}1&tt||(xt=3*pt+Ut+131074>>2,F(W[te+tt-1],255&xt,xt>>16,Ye,Fe+(tt-1)*H),se!=null&&(xt=3*Ut+pt+131074>>2,F(se[oe+tt-1],255&xt,xt>>16,Te,nt+(tt-1)*H)))}}function ct(){ya[_f]=w2,ya[Wl]=Gl,ya[ry]=j2,ya[Hh]=wu,ya[$h]=Gc,ya[Vr]=Wh,ya[Cf]=Jp,ya[yu]=Gl,ya[Vc]=wu,ya[qh]=Gc,ya[zh]=Wh}function wt(j){return j&-16384?0>j?0:255:j>>Xl}function Dt(j,F){return wt((19077*j>>8)+(26149*F>>8)-14234)}function or(j,F,H){return wt((19077*j>>8)-(6419*F>>8)-(13320*H>>8)+8708)}function sr(j,F){return wt((19077*j>>8)+(33050*F>>8)-17685)}function pr(j,F,H,W,te){W[te+0]=Dt(j,H),W[te+1]=or(j,F,H),W[te+2]=sr(j,F)}function xn(j,F,H,W,te){W[te+0]=sr(j,F),W[te+1]=or(j,F,H),W[te+2]=Dt(j,H)}function Bn(j,F,H,W,te){var se=or(j,F,H);F=se<<3&224|sr(j,F)>>3,W[te+0]=248&Dt(j,H)|se>>5,W[te+1]=F}function Qn(j,F,H,W,te){var se=240&sr(j,F)|15;W[te+0]=240&Dt(j,H)|or(j,F,H)>>4,W[te+1]=se}function Ds(j,F,H,W,te){W[te+0]=255,pr(j,F,H,W,te+1)}function cs(j,F,H,W,te){xn(j,F,H,W,te),W[te+3]=255}function qi(j,F,H,W,te){pr(j,F,H,W,te),W[te+3]=255}function za(j,F){return 0>j?0:j>F?F:j}function pi(j,F,H){S[j]=function(W,te,se,oe,le,ue,ye,Ee,$e){for(var qe=Ee+(-2&$e)*H;Ee!=qe;)F(W[te+0],se[oe+0],le[ue+0],ye,Ee),F(W[te+1],se[oe+0],le[ue+0],ye,Ee+H),te+=2,++oe,++ue,Ee+=2*H;1&$e&&F(W[te+0],se[oe+0],le[ue+0],ye,Ee)}}function ql(j,F,H){return H==0?j==0?F==0?6:5:F==0?4:0:H}function Lh(j,F,H,W,te){switch(j>>>30){case 3:Jo(F,H,W,te,0);break;case 2:Cr(F,H,W,te);break;case 1:Ls(F,H,W,te)}}function ou(j,F){var H,W,te=F.M,se=F.Nb,oe=j.oc,le=j.pc+40,ue=j.oc,ye=j.pc+584,Ee=j.oc,$e=j.pc+600;for(H=0;16>H;++H)oe[le+32*H-1]=129;for(H=0;8>H;++H)ue[ye+32*H-1]=129,Ee[$e+32*H-1]=129;for(0<te?oe[le-1-32]=ue[ye-1-32]=Ee[$e-1-32]=129:(a(oe,le-32-1,127,21),a(ue,ye-32-1,127,9),a(Ee,$e-32-1,127,9)),W=0;W<j.za;++W){var qe=F.ya[F.aa+W];if(0<W){for(H=-1;16>H;++H)s(oe,le+32*H-4,oe,le+32*H+12,4);for(H=-1;8>H;++H)s(ue,ye+32*H-4,ue,ye+32*H+4,4),s(Ee,$e+32*H-4,Ee,$e+32*H+4,4)}var Me=j.Gd,ot=j.Hd+W,Ye=qe.ad,Fe=qe.Hc;if(0<te&&(s(oe,le-32,Me[ot].y,0,16),s(ue,ye-32,Me[ot].f,0,8),s(Ee,$e-32,Me[ot].ea,0,8)),qe.Za){var Te=oe,nt=le-32+16;for(0<te&&(W>=j.za-1?a(Te,nt,Me[ot].y[15],4):s(Te,nt,Me[ot+1].y,0,4)),H=0;4>H;H++)Te[nt+128+H]=Te[nt+256+H]=Te[nt+384+H]=Te[nt+0+H];for(H=0;16>H;++H,Fe<<=2)Te=oe,nt=le+Zp[H],xi[qe.Ob[H]](Te,nt),Lh(Fe,Ye,16*+H,Te,nt)}else if(Te=ql(W,te,qe.Ob[0]),ta[Te](oe,le),Fe!=0)for(H=0;16>H;++H,Fe<<=2)Lh(Fe,Ye,16*+H,oe,le+Zp[H]);for(H=qe.Gc,Te=ql(W,te,qe.Dd),xa[Te](ue,ye),xa[Te](Ee,$e),Fe=Ye,Te=ue,nt=ye,255&(qe=H>>0)&&(170&qe?Zo(Fe,256,Te,nt):Va(Fe,256,Te,nt)),qe=Ee,Fe=$e,255&(H>>=8)&&(170&H?Zo(Ye,320,qe,Fe):Va(Ye,320,qe,Fe)),te<j.Ub-1&&(s(Me[ot].y,0,oe,le+480,16),s(Me[ot].f,0,ue,ye+224,8),s(Me[ot].ea,0,Ee,$e+224,8)),H=8*se*j.B,Me=j.sa,ot=j.ta+16*W+16*se*j.R,Ye=j.qa,qe=j.ra+8*W+H,Fe=j.Ha,Te=j.Ia+8*W+H,H=0;16>H;++H)s(Me,ot+H*j.R,oe,le+32*H,16);for(H=0;8>H;++H)s(Ye,qe+H*j.B,ue,ye+32*H,8),s(Fe,Te+H*j.B,Ee,$e+32*H,8)}}function Lc(j,F,H,W,te,se,oe,le,ue){var ye=[0],Ee=[0],$e=0,qe=ue!=null?ue.kd:0,Me=ue??new Hl;if(j==null||12>H)return 7;Me.data=j,Me.w=F,Me.ha=H,F=[F],H=[H],Me.gb=[Me.gb];e:{var ot=F,Ye=H,Fe=Me.gb;if(e(j!=null),e(Ye!=null),e(Fe!=null),Fe[0]=0,12<=Ye[0]&&!r(j,ot[0],"RIFF")){if(r(j,ot[0]+8,"WEBP")){Fe=3;break e}var Te=Ie(j,ot[0]+4);if(12>Te||4294967286<Te){Fe=3;break e}if(qe&&Te>Ye[0]-8){Fe=7;break e}Fe[0]=Te,ot[0]+=12,Ye[0]-=12}Fe=0}if(Fe!=0)return Fe;for(Te=0<Me.gb[0],H=H[0];;){e:{var nt=j;Ye=F,Fe=H;var tt=ye,at=Ee,jt=ot=[0];if((xt=$e=[$e])[0]=0,8>Fe[0])Fe=7;else{if(!r(nt,Ye[0],"VP8X")){if(Ie(nt,Ye[0]+4)!=10){Fe=3;break e}if(18>Fe[0]){Fe=7;break e}var pt=Ie(nt,Ye[0]+8),Ut=1+we(nt,Ye[0]+12);if(2147483648<=Ut*(nt=1+we(nt,Ye[0]+15))){Fe=3;break e}jt!=null&&(jt[0]=pt),tt!=null&&(tt[0]=Ut),at!=null&&(at[0]=nt),Ye[0]+=18,Fe[0]-=18,xt[0]=1}Fe=0}}if($e=$e[0],ot=ot[0],Fe!=0)return Fe;if(Ye=!!(2&ot),!Te&&$e)return 3;if(se!=null&&(se[0]=!!(16&ot)),oe!=null&&(oe[0]=Ye),le!=null&&(le[0]=0),oe=ye[0],ot=Ee[0],$e&&Ye&&ue==null){Fe=0;break}if(4>H){Fe=7;break}if(Te&&$e||!Te&&!$e&&!r(j,F[0],"ALPH")){H=[H],Me.na=[Me.na],Me.P=[Me.P],Me.Sa=[Me.Sa];e:{pt=j,Fe=F,Te=H;var xt=Me.gb;tt=Me.na,at=Me.P,jt=Me.Sa,Ut=22,e(pt!=null),e(Te!=null),nt=Fe[0];var wr=Te[0];for(e(tt!=null),e(jt!=null),tt[0]=null,at[0]=null,jt[0]=0;;){if(Fe[0]=nt,Te[0]=wr,8>wr){Fe=7;break e}var jr=Ie(pt,nt+4);if(4294967286<jr){Fe=3;break e}var xr=8+jr+1&-2;if(Ut+=xr,0<xt&&Ut>xt){Fe=3;break e}if(!r(pt,nt,"VP8 ")||!r(pt,nt,"VP8L")){Fe=0;break e}if(wr[0]<xr){Fe=7;break e}r(pt,nt,"ALPH")||(tt[0]=pt,at[0]=nt+8,jt[0]=jr),nt+=xr,wr-=xr}}if(H=H[0],Me.na=Me.na[0],Me.P=Me.P[0],Me.Sa=Me.Sa[0],Fe!=0)break}H=[H],Me.Ja=[Me.Ja],Me.xa=[Me.xa];e:if(xt=j,Fe=F,Te=H,tt=Me.gb[0],at=Me.Ja,jt=Me.xa,pt=Fe[0],nt=!r(xt,pt,"VP8 "),Ut=!r(xt,pt,"VP8L"),e(xt!=null),e(Te!=null),e(at!=null),e(jt!=null),8>Te[0])Fe=7;else{if(nt||Ut){if(xt=Ie(xt,pt+4),12<=tt&&xt>tt-12){Fe=3;break e}if(qe&&xt>Te[0]-8){Fe=7;break e}at[0]=xt,Fe[0]+=8,Te[0]-=8,jt[0]=Ut}else jt[0]=5<=Te[0]&&xt[pt+0]==47&&!(xt[pt+4]>>5),at[0]=Te[0];Fe=0}if(H=H[0],Me.Ja=Me.Ja[0],Me.xa=Me.xa[0],F=F[0],Fe!=0)break;if(4294967286<Me.Ja)return 3;if(le==null||Ye||(le[0]=Me.xa?2:1),oe=[oe],ot=[ot],Me.xa){if(5>H){Fe=7;break}le=oe,qe=ot,Ye=se,j==null||5>H?j=0:5<=H&&j[F+0]==47&&!(j[F+4]>>5)?(Te=[0],xt=[0],tt=[0],G(at=new $,j,F,H),Lt(at,Te,xt,tt)?(le!=null&&(le[0]=Te[0]),qe!=null&&(qe[0]=xt[0]),Ye!=null&&(Ye[0]=tt[0]),j=1):j=0):j=0}else{if(10>H){Fe=7;break}le=ot,j==null||10>H||!gf(j,F+3,H-3)?j=0:(qe=j[F+0]|j[F+1]<<8|j[F+2]<<16,Ye=16383&(j[F+7]<<8|j[F+6]),j=16383&(j[F+9]<<8|j[F+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Me.Ja||!Ye||!j?j=0:(oe&&(oe[0]=Ye),le&&(le[0]=j),j=1))}if(!j||(oe=oe[0],ot=ot[0],$e&&(ye[0]!=oe||Ee[0]!=ot)))return 3;ue!=null&&(ue[0]=Me,ue.offset=F-ue.w,e(4294967286>F-ue.w),e(ue.offset==ue.ha-H));break}return Fe==0||Fe==7&&$e&&ue==null?(se!=null&&(se[0]|=Me.na!=null&&0<Me.na.length),W!=null&&(W[0]=oe),te!=null&&(te[0]=ot),0):Fe}function lu(j,F,H){var W=F.width,te=F.height,se=0,oe=0,le=W,ue=te;if(F.Da=j!=null&&0<j.Da,F.Da&&(le=j.cd,ue=j.bd,se=j.v,oe=j.j,11>H||(se&=-2,oe&=-2),0>se||0>oe||0>=le||0>=ue||se+le>W||oe+ue>te))return 0;if(F.v=se,F.j=oe,F.va=se+le,F.o=oe+ue,F.U=le,F.T=ue,F.da=j!=null&&0<j.da,F.da){if(!Qe(le,ue,H=[j.ib],se=[j.hb]))return 0;F.ib=H[0],F.hb=se[0]}return F.ob=j!=null&&j.ob,F.Kb=j==null||!j.Sd,F.da&&(F.ob=F.ib<3*W/4&&F.hb<3*te/4,F.Kb=0),1}function cu(j){if(j==null)return 2;if(11>j.S){var F=j.f.RGBA;F.fb+=(j.height-1)*F.A,F.A=-F.A}else F=j.f.kb,j=j.height,F.O+=(j-1)*F.fa,F.fa=-F.fa,F.N+=(j-1>>1)*F.Ab,F.Ab=-F.Ab,F.W+=(j-1>>1)*F.Db,F.Db=-F.Db,F.F!=null&&(F.J+=(j-1)*F.lb,F.lb=-F.lb);return 0}function Uc(j,F,H,W){if(W==null||0>=j||0>=F)return 2;if(H!=null){if(H.Da){var te=H.cd,se=H.bd,oe=-2&H.v,le=-2&H.j;if(0>oe||0>le||0>=te||0>=se||oe+te>j||le+se>F)return 2;j=te,F=se}if(H.da){if(!Qe(j,F,te=[H.ib],se=[H.hb]))return 2;j=te[0],F=se[0]}}W.width=j,W.height=F;e:{var ue=W.width,ye=W.height;if(j=W.S,0>=ue||0>=ye||!(j>=_f&&13>j))j=2;else{if(0>=W.Rd&&W.sd==null){oe=se=te=F=0;var Ee=(le=ue*Gh[j])*ye;if(11>j||(se=(ye+1)/2*(F=(ue+1)/2),j==12&&(oe=(te=ue)*ye)),(ye=i(Ee+2*se+oe))==null){j=1;break e}W.sd=ye,11>j?((ue=W.f.RGBA).eb=ye,ue.fb=0,ue.A=le,ue.size=Ee):((ue=W.f.kb).y=ye,ue.O=0,ue.fa=le,ue.Fd=Ee,ue.f=ye,ue.N=0+Ee,ue.Ab=F,ue.Cd=se,ue.ea=ye,ue.W=0+Ee+se,ue.Db=F,ue.Ed=se,j==12&&(ue.F=ye,ue.J=0+Ee+2*se),ue.Tc=oe,ue.lb=te)}if(F=1,te=W.S,se=W.width,oe=W.height,te>=_f&&13>te)if(11>te)j=W.f.RGBA,F&=(le=Math.abs(j.A))*(oe-1)+se<=j.size,F&=le>=se*Gh[te],F&=j.eb!=null;else{j=W.f.kb,le=(se+1)/2,Ee=(oe+1)/2,ue=Math.abs(j.fa),ye=Math.abs(j.Ab);var $e=Math.abs(j.Db),qe=Math.abs(j.lb),Me=qe*(oe-1)+se;F&=ue*(oe-1)+se<=j.Fd,F&=ye*(Ee-1)+le<=j.Cd,F=(F&=$e*(Ee-1)+le<=j.Ed)&ue>=se&ye>=le&$e>=le,F&=j.y!=null,F&=j.f!=null,F&=j.ea!=null,te==12&&(F&=qe>=se,F&=Me<=j.Tc,F&=j.F!=null)}else F=0;j=F?0:2}}return j!=0||H!=null&&H.fd&&(j=cu(W)),j}var En=64,du=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],uu=24,hu=32,Au=8,Ys=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(j){return j},S.Predictor2=function(j,F,H){return F[H+0]},S.Predictor3=function(j,F,H){return F[H+1]},S.Predictor4=function(j,F,H){return F[H-1]},S.Predictor5=function(j,F,H){return Oe(Oe(j,F[H+1]),F[H+0])},S.Predictor6=function(j,F,H){return Oe(j,F[H-1])},S.Predictor7=function(j,F,H){return Oe(j,F[H+0])},S.Predictor8=function(j,F,H){return Oe(F[H-1],F[H+0])},S.Predictor9=function(j,F,H){return Oe(F[H+0],F[H+1])},S.Predictor10=function(j,F,H){return Oe(Oe(j,F[H-1]),Oe(F[H+0],F[H+1]))},S.Predictor11=function(j,F,H){var W=F[H+0];return 0>=Ne(W>>24&255,j>>24&255,(F=F[H-1])>>24&255)+Ne(W>>16&255,j>>16&255,F>>16&255)+Ne(W>>8&255,j>>8&255,F>>8&255)+Ne(255&W,255&j,255&F)?W:j},S.Predictor12=function(j,F,H){var W=F[H+0];return(ve((j>>24&255)+(W>>24&255)-((F=F[H-1])>>24&255))<<24|ve((j>>16&255)+(W>>16&255)-(F>>16&255))<<16|ve((j>>8&255)+(W>>8&255)-(F>>8&255))<<8|ve((255&j)+(255&W)-(255&F)))>>>0},S.Predictor13=function(j,F,H){var W=F[H-1];return(st((j=Oe(j,F[H+0]))>>24&255,W>>24&255)<<24|st(j>>16&255,W>>16&255)<<16|st(j>>8&255,W>>8&255)<<8|st(j>>0&255,W>>0&255))>>>0};var Rc=S.PredictorAdd0;S.PredictorAdd1=ge,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Go=S.PredictorAdd2;gt("ColorIndexInverseTransform","MapARGB","32b",(function(j){return j>>8&255}),(function(j){return j})),gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(j){return j}),(function(j){return j>>8&255}));var Nf,Js=S.ColorIndexInverseTransform,fu=S.MapARGB,Uh=S.VP8LColorIndexInverseTransformAlpha,mu=S.MapAlpha,ho=S.VP8LPredictorsAdd=[];ho.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var zl,Zs,Ms,Vl,Xo,Yo,pu,Jo,Cr,Zo,Ls,Va,Qc,Rh,Hc,$c,qc,Ka,el,Ao,tl,rl,Kl,js,ga,zr,Tr,kn,Hn=i(511),fo=i(2041),gu=i(225),zc=i(767),Qh=0,mo=fo,xu=gu,ea=zc,gi=Hn,_f=0,Wl=1,ry=2,Hh=3,$h=4,Vr=5,Cf=6,yu=7,Vc=8,qh=9,zh=10,Vh=[2,3,7],Sf=[3,3,11],Kc=[280,256,256,256,40],ny=[0,1,1,1,0],x2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],y2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Bf=8,vu=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Wc=null,Gp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ay=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],iy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],v2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],b2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Yp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ta=[],xi=[],xa=[],po=1,bu=2,Us=[],ya=[];et("UpsampleRgbLinePair",pr,3),et("UpsampleBgrLinePair",xn,3),et("UpsampleRgbaLinePair",qi,4),et("UpsampleBgraLinePair",cs,4),et("UpsampleArgbLinePair",Ds,4),et("UpsampleRgba4444LinePair",Qn,2),et("UpsampleRgb565LinePair",Bn,2);var w2=S.UpsampleRgbLinePair,j2=S.UpsampleBgrLinePair,Gl=S.UpsampleRgbaLinePair,wu=S.UpsampleBgraLinePair,Gc=S.UpsampleArgbLinePair,Wh=S.UpsampleRgba4444LinePair,Jp=S.UpsampleRgb565LinePair,nl=16,zi=1<<nl-1,Or=-227,Lr=482,Xl=6,Ns=0,va=i(256),Xc=i(256),ju=i(256),ba=i(256),Ef=i(Lr-Or),oy=i(Lr-Or);pi("YuvToRgbRow",pr,3),pi("YuvToBgrRow",xn,3),pi("YuvToRgbaRow",qi,4),pi("YuvToBgraRow",cs,4),pi("YuvToArgbRow",Ds,4),pi("YuvToRgba4444Row",Qn,2),pi("YuvToRgb565Row",Bn,2);var Zp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yc=[0,2,8],ly=[8,7,6,4,4,2,2,2,1,1,1,1],sl=1;this.WebPDecodeRGBA=function(j,F,H,W,te){var se=Wl,oe=new uo,le=new Sn;oe.ba=le,le.S=se,le.width=[le.width],le.height=[le.height];var ue=le.width,ye=le.height,Ee=new ua;if(Ee==null||j==null)var $e=2;else e(Ee!=null),$e=Lc(j,F,H,Ee.width,Ee.height,Ee.Pd,Ee.Qd,Ee.format,null);if($e!=0?ue=0:(ue!=null&&(ue[0]=Ee.width[0]),ye!=null&&(ye[0]=Ee.height[0]),ue=1),ue){le.width=le.width[0],le.height=le.height[0],W!=null&&(W[0]=le.width),te!=null&&(te[0]=le.height);e:{if(W=new Wd,(te=new Hl).data=j,te.w=F,te.ha=H,te.kd=1,F=[0],e(te!=null),((j=Lc(te.data,te.w,te.ha,null,null,null,F,null,te))==0||j==7)&&F[0]&&(j=4),(F=j)==0){if(e(oe!=null),W.data=te.data,W.w=te.w+te.offset,W.ha=te.ha-te.offset,W.put=hi,W.ac=ls,W.bc=Di,W.ma=oe,te.xa){if((j=Ha())==null){oe=1;break e}if((function(qe,Me){var ot=[0],Ye=[0],Fe=[0];t:for(;;){if(qe==null)return 0;if(Me==null)return qe.a=2,0;if(qe.l=Me,qe.a=0,G(qe.m,Me.data,Me.w,Me.ha),!Lt(qe.m,ot,Ye,Fe)){qe.a=3;break t}if(qe.xb=bu,Me.width=ot[0],Me.height=Ye[0],!ao(ot[0],Ye[0],1,qe,null))break t;return 1}return e(qe.a!=0),0})(j,W)){if(W=(F=Uc(W.width,W.height,oe.Oa,oe.ba))==0){t:{W=j;r:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((H=W.l)!=null),e((te=H.ma)!=null),W.xb!=0){if(W.ca=te.ba,W.tb=te.tb,e(W.ca!=null),!lu(te.Oa,H,Hh)){W.a=2;break r}if(!Tl(W,H.width)||H.da)break r;if((H.da||It(W.ca.S))&&He(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&He()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!lt(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!ws(W,W.V,W.Ba,W.c,W.i,H.o,Fl))break r;te.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(F=j.a)}else F=j.a}else{if((j=new $a)==null){oe=1;break e}if(j.Fa=te.na,j.P=te.P,j.qc=te.Sa,xf(j,W)){if((F=Uc(W.width,W.height,oe.Oa,oe.ba))==0){if(j.Aa=0,H=oe.Oa,e((te=j)!=null),H!=null){if(0<(ue=0>(ue=H.Md)?0:100<ue?255:255*ue/100)){for(ye=Ee=0;4>ye;++ye)12>($e=te.pb[ye]).lc&&($e.ia=ue*ly[0>$e.lc?0:$e.lc]>>3),Ee|=$e.ia;Ee&&(alert("todo:VP8InitRandom"),te.ia=1)}te.Ga=H.Id,100<te.Ga?te.Ga=100:0>te.Ga&&(te.Ga=0)}Ec(j,W)||(F=j.a)}}else F=j.a}F==0&&oe.Oa!=null&&oe.Oa.fd&&(F=cu(oe.ba))}oe=F}se=oe!=0?null:11>se?le.f.RGBA.eb:le.f.kb.y}else se=null;return se};var Gh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(S,E){for(var D="",N=0;N<4;N++)D+=String.fromCharCode(S[E++]);return D}function u(S,E){return(S[E+0]<<0|S[E+1]<<8|S[E+2]<<16)>>>0}function h(S,E){return(S[E+0]<<0|S[E+1]<<8|S[E+2]<<16|S[E+3]<<24)>>>0}new c;var f=[0],p=[0],v=[],y=new c,g=t,x=(function(S,E){var D={},N=0,T=!1,Q=0,U=0;if(D.frames=[],!(function(L,Y,X,Ae){for(var fe=0;fe<Ae;fe++)if(L[Y+fe]!=X.charCodeAt(fe))return!0;return!1})(S,E,"RIFF",4)){var K,z;for(h(S,E+=4),E+=8;E<S.length;){var ee=d(S,E),G=h(S,E+=4);E+=4;var q=G+(1&G);switch(ee){case"VP8 ":case"VP8L":D.frames[N]===void 0&&(D.frames[N]={}),($=D.frames[N]).src_off=T?U:E-8,$.src_size=Q+G+8,N++,T&&(T=!1,Q=0,U=0);break;case"VP8X":($=D.header={}).feature_flags=S[E];var re=E+4;$.canvas_width=1+u(S,re),re+=3,$.canvas_height=1+u(S,re),re+=3;break;case"ALPH":T=!0,Q=q+8,U=E-8;break;case"ANIM":($=D.header).bgcolor=h(S,E),re=E+4,$.loop_count=(K=S)[(z=re)+0]<<0|K[z+1]<<8,re+=2;break;case"ANMF":var Z,$;($=D.frames[N]={}).offset_x=2*u(S,E),E+=3,$.offset_y=2*u(S,E),E+=3,$.width=1+u(S,E),E+=3,$.height=1+u(S,E),E+=3,$.duration=u(S,E),E+=3,Z=S[E++],$.dispose=1&Z,$.blend=Z>>1&1}ee!="ANMF"&&(E+=q)}return D}})(g,0);x.response=g,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,_=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],p=[w.canvas_width];for(var k=0;k<_.length&&_[k].blend!=0;k++);}var C=_[0],B=y.WebPDecodeRGBA(g,C.src_off,C.src_size,p,f);C.rgba=B,C.imgwidth=p[0],C.imgheight=f[0];for(var I=0;I<p[0]*f[0]*4;I++)v[I]=B[I];return this.width=p,this.height=f,this.data=v,this}(function(t){var e=function(){return typeof NS=="function"},r=function(f,p,v,y){var g=4,x=o;switch(y){case t.image_compression.FAST:g=1,x=i;break;case t.image_compression.MEDIUM:g=6,x=l;break;case t.image_compression.SLOW:g=9,x=c}f=s(f,p,v,x);var w=NS(f,{level:g});return t.__addimage__.arrayBufferToBinaryString(w)},s=function(f,p,v,y){for(var g,x,w,_=f.length/p,k=new Uint8Array(f.length+_),C=u(),B=0;B<_;B+=1){if(w=B*p,g=f.subarray(w,w+p),y)k.set(y(g,v,x),w+B);else{for(var I,S=C.length,E=[];I<S;I+=1)E[I]=C[I](g,v,x);var D=h(E.concat());k.set(E[D],w+B)}x=g}return k},a=function(f){var p=Array.apply([],f);return p.unshift(0),p},i=function(f,p){var v,y=[],g=f.length;y[0]=1;for(var x=0;x<g;x+=1)v=f[x-p]||0,y[x+1]=f[x]-v+256&255;return y},o=function(f,p,v){var y,g=[],x=f.length;g[0]=2;for(var w=0;w<x;w+=1)y=v&&v[w]||0,g[w+1]=f[w]-y+256&255;return g},l=function(f,p,v){var y,g,x=[],w=f.length;x[0]=3;for(var _=0;_<w;_+=1)y=f[_-p]||0,g=v&&v[_]||0,x[_+1]=f[_]+256-(y+g>>>1)&255;return x},c=function(f,p,v){var y,g,x,w,_=[],k=f.length;_[0]=4;for(var C=0;C<k;C+=1)y=f[C-p]||0,g=v&&v[C]||0,x=v&&v[C-p]||0,w=d(y,g,x),_[C+1]=f[C]-w+256&255;return _},d=function(f,p,v){if(f===p&&p===v)return f;var y=Math.abs(p-v),g=Math.abs(f-v),x=Math.abs(f+p-v-v);return y<=g&&y<=x?f:g<=x?p:v},u=function(){return[a,i,o,l,c]},h=function(f){var p=f.map((function(v){return v.reduce((function(y,g){return y+Math.abs(g)}),0)}));return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(f,p,v,y){var g,x,w,_,k,C,B,I,S,E,D,N,T,Q,U,K=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(w=new sce(f)).imgData,x=w.bits,g=w.colorSpace,k=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){S=(I=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,D=new Uint8Array(S*w.colors),E=new Uint8Array(S);var ee,G=w.pixelBitlength-w.bits;for(Q=0,U=0;Q<S;Q++){for(T=I[Q],ee=0;ee<G;)D[U++]=T>>>ee&255,ee+=w.bits;E[Q]=T>>>ee&255}}if(w.bits===16){S=(I=new Uint32Array(w.decodePixels().buffer)).length,D=new Uint8Array(S*(32/w.pixelBitlength)*w.colors),E=new Uint8Array(S*(32/w.pixelBitlength)),N=w.colors>1,Q=0,U=0;for(var q=0;Q<S;)T=I[Q++],D[U++]=T>>>0&255,N&&(D[U++]=T>>>16&255,T=I[Q++],D[U++]=T>>>0&255),E[q++]=T>>>16&255;x=8}y!==t.image_compression.NONE&&e()?(f=r(D,w.width*w.colors,w.colors,y),B=r(E,w.width,1,y)):(f=D,B=E,K=void 0)}if(w.colorType===3&&(g=this.color_spaces.INDEXED,C=w.palette,w.transparency.indexed)){var re=w.transparency.indexed,Z=0;for(Q=0,S=re.length;Q<S;++Q)Z+=re[Q];if((Z/=255)===S-1&&re.indexOf(0)!==-1)_=[re.indexOf(0)];else if(Z!==S){for(I=w.decodePixels(),E=new Uint8Array(I.length),Q=0,S=I.length;Q<S;Q++)E[Q]=re[I[Q]];B=r(E,w.width,1)}}var $=(function(L){var Y;switch(L){case t.image_compression.FAST:Y=11;break;case t.image_compression.MEDIUM:Y=13;break;case t.image_compression.SLOW:Y=14;break;default:Y=12}return Y})(y);return K===this.decode.FLATE_DECODE&&(z="/Predictor "+$+" "),z+="/Colors "+k+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:v,data:f,index:p,filter:K,decodeParameters:z,transparency:_,palette:C,sMask:B,predictor:$,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:g}}}})(Rt.API),(function(t){t.processGIF89A=function(e,r,s,a){var i=new ace(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},u=new zj(100).encode(d,100);return t.processJPEG.call(this,u,r,s,a)},t.processGIF87A=t.processGIF89A})(Rt.API),ml.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:s,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ml.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){tn.log("bit decode error:"+r)}},ml.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var s=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},ml.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),o=s*this.width*4+2*a*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*a+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ml.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<this.width;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*s;if(a<this.palette.length){var o=this.palette[a];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ml.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,u=s*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=d}this.pos+=t}},ml.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),s=this.height-1;s>=0;s--){for(var a=this.bottom_up?s:this.height-1-s,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,u=a*this.width*4+4*i;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=l,this.data[u+3]=255}this.pos+=t}},ml.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=s,this.data[o+3]=255}this.pos+=this.width%4}},ml.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=s,this.data[l+3]=o}},ml.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,s,a){var i=new ml(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new zj(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(Rt.API),WT.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,s,a){var i=new WT(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new zj(100).encode(c,100);return t.processJPEG.call(this,d,r,s,a)}})(Rt.API),Rt.API.processRGBA=function(t,e,r){for(var s=t.data,a=s.length,i=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,d=0;d<a;d+=4){var u=s[d],h=s[d+1],f=s[d+2],p=s[d+3];i[l++]=u,i[l++]=h,i[l++]=f,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Rt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},nm=Rt.API,Jy=nm.getCharWidthsArray=function(t,e){var r,s,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=e.doKerning!==!1,f=0,p=t.length,v=0,y=l[0]||c,g=[];for(r=0;r<p;r++)s=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(f=h&&Yr(d[s])==="object"&&!isNaN(parseInt(d[s][v],10))?d[s][v]/u:0,g.push((l[s]||y)/c+f)),v=s;return g},qT=nm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),s=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return nm.processArabic&&(t=nm.processArabic(t)),typeof s.metadata.widthOfString=="function"?s.metadata.widthOfString(t,r,a)/r:Jy.apply(this,arguments).reduce((function(i,o){return i+o}),0)},zT=function(t,e,r,s){for(var a=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>s&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},VT=function(t,e,r){r||(r={});var s,a,i,o,l,c,d,u=[],h=[u],f=r.textIndent||0,p=0,v=0,y=t.split(" "),g=Jy.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),w=[];y.map((function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map((function(C,B){return(B&&C.length?`
`:"")+C}))):w.push(k[0])})),y=w,c=qT.apply(this,[x,r])}for(i=0,o=y.length;i<o;i++){var _=0;if(s=y[i],c&&s[0]==`
`&&(s=s.substr(1),_=1),f+p+(v=(a=Jy.apply(this,[s,r])).reduce((function(k,C){return k+C}),0))>e||_){if(v>e){for(l=zT.apply(this,[s,a,e-(f+p),e]),u.push(l.shift()),u=[l.pop()];l.length;)h.push([l.shift()]);v=a.slice(s.length-(u[0]?u[0].length:0)).reduce((function(k,C){return k+C}),0)}else u=[s];h.push(u),f=v+c,p=g}else u.push(s),f+=p+v,p=g}return d=c?function(k,C){return(C?x:"")+k.join(" ")}:function(k){return k.join(" ")},h.map(d)},nm.splitTextToSize=function(t,e,r){var s,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var h=this.internal.getFont(u.fontName,u.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);s=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=s.length;l<c;l++)d=d.concat(VT.apply(this,[s[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},s={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=e[a];var i=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var f,p,v,y,g=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=i(x).slice(2)).slice(0,-1)+s[p.slice(-1)]),typeof f=="number")f<0?(v=i(f).slice(3),y="-"):(v=i(f).slice(2),y=""),v=y+v.slice(0,-1)+s[v.slice(-1)];else{if(Yr(f)!=="object")throw new Error("Don't know what to do with value type "+Yr(f)+".");v=o(f)}g.push(p+v)}return g.push("}"),g.join("")},l=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,v,y,g={},x=1,w=g,_=[],k="",C="",B=h.length-1,I=1;I<B;I+=1)(y=h[I])=="'"?f?(v=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(_.push([w,v]),w={},v=void 0):y=="}"?((p=_.pop())[0][p[1]]=w,v=void 0,w=p[0]):y=="-"?x=-1:v===void 0?r.hasOwnProperty(y)?(k+=r[y],v=parseInt(k,16)*x,x=1,k=""):k+=y:r.hasOwnProperty(y)?(C+=r[y],w[v]=parseInt(C,16)*x,x=1,v=void 0,C=""):C+=y;return g},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,p=u.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var v=d.Unicode[f.postScriptName];v&&(f.metadata.Unicode.encoding=v,f.encoding=v.codePages[0])}])})(Rt.API),(function(t){var e=function(r){for(var s=r.length,a=new Uint8Array(s),i=0;i<s;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var s=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(s=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(i0(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,s)}}])})(Rt),(function(t){function e(){return(Xt.canvg?Promise.resolve(Xt.canvg):ph(()=>import("./index.es-Bq9P7TWa.js"),[])).catch((function(r){return Promise.reject(new Error("Could not load canvg: "+r))})).then((function(r){return r.default?r.default:r}))}Rt.API.addSvgAsImage=function(r,s,a,i,o,l,c,d){if(isNaN(s)||isNaN(a))throw tn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw tn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=o;var h=u.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then((function(v){return v.fromString(h,r,f)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(v){return v.render(f)})).then((function(){p.addImage(u.toDataURL("image/jpeg",1),s,a,i,o,c,d)}))}})(),Rt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var s=1;s<=this.internal.getNumberOfPages();s++)for(var a=0;a<this.internal.pages[s].length;a++)this.internal.pages[s][a]=this.internal.pages[s][a].replace(e,r);return this},Rt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function f(v,y){var g,x=!1;for(g=0;g<v.length;g+=1)v[g]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(h=0;h<p;h+=1)r[l[h]].value=r[l[h]].defaultValue,r[l[h]].explicitSet=!1}if(Yr(t)==="object"){for(a in t)if(i=t[a],f(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&f(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(d=0;d<i.length;d+=1)if(s=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)typeof i[d][u]!="number"&&(s=!1);s===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var v,y=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?y.push("/"+v+" /"+r[v].value):y.push("/"+v+" "+r[v].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var s='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(s)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(a+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(s,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:s,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Rt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],h=0,f=i.length;h<f;++h){if(l=o.metadata.characterToGlyph(i.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return u.join("");l=l.toString(16),u.push(d[4-l.length],l)}return u.join("")},s=function(i){var o,l,c,d,u,h,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(l=Object.keys(i).sort((function(p,v){return p-v}))).length;h<f;h++)o=l[h],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,f=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<f.length;v++)p+=String.fromCharCode(f[v]);var y=d();u({data:p,addLength1:!0,objectId:y}),c("endobj");var g=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ym(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+ym(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+g+" 0 R"),c("/BaseFont /"+ym(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,u=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var v=d();u({data:f,addLength1:!0,objectId:v}),c("endobj");var y=d();u({data:s(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var g=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+ym(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+ym(l.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var o,l=i.text||"",c=i.x,d=i.y,u=i.options||{},h=i.mutex||{},f=h.pdfEscape,p=h.activeFontKey,v=h.fonts,y=p,g="",x=0,w="",_=v[y].encoding;if(v[y].encoding!=="Identity-H")return{text:l,x:c,y:d,options:u,mutex:h};for(w=l,y=p,Array.isArray(l)&&(w=l[0]),x=0;x<w.length;x+=1)v[y].metadata.hasOwnProperty("cmap")&&(o=v[y].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&v[y].metadata.hasOwnProperty("Unicode")?g+=w[x]:g+="";var k="";return parseInt(y.slice(1))<14||_==="WinAnsiEncoding"?k=f(g,y).split("").map((function(C){return C.charCodeAt(0).toString(16)})).join(""):_==="Identity-H"&&(k=r(g,v[y])),h.isHex=!0,{text:k,x:c,y:d,options:u,mutex:h}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([a(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(a(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:o})).text}])})(Rt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,s){return e.call(this),this.internal.vFS[r]=s,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Rt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(s){var a,i,o,l,c,d,u,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var k=function(N){var T=N.charCodeAt(),Q=T>>8,U=y[Q];return U!==void 0?h[256*U+(255&T)]:Q===252||Q===253?"AL":x.test(Q)?"L":Q===8?"R":"N"},C=function(N){for(var T,Q=0;Q<N.length;Q++){if((T=k(N.charAt(Q)))==="L")return!1;if(T==="R")return!0}return!1},B=function(N,T,Q,U){var K,z,ee,G,q=T[U];switch(q){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(q="AN");break;case"AL":w=!0,q="R";break;case"WS":q="N";break;case"CS":U<1||U+1>=T.length||(K=Q[U-1])!=="EN"&&K!=="AN"||(z=T[U+1])!=="EN"&&z!=="AN"?q="N":w&&(z="AN"),q=z===K?z:"N";break;case"ES":q=(K=U>0?Q[U-1]:"B")==="EN"&&U+1<T.length&&T[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&Q[U-1]==="EN"){q="EN";break}if(w){q="N";break}for(ee=U+1,G=T.length;ee<G&&T[ee]==="ET";)ee++;q=ee<G&&T[ee]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(G=T.length,ee=U+1;ee<G&&T[ee]==="NSM";)ee++;if(ee<G){var re=N[U],Z=re>=1425&&re<=2303||re===64286;if(K=T[ee],Z&&(K==="R"||K==="AL")){q="R";break}}}q=U<1||(K=T[U-1])==="B"?"N":Q[U-1];break;case"B":w=!1,a=!0,q=_;break;case"S":i=!0,q="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":q="N"}return q},I=function(N,T,Q){var U=N.split("");return Q&&S(U,Q,{hiLevel:_}),U.reverse(),T&&T.reverse(),U.join("")},S=function(N,T,Q){var U,K,z,ee,G,q=-1,re=N.length,Z=0,$=[],L=_?p:f,Y=[];for(w=!1,a=!1,i=!1,K=0;K<re;K++)Y[K]=k(N[K]);for(z=0;z<re;z++){if(G=Z,$[z]=B(N,Y,$,z),U=240&(Z=L[G][v[$[z]]]),Z&=15,T[z]=ee=L[Z][5],U>0)if(U===16){for(K=q;K<z;K++)T[K]=1;q=-1}else q=-1;if(L[Z][6])q===-1&&(q=z);else if(q>-1){for(K=q;K<z;K++)T[K]=ee;q=-1}Y[z]==="B"&&(T[z]=0),Q.hiLevel|=ee}i&&(function(X,Ae,fe){for(var de=0;de<fe;de++)if(X[de]==="S"){Ae[de]=_;for(var me=de-1;me>=0&&X[me]==="WS";me--)Ae[me]=_}})(Y,T,re)},E=function(N,T,Q,U,K){if(!(K.hiLevel<N)){if(N===1&&_===1&&!a)return T.reverse(),void(Q&&Q.reverse());for(var z,ee,G,q,re=T.length,Z=0;Z<re;){if(U[Z]>=N){for(G=Z+1;G<re&&U[G]>=N;)G++;for(q=Z,ee=G-1;q<ee;q++,ee--)z=T[q],T[q]=T[ee],T[ee]=z,Q&&(z=Q[q],Q[q]=Q[ee],Q[ee]=z);Z=G}Z++}}},D=function(N,T,Q){var U=N.split(""),K={hiLevel:_};return Q||(Q=[]),S(U,Q,K),(function(z,ee,G){if(G.hiLevel!==0&&u)for(var q,re=0;re<z.length;re++)ee[re]===1&&(q=g.indexOf(z[re]))>=0&&(z[re]=g[q+1])})(U,Q,K),E(2,U,T,Q,K),E(1,U,T,Q,K),U.join("")};return this.__bidiEngine__.doBidiReorder=function(N,T,Q){if((function(K,z){if(z)for(var ee=0;ee<K.length;ee++)z[ee]=ee;l===void 0&&(l=C(K)),d===void 0&&(d=C(K))})(N,T),o||!c||d)if(o&&c&&l^d)_=l?1:0,N=I(N,T,Q);else if(!o&&c&&d)_=l?1:0,N=D(N,T,Q),N=I(N,T);else if(!o||l||c||d){if(o&&!c&&l^d)N=I(N,T),l?(_=0,N=D(N,T,Q)):(_=1,N=D(N,T,Q),N=I(N,T));else if(o&&l&&!c&&d)_=1,N=D(N,T,Q),N=I(N,T);else if(!o&&!c&&l^d){var U=u;l?(_=1,N=D(N,T,Q),_=0,u=!1,N=D(N,T,Q),u=U):(_=0,N=D(N,T,Q),N=I(N,T),_=1,u=!1,N=D(N,T,Q),u=U,N=I(N,T))}}else _=0,N=D(N,T,Q);else _=l?1:0,N=D(N,T,Q);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,c=N.isOutputVisual,l=N.isInputRtl,d=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(s),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(s){var a=s.text,i=(s.x,s.y,s.options||{}),o=(s.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);s.text=o}else s.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Rt),Rt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new xh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new vce(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new ice(this.contents),this.head=new lce(this),this.name=new Ace(this),this.cmap=new B$(this),this.toUnicode={},this.hhea=new cce(this),this.maxp=new fce(this),this.hmtx=new mce(this),this.post=new uce(this),this.os2=new dce(this),this.loca=new yce(this),this.glyf=new pce(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,s,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(s=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+s)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,s){var a,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(a))+s*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var s;return r==null&&(r=!1),s=r?this.lineGap:0,(this.ascender+s-this.decender)/1e3*e},t})();var Bl,xh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,s;for(s=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)s[r]=String.fromCharCode(this.readByte());return s.join("")},t.prototype.writeString=function(e){var r,s,a;for(a=[],r=0,s=e.length;0<=s?r<s:r>s;r=0<=s?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,s,a,i,o,l,c;return e=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^s)+4294967296*(255^a)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*s+4294967296*a+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,s;return r=Math.floor(e/4294967296),s=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(s>>24&255),this.writeByte(s>>16&255),this.writeByte(s>>8&255),this.writeByte(255&s)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,s;for(r=[],s=0;0<=e?s<e:s>e;s=0<=e?++s:--s)r.push(this.readByte());return r},t.prototype.write=function(e){var r,s,a,i;for(i=[],s=0,a=e.length;s<a;s++)r=e[s],i.push(this.writeByte(r));return i},t})(),ice=(function(){var t;function e(r){var s,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)s={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[s.tag]=s}return e.prototype.encode=function(r){var s,a,i,o,l,c,d,u,h,f,p,v,y;for(y in p=Object.keys(r).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),o=Math.floor(h/c),u=16*p-h,(a=new xh).writeInt(this.scalarType),a.writeShort(p),a.writeShort(h),a.writeShort(o),a.writeShort(u),i=16*p,d=a.pos+i,l=null,v=[],r)for(f=r[y],a.writeString(y),a.writeInt(t(f)),a.writeInt(d),a.writeInt(f.length),v=v.concat(f),y==="head"&&(l=d),d+=f.length;d%4;)v.push(0),d++;return a.write(v),s=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(s),a.data},t=function(r){var s,a,i,o;for(r=E$.call(r);r.length%4;)r.push(0);for(i=new xh(r),a=0,s=0,o=r.length;s<o;s=s+=4)a+=i.readUInt32();return 4294967295&a},e})(),oce={}.hasOwnProperty,yc=function(t,e){for(var r in e)oce.call(e,r)&&(t[r]=e[r]);function s(){this.constructor=t}return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};Bl=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var lce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var s;return(s=new xh).writeInt(this.version),s.writeInt(this.revision),s.writeInt(this.checkSumAdjustment),s.writeInt(this.magicNumber),s.writeShort(this.flags),s.writeShort(this.unitsPerEm),s.writeLongLong(this.created),s.writeLongLong(this.modified),s.writeShort(this.xMin),s.writeShort(this.yMin),s.writeShort(this.xMax),s.writeShort(this.yMax),s.writeShort(this.macStyle),s.writeShort(this.lowestRecPPEM),s.writeShort(this.fontDirectionHint),s.writeShort(r),s.writeShort(this.glyphDataFormat),s.data},e})(),GT=(function(){function t(e,r){var s,a,i,o,l,c,d,u,h,f,p,v,y,g,x,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,i=(function(){var k,C;for(C=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)C.push(e.readUInt16());return C})(),e.pos+=2,y=(function(){var k,C;for(C=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)C.push(e.readUInt16());return C})(),d=(function(){var k,C;for(C=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)C.push(e.readUInt16());return C})(),u=(function(){var k,C;for(C=[],c=k=0;0<=f?k<f:k>f;c=0<=f?++k:--k)C.push(e.readUInt16());return C})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var k,C;for(C=[],c=k=0;0<=a?k<a:k>a;c=0<=a?++k:--k)C.push(e.readUInt16());return C})(),c=x=0,_=i.length;x<_;c=++x)for(g=i[c],s=w=v=y[c];v<=g?w<=g:w>=g;s=v<=g?++w:--w)u[c]===0?o=s+d[c]:(o=l[u[c]/2+(s-v)-(f-c)]||0)!==0&&(o+=d[c]),this.codeMap[s]=65535&o}e.pos=h}return t.encode=function(e,r){var s,a,i,o,l,c,d,u,h,f,p,v,y,g,x,w,_,k,C,B,I,S,E,D,N,T,Q,U,K,z,ee,G,q,re,Z,$,L,Y,X,Ae,fe,de,me,Ce,xe,we;switch(U=new xh,o=Object.keys(e).sort((function(Ie,lt){return Ie-lt})),r){case"macroman":for(y=0,g=(function(){var Ie=[];for(v=0;v<256;++v)Ie.push(0);return Ie})(),w={0:0},i={},K=0,q=o.length;K<q;K++)w[me=e[a=o[K]]]==null&&(w[me]=++y),i[a]={old:e[a],new:w[e[a]]},g[a]=w[e[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(g),{charMap:i,subtable:U.data,maxGlyphID:y+1};case"unicode":for(T=[],h=[],_=0,w={},s={},x=d=null,z=0,re=o.length;z<re;z++)w[C=e[a=o[z]]]==null&&(w[C]=++_),s[a]={old:C,new:w[C]},l=w[C]-a,x!=null&&l===d||(x&&h.push(x),T.push(a),d=l),x=a;for(x&&h.push(x),h.push(65535),T.push(65535),D=2*(E=T.length),S=2*Math.pow(Math.log(E)/Math.LN2,2),f=Math.log(S/2)/Math.LN2,I=2*E-S,c=[],B=[],p=[],v=ee=0,Z=T.length;ee<Z;v=++ee){if(N=T[v],u=h[v],N===65535){c.push(0),B.push(0);break}if(N-(Q=s[N].new)>=32768)for(c.push(0),B.push(2*(p.length+E-v)),a=G=N;N<=u?G<=u:G>=u;a=N<=u?++G:--G)p.push(s[a].new);else c.push(Q-N),B.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*E+2*p.length),U.writeUInt16(0),U.writeUInt16(D),U.writeUInt16(S),U.writeUInt16(f),U.writeUInt16(I),fe=0,$=h.length;fe<$;fe++)a=h[fe],U.writeUInt16(a);for(U.writeUInt16(0),de=0,L=T.length;de<L;de++)a=T[de],U.writeUInt16(a);for(Ce=0,Y=c.length;Ce<Y;Ce++)l=c[Ce],U.writeUInt16(l);for(xe=0,X=B.length;xe<X;xe++)k=B[xe],U.writeUInt16(k);for(we=0,Ae=p.length;we<Ae;we++)y=p[we],U.writeUInt16(y);return{charMap:s,subtable:U.data,maxGlyphID:_+1}}},t})(),B$=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="cmap",e.prototype.parse=function(r){var s,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)s=new GT(r,this.offset),this.tables.push(s),s.isUnicode&&this.unicode==null&&(this.unicode=s);return!0},e.encode=function(r,s){var a,i;return s==null&&(s="macroman"),a=GT.encode(r,s),(i=new xh).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e})(),cce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e})(),dce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=(function(){var s,a;for(a=[],s=0;s<10;++s)a.push(r.readByte());return a})(),this.charRange=(function(){var s,a;for(a=[],s=0;s<4;++s)a.push(r.readInt());return a})(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=(function(){var s,a;for(a=[],s=0;s<2;s=++s)a.push(r.readInt());return a})(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e})(),uce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="post",e.prototype.parse=function(r){var s,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)s=r.readByte(),i.push(this.names.push(r.readString(s)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(r.readUInt32());return d}).call(this)}},e})(),hce=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Ace=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="name",e.prototype.parse=function(r){var s,a,i,o,l,c,d,u,h,f,p;for(r.pos=this.offset,r.readShort(),s=r.readShort(),c=r.readShort(),a=[],o=0;0<=s?o<s:o>s;o=0<=s?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},o=h=0,f=a.length;h<f;o=++h)i=a[o],r.pos=i.offset,u=r.readString(i.length),l=new hce(u,i),d[p=i.nameID]==null&&(d[p]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),fce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e})(),mce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="hmtx",e.prototype.parse=function(r){var s,a,i,o,l,c,d;for(r.pos=this.offset,this.metrics=[],s=0,c=this.file.hhea.numberOfMetrics;0<=c?s<c:s>c;s=0<=c?++s:--s)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,h;for(h=[],s=u=0;0<=i?u<i:u>i;s=0<=i?++u:--u)h.push(r.readInt16());return h})(),this.widths=(function(){var u,h,f,p;for(p=[],u=0,h=(f=this.metrics).length;u<h;u++)o=f[u],p.push(o.advance);return p}).call(this),a=this.widths[this.widths.length-1],d=[],s=l=0;0<=i?l<i:l>i;s=0<=i?++l:--l)d.push(this.widths.push(a));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e})(),E$=[].slice,pce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var s,a,i,o,l,c,d,u,h,f;return r in this.cache?this.cache[r]:(o=this.file.loca,s=this.file.contents,a=o.indexOf(r),(i=o.lengthOf(r))===0?this.cache[r]=null:(s.pos=this.offset+a,l=(c=new xh(s.read(i))).readShort(),u=c.readShort(),f=c.readShort(),d=c.readShort(),h=c.readShort(),this.cache[r]=l===-1?new xce(c,u,f,d,h):new gce(c,l,u,f,d,h),this.cache[r]))},e.prototype.encode=function(r,s,a){var i,o,l,c,d;for(l=[],o=[],c=0,d=s.length;c<d;c++)i=r[s[c]],o.push(l.length),i&&(l=l.concat(i.encode(a)));return o.push(l.length),{table:l,offsets:o}},e})(),gce=(function(){function t(e,r,s,a,i,o){this.raw=e,this.numberOfContours=r,this.xMin=s,this.yMin=a,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),xce=(function(){function t(e,r,s,a,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=s,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,s;for(r=new xh(E$.call(this.raw.data)),e=0,s=this.glyphIDs.length;e<s;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),yce=(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return yc(e,Bl),e.prototype.tag="loca",e.prototype.parse=function(r){var s,a;return r.pos=this.offset,s=this.file.head.indexToLocFormat,this.offsets=s===0?(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],a=0,i=this.length;a<i;a+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,s){for(var a=new Uint32Array(this.offsets.length),i=0,o=0,l=0;l<a.length;++l)if(a[l]=i,o<s.length&&s[o]==l){++o,a[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var u=new Array(4*a.length),h=0;h<a.length;++h)u[4*h+3]=255&a[h],u[4*h+2]=(65280&a[h])>>8,u[4*h+1]=(16711680&a[h])>>16,u[4*h]=(4278190080&a[h])>>24;return u},e})(),vce=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,s,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)s=i[r],e[r]=a[s];return e},t.prototype.glyphsFor=function(e){var r,s,a,i,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(s=a[i])!=null&&s.compound&&r.push.apply(r,s.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))s=c[i],a[i]=s;return a},t.prototype.encode=function(e,r){var s,a,i,o,l,c,d,u,h,f,p,v,y,g,x;for(a in s=B$.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},x=s.charMap)p[(c=x[a]).old]=c.new;for(v in f=s.maxGlyphID,o)v in p||(p[v]=f++);return u=(function(w){var _,k;for(_ in k={},w)k[w[_]]=_;return k})(p),h=Object.keys(u).sort((function(w,_){return w-_})),y=(function(){var w,_,k;for(k=[],w=0,_=h.length;w<_;w++)l=h[w],k.push(u[l]);return k})(),i=this.font.glyf.encode(o,y,p),d=this.font.loca.encode(i.offsets,y),g={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},t})();Rt.API.PDFObject=(function(){var t;function e(){}return t=function(r,s){return(Array(s+1).join("0")+r).slice(-s)},e.convert=function(r){var s,a,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)s=r[l],d.push(e.convert(s));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)o=r[a],i.push("/"+a+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function k$(t,e,r,s,a){s=s||{};var i=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():i,d=l*c,u=/\r\n|\r|\n/g,h="",f=1;if((s.valign==="middle"||s.valign==="bottom"||s.halign==="center"||s.halign==="right")&&(h=typeof t=="string"?t.split(u):t,f=h.length||1),r+=l*(2-i),s.valign==="middle"?r-=f/2*d:s.valign==="bottom"&&(r-=f*d),s.halign==="center"||s.halign==="right"){var p=l;if(s.halign==="center"&&(p*=.5),h&&f>=1){for(var v=0;v<h.length;v++)a.text(h[v],e-a.getStringUnitWidth(h[v])*p,r),r+=d;return a}e-=a.getStringUnitWidth(t)*p}return s.halign==="justify"?a.text(t,e,r,{maxWidth:s.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var XT={},qm=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:XT=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var s,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(s=this.jsPDFDocument).setFillColor.apply(s,u),u=t.unifyColor(e.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=t.unifyColor(e.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,s){return this.jsPDFDocument.splitTextToSize(e,r,s)},t.prototype.rect=function(e,r,s,a,i){return this.jsPDFDocument.rect(e,r,s,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return XT||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),PS=function(t,e){return PS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},PS(t,e)};function P$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");PS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var F$=(function(t){P$(e,t);function e(r){var s=t.call(this)||this;return s._element=r,s}return e})(Array);function bce(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function wce(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Pb(t,e,r){r.applyStyles(e,!0);var s=Array.isArray(t)?t:[t],a=s.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return a}function T$(t,e,r,s){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var o=O$(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),s.y-r.y,o)}function O$(t,e){var r=t>0,s=e||e===0;return r&&s?"DF":r?"S":s?"F":null}function o1(t,e){var r,s,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(s=t.top)!==null&&s!==void 0?s:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function I$(t,e){var r=o1(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function jce(t,e,r,s,a){var i={},o=1.3333333333333333,l=Vj(e,function(_){return a.getComputedStyle(_).backgroundColor});l!=null&&(i.fillColor=l);var c=Vj(e,function(_){return a.getComputedStyle(_).color});c!=null&&(i.textColor=c);var d=_ce(s,r);d&&(i.cellPadding=d);var u="borderTopColor",h=o*r,f=s.borderTopWidth;if(s.borderBottomWidth===f&&s.borderRightWidth===f&&s.borderLeftWidth===f){var p=(parseFloat(f)||0)/h;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(s.borderTopWidth)||0)/h,right:(parseFloat(s.borderRightWidth)||0)/h,bottom:(parseFloat(s.borderBottomWidth)||0)/h,left:(parseFloat(s.borderLeftWidth)||0)/h},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var v=Vj(e,function(_){return a.getComputedStyle(_)[u]});v!=null&&(i.lineColor=v);var y=["left","right","center","justify"];y.indexOf(s.textAlign)!==-1&&(i.halign=s.textAlign),y=["middle","bottom","top"],y.indexOf(s.verticalAlign)!==-1&&(i.valign=s.verticalAlign);var g=parseInt(s.fontSize||"");isNaN(g)||(i.fontSize=g/o);var x=Nce(s);x&&(i.fontStyle=x);var w=(s.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(i.font=w),i}function Nce(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Vj(t,e){var r=D$(t,e);if(!r)return null;var s=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!s||!Array.isArray(s))return null;var a=[parseInt(s[1]),parseInt(s[2]),parseInt(s[3])],i=parseInt(s[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function D$(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:D$(t.parentElement,e):r}function _ce(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],s=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/s}),o=o1(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function M$(t,e,r,s,a){var i,o;s===void 0&&(s=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),u=[],h=[],f=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:u,body:h,foot:f};for(var p=0;p<l.rows.length;p++){var v=l.rows[p],y=(o=(i=v?.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),g=Cce(c,d,r,v,s,a);g&&(y==="thead"?u.push(g):y==="tfoot"?f.push(g):h.push(g))}return{head:u,body:h,foot:f}}function Cce(t,e,r,s,a,i){for(var o=new F$(s),l=0;l<s.cells.length;l++){var c=s.cells[l],d=r.getComputedStyle(c);if(a||d.display!=="none"){var u=void 0;i&&(u=jce(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:Sce(c)})}}var h=r.getComputedStyle(s);if(o.length>0&&(a||h.display!=="none"))return o}function Sce(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Bce(t,e,r){for(var s=0,a=[t,e,r];s<a.length;s++){var i=a[s];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function pd(t,e,r,s,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function L$(t,e){var r=new qm(t),s=r.getDocumentOptions(),a=r.getGlobalOptions();Bce(a,s,e);var i=pd({},a,s,e),o;typeof window<"u"&&(o=window);var l=Ece(a,s,e),c=kce(a,s,e),d=Pce(r,i),u=Tce(r,i,o);return{id:e.tableId,content:u,hooks:c,styles:l,settings:d}}function Ece(t,e,r){for(var s={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var d=t[c],u=e[c],h=r[c];s.columnStyles=pd({},d,u,h)}else{var f=[t,e,r],p=f.map(function(v){return v[c]||{}});s[c]=pd({},p[0],p[1],p[2])}},i=0,o=Object.keys(s);i<o.length;i++){var l=o[i];a(l)}return s}function kce(t,e,r){for(var s=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=s;i<o.length;i++){var l=o[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Pce(t,e){var r,s,a,i,o,l,c,d,u,h,f,p,v=o1(e.margin,40/t.scaleFactor()),y=(r=Fce(t,e.startY))!==null&&r!==void 0?r:v.top,g;e.showFoot===!0?g="everyPage":e.showFoot===!1?g="never":g=(s=e.showFoot)!==null&&s!==void 0?s:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=e.useCss)!==null&&i!==void 0?i:!1,_=e.theme||(w?"plain":"striped"),k=!!e.horizontalPageBreak,C=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:w,theme:_,startY:y,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:x,showFoot:g,tableLineWidth:(h=e.tableLineWidth)!==null&&h!==void 0?h:0,tableLineColor:(f=e.tableLineColor)!==null&&f!==void 0?f:200,horizontalPageBreak:k,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Fce(t,e){var r=t.getLastAutoTable(),s=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&r?.finalY!=null?r.finalY+20/s:null}function Tce(t,e,r){var s=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=M$(t,e.html,r,o,e.useCss)||{};s=l.head||s,a=l.body||s,i=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Oce(s,a,i);return{columns:c,head:s,body:a,foot:i}}function Oce(t,e,r){var s=t[0]||e[0]||r[0]||[],a=[];return Object.keys(s).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(s)?l=s[parseInt(i)]:l=s[i],typeof l=="object"&&!Array.isArray(l)&&(o=l?.colSpan||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(s)?d=a.length:d=i+(c>0?"_".concat(c):"");var u={dataKey:d};a.push(u)}}),a}var FS=(function(){function t(e,r,s){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=s,this.doc=e.getDocument()}return t})(),Ice=(function(t){P$(e,t);function e(r,s,a,i,o,l){var c=t.call(this,r,s,l)||this;return c.cell=a,c.row=i,c.column=o,c.section=i.section,c}return e})(FS),Dce=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,s){return r+s.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,s,a,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],u=new Ice(e,this,s,a,i,o),h=d(u)===!1;if(s.text=Array.isArray(s.text)?s.text:[s.text],h)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var s=0,a=this.hooks.didDrawPage;s<a.length;s++){var i=a[s];i(new FS(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var s=0,a=this.hooks.willDrawPage;s<a.length;s++){var i=a[s];i(new FS(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var s=this.settings.margin;return e-s.left-s.right}},t})(),U$=(function(){function t(e,r,s,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof F$&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=s,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(s,a){var i;return Math.max(s,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(s){var a=r.cells[s.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var s=this;return e.reduce(function(a,i){var o=s.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>a?d:a},0)},t})(),R$=(function(){function t(e,r,s){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=s,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var s;if(this.styles.halign==="right")s=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");s=this.x+a/2+this.padding("left")}else s=this.x+this.padding("left");return{x:s,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var s=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=s*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=o1(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),Mce=(function(){function t(e,r,s){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=s}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,s=0,a=e.allRows();s<a.length;s++){var i=a[s],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function Lce(t,e){Uce(t,e);var r=[],s=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),s+=i.width});var a=e.getWidth(t.pageSize().width)-s;a&&(a=TS(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=TS(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Qce(e),Hce(e,t),Rce(e)}function Uce(t,e){var r=t.scaleFactor(),s=e.settings.horizontalPageBreak,a=I$(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=e.hooks.didParseCell;e.callCellHooks(t,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=Pb(d.text,d.styles,t)+h;var f=Pb(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=f+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||s===!0)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var p=10/r;d.minWidth=d.styles.minCellWidth||p,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},h=u.cellWidth||u.minCellWidth;h&&typeof h=="number"&&(c.minWidth=h,c.wrappedWidth=h)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function TS(t,e,r){for(var s=e,a=t.reduce(function(p,v){return p+v.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/a,c=s*l,d=o.width+c,u=r(o),h=d<u?u:d;e-=h-o.width,o.width=h}if(e=Math.round(e*1e10)/1e10,e){var f=t.filter(function(p){return e<0?p.width>r(p):!0});f.length&&(e=TS(f,e,r))}return e}function Rce(t){for(var e={},r=1,s=t.allRows(),a=0;a<s.length;a++)for(var i=s[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var u=i.cells[c.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var h=s.length-a,f=u.rowSpan>h?h:u.rowSpan;e[c.index]={cell:u,left:f,row:i}}}}}function Qce(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var s=e[r],a=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete s.cells[c.index];else if(a){var d=a;delete s.cells[c.index],a=null,d.width=c.width+i}else{var d=s.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){a=d,i+=c.width;continue}d.width=c.width+i}}}function Hce(t,e){for(var r={count:0,height:0},s=0,a=t.allRows();s<a.length;s++){for(var i=a[s],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,u+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=YT(d.text,u,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=YT(d.text,u,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var h=d.styles.overflow(d.text,u);typeof h=="string"?d.text=[h]:d.text=h}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var f=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<f*d.rowSpan?r={height:f,count:d.rowSpan}:r&&r.count>0&&r.height>f&&(f=r.height),f>i.height&&(i.height=f)}}r.count--}}function YT(t,e,r,s,a){return t.map(function(i){return $ce(i,e,r,s,a)})}function $ce(t,e,r,s,a){var i=1e4*s.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Pb(t,r,s))return t;for(;e<Pb(t+a,r,s)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Q$(t,e){var r=new qm(t),s=qce(e,r.scaleFactor()),a=new Dce(e,s);return Lce(r,a),r.applyStyles(r.userStyles),a}function qce(t,e){var r=t.content,s=Vce(r.columns);if(r.head.length===0){var a=JT(s,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=JT(s,"foot");a&&r.foot.push(a)}var i=t.settings.theme,o=t.styles;return{columns:s,head:Kj("head",r.head,s,o,i,e),body:Kj("body",r.body,s,o,i,e),foot:Kj("foot",r.foot,s,o,i,e)}}function Kj(t,e,r,s,a,i){var o={},l=e.map(function(c,d){for(var u=0,h={},f=0,p=0,v=0,y=r;v<y.length;v++){var g=y[v];if(o[g.index]==null||o[g.index].left===0)if(p===0){var x=void 0;Array.isArray(c)?x=c[g.index-f-u]:x=c[g.dataKey];var w={};typeof x=="object"&&!Array.isArray(x)&&(w=x?.styles||{});var _=Kce(t,g,d,a,s,i,w),k=new R$(x,_,t);h[g.dataKey]=k,h[g.index]=k,p=k.colSpan-1,o[g.index]={left:k.rowSpan-1,times:p}}else p--,f++;else o[g.index].left--,p=o[g.index].times,u++}return new U$(c,d,t,h)});return l}function JT(t,e){var r={};return t.forEach(function(s){if(s.raw!=null){var a=zce(e,s.raw);a!=null&&(r[s.dataKey]=a)}}),Object.keys(r).length>0?r:null}function zce(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Vce(t){return t.map(function(e,r){var s,a;return typeof e=="object"?a=(s=e.dataKey)!==null&&s!==void 0?s:r:a=r,new Mce(a,e,r)})}function Kce(t,e,r,s,a,i,o){var l=wce(s),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var d=pd({},l.table,l[t],a.styles,c),u=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},h=t==="body"?u:{},f=t==="body"&&r%2===0?pd({},l.alternateRow,a.alternateRowStyles):{},p=bce(i),v=pd({},p,d,f,h);return pd(v,o)}function Wce(t,e,r){var s;r===void 0&&(r={});var a=I$(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(f){var p=e.columns.find(function(v){return v.dataKey===f||v.index===f});p&&!i.has(p.index)&&(i.set(p.index,!0),o.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var d=!0,u=(s=r?.start)!==null&&s!==void 0?s:0;u<e.columns.length;){if(i.has(u)){u++;continue}var h=e.columns[u].wrappedWidth;if(d||a>=h)d=!1,o.push(u),l.push(e.columns[u]),a-=h;else break;u++}return{colIndexes:o,columns:l,lastIndex:u-1}}function Gce(t,e){for(var r=[],s=0;s<e.columns.length;s++){var a=Wce(t,e,{start:s});a.columns.length&&(r.push(a),s=a.lastIndex)}return r}function H$(t,e){var r=e.settings,s=r.startY,a=r.margin,i={x:a.left,y:s},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=s+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(f,p){return f+p.height},0);l+=d}var u=new qm(t);(r.pageBreak==="always"||r.startY!=null&&l>u.pageSize().height)&&(q$(u),i.y=a.top),e.callWillDrawPageHooks(u,i);var h=pd({},i);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?Xce(u,e,h,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(f){return Pd(u,e,f,i,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(f,p){var v=p===e.body.length-1;Fb(u,e,f,v,h,i,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(f){return Pd(u,e,f,i,e.columns)})),T$(u,e,h,i),e.callEndPageHooks(u,i),e.finalY=i.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function Xce(t,e,r,s){var a=Gce(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(d,u){t.applyStyles(t.userStyles),u>0?o0(t,e,r,s,d.columns,!0):ZT(t,e,s,d.columns),Yce(t,e,r,s,d.columns),Wj(t,e,s,d.columns)});else for(var o=-1,l=a[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var u=l.columns;o>=0?o0(t,e,r,s,u,!0):ZT(t,e,s,u),d=eO(t,e,o+1,s,u),Wj(t,e,s,u)}var h=d-o;a.slice(1).forEach(function(f){t.applyStyles(t.userStyles),o0(t,e,r,s,f.columns,!0),eO(t,e,o+1,s,f.columns,h),Wj(t,e,s,f.columns)}),o=d};o<e.body.length-1;)c()}function ZT(t,e,r,s){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Pd(t,e,i,r,s)})}function Yce(t,e,r,s,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;Fb(t,e,i,l,r,s,a)})}function eO(t,e,r,s,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var u=r+d===e.body.length-1,h=$$(t,e,u,s);c.canEntireRowFit(h,a)&&(Pd(t,e,c,s,a),l=r+d)}),l}function Wj(t,e,r,s){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Pd(t,e,i,r,s)})}function Jce(t,e,r){var s=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/s);return Math.max(0,i)}function Zce(t,e,r,s){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var u=new R$(d.raw,d.styles,d.section);u=pd(u,d),u.text=[];var h=Jce(d,e,s);d.text.length>h&&(u.text=d.text.splice(h,d.text.length));var f=s.scaleFactor(),p=s.getLineHeightFactor();d.contentHeight=d.getContentHeight(f,p),d.contentHeight>=e&&(d.contentHeight=e,u.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),u.contentHeight=u.getContentHeight(f,p),u.contentHeight>i&&(i=u.contentHeight),a[c.index]=u}}var v=new U$(t.raw,-1,t.section,a,!0);v.height=i;for(var y=0,g=r.columns;y<g.length;y++){var c=g[y],u=v.cells[c.index];u&&(u.height=v.height);var d=t.cells[c.index];d&&(d.height=t.height)}return v}function ede(t,e,r,s){var a=t.pageSize().height,i=s.settings.margin,o=i.top+i.bottom,l=a-o;e.section==="body"&&(l-=s.getHeadHeight(s.columns)+s.getFootHeight(s.columns));var c=e.getMinimumRowHeight(s.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var u=e.hasRowSpan(s.columns),h=e.getMaxCellHeight(s.columns)>l;return h?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||s.settings.rowPageBreak==="avoid")}function Fb(t,e,r,s,a,i,o){var l=$$(t,e,s,i);if(r.canEntireRowFit(l,o))Pd(t,e,r,i,o);else if(ede(t,r,l,e)){var c=Zce(r,l,e,t);Pd(t,e,r,i,o),o0(t,e,a,i,o),Fb(t,e,c,s,a,i,o)}else o0(t,e,a,i,o),Fb(t,e,r,s,a,i,o)}function Pd(t,e,r,s,a){s.x=e.settings.margin.left;for(var i=0,o=a;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){s.x+=l.width;continue}t.applyStyles(c.styles),c.x=s.x,c.y=s.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,s);if(d===!1){s.x+=l.width;continue}tde(t,c,s);var u=c.getTextPos();k$(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,s),s.x+=l.width}s.y+=r.height}function tde(t,e,r){var s=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof s.lineWidth=="number"){var a=O$(s.lineWidth,s.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof s.lineWidth=="object"&&(s.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),rde(t,e,r,s.lineWidth))}function rde(t,e,r,s){var a,i,o,l;s.top&&(a=r.x,i=r.y,o=r.x+e.width,l=r.y,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.top,a,i,o,l)),s.bottom&&(a=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,s.right&&(o+=.5*s.right),s.left&&(a-=.5*s.left),c(s.bottom,a,i,o,l)),s.left&&(a=r.x,i=r.y,o=r.x,l=r.y+e.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.left,a,i,o,l)),s.right&&(a=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,s.top&&(i-=.5*s.top),s.bottom&&(l+=.5*s.bottom),c(s.right,a,i,o,l));function c(d,u,h,f,p){t.getDocument().setLineWidth(d),t.getDocument().line(u,h,f,p,"S")}}function $$(t,e,r,s){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-s.y-a}function o0(t,e,r,s,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Pd(t,e,l,s,a)}),e.callEndPageHooks(t,s);var o=e.settings.margin;T$(t,e,r,s),q$(t),e.pageNumber++,s.x=o.left,s.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,s),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Pd(t,e,l,s,a)}),t.applyStyles(t.userStyles))}function q$(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function nde(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var s=e[0],a=L$(this,s),i=Q$(this,a);return H$(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,s,a){k$(e,r,s,a,this)},t.API.autoTableSetDefaults=function(e){return qm.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){qm.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var s;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new qm(this),i=M$(a,e,window,r,!1),o=i.head,l=i.body,c=((s=o[0])===null||s===void 0?void 0:s.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var Gj;function z$(t,e){var r=L$(t,e),s=Q$(t,r);H$(t,s)}try{if(typeof window<"u"&&window){var tO=window,rO=tO.jsPDF||((Gj=tO.jspdf)===null||Gj===void 0?void 0:Gj.jsPDF);rO&&nde(rO)}}catch(t){console.error("Could not apply autoTable plugin",t)}const us={name:"Giartech Solues",cnpj:"37.509.897/0001-93",address:"Rua Quito, 14",neighborhood:"Nossa Sra do ",city:"So Paulo",state:"SP",zip:"02734-010",phone:"(11) 5555-2560",email:"diretor@giartechsolucoes.com.br",website:"giartechsolucoes.com.br",instagram:"@giartech.solues",pix:"37209897000193",owner:"Tiago Bruno Giaquinto",whatsapp:"(35) 1511-9666",bank_name:"CORA",bank_agency:"0001",bank_account:"1412009-3",account_type:"Corrente"},l1=async()=>{try{const{data:t}=await pe.from("company_settings").select("*").limit(1).maybeSingle();if(t){const e=[t.address_street,t.address_number].filter(Boolean).join(", "),r=[t.address_street,t.address_number,t.address_neighborhood,t.address_city,t.address_state,t.address_zip&&`CEP: ${t.address_zip}`].filter(Boolean).join(", ");return{name:t.company_name||us.name,cnpj:t.cnpj||us.cnpj,address:e||us.address,neighborhood:t.address_neighborhood||us.neighborhood,city:t.address_city||us.city,state:t.address_state||us.state,zip:t.address_zip||us.zip,phone:t.phone||us.phone,email:t.email||us.email,website:t.website||us.website,instagram:t.instagram||us.instagram,pix:t.pix_key||us.pix,fullAddress:r,owner:t.owner_name||us.owner,whatsapp:t.whatsapp||us.whatsapp,bank_name:t.bank_name||us.bank_name,bank_agency:t.bank_agency||us.bank_agency,bank_account:t.bank_account||us.bank_account,account_type:t.account_type||us.account_type}}return us}catch(t){return console.error("Error loading company info:",t),us}};function sde(t,e){const r=e||t.service_catalog||{};return{service_catalog_id:t.service_catalog_id||r.id,service_name:t.service_name||r.name||t.descricao||t.description||"Servio",description:t.descricao||t.description||r.description||"",service_description:t.service_description||r.description||"",scope:t.escopo_detalhado||t.escopo||t.scope||r.escopo_servico||"",service_scope:t.escopo_detalhado||t.escopo||r.escopo_servico||"",escopo_detalhado:t.escopo_detalhado||r.escopo_servico||"",technical_requirements:t.requisitos_tecnicos||r.requisitos_tecnicos||"",safety_warnings:t.avisos_seguranca||r.avisos_seguranca||"",execution_steps:t.passos_execucao||r.passos_execucao||"",expected_results:t.resultados_esperados||r.resultados_esperados||"",quality_standards:t.padroes_qualidade||r.padroes_qualidade||"",warranty_info:t.informacoes_garantia||r.informacoes_garantia||"",observations:t.observacoes_tecnicas||t.observacoes||r.observacoes_tecnicas||"",unit:t.unit||t.unidade||r.unit||"un.",unit_price:parseFloat(t.unit_price||t.preco_unitario||r.base_price||0),quantity:parseFloat(t.quantity||t.quantidade||1),total_price:parseFloat(t.total_price||t.preco_total||t.quantity*t.unit_price||0),estimated_duration:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0,tempo_estimado_minutos:t.tempo_estimado_minutos||r.tempo_estimado_minutos||0}}function OS(t){return!t||!Array.isArray(t)?[]:t.map(e=>sde(e,e.service_catalog))}function ade(t){let e=t.service_name||"Servio";const r=t.service_description||t.description;r&&r!==e&&(e+=`
${r}`);const s=t.service_scope||t.scope||t.escopo_detalhado;s&&(e+=`

ESCOPO DO SERVIO:
${s}`),t.technical_requirements&&(e+=`

REQUISITOS TCNICOS:
${t.technical_requirements}`),t.safety_warnings&&(e+=`

 AVISOS DE SEGURANA:
${t.safety_warnings}`),t.execution_steps&&(e+=`

PASSOS DE EXECUO:
${t.execution_steps}`),t.expected_results&&(e+=`

RESULTADOS ESPERADOS:
${t.expected_results}`),t.quality_standards&&(e+=`

PADRES DE QUALIDADE:
${t.quality_standards}`),t.warranty_info&&(e+=`

 GARANTIA:
${t.warranty_info}`),t.observations&&(e+=`

OBSERVAES:
${t.observations}`);const a=t.estimated_duration||t.tempo_estimado_minutos;if(a&&a>0){const i=Math.floor(a/60),o=a%60;i>0&&o>0?e+=`

 Tempo estimado: ${i}h ${o}min`:i>0?e+=`

 Tempo estimado: ${i} hora${i>1?"s":""}`:e+=`

 Tempo estimado: ${o} minutos`}return e}const l0=async t=>{const e=await l1(),r=new Rt,s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=20;let o=15;const l=[15,86,125],c=[230,240,250],d=[51,51,51],u=[102,102,102],h=()=>new Promise(C=>{const B=new Image;B.crossOrigin="anonymous",B.onload=()=>{const I=document.createElement("canvas");I.width=B.width,I.height=B.height;const S=I.getContext("2d");S?(S.drawImage(B,0,0),C(I.toDataURL("image/jpeg",.9))):C("")},B.onerror=()=>{const I=new Image;I.crossOrigin="anonymous",I.onload=()=>{const S=document.createElement("canvas");S.width=I.width,S.height=I.height;const E=S.getContext("2d");E?(E.drawImage(I,0,0),C(S.toDataURL("image/jpeg",.9))):C("")},I.onerror=()=>C(""),I.src="/image.png"},B.src="/8.jpg"}),f=async C=>{const B=await h();if(B)try{r.addImage(B,"JPEG",i,o,40,40)}catch(D){console.error("Erro ao adicionar logo:",D)}r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(...l),r.text(e.name,i+45,o+5),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);let I=o+11;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i+45,I),I+=4,r.text(`CNPJ: ${e.cnpj}`,i+45,I),I+=4,r.text(e.address,i+45,I),I+=4,r.text(`${e.city}-${e.state}`,i+45,I),I+=4,r.text(`CEP ${e.zip||"02734-010"}`,i+45,I);const S=s-i;r.setFontSize(9),r.setTextColor(...d),r.text("",S-35,o+5),r.text(new Date(t.date).toLocaleDateString("pt-BR"),S-5,o+5,{align:"right"});let E=o+11;r.text("",S-60,E),r.text(e.email,S-5,E,{align:"right"}),E+=4,r.text("",S-60,E),r.text(e.phone,S-5,E,{align:"right"}),E+=4,e.instagram&&(r.text("",S-60,E),r.text(e.instagram,S-5,E,{align:"right"}))},p=(C,B)=>{const I=a-25;r.setDrawColor(200,200,200),r.setLineWidth(.5),r.line(i,I,s-i,I),r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...u);let S=I+5;r.text(e.owner||"TIAGO BRUNO GIAQUINTO",i,S),r.text("",s-80,S),r.text(e.email,s-i,S,{align:"right"}),S+=4,r.text(`CNPJ: ${e.cnpj}`,i,S),r.text("",s-80,S),r.text(e.phone,s-i,S,{align:"right"}),S+=4,r.text(e.address,i,S),e.instagram&&(r.text("",s-80,S),r.text(e.instagram,s-i,S,{align:"right"})),S+=4,r.text(`${e.city}-${e.state}`,i,S),r.text("",s-80,S),r.text(e.website||"tgarconnection.com.br",s-i,S,{align:"right"}),S+=4,r.text(`CEP ${e.zip||"02734-010"}`,i,S),S+=8,r.setFont("helvetica","normal"),r.setFontSize(8),r.text(`@${e.instagram||"tg.arconnection"}     ${e.website||"tgarconnection.com.br"}`,i,S),r.setFont("helvetica","normal"),r.setFontSize(9),r.text(`Pgina ${C}/${B}`,s-i,a-10,{align:"right"})};if(await f(),o=60,r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("Sua satisfao  o que motiva a nossa dedicao.",s/2,o,{align:"center"}),o+=10,r.setFillColor(...l),r.rect(i,o,s-2*i,15,"F"),r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(`Ordem de servio ${t.order_number}`,i+5,o+7),t.title&&(r.setFont("helvetica","normal"),r.setFontSize(11),r.text(t.title,i+5,o+12)),o+=20,r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...d),r.text(`Cliente: ${t.client.name}`,i,o),o+=6,r.setFont("helvetica","normal"),r.setFontSize(9),t.client.company_name&&(r.text(t.client.company_name,i,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i,o),o+=4),t.client.address&&(r.text(t.client.address,i,o),o+=4,t.client.city&&(r.text(`${t.client.city}, ${t.client.state}-${t.client.state}`,i,o),o+=4),t.client.cep&&(r.text(`CEP ${t.client.cep}`,i,o),o+=4)),t.client.email&&(r.text(` ${t.client.email}`,i,o),o+=4),t.client.phone&&(r.text(` ${t.client.phone}`,i,o),o+=4),o+=6,t.basic_info){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes bsicas",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const C=(s-2*i)/2;r.setFont("helvetica","bold"),r.text("Prazo de execuo",i,o),r.text("Marca",i+C,o),o+=4,r.setFont("helvetica","normal"),r.text(t.basic_info.deadline,i,o),t.basic_info.brand&&r.text(t.basic_info.brand,i+C,o),o+=6,r.setFont("helvetica","bold"),r.text("Modelo",i,o),r.text("Aparelho",i+C,o),o+=4,r.setFont("helvetica","normal"),t.basic_info.model&&r.text(t.basic_info.model,i,o),t.basic_info.equipment&&r.text(t.basic_info.equipment,i+C,o),o+=8}r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios",i+3,o+5.5),o+=12;const v=[];t.items.forEach(C=>{const B=ade(C);v.push([B,C.unit,`R$ ${C.unit_price.toFixed(2)}`,C.quantity.toString(),`R$ ${C.total_price.toFixed(2)}`])}),z$(r,{startY:o,head:[["Descrio do Servio","Unidade","Preo Unit.","Qtd.","Total"]],body:v,theme:"plain",styles:{fontSize:9,cellPadding:{top:4,right:3,bottom:4,left:3},textColor:d,lineColor:[255,255,255],lineWidth:0},headStyles:{fillColor:c,textColor:l,fontStyle:"bold",halign:"left",lineWidth:0},columnStyles:{0:{cellWidth:85},1:{cellWidth:20,halign:"center"},2:{cellWidth:30,halign:"right"},3:{cellWidth:15,halign:"center"},4:{cellWidth:30,halign:"right"}},margin:{left:i,right:i},alternateRowStyles:{fillColor:[250,250,250]},didParseCell:function(C){C.row.index===v.length&&C.section==="body"&&(C.cell.styles.fontStyle="bold")}}),o=r.autoTable.previous.finalY+5,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const y=s-i-70;r.text("Servios",y,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=6,r.setFont("helvetica","bold"),r.setTextColor(...l),r.text("Subtotal",y,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=6,t.discount>0&&(r.setFont("helvetica","normal"),r.setTextColor(...d),r.text("Desconto sobre servios",y,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,s-i,o,{align:"right"}),o+=6),r.setFillColor(...l),r.rect(y-5,o-5,s-y+5-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(255,255,255),r.text("Total",y,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,s-i-3,o+2,{align:"right"}),o+=15,r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Meios de pagamento",i,o);const g=(s-2*i)/2;r.text("PIX",i+g,o),o+=4,r.setFont("helvetica","normal");const x=r.splitTextToSize(t.payment.methods,g-10);if(r.text(x,i,o),r.text(t.payment.pix||e.cnpj,i+g,o),p(1,3),r.addPage(),o=15,await f(),o=60,t.payment.bank_details){r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Dados bancrios",i,o);const C=(s-2*i)/2;r.text("Condies de pagamento",i+C,o),o+=4,r.setFont("helvetica","normal");const B=t.payment.bank_details;r.text(`Banco: ${B.bank}`,i,o),o+=4,r.text(`Agncia: ${B.agency}`,i,o),o+=4,r.text(`Conta: ${B.account}`,i,o),o+=4,r.text(`Tipo de conta: ${B.account_type}`,i,o),o+=4,r.text(`Titular da conta (CPF/CNPJ): ${B.holder}`,i,o),o-=20;const I=r.splitTextToSize(t.payment.conditions,C-10);r.text(I,i+C,o),o+=Math.max(20,I.length*4)+8}if(t.warranty){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,t.warranty.period&&(r.setFont("helvetica","bold"),r.setFontSize(9),r.setTextColor(...d),r.text("Perodo de garantia",i,o),o+=4,r.setFont("helvetica","normal"),r.text(t.warranty.period,i,o),o+=8),r.setFont("helvetica","bold"),r.text("Condies da garantia",i,o),o+=4,r.setFont("helvetica","normal");const C=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",B=r.splitTextToSize(C,s-2*i-6);r.text(B,i,o),o+=B.length*4+8}if(t.contract_clauses&&t.contract_clauses.length>0&&(r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Clusulas contratuais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.contract_clauses.forEach(C=>{o>a-60&&(p(2,3),r.addPage(),o=15),r.setFont("helvetica","bold"),r.text(C.title,i,o),o+=5,r.setFont("helvetica","normal"),C.items.forEach(B=>{const I=r.splitTextToSize(B,s-2*i-6);r.text(I,i,o),o+=I.length*4}),o+=4})),t.additional_info){r.setFillColor(...c),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes adicionais",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const C=r.splitTextToSize(t.additional_info,s-2*i-6);r.text(C,i,o),o+=C.length*4+8}r.setFont("helvetica","italic"),r.setFontSize(9),r.setTextColor(...u),r.text("obrigado pela confiana, estaremos  disposio.",s/2,o,{align:"center"}),o+=8,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,s/2,o,{align:"center"}),p(2,3),r.addPage(),o=15,await f(),o=a/2-40;const w=(s-2*i-20)/2,_=i,k=s/2+10;r.setDrawColor(...d),r.setLineWidth(.5),r.line(_,o,_+w,o),r.line(k,o,k+w,o),o+=6,r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...d),r.text(e.name,_+w/2,o,{align:"center"}),r.text(t.client.name,k+w/2,o,{align:"center"}),o+=5,r.setFont("helvetica","normal"),r.setFontSize(9),r.text(e.owner||"Tiago Bruno Giaquinto",_+w/2,o,{align:"center"}),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,k+w/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,k+w/2,o,{align:"center"}),o+=5,r.setFont("helvetica","italic"),r.setFontSize(8),r.setTextColor(...u),r.text("diretor tcnico",_+w/2,o,{align:"center"}),p(3,3),r.save(`Ordem_de_servico_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)},ide=({key:t,data:e,enabled:r=!0,interval:s=3e4,onSave:a})=>{const[i,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState(null),h=O.useRef(),f=O.useRef(e);O.useEffect(()=>{f.current=e},[e]);const p=O.useCallback(async()=>{if(!(!r||!f.current))try{o(!0),u(null);const{data:g}=await pe.from("service_order_drafts").select("id").eq("draft_name",t).maybeSingle();if(g){const{error:x}=await pe.from("service_order_drafts").update({draft_data:f.current,last_saved_at:new Date().toISOString()}).eq("id",g.id);if(x)throw x}else{const{error:x}=await pe.from("service_order_drafts").insert({draft_name:t,draft_data:f.current,user_id:null});if(x)throw x}c(new Date),a?.(!0)}catch(g){console.error("Erro ao salvar rascunho:",g),u(g.message),a?.(!1)}finally{o(!1)}},[r,t,a]);O.useEffect(()=>{if(r)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{p()},s),()=>{h.current&&clearTimeout(h.current)}},[e,r,s,p]);const v=O.useCallback(async()=>{await p()},[p]),y=O.useCallback(async()=>{try{const{error:g}=await pe.from("service_order_drafts").delete().eq("draft_name",t);if(g)throw g;c(null)}catch(g){console.error("Erro ao limpar rascunho:",g),u(g.message)}},[t]);return{isSaving:i,lastSaved:l,error:d,manualSave:v,clearDraft:y}},ode=({services:t,recentServices:e=[],favoriteServices:r=[],onSelect:s,placeholder:a="Buscar servio..."})=>{const[i,o]=O.useState(""),[l,c]=O.useState(!1),[d,u]=O.useState(0),[h,f]=O.useState([]),p=O.useRef(null),v=O.useRef(null);O.useEffect(()=>{if(i.trim()){const _=i.toLowerCase(),k=t.filter(C=>C.name.toLowerCase().includes(_)||C.description?.toLowerCase().includes(_)||C.category?.toLowerCase().includes(_));f(k.slice(0,10))}else{const _=t.filter(B=>r.includes(B.id)),k=t.filter(B=>e.includes(B.id)),C=[..._,...k.filter(B=>!r.includes(B.id))];f(C.slice(0,8))}u(0)},[i,t,e,r]),O.useEffect(()=>{const _=k=>{v.current&&!v.current.contains(k.target)&&p.current&&!p.current.contains(k.target)&&c(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const y=_=>{if(!l){(_.key==="Enter"||_.key==="ArrowDown")&&(c(!0),_.preventDefault());return}switch(_.key){case"ArrowDown":_.preventDefault(),u(k=>(k+1)%h.length);break;case"ArrowUp":_.preventDefault(),u(k=>(k-1+h.length)%h.length);break;case"Enter":_.preventDefault(),h[d]&&g(h[d]);break;case"Escape":c(!1),p.current?.blur();break}},g=_=>{s(_),o(""),c(!1),p.current?.blur()},x=_=>_?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_):"Sob consulta",w=_=>{if(!_)return"";if(_<60)return`${_}min`;const k=Math.floor(_/60),C=_%60;return C>0?`${k}h${C}min`:`${k}h`};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{ref:p,type:"text",value:i,onChange:_=>o(_.target.value),onFocus:()=>c(!0),onKeyDown:y,placeholder:a,className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoComplete:"off"}),i&&n.jsx("button",{onClick:()=>{o(""),p.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"w-5 h-5"})})]}),n.jsx(vt,{children:l&&h.length>0&&n.jsxs(he.div,{ref:v,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute z-50 w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-96 overflow-y-auto",children:[!i&&n.jsxs("div",{className:"px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider bg-gray-50 border-b",children:[r.length>0&&"Favoritos e Recentes",r.length===0&&e.length>0&&"Usados Recentemente",r.length===0&&e.length===0&&"Todos os Servios"]}),h.map((_,k)=>{const C=r.includes(_.id),B=e.includes(_.id),I=k===d;return n.jsx(he.button,{onClick:()=>g(_),className:`w-full px-4 py-3 text-left transition-colors border-b last:border-b-0 ${I?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,initial:{opacity:0},animate:{opacity:1},transition:{delay:k*.02},children:n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C&&n.jsx(la,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),n.jsx("span",{className:"font-medium text-gray-900 truncate",children:_.name})]}),_.description&&n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-2",children:_.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[_.category&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:_.category}),_.estimated_time&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"w-3 h-3"}),w(_.estimated_time)]}),_.materials_count&&_.materials_count>0&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(qt,{className:"w-3 h-3"}),_.materials_count," materiais"]}),B&&!C&&n.jsx("span",{className:"text-blue-600",children:"Usado recentemente"})]})]}),_.base_price&&n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"font-semibold text-gray-900",children:x(_.base_price)})})]})},_.id)}),i&&h.length===0&&n.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[n.jsx(sn,{className:"w-12 h-12 mx-auto mb-2 text-gray-300"}),n.jsx("p",{children:"Nenhum servio encontrado"}),n.jsx("p",{className:"text-sm mt-1",children:"Tente buscar por outro termo"})]})]})})]})},lde=({isOpen:t,onClose:e,onSelect:r})=>{const[s,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(""),[d,u]=O.useState("all");O.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{o(!0);const{data:y,error:g}=await pe.from("service_order_templates").select("*").order("usage_count",{ascending:!1});if(g)throw g;a(y||[])}catch(y){console.error("Erro ao carregar templates:",y)}finally{o(!1)}},f=async y=>{try{await pe.rpc("increment_template_usage",{template_id:y.id}),r(y.template_data),e()}catch(g){console.error("Erro ao usar template:",g),r(y.template_data),e()}},p=[...new Set(s.map(y=>y.category))],v=s.filter(y=>{const g=l===""||y.name.toLowerCase().includes(l.toLowerCase())||y.description?.toLowerCase().includes(l.toLowerCase()),x=d==="all"||y.category===d;return g&&x});return t?n.jsx(vt,{children:n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:e,children:n.jsxs(he.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:y=>y.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Templates de OS"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Escolha um template para comear rapidamente"})]}),n.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:n.jsx(bt,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 border-b bg-gray-50",children:n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:l,onChange:y=>c(y.target.value),placeholder:"Buscar template...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${d==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:"Todos"}),p.map(y=>n.jsx("button",{onClick:()=>u(y),className:`px-4 py-2 rounded-lg font-medium transition-colors capitalize ${d===y?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:y.replace("-"," ")},y))]})]})}),n.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):v.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum template encontrado"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Tente buscar com outros termos ou categorias"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:v.map((y,g)=>n.jsxs(he.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.05},onClick:()=>f(y),className:"bg-white border-2 border-gray-200 hover:border-blue-500 rounded-lg p-4 text-left transition-all hover:shadow-lg group",children:[n.jsx("div",{className:"flex items-start justify-between mb-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:n.jsx(Et,{className:"w-5 h-5 text-blue-600 group-hover:text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-blue-600",children:y.name}),n.jsx("span",{className:"text-xs text-gray-500 capitalize",children:y.category.replace("-"," ")})]})]})}),y.description&&n.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:y.description}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Bd,{className:"w-3 h-3"}),y.usage_count," usos"]}),y.is_public&&n.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Pblico"})]}),n.jsx(la,{className:"w-4 h-4 text-yellow-500"})]}),y.template_data.serviceItems&&n.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:n.jsxs("span",{className:"text-xs text-gray-600",children:[y.template_data.serviceItems.length," servios inclusos"]})})]},y.id))})}),n.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end gap-3",children:n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"})})]})})}):null},cde=({subtotal:t,discount:e,total:r,costMaterials:s,costLabor:a,totalCost:i,profit:o,margin:l,className:c=""})=>{const d=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),u=v=>v>=30?"text-green-600":v>=15?"text-yellow-600":"text-red-600",h=v=>v>=30?"bg-green-50 border-green-200":v>=15?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200",f=v=>v>=30?n.jsx(Ua,{className:"w-5 h-5"}):v>=15?n.jsx(Nl,{className:"w-5 h-5"}):n.jsx(Un,{className:"w-5 h-5"}),p=v=>v>=30?"Margem excelente!":v>=15?"Margem adequada":"Margem baixa - Ateno!";return n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:`bg-white border border-gray-200 rounded-lg p-6 shadow-lg ${c}`,children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-4 border-b",children:[n.jsx(gr,{className:"w-6 h-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Anlise Financeira"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(t)})]}),e>0&&n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Desconto"}),n.jsxs("span",{className:"font-medium text-red-600",children:["- ",d(e)]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),n.jsx("span",{className:"text-2xl font-bold text-blue-600",children:d(r)})]})]}),n.jsxs("div",{className:"pt-4 border-t",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Custos"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Materiais"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(s)})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Mo de Obra"}),n.jsx("span",{className:"font-medium text-gray-900",children:d(a)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[n.jsx("span",{className:"font-semibold text-gray-700",children:"Custo Total"}),n.jsx("span",{className:"font-semibold text-gray-900",children:d(i)})]})]})]}),n.jsxs(he.div,{initial:{scale:.95},animate:{scale:1},className:`p-4 rounded-lg border-2 ${h(l)}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:u(l),children:f(l)}),n.jsx("span",{className:"font-semibold text-gray-900",children:"Lucro"})]}),n.jsx("div",{className:"text-right",children:n.jsx("div",{className:"text-xl font-bold text-gray-900",children:d(o)})})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:p(l)}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:`text-2xl font-bold ${u(l)}`,children:[l.toFixed(1),"%"]}),l>=15?n.jsx(qr,{className:`w-5 h-5 ${u(l)}`}):n.jsx(cc,{className:`w-5 h-5 ${u(l)}`})]})]}),n.jsx("div",{className:"mt-3 pt-3 border-t border-current/20",children:n.jsx("div",{className:"flex gap-2 text-xs",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-gray-600 mb-1",children:"Distribuio"}),n.jsxs("div",{className:"flex gap-1 h-2 rounded-full overflow-hidden bg-gray-200",children:[n.jsx("div",{className:"bg-blue-500",style:{width:`${r>0?s/r*100:0}%`},title:"Materiais"}),n.jsx("div",{className:"bg-purple-500",style:{width:`${r>0?a/r*100:0}%`},title:"Mo de Obra"}),n.jsx("div",{className:"bg-green-500",style:{width:`${r>0?o/r*100:0}%`},title:"Lucro"})]})]})})})]},l),l<15&&n.jsx(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Un,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-red-800",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Margem Abaixo do Recomendado"}),n.jsx("p",{className:"text-xs",children:"Considere aumentar o valor ou reduzir custos. Margem ideal: 30% ou mais."})]})]})}),l>=30&&o>1e3&&n.jsx(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Ua,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-green-800",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Excelente Negcio!"}),n.jsx("p",{className:"text-xs",children:"Margem saudvel e lucro acima da mdia. Continue assim!"})]})]})})]})]})},nO=()=>{const t=ui(),{id:e}=D3(),[r]=G7(),s=r.get("edit")||e,a=!!s,[i,o]=O.useState(!1),[l,c]=O.useState([]),[d,u]=O.useState(null),[h,f]=O.useState([]),[p,v]=O.useState([]),[y,g]=O.useState([]),[x,w]=O.useState([]),[_,k]=O.useState([]),[C,B]=O.useState([]),[I,S]=O.useState(!1),[E,D]=O.useState(!1),[N,T]=O.useState(""),[Q,U]=O.useState(""),[K,z]=O.useState(!1),[ee,G]=O.useState(""),[q,re]=O.useState({customer_id:"",description:"",scheduled_at:"",prazo_execucao_dias:7,data_inicio_execucao:"",desconto_percentual:0,desconto_valor:0,show_material_costs:!1,show_value:!0,relatorio_tecnico:"",orientacoes_servico:"",escopo_detalhado:"",payment_method:"dinheiro",payment_installments:1,payment_conditions:"Sinal de 50% e o valor restante aps a concluso.",warranty_period:90,warranty_type:"days",warranty_terms:"",bank_account_id:"",contract_template_id:"",contract_notes:"",notes:"",custo_deslocamento:0,custo_estacionamento:0,custo_pedagio:0,custo_outros:0,descricao_outros:""}),[Z,$]=O.useState([{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}]),[L,Y]=O.useState({subtotal:0,desconto:0,total:0,custo_total_materiais:0,custo_total_mao_obra:0,custo_total:0,lucro_total:0,margem_lucro:0}),[X,Ae]=O.useState({}),{isSaving:fe,lastSaved:de,error:me}=ide({key:"service-order-draft",data:{formData:q,serviceItems:Z,totals:L},interval:3e4,onSave:async ce=>{if(!a&&q.customer_id&&q.description){const{error:Ze}=await pe.from("service_order_drafts").upsert({user_id:(await pe.auth.getUser()).data.user?.id,customer_id:q.customer_id,draft_name:`OS - ${l.find(Ue=>Ue.id===q.customer_id)?.name||"Cliente"} - ${new Date().toLocaleString("pt-BR")}`,draft_data:ce,last_saved_at:new Date().toISOString()});if(Ze)throw Ze}}});O.useEffect(()=>{Ie(),a&&s&&Ce(s)},[s]),O.useEffect(()=>{ve()},[Z,q.desconto_percentual,q.desconto_valor]);const Ce=async ce=>{try{o(!0);const Ze=await tb(ce);if(Ze&&(re({customer_id:Ze.client_id||"",description:Ze.description||"",scheduled_at:Ze.due_date?new Date(Ze.due_date).toISOString().slice(0,16):Ze.scheduled_at?new Date(Ze.scheduled_at).toISOString().slice(0,16):"",prazo_execucao_dias:Ze.prazo_execucao_dias||7,data_inicio_execucao:Ze.data_inicio_execucao?new Date(Ze.data_inicio_execucao).toISOString().split("T")[0]:"",desconto_percentual:Ze.desconto_percentual||Ze.discount_percentage||0,desconto_valor:Ze.desconto_valor||Ze.discount_amount||Ze.discount_value||0,show_material_costs:Ze.show_material_costs||!1,show_value:Ze.show_value!==!1,relatorio_tecnico:Ze.relatorio_tecnico||"",orientacoes_servico:Ze.orientacoes_servico||"",escopo_detalhado:Ze.escopo_detalhado||"",payment_method:Ze.payment_method||"dinheiro",payment_installments:Ze.payment_installments||1,payment_conditions:Ze.payment_conditions||"Sinal de 50% e o valor restante aps a concluso.",warranty_period:Ze.warranty_period||90,warranty_type:Ze.warranty_type||"days",warranty_terms:Ze.warranty_terms||"",bank_account_id:Ze.bank_account_id||"",contract_template_id:Ze.contract_template_id||"",contract_notes:Ze.contract_notes||"",notes:Ze.notes||"",custo_deslocamento:Ze.custo_deslocamento||0,custo_estacionamento:Ze.custo_estacionamento||0,custo_pedagio:Ze.custo_pedagio||0,custo_outros:Ze.custo_outros||0,descricao_outros:Ze.descricao_outros||""}),G(Ze.order_number||""),Ze.client_id&&xe(Ze.client_id),Ze.items&&Ze.items.length>0)){const Ue=Ze.items.map(Re=>({id:Re.id||crypto.randomUUID(),descricao:Re.descricao||Re.description||Re.service_name||Re.service_catalog?.name||"",quantidade:Re.quantidade||Re.quantity||1,preco_unitario:Re.preco_unitario||Re.unit_price||0,preco_total:Re.preco_total||Re.total_price||0,tempo_estimado_minutos:Re.tempo_estimado_minutos||Re.estimated_time||0,materiais:Re.materiais||Re.materials||[],funcionarios:Re.funcionarios||Re.labor||[],custo_materiais:Re.custo_materiais||Re.cost_materials||0,custo_mao_obra:Re.custo_mao_obra||Re.cost_labor||0,custo_total:Re.custo_total||Re.total_cost||0,lucro:Re.lucro||Re.profit||0,margem_lucro:Re.margem_lucro||Re.profit_margin||0}));$(Ue)}}catch(Ze){console.error("Error loading order data:",Ze)}finally{o(!1)}},xe=async ce=>{try{const[Ze,Ue]=await Promise.all([pe.from("customers").select("*").eq("id",ce).single(),pe.from("customer_addresses").select("*").eq("customer_id",ce).eq("principal",!0).maybeSingle()]);if(Ze.data){const Re={...Ze.data,address:Ue.data};u(Re),Ue.data&&T(Ze.data.email||"")}}catch(Ze){console.error("Error loading customer details:",Ze)}},we=ce=>{re({...q,customer_id:ce}),ce?xe(ce):u(null)},Ie=async()=>{try{const[ce,Ze,Ue,Re,rt,_t,At]=await Promise.all([pe.from("customers").select("*").order("nome_razao"),pe.from("materials").select("*").eq("active",!0).order("name"),pe.from("employees").select("id, name, role, custo_hora, especialidade, nivel").eq("active",!0).order("name"),pe.from("bank_accounts").select("*").eq("active",!0).order("account_name"),pe.from("contract_templates").select("*").order("name"),pe.from("service_catalog").select(`
          *,
          service_catalog_materials (
            id,
            material_id,
            quantity,
            material_name,
            material_unit,
            unit_cost_at_time,
            unit_sale_price
          )
        `).order("name"),pe.from("inventory").select("*").order("name")]);c(ce.data||[]),f(Ze.data||[]),v(Ue.data||[]),g(Re.data||[]),w(rt.data||[]),k(_t.data||[]),B(At.data||[])}catch(ce){console.error("Error loading data:",ce)}},lt=()=>{$([...Z,{id:crypto.randomUUID(),descricao:"",quantidade:1,preco_unitario:0,preco_total:0,tempo_estimado_minutos:0,materiais:[],funcionarios:[],custo_materiais:0,custo_mao_obra:0,custo_total:0,lucro:0,margem_lucro:0}])},Le=ce=>{$(Z.filter(Ze=>Ze.id!==ce))},J=(ce,Ze)=>{$(Ue=>Ue.map(Re=>{if(Re.id===ce){const rt={...Re,...Ze};return rt.preco_total=rt.quantidade*rt.preco_unitario,rt.custo_materiais=rt.materiais.reduce((_t,At)=>_t+At.custo_total,0),rt.custo_mao_obra=rt.funcionarios.reduce((_t,At)=>_t+At.custo_total,0),rt.custo_total=rt.custo_materiais+rt.custo_mao_obra,rt.lucro=rt.preco_total-rt.custo_total,rt.margem_lucro=rt.preco_total>0?rt.lucro/rt.preco_total*100:0,rt}return Re}))},Qe=ce=>{const Ze=Z.find(Re=>Re.id===ce);if(!Ze)return;const Ue={id:crypto.randomUUID(),material_id:"",nome:"",quantidade:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,preco_compra:0,preco_venda:0,custo_total:0,valor_total:0,lucro:0};J(ce,{materiais:[...Ze.materiais,Ue]})},je=(ce,Ze)=>{const Ue=Z.find(Re=>Re.id===ce);Ue&&J(ce,{materiais:Ue.materiais.filter(Re=>Re.id!==Ze)})},ie=(ce,Ze,Ue)=>{const Re=Z.find(_t=>_t.id===ce);if(!Re)return;const rt=Re.materiais.map(_t=>{if(_t.id===Ze){const At={..._t,...Ue},It=At.preco_compra_unitario||0,Mr=At.preco_venda_unitario||0;return At.custo_total=At.quantidade*It,At.valor_total=At.quantidade*Mr,At.lucro=At.valor_total-At.custo_total,At}return _t});J(ce,{materiais:rt})},Se=(ce,Ze,Ue)=>{const Re=h.find(It=>It.id===Ue);if(!Re)return;const rt=Number(Re.unit_cost)||0,_t=Number(Re.sale_price)||0,At=Re.unit||"UN";ie(ce,Ze,{material_id:Ue,nome:Re.name,unidade_medida:At,preco_compra_unitario:rt,preco_venda_unitario:_t,preco_compra:rt,preco_venda:_t})},We=(ce,Ze)=>{const Ue=Z.find(Re=>Re.id===ce);Ue&&J(ce,{funcionarios:Ue.funcionarios.filter(Re=>Re.id!==Ze)})},Oe=(ce,Ze,Ue)=>{const Re=Z.find(_t=>_t.id===ce);if(!Re)return;const rt=Re.funcionarios.map(_t=>{if(_t.id===Ze){const At={..._t,...Ue};return At.custo_total=At.tempo_minutos/60*At.custo_hora,At}return _t});J(ce,{funcionarios:rt})},ve=()=>{const ce=Z.reduce((Br,Sn)=>Br+Sn.preco_total,0),Ze=(q.custo_deslocamento||0)+(q.custo_estacionamento||0)+(q.custo_pedagio||0)+(q.custo_outros||0),Ue=q.desconto_valor||ce*(q.desconto_percentual/100),Re=ce-Ze-Ue,rt=Z.reduce((Br,Sn)=>Br+Sn.custo_materiais,0),_t=Z.reduce((Br,Sn)=>Br+Sn.custo_mao_obra,0),At=rt+_t+Ze,It=Re-At,Mr=Re>0?It/Re*100:0;Y({subtotal:ce,desconto:Ue,total:Re,custo_total_materiais:rt,custo_total_mao_obra:_t,custo_total:At,lucro_total:It,margem_lucro:Mr})},st=async()=>{try{if(!q.customer_id||Z.length===0){alert("Selecione um cliente e adicione pelo menos um servio!");return}o(!0);const ce=q.scheduled_at?new Date(new Date(q.scheduled_at).getTime()+q.warranty_period*(q.warranty_type==="days"?864e5:q.warranty_type==="months"?2592e6:31536e6)).toISOString().split("T")[0]:null,Ze={client_id:q.customer_id||null,customer_id:q.customer_id||null,description:q.description,scheduled_at:q.scheduled_at||null,due_date:q.scheduled_at||null,prazo_execucao_dias:q.prazo_execucao_dias,data_inicio_execucao:q.data_inicio_execucao||null,status:"aberta",total_value:L.total,subtotal_value:L.subtotal,discount_value:L.desconto,desconto_percentual:q.desconto_percentual,desconto_valor:q.desconto_valor,custo_total_materiais:L.custo_total_materiais,custo_total_mao_obra:L.custo_total_mao_obra,custo_total:L.custo_total,lucro_total:L.lucro_total,margem_lucro:L.margem_lucro,show_material_costs:q.show_material_costs,show_value:q.show_value,relatorio_tecnico:q.relatorio_tecnico,orientacoes_servico:q.orientacoes_servico,escopo_detalhado:q.escopo_detalhado,payment_method:q.payment_method,payment_installments:q.payment_installments,bank_account_id:q.bank_account_id||null,warranty_period:q.warranty_period,warranty_type:q.warranty_type,warranty_terms:q.warranty_terms,warranty_end_date:ce,contract_template_id:q.contract_template_id||null,contract_notes:q.contract_notes,notes:q.notes,subtotal:L.subtotal,discount_amount:L.desconto,final_total:L.total};let Ue;if(a&&s){const{data:Re,error:rt}=await pe.from("service_orders").update(Ze).eq("id",s).select().single();if(rt)throw rt;Ue=Re,await pe.from("service_order_items").delete().eq("service_order_id",s),await pe.from("service_order_materials").delete().eq("service_order_id",s),await pe.from("service_order_labor").delete().eq("service_order_id",s)}else{const{data:Re,error:rt}=await pe.from("service_orders").insert([Ze]).select().single();if(rt)throw rt;Ue=Re}if(!Ue)throw new Error("Erro ao salvar ordem");for(const Re of Z){const{data:rt,error:_t}=await pe.from("service_order_items").insert([{service_order_id:Ue.id,service_catalog_id:Re.service_catalog_id||null,descricao:Re.descricao||Re.nome||"",escopo_detalhado:Re.escopo||Re.escopo_detalhado||"",quantidade:Re.quantidade,preco_unitario:Re.preco_unitario,preco_total:Re.preco_total,tempo_estimado_minutos:Re.tempo_estimado_minutos,custo_materiais:Re.custo_materiais,custo_mao_obra:Re.custo_mao_obra,custo_total:Re.custo_total,lucro:Re.lucro,margem_lucro:Re.margem_lucro}]).select().single();if(_t)throw _t;if(Re.materiais.length>0){const At=Re.materiais.map(Mr=>({service_order_id:Ue.id,service_order_item_id:rt.id,material_id:Mr.material_id,nome_material:Mr.nome,quantidade:Mr.quantidade,preco_compra:Mr.preco_compra,preco_venda:Mr.preco_venda,custo_total:Mr.custo_total,valor_total:Mr.valor_total,lucro:Mr.lucro})),{error:It}=await pe.from("service_order_materials").insert(At);if(It)throw It}if(Re.funcionarios.length>0){const At=Re.funcionarios.map(Mr=>({service_order_id:Ue.id,service_order_item_id:rt.id,staff_id:Mr.staff_id,nome_funcionario:Mr.nome,tempo_minutos:Mr.tempo_minutos,custo_hora:Mr.custo_hora,custo_total:Mr.custo_total})),{error:It}=await pe.from("service_order_labor").insert(At);if(It)throw It}}alert(a?"Ordem de Servio atualizada com sucesso!":"Ordem de Servio criada com sucesso!"),t("/service-orders")}catch(ce){console.error("Error saving:",ce),alert(`Erro ao ${a?"atualizar":"salvar"} ordem de servio!`)}finally{o(!1)}},Ne=async()=>{try{const ce=d||l.find(At=>At.id===q.customer_id);if(!ce){alert("Cliente no encontrado!");return}const Ze=await l1(),Ue=ce.address||{},Re=[Ue.logradouro,Ue.numero,Ue.complemento,Ue.bairro].filter(Boolean).join(", "),rt={order_number:ee||"TEMP-"+Date.now(),created_at:new Date().toISOString(),status:"aberta",customer:{nome_razao:ce.nome_razao||ce.name||"Cliente",cnpj_cpf:ce.cnpj_cpf||ce.cnpj||ce.cpf||"",email:ce.email||"",telefone:ce.telefone||ce.phone||"",endereco:Re||ce.endereco||ce.address||"",cidade:Ue.cidade||ce.cidade||ce.city||"",estado:Ue.estado||ce.estado||ce.state||"",cep:Ue.cep||ce.cep||ce.zip_code||""},description:q.description,scheduled_at:q.scheduled_at,items:Z.map(At=>({descricao:At.descricao,quantidade:At.quantidade,preco_unitario:At.preco_unitario,preco_total:At.preco_total,tempo_estimado_minutos:At.tempo_estimado_minutos,materiais:At.materiais.map(It=>({nome:It.nome,quantidade:It.quantidade,unidade_medida:It.unidade_medida,preco_venda_unitario:It.preco_venda_unitario,valor_total:It.valor_total})),funcionarios:At.funcionarios.map(It=>({nome:It.nome,tempo_minutos:It.tempo_minutos,custo_total:It.custo_total}))})),payment_method:q.payment_method,payment_installments:q.payment_installments,bank_account:y.find(At=>At.id===q.bank_account_id)?.account_name||"",warranty_period:q.warranty_period,warranty_type:q.warranty_type,warranty_terms:q.warranty_terms,contract_notes:q.contract_notes,subtotal:L.subtotal,desconto_percentual:q.desconto_percentual,desconto_valor:q.desconto_valor,discount_amount:L.desconto,final_total:L.total,custo_total:L.custo_total,lucro_total:L.lucro_total,margem_lucro:L.margem_lucro,notes:q.notes,prazo_execucao_dias:q.prazo_execucao_dias,data_inicio_execucao:q.data_inicio_execucao,data_fim_execucao:q.data_inicio_execucao&&q.prazo_execucao_dias?new Date(new Date(q.data_inicio_execucao).getTime()+q.prazo_execucao_dias*864e5).toISOString().split("T")[0]:null,additional_costs:{deslocamento:q.custo_deslocamento,estacionamento:q.custo_estacionamento,pedagio:q.custo_pedagio,outros:q.custo_outros,descricao_outros:q.descricao_outros}},_t={order_number:ee||"NOVA-OS",date:new Date().toISOString(),title:q.description||"Ordem de Servio",client:{name:ce.nome_razao||ce.name||"Cliente",company_name:ce.nome_fantasia||"",cnpj:ce.cnpj||"",cpf:ce.cpf||"",address:Re||"",city:Ue.cidade||"",state:Ue.estado||"",cep:Ue.cep||"",email:ce.email||"",phone:ce.telefone||ce.phone||""},basic_info:{deadline:`${q.prazo_execucao_dias} dias`,brand:"",model:"",equipment:""},items:Z.map(At=>({service_name:At.descricao||"Servio",description:At.descricao,scope:"",unit:"un.",unit_price:At.preco_unitario,quantity:At.quantidade,total_price:At.preco_total})),subtotal:L.subtotal,discount:L.desconto,total:L.total,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:ce.cnpj||ce.cpf||"",bank_details:y.find(At=>At.is_default)?{bank:y.find(At=>At.is_default)?.bank_name||"",agency:y.find(At=>At.is_default)?.agency||"",account:y.find(At=>At.is_default)?.account_number||"",account_type:y.find(At=>At.is_default)?.account_type==="checking"?"Corrente":"Poupana",holder:y.find(At=>At.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:`${q.warranty_period} ${q.warranty_type==="days"?"dias":q.warranty_type==="months"?"meses":"anos"}`,conditions:q.warranty_terms||"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:q.notes||"Trabalhamos para que seus projetos, se tornem realidade."};await l0(_t),alert("PDF gerado com sucesso!")}catch(ce){console.error("Erro ao gerar PDF:",ce),alert("Erro ao gerar PDF!")}},ge=ce=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ce),Je=async()=>{if(!s){alert("Salve a ordem de servio antes de imprimir!");return}try{o(!0);const ce=await tb(s);if(!ce)throw new Error("OS no encontrada");const Ze=l.find(Re=>Re.id===ce.customer_id),Ue={order_number:ce.order_number||"N/A",date:ce.created_at||new Date().toISOString(),title:ce.description||"Ordem de Servio",client:{name:Ze?.nome_razao||Ze?.name||"Cliente",company_name:Ze?.nome_fantasia||"",cnpj:Ze?.cnpj||"",cpf:Ze?.cpf||"",address:Ze?.endereco||"",city:Ze?.cidade||"",state:Ze?.estado||"",cep:Ze?.cep||"",email:Ze?.email||"",phone:Ze?.telefone||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:OS(ce.items||[]),subtotal:ce.subtotal||ce.total_value||0,discount:ce.discount_amount||0,total:ce.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:Ze?.cnpj||Ze?.cpf||"",bank_details:y.find(Re=>Re.is_default)?{bank:y.find(Re=>Re.is_default)?.bank_name||"",agency:y.find(Re=>Re.is_default)?.agency||"",account:y.find(Re=>Re.is_default)?.account_number||"",account_type:y.find(Re=>Re.is_default)?.account_type==="checking"?"Corrente":"Poupana",holder:y.find(Re=>Re.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await l0(Ue)}catch(ce){console.error("Error printing:",ce),alert("Erro ao gerar PDF!")}finally{o(!1)}},Ve=async()=>{if(!s){alert("Salve a ordem de servio antes de baixar!");return}try{o(!0);const ce=await tb(s);if(!ce)throw new Error("OS no encontrada");const Ze=l.find(Re=>Re.id===ce.customer_id),Ue={order_number:ce.order_number||"N/A",date:ce.created_at||new Date().toISOString(),title:ce.description||"Ordem de Servio",client:{name:Ze?.nome_razao||Ze?.name||"Cliente",company_name:Ze?.nome_fantasia||"",cnpj:Ze?.cnpj||"",cpf:Ze?.cpf||"",address:Ze?.endereco||"",city:Ze?.cidade||"",state:Ze?.estado||"",cep:Ze?.cep||"",email:Ze?.email||"",phone:Ze?.telefone||""},basic_info:{deadline:"15 dias",brand:"",model:"",equipment:""},items:OS(ce.items||[]),subtotal:ce.subtotal||ce.total_value||0,discount:ce.discount_amount||0,total:ce.total_value||0,payment:{methods:"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:Ze?.cnpj||Ze?.cpf||"",bank_details:y.find(Re=>Re.is_default)?{bank:y.find(Re=>Re.is_default)?.bank_name||"",agency:y.find(Re=>Re.is_default)?.agency||"",account:y.find(Re=>Re.is_default)?.account_number||"",account_type:y.find(Re=>Re.is_default)?.account_type==="checking"?"Corrente":"Poupana",holder:y.find(Re=>Re.is_default)?.account_holder||""}:void 0,conditions:"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:"12 meses",conditions:"Garantias referentes  sistemas de novo em tubulaes antigas."},contract_clauses:[],additional_info:"Trabalhamos para que seus projetos, se tornem realidade."};await l0(Ue)}catch(ce){console.error("Error downloading:",ce),alert("Erro ao baixar PDF!")}finally{o(!1)}},yt=()=>{if(!s){alert("Salve a ordem de servio antes de enviar!");return}const ce=l.find(Ze=>Ze.id===q.customer_id);T(ce?.email||""),U(`Ol, segue em anexo a Ordem de Servio ${ee||s}.`),S(!0)},gt=async()=>{if(!N){alert("Digite um email vlido!");return}try{z(!0),alert(`Email enviado para: ${N}

Nota: A funcionalidade de envio real requer configurao do servidor de email.`),S(!1)}catch(ce){console.error("Error sending email:",ce),alert("Erro ao enviar email!")}finally{z(!1)}};return n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen pb-24",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Et,{className:"h-8 w-8 text-blue-600"}),a?"Editar Ordem de Servio":"Nova Ordem de Servio Detalhada"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Sistema completo com mltiplos servios, materiais e funcionrios"})]}),!a&&n.jsxs("div",{className:"text-sm",children:[fe&&n.jsx("span",{className:"text-blue-600",children:" Salvando..."}),!fe&&de&&n.jsxs("span",{className:"text-green-600",children:[" Salvo ",new Date(de).toLocaleTimeString()]}),me&&n.jsx("span",{className:"text-red-600",children:" Erro ao salvar"})]})]}),!a&&n.jsx("div",{className:"mb-4",children:n.jsxs("button",{onClick:()=>D(!0),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white px-6 py-3 rounded-lg font-medium flex items-center justify-center gap-2 transition-all shadow-lg",children:[n.jsx(Et,{className:"h-5 w-5"})," Usar Template de OS"]})}),n.jsx(lde,{isOpen:E,onClose:()=>D(!1),onSelect:ce=>{re({...q,...ce.formData||{}}),ce.serviceItems&&$(ce.serviceItems),D(!1)}}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Cn,{className:"h-5 w-5 text-blue-600"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),n.jsxs("select",{value:q.customer_id,onChange:ce=>we(ce.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),l.map(ce=>n.jsx("option",{value:ce.id,children:ce.nome_razao},ce.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Agendada"}),n.jsx("input",{type:"datetime-local",value:q.scheduled_at,onChange:ce=>re({...q,scheduled_at:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Incio Execuo"}),n.jsx("input",{type:"date",value:q.data_inicio_execucao,onChange:ce=>re({...q,data_inicio_execucao:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prazo de Execuo (dias)"}),n.jsx("input",{type:"number",value:q.prazo_execucao_dias,min:"1",onChange:ce=>re({...q,prazo_execucao_dias:Number(ce.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio Geral"}),n.jsx("textarea",{value:q.description,onChange:ce=>re({...q,description:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio opcional da OS..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Escopo Detalhado do Servio"}),n.jsx("textarea",{value:q.escopo_detalhado,onChange:ce=>re({...q,escopo_detalhado:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva em detalhes tudo que ser executado no servio..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Relatrio Tcnico"}),n.jsx("textarea",{value:q.relatorio_tecnico,onChange:ce=>re({...q,relatorio_tecnico:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Relatrio tcnico detalhado (diagnstico, anlise, etc)..."})]}),n.jsxs("div",{className:"md:col-span-3",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Orientaes de Servio"}),n.jsx("textarea",{value:q.orientacoes_servico,onChange:ce=>re({...q,orientacoes_servico:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Instrues e orientaes para a equipe executar o servio..."})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:q.show_value,onChange:ce=>re({...q,show_value:ce.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium",children:"Exibir valores na proposta (desmarque para enviar ao cliente sem valores ou para funcionrios)"})]})})]}),d&&n.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[n.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[n.jsx(Cn,{className:"h-4 w-4"}),"Dados do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Nome/Razo Social:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.nome_razao})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"CPF/CNPJ:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.cpf||d.cnpj||"No informado"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Telefone:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.telefone||"No informado"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Email:"}),n.jsx("p",{className:"font-medium text-gray-900",children:d.email||"No informado"})]}),d.address&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("span",{className:"text-gray-600",children:"Endereo:"}),n.jsx("p",{className:"font-medium text-gray-900",children:[d.address.logradouro,d.address.numero,d.address.complemento,d.address.bairro,d.address.cidade,d.address.estado,d.address.cep&&`CEP: ${d.address.cep}`].filter(Boolean).join(", ")})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Pagamento e Financeiro"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("select",{value:q.payment_method,onChange:ce=>re({...q,payment_method:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"debito",children:"Carto de Dbito"}),n.jsx("option",{value:"credito",children:"Carto de Crdito"}),n.jsx("option",{value:"transferencia",children:"Transferncia Bancria"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"cheque",children:"Cheque"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Parcelas"}),n.jsxs("select",{value:q.payment_installments,onChange:ce=>re({...q,payment_installments:Number(ce.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"1",children:" vista"}),[2,3,4,5,6,7,8,9,10,12].map(ce=>n.jsxs("option",{value:ce,children:[ce,"x"]},ce))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Conta Bancria"}),n.jsxs("select",{value:q.bank_account_id,onChange:ce=>re({...q,bank_account_id:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Padro"}),y.map(ce=>n.jsxs("option",{value:ce.id,children:[ce.account_name," - ",ce.bank_name]},ce.id))]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Wt,{className:"h-5 w-5 text-amber-600"}),"Garantia"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Perodo de Garantia"}),n.jsx("input",{type:"number",value:q.warranty_period,min:"0",onChange:ce=>re({...q,warranty_period:Number(ce.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Perodo"}),n.jsxs("select",{value:q.warranty_type,onChange:ce=>re({...q,warranty_type:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"days",children:"Dias"}),n.jsx("option",{value:"months",children:"Meses"}),n.jsx("option",{value:"years",children:"Anos"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Termos de Garantia"}),n.jsx("textarea",{value:q.warranty_terms,onChange:ce=>re({...q,warranty_terms:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descreva as condies da garantia: cobertura, excluses, prazos..."})]}),n.jsx("div",{className:"md:col-span-2 bg-amber-50 border border-amber-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-amber-800",children:[n.jsx("strong",{children:"Garantia:"})," ",q.warranty_period," ",q.warranty_type==="days"?"dias":q.warranty_type==="months"?"meses":"anos"," ",q.scheduled_at&&`(vlida at ${new Date(new Date(q.scheduled_at).getTime()+q.warranty_period*(q.warranty_type==="days"?864e5:q.warranty_type==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR")})`]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 shadow-md border-2 border-green-300",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"})," Condies de Pagamento"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Condies de Pagamento"}),n.jsx("textarea",{value:q.payment_conditions,onChange:ce=>re({...q,payment_conditions:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Ex: Sinal de 50% e o valor restante aps a concluso, Pagamento  vista com 10% de desconto, Parcelado em 3x sem juros, etc."})]}),n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-sm text-green-800",children:[n.jsx("strong",{children:" Dica:"})," Estas condies aparecero no PDF da ordem de servio e na proposta enviada ao cliente."]})})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-xl p-6 shadow-md border-2 border-red-300",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-red-600"})," Custos Adicionais (Deduzidos do Total)"]}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-3 mb-4",children:n.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),n.jsx("strong",{children:" Ateno:"})," Estes custos sero DEDUZIDOS (subtrados) do valor total da OS, no adicionados."]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Deslocamento"}),n.jsx("input",{type:"number",value:q.custo_deslocamento,min:"0",step:"0.01",onChange:ce=>re({...q,custo_deslocamento:Number(ce.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Estacionamento"}),n.jsx("input",{type:"number",value:q.custo_estacionamento,min:"0",step:"0.01",onChange:ce=>re({...q,custo_estacionamento:Number(ce.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Pedgio"}),n.jsx("input",{type:"number",value:q.custo_pedagio,min:"0",step:"0.01",onChange:ce=>re({...q,custo_pedagio:Number(ce.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:" Outros Custos"}),n.jsx("input",{type:"number",value:q.custo_outros,min:"0",step:"0.01",onChange:ce=>re({...q,custo_outros:Number(ce.target.value)}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"R$ 0,00"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-2",children:"Descrio dos Outros Custos"}),n.jsx("input",{type:"text",value:q.descricao_outros,onChange:ce=>re({...q,descricao_outros:ce.target.value}),className:"w-full px-4 py-2 border-2 border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white",placeholder:"Ex: Alimentao, hospedagem, materiais extras..."})]}),(q.custo_deslocamento>0||q.custo_estacionamento>0||q.custo_pedagio>0||q.custo_outros>0)&&n.jsxs("div",{className:"md:col-span-2 bg-red-100 border-2 border-red-400 rounded-lg p-4",children:[n.jsx("p",{className:"text-sm font-bold text-red-900 mb-2",children:" Total de Custos a Deduzir:"}),n.jsxs("p",{className:"text-2xl font-bold text-red-700",children:["-",ge((q.custo_deslocamento||0)+(q.custo_estacionamento||0)+(q.custo_pedagio||0)+(q.custo_outros||0))]}),n.jsx("p",{className:"text-xs text-red-700 mt-1 font-semibold",children:" Este valor ser DEDUZIDO do total da OS"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-blue-600"}),"Contrato"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo de Contrato"}),n.jsxs("select",{value:q.contract_template_id,onChange:ce=>re({...q,contract_template_id:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Sem contrato"}),x.map(ce=>n.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes do Contrato"}),n.jsx("textarea",{value:q.contract_notes,onChange:ce=>re({...q,contract_notes:ce.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Clusulas especiais, condies particulares..."})]})]})]}),Z.map((ce,Ze)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Servio #",Ze+1]}),Z.length>1&&n.jsx("button",{onClick:()=>Le(ce.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"mb-4",children:n.jsx(ode,{services:_.map(Ue=>({id:Ue.id,name:Ue.name,description:Ue.description,category:Ue.category,base_price:Ue.base_price})),onSelect:Ue=>{if(Ue){const Re=_.find(rt=>rt.id===Ue.id);if(Re){const _t=(Re.service_catalog_materials||[]).map(At=>({id:crypto.randomUUID(),material_id:At.material_id||"",nome:At.material_name||"",quantidade:Number(At.quantity)||1,preco_compra:Number(At.unit_cost_at_time)||0,preco_venda:Number(At.unit_sale_price)||0,unidade_medida:At.material_unit||"UN",preco_compra_unitario:Number(At.unit_cost_at_time)||0,preco_venda_unitario:Number(At.unit_sale_price)||0,custo_total:(Number(At.quantity)||1)*(Number(At.unit_cost_at_time)||0),valor_total:(Number(At.quantity)||1)*(Number(At.unit_sale_price)||0),lucro:(Number(At.quantity)||1)*(Number(At.unit_sale_price)||0)-(Number(At.quantity)||1)*(Number(At.unit_cost_at_time)||0)}));J(ce.id,{descricao:Re.name,preco_unitario:Number(Re.base_price)||0,tempo_estimado_minutos:Number(Re.estimated_duration)||0,materiais:_t,funcionarios:[]})}}}})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio do Servio *"}),n.jsx("input",{type:"text",value:ce.descricao,onChange:Ue=>J(ce.id,{descricao:Ue.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Instalao de Ar Condicionado 12k BTU"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo (min)"}),n.jsx("input",{type:"number",value:ce.tempo_estimado_minutos,onChange:Ue=>J(ce.id,{tempo_estimado_minutos:Number(Ue.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:ce.quantidade,min:"1",onChange:Ue=>J(ce.id,{quantidade:Number(Ue.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Unitrio"}),n.jsx("input",{type:"number",value:ce.preco_unitario,step:"0.01",onChange:Ue=>J(ce.id,{preco_unitario:Number(Ue.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Total"}),n.jsx("input",{type:"text",value:ge(ce.preco_total),disabled:!0,className:"w-full px-4 py-2 border rounded-lg bg-gray-50 font-bold"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(qt,{className:"h-4 w-4"}),"Materiais"]}),n.jsx("button",{onClick:()=>Qe(ce.id),className:"px-3 py-1 text-sm bg-green-50 text-green-600 rounded-lg hover:bg-green-100",children:"+ Material"})]}),ce.materiais.length>0&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3",children:[n.jsx("label",{className:"block text-sm font-medium text-green-900 mb-2",children:" Buscar do Inventrio/Estoque"}),n.jsxs("select",{onChange:Ue=>{const Re=C.find(rt=>rt.id===Ue.target.value);if(Re&&ce.materiais.length>0){const rt=ce.materiais[ce.materiais.length-1];rt.material_id||ie(ce.id,rt.id,{material_id:Re.id,nome:Re.name,quantidade:1,preco_compra:Number(Re.purchase_price)||0,preco_venda:Number(Re.sale_price)||0,unidade_medida:Re.unit||"UN"})}Ue.target.value=""},className:"w-full px-4 py-2 border-2 border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 bg-white",children:[n.jsx("option",{value:"",children:"Selecione um item do estoque..."}),C.map(Ue=>n.jsxs("option",{value:Ue.id,children:[Ue.name," - Estoque: ",Ue.quantity||0," ",Ue.unit||"UN"," - R$ ",Number(Ue.sale_price||0).toFixed(2)]},Ue.id))]}),n.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Preenche o ltimo material vazio adicionado"})]}),ce.materiais.length===0&&n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhum material adicionado"}),ce.materiais.map(Ue=>n.jsxs("div",{className:"border rounded-lg p-3 mb-3 bg-gray-50",children:[n.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[n.jsxs("select",{value:Ue.material_id,onChange:Re=>Se(ce.id,Ue.id,Re.target.value),className:"col-span-3 px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Selecione o material..."}),h.map(Re=>n.jsxs("option",{value:Re.id,children:[Re.name," - ",ge(Number(Re.sale_price))," (",Re.unit||"UN",")"]},Re.id))]}),n.jsxs("div",{className:"col-span-2 relative",children:[n.jsx("input",{type:"number",value:Ue.quantidade,min:"0.01",step:"0.01",onChange:Re=>ie(ce.id,Ue.id,{quantidade:Number(Re.target.value)}),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-green-500",placeholder:"Qtd"}),Ue.unidade_medida&&n.jsx("span",{className:"absolute right-3 top-2 text-xs text-gray-500 font-semibold",children:Ue.unidade_medida})]}),n.jsx("button",{onClick:()=>je(ce.id,Ue.id),className:"px-3 py-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),Ue.material_id&&n.jsxs("div",{className:"space-y-3 mt-3 pt-3 border-t",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Custo Unitrio:"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-orange-500"}),n.jsx("input",{type:"number",value:Ue.preco_compra_unitario||"",onChange:Re=>ie(ce.id,Ue.id,{preco_compra_unitario:Number(Re.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-orange-500",step:"0.01",placeholder:"0.00"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-gray-600 block mb-1",children:"Preo de Venda:"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-green-500"}),n.jsx("input",{type:"number",value:Ue.preco_venda_unitario||"",onChange:Re=>ie(ce.id,Ue.id,{preco_venda_unitario:Number(Re.target.value)}),className:"w-full pl-7 pr-2 py-1.5 border rounded text-sm focus:ring-2 focus:ring-green-500",step:"0.01",placeholder:"0.00"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 bg-gray-50 rounded p-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Custo Total:"}),n.jsx("p",{className:"font-bold text-orange-700",children:ge(Ue.custo_total||0)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Venda Total:"}),n.jsx("p",{className:"font-bold text-green-700",children:ge(Ue.valor_total||0)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Lucro:"}),n.jsx("p",{className:`font-bold ${(Ue.lucro||0)>=0?"text-green-600":"text-red-600"}`,children:ge(Ue.lucro||0)})]})]})]})]},Ue.id))]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-3",children:n.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[n.jsx(ir,{className:"h-4 w-4 text-purple-600"}),n.jsx("span",{className:"text-purple-900",children:"Mo de Obra"})]})}),n.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-4 mb-4",children:[n.jsxs("label",{className:"block text-sm font-bold text-purple-900 mb-2 flex items-center gap-2",children:[n.jsx(sn,{className:"h-4 w-4"})," Buscar e Adicionar Funcionrio"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:X[ce.id]||"",onChange:Ue=>Ae({...X,[ce.id]:Ue.target.value}),className:"w-full px-4 py-3 border-2 border-purple-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-sm",placeholder:"Digite o nome do funcionrio..."}),X[ce.id]&&n.jsxs("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-purple-200 rounded-xl shadow-2xl max-h-64 overflow-y-auto",children:[p.filter(Ue=>{const Re=(Ue.name||Ue.nome||"").toLowerCase(),rt=(Ue.role||Ue.cargo||"").toLowerCase(),_t=X[ce.id].toLowerCase();return Re.includes(_t)||rt.includes(_t)}).map(Ue=>n.jsx("button",{onClick:()=>{const Re={id:crypto.randomUUID(),staff_id:Ue.id,nome:Ue.name||Ue.nome||"Funcionrio",tempo_minutos:60,custo_hora:Number(Ue.hourly_rate||Ue.custo_hora||0),custo_total:1*Number(Ue.hourly_rate||Ue.custo_hora||0)};J(ce.id,{funcionarios:[...ce.funcionarios,Re]}),Ae({...X,[ce.id]:""})},className:"w-full px-4 py-3 hover:bg-purple-50 transition-colors text-left border-b border-purple-100 last:border-0",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-purple-900",children:Ue.name||Ue.nome}),n.jsx("p",{className:"text-xs text-gray-600",children:Ue.role||Ue.cargo||"N/A"})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"font-bold text-green-600",children:["R$ ",Number(Ue.hourly_rate||Ue.custo_hora||0).toFixed(2),"/h"]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Clique para adicionar"})]})]})},Ue.id)),p.filter(Ue=>{const Re=(Ue.name||Ue.nome||"").toLowerCase(),rt=(Ue.role||Ue.cargo||"").toLowerCase(),_t=X[ce.id].toLowerCase();return Re.includes(_t)||rt.includes(_t)}).length===0&&n.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[n.jsx(ir,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),n.jsx("p",{className:"text-sm",children:"Nenhum funcionrio encontrado"})]})]})]}),n.jsx("p",{className:"text-xs text-purple-700 mt-2 flex items-center gap-1",children:" Digite para buscar e adicionar funcionrios instantaneamente"})]}),ce.funcionarios.length>0&&n.jsx("div",{className:"space-y-3",children:ce.funcionarios.map((Ue,Re)=>n.jsxs(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-white border-2 border-purple-100 rounded-xl p-4 hover:shadow-md transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-purple-600 font-bold text-sm",children:Re+1})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-purple-900",children:Ue.nome}),n.jsxs("p",{className:"text-xs text-gray-500",children:["R$ ",Ue.custo_hora.toFixed(2),"/hora"]})]})]}),n.jsx("button",{onClick:()=>We(ce.id,Ue.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover funcionrio",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:" Tempo de Trabalho"}),n.jsx("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[10,30,60,120,240,480].map(rt=>n.jsx("button",{type:"button",onClick:()=>Oe(ce.id,Ue.id,{tempo_minutos:rt}),className:`px-2 py-1 rounded-lg text-xs font-semibold transition-all ${Ue.tempo_minutos===rt?"bg-purple-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:rt<60?`${rt}m`:`${rt/60}h`},rt))}),n.jsx("select",{value:Ue.tempo_minutos,onChange:rt=>Oe(ce.id,Ue.id,{tempo_minutos:Number(rt.target.value)}),className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",children:Array.from({length:96},(rt,_t)=>(_t+1)*10).map(rt=>n.jsx("option",{value:rt,children:rt<60?`${rt} minutos`:rt===60?"1 hora":rt%60===0?`${rt/60} horas`:`${Math.floor(rt/60)}h ${rt%60}m`},rt))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo/Hora"}),n.jsx("input",{type:"text",value:ge(Ue.custo_hora),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-blue-50 font-bold text-blue-700 text-sm"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:" Custo Total"}),n.jsx("input",{type:"text",value:ge(Ue.custo_total),disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-200 rounded-lg bg-green-50 font-bold text-green-700 text-sm"})]})]})]})]},Ue.id))}),ce.funcionarios.length===0&&n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[n.jsx(ir,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nenhum funcionrio adicionado"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Use a busca acima para adicionar"})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 grid grid-cols-4 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Custo Materiais:"}),n.jsx("p",{className:"font-bold text-orange-600",children:ge(ce.custo_materiais)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Custo Mo Obra:"}),n.jsx("p",{className:"font-bold text-blue-600",children:ge(ce.custo_mao_obra)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Lucro:"}),n.jsx("p",{className:"font-bold text-green-600",children:ge(ce.lucro)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-600",children:"Margem:"}),n.jsxs("p",{className:"font-bold text-purple-600",children:[ce.margem_lucro.toFixed(1),"%"]})]})]})]})]},ce.id)),n.jsxs("button",{onClick:lt,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors flex items-center justify-center gap-2 text-gray-600 hover:text-blue-600",children:[n.jsx(zt,{className:"h-5 w-5"}),"Adicionar Outro Servio"]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsx(cde,{subtotal:L.subtotal,discount:L.desconto,total:L.total,costMaterials:L.custo_total_materiais,costLabor:L.custo_total_mao_obra,totalCost:L.custo_total,profit:L.lucro_total,margin:L.margem_lucro}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border sticky top-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal Servios:"}),n.jsx("span",{className:"font-semibold",children:ge(L.subtotal)})]}),(q.custo_deslocamento||0)+(q.custo_estacionamento||0)+(q.custo_pedagio||0)+(q.custo_outros||0)>0&&n.jsx(n.Fragment,{children:n.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-lg p-3 space-y-2",children:[n.jsx("h4",{className:"font-semibold text-sm text-orange-700 flex items-center gap-1",children:" Custos Adicionais (Deduzidos)"}),q.custo_deslocamento>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:" Deslocamento:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ge(q.custo_deslocamento)]})]}),q.custo_estacionamento>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:" Estacionamento:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ge(q.custo_estacionamento)]})]}),q.custo_pedagio>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-600",children:" Pedgio:"}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ge(q.custo_pedagio)]})]}),q.custo_outros>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsxs("span",{className:"text-orange-600",children:[" ",q.descricao_outros||"Outros",":"]}),n.jsxs("span",{className:"font-semibold text-orange-700",children:["-",ge(q.custo_outros)]})]}),n.jsxs("div",{className:"pt-2 border-t border-orange-300 flex justify-between",children:[n.jsx("span",{className:"font-bold text-orange-700",children:"Total Deduzido:"}),n.jsxs("span",{className:"font-bold text-red-700",children:["-",ge((q.custo_deslocamento||0)+(q.custo_estacionamento||0)+(q.custo_pedagio||0)+(q.custo_outros||0))]})]})]})}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3 text-red-600",children:" Desconto"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto Percentual (%)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",value:q.desconto_percentual,step:"0.1",min:"0",max:"100",onChange:ce=>re({...q,desconto_percentual:Number(ce.target.value),desconto_valor:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"}),n.jsx("span",{className:"text-red-700 font-bold text-lg",children:"%"})]})]}),n.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:" OU "}),n.jsxs("div",{className:"bg-red-50 rounded-lg p-3 border border-red-200",children:[n.jsx("label",{className:"block text-xs font-medium text-red-700 mb-1",children:"Desconto em Valor (R$)"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-red-700 font-bold text-lg",children:"R$"}),n.jsx("input",{type:"number",value:q.desconto_valor,step:"0.01",min:"0",onChange:ce=>re({...q,desconto_valor:Number(ce.target.value),desconto_percentual:0}),className:"flex-1 px-3 py-2 border-2 border-red-300 rounded-lg text-sm font-semibold focus:ring-2 focus:ring-red-500 focus:border-red-500"})]})]})]})]}),n.jsxs("div",{className:"bg-red-100 border-2 border-red-300 rounded-lg p-3 flex justify-between items-center",children:[n.jsx("span",{className:"text-red-700 font-semibold",children:"Desconto Aplicado:"}),n.jsxs("span",{className:"text-red-700 font-bold text-xl",children:["-",ge(L.desconto)]})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between text-lg font-bold",children:[n.jsx("span",{children:"TOTAL:"}),n.jsx("span",{className:"text-blue-600",children:ge(L.total)})]}),n.jsxs("div",{className:"border-t pt-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:q.show_material_costs,onChange:ce=>re({...q,show_material_costs:ce.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-gray-700",children:"Mostrar custos dos materiais no documento"})]}),n.jsx("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:"Se desmarcado, apenas os preos de venda sero exibidos"})]})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[n.jsx(gr,{className:"h-4 w-4 text-green-600"}),"Informaes de Pagamento"]}),n.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-lg p-4 border-2 border-green-200",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Forma:"}),n.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:q.payment_method==="dinheiro"?"Dinheiro":q.payment_method==="pix"?"PIX":q.payment_method==="debito"?"Dbito":q.payment_method==="credito"?"Crdito":q.payment_method==="transferencia"?"Transferncia":q.payment_method==="boleto"?"Boleto":"Cheque"})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Parcelas:"}),n.jsxs("span",{className:"font-semibold text-gray-900",children:[q.payment_installments,"x ",q.payment_installments>1&&`de ${ge(L.total/q.payment_installments)}`]})]}),q.bank_account_id&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Conta:"}),n.jsx("span",{className:"font-semibold text-gray-900",children:y.find(ce=>ce.id===q.bank_account_id)?.account_name||"Padro"})]}),q.warranty_period>0&&n.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[n.jsxs("span",{className:"text-amber-600 flex items-center gap-1",children:[n.jsx(Wt,{className:"h-3 w-3"}),"Garantia:"]}),n.jsxs("span",{className:"font-semibold text-amber-700",children:[q.warranty_period," ",q.warranty_type==="days"?"dias":q.warranty_type==="months"?"meses":"anos"]})]})]})})]}),n.jsxs("div",{className:"mt-6 pt-6 border-t space-y-3",children:[n.jsx("h4",{className:"font-semibold text-sm mb-3",children:"Anlise de Custos"}),n.jsx("div",{className:"bg-orange-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-orange-700",children:"Custo Materiais:"}),n.jsx("span",{className:"font-bold text-orange-700",children:ge(L.custo_total_materiais)})]})}),n.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-blue-700",children:"Custo Mo de Obra:"}),n.jsx("span",{className:"font-bold text-blue-700",children:ge(L.custo_total_mao_obra)})]})}),n.jsx("div",{className:"bg-gray-100 rounded-lg p-3",children:n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),n.jsx("span",{className:"font-bold text-gray-900",children:ge(L.custo_total)})]})}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("span",{className:"text-green-700 font-semibold",children:"Lucro:"}),n.jsx("span",{className:"font-bold text-green-700 text-lg",children:ge(L.lucro_total)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-600 text-sm",children:"Margem:"}),n.jsxs("span",{className:"font-bold text-green-600",children:[L.margem_lucro.toFixed(1),"%"]})]})]})]})]})]})]}),I&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-md w-full shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[n.jsx(Ti,{className:"h-5 w-5 text-blue-600"}),"Enviar Ordem de Servio"]}),n.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email do Destinatrio"}),n.jsx("input",{type:"email",value:N,onChange:ce=>T(ce.target.value),placeholder:"cliente@email.com",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),n.jsx("textarea",{value:Q,onChange:ce=>U(ce.target.value),placeholder:"Digite uma mensagem...",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"flex gap-2 pt-4",children:[n.jsx("button",{onClick:()=>S(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:gt,disabled:K,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:K?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ti,{className:"h-4 w-4"}),"Enviar"]})})]})]})]})}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg p-4 z-40",children:n.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[a&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:Je,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Imprimir OS",children:[n.jsx(fh,{className:"h-4 w-4"}),"Imprimir"]}),n.jsxs("button",{onClick:Ve,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Baixar PDF",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Download"]}),n.jsxs("button",{onClick:yt,disabled:i,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 disabled:opacity-50",title:"Enviar por Email",children:[n.jsx(Ti,{className:"h-4 w-4"}),"Enviar"]})]}),n.jsxs("button",{onClick:Ne,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg hover:from-green-700 hover:to-green-800 flex items-center gap-2 shadow-md",title:"Gerar PDF Profissional",children:[n.jsx(dne,{className:"h-4 w-4"}),"Gerar PDF"]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>t("/service-orders"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(bt,{className:"h-4 w-4"}),"Cancelar"]}),n.jsxs("button",{onClick:st,disabled:i,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 disabled:opacity-50 flex items-center gap-2 shadow-md",children:[n.jsx(hr,{className:"h-4 w-4"}),i?"Salvando...":a?"Atualizar OS":"Salvar OS"]})]})]})})]})},V$=6048e5,dde=864e5,Zy=43200,sO=1440,aO=Symbol.for("constructDateFrom");function Fd(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&aO in t?t[aO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Gs(t,e){return Fd(e||t,t)}let ude={};function Qx(){return ude}function R0(t,e){const r=Qx(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Gs(t,e?.in),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Tb(t,e){return R0(t,{...e,weekStartsOn:1})}function K$(t,e){const r=Gs(t,e?.in),s=r.getFullYear(),a=Fd(r,0);a.setFullYear(s+1,0,4),a.setHours(0,0,0,0);const i=Tb(a),o=Fd(r,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=Tb(o);return r.getTime()>=i.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function Ob(t){const e=Gs(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function c1(t,...e){const r=Fd.bind(null,t||e.find(s=>typeof s=="object"));return e.map(r)}function iO(t,e){const r=Gs(t,e?.in);return r.setHours(0,0,0,0),r}function hde(t,e,r){const[s,a]=c1(r?.in,t,e),i=iO(s),o=iO(a),l=+i-Ob(i),c=+o-Ob(o);return Math.round((l-c)/dde)}function Ade(t,e){const r=K$(t,e),s=Fd(t,0);return s.setFullYear(r,0,4),s.setHours(0,0,0,0),Tb(s)}function ib(t,e){const r=+Gs(t)-+Gs(e);return r<0?-1:r>0?1:r}function fde(t){return Fd(t,Date.now())}function mde(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pde(t){return!(!mde(t)&&typeof t!="number"||isNaN(+Gs(t)))}function gde(t,e,r){const[s,a]=c1(r?.in,t,e),i=s.getFullYear()-a.getFullYear(),o=s.getMonth()-a.getMonth();return i*12+o}function xde(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function yde(t,e){return+Gs(t)-+Gs(e)}function vde(t,e){const r=Gs(t,e?.in);return r.setHours(23,59,59,999),r}function bde(t,e){const r=Gs(t,e?.in),s=r.getMonth();return r.setFullYear(r.getFullYear(),s+1,0),r.setHours(23,59,59,999),r}function wde(t,e){const r=Gs(t,e?.in);return+vde(r,e)==+bde(r,e)}function jde(t,e,r){const[s,a,i]=c1(r?.in,t,t,e),o=ib(a,i),l=Math.abs(gde(a,i));if(l<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*l);let c=ib(a,i)===-o;wde(s)&&l===1&&ib(s,i)===1&&(c=!1);const d=o*(l-+c);return d===0?0:d}function Nde(t,e,r){const s=yde(t,e)/1e3;return xde(r?.roundingMethod)(s)}function _de(t,e){const r=Gs(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Cde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Sde=(t,e,r)=>{let s;const a=Cde[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function zm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Bde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ede={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Pde={date:zm({formats:Bde,defaultWidth:"full"}),time:zm({formats:Ede,defaultWidth:"full"}),dateTime:zm({formats:kde,defaultWidth:"full"})},Fde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tde=(t,e,r,s)=>Fde[t];function oc(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Ode={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ide={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Mde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ude={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rde=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qde={ordinalNumber:Rde,era:oc({values:Ode,defaultWidth:"wide"}),quarter:oc({values:Ide,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oc({values:Dde,defaultWidth:"wide"}),day:oc({values:Mde,defaultWidth:"wide"}),dayPeriod:oc({values:Lde,defaultWidth:"wide",formattingValues:Ude,defaultFormattingWidth:"wide"})};function lc(t){return(e,r={})=>{const s=r.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?$de(l,h=>h.test(o)):Hde(l,h=>h.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function Hde(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function $de(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function W$(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const a=s[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const qde=/^(\d+)(th|st|nd|rd)?/i,zde=/\d+/i,Vde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Kde={any:[/^b/i,/^(a|c)/i]},Wde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gde={any:[/1/i,/2/i,/3/i,/4/i]},Xde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},eue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rue={ordinalNumber:W$({matchPattern:qde,parsePattern:zde,valueCallback:t=>parseInt(t,10)}),era:lc({matchPatterns:Vde,defaultMatchWidth:"wide",parsePatterns:Kde,defaultParseWidth:"any"}),quarter:lc({matchPatterns:Wde,defaultMatchWidth:"wide",parsePatterns:Gde,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lc({matchPatterns:Xde,defaultMatchWidth:"wide",parsePatterns:Yde,defaultParseWidth:"any"}),day:lc({matchPatterns:Jde,defaultMatchWidth:"wide",parsePatterns:Zde,defaultParseWidth:"any"}),dayPeriod:lc({matchPatterns:eue,defaultMatchWidth:"any",parsePatterns:tue,defaultParseWidth:"any"})},G$={code:"en-US",formatDistance:Sde,formatLong:Pde,formatRelative:Tde,localize:Qde,match:rue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nue(t,e){const r=Gs(t,e?.in);return hde(r,_de(r))+1}function sue(t,e){const r=Gs(t,e?.in),s=+Tb(r)-+Ade(r);return Math.round(s/V$)+1}function X$(t,e){const r=Gs(t,e?.in),s=r.getFullYear(),a=Qx(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Fd(e?.in||t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=R0(o,e),c=Fd(e?.in||t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const d=R0(c,e);return+r>=+l?s+1:+r>=+d?s:s-1}function aue(t,e){const r=Qx(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=X$(t,e),i=Fd(e?.in||t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),R0(i,e)}function iue(t,e){const r=Gs(t,e?.in),s=+R0(r,e)-+aue(r,e);return Math.round(s/V$)+1}function Kr(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Ru={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return Kr(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Kr(r+1,2)},d(t,e){return Kr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Kr(t.getHours()%12||12,e.length)},H(t,e){return Kr(t.getHours(),e.length)},m(t,e){return Kr(t.getMinutes(),e.length)},s(t,e){return Kr(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Kr(a,e.length)}},sm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oO={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return Ru.y(t,e)},Y:function(t,e,r,s){const a=X$(t,s),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Kr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Kr(i,e.length)},R:function(t,e){const r=K$(t);return Kr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Kr(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Kr(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Kr(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Ru.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return Kr(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const a=iue(t,s);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Kr(a,e.length)},I:function(t,e,r){const s=sue(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):Kr(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ru.d(t,e)},D:function(t,e,r){const s=nue(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Kr(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Kr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Kr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),a=s===0?7:s;switch(e){case"i":return String(a);case"ii":return Kr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let a;switch(s===12?a=sm.noon:s===0?a=sm.midnight:a=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let a;switch(s>=17?a=sm.evening:s>=12?a=sm.afternoon:s>=4?a=sm.morning:a=sm.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Ru.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ru.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Kr(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):Kr(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ru.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ru.s(t,e)},S:function(t,e){return Ru.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return cO(s);case"XXXX":case"XX":return gA(s);case"XXXXX":case"XXX":default:return gA(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return cO(s);case"xxxx":case"xx":return gA(s);case"xxxxx":case"xxx":default:return gA(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lO(s,":");case"OOOO":default:return"GMT"+gA(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lO(s,":");case"zzzz":default:return"GMT"+gA(s,":")}},t:function(t,e,r){const s=Math.trunc(+t/1e3);return Kr(s,e.length)},T:function(t,e,r){return Kr(+t,e.length)}};function lO(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?r+String(a):r+String(a)+e+Kr(i,2)}function cO(t,e){return t%60===0?(t>0?"-":"+")+Kr(Math.abs(t)/60,2):gA(t,e)}function gA(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),a=Kr(Math.trunc(s/60),2),i=Kr(s%60,2);return r+a+e+i}const dO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Y$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},oue=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return dO(t,e);let i;switch(s){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",dO(s,e)).replace("{{time}}",Y$(a,e))},lue={p:Y$,P:oue},cue=/^D+$/,due=/^Y+$/,uue=["D","DD","YY","YYYY"];function hue(t){return cue.test(t)}function Aue(t){return due.test(t)}function fue(t,e,r){const s=mue(t,e,r);if(console.warn(s),uue.includes(t))throw new RangeError(s)}function mue(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const pue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xue=/^'([^]*?)'?$/,yue=/''/g,vue=/[a-zA-Z]/;function ni(t,e,r){const s=Qx(),a=r?.locale??s.locale??G$,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??s.weekStartsOn??s.locale?.options?.weekStartsOn??0,l=Gs(t,r?.in);if(!pde(l))throw new RangeError("Invalid time value");let c=e.match(gue).map(u=>{const h=u[0];if(h==="p"||h==="P"){const f=lue[h];return f(u,a.formatLong)}return u}).join("").match(pue).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const h=u[0];if(h==="'")return{isToken:!1,value:bue(u)};if(oO[h])return{isToken:!0,value:u};if(h.match(vue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:u}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(u=>{if(!u.isToken)return u.value;const h=u.value;(!r?.useAdditionalWeekYearTokens&&Aue(h)||!r?.useAdditionalDayOfYearTokens&&hue(h))&&fue(h,e,String(t));const f=oO[h[0]];return f(l,h,a.localize,d)}).join("")}function bue(t){const e=t.match(xue);return e?e[1].replace(yue,"'"):t}function J$(t,e,r){const s=Qx(),a=r?.locale??s.locale??G$,i=2520,o=ib(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[c,d]=c1(r?.in,...o>0?[e,t]:[t,e]),u=Nde(d,c),h=(Ob(d)-Ob(c))/1e3,f=Math.round((u-h)/60);let p;if(f<2)return r?.includeSeconds?u<5?a.formatDistance("lessThanXSeconds",5,l):u<10?a.formatDistance("lessThanXSeconds",10,l):u<20?a.formatDistance("lessThanXSeconds",20,l):u<40?a.formatDistance("halfAMinute",0,l):u<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):f===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",f,l);if(f<45)return a.formatDistance("xMinutes",f,l);if(f<90)return a.formatDistance("aboutXHours",1,l);if(f<sO){const v=Math.round(f/60);return a.formatDistance("aboutXHours",v,l)}else{if(f<i)return a.formatDistance("xDays",1,l);if(f<Zy){const v=Math.round(f/sO);return a.formatDistance("xDays",v,l)}else if(f<Zy*2)return p=Math.round(f/Zy),a.formatDistance("aboutXMonths",p,l)}if(p=jde(d,c),p<12){const v=Math.round(f/Zy);return a.formatDistance("xMonths",v,l)}else{const v=p%12,y=Math.trunc(p/12);return v<3?a.formatDistance("aboutXYears",y,l):v<9?a.formatDistance("overXYears",y,l):a.formatDistance("almostXYears",y+1,l)}}function wue(t,e){return J$(t,fde(t),e)}const uO=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9]/g,"_").replace(/_+/g,"_").replace(/^_|_$/g,""),jue=t=>({ordem_servico:"OS",orcamento:"ORC",proposta:"PROP",contrato:"CONT",relatorio:"REL",documento:"DOC",nota_fiscal:"NF"})[t]||"DOC",Nue=t=>{const{documentType:e,documentNumber:r,clientName:s,customFilename:a}=t;if(a)return a.endsWith(".pdf")?a:`${a}.pdf`;const i=jue(e),o=ni(new Date,"dd-MM-yyyy");let l=i;if(r){const c=uO(r);l+=`_${c}`}if(s){const c=uO(s);l+=`_${c}`}return l+=`_${o}.pdf`,l},_ue=(t,e)=>{const r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(r)},Cue=t=>{if(typeof window<"u"&&window.alert){const e=new CustomEvent("toast",{detail:{message:`Documento gerado: ${t}`,type:"success"}});window.dispatchEvent(e)}console.log(" PDF gerado:",t)},Sue=t=>{const e=` Erro ao gerar documento: ${t}`;if(typeof window<"u"){const r=new CustomEvent("toast",{detail:{message:e,type:"error"}});window.dispatchEvent(r)}console.error(" Erro na gerao do PDF:",t)},Bue=async(t,e)=>{try{console.log(" Iniciando gerao de documento completo...",e);const r=await t();if(!r||r.size===0)throw new Error("PDF gerado est vazio");const s=Nue(e);return _ue(r,s),e.showSuccessMessage!==!1&&Cue(s),{success:!0,filename:s,message:"Documento completo gerado com sucesso em formato PDF",blob:r}}catch(r){const s=r instanceof Error?r.message:"Erro desconhecido";return console.error("Erro ao gerar PDF:",r),e.showSuccessMessage!==!1&&Sue(s),{success:!1,filename:"",message:`Erro ao gerar documento: ${s}`,error:s}}},Eue=t=>{const[e,r]=O.useState(!1),[s,a]=O.useState(null),[i,o]=O.useState(null),l=O.useCallback(async(d,u)=>{r(!0),a(null);const h={documentType:t.documentType,showSuccessMessage:!0,includeImages:!0,format:"A4",orientation:"portrait",...u};try{const f=await Bue(d,h);return o(f),f.success?t.onSuccess?.(f):(a(f.error||"Erro desconhecido"),t.onError?.(f.error||"Erro desconhecido")),f}catch(f){const p=f instanceof Error?f.message:"Erro ao imprimir documento";return a(p),t.onError?.(p),{success:!1,filename:"",message:p,error:p}}finally{r(!1)}},[t]),c=O.useCallback(()=>{a(null),o(null),r(!1)},[]);return{print:l,isPrinting:e,error:s,lastResult:i,reset:c}},kue=({documentType:t,generatePDF:e,printOptions:r,label:s="Imprimir Documento",variant:a="primary",size:i="md",fullWidth:o=!1,icon:l=!0,disabled:c=!1,onSuccess:d,onError:u,className:h=""})=>{const{print:f,isPrinting:p,error:v,lastResult:y}=Eue({documentType:t,onSuccess:()=>d?.(),onError:k=>u?.(k)}),g=async()=>{await f(e,r)},x=()=>{switch(a){case"primary":return"bg-blue-600 hover:bg-blue-700 text-white";case"secondary":return"bg-gray-600 hover:bg-gray-700 text-white";case"outline":return"border-2 border-blue-600 text-blue-600 hover:bg-blue-50";default:return"bg-blue-600 hover:bg-blue-700 text-white"}},w=()=>{switch(i){case"sm":return"px-3 py-1.5 text-sm";case"md":return"px-4 py-2 text-base";case"lg":return"px-6 py-3 text-lg";default:return"px-4 py-2 text-base"}},_=()=>l?p?n.jsx(Rne,{className:"h-5 w-5 animate-spin"}):y?.success?n.jsx(Ua,{className:"h-5 w-5"}):v?n.jsx(Gn,{className:"h-5 w-5"}):n.jsx(fh,{className:"h-5 w-5"}):null;return n.jsxs("button",{onClick:g,disabled:c||p,className:`
        flex items-center justify-center gap-2 font-medium rounded-lg
        transition-all duration-200
        ${x()}
        ${w()}
        ${o?"w-full":""}
        ${c||p?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}
        ${h}
      `,title:"Gerar documento completo em PDF (formato A4)",children:[_(),n.jsx("span",{children:p?"Gerando PDF...":s})]})},Pue=async(t,e)=>{try{const{data:r,error:s}=await pe.from("contract_templates").select("*").eq("id",t).single();if(s||!r)return console.error("Template not found:",s),null;const{data:a,error:i}=await pe.from("service_orders").select(`
        *,
        customers (
          id,
          name,
          cpf_cnpj,
          email,
          phone,
          customer_addresses (
            logradouro,
            numero,
            complemento,
            bairro,
            cidade,
            estado,
            cep
          )
        )
      `).eq("id",e.serviceOrderId).single();if(i||!a)return console.error("Service order not found:",i),null;const{data:o}=await pe.from("service_order_items").select("service_name, description, quantity, unit_price, total_price").eq("service_order_id",e.serviceOrderId),{data:l}=await pe.from("company_settings").select("*").limit(1).single(),{data:c}=await pe.from("bank_accounts").select("*").eq("is_default",!0).limit(1).maybeSingle(),d=a.customers,u=d?.customer_addresses?.[0],h=u?`${u.logradouro}, ${u.numero}${u.complemento?" - "+u.complemento:""}, ${u.bairro}, ${u.cidade}/${u.estado}, CEP: ${u.cep}`:"Endereo no cadastrado",f=o?.map(B=>`- ${B.service_name}${B.description?": "+B.description:""} (${B.quantity}x R$ ${B.unit_price.toFixed(2)} = R$ ${B.total_price.toFixed(2)})`).join(`
`)||"Servios conforme OS",p=a.payment_method==="cash"?"Dinheiro":a.payment_method==="credit_card"?"Carto de Crdito":a.payment_method==="debit_card"?"Carto de Dbito":a.payment_method==="pix"?"PIX":a.payment_method==="bank_transfer"?"Transferncia Bancria":a.payment_method==="bank_slip"?"Boleto Bancrio":a.payment_method==="promissory_note"?"Nota Promissria":"A definir",v=a.warranty_period||90,y=a.warranty_type||"days",g=y==="days"?`${v} dias`:y==="months"?`${v} meses`:`${v} anos`,x=a.scheduled_at?new Date(a.scheduled_at).toLocaleDateString("pt-BR"):"A definir",w=a.completed_at?new Date(a.completed_at).toLocaleDateString("pt-BR"):"A definir",_=a.scheduled_at&&v?new Date(new Date(a.scheduled_at).getTime()+v*(y==="days"?864e5:y==="months"?2592e6:31536e6)).toLocaleDateString("pt-BR"):"A calcular",k={"[NOME_CLIENTE]":d?.name||"Cliente no informado","[CPF_CNPJ_CLIENTE]":d?.cpf_cnpj||"No informado","[EMAIL_CLIENTE]":d?.email||"No informado","[TELEFONE_CLIENTE]":d?.phone||"No informado","[ENDERECO_CLIENTE]":h,"[NUMERO_OS]":a.order_number||a.id.substring(0,8),"[DATA_OS]":x,"[DATA_CONCLUSAO]":w,"[VALOR_TOTAL]":`R$ ${(a.total_amount||0).toFixed(2)}`,"[VALOR_SUBTOTAL]":`R$ ${(a.subtotal||0).toFixed(2)}`,"[DESCONTO]":`R$ ${(a.discount_amount||0).toFixed(2)}`,"[DESCRICAO_SERVICOS]":f,"[PRAZO_EXECUCAO]":`${a.estimated_duration||0} horas`,"[GARANTIA_PERIODO]":g,"[GARANTIA_ATE]":_,"[FORMA_PAGAMENTO]":p,"[CONDICOES_PAGAMENTO]":p,"[NOME_EMPRESA]":l?.company_name||"Nome da Empresa","[CNPJ_EMPRESA]":l?.cnpj||"CNPJ no informado","[ENDERECO_EMPRESA]":l?.address||"Endereo no informado","[TELEFONE_EMPRESA]":l?.phone||"Telefone no informado","[EMAIL_EMPRESA]":l?.email||"E-mail no informado","[CIDADE]":l?.city||u?.cidade||"Cidade no informada","[ESTADO]":l?.state||u?.estado||"Estado no informado","[BANCO]":c?.bank_name||"Banco no informado","[AGENCIA]":c?.agency||"0000","[CONTA]":c?.account_number||"00000-0","[TIPO_CONTA]":c?.account_type==="checking"?"Conta Corrente":"Conta Poupana","[TITULAR]":c?.account_holder||l?.company_name||"Titular no informado","[CPF_CNPJ_TITULAR]":l?.cnpj||"No informado","[CHAVE_PIX]":c?.pix_key||"No informado","[TIPO_CHAVE_PIX]":c?.pix_key_type==="cpf"?"CPF":c?.pix_key_type==="cnpj"?"CNPJ":c?.pix_key_type==="email"?"E-mail":c?.pix_key_type==="phone"?"Telefone":c?.pix_key_type==="random"?"Chave Aleatria":"No informado","[EMAIL_COMPROVANTE]":l?.email||"Email no informado","[WHATSAPP_CONTATO]":l?.phone||"WhatsApp no informado","[DADOS_BANCARIOS]":c?`Banco: ${c.bank_name}
Agncia: ${c.agency}
Conta: ${c.account_number}
PIX: ${c.pix_key||"No disponvel"}`:"Dados bancrios no cadastrados","[VALOR_ENTRADA]":`R$ ${((a.total_amount||0)*.3).toFixed(2)}`,"[NUMERO_PARCELAS]":"3","[VALOR_PARCELA]":`R$ ${((a.total_amount||0)*.7/3).toFixed(2)}`,"[DIA_VENCIMENTO]":"10"},C=B=>{let I=B;return Object.entries(k).forEach(([S,E])=>{I=I.replace(new RegExp(S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),E)}),I};return{contract_text:C(r.contract_text||""),contract_clauses:C(r.contract_clauses||""),warranty_terms:C(r.warranty_terms||""),payment_conditions:C(r.payment_conditions||""),bank_details_template:C(r.bank_details_template||"")}}catch(r){return console.error("Error filling contract:",r),null}},Fue=async()=>{try{const{data:t,error:e}=await pe.from("contract_templates").select("*").eq("is_default",!0).eq("active",!0).single();if(e||!t){const{data:r}=await pe.from("contract_templates").select("*").eq("active",!0).limit(1).single();return r}return t}catch(t){return console.error("Error getting default template:",t),null}},Tue=({isOpen:t,onClose:e,serviceOrderId:r,templateId:s})=>{const[a,i]=O.useState(!0),[o,l]=O.useState(null);O.useEffect(()=>{t&&r&&c()},[t,r,s]);const c=async()=>{try{i(!0);let h=s;if(h||(h=(await Fue())?.id),!h){alert("Nenhum template de contrato disponvel"),e();return}const f=await Pue(h,{serviceOrderId:r});if(!f){alert("Erro ao preencher contrato"),e();return}l(f)}catch(h){console.error("Error loading contract:",h),alert("Erro ao carregar contrato")}finally{i(!1)}},d=()=>{if(!o)return;const h=new Rt,f=15,p=h.internal.pageSize.width,v=h.internal.pageSize.height,y=p-2*f;let g=f;const x=(_,k=10,C=!1)=>{h.setFontSize(k),h.setFont("helvetica",C?"bold":"normal"),h.splitTextToSize(_,y).forEach(I=>{g>v-f&&(h.addPage(),g=f),h.text(I,f,g),g+=k*.5}),g+=3};h.setFontSize(16),h.setFont("helvetica","bold"),h.text("CONTRATO DE PRESTAO DE SERVIOS",p/2,g,{align:"center"}),g+=15,o.contract_text&&(x(o.contract_text,10),g+=5),o.contract_clauses&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CLUSULAS CONTRATUAIS",f,g),g+=7,x(o.contract_clauses,10),g+=5),o.warranty_terms&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("TERMOS DE GARANTIA",f,g),g+=7,x(o.warranty_terms,10),g+=5),o.payment_conditions&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("CONDIES DE PAGAMENTO",f,g),g+=7,x(o.payment_conditions,10),g+=5),o.bank_details_template&&(h.setFontSize(12),h.setFont("helvetica","bold"),h.text("DADOS BANCRIOS",f,g),g+=7,x(o.bank_details_template,10),g+=10),g>v-50&&(h.addPage(),g=f),g+=10,h.setFontSize(10),h.text("_________________________________________",f,g),h.text("CONTRATANTE",f+30,g+5),h.text("_________________________________________",p/2+10,g),h.text("CONTRATADA",p/2+40,g+5),g+=15;const w=new Date().toLocaleDateString("pt-BR");h.setFontSize(9),h.text(`Data: ${w}`,p/2,g,{align:"center"}),h.save(`contrato-${r.substring(0,8)}.pdf`)},u=()=>{window.print()};return t?n.jsx(vt,{children:n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:e,children:n.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:h=>h.stopPropagation(),children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Et,{className:"h-6 w-6"}),n.jsx("h2",{className:"text-xl font-bold",children:"Contrato de Prestao de Servios"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})})]}),a?n.jsxs("div",{className:"p-12 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando contrato..."})]}):o?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)] print:overflow-visible print:max-h-none",children:n.jsxs("div",{className:"prose max-w-none",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6 border-2 border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-blue-600"}),"Contrato Principal"]}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-gray-800",children:o.contract_text})]}),o.contract_clauses&&n.jsxs("div",{className:"bg-purple-50 rounded-lg p-6 mb-6 border-2 border-purple-200",children:[n.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-4",children:"Clusulas Contratuais"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-purple-800",children:o.contract_clauses})]}),o.warranty_terms&&n.jsxs("div",{className:"bg-green-50 rounded-lg p-6 mb-6 border-2 border-green-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-green-900 mb-4 flex items-center gap-2",children:[n.jsx(rn,{className:"h-5 w-5"}),"Termos de Garantia"]}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-green-800",children:o.warranty_terms})]}),o.payment_conditions&&n.jsxs("div",{className:"bg-orange-50 rounded-lg p-6 mb-6 border-2 border-orange-200",children:[n.jsx("h3",{className:"text-lg font-bold text-orange-900 mb-4",children:"Condies de Pagamento"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-orange-800",children:o.payment_conditions})]}),o.bank_details_template&&n.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 mb-6 border-2 border-blue-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Dados Bancrios"}),n.jsx("div",{className:"whitespace-pre-wrap text-sm text-blue-800",children:o.bank_details_template})]}),n.jsxs("div",{className:"mt-8 pt-8 border-t-2 border-gray-300",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),n.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATANTE"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"border-t-2 border-gray-400 pt-2 mb-2"}),n.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"CONTRATADA"})]})]}),n.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Data: ",new Date().toLocaleDateString("pt-BR")]})]})]})}),n.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3 border-t print:hidden",children:[n.jsxs("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[n.jsx(fh,{className:"h-4 w-4"}),"Imprimir"]}),n.jsxs("button",{onClick:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Baixar PDF"]}),n.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Fechar"})]})]}):n.jsx("div",{className:"p-12 text-center",children:n.jsx("p",{className:"text-gray-600",children:"Erro ao carregar contrato"})})]})})}):null},Oue=async t=>{const e=await l1(),r=new Rt,s=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight(),i=15;let o=20;const l=[15,118,110],c=[20,184,166],d=[52,58,64],u=[248,249,250],h=U=>o+U>a-25?(f(),r.addPage(),o=i,!0):!1,f=()=>{const U=r.getCurrentPageInfo().pageNumber;r.setDrawColor(...u),r.setLineWidth(.5),r.line(i,a-10,s-i,a-10),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`${e.email} | ${e.phone} | ${e.website||e.instagram||""}`,s/2,a-6,{align:"center"}),r.text(`Pgina ${U}`,s/2,a-3,{align:"center"})},p=()=>new Promise(U=>{const K=new Image;K.crossOrigin="anonymous",K.onload=()=>{const z=document.createElement("canvas");z.width=K.width,z.height=K.height;const ee=z.getContext("2d");ee?(ee.drawImage(K,0,0),U(z.toDataURL("image/jpeg",.8))):U("")},K.onerror=()=>{const z=new Image;z.crossOrigin="anonymous",z.onload=()=>{const ee=document.createElement("canvas");ee.width=z.width,ee.height=z.height;const G=ee.getContext("2d");G?(G.drawImage(z,0,0),U(ee.toDataURL("image/jpeg",.8))):U("")},z.onerror=()=>U(""),z.src="/image.png"},K.src="/8.jpg"});r.setFillColor(...l),r.rect(0,0,s,50,"F");const v=await p();if(v)try{r.addImage(v,"JPEG",i,10,30,30)}catch{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const K=e.name.charAt(0).toUpperCase();r.text(K,i+15,30,{align:"center"})}else{r.setFillColor(255,255,255),r.circle(i+15,25,12,"F"),r.setFontSize(20),r.setFont("helvetica","bold"),r.setTextColor(...l);const U=e.name.charAt(0).toUpperCase();r.text(U,i+15,30,{align:"center"})}r.setFont("helvetica","bold"),r.setFontSize(18),r.setTextColor(255,255,255),r.text(e.name,i+50,18),r.setFont("helvetica","normal"),r.setFontSize(8);let y=24;r.text(e.owner||"Proprietrio",i+50,y),y+=3.5,r.text(`CNPJ: ${e.cnpj}`,i+50,y),y+=3.5,r.text(e.address,i+50,y),y+=3.5,r.text(`${e.city}-${e.state}${e.zip?"  CEP "+e.zip:""}`,i+50,y);const g=s-i;if(r.text(new Date(t.date).toLocaleDateString("pt-BR"),g,18,{align:"right"}),y=24,r.text(e.email,g,y,{align:"right"}),y+=3.5,r.text(e.phone,g,y,{align:"right"}),y+=3.5,e.instagram&&r.text(e.instagram,g,y,{align:"right"}),o=60,r.setFillColor(...c),r.rect(i,o,s-2*i,t.title?18:12,"F"),r.setFont("helvetica","bold"),r.setFontSize(16),r.setTextColor(255,255,255),r.text(`ORAMENTO ${t.order_number}`,s/2,o+8,{align:"center"}),t.title?(r.setFontSize(11),r.setFont("helvetica","normal"),r.text(t.title,s/2,o+14,{align:"center"}),o+=24):o+=18,r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text(`Cliente: ${t.client.name}`,i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),t.client.company_name&&(r.text(t.client.company_name,i+3,o),o+=4),t.client.cnpj?(r.text(`CNPJ: ${t.client.cnpj}`,i+3,o),o+=4):t.client.cpf&&(r.text(`CPF: ${t.client.cpf}`,i+3,o),o+=4),t.client.address){const U=[t.client.address,t.client.city&&t.client.state?`${t.client.city}-${t.client.state}`:null,t.client.cep?`CEP ${t.client.cep}`:null].filter(Boolean).join(", "),K=r.splitTextToSize(U,s-2*i-6);r.text(K,i+3,o),o+=K.length*4}t.client.phone&&(r.text(`Tel: ${t.client.phone}`,i+3,o),o+=4),t.client.email&&(r.text(`Email: ${t.client.email}`,i+3,o),o+=4),o+=4,t.basic_info&&(h(30),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Informaes do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Prazo de Execuo: ${t.basic_info.deadline}`,i+3,o),o+=4,t.basic_info.start_date&&(r.text(`Data de Incio: ${t.basic_info.start_date}`,i+3,o),o+=4),t.basic_info.brand&&(r.text(`Marca: ${t.basic_info.brand}`,i+3,o),o+=4),t.basic_info.model&&(r.text(`Modelo: ${t.basic_info.model}`,i+3,o),o+=4),t.basic_info.equipment&&(r.text(`Equipamento: ${t.basic_info.equipment}`,i+3,o),o+=4),o+=4),h(40),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Servios e Produtos",i+3,o+5.5),o+=12;const x=t.show_value!==!1,w=t.items.map(U=>{let K=U.service_name||U.description||"Servio";const z=U.service_description||U.description;z&&z!==K&&(K+=`
${z}`);const ee=U.service_scope||U.scope;ee&&(K+=`

ESCOPO:
${ee}`),U.technical_requirements&&(K+=`

REQUISITOS TCNICOS:
${U.technical_requirements}`),U.safety_warnings&&(K+=`

 AVISOS DE SEGURANA:
${U.safety_warnings}`),U.execution_steps&&(K+=`

PASSOS:
${U.execution_steps}`),U.expected_results&&(K+=`

RESULTADOS:
${U.expected_results}`),U.quality_standards&&(K+=`

QUALIDADE:
${U.quality_standards}`),U.warranty_info&&(K+=`

 GARANTIA:
${U.warranty_info}`),U.observations&&(K+=`

OBS:
${U.observations}`);const G=U.estimated_duration||U.tempo_estimado_minutos;return G&&(K+=`

 Tempo: ${G}min`),x?[K,U.unit,U.quantity.toString(),`R$ ${U.unit_price.toFixed(2)}`,`R$ ${U.total_price.toFixed(2)}`]:[K,U.unit,U.quantity.toString()]});if(z$(r,{startY:o,head:x?[["Descrio","Un.","Qtd","Preo Unit.","Total"]]:[["Descrio","Un.","Qtd"]],body:w,theme:"grid",headStyles:{fillColor:l,textColor:[255,255,255],fontSize:9,fontStyle:"bold"},bodyStyles:{fontSize:8,cellPadding:3,textColor:d},columnStyles:x?{0:{cellWidth:80},1:{cellWidth:20,halign:"center"},2:{cellWidth:20,halign:"center"},3:{cellWidth:30,halign:"right"},4:{cellWidth:30,halign:"right",fontStyle:"bold"}}:{0:{cellWidth:130},1:{cellWidth:30,halign:"center"},2:{cellWidth:20,halign:"center"}},margin:{left:i,right:i}}),o=r.autoTable.previous.finalY+5,x){const U=s-i-50;if(r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(...d),r.text("Subtotal:",U,o,{align:"right"}),r.text(`R$ ${t.subtotal.toFixed(2)}`,s-i,o,{align:"right"}),o+=5,t.discount>0){r.setTextColor(231,76,60);const K=t.discount_percentage?`Desconto (${t.discount_percentage}%):`:"Desconto:";r.text(K,U,o,{align:"right"}),r.text(`- R$ ${t.discount.toFixed(2)}`,s-i,o,{align:"right"}),o+=5}r.setDrawColor(...d),r.setLineWidth(1),r.line(U-10,o,s-i,o),o+=7,r.setFillColor(...l),r.rect(U-15,o-5,s-U+15-i,10,"F"),r.setFont("helvetica","bold"),r.setFontSize(12),r.setTextColor(255,255,255),r.text("TOTAL:",U,o+2,{align:"right"}),r.text(`R$ ${t.total.toFixed(2)}`,s-i-3,o+2,{align:"right"}),o+=15}if(t.detailed_scope){h(50),r.setFillColor(219,234,254),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(30,64,175),r.text("Escopo Detalhado do Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const U=r.splitTextToSize(t.detailed_scope,s-2*i-6);r.text(U,i+3,o),o+=U.length*3.5+8}if(t.technical_report){h(50),r.setFillColor(254,243,199),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(146,64,14),r.text("Relatrio Tcnico",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const U=r.splitTextToSize(t.technical_report,s-2*i-6);r.text(U,i+3,o),o+=U.length*3.5+8}if(t.service_instructions){h(50),r.setFillColor(220,252,231),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(20,83,45),r.text("Orientaes de Servio",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d);const U=r.splitTextToSize(t.service_instructions,s-2*i-6);r.text(U,i+3,o),o+=U.length*3.5+8}if(o>a-100&&(f(),r.addPage(),o=i),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Forma de Pagamento",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d),r.text(`Mtodos: ${t.payment.methods}`,i+3,o),o+=5,t.payment.pix&&(r.text(`PIX: ${t.payment.pix}`,i+3,o),o+=5),t.payment.bank_details){const U=t.payment.bank_details;r.setFont("helvetica","bold"),r.text("Dados bancrios:",i+3,o),o+=5,r.setFont("helvetica","normal"),r.text(`Banco: ${U.bank} | Agncia: ${U.agency} | Conta: ${U.account}`,i+3,o),o+=4,r.text(`Tipo: ${U.account_type} | Titular: ${U.holder}`,i+3,o),o+=5}r.setFont("helvetica","bold"),r.text("Condies:",i+3,o),o+=5,r.setFont("helvetica","normal");const C=r.splitTextToSize(t.payment.conditions,s-2*i-6);r.text(C,i+3,o),o+=C.length*4+8,h(50),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Garantia",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(...d),t.warranty.period&&(r.text(`Perodo: ${t.warranty.period}`,i+3,o),o+=6);const B=typeof t.warranty.conditions=="string"?t.warranty.conditions:Array.isArray(t.warranty.conditions)?t.warranty.conditions.join(`

`):"",I=r.splitTextToSize(B,s-2*i-6);if(r.text(I,i+3,o),o+=I.length*3.5+10,t.additional_info||t.special_conditions){h(30),r.setFillColor(...u),r.rect(i,o,s-2*i,8,"F"),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(...l),r.text("Observaes",i+3,o+5.5),o+=12,r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const U=t.additional_info||t.special_conditions||"",K=r.splitTextToSize(U,s-2*i-6);r.text(K,i+3,o),o+=K.length*4+8}h(40),r.setFont("helvetica","normal"),r.setFontSize(9),r.setTextColor(...d);const S=o;r.text(`${t.client.city||e.city}, ${new Date(t.date).toLocaleDateString("pt-BR")}`,s/2,S,{align:"center"}),o+=25;const E=i+10,D=s/2-10;r.line(E,o,D,o),o+=5,r.setFont("helvetica","bold"),r.text(e.name,(E+D)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),r.text(e.owner||"Representante Legal",(E+D)/2,o,{align:"center"});const N=s/2+10,T=s-i-10;o-=9,r.line(N,o,T,o),o+=5,r.setFont("helvetica","bold"),r.text(t.client.name,(N+T)/2,o,{align:"center"}),o+=4,r.setFont("helvetica","normal"),t.client.cnpj?r.text(`CNPJ ${t.client.cnpj}`,(N+T)/2,o,{align:"center"}):t.client.cpf&&r.text(`CPF ${t.client.cpf}`,(N+T)/2,o,{align:"center"}),f();const Q=r.getNumberOfPages();for(let U=1;U<=Q;U++)r.setPage(U),r.setFont("helvetica","normal"),r.setFontSize(7),r.setTextColor(...d),r.text(`Pgina ${U} de ${Q}`,s-i-20,a-3,{align:"right"});r.save(`Orcamento_${t.order_number}_${new Date().toISOString().split("T")[0]}.pdf`)};function Iue({isOpen:t,onClose:e,data:r}){if(!t)return null;const s=async()=>{try{const c={order_number:r.order_number,date:r.date,title:r.title,client:r.client,basic_info:r.basic_info,items:r.items,subtotal:r.subtotal,discount:r.discount_amount||r.discount,discount_percentage:r.discount>0&&r.subtotal>0?Math.round(r.discount/r.subtotal*100):void 0,total:r.final_total||r.total,show_value:r.show_value,technical_report:r.relatorio_tecnico,service_instructions:r.orientacoes_servico,detailed_scope:r.escopo_detalhado,payment:r.payment,warranty:r.warranty,additional_info:r.additional_notes||r.additional_info,special_conditions:r.additional_info};await Oue(c)}catch(c){console.error("Erro ao gerar PDF:",c),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},a=()=>{window.print()},i=async()=>{if(navigator.share)try{await navigator.share({title:`Oramento ${r.order_number}`,text:`Oramento para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else alert("Compartilhamento no suportado neste navegador")},o=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),l=c=>new Date(c).toLocaleDateString("pt-BR");return n.jsx(vt,{children:n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Et,{className:"h-6 w-6 text-white"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Oramento"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:s,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[n.jsx(Ts,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),n.jsxs("button",{onClick:a,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[n.jsx(fh,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),n.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-teal-700 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[n.jsx(DH,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-teal-800 rounded-lg transition-colors",title:"Fechar",children:n.jsx(bt,{className:"h-5 w-5 text-white"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg my-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-teal-700 to-teal-800 px-8 py-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"bg-white p-3 rounded-lg",children:n.jsx(md,{className:"h-12 w-12 text-teal-700"})}),n.jsxs("div",{className:"text-white",children:[n.jsx("h1",{className:"text-2xl font-bold",children:r.company.name}),n.jsx("p",{className:"text-teal-100 text-sm mt-1",children:r.company.owner}),n.jsxs("p",{className:"text-teal-100 text-sm",children:["CNPJ: ",r.company.cnpj]}),n.jsx("p",{className:"text-teal-100 text-sm",children:r.company.address}),n.jsxs("p",{className:"text-teal-100 text-sm",children:[r.company.city,"-",r.company.state]})]})]}),n.jsxs("div",{className:"text-right text-white",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[n.jsx(vr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:l(r.date)})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.email})]}),r.company.phones.map((c,d)=>n.jsxs("div",{className:"flex items-center justify-end space-x-2 text-sm",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{children:c})]},d))]})]}),r.company.tagline&&n.jsx("p",{className:"text-center text-teal-100 text-sm mt-4 italic",children:r.company.tagline}),r.company.social&&n.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-3",children:[r.company.social.instagram&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx(XF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx(VF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&n.jsxs("div",{className:"flex items-center space-x-1 text-teal-100 text-sm",children:[n.jsx(T0,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.website})]})]})]}),n.jsx("div",{className:"bg-teal-700 px-8 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Oramento ",r.order_number]}),r.title&&n.jsx("p",{className:"text-teal-100 mt-1",children:r.title})]}),n.jsxs("div",{className:"bg-white px-4 py-2 rounded-lg",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Validade"}),n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"30 dias"})]})]})}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-3",children:["Cliente: ",r.client.name]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[r.client.company_name&&n.jsx("p",{className:"text-gray-700",children:r.client.company_name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",r.client.cnpj]}),r.client.address&&n.jsx("p",{className:"text-sm text-gray-600",children:r.client.address}),r.client.city&&n.jsxs("p",{className:"text-sm text-gray-600",children:[r.client.city,"-",r.client.state]}),r.client.cep&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",r.client.cep]})]}),n.jsxs("div",{className:"space-y-2",children:[r.client.email&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx(vs,{className:"h-4 w-4 text-teal-600"}),n.jsx("span",{children:r.client.email})]}),r.client.phone&&n.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-700",children:[n.jsx(ci,{className:"h-4 w-4 text-teal-600"}),n.jsx("span",{children:r.client.phone})]})]})]})]}),n.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes bsicas"}),n.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Prazo de execuo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Marca"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Modelo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center",children:[n.jsx(Et,{className:"h-5 w-5 mr-2"}),"Servios e Produtos"]}),n.jsx("div",{className:"space-y-4",children:r.items.map((c,d)=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:`grid ${r.show_value!==!1?"grid-cols-12":"grid-cols-8"} gap-4 mb-3`,children:[n.jsx("div",{className:r.show_value!==!1?"col-span-5":"col-span-6",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("span",{className:"bg-teal-100 text-teal-700 text-xs font-semibold px-2 py-1 rounded mr-2",children:d+1}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-1",children:c.description}),c.scope&&n.jsx("div",{className:"text-sm text-gray-600 whitespace-pre-line mt-2 bg-gray-50 p-2 rounded",children:c.scope})]})]})}),n.jsxs("div",{className:"col-span-1 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Unidade"}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.unit})]}),n.jsxs("div",{className:"col-span-1 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Qtd."}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:c.quantity})]}),r.show_value!==!1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"col-span-2 text-center",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Preo unitrio"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:o(c.unit_price)})]}),n.jsxs("div",{className:"col-span-2 text-right",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total"}),n.jsx("p",{className:"text-base font-bold text-teal-700",children:o(c.total_price)})]})]})]})},d))}),r.show_value!==!1&&n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("div",{className:"bg-gray-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Subtotal"}),n.jsx("span",{className:"text-base font-semibold text-gray-900",children:o(r.subtotal)})]}),r.discount>0&&n.jsxs("div",{className:"bg-red-50 px-6 py-3 rounded-lg flex items-center justify-between",children:[n.jsxs("span",{className:"text-sm font-medium text-red-700",children:["Desconto ",r.discount>0&&r.subtotal>0?`(${Math.round(r.discount/r.subtotal*100)}%)`:""]}),n.jsxs("span",{className:"text-base font-semibold text-red-700",children:["- ",o(r.discount_amount||r.discount)]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-teal-700 text-white px-6 py-4 rounded-lg flex items-center justify-between shadow-lg",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm opacity-90",children:"Valor Total"}),n.jsx("span",{className:"text-2xl font-bold",children:"TOTAL"})]}),n.jsx("span",{className:"text-3xl font-bold",children:o(r.total||r.final_total||0)})]})]})]}),r.escopo_detalhado&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-blue-50",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Escopo Detalhado do Servio"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.escopo_detalhado})]}),r.relatorio_tecnico&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-amber-50",children:[n.jsx("h3",{className:"text-lg font-bold text-amber-900 mb-4",children:"Relatrio Tcnico"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.relatorio_tecnico})]}),r.orientacoes_servico&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-green-50",children:[n.jsx("h3",{className:"text-lg font-bold text-green-900 mb-4",children:"Orientaes de Servio"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line leading-relaxed",children:r.orientacoes_servico})]}),n.jsxs("div",{className:"px-8 py-6 bg-gray-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Pagamento"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Meios de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),r.payment.pix&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"PIX"}),n.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix})]}),(r.payment.bank||r.payment.bank_details)&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),n.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-1 text-sm",children:[n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Banco:"})," ",r.payment.bank?.name||r.payment.bank_details?.bank]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Agncia:"})," ",r.payment.bank?.agency||r.payment.bank_details?.agency]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Conta:"})," ",r.payment.bank?.account||r.payment.bank_details?.account]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Tipo de conta:"})," ",r.payment.bank?.type||r.payment.bank_details?.account_type]}),n.jsxs("p",{className:"text-gray-700",children:[n.jsx("span",{className:"font-medium",children:"Titular da conta (CPF/CNPJ):"})," ",r.payment.bank?.holder||r.payment.bank_details?.holder]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Condies de pagamento"}),n.jsx("p",{className:"text-gray-900 whitespace-pre-line",children:r.payment.conditions})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-teal-900 mb-4 flex items-center space-x-2",children:[n.jsx(_n,{className:"h-5 w-5"}),n.jsx("span",{children:"Garantia"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Condies da garantia"}),n.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Clusulas contratuais"}),n.jsx("div",{className:"text-sm text-gray-700 whitespace-pre-line leading-relaxed",children:typeof r.contract_clauses=="string"?r.contract_clauses:Array.isArray(r.contract_clauses)?r.contract_clauses.map((c,d)=>n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-semibold mb-2",children:c.title}),n.jsx("ul",{className:"list-disc pl-5 space-y-1",children:c.items.map((u,h)=>n.jsx("li",{children:u},h))})]},d)):""})]}),(r.additional_notes||r.additional_info)&&n.jsxs("div",{className:"px-8 py-6 bg-gray-50",children:[n.jsx("h3",{className:"text-lg font-bold text-teal-900 mb-4",children:"Informaes adicionais"}),n.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:r.additional_notes||r.additional_info}),n.jsxs("p",{className:"text-center text-gray-600 italic mt-4",children:[r.company.city,", ",l(r.date)]})]}),n.jsx("div",{className:"px-8 py-8 bg-white",children:n.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900",children:r.company.name}),n.jsx("p",{className:"text-sm text-gray-600",children:r.company.owner}),n.jsx("p",{className:"text-xs text-gray-500",children:"diretor tcnico"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-300 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900",children:r.client.name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ ",r.client.cnpj]})]})})]})}),n.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.email})]}),r.company.phones.map((c,d)=>n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{children:c})]},d))]}),r.company.social&&n.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-2 text-sm text-gray-600",children:[r.company.social.instagram&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(XF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.instagram})]}),r.company.social.facebook&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(VF,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.facebook})]}),r.company.social.website&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(T0,{className:"h-4 w-4"}),n.jsx("span",{children:r.company.social.website})]})]})]})]})})]})})})}function Due({isOpen:t,onClose:e,data:r}){const[s,a]=O.useState(null);if(O.useEffect(()=>{(async()=>{const h=await l1();a(h)})()},[]),!t||!s)return null;const i=async()=>{try{await l0(r)}catch(u){console.error("Erro ao gerar PDF:",u),alert("Erro ao gerar PDF. Por favor, verifique os dados e tente novamente.")}},o=()=>{window.print()},l=async()=>{if(navigator.share)try{await navigator.share({title:`Ordem de Servio ${r.order_number}`,text:`Ordem de servio para ${r.client.name}`,url:window.location.href})}catch{console.log("Compartilhamento cancelado")}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copiado para a rea de transferncia!")}catch(u){console.error("Erro ao copiar link:",u),alert("No foi possvel copiar o link. URL: "+window.location.href)}},c=u=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(u),d=u=>new Date(u).toLocaleDateString("pt-BR");return n.jsx(vt,{children:n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 px-6 py-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Et,{className:"h-6 w-6 text-white"}),n.jsx("h2",{className:"text-xl font-bold text-white",children:"Visualizar Ordem de Servio"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("button",{onClick:i,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Baixar PDF",children:[n.jsx(Ts,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Baixar PDF"})]}),n.jsxs("button",{onClick:o,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Imprimir",children:[n.jsx(fh,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Imprimir"})]}),n.jsxs("button",{onClick:l,className:"px-4 py-2 bg-white text-blue-900 rounded-lg hover:bg-gray-100 flex items-center space-x-2 transition-colors",title:"Compartilhar",children:[n.jsx(DH,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Compartilhar"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-blue-950 rounded-lg transition-colors",title:"Fechar",children:n.jsx(bt,{className:"h-5 w-5 text-white"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto bg-white shadow-lg",children:[n.jsxs("div",{className:"border-b border-gray-200 p-8",children:[n.jsxs("div",{className:"flex items-start justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-24 h-24 bg-blue-900 rounded-lg flex items-center justify-center",children:n.jsx("span",{className:"text-white text-3xl font-bold",children:s.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-blue-900",children:s.name}),n.jsx("p",{className:"text-sm text-gray-700",children:s.owner}),n.jsxs("p",{className:"text-sm text-gray-600",children:["CNPJ: ",s.cnpj]}),n.jsx("p",{className:"text-sm text-gray-600",children:s.address}),n.jsxs("p",{className:"text-sm text-gray-600",children:[s.city,"-",s.state]}),n.jsxs("p",{className:"text-sm text-gray-600",children:["CEP ",s.zip]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2 mb-2",children:[n.jsx(vr,{className:"h-4 w-4 text-gray-600"}),n.jsx("span",{className:"text-sm text-gray-700",children:d(r.date)})]}),n.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx("span",{children:s.email})]}),n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{children:s.phone})]}),s.instagram&&n.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[n.jsx(T0,{className:"h-4 w-4"}),n.jsx("span",{children:s.instagram})]})]})]})]}),n.jsx("p",{className:"text-center text-gray-600 italic text-sm",children:"Sua satisfao  o que motiva a nossa dedicao."})]}),n.jsxs("div",{className:"bg-blue-900 text-white px-8 py-6",children:[n.jsxs("h2",{className:"text-3xl font-bold",children:["Ordem de servio ",r.order_number]}),r.title&&n.jsx("p",{className:"text-blue-100 mt-2",children:r.title})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Cliente: ",r.client.name]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[r.client.company_name&&n.jsx("p",{children:r.client.company_name}),r.client.cnpj&&n.jsxs("p",{children:["CNPJ: ",r.client.cnpj]}),r.client.cpf&&n.jsxs("p",{children:["CPF: ",r.client.cpf]}),r.client.address&&n.jsxs(n.Fragment,{children:[n.jsx("p",{children:r.client.address}),r.client.city&&n.jsxs("p",{children:[r.client.city,", ",r.client.state,"-",r.client.state]}),r.client.cep&&n.jsxs("p",{children:["CEP ",r.client.cep]})]}),r.client.email&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vs,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{children:r.client.email})]}),r.client.phone&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ci,{className:"h-4 w-4 text-blue-600"}),n.jsx("span",{children:r.client.phone})]})]})]}),r.basic_info&&n.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes bsicas"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Prazo de execuo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.deadline})]}),r.basic_info.brand&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Marca"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.brand})]}),r.basic_info.model&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Modelo"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.model})]}),r.basic_info.equipment&&n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700",children:"Aparelho"}),n.jsx("p",{className:"text-gray-900",children:r.basic_info.equipment})]})]})]}),n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Servios"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-300",children:[n.jsx("th",{className:"text-left py-2 font-semibold text-gray-900",children:"Descrio"}),n.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Unidade"}),n.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo unitrio"}),n.jsx("th",{className:"text-center py-2 font-semibold text-gray-900",children:"Qtd."}),n.jsx("th",{className:"text-right py-2 font-semibold text-gray-900",children:"Preo"})]})}),n.jsx("tbody",{children:r.items.map((u,h)=>n.jsxs("tr",{className:"border-b border-gray-200",children:[n.jsxs("td",{className:"py-3",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:u.service_name||u.description}),(u.scope||u.service_scope||u.escopo_detalhado)&&n.jsxs("p",{className:"text-xs text-gray-600 mt-1 whitespace-pre-line",children:["ESCOPO:",n.jsx("br",{}),u.scope||u.service_scope||u.escopo_detalhado]})]}),n.jsx("td",{className:"text-center py-3 text-gray-700",children:u.unit}),n.jsx("td",{className:"text-right py-3 text-gray-900",children:c(u.unit_price)}),n.jsx("td",{className:"text-center py-3 text-gray-700",children:u.quantity}),n.jsx("td",{className:"text-right py-3 font-semibold text-gray-900",children:c(u.total_price)})]},h))})]})}),n.jsxs("div",{className:"mt-6 space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Servios"}),n.jsx("span",{className:"font-semibold text-gray-900",children:c(r.subtotal)})]}),n.jsxs("div",{className:"flex justify-between text-sm font-semibold text-blue-900",children:[n.jsx("span",{children:"Subtotal"}),n.jsx("span",{children:c(r.subtotal)})]}),r.discount>0&&n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-700",children:"Desconto sobre servios"}),n.jsxs("span",{className:"text-gray-900",children:["- ",c(r.discount)]})]}),n.jsxs("div",{className:"bg-blue-900 text-white px-4 py-3 rounded flex justify-between font-bold text-lg",children:[n.jsx("span",{children:"Total"}),n.jsx("span",{children:c(r.total)})]})]})]}),n.jsxs("div",{className:"px-8 py-6 bg-blue-50 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Pagamento"}),n.jsxs("div",{className:"grid grid-cols-2 gap-8 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Meios de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.methods})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"PIX"}),n.jsx("p",{className:"text-gray-900 font-mono",children:r.payment.pix||s.cnpj})]})]}),r.payment.bank_details&&n.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-8 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Dados bancrios"}),n.jsxs("div",{className:"space-y-1 text-gray-900",children:[n.jsxs("p",{children:["Banco: ",r.payment.bank_details.bank]}),n.jsxs("p",{children:["Agncia: ",r.payment.bank_details.agency]}),n.jsxs("p",{children:["Conta: ",r.payment.bank_details.account]}),n.jsxs("p",{children:["Tipo de conta: ",r.payment.bank_details.account_type]}),n.jsxs("p",{children:["Titular da conta (CPF/CNPJ): ",r.payment.bank_details.holder]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 mb-2",children:"Condies de pagamento"}),n.jsx("p",{className:"text-gray-900",children:r.payment.conditions})]})]})]}),r.warranty&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Garantia"}),r.warranty.period&&n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Perodo de garantia"}),n.jsx("p",{className:"text-gray-900",children:r.warranty.period})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-700 text-sm mb-2",children:"Condies da garantia"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:typeof r.warranty.conditions=="string"?r.warranty.conditions:Array.isArray(r.warranty.conditions)?r.warranty.conditions.join(`

`):""})]})]}),r.contract_clauses&&r.contract_clauses.length>0&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Clusulas contratuais"}),n.jsx("div",{className:"space-y-4 text-sm",children:r.contract_clauses.map((u,h)=>n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-gray-900 mb-2",children:u.title}),n.jsx("div",{className:"space-y-1 text-gray-700",children:u.items.map((f,p)=>n.jsx("p",{children:f},p))})]},h))})]}),r.additional_info&&n.jsxs("div",{className:"px-8 py-6 border-b border-gray-200",children:[n.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-4",children:"Informaes adicionais"}),n.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line",children:r.additional_info}),n.jsx("p",{className:"text-center text-gray-600 italic text-sm mt-4",children:"obrigado pela confiana, estaremos  disposio."}),n.jsxs("p",{className:"text-center font-semibold text-gray-900 mt-4",children:[r.client.city||s.city,", ",d(r.date)]})]}),n.jsx("div",{className:"px-8 py-12 bg-white",children:n.jsxs("div",{className:"grid grid-cols-2 gap-12",children:[n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:s.name}),n.jsx("p",{className:"text-sm text-gray-700",children:s.owner}),n.jsx("p",{className:"text-xs text-gray-500 italic",children:"diretor tcnico"})]})}),n.jsx("div",{className:"text-center",children:n.jsxs("div",{className:"border-t-2 border-gray-400 pt-2 mt-16",children:[n.jsx("p",{className:"font-bold text-gray-900 text-lg",children:r.client.name}),r.client.cnpj&&n.jsxs("p",{className:"text-sm text-gray-700",children:["CNPJ ",r.client.cnpj]}),r.client.cpf&&n.jsxs("p",{className:"text-sm text-gray-700",children:["CPF ",r.client.cpf]})]})})]})}),n.jsxs("div",{className:"bg-gray-100 px-8 py-4 text-center border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-center space-x-6 text-xs text-gray-600 mb-2",children:[n.jsxs("span",{children:[" ",s.email]}),n.jsxs("span",{children:[" ",s.phone]}),s.instagram&&n.jsxs("span",{children:["@",s.instagram]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:s.website||"tgarconnection.com.br"})]})]})})]})})})}const Mue={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Lue=(t,e,r)=>{let s;const a=Mue[t];return typeof a=="string"?s=a:e===1?s=a.one:s=a.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"em "+s:"h "+s:s},Uue={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Rue={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Que={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hue={date:zm({formats:Uue,defaultWidth:"full"}),time:zm({formats:Rue,defaultWidth:"full"}),dateTime:zm({formats:Que,defaultWidth:"full"})},$ue={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},que=(t,e,r,s)=>{const a=$ue[t];return typeof a=="function"?a(e):a},zue={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Vue={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Kue={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Wue={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Gue={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Xue={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Yue=(t,e)=>{const r=Number(t);return e?.unit==="week"?r+"":r+""},Jue={ordinalNumber:Yue,era:oc({values:zue,defaultWidth:"wide"}),quarter:oc({values:Vue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oc({values:Kue,defaultWidth:"wide"}),day:oc({values:Wue,defaultWidth:"wide"}),dayPeriod:oc({values:Gue,defaultWidth:"wide",formattingValues:Xue,defaultFormattingWidth:"wide"})},Zue=/^(\d+)[o]?/i,ehe=/\d+/i,the={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},rhe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},nhe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},she={any:[/1/i,/2/i,/3/i,/4/i]},ahe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},ihe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},ohe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},lhe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},che={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},dhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},uhe={ordinalNumber:W$({matchPattern:Zue,parsePattern:ehe,valueCallback:t=>parseInt(t,10)}),era:lc({matchPatterns:the,defaultMatchWidth:"wide",parsePatterns:rhe,defaultParseWidth:"any"}),quarter:lc({matchPatterns:nhe,defaultMatchWidth:"wide",parsePatterns:she,defaultParseWidth:"any",valueCallback:t=>t+1}),month:lc({matchPatterns:ahe,defaultMatchWidth:"wide",parsePatterns:ihe,defaultParseWidth:"any"}),day:lc({matchPatterns:ohe,defaultMatchWidth:"wide",parsePatterns:lhe,defaultParseWidth:"any"}),dayPeriod:lc({matchPatterns:che,defaultMatchWidth:"any",parsePatterns:dhe,defaultParseWidth:"any"})},Q0={code:"pt-BR",formatDistance:Lue,formatLong:Hue,formatRelative:que,localize:Jue,match:uhe,options:{weekStartsOn:0,firstWeekContainsDate:1}},hhe=({serviceOrderId:t,isOpen:e,onClose:r,currentStatus:s})=>{const[a,i]=O.useState([]),[o,l]=O.useState(!0),[c,d]=O.useState("");O.useEffect(()=>{e&&t&&u()},[e,t]);const u=async()=>{try{l(!0);const{data:x,error:w}=await pe.from("service_order_status_history").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(w)throw w;i(x||[])}catch(x){console.error("Erro ao carregar timeline:",x)}finally{l(!1)}},h=async()=>{if(!(!c.trim()||!s))try{const{error:x}=await pe.from("service_order_status_history").insert({service_order_id:t,old_status:s,new_status:s,changed_by_name:"Usurio",comments:c.trim()});if(x)throw x;d(""),u()}catch(x){console.error("Erro ao adicionar comentrio:",x),alert("Erro ao adicionar comentrio")}},f=()=>{const x=["Data/Hora","Status Anterior","Novo Status","Usurio","Tempo no Status","Comentrios"],w=a.map(B=>[ni(new Date(B.created_at),"dd/MM/yyyy HH:mm"),p(B.old_status),p(B.new_status),B.changed_by_name||"Sistema",B.duration_in_status||"-",B.comments||""]),_=[x.join(","),...w.map(B=>B.map(I=>`"${I}"`).join(","))].join(`
`),k=new Blob([_],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(k),C.download=`timeline-os-${t}-${Date.now()}.csv`,C.click()},p=x=>({pending:"Pendente",in_progress:"Em Andamento",paused:"Pausada",completed:"Concluda",cancelled:"Cancelada",aberta:"Aberta",em_andamento:"Em Andamento",pausada:"Pausada",concluida:"Concluda",cancelada:"Cancelada"})[x]||x,v=x=>{switch(x){case"pending":case"aberta":return n.jsx(Gn,{className:"w-5 h-5"});case"in_progress":case"em_andamento":return n.jsx(yE,{className:"w-5 h-5"});case"paused":case"pausada":return n.jsx(Lre,{className:"w-5 h-5"});case"completed":case"concluida":return n.jsx(Ua,{className:"w-5 h-5"});case"cancelled":case"cancelada":return n.jsx(FH,{className:"w-5 h-5"});default:return n.jsx(Wt,{className:"w-5 h-5"})}},y=x=>{switch(x){case"pending":case"aberta":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"in_progress":case"em_andamento":return"bg-blue-100 text-blue-700 border-blue-300";case"paused":case"pausada":return"bg-orange-100 text-orange-700 border-orange-300";case"completed":case"concluida":return"bg-green-100 text-green-700 border-green-300";case"cancelled":case"cancelada":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},g=x=>{if(!x)return null;const w=x.match(/(\d+):(\d+):(\d+)/);if(!w)return x;const[,_,k]=w,C=parseInt(_),B=parseInt(k);return C>0?`${C}h ${B}min`:`${B}min`};return e?n.jsx(vt,{children:n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:n.jsxs(he.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:n.jsx(Wt,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Timeline da OS"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Histrico completo de mudanas de status"})]})]}),n.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:n.jsx(bt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-4 border-b bg-gray-50 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:a.length})," eventos registrados"]}),n.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Wt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum histrico disponvel"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Os eventos aparecero aqui conforme a OS evoluir"})]}):n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:a.map((x,w)=>{const _=x.old_status!==x.new_status,k=!_;return n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:w*.05},className:"relative pl-20",children:[n.jsx("div",{className:`absolute left-0 w-16 h-16 rounded-full border-4 border-white flex items-center justify-center shadow-lg ${k?"bg-purple-100 text-purple-600":y(x.new_status)}`,children:k?n.jsx(wb,{className:"w-6 h-6"}):v(x.new_status)}),n.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[_?n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${y(x.old_status)}`,children:p(x.old_status)}),n.jsx("span",{className:"text-gray-400",children:""}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border-2 ${y(x.new_status)}`,children:p(x.new_status)})]}):n.jsx("div",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Comentrio Adicionado"}),x.comments&&n.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg border border-gray-200",children:x.comments}),n.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Cn,{className:"w-4 h-4"}),x.changed_by_name||"Sistema"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"w-4 h-4"}),ni(new Date(x.created_at),"dd/MM/yyyy 's' HH:mm",{locale:Q0})]}),n.jsx("span",{className:"text-gray-500",children:J$(new Date(x.created_at),new Date,{addSuffix:!0,locale:Q0})})]}),x.duration_in_status&&n.jsxs("div",{className:"mt-2 text-sm text-blue-600 font-medium",children:[" Tempo no status anterior: ",g(x.duration_in_status)]})]})})})]},x.id)})})]})}),n.jsx("div",{className:"p-6 border-t bg-gray-50",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("input",{type:"text",value:c,onChange:x=>d(x.target.value),onKeyPress:x=>x.key==="Enter"&&h(),placeholder:"Adicionar comentrio  timeline...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),n.jsx("button",{onClick:h,disabled:!c.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"Adicionar"})]})})]})})}):null},Ahe=({serviceOrderId:t,isOpen:e,onClose:r})=>{const[s,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(new Set);O.useEffect(()=>{e&&t&&d()},[e,t]);const d=async()=>{try{o(!0);const{data:x,error:w}=await pe.from("service_order_audit_log").select("*").eq("service_order_id",t).order("created_at",{ascending:!1});if(w)throw w;a(x||[])}catch(x){console.error("Erro ao carregar log de auditoria:",x)}finally{o(!1)}},u=x=>{const w=new Set(l);w.has(x)?w.delete(x):w.add(x),c(w)},h=x=>{switch(x){case"created":return n.jsx(zt,{className:"w-4 h-4"});case"updated":return n.jsx(ri,{className:"w-4 h-4"});case"deleted":return n.jsx(Yt,{className:"w-4 h-4"});default:return n.jsx(Et,{className:"w-4 h-4"})}},f=x=>{switch(x){case"created":return"bg-green-100 text-green-700 border-green-200";case"updated":return"bg-blue-100 text-blue-700 border-blue-200";case"deleted":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},p=x=>({created:"Criado",updated:"Atualizado",deleted:"Excludo",status_changed:"Status Alterado"})[x]||x,v=x=>ni(new Date(x),"dd/MM/yyyy 's' HH:mm",{locale:Q0}),y=x=>{if(!x.old_values||!x.new_values)return[];const w=[],_=x.new_values,k=x.old_values;return Object.keys(_).forEach(C=>{JSON.stringify(_[C])!==JSON.stringify(k[C])&&w.push({field:C,old:k[C],new:_[C]})}),w},g=()=>{const x=["Data/Hora","Ao","Usurio","Descrio"],w=s.map(B=>[ni(new Date(B.created_at),"dd/MM/yyyy HH:mm"),p(B.action),B.user_name||"Sistema",B.changes_summary]),_=[x.join(","),...w.map(B=>B.map(I=>`"${I}"`).join(","))].join(`
`),k=new Blob([_],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(k),C.download=`auditoria-os-${t}-${Date.now()}.csv`,C.click()};return e?n.jsx(vt,{children:n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:r,children:n.jsxs(he.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",onClick:x=>x.stopPropagation(),children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/20 flex items-center justify-center",children:n.jsx(GF,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-white",children:"Histrico de Auditoria"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Todas as alteraes e aes realizadas nesta OS"})]})]}),n.jsx("button",{onClick:r,className:"text-white/80 hover:text-white transition-colors",children:n.jsx(bt,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"p-6 border-b bg-gray-50 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:[n.jsx("span",{className:"font-semibold text-gray-900",children:s.length})," registros encontrados"]}),n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(GF,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum registro de auditoria"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"As alteraes aparecero aqui automaticamente"})]}):n.jsx("div",{className:"space-y-3",children:s.map((x,w)=>{const _=l.has(x.id),k=y(x);return n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},className:"bg-white border-2 border-gray-200 rounded-lg overflow-hidden hover:border-blue-300 transition-colors",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg border-2 flex items-center justify-center flex-shrink-0 ${f(x.action)}`,children:h(x.action)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded border ${f(x.action)}`,children:p(x.action)}),n.jsx("span",{className:"text-xs text-gray-500",children:x.entity_type})]}),n.jsx("p",{className:"text-gray-900 font-medium mb-2",children:x.changes_summary}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Cn,{className:"w-4 h-4"}),x.user_name||"Sistema"]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"w-4 h-4"}),v(x.created_at)]})]}),k.length>0&&n.jsx("button",{onClick:()=>u(x.id),className:"mt-3 flex items-center gap-1 text-sm text-blue-600 hover:text-blue-700 font-medium",children:_?n.jsxs(n.Fragment,{children:[n.jsx(KA,{className:"w-4 h-4"}),"Ocultar detalhes"]}):n.jsxs(n.Fragment,{children:[n.jsx(Sd,{className:"w-4 h-4"}),"Ver ",k.length," ",k.length===1?"mudana":"mudanas"]})})]})]}),n.jsx(vt,{children:_&&k.length>0&&n.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"mt-4 pt-4 border-t border-gray-200 overflow-hidden",children:n.jsx("div",{className:"space-y-2",children:k.map((C,B)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-2 uppercase",children:C.field.replace(/_/g," ")}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Antes"}),n.jsx("div",{className:"text-red-700 bg-red-50 px-2 py-1 rounded border border-red-200",children:String(C.old??"vazio")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Depois"}),n.jsx("div",{className:"text-green-700 bg-green-50 px-2 py-1 rounded border border-green-200",children:String(C.new??"vazio")})]})]})]},B))})})})]})},x.id)})})}),n.jsx("div",{className:"p-6 border-t bg-gray-50 flex justify-end",children:n.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"})})]})})}):null},fhe=({serviceOrderId:t,category:e="geral",onComplete:r})=>{const[s,a]=O.useState(null),[i,o]=O.useState([]),[l,c]=O.useState(!0),[d,u]=O.useState(null),[h,f]=O.useState("");O.useEffect(()=>{p()},[t]);const p=async()=>{try{c(!0);let{data:x,error:w}=await pe.from("service_order_checklists").select("*").eq("service_order_id",t).maybeSingle();if(w)throw w;if(!x){const{data:C,error:B}=await pe.rpc("create_default_checklist",{p_service_order_id:t,p_category:e});if(B)throw B;const{data:I}=await pe.from("service_order_checklists").select("*").eq("service_order_id",t).single();x=I}a(x);const{data:_,error:k}=await pe.from("service_order_checklist_items").select("*").eq("checklist_id",x.id).order("order_position");if(k)throw k;o(_||[])}catch(x){console.error("Erro ao carregar checklist:",x)}finally{c(!1)}},v=async x=>{u(x.id);try{const w=!x.is_completed,{error:_}=await pe.from("service_order_checklist_items").update({is_completed:w,completed_at:w?new Date().toISOString():null,completed_by_name:w?"Usurio":null}).eq("id",x.id);if(_)throw _;if(o(k=>k.map(C=>C.id===x.id?{...C,is_completed:w,completed_at:w?new Date().toISOString():void 0,completed_by_name:w?"Usurio":void 0}:C)),s){const{data:k}=await pe.from("service_order_checklists").select("*").eq("id",s.id).single();k&&(a(k),k.progress_percentage===100&&r&&r())}}catch(w){console.error("Erro ao atualizar item:",w),alert("Erro ao atualizar item")}finally{u(null)}},y=async()=>{if(!(!h.trim()||!s))try{const x=Math.max(...i.map(k=>k.order_position),0),{data:w,error:_}=await pe.from("service_order_checklist_items").insert({checklist_id:s.id,service_order_id:t,title:h.trim(),is_required:!1,requires_photo:!1,order_position:x+1}).select().single();if(_)throw _;o(k=>[...k,w]),f("")}catch(x){console.error("Erro ao adicionar item:",x),alert("Erro ao adicionar item")}},g=async x=>{if(confirm("Deseja realmente excluir este item?"))try{const{error:w}=await pe.from("service_order_checklist_items").delete().eq("id",x);if(w)throw w;o(_=>_.filter(k=>k.id!==x))}catch(w){console.error("Erro ao excluir item:",w),alert("Erro ao excluir item")}};return l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s?n.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[n.jsxs("div",{className:"p-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-2xl font-bold",children:s.name}),s.description&&n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:s.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-3xl font-bold",children:[s.progress_percentage.toFixed(0),"%"]}),n.jsxs("div",{className:"text-sm text-blue-100",children:[s.completed_items,"/",s.total_items," concludos"]})]})]}),n.jsx("div",{className:"w-full bg-blue-800 rounded-full h-3 overflow-hidden",children:n.jsx(he.div,{initial:{width:0},animate:{width:`${s.progress_percentage}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-green-400 to-green-500 shadow-lg"})})]}),n.jsx("div",{className:"divide-y",children:n.jsx(vt,{children:i.map((x,w)=>n.jsx(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:w*.03},className:`p-4 hover:bg-gray-50 transition-all ${x.is_completed?"bg-green-50":""}`,children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("button",{onClick:()=>v(x),disabled:d===x.id,className:`flex-shrink-0 mt-1 transition-all ${d===x.id?"opacity-50":""}`,children:x.is_completed?n.jsx(jb,{className:"w-6 h-6 text-green-600"}):n.jsx(Hse,{className:"w-6 h-6 text-gray-400 hover:text-blue-600"})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("h4",{className:`font-medium ${x.is_completed?"text-gray-500 line-through":"text-gray-900"}`,children:[x.title,x.is_required&&n.jsx("span",{className:"ml-2 text-xs text-red-600",children:"*obrigatrio"})]}),x.description&&n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),x.is_completed&&(x.completed_at||x.completed_by_name)&&n.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[x.completed_by_name&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Cn,{className:"w-3 h-3"}),x.completed_by_name]}),x.completed_at&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"w-3 h-3"}),ni(new Date(x.completed_at),"dd/MM/yyyy HH:mm")]})]}),x.requires_photo&&!x.photo_url&&!x.is_completed&&n.jsx("div",{className:"mt-2",children:n.jsxs("button",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(bre,{className:"w-4 h-4"}),"Adicionar Foto"]})})]}),!x.is_required&&n.jsx("button",{onClick:()=>g(x.id),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Remover item",children:n.jsx(Yt,{className:"w-4 h-4"})})]})})]})},x.id))})}),n.jsx("div",{className:"p-4 border-t bg-gray-50",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"text",value:h,onChange:x=>f(x.target.value),onKeyPress:x=>x.key==="Enter"&&y(),placeholder:"Adicionar item personalizado...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),n.jsxs("button",{onClick:y,disabled:!h.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"w-4 h-4"}),"Adicionar"]})]})}),s.progress_percentage===100&&n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-6 bg-green-50 border-t-4 border-green-500",children:n.jsxs("div",{className:"flex items-center gap-3 text-green-800",children:[n.jsx(jb,{className:"w-8 h-8"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg",children:"Checklist Concludo! "}),n.jsx("div",{className:"text-sm",children:"Todos os itens foram verificados com sucesso"})]})]})})]}):null};function mhe({service:t,isExpanded:e=!1,onToggle:r}){const[s,a]=O.useState(e),i=()=>{a(!s),r?.()},o=t.service_name||t.descricao||"Servio",l=t.service_description||t.descricao,c=t.service_scope||t.escopo_detalhado,d=t.quantity||t.quantidade||1,u=t.unit_price||t.preco_unitario||0,h=t.total_price||t.preco_total||0,f=t.estimated_duration||t.tempo_estimado_minutos,p=!!(l||c||t.technical_requirements||t.safety_warnings||t.execution_steps||t.expected_results||t.quality_standards||t.warranty_info||t.observations||t.notes);return n.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden bg-white",children:[n.jsxs("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors",onClick:i,children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Et,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:o}),n.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mt-1",children:[n.jsxs("span",{children:["Qtd: ",d]}),n.jsx("span",{children:""}),n.jsxs("span",{children:["R$ ",u.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),f&&n.jsxs(n.Fragment,{children:[n.jsx("span",{children:""}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"h-3 w-3"}),f,"min"]})]})]})]})]})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-600",children:"Total"}),n.jsxs("div",{className:"font-bold text-lg text-gray-900",children:["R$ ",h.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),p&&n.jsx("button",{className:"p-1 hover:bg-gray-200 rounded transition-colors",children:s?n.jsx(KA,{className:"h-5 w-5 text-gray-600"}):n.jsx(Sd,{className:"h-5 w-5 text-gray-600"})})]})]}),s&&p&&n.jsxs("div",{className:"px-4 py-4 space-y-4 border-t border-gray-200",children:[l&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Nl,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Descrio"})]}),n.jsx("p",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:l})]}),c&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ua,{className:"h-4 w-4 text-green-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Escopo do Servio"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:c})]}),t.technical_requirements&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_E,{className:"h-4 w-4 text-purple-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Requisitos Tcnicos"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.technical_requirements})]}),t.safety_warnings&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Un,{className:"h-4 w-4 text-yellow-600"}),n.jsx("h5",{className:"font-semibold text-yellow-900",children:"Avisos de Segurana"})]}),n.jsx("div",{className:"text-yellow-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.safety_warnings})]}),t.execution_steps&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Et,{className:"h-4 w-4 text-indigo-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Passos de Execuo"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6",children:t.execution_steps.split(`
`).map((v,y)=>n.jsxs("div",{className:"flex gap-2 mb-1",children:[n.jsxs("span",{className:"font-semibold text-indigo-600 min-w-[24px]",children:[y+1,"."]}),n.jsx("span",{children:v})]},y))})]}),t.expected_results&&n.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ua,{className:"h-4 w-4 text-green-600"}),n.jsx("h5",{className:"font-semibold text-green-900",children:"Resultados Esperados"})]}),n.jsx("div",{className:"text-green-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.expected_results})]}),t.quality_standards&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(xE,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Padres de Qualidade"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.quality_standards})]}),t.warranty_info&&n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(_n,{className:"h-4 w-4 text-blue-600"}),n.jsx("h5",{className:"font-semibold text-blue-900",children:"Garantia"})]}),n.jsx("div",{className:"text-blue-800 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.warranty_info})]}),(t.observations||t.notes)&&n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Nl,{className:"h-4 w-4 text-gray-600"}),n.jsx("h5",{className:"font-semibold text-gray-900",children:"Observaes"})]}),n.jsx("div",{className:"text-gray-700 text-sm leading-relaxed pl-6 whitespace-pre-wrap",children:t.observations||t.notes})]})]}),s&&!p&&n.jsxs("div",{className:"px-4 py-8 text-center border-t border-gray-200",children:[n.jsx(Nl,{className:"h-12 w-12 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-500 text-sm",children:"Nenhuma informao detalhada disponvel para este servio."}),n.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Adicione descries, escopo e requisitos para melhor documentao."})]})]})}function phe({isOpen:t,onClose:e,serviceItem:r,onSave:s}){const[a,i]=O.useState({service_name:"",service_description:"",service_scope:"",technical_requirements:"",safety_warnings:"",execution_steps:"",expected_results:"",quality_standards:"",warranty_info:"",observations:""}),[o,l]=O.useState(!1);O.useEffect(()=>{r&&t&&i({service_name:r.service_name||r.descricao||"",service_description:r.service_description||r.descricao||"",service_scope:r.service_scope||r.escopo_detalhado||"",technical_requirements:r.technical_requirements||"",safety_warnings:r.safety_warnings||"",execution_steps:r.execution_steps||"",expected_results:r.expected_results||"",quality_standards:r.quality_standards||"",warranty_info:r.warranty_info||"",observations:r.observations||r.notes||""})},[r,t]);const c=async()=>{if(r?.id)try{l(!0);const{error:d}=await pe.from("service_order_items").update(a).eq("id",r.id);if(d)throw d;s(),e()}catch(d){console.error("Erro ao salvar:",d),alert("Erro ao salvar informaes do servio")}finally{l(!1)}};return t?n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-indigo-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:"Informaes Detalhadas do Servio"}),n.jsx("p",{className:"text-sm text-blue-100 mt-1",children:"Adicione descries completas e requisitos tcnicos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Et,{className:"h-4 w-4 text-blue-600"}),"Nome do Servio"]}),n.jsx("input",{type:"text",value:a.service_name,onChange:d=>i({...a,service_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao de Ar Condicionado Split 12.000 BTUs"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Nl,{className:"h-4 w-4 text-blue-600"}),"Descrio Detalhada"]}),n.jsx("textarea",{value:a.service_description,onChange:d=>i({...a,service_description:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Descreva detalhadamente o servio a ser executado..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Et,{className:"h-4 w-4 text-green-600"}),"Escopo do Servio"]}),n.jsx("textarea",{value:a.service_scope,onChange:d=>i({...a,service_scope:d.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`O que est includo neste servio? Ex:
 Instalao completa da unidade interna e externa
 Tubulao at 3 metros
 Suporte e dreno
 Testes de funcionamento`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Liste tudo que est includo no servio. Use  para bullet points."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(_E,{className:"h-4 w-4 text-purple-600"}),"Requisitos Tcnicos"]}),n.jsx("textarea",{value:a.technical_requirements,onChange:d=>i({...a,technical_requirements:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Equipamentos, ferramentas ou condies necessrias..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Un,{className:"h-4 w-4 text-yellow-600"}),"Avisos de Segurana"]}),n.jsx("textarea",{value:a.safety_warnings,onChange:d=>i({...a,safety_warnings:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-yellow-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent resize-none bg-yellow-50",placeholder:"EPIs necessrios, cuidados especiais, riscos a serem observados..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Et,{className:"h-4 w-4 text-indigo-600"}),"Passos de Execuo"]}),n.jsx("textarea",{value:a.execution_steps,onChange:d=>i({...a,execution_steps:d.target.value}),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:`Liste os passos da execuo (um por linha)
Ex:
Fixar suporte da unidade interna
Passar tubulao e eltrica
Instalar unidade externa
Fazer vcuo no sistema
Testar funcionamento`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite um passo por linha. Sero numerados automaticamente."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Et,{className:"h-4 w-4 text-green-600"}),"Resultados Esperados"]}),n.jsx("textarea",{value:a.expected_results,onChange:d=>i({...a,expected_results:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none bg-green-50",placeholder:"O que o cliente pode esperar aps a concluso do servio..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(xE,{className:"h-4 w-4 text-blue-600"}),"Padres de Qualidade"]}),n.jsx("textarea",{value:a.quality_standards,onChange:d=>i({...a,quality_standards:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Normas tcnicas, certificaes, procedimentos de qualidade..."})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(_n,{className:"h-4 w-4 text-blue-600"}),"Informaes de Garantia"]}),n.jsx("textarea",{value:a.warranty_info,onChange:d=>i({...a,warranty_info:d.target.value}),rows:2,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none bg-blue-50",placeholder:"Ex: Garantia de 90 dias para mo de obra e 1 ano para equipamentos"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 mb-2",children:[n.jsx(Nl,{className:"h-4 w-4 text-gray-600"}),"Observaes Adicionais"]}),n.jsx("textarea",{value:a.observations,onChange:d=>i({...a,observations:d.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Outras informaes importantes..."})]})]}),n.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between bg-gray-50",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Preencha o mximo de informaes possvel para documentao completa"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:e,disabled:o,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancelar"}),n.jsxs("button",{onClick:c,disabled:o,className:"px-6 py-2 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-lg hover:from-blue-700 hover:to-indigo-800 transition-all disabled:opacity-50 flex items-center gap-2",children:[n.jsx(hr,{className:"h-4 w-4"}),o?"Salvando...":"Salvar Informaes"]})]})]})]})}):null}const ghe=()=>{const{id:t}=D3(),e=ui(),[r,s]=O.useState(!0),[a,i]=O.useState(null),[o,l]=O.useState(null),[c,d]=O.useState(!1),[u,h]=O.useState(!1),[f,p]=O.useState(!1),[v,y]=O.useState(!1),[g,x]=O.useState(!1),[w,_]=O.useState(!1),[k,C]=O.useState(!1),[B,I]=O.useState(!1),[S,E]=O.useState([]),[D,N]=O.useState(null),[T,Q]=O.useState(!1),[U,K]=O.useState(null);O.useEffect(()=>{t&&z()},[t]);const z=async()=>{try{s(!0);const Y=await tb(t);if(Y){i(Y);const{data:X}=await pe.from("customers").select(`
            *,
            customer_addresses(
              logradouro,
              numero,
              complemento,
              bairro,
              cidade,
              estado,
              cep
            )
          `).eq("id",Y.client_id).single();l(X);const{data:Ae}=await pe.from("service_order_items").select(`
            *,
            service_catalog:service_catalog_id(
              id,
              name,
              description,
              base_price,
              category,
              estimated_duration
            )
          `).eq("service_order_id",t),{data:fe}=await pe.from("service_order_materials").select(`
            *,
            material:material_id(name, unit)
          `).eq("service_order_id",t),{data:de}=await pe.from("service_order_labor").select(`
            *,
            employee:staff_id(id, name)
          `).eq("service_order_id",t),{data:me}=await pe.from("service_order_team").select(`
            *,
            employee:employee_id(id, name)
          `).eq("service_order_id",t);if(Ae&&Ae.length>0){const we=Ae.map(Ie=>{const lt=(fe||[]).filter(J=>J.service_order_item_id===Ie.id).map(J=>({nome:J.material_name||J.nome_material||J.material?.name||"Material",quantidade:J.quantity||J.quantidade||0,unidade_medida:J.material_unit||J.material?.unit||"un",preco_unitario:J.unit_price||J.preco_venda||0,valor_total:J.total_price||J.valor_total||0})),Le=(de||[]).filter(J=>J.service_order_item_id===Ie.id).map(J=>({nome:J.nome_funcionario||J.employee?.name||"Funcionrio",tempo_minutos:J.tempo_minutos||(J.hours?J.hours*60:0)||0,custo_hora:J.custo_hora||J.hourly_rate||0,custo_total:J.custo_total||J.total_cost||0}));return{id:Ie.id,service_catalog_id:Ie.service_catalog_id,description:Ie.descricao||Ie.notes||Ie.service_catalog?.description||Ie.service_catalog?.name||"",name:Ie.service_catalog?.name||Ie.descricao||"",descricao:Ie.descricao||Ie.notes||Ie.service_catalog?.name||"",escopo:Ie.escopo_detalhado||Ie.escopo||"",escopo_detalhado:Ie.escopo_detalhado||Ie.escopo||"",scope:Ie.escopo_detalhado||Ie.escopo||"",quantity:Ie.quantity||Ie.quantidade||1,quantidade:Ie.quantidade||Ie.quantity||1,unit_price:Ie.unit_price||Ie.preco_unitario||0,preco_unitario:Ie.preco_unitario||Ie.unit_price||0,total_price:Ie.total_price||Ie.preco_total||0,preco_total:Ie.preco_total||Ie.total_price||0,estimated_duration:Ie.estimated_duration||Ie.tempo_estimado_minutos||0,tempo_estimado_minutos:Ie.tempo_estimado_minutos||Ie.estimated_duration||0,materiais:lt,funcionarios:Le}});i({...Y,items:we,team:(me||[]).map(Ie=>({id:Ie.id,employee_id:Ie.employee_id,nome:Ie.employee?.name||"Funcionrio",role:Ie.role||"",assigned_at:Ie.assigned_at}))})}const{data:Ce}=await pe.from("bank_accounts").select("*").eq("is_default",!0).maybeSingle();Ce&&E([Ce]);const{data:xe}=await pe.from("company_settings").select("*").maybeSingle();N(xe)}}catch(Y){console.error("Error loading order:",Y),alert("Erro ao carregar ordem de servio")}finally{s(!1)}},ee=async()=>{if(!a||!o)throw new Error("Dados incompletos para gerar PDF");const Y=G();if(!Y)throw new Error("Erro ao preparar dados do documento");return await l0(Y),new Blob([],{type:"application/pdf"})},G=()=>{if(!a||!o)return null;const Y=o.customer_addresses?.[0];return console.log(" PREPARANDO DADOS GIARTECH"),console.log(" Total de itens:",a.items?.length),a.items&&a.items.length>0&&(console.log(" Primeiro item completo:",JSON.stringify(a.items[0],null,2)),a.items[0]?.service_catalog&&console.log(" Catlogo do primeiro item:",JSON.stringify(a.items[0].service_catalog,null,2))),{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.title||a.description||"",client:{name:a.client_name||o.nome_razao||o.name||"Cliente",company_name:a.client_company_name||o.nome_fantasia||"",cnpj:a.client_cnpj||o.cnpj||"",cpf:a.client_cpf||o.cpf||"",address:a.client_address||(Y?`${Y.logradouro}${Y.numero?", "+Y.numero:""}`:""),city:a.client_city||Y?.cidade||"",state:a.client_state||Y?.estado||"",cep:a.client_cep||Y?.cep||"",email:a.client_email||o.email||"",phone:a.client_phone||o.telefone||o.phone||""},basic_info:{deadline:a.prazo_execucao_dias?`${a.prazo_execucao_dias} dias`:"15 dias",brand:a.brand||"",model:a.model||"",equipment:a.equipment||""},items:OS(a.items||[]),subtotal:a.subtotal||a.total_value||0,discount:a.discount_amount||a.desconto_valor||0,total:a.final_total||a.total_value||0,payment:{methods:a.payment_methods||"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:a.payment_pix||D?.pix_key||a.client_cnpj||a.client_cpf||"",bank_details:S[0]?{bank:S[0].bank_name||"Banco",agency:S[0].agency||"0001",account:S[0].account_number||"",account_type:S[0].account_type==="checking"?"Corrente":S[0].account_type==="savings"?"Poupana":"Corrente",holder:S[0].account_holder||D?.company_name||""}:void 0,conditions:a.payment_conditions||"Sinal de 50% e o valor restante aps a concluso."},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":a.warranty_type==="months"?"meses":"anos"}`:"12 meses",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:a.contract_clauses?JSON.parse(a.contract_clauses):[],additional_info:a.additional_info||"Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana"}},q=Y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Y),re=Y=>new Date(Y).toLocaleDateString("pt-BR"),Z=()=>{d(!0)},$=async()=>{if(t)try{h(!0),await o$(t),alert("Ordem de servio excluda com sucesso!"),e("/service-orders")}catch(Y){console.error("Error deleting order:",Y),alert("Erro ao excluir ordem de servio. Verifique se no h dependncias.")}finally{h(!1)}},L=()=>{d(!1)};return r?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):a?n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:()=>e("/service-orders"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(Rd,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Visualizar Ordem de Servio"}),n.jsxs("p",{className:"text-gray-600 mt-1",children:["OS #",a.order_number]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs("button",{onClick:()=>x(!0),className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 shadow-lg",children:[n.jsx(da,{className:"h-4 w-4"}),"Ver Oramento"]}),n.jsx(kue,{documentType:"ordem_servico",generatePDF:ee,printOptions:{documentNumber:a?.order_number,clientName:o?.nome_razao||o?.name},label:"Imprimir OS Completa",variant:"primary",size:"md"}),n.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-gradient-to-r from-teal-600 to-teal-700 text-white rounded-lg hover:from-teal-700 hover:to-teal-800 flex items-center gap-2 shadow-lg",children:[n.jsx(da,{className:"h-4 w-4"}),"Ver Proposta"]}),n.jsxs("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg hover:from-purple-700 hover:to-purple-800 flex items-center gap-2 shadow-lg",children:[n.jsx(Et,{className:"h-4 w-4"}),"Ver Contrato"]}),n.jsxs("button",{onClick:()=>e(`/service-orders?edit=${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Editar"]}),n.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-gradient-to-r from-indigo-600 to-indigo-700 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-800 flex items-center gap-2 shadow-lg",children:[n.jsx(vr,{className:"h-4 w-4"}),"Timeline"]}),n.jsxs("button",{onClick:()=>I(!0),className:"px-4 py-2 bg-gradient-to-r from-amber-600 to-amber-700 text-white rounded-lg hover:from-amber-700 hover:to-amber-800 flex items-center gap-2 shadow-lg",children:[n.jsx(Et,{className:"h-4 w-4"}),"Checklist"]}),n.jsxs("button",{onClick:()=>C(!0),className:"px-4 py-2 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 flex items-center gap-2 shadow-lg",children:[n.jsx(Gn,{className:"h-4 w-4"}),"Auditoria"]}),n.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-700 hover:to-red-800 flex items-center gap-2 shadow-lg",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Excluir"]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Cn,{className:"h-5 w-5 text-blue-600"}),"Informaes do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente"}),n.jsx("p",{className:"text-gray-900",children:o?.nome_razao||o?.name||"N/A"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("p",{className:"text-gray-900",children:o?.telefone||o?.phone||"N/A"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("p",{className:"text-gray-900",children:o?.email||"N/A"})]}),(o?.endereco||o?.address)&&n.jsxs("div",{className:"col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),n.jsxs("p",{className:"text-gray-900",children:[o?.endereco||o?.address,(o?.cidade||o?.city)&&`, ${o?.cidade||o?.city}`,(o?.estado||o?.state)&&` - ${o?.estado||o?.state}`,(o?.cep||o?.zip_code)&&` - CEP: ${o?.cep||o?.zip_code}`]})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(Et,{className:"h-5 w-5 text-blue-600"}),"Detalhes da Ordem"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("p",{className:"text-gray-900",children:a.description||"Sem descrio"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Criao"}),n.jsx("p",{className:"text-gray-900",children:re(a.created_at)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Prevista"}),n.jsx("p",{className:"text-gray-900",children:a.due_date?re(a.due_date):a.service_date?re(a.service_date):"No definida"})]})]})]})]}),a.items&&a.items.length>0&&n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(qt,{className:"h-5 w-5 text-blue-600"}),"Servios"]}),n.jsxs("button",{onClick:()=>{a.items&&a.items.length>0&&(K(a.items[0]),Q(!0))},className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[n.jsx(hn,{className:"h-4 w-4"}),"Editar Informaes"]})]}),n.jsx("div",{className:"space-y-3",children:a.items.map((Y,X)=>n.jsx(mhe,{service:Y,isExpanded:!1},Y.id||X))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(gr,{className:"h-5 w-5 text-green-600"}),"Resumo Financeiro"]}),n.jsxs("div",{className:"space-y-3",children:[a.items&&a.items.length>0&&n.jsx("div",{className:"space-y-2 pb-3 border-b",children:a.items.map((Y,X)=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600 flex-1 mr-2",children:Y.descricao||Y.description||Y.service_name||"Servio"}),n.jsx("span",{className:"font-medium whitespace-nowrap",children:q(Y.total_price||Y.total||(Y.unit_price||Y.price||0)*(Y.quantity||1))})]},X))}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),n.jsx("span",{className:"font-semibold",children:q(a.subtotal_value||a.total_value||0)})]}),a.discount_value>0&&n.jsxs("div",{className:"flex justify-between text-sm text-red-600",children:[n.jsx("span",{children:"Desconto:"}),n.jsxs("span",{className:"font-semibold",children:["-",q(a.discount_value)]})]}),n.jsx("div",{className:"pt-3 border-t",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total:"}),n.jsx("span",{className:"text-2xl font-bold text-green-600",children:q(a.total_value||0)})]})})]})]}),n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Status"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Status Atual:"}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="in_progress"?"bg-blue-100 text-blue-800":a.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:a.status==="completed"?"Concluda":a.status==="in_progress"?"Em Andamento":a.status==="pending"?"Pendente":a.status})})]})})]})]})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 px-6 py-4",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:n.jsx(Yt,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white",children:"Excluir Ordem de Servio"}),n.jsx("p",{className:"text-red-100 text-sm",children:"Esta ao no pode ser desfeita"})]})]})})}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-red-900 font-semibold mb-2",children:"Voc est prestes a excluir a seguinte OS:"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Nmero:"})," ",a?.order_number]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Cliente:"})," ",o?.nome_razao||o?.name]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Servio:"})," ",a?.service_type]}),n.jsxs("p",{className:"text-red-800",children:[n.jsx("span",{className:"font-bold",children:"Valor:"})," ",q(a?.total_cost||0)]})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:" Ateno!"}),n.jsx("p",{className:"text-yellow-800 text-sm",children:"Ao excluir esta OS, todos os dados relacionados sero permanentemente removidos do sistema. Esta ao  irreversvel."})]})]})}),n.jsx("p",{className:"text-gray-700 text-center mb-6 font-medium",children:"Tem certeza que deseja continuar?"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:L,disabled:u,className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:$,disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-xl hover:from-red-700 hover:to-red-800 transition-all font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Excluindo..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Yt,{className:"h-5 w-5"}),"Confirmar Excluso"]})})]})]})]})}),n.jsx(Tue,{isOpen:f,onClose:()=>p(!1),serviceOrderId:t||""}),a&&o&&n.jsxs(n.Fragment,{children:[n.jsx(Due,{isOpen:g,onClose:()=>x(!1),data:G()}),n.jsx(Iue,{isOpen:v,onClose:()=>y(!1),data:{order_number:a.order_number||"N/A",date:a.created_at||new Date().toISOString(),title:a.description||"",client:{name:o.nome_razao||o.name||"Cliente",company_name:o.nome_razao,cnpj:o.cnpj_cpf,address:(()=>{const Y=o.customer_addresses?.[0];return Y?`${Y.logradouro}${Y.numero?", "+Y.numero:""}${Y.complemento?" - "+Y.complemento:""}`:o.address_street?`${o.address_street}${o.address_number?", "+o.address_number:""}${o.address_complement?" - "+o.address_complement:""}`:o.endereco||o.address})(),city:o.customer_addresses?.[0]?.cidade||o.address_city||o.cidade||o.city,state:o.customer_addresses?.[0]?.estado||o.address_state||o.estado||o.state,cep:o.customer_addresses?.[0]?.cep||o.address_zip_code||o.cep||o.zip_code,email:o.email,phone:o.telefone||o.phone},company:{name:D?.company_name||"Giartech Solues",owner:D?.owner_name||"Tiago Bruno Giaquinto",cnpj:D?.cnpj||"375.098.970",address:D?.address||"Rua Quito 14, 14",city:D?.city||"So Paulo",state:D?.state||"SP",cep:D?.zip_code,email:D?.email||"giartechsolucoes@gmail.com",phones:D?.phone?[D.phone]:["+351 511 966 617","+351 511 943 985"],social:{instagram:"@tg.arconnection",facebook:"@tgarconnection",website:"tgarconnection.com.br"},tagline:"Sua satisfao  o que motiva a nossa dedicao"},basic_info:{deadline:a.estimated_hours?`${a.estimated_hours} horas`:"3 DIAS",brand:a.equipment_brand,model:a.equipment_model},items:(a.items||[]).map(Y=>({description:Y.service_catalog?.name||Y.service_name||Y.name||Y.descricao||Y.description||"Servio",scope:Y.notes||Y.service_catalog?.description||Y.scope||Y.description||"",unit:Y.unit||"un.",unit_price:Y.unit_price||Y.preco_unitario||Y.price||0,quantity:Y.quantity||Y.quantidade||1,total_price:Y.total_price||Y.preco_total||(Y.unit_price||Y.preco_unitario||Y.price||0)*(Y.quantity||Y.quantidade||1)})),subtotal:a.subtotal_value||a.total_value||0,discount:a.discount_value||a.desconto_valor||0,total:a.total_value||0,show_value:a.show_value!==!1,relatorio_tecnico:a.relatorio_tecnico,orientacoes_servico:a.orientacoes_servico,escopo_detalhado:a.escopo_detalhado,payment:{methods:a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia Bancria":"Transferncia bancria, dinheiro, carto de crdito, carto de dbito ou pix",pix:S[0]?.pix_key||D?.cnpj,bank_details:S[0]?{bank:S[0].bank_name,agency:S[0].agency,account:S[0].account_number,account_type:S[0].account_type==="checking"?"Corrente":"Poupana",holder:S[0].account_holder}:void 0,conditions:a.payment_installments&&a.payment_installments>1?`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":"Diversos"}
Parcelas: ${a.payment_installments}x
LINK DE PAGAMENTO EM ${a.payment_installments}X SEM JUROS / DEMAIS PARCELAS INCIDNCIA DE JUROS DA MQUINA
 VISTA 5% DE DESCONTO`:`Forma de Pagamento: ${a.payment_method==="dinheiro"?"Dinheiro":a.payment_method==="pix"?"PIX":a.payment_method==="cartao_credito"?"Carto de Crdito":a.payment_method==="cartao_debito"?"Carto de Dbito":a.payment_method==="transferencia"?"Transferncia":" Vista"}
Pagamento  vista com 5% de desconto`},warranty:{period:a.warranty_period?`${a.warranty_period} ${a.warranty_type==="days"?"dias":"meses"}`:"90 dias",conditions:a.warranty_terms||`Garantias referentes  sistemas de novo em tubulaes antigas, s sero vlidas, com os processos de descontaminao das tubulaes antigas.

Garantia de (EQUIPAMENTOS NOVOS) que podem ser de 5 a 10 anos, s so vlidas com manuteno semestral comprovada COM LAUDO TCNICO.

Garantias extendidas pela nossa empresa, so concedidas em caso de compra das mquinas conosco, as mesmas deixam de ter validade legal de 3 meses e podem ter at 12 meses de acordo com o tipo e capacidade do sistema, mediante a manuteno dos equipamentos realizadas conosco nos prazos estipulados pelo fabricante...`},contract_clauses:`1. Obrigaes do Cliente
1.1. O cliente deve fornecer todas as informaes necessrias para a execuo adequada dos servios contratados, incluindo, mas no se limitando a, especificaes tcnicas, localizao e horrios preferenciais para a realizao dos servios, como tambm a planta do imvel e projeto arquitetnico.
1.2. O cliente deve garantir o acesso seguro e adequado s instalaes onde os servios sero realizados.
1.3. O cliente deve comunicar prontamente qualquer problema ou defeito observado nos servios prestados.
1.4.  de responsabilidade do cliente o destelhamento e reinstalao do telhado.

2. Obrigaes do Contratante
2.1. O contratante deve realizar os servios de acordo com as especificaes tcnicas fornecidas pelo cliente e de acordo com os padres da indstria.
2.2. O contratante deve cumprir todos os prazos acordados para a execuo dos servios.
2.3. O contratante deve manter o cliente informado sobre o progresso dos servios e quaisquer problemas ou atrasos que possam surgir.

3. Regras de Resciso
3.1. Ambas as partes tm o direito de rescindir o contrato a qualquer momento, com um aviso prvio de 30 dias.
3.2. Em caso de violao de qualquer uma das obrigaes estabelecidas neste contrato, a parte no infratora tem o direito de rescindir o contrato imediatamente, sem necessidade de aviso prvio.

4. Regras Gerais
4.1. Este contrato no cria qualquer relao de parceria, joint venture, emprego ou agncia entre as partes.
4.2. Nenhuma das partes pode ceder ou transferir seus direitos ou obrigaes sob este contrato sem o consentimento prvio por escrito da outra parte.
4.3. Este contrato constitui o acordo completo entre as partes e substitui todos os acordos anteriores, escritos ou orais, relacionados ao seu objeto.`,additional_info:a.notes||`Trabalhamos para que seus projetos, se tornem realidade.. Obrigado pela confiana

obrigado pela confiana, estaremos  disposio.`}})]}),w&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Timeline de Status"}),n.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx(hhe,{serviceOrderId:t,isOpen:w,onClose:()=>_(!1)})})]})}),k&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-6xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Histrico de Auditoria"}),n.jsx("button",{onClick:()=>C(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx(Ahe,{serviceOrderId:t,isOpen:k,onClose:()=>C(!1)})})]})}),B&&t&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-auto",children:[n.jsxs("div",{className:"p-6 border-b flex justify-between items-center sticky top-0 bg-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Checklist de Execuo"}),n.jsx("button",{onClick:()=>I(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:""})]}),n.jsx("div",{className:"p-6",children:n.jsx(fhe,{serviceOrderId:t})})]})}),n.jsx(phe,{isOpen:T,onClose:()=>{Q(!1),K(null)},serviceItem:U,onSave:()=>{z(),Q(!1),K(null)}})]}):n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600",children:"Ordem de servio no encontrada"}),n.jsx("button",{onClick:()=>e("/service-orders"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var IS=function(t,e){return IS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},IS(t,e)};function El(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");IS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var DS=function(){return DS=Object.assign||function(e){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},DS.apply(this,arguments)};function ei(t,e,r,s){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(u){try{d(s.next(u))}catch(h){o(h)}}function c(u){try{d(s.throw(u))}catch(h){o(h)}}function d(u){u.done?i(u.value):a(u.value).then(l,c)}d((s=s.apply(t,[])).next())})}function Ea(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(d){return function(u){return c([d,u])}}function c(d){if(s)throw new TypeError("Generator is already executing.");for(;r;)try{if(s=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,a=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){r.label=d[1];break}if(d[0]===6&&r.label<i[1]){r.label=i[1],i=d;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(d);break}i[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(u){d=[6,u],a=0}finally{s=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function ev(t,e,r){if(arguments.length===2)for(var s=0,a=e.length,i;s<a;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||e)}var Td=(function(){function t(e,r,s,a){this.left=e,this.top=r,this.width=s,this.height=a}return t.prototype.add=function(e,r,s,a){return new t(this.left+e,this.top+r,this.width+s,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var s=Array.from(r).find(function(a){return a.width!==0});return s?new t(s.left+e.windowBounds.left,s.top+e.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),d1=function(t,e){return Td.fromClientRect(t,e.getBoundingClientRect())},xhe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var s=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Td(0,0,s,a)},u1=function(t){for(var e=[],r=0,s=t.length;r<s;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},ns=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},hO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yhe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var tv=0;tv<hO.length;tv++)yhe[hO.charCodeAt(tv)]=tv;var AO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rv=0;rv<AO.length;rv++)Lg[AO.charCodeAt(rv)]=rv;var vhe=function(t){var e=t.length*.75,r=t.length,s,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<r;s+=4)i=Lg[t.charCodeAt(s)],o=Lg[t.charCodeAt(s+1)],l=Lg[t.charCodeAt(s+2)],c=Lg[t.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},bhe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=2)r.push(t[s+1]<<8|t[s]);return r},whe=function(t){for(var e=t.length,r=[],s=0;s<e;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},QA=5,OE=11,Xj=2,jhe=OE-QA,Z$=65536>>QA,Nhe=1<<QA,Yj=Nhe-1,_he=1024>>QA,Che=Z$+_he,She=Che,Bhe=32,Ehe=She+Bhe,khe=65536>>OE,Phe=1<<jhe,Fhe=Phe-1,fO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},The=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Ohe=function(t,e){var r=vhe(t),s=Array.isArray(r)?whe(r):new Uint32Array(r),a=Array.isArray(r)?bhe(r):new Uint16Array(r),i=24,o=fO(a,i/2,s[4]/2),l=s[5]===2?fO(a,(i+s[4])/2):The(s,Math.ceil((i+s[4])/4));return new Ihe(s[0],s[1],s[2],s[3],o,l)},Ihe=(function(){function t(e,r,s,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>QA],r=(r<<Xj)+(e&Yj),this.data[r];if(e<=65535)return r=this.index[Z$+(e-55296>>QA)],r=(r<<Xj)+(e&Yj),this.data[r];if(e<this.highStart)return r=Ehe-khe+(e>>OE),r=this.index[r],r+=e>>QA&Fhe,r=this.index[r],r=(r<<Xj)+(e&Yj),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),mO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dhe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nv=0;nv<mO.length;nv++)Dhe[mO.charCodeAt(nv)]=nv;var Mhe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",pO=50,Lhe=1,eq=2,tq=3,Uhe=4,Rhe=5,gO=7,rq=8,xO=9,Ju=10,MS=11,yO=12,LS=13,Qhe=14,Ug=15,US=16,sv=17,gg=18,Hhe=19,vO=20,RS=21,xg=22,Jj=23,am=24,Xi=25,Rg=26,Qg=27,im=28,$he=29,_A=30,qhe=31,av=32,iv=33,QS=34,HS=35,$S=36,H0=37,qS=38,ob=39,lb=40,Zj=41,nq=42,zhe=43,Vhe=[9001,65288],sq="!",yr="",ov="",zS=Ohe(Mhe),sd=[_A,$S],VS=[Lhe,eq,tq,Rhe],aq=[Ju,rq],bO=[Qg,Rg],Khe=VS.concat(aq),wO=[qS,ob,lb,QS,HS],Whe=[Ug,LS],Ghe=function(t,e){e===void 0&&(e="strict");var r=[],s=[],a=[];return t.forEach(function(i,o){var l=zS.get(i);if(l>pO?(a.push(!0),l-=pO):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return s.push(o),r.push(US);if(l===Uhe||l===MS){if(o===0)return s.push(o),r.push(_A);var c=r[o-1];return Khe.indexOf(c)===-1?(s.push(s[o-1]),r.push(c)):(s.push(o),r.push(_A))}if(s.push(o),l===qhe)return r.push(e==="strict"?RS:H0);if(l===nq||l===$he)return r.push(_A);if(l===zhe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(H0):r.push(_A);r.push(l)}),[s,r,a]},eN=function(t,e,r,s){var a=s[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=s.length;){i++;var o=s[i];if(o===e)return!0;if(o!==Ju)break}if(a===Ju)for(var i=r;i>0;){i--;var l=s[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=s.length;){c++;var o=s[c];if(o===e)return!0;if(o!==Ju)break}if(l!==Ju)break}return!1},jO=function(t,e){for(var r=t;r>=0;){var s=e[r];if(s===Ju)r--;else return s}return 0},Xhe=function(t,e,r,s,a){if(r[s]===0)return yr;var i=s-1;if(Array.isArray(a)&&a[i]===!0)return yr;var o=i-1,l=i+1,c=e[i],d=o>=0?e[o]:0,u=e[l];if(c===eq&&u===tq)return yr;if(VS.indexOf(c)!==-1)return sq;if(VS.indexOf(u)!==-1||aq.indexOf(u)!==-1)return yr;if(jO(i,e)===rq)return ov;if(zS.get(t[i])===MS||(c===av||c===iv)&&zS.get(t[l])===MS||c===gO||u===gO||c===xO||[Ju,LS,Ug].indexOf(c)===-1&&u===xO||[sv,gg,Hhe,am,im].indexOf(u)!==-1||jO(i,e)===xg||eN(Jj,xg,i,e)||eN([sv,gg],RS,i,e)||eN(yO,yO,i,e))return yr;if(c===Ju)return ov;if(c===Jj||u===Jj)return yr;if(u===US||c===US)return ov;if([LS,Ug,RS].indexOf(u)!==-1||c===Qhe||d===$S&&Whe.indexOf(c)!==-1||c===im&&u===$S||u===vO||sd.indexOf(u)!==-1&&c===Xi||sd.indexOf(c)!==-1&&u===Xi||c===Qg&&[H0,av,iv].indexOf(u)!==-1||[H0,av,iv].indexOf(c)!==-1&&u===Rg||sd.indexOf(c)!==-1&&bO.indexOf(u)!==-1||bO.indexOf(c)!==-1&&sd.indexOf(u)!==-1||[Qg,Rg].indexOf(c)!==-1&&(u===Xi||[xg,Ug].indexOf(u)!==-1&&e[l+1]===Xi)||[xg,Ug].indexOf(c)!==-1&&u===Xi||c===Xi&&[Xi,im,am].indexOf(u)!==-1)return yr;if([Xi,im,am,sv,gg].indexOf(u)!==-1)for(var h=i;h>=0;){var f=e[h];if(f===Xi)return yr;if([im,am].indexOf(f)!==-1)h--;else break}if([Qg,Rg].indexOf(u)!==-1)for(var h=[sv,gg].indexOf(c)!==-1?o:i;h>=0;){var f=e[h];if(f===Xi)return yr;if([im,am].indexOf(f)!==-1)h--;else break}if(qS===c&&[qS,ob,QS,HS].indexOf(u)!==-1||[ob,QS].indexOf(c)!==-1&&[ob,lb].indexOf(u)!==-1||[lb,HS].indexOf(c)!==-1&&u===lb||wO.indexOf(c)!==-1&&[vO,Rg].indexOf(u)!==-1||wO.indexOf(u)!==-1&&c===Qg||sd.indexOf(c)!==-1&&sd.indexOf(u)!==-1||c===am&&sd.indexOf(u)!==-1||sd.concat(Xi).indexOf(c)!==-1&&u===xg&&Vhe.indexOf(t[l])===-1||sd.concat(Xi).indexOf(u)!==-1&&c===gg)return yr;if(c===Zj&&u===Zj){for(var p=r[i],v=1;p>0&&(p--,e[p]===Zj);)v++;if(v%2!==0)return yr}return c===av&&u===iv?yr:ov},Yhe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Ghe(t,e.lineBreak),s=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[Xi,_A,nq].indexOf(l)!==-1?H0:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[s,a,o]},Jhe=(function(){function t(e,r,s,a){this.codePoints=e,this.required=r===sq,this.start=s,this.end=a}return t.prototype.slice=function(){return ns.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),Zhe=function(t,e){var r=u1(t),s=Yhe(r,e),a=s[0],i=s[1],o=s[2],l=r.length,c=0,d=0;return{next:function(){if(d>=l)return{done:!0,value:null};for(var u=yr;d<l&&(u=Xhe(r,i,a,++d,o))===yr;);if(u!==yr||d===l){var h=new Jhe(r,u,c,d);return c=d,{value:h,done:!1}}return{done:!0,value:null}}}},eAe=1,tAe=2,Hx=4,NO=8,Ib=10,_O=47,c0=92,rAe=9,nAe=32,lv=34,yg=61,sAe=35,aAe=36,iAe=37,cv=39,dv=40,vg=41,oAe=95,Ei=45,lAe=33,cAe=60,dAe=62,uAe=64,hAe=91,AAe=93,fAe=61,mAe=123,uv=63,pAe=125,CO=124,gAe=126,xAe=128,SO=65533,tN=42,PA=43,yAe=44,vAe=58,bAe=59,$0=46,wAe=0,jAe=8,NAe=11,_Ae=14,CAe=31,SAe=127,tc=-1,iq=48,oq=97,lq=101,BAe=102,EAe=117,kAe=122,cq=65,dq=69,uq=70,PAe=85,FAe=90,Fa=function(t){return t>=iq&&t<=57},TAe=function(t){return t>=55296&&t<=57343},om=function(t){return Fa(t)||t>=cq&&t<=uq||t>=oq&&t<=BAe},OAe=function(t){return t>=oq&&t<=kAe},IAe=function(t){return t>=cq&&t<=FAe},DAe=function(t){return OAe(t)||IAe(t)},MAe=function(t){return t>=xAe},hv=function(t){return t===Ib||t===rAe||t===nAe},Db=function(t){return DAe(t)||MAe(t)||t===oAe},BO=function(t){return Db(t)||Fa(t)||t===Ei},LAe=function(t){return t>=wAe&&t<=jAe||t===NAe||t>=_Ae&&t<=CAe||t===SAe},zu=function(t,e){return t!==c0?!1:e!==Ib},Av=function(t,e,r){return t===Ei?Db(e)||zu(e,r):Db(t)?!0:!!(t===c0&&zu(t,e))},rN=function(t,e,r){return t===PA||t===Ei?Fa(e)?!0:e===$0&&Fa(r):Fa(t===$0?e:t)},UAe=function(t){var e=0,r=1;(t[e]===PA||t[e]===Ei)&&(t[e]===Ei&&(r=-1),e++);for(var s=[];Fa(t[e]);)s.push(t[e++]);var a=s.length?parseInt(ns.apply(void 0,s),10):0;t[e]===$0&&e++;for(var i=[];Fa(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(ns.apply(void 0,i),10):0;(t[e]===dq||t[e]===lq)&&e++;var c=1;(t[e]===PA||t[e]===Ei)&&(t[e]===Ei&&(c=-1),e++);for(var d=[];Fa(t[e]);)d.push(t[e++]);var u=d.length?parseInt(ns.apply(void 0,d),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*u)},RAe={type:2},QAe={type:3},HAe={type:4},$Ae={type:13},qAe={type:8},zAe={type:21},VAe={type:9},KAe={type:10},WAe={type:11},GAe={type:12},XAe={type:14},fv={type:23},YAe={type:1},JAe={type:25},ZAe={type:24},efe={type:26},tfe={type:27},rfe={type:28},nfe={type:29},sfe={type:31},KS={type:32},hq=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(u1(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==KS;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case lv:return this.consumeStringToken(lv);case sAe:var r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(BO(r)||zu(s,a)){var i=Av(r,s,a)?tAe:eAe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case aAe:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),$Ae;break;case cv:return this.consumeStringToken(cv);case dv:return RAe;case vg:return QAe;case tN:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),XAe;break;case PA:if(rN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case yAe:return HAe;case Ei:var l=e,c=this.peekCodePoint(0),d=this.peekCodePoint(1);if(rN(l,c,d))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Av(l,c,d))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Ei&&d===dAe)return this.consumeCodePoint(),this.consumeCodePoint(),ZAe;break;case $0:if(rN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _O:if(this.peekCodePoint(0)===tN)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===tN&&(u=this.consumeCodePoint(),u===_O))return this.consumeToken();if(u===tc)return this.consumeToken()}break;case vAe:return efe;case bAe:return tfe;case cAe:if(this.peekCodePoint(0)===lAe&&this.peekCodePoint(1)===Ei&&this.peekCodePoint(2)===Ei)return this.consumeCodePoint(),this.consumeCodePoint(),JAe;break;case uAe:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),p=this.peekCodePoint(2);if(Av(h,f,p)){var o=this.consumeName();return{type:7,value:o}}break;case hAe:return rfe;case c0:if(zu(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case AAe:return nfe;case fAe:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),qAe;break;case mAe:return WAe;case pAe:return GAe;case EAe:case PAe:var v=this.peekCodePoint(0),y=this.peekCodePoint(1);return v===PA&&(om(y)||y===uv)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case CO:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),VAe;if(this.peekCodePoint(0)===CO)return this.consumeCodePoint(),zAe;break;case gAe:if(this.peekCodePoint(0)===yg)return this.consumeCodePoint(),KAe;break;case tc:return KS}return hv(e)?(this.consumeWhiteSpace(),sfe):Fa(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Db(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ns(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();om(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var s=!1;r===uv&&e.length<6;)e.push(r),r=this.consumeCodePoint(),s=!0;if(s){var a=parseInt(ns.apply(void 0,e.map(function(c){return c===uv?iq:c})),16),i=parseInt(ns.apply(void 0,e.map(function(c){return c===uv?uq:c})),16);return{type:30,start:a,end:i}}var o=parseInt(ns.apply(void 0,e),16);if(this.peekCodePoint(0)===Ei&&om(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];om(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(ns.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===dv?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===dv?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===tc)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===cv||r===lv){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===tc||this.peekCodePoint(0)===vg)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),fv)}for(;;){var a=this.consumeCodePoint();if(a===tc||a===vg)return{type:22,value:ns.apply(void 0,e)};if(hv(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===tc||this.peekCodePoint(0)===vg?(this.consumeCodePoint(),{type:22,value:ns.apply(void 0,e)}):(this.consumeBadUrlRemnants(),fv);if(a===lv||a===cv||a===dv||LAe(a))return this.consumeBadUrlRemnants(),fv;if(a===c0)if(zu(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),fv;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;hv(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===vg||e===tc)return;zu(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,s="";e>0;){var a=Math.min(r,e);s+=ns.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),s},t.prototype.consumeStringToken=function(e){var r="",s=0;do{var a=this._value[s];if(a===tc||a===void 0||a===e)return r+=this.consumeStringSlice(s),{type:0,value:r};if(a===Ib)return this._value.splice(0,s),YAe;if(a===c0){var i=this._value[s+1];i!==tc&&i!==void 0&&(i===Ib?(r+=this.consumeStringSlice(s),s=-1,this._value.shift()):zu(a,i)&&(r+=this.consumeStringSlice(s),r+=ns(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=Hx,s=this.peekCodePoint(0);for((s===PA||s===Ei)&&e.push(this.consumeCodePoint());Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(s===$0&&Fa(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=NO;Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());s=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((s===dq||s===lq)&&((a===PA||a===Ei)&&Fa(i)||Fa(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=NO;Fa(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[UAe(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],s=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Av(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:s,unit:l}}return a===iAe?(this.consumeCodePoint(),{type:16,number:r,flags:s}):{type:17,number:r,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(om(e)){for(var r=ns(e);om(this.peekCodePoint(0))&&r.length<6;)r+=ns(this.consumeCodePoint());hv(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(r,16);return s===0||TAe(s)||s>1114111?SO:s}return e===tc?SO:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(BO(r))e+=ns(r);else if(zu(r,this.peekCodePoint(0)))e+=ns(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t})(),Aq=(function(){function t(e){this._tokens=e}return t.create=function(e){var r=new hq;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},s=this.consumeToken();;){if(s.type===32||ife(s,e))return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return r;this.reconsumeToken(s),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?KS:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),$x=function(t){return t.type===15},Ip=function(t){return t.type===17},Zr=function(t){return t.type===20},afe=function(t){return t.type===0},WS=function(t,e){return Zr(t)&&t.value===e},fq=function(t){return t.type!==31},rp=function(t){return t.type!==31&&t.type!==4},vc=function(t){var e=[],r=[];return t.forEach(function(s){if(s.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}s.type!==31&&r.push(s)}),r.length&&e.push(r),e},ife=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},yh=function(t){return t.type===17||t.type===15},ps=function(t){return t.type===16||yh(t)},mq=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ca={type:17,number:0,flags:Hx},IE={type:16,number:50,flags:Hx},Zu={type:16,number:100,flags:Hx},Hg=function(t,e,r){var s=t[0],a=t[1];return[dn(s,e),dn(typeof a<"u"?a:s,r)]},dn=function(t,e){if(t.type===16)return t.number/100*e;if($x(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},pq="deg",gq="grad",xq="rad",yq="turn",h1={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case pq:return Math.PI*e.number/180;case gq:return Math.PI/200*e.number;case xq:return e.number;case yq:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},vq=function(t){return t.type===15&&(t.unit===pq||t.unit===gq||t.unit===xq||t.unit===yq)},bq=function(t){var e=t.filter(Zr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ca,ca];case"to top":case"bottom":return Io(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ca,Zu];case"to right":case"left":return Io(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Zu,Zu];case"to bottom":case"top":return Io(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Zu,ca];case"to left":case"right":return Io(270)}return 0},Io=function(t){return Math.PI*t/180},oh={name:"color",parse:function(t,e){if(e.type===18){var r=ofe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var s=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return eh(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var s=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return eh(parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var s=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return eh(parseInt(s,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var s=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return eh(parseInt(s,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=wd[e.value.toUpperCase()];if(typeof l<"u")return l}return wd.TRANSPARENT}},lh=function(t){return(255&t)===0},zs=function(t){var e=255&t,r=255&t>>8,s=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+s+","+r+","+e/255+")":"rgb("+a+","+s+","+r+")"},eh=function(t,e,r,s){return(t<<24|e<<16|r<<8|Math.round(s*255)<<0)>>>0},EO=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},kO=function(t,e){var r=e.filter(rp);if(r.length===3){var s=r.map(EO),a=s[0],i=s[1],o=s[2];return eh(a,i,o,1)}if(r.length===4){var l=r.map(EO),a=l[0],i=l[1],o=l[2],c=l[3];return eh(a,i,o,c)}return 0};function nN(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var PO=function(t,e){var r=e.filter(rp),s=r[0],a=r[1],i=r[2],o=r[3],l=(s.type===17?Io(s.number):h1.parse(t,s))/(Math.PI*2),c=ps(a)?a.number/100:0,d=ps(i)?i.number/100:0,u=typeof o<"u"&&ps(o)?dn(o,1):1;if(c===0)return eh(d*255,d*255,d*255,1);var h=d<=.5?d*(c+1):d+c-d*c,f=d*2-h,p=nN(f,h,l+1/3),v=nN(f,h,l),y=nN(f,h,l-1/3);return eh(p*255,v*255,y*255,u)},ofe={hsl:PO,hsla:PO,rgb:kO,rgba:kO},d0=function(t,e){return oh.parse(t,Aq.create(e).parseComponentValue())},wd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},lfe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Zr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},cfe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},A1=function(t,e){var r=oh.parse(t,e[0]),s=e[1];return s&&ps(s)?{color:r,stop:s}:{color:r,stop:null}},FO=function(t,e){var r=t[0],s=t[t.length-1];r.stop===null&&(r.stop=ca),s.stop===null&&(s.stop=Zu);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=dn(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var d=null,o=0;o<a.length;o++){var u=a[o];if(u===null)d===null&&(d=o);else if(d!==null){for(var h=o-d,f=a[d-1],p=(u-f)/(h+1),v=1;v<=h;v++)a[d+v-1]=p*v;d=null}}return t.map(function(y,g){var x=y.color;return{color:x,stop:Math.max(Math.min(1,a[g]/e),0)}})},dfe=function(t,e,r){var s=e/2,a=r/2,i=dn(t[0],e)-s,o=a-dn(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},ufe=function(t,e,r){var s=typeof t=="number"?t:dfe(t,e,r),a=Math.abs(e*Math.sin(s))+Math.abs(r*Math.cos(s)),i=e/2,o=r/2,l=a/2,c=Math.sin(s-Math.PI/2)*l,d=Math.cos(s-Math.PI/2)*l;return[a,i-d,i+d,o-c,o+c]},xl=function(t,e){return Math.sqrt(t*t+e*e)},TO=function(t,e,r,s,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],d=l[1],u=xl(r-c,s-d);return(a?u<o.optimumDistance:u>o.optimumDistance)?{optimumCorner:l,optimumDistance:u}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},hfe=function(t,e,r,s,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-s),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-s)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(xl(e,r),xl(e,r-a),xl(e-s,r),xl(e-s,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-s)),c=TO(s,a,e,r,!0),d=c[0],u=c[1];i=xl(d-e,(u-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-s),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-s)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(xl(e,r),xl(e,r-a),xl(e-s,r),xl(e-s,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-s)),h=TO(s,a,e,r,!1),d=h[0],u=h[1];i=xl(d-e,(u-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=dn(t.size[0],s),o=t.size.length===2?dn(t.size[1],a):i),[i,o]},Afe=function(t,e){var r=Io(180),s=[];return vc(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=bq(a);return}else if(vq(o)){r=h1.parse(t,o);return}}var l=A1(t,a);s.push(l)}),{angle:r,stops:s,type:1}},mv=function(t,e){var r=Io(180),s=[];return vc(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=bq(a);return}else if(vq(o)){r=(h1.parse(t,o)+Io(270))%Io(360);return}}var l=A1(t,a);s.push(l)}),{angle:r,stops:s,type:1}},ffe=function(t,e){var r=Io(180),s=[],a=1,i=0,o=3,l=[];return vc(e).forEach(function(c,d){var u=c[0];if(d===0){if(Zr(u)&&u.value==="linear"){a=1;return}else if(Zr(u)&&u.value==="radial"){a=2;return}}if(u.type===18){if(u.name==="from"){var h=oh.parse(t,u.values[0]);s.push({stop:ca,color:h})}else if(u.name==="to"){var h=oh.parse(t,u.values[0]);s.push({stop:Zu,color:h})}else if(u.name==="color-stop"){var f=u.values.filter(rp);if(f.length===2){var h=oh.parse(t,f[1]),p=f[0];Ip(p)&&s.push({stop:{type:16,number:p.number*100,flags:p.flags},color:h})}}}}),a===1?{angle:(r+Io(180))%Io(360),stops:s,type:a}:{size:o,shape:i,stops:s,position:l,type:a}},wq="closest-side",jq="farthest-side",Nq="closest-corner",_q="farthest-corner",Cq="circle",Sq="ellipse",Bq="cover",Eq="contain",mfe=function(t,e){var r=0,s=3,a=[],i=[];return vc(e).forEach(function(o,l){var c=!0;if(l===0){var d=!1;c=o.reduce(function(h,f){if(d)if(Zr(f))switch(f.value){case"center":return i.push(IE),h;case"top":case"left":return i.push(ca),h;case"right":case"bottom":return i.push(Zu),h}else(ps(f)||yh(f))&&i.push(f);else if(Zr(f))switch(f.value){case Cq:return r=0,!1;case Sq:return r=1,!1;case"at":return d=!0,!1;case wq:return s=0,!1;case Bq:case jq:return s=1,!1;case Eq:case Nq:return s=2,!1;case _q:return s=3,!1}else if(yh(f)||ps(f))return Array.isArray(s)||(s=[]),s.push(f),!1;return h},c)}if(c){var u=A1(t,o);a.push(u)}}),{size:s,shape:r,stops:a,position:i,type:2}},pv=function(t,e){var r=0,s=3,a=[],i=[];return vc(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(u,h){if(Zr(h))switch(h.value){case"center":return i.push(IE),!1;case"top":case"left":return i.push(ca),!1;case"right":case"bottom":return i.push(Zu),!1}else if(ps(h)||yh(h))return i.push(h),!1;return u},c):l===1&&(c=o.reduce(function(u,h){if(Zr(h))switch(h.value){case Cq:return r=0,!1;case Sq:return r=1,!1;case Eq:case wq:return s=0,!1;case jq:return s=1,!1;case Nq:return s=2,!1;case Bq:case _q:return s=3,!1}else if(yh(h)||ps(h))return Array.isArray(s)||(s=[]),s.push(h),!1;return u},c)),c){var d=A1(t,o);a.push(d)}}),{size:s,shape:r,stops:a,position:i,type:2}},pfe=function(t){return t.type===1},gfe=function(t){return t.type===2},DE={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var s=kq[e.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return s(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function xfe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!kq[t.name])}var kq={"linear-gradient":Afe,"-moz-linear-gradient":mv,"-ms-linear-gradient":mv,"-o-linear-gradient":mv,"-webkit-linear-gradient":mv,"radial-gradient":mfe,"-moz-radial-gradient":pv,"-ms-radial-gradient":pv,"-o-radial-gradient":pv,"-webkit-radial-gradient":pv,"-webkit-gradient":ffe},yfe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(s){return rp(s)&&xfe(s)}).map(function(s){return DE.parse(t,s)})}},vfe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Zr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bfe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return vc(e).map(function(r){return r.filter(ps)}).map(mq)}},wfe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return vc(e).map(function(r){return r.filter(Zr).map(function(s){return s.value}).join(" ")}).map(jfe)}},jfe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Vm;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Vm||(Vm={}));var Nfe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return vc(e).map(function(r){return r.filter(_fe)})}},_fe=function(t){return Zr(t)||ps(t)},f1=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Cfe=f1("top"),Sfe=f1("right"),Bfe=f1("bottom"),Efe=f1("left"),m1=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return mq(r.filter(ps))}}},kfe=m1("top-left"),Pfe=m1("top-right"),Ffe=m1("bottom-right"),Tfe=m1("bottom-left"),p1=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ofe=p1("top"),Ife=p1("right"),Dfe=p1("bottom"),Mfe=p1("left"),g1=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return $x(r)?r.number:0}}},Lfe=g1("top"),Ufe=g1("right"),Rfe=g1("bottom"),Qfe=g1("left"),Hfe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$fe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qfe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Zr).reduce(function(r,s){return r|zfe(s.value)},0)}},zfe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Vfe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Kfe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Mb;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Mb||(Mb={}));var Wfe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Mb.STRICT;case"normal":default:return Mb.NORMAL}}},Gfe={name:"line-height",initialValue:"normal",prefix:!1,type:4},OO=function(t,e){return Zr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ps(t)?dn(t,e):e},Xfe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:DE.parse(t,e)}},Yfe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},GS={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},x1=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Jfe=x1("top"),Zfe=x1("right"),eme=x1("bottom"),tme=x1("left"),rme={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Zr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},nme={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},y1=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},sme=y1("top"),ame=y1("right"),ime=y1("bottom"),ome=y1("left"),lme={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},cme={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dme={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&WS(e[0],"none")?[]:vc(e).map(function(r){for(var s={color:wd.TRANSPARENT,offsetX:ca,offsetY:ca,blur:ca},a=0,i=0;i<r.length;i++){var o=r[i];yh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:s.blur=o,a++):s.color=oh.parse(t,o)}return s})}},ume={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},hme={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=mme[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Ame=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},fme=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],s=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,s,a,i,o,l]:null},mme={matrix:Ame,matrix3d:fme},IO={type:16,number:50,flags:Hx},pme=[IO,IO],gme={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(ps);return r.length!==2?pme:[r[0],r[1]]}},xme={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},u0;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(u0||(u0={}));var yme={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return u0.BREAK_ALL;case"keep-all":return u0.KEEP_ALL;case"normal":default:return u0.NORMAL}}},vme={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ip(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Pq={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},bme={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ip(e)?e.number:1}},wme={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jme={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Zr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Nme={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],s=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:s.push(r.join(" ")),r.length=0;break}}),r.length&&s.push(r.join(" ")),s.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},_me={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Cme={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ip(e))return e.number;if(Zr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},Sme={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Zr).map(function(r){return r.value})}},Bme={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ks=function(t,e){return(t&e)!==0},Eme={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},kme={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var s=[],a=e.filter(fq),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&Ip(l)?l.number:1;s.push({counter:o.value,increment:c})}}return s}},Pme={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],s=e.filter(fq),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(Zr(i)&&i.value!=="none"){var l=o&&Ip(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Fme={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter($x).map(function(r){return Pq.parse(t,r)})}},Tme={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var s=[],a=e.filter(afe);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;s.push({open:o,close:l})}return s}},DO=function(t,e,r){if(!t)return"";var s=t[Math.min(e,t.length-1)];return s?r?s.open:s.close:""},Ome={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&WS(e[0],"none")?[]:vc(e).map(function(r){for(var s={color:255,offsetX:ca,offsetY:ca,blur:ca,spread:ca,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];WS(o,"inset")?s.inset=!0:yh(o)?(a===0?s.offsetX=o:a===1?s.offsetY=o:a===2?s.blur=o:s.spread=o,a++):s.color=oh.parse(t,o)}return s})}},Ime={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],s=[];return e.filter(Zr).forEach(function(a){switch(a.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),r.forEach(function(a){s.indexOf(a)===-1&&s.push(a)}),s}},Dme={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Mme={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return $x(e)?e.number:0}},Lme=(function(){function t(e,r){var s,a;this.animationDuration=St(e,Fme,r.animationDuration),this.backgroundClip=St(e,lfe,r.backgroundClip),this.backgroundColor=St(e,cfe,r.backgroundColor),this.backgroundImage=St(e,yfe,r.backgroundImage),this.backgroundOrigin=St(e,vfe,r.backgroundOrigin),this.backgroundPosition=St(e,bfe,r.backgroundPosition),this.backgroundRepeat=St(e,wfe,r.backgroundRepeat),this.backgroundSize=St(e,Nfe,r.backgroundSize),this.borderTopColor=St(e,Cfe,r.borderTopColor),this.borderRightColor=St(e,Sfe,r.borderRightColor),this.borderBottomColor=St(e,Bfe,r.borderBottomColor),this.borderLeftColor=St(e,Efe,r.borderLeftColor),this.borderTopLeftRadius=St(e,kfe,r.borderTopLeftRadius),this.borderTopRightRadius=St(e,Pfe,r.borderTopRightRadius),this.borderBottomRightRadius=St(e,Ffe,r.borderBottomRightRadius),this.borderBottomLeftRadius=St(e,Tfe,r.borderBottomLeftRadius),this.borderTopStyle=St(e,Ofe,r.borderTopStyle),this.borderRightStyle=St(e,Ife,r.borderRightStyle),this.borderBottomStyle=St(e,Dfe,r.borderBottomStyle),this.borderLeftStyle=St(e,Mfe,r.borderLeftStyle),this.borderTopWidth=St(e,Lfe,r.borderTopWidth),this.borderRightWidth=St(e,Ufe,r.borderRightWidth),this.borderBottomWidth=St(e,Rfe,r.borderBottomWidth),this.borderLeftWidth=St(e,Qfe,r.borderLeftWidth),this.boxShadow=St(e,Ome,r.boxShadow),this.color=St(e,Hfe,r.color),this.direction=St(e,$fe,r.direction),this.display=St(e,qfe,r.display),this.float=St(e,Vfe,r.cssFloat),this.fontFamily=St(e,Nme,r.fontFamily),this.fontSize=St(e,_me,r.fontSize),this.fontStyle=St(e,Bme,r.fontStyle),this.fontVariant=St(e,Sme,r.fontVariant),this.fontWeight=St(e,Cme,r.fontWeight),this.letterSpacing=St(e,Kfe,r.letterSpacing),this.lineBreak=St(e,Wfe,r.lineBreak),this.lineHeight=St(e,Gfe,r.lineHeight),this.listStyleImage=St(e,Xfe,r.listStyleImage),this.listStylePosition=St(e,Yfe,r.listStylePosition),this.listStyleType=St(e,GS,r.listStyleType),this.marginTop=St(e,Jfe,r.marginTop),this.marginRight=St(e,Zfe,r.marginRight),this.marginBottom=St(e,eme,r.marginBottom),this.marginLeft=St(e,tme,r.marginLeft),this.opacity=St(e,bme,r.opacity);var i=St(e,rme,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=St(e,nme,r.overflowWrap),this.paddingTop=St(e,sme,r.paddingTop),this.paddingRight=St(e,ame,r.paddingRight),this.paddingBottom=St(e,ime,r.paddingBottom),this.paddingLeft=St(e,ome,r.paddingLeft),this.paintOrder=St(e,Ime,r.paintOrder),this.position=St(e,cme,r.position),this.textAlign=St(e,lme,r.textAlign),this.textDecorationColor=St(e,wme,(s=r.textDecorationColor)!==null&&s!==void 0?s:r.color),this.textDecorationLine=St(e,jme,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=St(e,dme,r.textShadow),this.textTransform=St(e,ume,r.textTransform),this.transform=St(e,hme,r.transform),this.transformOrigin=St(e,gme,r.transformOrigin),this.visibility=St(e,xme,r.visibility),this.webkitTextStrokeColor=St(e,Dme,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=St(e,Mme,r.webkitTextStrokeWidth),this.wordBreak=St(e,yme,r.wordBreak),this.zIndex=St(e,vme,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return lh(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ks(this.display,4)||ks(this.display,33554432)||ks(this.display,268435456)||ks(this.display,536870912)||ks(this.display,67108864)||ks(this.display,134217728)},t})(),Ume=(function(){function t(e,r){this.content=St(e,Eme,r.content),this.quotes=St(e,Tme,r.quotes)}return t})(),MO=(function(){function t(e,r){this.counterIncrement=St(e,kme,r.counterIncrement),this.counterReset=St(e,Pme,r.counterReset)}return t})(),St=function(t,e,r){var s=new hq,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;s.write(a);var i=new Aq(s.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,Zr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return h1.parse(t,i.parseComponentValue());case"color":return oh.parse(t,i.parseComponentValue());case"image":return DE.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return yh(l)?l:ca;case"length-percentage":var c=i.parseComponentValue();return ps(c)?c:ca;case"time":return Pq.parse(t,i.parseComponentValue())}break}},Rme="data-html2canvas-debug",Qme=function(t){var e=t.getAttribute(Rme);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},XS=function(t,e){var r=Qme(t);return r===1||e===r},bc=(function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,XS(r,3))debugger;this.styles=new Lme(e,window.getComputedStyle(r,null)),ZS(r)&&(this.styles.animationDuration.some(function(s){return s>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=d1(this.context,r),XS(r,4)&&(this.flags|=16)}return t})(),Hme="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",LO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$g=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var gv=0;gv<LO.length;gv++)$g[LO.charCodeAt(gv)]=gv;var $me=function(t){var e=t.length*.75,r=t.length,s,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var d=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(d)?d:new Uint8Array(d);for(s=0;s<r;s+=4)i=$g[t.charCodeAt(s)],o=$g[t.charCodeAt(s+1)],l=$g[t.charCodeAt(s+2)],c=$g[t.charCodeAt(s+3)],u[a++]=i<<2|o>>4,u[a++]=(o&15)<<4|l>>2,u[a++]=(l&3)<<6|c&63;return d},qme=function(t){for(var e=t.length,r=[],s=0;s<e;s+=2)r.push(t[s+1]<<8|t[s]);return r},zme=function(t){for(var e=t.length,r=[],s=0;s<e;s+=4)r.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return r},HA=5,ME=11,sN=2,Vme=ME-HA,Fq=65536>>HA,Kme=1<<HA,aN=Kme-1,Wme=1024>>HA,Gme=Fq+Wme,Xme=Gme,Yme=32,Jme=Xme+Yme,Zme=65536>>ME,epe=1<<Vme,tpe=epe-1,UO=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},rpe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},npe=function(t,e){var r=$me(t),s=Array.isArray(r)?zme(r):new Uint32Array(r),a=Array.isArray(r)?qme(r):new Uint16Array(r),i=24,o=UO(a,i/2,s[4]/2),l=s[5]===2?UO(a,(i+s[4])/2):rpe(s,Math.ceil((i+s[4])/4));return new spe(s[0],s[1],s[2],s[3],o,l)},spe=(function(){function t(e,r,s,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=s,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>HA],r=(r<<sN)+(e&aN),this.data[r];if(e<=65535)return r=this.index[Fq+(e-55296>>HA)],r=(r<<sN)+(e&aN),this.data[r];if(e<this.highStart)return r=Jme-Zme+(e>>ME),r=this.index[r],r+=e>>HA&tpe,r=this.index[r],r=(r<<sN)+(e&aN),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),RO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ape=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xv=0;xv<RO.length;xv++)ape[RO.charCodeAt(xv)]=xv;var ipe=1,iN=2,oN=3,QO=4,HO=5,ope=7,$O=8,lN=9,cN=10,qO=11,zO=12,VO=13,KO=14,dN=15,lpe=function(t){for(var e=[],r=0,s=t.length;r<s;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<s){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},cpe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var s=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?s.push(o):(o-=65536,s.push((o>>10)+55296,o%1024+56320)),(a+1===r||s.length>16384)&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return i},dpe=npe(Hme),Eo="",uN="",upe=function(t){return dpe.get(t)},hpe=function(t,e,r){var s=r-2,a=e[s],i=e[r-1],o=e[r];if(i===iN&&o===oN)return Eo;if(i===iN||i===oN||i===QO||o===iN||o===oN||o===QO)return uN;if(i===$O&&[$O,lN,qO,zO].indexOf(o)!==-1||(i===qO||i===lN)&&(o===lN||o===cN)||(i===zO||i===cN)&&o===cN||o===VO||o===HO||o===ope||i===ipe)return Eo;if(i===VO&&o===KO){for(;a===HO;)a=e[--s];if(a===KO)return Eo}if(i===dN&&o===dN){for(var l=0;a===dN;)l++,a=e[--s];if(l%2===0)return Eo}return uN},Ape=function(t){var e=lpe(t),r=e.length,s=0,a=0,i=e.map(upe);return{next:function(){if(s>=r)return{done:!0,value:null};for(var o=Eo;s<r&&(o=hpe(e,i,++s))===Eo;);if(o!==Eo||s===r){var l=cpe.apply(null,e.slice(a,s));return a=s,{value:l,done:!1}}return{done:!0,value:null}}}},fpe=function(t){for(var e=Ape(t),r=[],s;!(s=e.next()).done;)s.value&&r.push(s.value.slice());return r},mpe=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=e+"px",s.style.display="block",t.body.appendChild(s),r.selectNode(s);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(s),i===e)return!0}}return!1},ppe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=e.firstChild,a=u1(s.data).map(function(c){return ns(c)}),i=0,o={},l=a.every(function(c,d){r.setStart(s,i),r.setEnd(s,i+c.length);var u=r.getBoundingClientRect();i+=c.length;var h=u.x>o.x||u.y>o.y;return o=u,d===0?!0:h});return t.body.removeChild(e),l},gpe=function(){return typeof new Image().crossOrigin<"u"},xpe=function(){return typeof new XMLHttpRequest().responseType=="string"},ype=function(t){var e=new Image,r=t.createElement("canvas"),s=r.getContext("2d");if(!s)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},WO=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},vpe=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var s=e.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=YS(r,r,0,0,a);return s.fillStyle="red",s.fillRect(0,0,r,r),GO(o).then(function(l){s.drawImage(l,0,0);var c=s.getImageData(0,0,r,r).data;s.fillStyle="red",s.fillRect(0,0,r,r);var d=t.createElement("div");return d.style.backgroundImage="url("+i+")",d.style.height=r+"px",WO(c)?GO(YS(r,r,0,0,d)):Promise.reject(!1)}).then(function(l){return s.drawImage(l,0,0),WO(s.getImageData(0,0,r,r).data)}).catch(function(){return!1})},YS=function(t,e,r,s,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",s.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},GO=function(t){return new Promise(function(e,r){var s=new Image;s.onload=function(){return e(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},oa={get SUPPORT_RANGE_BOUNDS(){var t=mpe(document);return Object.defineProperty(oa,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=oa.SUPPORT_RANGE_BOUNDS&&ppe(document);return Object.defineProperty(oa,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=ype(document);return Object.defineProperty(oa,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?vpe(document):Promise.resolve(!1);return Object.defineProperty(oa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=gpe();return Object.defineProperty(oa,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=xpe();return Object.defineProperty(oa,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(oa,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(oa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},h0=(function(){function t(e,r){this.text=e,this.bounds=r}return t})(),bpe=function(t,e,r,s){var a=Npe(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(oa.SUPPORT_RANGE_BOUNDS){var c=XO(s,o,l.length).getClientRects();if(c.length>1){var d=LE(l),u=0;d.forEach(function(f){i.push(new h0(f,Td.fromDOMRectList(t,XO(s,u+o,f.length).getClientRects()))),u+=f.length})}else i.push(new h0(l,Td.fromDOMRectList(t,c)))}else{var h=s.splitText(l.length);i.push(new h0(l,wpe(t,s))),s=h}else oa.SUPPORT_RANGE_BOUNDS||(s=s.splitText(l.length));o+=l.length}),i},wpe=function(t,e){var r=e.ownerDocument;if(r){var s=r.createElement("html2canvaswrapper");s.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(s,e);var i=d1(t,s);return s.firstChild&&a.replaceChild(s.firstChild,s),i}}return Td.EMPTY},XO=function(t,e,r){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var a=s.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},LE=function(t){if(oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return fpe(t)},jpe=function(t,e){if(oa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(s){return s.segment})}return Cpe(t,e)},Npe=function(t,e){return e.letterSpacing!==0?LE(t):jpe(t,e)},_pe=[32,160,4961,65792,65793,4153,4241],Cpe=function(t,e){for(var r=Zhe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),s=[],a,i=function(){if(a.value){var o=a.value.slice(),l=u1(o),c="";l.forEach(function(d){_pe.indexOf(d)===-1?c+=ns(d):(c.length&&s.push(c),s.push(ns(d)),c="")}),c.length&&s.push(c)}};!(a=r.next()).done;)i();return s},Spe=(function(){function t(e,r,s){this.text=Bpe(r.data,s.textTransform),this.textBounds=bpe(e,this.text,s,r)}return t})(),Bpe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Epe,kpe);case 2:return t.toUpperCase();default:return t}},Epe=/(^|\s|:|-|\(|\))([a-z])/g,kpe=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Tq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.src=s.currentSrc||s.src,a.intrinsicWidth=s.naturalWidth,a.intrinsicHeight=s.naturalHeight,a.context.cache.addImage(a.src),a}return e})(bc),Oq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.canvas=s,a.intrinsicWidth=s.width,a.intrinsicHeight=s.height,a}return e})(bc),Iq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this,i=new XMLSerializer,o=d1(r,s);return s.setAttribute("width",o.width+"px"),s.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(s)),a.intrinsicWidth=s.width.baseVal.value,a.intrinsicHeight=s.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e})(bc),Dq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.value=s.value,a}return e})(bc),JS=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.start=s.start,a.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,a}return e})(bc),Ppe=[{type:15,flags:0,unit:"px",number:3}],Fpe=[{type:16,flags:0,number:50}],Tpe=function(t){return t.width>t.height?new Td(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Td(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Ope=function(t){var e=t.type===Ipe?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},Lb="checkbox",Ub="radio",Ipe="password",YO=707406591,UE=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;switch(a.type=s.type.toLowerCase(),a.checked=s.checked,a.value=Ope(s),(a.type===Lb||a.type===Ub)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=Tpe(a.bounds)),a.type){case Lb:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Ppe;break;case Ub:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=Fpe;break}return a}return e})(bc),Mq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this,i=s.options[s.selectedIndex||0];return a.value=i&&i.text||"",a}return e})(bc),Lq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.value=s.value,a}return e})(bc),Uq=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;a.src=s.src,a.width=parseInt(s.width,10)||0,a.height=parseInt(s.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){a.tree=Qq(r,s.contentWindow.document.documentElement);var i=s.contentWindow.document.documentElement?d0(r,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):wd.TRANSPARENT,o=s.contentWindow.document.body?d0(r,getComputedStyle(s.contentWindow.document.body).backgroundColor):wd.TRANSPARENT;a.backgroundColor=lh(i)?lh(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e})(bc),Dpe=["OL","UL","MENU"],cb=function(t,e,r,s){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,Hq(a)&&a.data.trim().length>0)r.textNodes.push(new Spe(t,a,r.styles));else if(Em(a))if(Vq(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return cb(t,l,r,s)});else{var o=Rq(t,a);o.styles.isVisible()&&(Mpe(a,o,s)?o.flags|=4:Lpe(o.styles)&&(o.flags|=2),Dpe.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?cb(t,a.shadowRoot,o,s):!Rb(a)&&!$q(a)&&!Qb(a)&&cb(t,a,o,s))}},Rq=function(t,e){return eB(e)?new Tq(t,e):qq(e)?new Oq(t,e):$q(e)?new Iq(t,e):Upe(e)?new Dq(t,e):Rpe(e)?new JS(t,e):Qpe(e)?new UE(t,e):Qb(e)?new Mq(t,e):Rb(e)?new Lq(t,e):zq(e)?new Uq(t,e):new bc(t,e)},Qq=function(t,e){var r=Rq(t,e);return r.flags|=4,cb(t,e,r,r),r},Mpe=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||RE(t)&&r.styles.isTransparent()},Lpe=function(t){return t.isPositioned()||t.isFloating()},Hq=function(t){return t.nodeType===Node.TEXT_NODE},Em=function(t){return t.nodeType===Node.ELEMENT_NODE},ZS=function(t){return Em(t)&&typeof t.style<"u"&&!db(t)},db=function(t){return typeof t.className=="object"},Upe=function(t){return t.tagName==="LI"},Rpe=function(t){return t.tagName==="OL"},Qpe=function(t){return t.tagName==="INPUT"},Hpe=function(t){return t.tagName==="HTML"},$q=function(t){return t.tagName==="svg"},RE=function(t){return t.tagName==="BODY"},qq=function(t){return t.tagName==="CANVAS"},JO=function(t){return t.tagName==="VIDEO"},eB=function(t){return t.tagName==="IMG"},zq=function(t){return t.tagName==="IFRAME"},ZO=function(t){return t.tagName==="STYLE"},$pe=function(t){return t.tagName==="SCRIPT"},Rb=function(t){return t.tagName==="TEXTAREA"},Qb=function(t){return t.tagName==="SELECT"},Vq=function(t){return t.tagName==="SLOT"},eI=function(t){return t.tagName.indexOf("-")>0},qpe=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(s){return r.counters[s].pop()})},t.prototype.parse=function(e){var r=this,s=e.counterIncrement,a=e.counterReset,i=!0;s!==null&&s.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t})(),tI={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},rI={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},zpe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Vpe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lm=function(t,e,r,s,a,i){return t<e||t>r?q0(t,a,i.length>0):s.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=s.values[c];return o},"")+i},Kq=function(t,e,r,s){var a="";do r||t--,a=s(t)+a,t/=e;while(t*e>=e);return a},ts=function(t,e,r,s,a){var i=r-e+1;return(t<0?"-":"")+(Kq(Math.abs(t),i,s,function(o){return ns(Math.floor(o%i)+e)})+a)},oA=function(t,e,r){r===void 0&&(r=". ");var s=e.length;return Kq(Math.abs(t),s,!1,function(a){return e[Math.floor(a%s)]})+r},vm=1,$u=2,qu=4,qg=8,ad=function(t,e,r,s,a,i){if(t<-9999||t>9999)return q0(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var d=o%10;d===0&&ks(i,vm)&&l!==""?l=e[d]+l:d>1||d===1&&c===0||d===1&&c===1&&ks(i,$u)||d===1&&c===1&&ks(i,qu)&&t>100||d===1&&c>1&&ks(i,qg)?l=e[d]+(c>0?r[c-1]:"")+l:d===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?s:"")+l},nI="",sI="",aI="",hN="",q0=function(t,e,r){var s=r?". ":"",a=r?"":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var l=ts(t,48,57,!0,s);return l.length<4?"0"+l:l;case 4:return oA(t,"",a);case 6:return lm(t,1,3999,tI,3,s).toLowerCase();case 7:return lm(t,1,3999,tI,3,s);case 8:return ts(t,945,969,!1,s);case 9:return ts(t,97,122,!1,s);case 10:return ts(t,65,90,!1,s);case 11:return ts(t,1632,1641,!0,s);case 12:case 49:return lm(t,1,9999,rI,3,s);case 35:return lm(t,1,9999,rI,3,s).toLowerCase();case 13:return ts(t,2534,2543,!0,s);case 14:case 30:return ts(t,6112,6121,!0,s);case 15:return oA(t,"",a);case 16:return oA(t,"",a);case 17:case 48:return ad(t,"",nI,"",a,$u|qu|qg);case 47:return ad(t,"",sI,"",a,vm|$u|qu|qg);case 42:return ad(t,"",nI,"",a,$u|qu|qg);case 41:return ad(t,"",sI,"",a,vm|$u|qu|qg);case 26:return ad(t,"","",aI,a,0);case 25:return ad(t,"","",aI,a,vm|$u|qu);case 31:return ad(t,"","",hN,i,vm|$u|qu);case 33:return ad(t,"","",hN,i,0);case 32:return ad(t,"","",hN,i,vm|$u|qu);case 18:return ts(t,2406,2415,!0,s);case 20:return lm(t,1,19999,Vpe,3,s);case 21:return ts(t,2790,2799,!0,s);case 22:return ts(t,2662,2671,!0,s);case 22:return lm(t,1,10999,zpe,3,s);case 23:return oA(t,"");case 24:return oA(t,"");case 27:return ts(t,3302,3311,!0,s);case 28:return oA(t,"",a);case 29:return oA(t,"",a);case 34:return ts(t,3792,3801,!0,s);case 37:return ts(t,6160,6169,!0,s);case 38:return ts(t,4160,4169,!0,s);case 39:return ts(t,2918,2927,!0,s);case 40:return ts(t,1776,1785,!0,s);case 43:return ts(t,3046,3055,!0,s);case 44:return ts(t,3174,3183,!0,s);case 45:return ts(t,3664,3673,!0,s);case 46:return ts(t,3872,3881,!0,s);case 3:default:return ts(t,48,57,!0,s)}},Wq="data-html2canvas-ignore",iI=(function(){function t(e,r,s){if(this.context=e,this.options=s,this.scrolledElements=[],this.referenceElement=r,this.counters=new qpe,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var s=this,a=Kpe(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=Xpe(a).then(function(){return ei(s,void 0,void 0,function(){var u,h;return Ea(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(ege),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),u=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Gpe(c)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(c,h)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Jpe(document.doctype)+"<html></html>"),Zpe(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},t.prototype.createElementClone=function(e){if(XS(e,2))debugger;if(qq(e))return this.createCanvasClone(e);if(JO(e))return this.createVideoClone(e);if(ZO(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return eB(r)&&(eB(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),eI(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return AN(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var s=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=s,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var s=e.ownerDocument.createElement("img");try{return s.src=e.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();c?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var s=r.getContext("2d");try{return s&&(s.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||s.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,s){(!Em(r)||!$pe(r)&&!r.hasAttribute(Wq)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Em(r)||!ZO(r))&&e.appendChild(this.cloneNode(r,s))},t.prototype.cloneChildNodes=function(e,r,s){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Em(i)&&Vq(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,s)})}else this.appendChildNode(r,i,s)},t.prototype.cloneNode=function(e,r){if(Hq(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var s=e.ownerDocument.defaultView;if(s&&Em(e)&&(ZS(e)||db(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=s.getComputedStyle(e),o=s.getComputedStyle(e,":before"),l=s.getComputedStyle(e,":after");this.referenceElement===e&&ZS(a)&&(this.clonedReferenceElement=a),RE(a)&&nge(a);var c=this.counters.parse(new MO(this.context,i)),d=this.resolvePseudoContent(e,a,o,A0.BEFORE);eI(e)&&(r=!0),JO(e)||this.cloneChildNodes(e,a,r),d&&a.insertBefore(d,a.firstChild);var u=this.resolvePseudoContent(e,a,l,A0.AFTER);return u&&a.appendChild(u),this.counters.pop(c),(i&&(this.options.copyStyles||db(e))&&!zq(e)||r)&&AN(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Rb(e)||Qb(e))&&(Rb(a)||Qb(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,s,a){var i=this;if(s){var o=s.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||s.display==="none")){this.counters.parse(new MO(this.context,s));var c=new Ume(this.context,s),d=l.createElement("html2canvaspseudoelement");AN(s,d),c.content.forEach(function(h){if(h.type===0)d.appendChild(l.createTextNode(h.value));else if(h.type===22){var f=l.createElement("img");f.src=h.value,f.style.opacity="1",d.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var p=h.values.filter(Zr);p.length&&d.appendChild(l.createTextNode(e.getAttribute(p[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(rp),y=v[0],g=v[1];if(y&&Zr(y)){var x=i.counters.getCounterValue(y.value),w=g&&Zr(g)?GS.parse(i.context,g.value):3;d.appendChild(l.createTextNode(q0(x,w,!1)))}}else if(h.name==="counters"){var _=h.values.filter(rp),y=_[0],k=_[1],g=_[2];if(y&&Zr(y)){var C=i.counters.getCounterValues(y.value),B=g&&Zr(g)?GS.parse(i.context,g.value):3,I=k&&k.type===0?k.value:"",S=C.map(function(N){return q0(N,B,!1)}).join(I);d.appendChild(l.createTextNode(S))}}}else if(h.type===20)switch(h.value){case"open-quote":d.appendChild(l.createTextNode(DO(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":d.appendChild(l.createTextNode(DO(c.quotes,--i.quoteDepth,!1)));break;default:d.appendChild(l.createTextNode(h.value))}}),d.className=tB+" "+rB;var u=a===A0.BEFORE?" "+tB:" "+rB;return db(r)?r.className.baseValue+=u:r.className+=u,d}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),A0;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(A0||(A0={}));var Kpe=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(Wq,"true"),t.body.appendChild(r),r},Wpe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Gpe=function(t){return Promise.all([].slice.call(t.images,0).map(Wpe))},Xpe=function(t){return new Promise(function(e,r){var s=t.contentWindow;if(!s)return r("No window assigned for iframe");var a=s.document;s.onload=t.onload=function(){s.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},Ype=["all","d","content"],AN=function(t,e){for(var r=t.length-1;r>=0;r--){var s=t.item(r);Ype.indexOf(s)===-1&&e.style.setProperty(s,t.getPropertyValue(s))}return e},Jpe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Zpe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},ege=function(t){var e=t[0],r=t[1],s=t[2];e.scrollLeft=r,e.scrollTop=s},tge=":before",rge=":after",tB="___html2canvas___pseudoelement_before",rB="___html2canvas___pseudoelement_after",oI=`{
    content: "" !important;
    display: none !important;
}`,nge=function(t){sge(t,"."+tB+tge+oI+`
         .`+rB+rge+oI)},sge=function(t,e){var r=t.ownerDocument;if(r){var s=r.createElement("style");s.textContent=e,t.appendChild(s)}},Gq=(function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),age=(function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(mN(e)||cge(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ei(this,void 0,void 0,function(){var r,s,a,i,o=this;return Ea(this,function(l){switch(l.label){case 0:return r=Gq.isSameOrigin(e),s=!fN(e)&&this._options.useCORS===!0&&oa.SUPPORT_CORS_IMAGES&&!r,a=!fN(e)&&!r&&!mN(e)&&typeof this._options.proxy=="string"&&oa.SUPPORT_CORS_XHR&&!s,!r&&this._options.allowTaint===!1&&!fN(e)&&!mN(e)&&!a&&!s?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,d){var u=new Image;u.onload=function(){return c(u)},u.onerror=d,(dge(i)||s)&&(u.crossOrigin="anonymous"),u.src=i,u.complete===!0&&setTimeout(function(){return c(u)},500),o._options.imageTimeout>0&&setTimeout(function(){return d("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=oa.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var h=new FileReader;h.addEventListener("load",function(){return i(h.result)},!1),h.addEventListener("error",function(f){return o(f)},!1),h.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var d=s.indexOf("?")>-1?"&":"?";if(c.open("GET",""+s+d+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var u=r._options.imageTimeout;c.timeout=u,c.ontimeout=function(){return o("Timed out ("+u+"ms) proxying "+a)}}c.send()})},t})(),ige=/^data:image\/svg\+xml/i,oge=/^data:image\/.*;base64,/i,lge=/^data:image\/.*/i,cge=function(t){return oa.SUPPORT_SVG_DRAWING||!uge(t)},fN=function(t){return lge.test(t)},dge=function(t){return oge.test(t)},mN=function(t){return t.substr(0,4)==="blob"},uge=function(t){return t.substr(-3).toLowerCase()==="svg"||ige.test(t)},Nt=(function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t})(),cm=function(t,e,r){return new Nt(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},yv=(function(){function t(e,r,s,a){this.type=1,this.start=e,this.startControl=r,this.endControl=s,this.end=a}return t.prototype.subdivide=function(e,r){var s=cm(this.start,this.startControl,e),a=cm(this.startControl,this.endControl,e),i=cm(this.endControl,this.end,e),o=cm(s,a,e),l=cm(a,i,e),c=cm(o,l,e);return r?new t(this.start,s,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),Po=function(t){return t.type===1},hge=(function(){function t(e){var r=e.styles,s=e.bounds,a=Hg(r.borderTopLeftRadius,s.width,s.height),i=a[0],o=a[1],l=Hg(r.borderTopRightRadius,s.width,s.height),c=l[0],d=l[1],u=Hg(r.borderBottomRightRadius,s.width,s.height),h=u[0],f=u[1],p=Hg(r.borderBottomLeftRadius,s.width,s.height),v=p[0],y=p[1],g=[];g.push((i+c)/s.width),g.push((v+h)/s.width),g.push((o+y)/s.height),g.push((d+f)/s.height);var x=Math.max.apply(Math,g);x>1&&(i/=x,o/=x,c/=x,d/=x,h/=x,f/=x,v/=x,y/=x);var w=s.width-c,_=s.height-f,k=s.width-h,C=s.height-y,B=r.borderTopWidth,I=r.borderRightWidth,S=r.borderBottomWidth,E=r.borderLeftWidth,D=dn(r.paddingTop,e.bounds.width),N=dn(r.paddingRight,e.bounds.width),T=dn(r.paddingBottom,e.bounds.width),Q=dn(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Pn(s.left+E/3,s.top+B/3,i-E/3,o-B/3,Hr.TOP_LEFT):new Nt(s.left+E/3,s.top+B/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Pn(s.left+w,s.top+B/3,c-I/3,d-B/3,Hr.TOP_RIGHT):new Nt(s.left+s.width-I/3,s.top+B/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?Pn(s.left+k,s.top+_,h-I/3,f-S/3,Hr.BOTTOM_RIGHT):new Nt(s.left+s.width-I/3,s.top+s.height-S/3),this.bottomLeftBorderDoubleOuterBox=v>0||y>0?Pn(s.left+E/3,s.top+C,v-E/3,y-S/3,Hr.BOTTOM_LEFT):new Nt(s.left+E/3,s.top+s.height-S/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Pn(s.left+E*2/3,s.top+B*2/3,i-E*2/3,o-B*2/3,Hr.TOP_LEFT):new Nt(s.left+E*2/3,s.top+B*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Pn(s.left+w,s.top+B*2/3,c-I*2/3,d-B*2/3,Hr.TOP_RIGHT):new Nt(s.left+s.width-I*2/3,s.top+B*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?Pn(s.left+k,s.top+_,h-I*2/3,f-S*2/3,Hr.BOTTOM_RIGHT):new Nt(s.left+s.width-I*2/3,s.top+s.height-S*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||y>0?Pn(s.left+E*2/3,s.top+C,v-E*2/3,y-S*2/3,Hr.BOTTOM_LEFT):new Nt(s.left+E*2/3,s.top+s.height-S*2/3),this.topLeftBorderStroke=i>0||o>0?Pn(s.left+E/2,s.top+B/2,i-E/2,o-B/2,Hr.TOP_LEFT):new Nt(s.left+E/2,s.top+B/2),this.topRightBorderStroke=i>0||o>0?Pn(s.left+w,s.top+B/2,c-I/2,d-B/2,Hr.TOP_RIGHT):new Nt(s.left+s.width-I/2,s.top+B/2),this.bottomRightBorderStroke=h>0||f>0?Pn(s.left+k,s.top+_,h-I/2,f-S/2,Hr.BOTTOM_RIGHT):new Nt(s.left+s.width-I/2,s.top+s.height-S/2),this.bottomLeftBorderStroke=v>0||y>0?Pn(s.left+E/2,s.top+C,v-E/2,y-S/2,Hr.BOTTOM_LEFT):new Nt(s.left+E/2,s.top+s.height-S/2),this.topLeftBorderBox=i>0||o>0?Pn(s.left,s.top,i,o,Hr.TOP_LEFT):new Nt(s.left,s.top),this.topRightBorderBox=c>0||d>0?Pn(s.left+w,s.top,c,d,Hr.TOP_RIGHT):new Nt(s.left+s.width,s.top),this.bottomRightBorderBox=h>0||f>0?Pn(s.left+k,s.top+_,h,f,Hr.BOTTOM_RIGHT):new Nt(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=v>0||y>0?Pn(s.left,s.top+C,v,y,Hr.BOTTOM_LEFT):new Nt(s.left,s.top+s.height),this.topLeftPaddingBox=i>0||o>0?Pn(s.left+E,s.top+B,Math.max(0,i-E),Math.max(0,o-B),Hr.TOP_LEFT):new Nt(s.left+E,s.top+B),this.topRightPaddingBox=c>0||d>0?Pn(s.left+Math.min(w,s.width-I),s.top+B,w>s.width+I?0:Math.max(0,c-I),Math.max(0,d-B),Hr.TOP_RIGHT):new Nt(s.left+s.width-I,s.top+B),this.bottomRightPaddingBox=h>0||f>0?Pn(s.left+Math.min(k,s.width-E),s.top+Math.min(_,s.height-S),Math.max(0,h-I),Math.max(0,f-S),Hr.BOTTOM_RIGHT):new Nt(s.left+s.width-I,s.top+s.height-S),this.bottomLeftPaddingBox=v>0||y>0?Pn(s.left+E,s.top+Math.min(C,s.height-S),Math.max(0,v-E),Math.max(0,y-S),Hr.BOTTOM_LEFT):new Nt(s.left+E,s.top+s.height-S),this.topLeftContentBox=i>0||o>0?Pn(s.left+E+Q,s.top+B+D,Math.max(0,i-(E+Q)),Math.max(0,o-(B+D)),Hr.TOP_LEFT):new Nt(s.left+E+Q,s.top+B+D),this.topRightContentBox=c>0||d>0?Pn(s.left+Math.min(w,s.width+E+Q),s.top+B+D,w>s.width+E+Q?0:c-E+Q,d-(B+D),Hr.TOP_RIGHT):new Nt(s.left+s.width-(I+N),s.top+B+D),this.bottomRightContentBox=h>0||f>0?Pn(s.left+Math.min(k,s.width-(E+Q)),s.top+Math.min(_,s.height+B+D),Math.max(0,h-(I+N)),f-(S+T),Hr.BOTTOM_RIGHT):new Nt(s.left+s.width-(I+N),s.top+s.height-(S+T)),this.bottomLeftContentBox=v>0||y>0?Pn(s.left+E+Q,s.top+C,Math.max(0,v-(E+Q)),y-(S+T),Hr.BOTTOM_LEFT):new Nt(s.left+E+Q,s.top+s.height-(S+T))}return t})(),Hr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Hr||(Hr={}));var Pn=function(t,e,r,s,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=s*i,c=t+r,d=e+s;switch(a){case Hr.TOP_LEFT:return new yv(new Nt(t,d),new Nt(t,d-l),new Nt(c-o,e),new Nt(c,e));case Hr.TOP_RIGHT:return new yv(new Nt(t,e),new Nt(t+o,e),new Nt(c,d-l),new Nt(c,d));case Hr.BOTTOM_RIGHT:return new yv(new Nt(c,e),new Nt(c,e+l),new Nt(t+o,d),new Nt(t,d));case Hr.BOTTOM_LEFT:default:return new yv(new Nt(c,d),new Nt(c-o,d),new Nt(t,e+l),new Nt(t,e))}},Hb=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},Age=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},$b=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},fge=(function(){function t(e,r,s){this.offsetX=e,this.offsetY=r,this.matrix=s,this.type=0,this.target=6}return t})(),vv=(function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t})(),mge=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),pge=function(t){return t.type===0},Xq=function(t){return t.type===1},gge=function(t){return t.type===2},lI=function(t,e){return t.length===e.length?t.some(function(r,s){return r===e[s]}):!1},xge=function(t,e,r,s,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+s,r);case 2:return i.add(e+s,r+a);case 3:return i.add(e,r+a)}return i})},Yq=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),Jq=(function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new hge(this.container),this.container.styles.opacity<1&&this.effects.push(new mge(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new fge(s,a,i))}if(this.container.styles.overflowX!==0){var o=Hb(this.curves),l=$b(this.curves);lI(o,l)?this.effects.push(new vv(o,6)):(this.effects.push(new vv(o,2)),this.effects.push(new vv(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,a=this.effects.slice(0);s;){var i=s.effects.filter(function(c){return!Xq(c)});if(r||s.container.styles.position!==0||!s.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var o=Hb(s.curves),l=$b(s.curves);lI(o,l)||a.unshift(new vv(l,6))}}else a.unshift.apply(a,i);s=s.parent}return a.filter(function(c){return ks(c.target,e)})},t})(),nB=function(t,e,r,s){t.container.elements.forEach(function(a){var i=ks(a.flags,4),o=ks(a.flags,2),l=new Jq(a,t);ks(a.styles.display,2048)&&s.push(l);var c=ks(a.flags,8)?[]:s;if(i||o){var d=i||a.styles.isPositioned()?r:e,u=new Yq(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var h=a.styles.zIndex.order;if(h<0){var f=0;d.negativeZIndex.some(function(v,y){return h>v.element.container.styles.zIndex.order?(f=y,!1):f>0}),d.negativeZIndex.splice(f,0,u)}else if(h>0){var p=0;d.positiveZIndex.some(function(v,y){return h>=v.element.container.styles.zIndex.order?(p=y+1,!1):p>0}),d.positiveZIndex.splice(p,0,u)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else a.styles.isFloating()?d.nonPositionedFloats.push(u):d.nonPositionedInlineLevel.push(u);nB(l,u,i?u:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),nB(l,e,r,c);ks(a.flags,8)&&Zq(a,c)})},Zq=function(t,e){for(var r=t instanceof JS?t.start:1,s=t instanceof JS?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof Dq&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=q0(r,i.container.styles.listStyleType,!0),r+=s?-1:1}},yge=function(t){var e=new Jq(t,null),r=new Yq(e),s=[];return nB(e,r,r,s),Zq(e.container,s),r},cI=function(t,e){switch(e){case 0:return Do(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Do(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Do(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Do(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},vge=function(t,e){switch(e){case 0:return Do(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Do(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Do(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Do(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},bge=function(t,e){switch(e){case 0:return Do(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Do(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Do(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Do(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},wge=function(t,e){switch(e){case 0:return bv(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return bv(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return bv(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return bv(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},bv=function(t,e){var r=[];return Po(t)?r.push(t.subdivide(.5,!1)):r.push(t),Po(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Do=function(t,e,r,s){var a=[];return Po(t)?a.push(t.subdivide(.5,!1)):a.push(t),Po(r)?a.push(r.subdivide(.5,!0)):a.push(r),Po(s)?a.push(s.subdivide(.5,!0).reverse()):a.push(s),Po(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},ez=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},qb=function(t){var e=t.styles,r=t.bounds,s=dn(e.paddingLeft,r.width),a=dn(e.paddingRight,r.width),i=dn(e.paddingTop,r.width),o=dn(e.paddingBottom,r.width);return r.add(s+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+s+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},jge=function(t,e){return t===0?e.bounds:t===2?qb(e):ez(e)},Nge=function(t,e){return t===0?e.bounds:t===2?qb(e):ez(e)},pN=function(t,e,r){var s=jge(bm(t.styles.backgroundOrigin,e),t),a=Nge(bm(t.styles.backgroundClip,e),t),i=_ge(bm(t.styles.backgroundSize,e),r,s),o=i[0],l=i[1],c=Hg(bm(t.styles.backgroundPosition,e),s.width-o,s.height-l),d=Cge(bm(t.styles.backgroundRepeat,e),c,i,s,a),u=Math.round(s.left+c[0]),h=Math.round(s.top+c[1]);return[d,u,h,o,l]},dm=function(t){return Zr(t)&&t.value===Vm.AUTO},wv=function(t){return typeof t=="number"},_ge=function(t,e,r){var s=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(ps(o)&&l&&ps(l))return[dn(o,r.width),dn(l,r.height)];var c=wv(i);if(Zr(o)&&(o.value===Vm.CONTAIN||o.value===Vm.COVER)){if(wv(i)){var d=r.width/r.height;return d<i!=(o.value===Vm.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var u=wv(s),h=wv(a),f=u||h;if(dm(o)&&(!l||dm(l))){if(u&&h)return[s,a];if(!c&&!f)return[r.width,r.height];if(f&&c){var p=u?s:a*i,v=h?a:s/i;return[p,v]}var y=u?s:r.width,g=h?a:r.height;return[y,g]}if(c){var x=0,w=0;return ps(o)?x=dn(o,r.width):ps(l)&&(w=dn(l,r.height)),dm(o)?x=w*i:(!l||dm(l))&&(w=x/i),[x,w]}var _=null,k=null;if(ps(o)?_=dn(o,r.width):l&&ps(l)&&(k=dn(l,r.height)),_!==null&&(!l||dm(l))&&(k=u&&h?_/s*a:r.height),k!==null&&dm(o)&&(_=u&&h?k/a*s:r.width),_!==null&&k!==null)return[_,k];throw new Error("Unable to calculate background-size for element")},bm=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},Cge=function(t,e,r,s,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Nt(Math.round(s.left),Math.round(s.top+o)),new Nt(Math.round(s.left+s.width),Math.round(s.top+o)),new Nt(Math.round(s.left+s.width),Math.round(c+s.top+o)),new Nt(Math.round(s.left),Math.round(c+s.top+o))];case 3:return[new Nt(Math.round(s.left+i),Math.round(s.top)),new Nt(Math.round(s.left+i+l),Math.round(s.top)),new Nt(Math.round(s.left+i+l),Math.round(s.height+s.top)),new Nt(Math.round(s.left+i),Math.round(s.height+s.top))];case 1:return[new Nt(Math.round(s.left+i),Math.round(s.top+o)),new Nt(Math.round(s.left+i+l),Math.round(s.top+o)),new Nt(Math.round(s.left+i+l),Math.round(s.top+o+c)),new Nt(Math.round(s.left+i),Math.round(s.top+o+c))];default:return[new Nt(Math.round(a.left),Math.round(a.top)),new Nt(Math.round(a.left+a.width),Math.round(a.top)),new Nt(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Nt(Math.round(a.left),Math.round(a.height+a.top))]}},Sge="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dI="Hidden Text",Bge=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var s=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;s.style.visibility="hidden",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",o.appendChild(s),a.src=Sge,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(dI)),s.appendChild(i),s.appendChild(a);var l=a.offsetTop-i.offsetTop+2;s.removeChild(i),s.appendChild(this._document.createTextNode(dI)),s.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-s.offsetTop+2;return o.removeChild(s),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var s=e+" "+r;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(e,r)),this._data[s]},t})(),tz=(function(){function t(e,r){this.context=e,this.options=r}return t})(),Ege=1e4,kge=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a._activeEffects=[],a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),s.canvas||(a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px"),a.fontMetrics=new Bge(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),a}return e.prototype.applyEffects=function(r){for(var s=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return s.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),gge(r)&&(this.ctx.globalAlpha=r.opacity),pge(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Xq(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ei(this,void 0,void 0,function(){var s;return Ea(this,function(a){switch(a.label){case 0:return s=r.element.container.styles,s.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ei(this,void 0,void 0,function(){return Ea(this,function(s){switch(s.label){case 0:if(ks(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(r)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,s,a){var i=this;if(s===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=LE(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var s=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Ige(r.fontFamily).join(", "),i=$x(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,s,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,s){return ei(this,void 0,void 0,function(){var a,i,o,l,c,d,u,h,f=this;return Ea(this,function(p){return a=this.createFontStyle(s),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),d=c.baseline,u=c.middle,h=s.paintOrder,r.textBounds.forEach(function(v){h.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=zs(s.color),f.renderTextWithLetterSpacing(v,s.letterSpacing,d);var g=s.textShadow;g.length&&v.text.trim().length&&(g.slice(0).reverse().forEach(function(x){f.ctx.shadowColor=zs(x.color),f.ctx.shadowOffsetX=x.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=x.offsetY.number*f.options.scale,f.ctx.shadowBlur=x.blur.number,f.renderTextWithLetterSpacing(v,s.letterSpacing,d)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),s.textDecorationLine.length&&(f.ctx.fillStyle=zs(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(x){switch(x){case 1:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+d),v.bounds.width,1);break;case 2:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:f.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+u),v.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&v.text.trim().length&&(f.ctx.strokeStyle=zs(s.webkitTextStrokeColor),f.ctx.lineWidth=s.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+d)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,s,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=qb(r),o=$b(s);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ei(this,void 0,void 0,function(){var s,a,i,o,l,c,w,w,d,u,h,f,k,p,v,C,y,g,x,w,_,k,C;return Ea(this,function(B){switch(B.label){case 0:this.applyEffects(r.getEffects(4)),s=r.container,a=r.curves,i=s.styles,o=0,l=s.textNodes,B.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:B.sent(),B.label=3;case 3:return o++,[3,1];case 4:if(!(s instanceof Tq))return[3,8];B.label=5;case 5:return B.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return w=B.sent(),this.renderReplacedElement(s,a,w),[3,8];case 7:return B.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof Oq&&this.renderReplacedElement(s,a,s.canvas),!(s instanceof Iq))return[3,12];B.label=9;case 9:return B.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return w=B.sent(),this.renderReplacedElement(s,a,w),[3,12];case 11:return B.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof Uq&&s.tree?(d=new e(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,d.render(s.tree)]):[3,14];case 13:u=B.sent(),s.width&&s.height&&this.ctx.drawImage(u,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),B.label=14;case 14:if(s instanceof UE&&(h=Math.min(s.bounds.width,s.bounds.height),s.type===Lb?s.checked&&(this.ctx.save(),this.path([new Nt(s.bounds.left+h*.39363,s.bounds.top+h*.79),new Nt(s.bounds.left+h*.16,s.bounds.top+h*.5549),new Nt(s.bounds.left+h*.27347,s.bounds.top+h*.44071),new Nt(s.bounds.left+h*.39694,s.bounds.top+h*.5649),new Nt(s.bounds.left+h*.72983,s.bounds.top+h*.23),new Nt(s.bounds.left+h*.84,s.bounds.top+h*.34085),new Nt(s.bounds.left+h*.39363,s.bounds.top+h*.79)]),this.ctx.fillStyle=zs(YO),this.ctx.fill(),this.ctx.restore()):s.type===Ub&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+h/2,s.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=zs(YO),this.ctx.fill(),this.ctx.restore())),Pge(s)&&s.value.length){switch(f=this.createFontStyle(i),k=f[0],p=f[1],v=this.fontMetrics.getMetrics(k,p).baseline,this.ctx.font=k,this.ctx.fillStyle=zs(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Tge(s.styles.textAlign),C=qb(s),y=0,s.styles.textAlign){case 1:y+=C.width/2;break;case 2:y+=C.width;break}g=C.add(y,0,0,-C.height/2+1),this.ctx.save(),this.path([new Nt(C.left,C.top),new Nt(C.left+C.width,C.top),new Nt(C.left+C.width,C.top+C.height),new Nt(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new h0(s.value,g),i.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ks(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(x=s.styles.listStyleImage,x.type!==0)return[3,18];w=void 0,_=x.url,B.label=15;case 15:return B.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return w=B.sent(),this.ctx.drawImage(w,s.bounds.left-(w.width+10),s.bounds.top),[3,18];case 17:return B.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:r.listValue&&s.styles.listStyleType!==-1&&(k=this.createFontStyle(i)[0],this.ctx.font=k,this.ctx.fillStyle=zs(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new Td(s.bounds.left,s.bounds.top+dn(s.styles.paddingTop,s.bounds.width),s.bounds.width,OO(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new h0(r.listValue,C),i.letterSpacing,OO(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),B.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ei(this,void 0,void 0,function(){var s,a,x,i,o,x,l,c,x,d,u,x,h,f,x,p,v,x,y,g,x;return Ea(this,function(w){switch(w.label){case 0:if(ks(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:w.sent(),s=0,a=r.negativeZIndex,w.label=2;case 2:return s<a.length?(x=a[s],[4,this.renderStack(x)]):[3,5];case 3:w.sent(),w.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:w.sent(),i=0,o=r.nonInlineLevel,w.label=7;case 7:return i<o.length?(x=o[i],[4,this.renderNode(x)]):[3,10];case 8:w.sent(),w.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,w.label=11;case 11:return l<c.length?(x=c[l],[4,this.renderStack(x)]):[3,14];case 12:w.sent(),w.label=13;case 13:return l++,[3,11];case 14:d=0,u=r.nonPositionedInlineLevel,w.label=15;case 15:return d<u.length?(x=u[d],[4,this.renderStack(x)]):[3,18];case 16:w.sent(),w.label=17;case 17:return d++,[3,15];case 18:h=0,f=r.inlineLevel,w.label=19;case 19:return h<f.length?(x=f[h],[4,this.renderNode(x)]):[3,22];case 20:w.sent(),w.label=21;case 21:return h++,[3,19];case 22:p=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return p<v.length?(x=v[p],[4,this.renderStack(x)]):[3,26];case 24:w.sent(),w.label=25;case 25:return p++,[3,23];case 26:y=0,g=r.positiveZIndex,w.label=27;case 27:return y<g.length?(x=g[y],[4,this.renderStack(x)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var s=this;r.forEach(function(a,i){var o=Po(a)?a.start:a;i===0?s.ctx.moveTo(o.x,o.y):s.ctx.lineTo(o.x,o.y),Po(a)&&s.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,s,a,i){this.path(r),this.ctx.fillStyle=s,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,s,a){var i;if(r.width===s&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,s),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,s,a),l},e.prototype.renderBackgroundImage=function(r){return ei(this,void 0,void 0,function(){var s,a,i,o,l,c;return Ea(this,function(d){switch(d.label){case 0:s=r.styles.backgroundImage.length-1,a=function(u){var h,f,p,D,z,ee,Q,U,S,v,D,z,ee,Q,U,y,g,x,w,_,k,C,B,I,S,E,D,N,T,Q,U,K,z,ee,G,q,re,Z,$,L,Y,X;return Ea(this,function(Ae){switch(Ae.label){case 0:if(u.type!==0)return[3,5];h=void 0,f=u.url,Ae.label=1;case 1:return Ae.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return h=Ae.sent(),[3,4];case 3:return Ae.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(p=pN(r,s,[h.width,h.height,h.width/h.height]),D=p[0],z=p[1],ee=p[2],Q=p[3],U=p[4],S=i.ctx.createPattern(i.resizeImage(h,Q,U),"repeat"),i.renderRepeat(D,S,z,ee)),[3,6];case 5:pfe(u)?(v=pN(r,s,[null,null,null]),D=v[0],z=v[1],ee=v[2],Q=v[3],U=v[4],y=ufe(u.angle,Q,U),g=y[0],x=y[1],w=y[2],_=y[3],k=y[4],C=document.createElement("canvas"),C.width=Q,C.height=U,B=C.getContext("2d"),I=B.createLinearGradient(x,_,w,k),FO(u.stops,g).forEach(function(fe){return I.addColorStop(fe.stop,zs(fe.color))}),B.fillStyle=I,B.fillRect(0,0,Q,U),Q>0&&U>0&&(S=i.ctx.createPattern(C,"repeat"),i.renderRepeat(D,S,z,ee))):gfe(u)&&(E=pN(r,s,[null,null,null]),D=E[0],N=E[1],T=E[2],Q=E[3],U=E[4],K=u.position.length===0?[IE]:u.position,z=dn(K[0],Q),ee=dn(K[K.length-1],U),G=hfe(u,z,ee,Q,U),q=G[0],re=G[1],q>0&&re>0&&(Z=i.ctx.createRadialGradient(N+z,T+ee,0,N+z,T+ee,q),FO(u.stops,q*2).forEach(function(fe){return Z.addColorStop(fe.stop,zs(fe.color))}),i.path(D),i.ctx.fillStyle=Z,q!==re?($=r.bounds.left+.5*r.bounds.width,L=r.bounds.top+.5*r.bounds.height,Y=re/q,X=1/Y,i.ctx.save(),i.ctx.translate($,L),i.ctx.transform(1,0,0,Y,0,0),i.ctx.translate(-$,-L),i.ctx.fillRect(N,X*(T-L)+L,Q,U*X),i.ctx.restore()):i.ctx.fill())),Ae.label=6;case 6:return s--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),d.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:d.sent(),d.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,s,a){return ei(this,void 0,void 0,function(){return Ea(this,function(i){return this.path(cI(a,s)),this.ctx.fillStyle=zs(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,s,a,i){return ei(this,void 0,void 0,function(){var o,l;return Ea(this,function(c){switch(c.label){case 0:return s<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=vge(i,a),this.path(o),this.ctx.fillStyle=zs(r),this.ctx.fill(),l=bge(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ei(this,void 0,void 0,function(){var s,a,i,o,l,c,d,u,h=this;return Ea(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),s=r.container.styles,a=!lh(s.backgroundColor)||s.backgroundImage.length,i=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],o=Fge(bm(s.backgroundClip,0),r.curves),a||s.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),lh(s.backgroundColor)||(this.ctx.fillStyle=zs(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(p){h.ctx.save();var v=Hb(r.curves),y=p.inset?0:Ege,g=xge(v,-y+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(h.path(v),h.ctx.clip(),h.mask(g)):(h.mask(v),h.ctx.clip(),h.path(g)),h.ctx.shadowOffsetX=p.offsetX.number+y,h.ctx.shadowOffsetY=p.offsetY.number,h.ctx.shadowColor=zs(p.color),h.ctx.shadowBlur=p.blur.number,h.ctx.fillStyle=p.inset?zs(p.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:l=0,c=0,d=i,f.label=3;case 3:return c<d.length?(u=d[c],u.style!==0&&!lh(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,l,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,l,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,l,r.curves)];case 10:f.sent(),f.label=11;case 11:l++,f.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,s,a,i,o){return ei(this,void 0,void 0,function(){var l,c,d,u,h,f,p,v,y,g,x,w,_,k,C,B,C,B;return Ea(this,function(I){return this.ctx.save(),l=wge(i,a),c=cI(i,a),o===2&&(this.path(c),this.ctx.clip()),Po(c[0])?(d=c[0].start.x,u=c[0].start.y):(d=c[0].x,u=c[0].y),Po(c[1])?(h=c[1].end.x,f=c[1].end.y):(h=c[1].x,f=c[1].y),a===0||a===2?p=Math.abs(d-h):p=Math.abs(u-f),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),v=s<3?s*3:s*2,y=s<3?s*2:s,o===3&&(v=s,y=s),g=!0,p<=v*2?g=!1:p<=v*2+y?(x=p/(2*v+y),v*=x,y*=x):(w=Math.floor((p+y)/(v+y)),_=(p-w*v)/(w-1),k=(p-(w+1)*v)/w,y=k<=0||Math.abs(y-_)<Math.abs(y-k)?_:k),g&&(o===3?this.ctx.setLineDash([0,v+y]):this.ctx.setLineDash([v,y])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=zs(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Po(c[0])&&(C=c[3],B=c[0],this.ctx.beginPath(),this.formatPath([new Nt(C.end.x,C.end.y),new Nt(B.start.x,B.start.y)]),this.ctx.stroke()),Po(c[1])&&(C=c[1],B=c[2],this.ctx.beginPath(),this.formatPath([new Nt(C.end.x,C.end.y),new Nt(B.start.x,B.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ei(this,void 0,void 0,function(){var s;return Ea(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=zs(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=yge(r),[4,this.renderStack(s)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(tz),Pge=function(t){return t instanceof Lq||t instanceof Mq?!0:t instanceof UE&&t.type!==Ub&&t.type!==Lb},Fge=function(t,e){switch(t){case 0:return Hb(e);case 2:return Age(e);case 1:default:return $b(e)}},Tge=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Oge=["-apple-system","system-ui"],Ige=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Oge.indexOf(e)===-1}):t},Dge=(function(t){El(e,t);function e(r,s){var a=t.call(this,r,s)||this;return a.canvas=s.canvas?s.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=s,a.canvas.width=Math.floor(s.width*s.scale),a.canvas.height=Math.floor(s.height*s.scale),a.canvas.style.width=s.width+"px",a.canvas.style.height=s.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-s.x,-s.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),a}return e.prototype.render=function(r){return ei(this,void 0,void 0,function(){var s,a;return Ea(this,function(i){switch(i.label){case 0:return s=YS(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Mge(s)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=zs(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(tz),Mge=function(t){return new Promise(function(e,r){var s=new Image;s.onload=function(){e(s)},s.onerror=r,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Lge=(function(){function t(e){var r=e.id,s=e.enabled;this.id=r,this.enabled=s,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ev([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ev([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ev([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ev([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),Uge=(function(){function t(e,r){var s;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Lge({id:this.instanceName,enabled:e.logging}),this.cache=(s=e.cache)!==null&&s!==void 0?s:new age(this,e)}return t.instanceCount=1,t})(),QE=function(t,e){return e===void 0&&(e={}),Rge(t,e)};typeof window<"u"&&Gq.setContext(window);var Rge=function(t,e){return ei(void 0,void 0,void 0,function(){var r,s,a,i,o,l,c,d,u,h,f,p,v,y,g,x,w,_,k,C,I,B,I,S,E,D,N,T,Q,U,K,z,ee,G,q,re,Z,$,L,Y;return Ea(this,function(X){switch(X.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(s=r.defaultView,!s)throw new Error("Document is not attached to a Window");return a={allowTaint:(S=e.allowTaint)!==null&&S!==void 0?S:!1,imageTimeout:(E=e.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:e.proxy,useCORS:(D=e.useCORS)!==null&&D!==void 0?D:!1},i=DS({logging:(N=e.logging)!==null&&N!==void 0?N:!0,cache:e.cache},a),o={windowWidth:(T=e.windowWidth)!==null&&T!==void 0?T:s.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:s.innerHeight,scrollX:(U=e.scrollX)!==null&&U!==void 0?U:s.pageXOffset,scrollY:(K=e.scrollY)!==null&&K!==void 0?K:s.pageYOffset},l=new Td(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Uge(i,l),d=(z=e.foreignObjectRendering)!==null&&z!==void 0?z:!1,u={allowTaint:(ee=e.allowTaint)!==null&&ee!==void 0?ee:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:d,copyStyles:d},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),h=new iI(c,t,u),f=h.clonedReferenceElement,f?[4,h.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=X.sent(),v=RE(f)||Hpe(f)?xhe(f.ownerDocument):d1(c,f),y=v.width,g=v.height,x=v.left,w=v.top,_=Qge(c,f,e.backgroundColor),k={canvas:e.canvas,backgroundColor:_,scale:(q=(G=e.scale)!==null&&G!==void 0?G:s.devicePixelRatio)!==null&&q!==void 0?q:1,x:((re=e.x)!==null&&re!==void 0?re:0)+x,y:((Z=e.y)!==null&&Z!==void 0?Z:0)+w,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(y),height:(L=e.height)!==null&&L!==void 0?L:Math.ceil(g)},d?(c.logger.debug("Document cloned, using foreign object rendering"),I=new Dge(c,k),[4,I.render(f)]):[3,3];case 2:return C=X.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+x+","+w+" with size "+y+"x"+g+" using computed rendering"),c.logger.debug("Starting DOM parsing"),B=Qq(c,f),_===B.styles.backgroundColor&&(B.styles.backgroundColor=wd.TRANSPARENT),c.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),I=new kge(c,k),[4,I.render(B)];case 4:C=X.sent(),X.label=5;case 5:return(!((Y=e.removeContainer)!==null&&Y!==void 0)||Y)&&(iI.destroy(p)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,C]}})})},Qge=function(t,e,r){var s=e.ownerDocument,a=s.documentElement?d0(t,getComputedStyle(s.documentElement).backgroundColor):wd.TRANSPARENT,i=s.body?d0(t,getComputedStyle(s.body).backgroundColor):wd.TRANSPARENT,o=typeof r=="string"?d0(t,r):r===null?wd.TRANSPARENT:4294967295;return e===s.documentElement?lh(a)?lh(i)?o:i:a:o};const Hge=Object.freeze(Object.defineProperty({__proto__:null,default:QE},Symbol.toStringTag,{value:"Module"})),$ge=()=>{const{isAdmin:t}=On(),e=ui(),[r,s]=O.useState(""),[a,i]=O.useState("all"),[o,l]=O.useState(!1),[c,d]=O.useState(!1),[u,h]=O.useState(null),[f,p]=O.useState(null),[v,y]=O.useState(!1),[g,x]=O.useState(!1),[w,_]=O.useState(0),[k,C]=O.useState([]),[B,I]=O.useState(!0),[S,E]=O.useState(null),D=O.useRef(null),[N,T]=O.useState({name:"",category:"",quantity:0,min_stock:0,unit:"un",cost:0,price:0,supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""});O.useEffect(()=>{Q()},[]);const Q=async()=>{try{I(!0);const X=await sle();C(X||[]),E(null)}catch(X){console.error("Error loading inventory items:",X),E("Erro ao carregar itens do estoque"),C([])}finally{I(!1)}},U=["all",...Array.from(new Set(k.map(X=>X.category)))],K=k.filter(X=>{const Ae=X.name.toLowerCase().includes(r.toLowerCase())||X.supplier.toLowerCase().includes(r.toLowerCase())||X.sku&&X.sku.toLowerCase().includes(r.toLowerCase()),fe=a==="all"||X.category===a;return Ae&&fe}),z=X=>{switch(G(X.quantity,X.min_stock)){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ee=X=>{switch(G(X.quantity,X.min_stock)){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},G=(X,Ae)=>X===0?"out_of_stock":X<Ae?"low_stock":"in_stock",q={total:k.length,inStock:k.filter(X=>G(X.quantity,X.min_stock)==="in_stock").length,lowStock:k.filter(X=>G(X.quantity,X.min_stock)==="low_stock").length,outOfStock:k.filter(X=>G(X.quantity,X.min_stock)==="out_of_stock").length,totalValue:k.reduce((X,Ae)=>X+Ae.quantity*Ae.price,0)},re=async()=>{if(!N.name||!N.category||!N.supplier){alert("Por favor, preencha todos os campos obrigatrios");return}try{const X={name:N.name,category:N.category,quantity:N.quantity,min_stock:N.min_stock,price:N.price,supplier:N.supplier,description:N.description,sku:N.sku,location:N.location},Ae=await nle(X);C([...k,Ae]),T({name:"",category:"",quantity:0,min_stock:0,price:0,cost:0,unit:"un",supplier:"",description:"",sku:"",location:"",created_at:"",updated_at:""}),l(!1),alert("Item adicionado com sucesso!")}catch(X){console.error("Error creating item:",X);let Ae="Erro ao adicionar item";X?.message?.includes("duplicate key")||X?.message?.includes("already exists")?Ae="J existe um item com este cdigo/SKU. Por favor, use um cdigo diferente ou deixe em branco para gerar automaticamente.":X?.message&&(Ae=`Erro: ${X.message}`),alert(Ae)}},Z=async()=>{if(u)try{const X={name:u.name,category:u.category,quantity:u.quantity,min_stock:u.min_stock,price:u.price,supplier:u.supplier,description:u.description,sku:u.sku,location:u.location},Ae=await ale(u.id,X);C(k.map(fe=>fe.id===Ae.id?Ae:fe)),d(!1),h(null),alert("Item atualizado com sucesso!")}catch(X){console.error("Error updating item:",X),alert("Erro ao atualizar item")}},$=async X=>{try{await ile(X),C(k.filter(Ae=>Ae.id!==X)),p(null),h(null),alert("Item excludo com sucesso!")}catch(Ae){console.error("Error deleting item:",Ae),alert("Erro ao excluir item")}},L=X=>{T({name:`${X.name} (Cpia)`,category:X.category,quantity:0,min_stock:X.min_stock,unit:X.unit,cost:X.cost,price:X.price,supplier:X.supplier,description:X.description,sku:X.sku?`${X.sku}-COPIA`:"",location:X.location,created_at:"",updated_at:""}),l(!0)},Y=async()=>{if(D.current){y(!0),x(!0),_(10);try{const X=setInterval(()=>{_(xe=>xe>=90?(clearInterval(X),90):xe+10)},300),Ae=await QE(D.current,{scale:1,useCORS:!0,logging:!1});_(95);const fe=Ae.toDataURL("image/png"),de=new Rt({orientation:"portrait",unit:"mm",format:"a4"});de.setFillColor(59,130,246),de.rect(0,0,de.internal.pageSize.width,20,"F"),de.setTextColor(255,255,255),de.setFontSize(14),de.text("Relatrio de Estoque - GiarTech",10,10),de.setFontSize(10),de.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const me=de.internal.pageSize.width,Ce=Ae.height*me/Ae.width;de.addImage(fe,"PNG",0,25,me,Ce),de.save("relatorio-estoque.pdf"),_(100),setTimeout(()=>{y(!1),x(!1),_(0)},1e3)}catch(X){console.error("Error generating PDF:",X),y(!1),x(!1),alert("Error generating PDF. Please try again.")}}};return n.jsxs("div",{className:"space-y-6",ref:D,children:[S&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:S})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Estoque"}),n.jsxs("div",{className:"flex gap-3",children:[q.lowStock>0&&n.jsxs("button",{onClick:()=>e("/purchasing"),className:"bg-gradient-to-r from-red-500 to-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all animate-pulse",children:[n.jsx(Un,{className:"h-4 w-4"}),n.jsxs("span",{children:[q.lowStock," ",q.lowStock===1?"Item":"Itens"," Necessitando Compra"]}),n.jsx(Sm,{className:"h-4 w-4"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Item"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[{label:"Total de Itens",value:q.total,color:"from-blue-500 to-cyan-500",icon:qt},{label:"Em Estoque",value:q.inStock,color:"from-green-500 to-emerald-500",icon:qr},{label:"Estoque Baixo",value:q.lowStock,color:"from-yellow-500 to-orange-500",icon:Un},{label:"Sem Estoque",value:q.outOfStock,color:"from-red-500 to-pink-500",icon:cc},{label:"Valor Total",value:`R$ ${q.totalValue.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,color:"from-purple-500 to-indigo-500",icon:qt,adminOnly:!0}].filter(X=>!X.adminOnly||X.adminOnly&&t).map((X,Ae)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ae*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${X.color} rounded-lg flex items-center justify-center`,children:n.jsx(X.icon,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:X.value}),n.jsx("p",{className:"text-sm text-gray-600",children:X.label})]},X.label))}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 md:items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 flex-grow",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, fornecedor ou SKU...",value:r,onChange:X=>s(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sf,{className:"h-5 w-5 text-gray-400"}),n.jsx("select",{value:a,onChange:X=>i(X.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:U.map(X=>n.jsx("option",{value:X,children:X==="all"?"Todas as Categorias":X},X))})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:Y,className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(Et,{className:"h-4 w-4"}),n.jsx("span",{children:"Relatrio"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors flex items-center space-x-1",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Item"})]})]})]})}),B?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando estoque..."})]}):n.jsx("div",{className:"space-y-4",children:K.length>0?K.map((X,Ae)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ae*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${G(X.quantity,X.min_stock)==="in_stock"?"bg-green-100 text-green-600":G(X.quantity,X.min_stock)==="low_stock"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:n.jsx(qt,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:X.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:X.category}),X.sku&&n.jsxs("span",{className:"text-xs text-gray-500",children:["SKU: ",X.sku]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${z(X)}`,children:ee(X)}),n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("button",{onClick:()=>{h(X),d(!0)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar",children:n.jsx(bE,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>L(X),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar Item",children:n.jsx(Bd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>p(X.id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:X.quantity})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),n.jsx("p",{className:"text-sm text-gray-900",children:X.min_stock})]}),t&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Preo Unitrio"}),n.jsxs("p",{className:"text-sm text-green-600",children:["R$ ",X.price.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),n.jsx("p",{className:"text-sm text-gray-900",children:X.supplier})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Nvel de Estoque"}),n.jsxs("span",{children:[X.quantity,"/",X.min_stock," mn"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X.quantity>X.min_stock?"bg-green-500":X.quantity>0?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(X.quantity/(X.min_stock*2)*100,100)}%`}})})]}),X.location&&n.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:[n.jsx("span",{className:"font-medium",children:"Localizao:"})," ",X.location]})]},X.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(qt,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum item encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos itens de estoque com os filtros selecionados."}),n.jsx("button",{onClick:()=>{s(""),i("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(vt,{children:o&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Item de Estoque"}),n.jsx("button",{onClick:()=>l(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",value:N.name,onChange:X=>T({...N,name:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:N.category,onChange:X=>T({...N,category:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"categories"}),n.jsx("datalist",{id:"categories",children:U.filter(X=>X!=="all").map(X=>n.jsx("option",{value:X},X))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{type:"text",value:N.sku,onChange:X=>T({...N,sku:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Deixe em branco para gerar automaticamente"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:N.description,onChange:X=>T({...N,description:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:N.quantity,onChange:X=>T({...N,quantity:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),n.jsx("input",{type:"number",value:N.min_stock,onChange:X=>T({...N,min_stock:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidade de Medida"}),n.jsxs("select",{value:N.unit||"un",onChange:X=>T({...N,unit:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"un",children:"Unidade (un)"}),n.jsx("option",{value:"m",children:"Metro (m)"}),n.jsx("option",{value:"m2",children:"Metro Quadrado (m)"}),n.jsx("option",{value:"m3",children:"Metro Cbico (m)"}),n.jsx("option",{value:"kg",children:"Quilograma (kg)"}),n.jsx("option",{value:"g",children:"Grama (g)"}),n.jsx("option",{value:"l",children:"Litro (l)"}),n.jsx("option",{value:"ml",children:"Mililitro (ml)"}),n.jsx("option",{value:"cx",children:"Caixa (cx)"}),n.jsx("option",{value:"pc",children:"Pea (pc)"}),n.jsx("option",{value:"par",children:"Par"}),n.jsx("option",{value:"rolo",children:"Rolo"}),n.jsx("option",{value:"pct",children:"Pacote (pct)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Custo (R$)"}),n.jsx("input",{type:"number",value:N.cost,onChange:X=>T({...N,cost:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de compra"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor de Venda (R$)"}),n.jsx("input",{type:"number",value:N.price,onChange:X=>T({...N,price:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",placeholder:"Preo de venda",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",value:N.supplier,onChange:X=>T({...N,supplier:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),n.jsx("input",{type:"text",value:N.location,onChange:X=>T({...N,location:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:re,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Item"]})]})]})]})}),n.jsx(vt,{children:c&&u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Item"}),n.jsx("button",{onClick:()=>d(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",value:u.name,onChange:X=>h({...u,name:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:u.category,onChange:X=>h({...u,category:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Equipamentos, Peas, etc.",required:!0,list:"edit-categories"}),n.jsx("datalist",{id:"edit-categories",children:U.filter(X=>X!=="all").map(X=>n.jsx("option",{value:X},X))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["SKU / Cdigo ",n.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),n.jsx("input",{type:"text",value:u.sku||"",onChange:X=>h({...u,sku:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:u.description||"",onChange:X=>h({...u,description:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:u.quantity,onChange:X=>h({...u,quantity:parseInt(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),n.jsx("input",{type:"number",value:u.min_stock,onChange:X=>h({...u,min_stock:parseInt(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),n.jsx("input",{type:"number",value:u.price,onChange:X=>h({...u,price:parseFloat(X.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",value:u.supplier,onChange:X=>h({...u,supplier:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),n.jsx("input",{type:"text",value:u.location||"",onChange:X=>h({...u,location:X.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:Z,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),n.jsx(vt,{children:f!==null&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(Un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este item do estoque? Esta ao no pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>f&&$(f),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(vt,{children:g&&n.jsxs(he.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),w===100&&n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[w<100?n.jsx(Tp,{className:"h-5 w-5 text-blue-500 animate-spin"}):n.jsx(ys,{className:"h-5 w-5 text-green-500"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${w}%`}})})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[w,"%"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:w<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})})]})},qge=()=>{const{id:t}=D3(),e=ui(),{isAdmin:r}=On(),[s,a]=O.useState(!1),[i,o]=O.useState(0),[l,c]=O.useState(""),[d,u]=O.useState("details"),h={name:"Ar Condicionado Split 12.000 BTUs",category:"Equipamentos",quantity:5,minStock:2,price:1800,supplier:"Fornecedor A",status:"in_stock",description:"Ar condicionado split 12.000 BTUs, 220V, com controle remoto e instalao bsica includa.",sku:"AC-12000-220",location:"Prateleira A3",history:[{date:"2023-12-15",type:"entrada",quantity:10,user:"Admin",notes:"Compra inicial"},{date:"2023-12-16",type:"saida",quantity:2,user:"Carlos Tcnico",notes:"OS-2023-001"},{date:"2023-12-17",type:"saida",quantity:3,user:"Ana Tcnica",notes:"OS-2023-002"}]},f=g=>{switch(g){case"in_stock":return"bg-green-100 text-green-800";case"low_stock":return"bg-yellow-100 text-yellow-800";case"out_of_stock":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=g=>{switch(g){case"in_stock":return"Em Estoque";case"low_stock":return"Estoque Baixo";case"out_of_stock":return"Sem Estoque";default:return"Desconhecido"}},v=g=>{switch(g){case"entrada":return"text-green-600";case"saida":return"text-red-600";case"ajuste":return"text-blue-600";default:return"text-gray-600"}},y=()=>{i!==0&&(console.log("Adjusting stock by:",i,"Reason:",l),a(!1),o(0),c(""))};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>e("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:n.jsx(Rd,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:h.name})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(h.status)}`,children:p(h.status)})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-2",children:[n.jsx(qr,{className:"h-4 w-4"}),n.jsx("span",{children:"Ajustar Estoque"})]}),n.jsxs("button",{onClick:()=>e(`/inventory/${t}/edit`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),r&&n.jsxs("button",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>u("details"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="details"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(qt,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Detalhes"})]}),n.jsxs("button",{onClick:()=>u("history"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="history"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Wt,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Histrico"})]}),r&&n.jsxs("button",{onClick:()=>u("analytics"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${d==="analytics"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(oi,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Anlise"})]})]}),n.jsxs("div",{className:"p-6",children:[d==="details"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(qt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Categoria"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.category})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"SKU"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.sku})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Fornecedor"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.supplier})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Localizao"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:h.location})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(qr,{className:"h-4 w-4 mr-2 text-blue-500"}),"Informaes de Estoque"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Quantidade Atual"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.quantity})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Estoque Mnimo"}),n.jsx("p",{className:"text-lg font-medium text-gray-900",children:h.minStock})]}),r&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Valor Unitrio"}),n.jsxs("p",{className:"text-lg font-medium text-green-600",children:["R$ ",h.price.toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Nvel de Estoque"}),n.jsxs("span",{children:[h.quantity,"/",h.minStock," mn"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full transition-all duration-300 bg-green-500",style:{width:`${Math.min(h.quantity/(h.minStock*2)*100,100)}%`}})})]}),h.quantity<=h.minStock]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx(qt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Descrio"]}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:n.jsx("p",{className:"text-sm text-gray-700",children:h.description})})]})]}),d==="history"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(Wt,{className:"h-4 w-4 mr-2 text-blue-500"}),"Histrico de Movimentaes"]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),n.jsx("div",{className:"space-y-6",children:h.history.map((g,x)=>n.jsxs("div",{className:"relative pl-10",children:[n.jsx("div",{className:`absolute left-0 top-0 w-8 h-8 rounded-full flex items-center justify-center ${g.type==="entrada"?"bg-green-100":"bg-red-100"}`,children:g.type==="entrada"?n.jsx(zt,{className:"h-4 w-4 text-green-600"}):n.jsx(O0,{className:"h-4 w-4 text-red-600"})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("h4",{className:`font-medium ${v(g.type)}`,children:[g.type==="entrada"?"Entrada":"Sada"," de ",g.quantity," unidades"]}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(g.date).toLocaleDateString("pt-BR")})]}),n.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["Realizado por: ",g.user]}),g.notes&&n.jsxs("p",{className:"text-sm text-gray-700",children:["Observao: ",g.notes]})]})]},x))})]})]}),d==="analytics"&&r&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(oi,{className:"h-4 w-4 mr-2 text-blue-500"}),"Anlise de Consumo"]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[n.jsx(oi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-700 mb-2",children:"Anlise de consumo em desenvolvimento"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Em breve voc poder visualizar grficos de consumo, previses de estoque e muito mais."})]})]})]})]}),s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>a(!1)}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Ajustar Estoque"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Atual"}),n.jsx("input",{type:"text",value:h.quantity,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ajuste"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>o(g=>g-1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:n.jsx(O0,{className:"h-5 w-5"})}),n.jsx("input",{type:"number",value:i,onChange:g=>o(parseInt(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center"}),n.jsx("button",{type:"button",onClick:()=>o(g=>g+1),className:"p-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:n.jsx(zt,{className:"h-5 w-5"})})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i>0?"Entrada":i<0?"Sada":"Sem alterao"," de ",Math.abs(i)," unidades"]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Quantidade"}),n.jsx("input",{type:"text",value:h.quantity+i,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 font-bold"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motivo do Ajuste"}),n.jsx("textarea",{value:l,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o motivo deste ajuste...",required:!0})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:y,disabled:i===0||!l,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar Ajuste"})]})]})]})]})},zge=()=>{const t=ui(),[e,r]=O.useState({name:"",category:"",quantity:0,minStock:0,price:0,supplier:"",description:"",sku:"",location:""}),s=["Equipamentos","Acessrios","Materiais","Peas","Ferramentas"],a=o=>{const{name:l,value:c}=o.target;r(l==="price"||l==="quantity"||l==="minStock"?{...e,[l]:parseFloat(c)||0}:{...e,[l]:c})},i=o=>{o.preventDefault(),console.log("Form submitted:",e),t("/inventory")};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("button",{onClick:()=>t("/inventory"),className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100",children:n.jsx(Rd,{className:"h-5 w-5"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Item de Estoque"})]})}),n.jsxs("form",{onSubmit:i,className:"space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes Bsicas"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Item"}),n.jsx("input",{type:"text",name:"name",value:e.name,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome completo do item",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{name:"category",value:e.category,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"",children:"Selecione uma categoria"}),s.map(o=>n.jsx("option",{value:o,children:o},o))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU / Cdigo"}),n.jsx("input",{type:"text",name:"sku",value:e.sku,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Cdigo nico do item"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{name:"description",value:e.description,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do item"})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Informaes de Estoque"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantidade Inicial"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:Math.max(0,o.quantity-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:n.jsx(O0,{className:"h-4 w-4"})}),n.jsx("input",{type:"number",name:"quantity",value:e.quantity,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,quantity:o.quantity+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:n.jsx(zt,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estoque Mnimo"}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:Math.max(0,o.minStock-1)})),className:"p-2 bg-gray-100 text-gray-700 rounded-l-lg hover:bg-gray-200",children:n.jsx(O0,{className:"h-4 w-4"})}),n.jsx("input",{type:"number",name:"minStock",value:e.minStock,onChange:a,className:"w-full px-4 py-2 border-y border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center",min:"0",required:!0}),n.jsx("button",{type:"button",onClick:()=>r(o=>({...o,minStock:o.minStock+1})),className:"p-2 bg-gray-100 text-gray-700 rounded-r-lg hover:bg-gray-200",children:n.jsx(zt,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Unitrio (R$)"}),n.jsx("input",{type:"number",name:"price",value:e.price,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fornecedor"}),n.jsx("input",{type:"text",name:"supplier",value:e.supplier,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),n.jsx("input",{type:"text",name:"location",value:e.location,onChange:a,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Prateleira A3"})]})]})]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("button",{type:"button",onClick:()=>t("/inventory"),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex-1",children:"Cancelar"}),n.jsxs("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex-1 flex items-center justify-center",children:[n.jsx(hr,{className:"h-5 w-5 mr-2"}),"Salvar Item"]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qx(t){return t+.5|0}const th=(t,e,r)=>Math.max(Math.min(t,r),e);function zg(t){return th(qx(t*2.55),0,255)}function ch(t){return th(qx(t*255),0,255)}function fd(t){return th(qx(t/2.55)/100,0,1)}function uI(t){return th(qx(t*100),0,100)}const No={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},sB=[..."0123456789ABCDEF"],Vge=t=>sB[t&15],Kge=t=>sB[(t&240)>>4]+sB[t&15],jv=t=>(t&240)>>4===(t&15),Wge=t=>jv(t.r)&&jv(t.g)&&jv(t.b)&&jv(t.a);function Gge(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&No[t[1]]*17,g:255&No[t[2]]*17,b:255&No[t[3]]*17,a:e===5?No[t[4]]*17:255}:(e===7||e===9)&&(r={r:No[t[1]]<<4|No[t[2]],g:No[t[3]]<<4|No[t[4]],b:No[t[5]]<<4|No[t[6]],a:e===9?No[t[7]]<<4|No[t[8]]:255})),r}const Xge=(t,e)=>t<255?e(t):"";function Yge(t){var e=Wge(t)?Vge:Kge;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Xge(t.a,e):void 0}const Jge=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rz(t,e,r){const s=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-s*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function Zge(t,e,r){const s=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function e0e(t,e,r){const s=rz(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)s[a]*=1-e-r,s[a]+=e;return s}function t0e(t,e,r,s,a){return t===a?(e-r)/s+(e<r?6:0):e===a?(r-t)/s+2:(t-e)/s+4}function HE(t){const r=t.r/255,s=t.g/255,a=t.b/255,i=Math.max(r,s,a),o=Math.min(r,s,a),l=(i+o)/2;let c,d,u;return i!==o&&(u=i-o,d=l>.5?u/(2-i-o):u/(i+o),c=t0e(r,s,a,u,i),c=c*60+.5),[c|0,d||0,l]}function $E(t,e,r,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,s)).map(ch)}function qE(t,e,r){return $E(rz,t,e,r)}function r0e(t,e,r){return $E(e0e,t,e,r)}function n0e(t,e,r){return $E(Zge,t,e,r)}function nz(t){return(t%360+360)%360}function s0e(t){const e=Jge.exec(t);let r=255,s;if(!e)return;e[5]!==s&&(r=e[6]?zg(+e[5]):ch(+e[5]));const a=nz(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=r0e(a,i,o):e[1]==="hsv"?s=n0e(a,i,o):s=qE(a,i,o),{r:s[0],g:s[1],b:s[2],a:r}}function a0e(t,e){var r=HE(t);r[0]=nz(r[0]+e),r=qE(r),t.r=r[0],t.g=r[1],t.b=r[2]}function i0e(t){if(!t)return;const e=HE(t),r=e[0],s=uI(e[1]),a=uI(e[2]);return t.a<255?`hsla(${r}, ${s}%, ${a}%, ${fd(t.a)})`:`hsl(${r}, ${s}%, ${a}%)`}const hI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function o0e(){const t={},e=Object.keys(AI),r=Object.keys(hI);let s,a,i,o,l;for(s=0;s<e.length;s++){for(o=l=e[s],a=0;a<r.length;a++)i=r[a],l=l.replace(i,hI[i]);i=parseInt(AI[o],16),t[l]=[i>>16&255,i>>8&255,i&255]}return t}let Nv;function l0e(t){Nv||(Nv=o0e(),Nv.transparent=[0,0,0,0]);const e=Nv[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const c0e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function d0e(t){const e=c0e.exec(t);let r=255,s,a,i;if(e){if(e[7]!==s){const o=+e[7];r=e[8]?zg(o):th(o*255,0,255)}return s=+e[1],a=+e[3],i=+e[5],s=255&(e[2]?zg(s):th(s,0,255)),a=255&(e[4]?zg(a):th(a,0,255)),i=255&(e[6]?zg(i):th(i,0,255)),{r:s,g:a,b:i,a:r}}}function u0e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${fd(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const gN=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,um=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function h0e(t,e,r){const s=um(fd(t.r)),a=um(fd(t.g)),i=um(fd(t.b));return{r:ch(gN(s+r*(um(fd(e.r))-s))),g:ch(gN(a+r*(um(fd(e.g))-a))),b:ch(gN(i+r*(um(fd(e.b))-i))),a:t.a+r*(e.a-t.a)}}function _v(t,e,r){if(t){let s=HE(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*r,e===0?360:1)),s=qE(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function sz(t,e){return t&&Object.assign(e||{},t)}function fI(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ch(t[3]))):(e=sz(t,{r:0,g:0,b:0,a:1}),e.a=ch(e.a)),e}function A0e(t){return t.charAt(0)==="r"?d0e(t):s0e(t)}let az=class aB{constructor(e){if(e instanceof aB)return e;const r=typeof e;let s;r==="object"?s=fI(e):r==="string"&&(s=Gge(e)||l0e(e)||A0e(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=sz(this._rgb);return e&&(e.a=fd(e.a)),e}set rgb(e){this._rgb=fI(e)}rgbString(){return this._valid?u0e(this._rgb):void 0}hexString(){return this._valid?Yge(this._rgb):void 0}hslString(){return this._valid?i0e(this._rgb):void 0}mix(e,r){if(e){const s=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,l=2*o-1,c=s.a-a.a,d=((l*c===-1?l:(l+c)/(1+l*c))+1)/2;i=1-d,s.r=255&d*s.r+i*a.r+.5,s.g=255&d*s.g+i*a.g+.5,s.b=255&d*s.b+i*a.b+.5,s.a=o*s.a+(1-o)*a.a,this.rgb=s}return this}interpolate(e,r){return e&&(this._rgb=h0e(this._rgb,e._rgb,r)),this}clone(){return new aB(this.rgb)}alpha(e){return this._rgb.a=ch(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=qx(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return _v(this._rgb,2,e),this}darken(e){return _v(this._rgb,2,-e),this}saturate(e){return _v(this._rgb,1,e),this}desaturate(e){return _v(this._rgb,1,-e),this}rotate(e){return a0e(this._rgb,e),this}};/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function id(){}const f0e=(()=>{let t=0;return()=>t++})();function $r(t){return t==null}function gs(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function br(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ra(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function rc(t,e){return Ra(t)?t:e}function ur(t,e){return typeof t>"u"?e:t}const m0e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,iz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function wn(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Wr(t,e,r,s){let a,i,o;if(gs(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(br(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function zb(t,e){let r,s,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,s=t.length;r<s;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function Vb(t){if(gs(t))return t.map(Vb);if(br(t)){const e=Object.create(null),r=Object.keys(t),s=r.length;let a=0;for(;a<s;++a)e[r[a]]=Vb(t[r[a]]);return e}return t}function oz(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function p0e(t,e,r,s){if(!oz(t))return;const a=e[t],i=r[t];br(a)&&br(i)?z0(a,i,s):e[t]=Vb(i)}function z0(t,e,r){const s=gs(e)?e:[e],a=s.length;if(!br(t))return t;r=r||{};const i=r.merger||p0e;let o;for(let l=0;l<a;++l){if(o=s[l],!br(o))continue;const c=Object.keys(o);for(let d=0,u=c.length;d<u;++d)i(c[d],t,o,r)}return t}function f0(t,e){return z0(t,e,{merger:g0e})}function g0e(t,e,r){if(!oz(t))return;const s=e[t],a=r[t];br(s)&&br(a)?f0(s,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Vb(a))}const mI={"":t=>t,x:t=>t.x,y:t=>t.y};function x0e(t){const e=t.split("."),r=[];let s="";for(const a of e)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}function y0e(t){const e=x0e(t);return r=>{for(const s of e){if(s==="")break;r=r&&r[s]}return r}}function WA(t,e){return(mI[e]||(mI[e]=y0e(e)))(t)}function zE(t){return t.charAt(0).toUpperCase()+t.slice(1)}const V0=t=>typeof t<"u",vh=t=>typeof t=="function",pI=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function v0e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Gr=Math.PI,Rn=2*Gr,b0e=Rn+Gr,Kb=Number.POSITIVE_INFINITY,w0e=Gr/180,Ps=Gr/2,lA=Gr/4,gI=Gr*2/3,lz=Math.log10,mc=Math.sign;function m0(t,e,r){return Math.abs(t-e)<r}function xI(t){const e=Math.round(t);t=m0(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(lz(t))),s=t/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function j0e(t){const e=[],r=Math.sqrt(t);let s;for(s=1;s<r;s++)t%s===0&&(e.push(s),e.push(t/s));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function N0e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function K0(t){return!N0e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _0e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function C0e(t,e,r){let s,a,i;for(s=0,a=t.length;s<a;s++)i=t[s][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function gd(t){return t*(Gr/180)}function S0e(t){return t*(180/Gr)}function yI(t){if(!Ra(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function cz(t,e){const r=e.x-t.x,s=e.y-t.y,a=Math.sqrt(r*r+s*s);let i=Math.atan2(s,r);return i<-.5*Gr&&(i+=Rn),{angle:i,distance:a}}function iB(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function B0e(t,e){return(t-e+b0e)%Rn-Gr}function eo(t){return(t%Rn+Rn)%Rn}function W0(t,e,r,s){const a=eo(t),i=eo(e),o=eo(r),l=eo(i-a),c=eo(o-a),d=eo(a-i),u=eo(a-o);return a===i||a===o||s&&i===o||l>c&&d<u}function Ma(t,e,r){return Math.max(e,Math.min(r,t))}function E0e(t){return Ma(t,-32768,32767)}function xd(t,e,r,s=1e-6){return t>=Math.min(e,r)-s&&t<=Math.max(e,r)+s}function VE(t,e,r){r=r||(o=>t[o]<e);let s=t.length-1,a=0,i;for(;s-a>1;)i=a+s>>1,r(i)?a=i:s=i;return{lo:a,hi:s}}const FA=(t,e,r,s)=>VE(t,r,s?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),k0e=(t,e,r)=>VE(t,r,s=>t[s][e]>=r);function P0e(t,e,r){let s=0,a=t.length;for(;s<a&&t[s]<e;)s++;for(;a>s&&t[a-1]>r;)a--;return s>0||a<t.length?t.slice(s,a):t}const dz=["push","pop","shift","splice","unshift"];function F0e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),dz.forEach(r=>{const s="_onData"+zE(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(l=>{typeof l[s]=="function"&&l[s](...i)}),o}})})}function vI(t,e){const r=t._chartjs;if(!r)return;const s=r.listeners,a=s.indexOf(e);a!==-1&&s.splice(a,1),!(s.length>0)&&(dz.forEach(i=>{delete t[i]}),delete t._chartjs)}function uz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const hz=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Az(t,e){let r=[],s=!1;return function(...a){r=a,s||(s=!0,hz.call(window,()=>{s=!1,t.apply(e,r)}))}}function T0e(t,e){let r;return function(...s){return e?(clearTimeout(r),r=setTimeout(t,e,s)):t.apply(this,s),e}}const KE=t=>t==="start"?"left":t==="end"?"right":"center",ka=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,O0e=(t,e,r,s)=>t===(s?"left":"right")?r:t==="center"?(e+r)/2:e;function I0e(t,e,r){const s=e.length;let a=0,i=s;if(t._sorted){const{iScale:o,vScale:l,_parsed:c}=t,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,u=o.axis,{min:h,max:f,minDefined:p,maxDefined:v}=o.getUserBounds();if(p){if(a=Math.min(FA(c,u,h).lo,r?s:FA(e,u,o.getPixelForValue(h)).lo),d){const y=c.slice(0,a+1).reverse().findIndex(g=>!$r(g[l.axis]));a-=Math.max(0,y)}a=Ma(a,0,s-1)}if(v){let y=Math.max(FA(c,o.axis,f,!0).hi+1,r?0:FA(e,u,o.getPixelForValue(f),!0).hi+1);if(d){const g=c.slice(y-1).findIndex(x=>!$r(x[l.axis]));y+=Math.max(0,g)}i=Ma(y,a,s)-a}else i=s-a}return{start:a,count:i}}function D0e(t){const{xScale:e,yScale:r,_scaleRanges:s}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!s)return t._scaleRanges=a,!0;const i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,a),i}const Cv=t=>t===0||t===1,bI=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Rn/r)),wI=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Rn/r)+1,p0={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ps)+1,easeOutSine:t=>Math.sin(t*Ps),easeInOutSine:t=>-.5*(Math.cos(Gr*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Cv(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Cv(t)?t:bI(t,.075,.3),easeOutElastic:t=>Cv(t)?t:wI(t,.075,.3),easeInOutElastic(t){return Cv(t)?t:t<.5?.5*bI(t*2,.1125,.45):.5+.5*wI(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-p0.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?p0.easeInBounce(t*2)*.5:p0.easeOutBounce(t*2-1)*.5+.5};function WE(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function jI(t){return WE(t)?t:new az(t)}function xN(t){return WE(t)?t:new az(t).saturate(.5).darken(.1).hexString()}const M0e=["x","y","borderWidth","radius","tension"],L0e=["color","borderColor","backgroundColor"];function U0e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:L0e},numbers:{type:"number",properties:M0e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function R0e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NI=new Map;function Q0e(t,e){e=e||{};const r=t+JSON.stringify(e);let s=NI.get(r);return s||(s=new Intl.NumberFormat(t,e),NI.set(r,s)),s}function GE(t,e,r){return Q0e(e,r).format(t)}const H0e={values(t){return gs(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const s=this.chart.options.locale;let a,i=t;if(r.length>1){const d=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),i=$0e(t,r)}const o=lz(Math.abs(i)),l=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),GE(t,s,c)}};function $0e(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var fz={formatters:H0e};function q0e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fz.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const GA=Object.create(null),oB=Object.create(null);function g0(t,e){if(!e)return t;const r=e.split(".");for(let s=0,a=r.length;s<a;++s){const i=r[s];t=t[i]||(t[i]=Object.create(null))}return t}function yN(t,e,r){return typeof e=="string"?z0(g0(t,e),r):z0(g0(t,""),e)}class z0e{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,a)=>xN(a.backgroundColor),this.hoverBorderColor=(s,a)=>xN(a.borderColor),this.hoverColor=(s,a)=>xN(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return yN(this,e,r)}get(e){return g0(this,e)}describe(e,r){return yN(oB,e,r)}override(e,r){return yN(GA,e,r)}route(e,r,s,a){const i=g0(this,e),o=g0(this,s),l="_"+r;Object.defineProperties(i,{[l]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const c=this[l],d=o[a];return br(c)?Object.assign({},d,c):ur(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(r=>r(this))}}var os=new z0e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[U0e,R0e,q0e]);function V0e(t){return!t||$r(t.size)||$r(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _I(t,e,r,s,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>s&&(s=i),s}function cA(t,e,r){const s=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*s)/s+a}function CI(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function lB(t,e,r,s){mz(t,e,r,s,null)}function mz(t,e,r,s,a){let i,o,l,c,d,u,h,f;const p=e.pointStyle,v=e.rotation,y=e.radius;let g=(v||0)*w0e;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,s),t.rotate(g),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),p){default:a?t.ellipse(r,s,a/2,y,0,0,Rn):t.arc(r,s,y,0,Rn),t.closePath();break;case"triangle":u=a?a/2:y,t.moveTo(r+Math.sin(g)*u,s-Math.cos(g)*y),g+=gI,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*y),g+=gI,t.lineTo(r+Math.sin(g)*u,s-Math.cos(g)*y),t.closePath();break;case"rectRounded":d=y*.516,c=y-d,o=Math.cos(g+lA)*c,h=Math.cos(g+lA)*(a?a/2-d:c),l=Math.sin(g+lA)*c,f=Math.sin(g+lA)*(a?a/2-d:c),t.arc(r-h,s-l,d,g-Gr,g-Ps),t.arc(r+f,s-o,d,g-Ps,g),t.arc(r+h,s+l,d,g,g+Ps),t.arc(r-f,s+o,d,g+Ps,g+Gr),t.closePath();break;case"rect":if(!v){c=Math.SQRT1_2*y,u=a?a/2:c,t.rect(r-u,s-c,2*u,2*c);break}g+=lA;case"rectRot":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,f=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+f,s-o),t.lineTo(r+h,s+l),t.lineTo(r-f,s+o),t.closePath();break;case"crossRot":g+=lA;case"cross":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,f=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+f,s-o),t.lineTo(r-f,s+o);break;case"star":h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,f=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+f,s-o),t.lineTo(r-f,s+o),g+=lA,h=Math.cos(g)*(a?a/2:y),o=Math.cos(g)*y,l=Math.sin(g)*y,f=Math.sin(g)*(a?a/2:y),t.moveTo(r-h,s-l),t.lineTo(r+h,s+l),t.moveTo(r+f,s-o),t.lineTo(r-f,s+o);break;case"line":o=a?a/2:Math.cos(g)*y,l=Math.sin(g)*y,t.moveTo(r-o,s-l),t.lineTo(r+o,s+l);break;case"dash":t.moveTo(r,s),t.lineTo(r+Math.cos(g)*(a?a/2:y),s+Math.sin(g)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function G0(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function v1(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function b1(t){t.restore()}function K0e(t,e,r,s,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!s?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function W0e(t,e,r,s){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function G0e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),$r(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function X0e(t,e,r,s,a){if(a.strikethrough||a.underline){const i=t.measureText(s),o=e-i.actualBoundingBoxLeft,l=e+i.actualBoundingBoxRight,c=r-i.actualBoundingBoxAscent,d=r+i.actualBoundingBoxDescent,u=a.strikethrough?(c+d)/2:d;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,u),t.lineTo(l,u),t.stroke()}}function Y0e(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function X0(t,e,r,s,a,i={}){const o=gs(e)?e:[e],l=i.strokeWidth>0&&i.strokeColor!=="";let c,d;for(t.save(),t.font=a.string,G0e(t,i),c=0;c<o.length;++c)d=o[c],i.backdrop&&Y0e(t,i.backdrop),l&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),$r(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(d,r,s,i.maxWidth)),t.fillText(d,r,s,i.maxWidth),X0e(t,r,s,d,i),s+=Number(a.lineHeight);t.restore()}function Wb(t,e){const{x:r,y:s,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,s+o.topLeft,o.topLeft,1.5*Gr,Gr,!0),t.lineTo(r,s+i-o.bottomLeft),t.arc(r+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Gr,Ps,!0),t.lineTo(r+a-o.bottomRight,s+i),t.arc(r+a-o.bottomRight,s+i-o.bottomRight,o.bottomRight,Ps,0,!0),t.lineTo(r+a,s+o.topRight),t.arc(r+a-o.topRight,s+o.topRight,o.topRight,0,-Ps,!0),t.lineTo(r+o.topLeft,s)}const J0e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Z0e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function exe(t,e){const r=(""+t).match(J0e);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const txe=t=>+t||0;function XE(t,e){const r={},s=br(e),a=s?Object.keys(e):e,i=br(t)?s?o=>ur(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=txe(i(o));return r}function pz(t){return XE(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Km(t){return XE(t,["topLeft","topRight","bottomLeft","bottomRight"])}function $o(t){const e=pz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function La(t,e){t=t||{},e=e||os.font;let r=ur(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let s=ur(t.style,e.style);s&&!(""+s).match(Z0e)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:ur(t.family,e.family),lineHeight:exe(ur(t.lineHeight,e.lineHeight),r),size:r,style:s,weight:ur(t.weight,e.weight),string:""};return a.string=V0e(a),a}function Sv(t,e,r,s){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function rxe(t,e,r){const{min:s,max:a}=t,i=iz(e,(a-s)/2),o=(l,c)=>r&&l===0?0:l+c;return{min:o(s,-Math.abs(i)),max:o(a,i)}}function lf(t,e){return Object.assign(Object.create(t),e)}function YE(t,e=[""],r,s,a=()=>t[0]){const i=r||t;typeof s>"u"&&(s=vz("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:a,override:l=>YE([l,...t],e,i,s)};return new Proxy(o,{deleteProperty(l,c){return delete l[c],delete l._keys,delete t[0][c],!0},get(l,c){return xz(l,c,()=>dxe(c,e,t,l))},getOwnPropertyDescriptor(l,c){return Reflect.getOwnPropertyDescriptor(l._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(l,c){return BI(l).includes(c)},ownKeys(l){return BI(l)},set(l,c,d){const u=l._storage||(l._storage=a());return l[c]=u[c]=d,delete l._keys,!0}})}function np(t,e,r,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:gz(t,s),setContext:i=>np(t,i,r,s),override:i=>np(t.override(i),e,r,s)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,l){return xz(i,o,()=>sxe(i,o,l))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,l){return t[o]=l,delete i[o],!0}})}function gz(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:s=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:s,isScriptable:vh(r)?r:()=>r,isIndexable:vh(s)?s:()=>s}}const nxe=(t,e)=>t?t+zE(e):e,JE=(t,e)=>br(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function xz(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=r();return t[e]=s,s}function sxe(t,e,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=t;let l=s[e];return vh(l)&&o.isScriptable(e)&&(l=axe(e,l,t,r)),gs(l)&&l.length&&(l=ixe(e,l,t,o.isIndexable)),JE(e,l)&&(l=np(l,a,i&&i[e],o)),l}function axe(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_stack:l}=r;if(l.has(t))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+t);l.add(t);let c=e(i,o||s);return l.delete(t),JE(t,c)&&(c=ZE(a._scopes,a,t,c)),c}function ixe(t,e,r,s){const{_proxy:a,_context:i,_subProxy:o,_descriptors:l}=r;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(br(e[0])){const c=e,d=a._scopes.filter(u=>u!==c);e=[];for(const u of c){const h=ZE(d,a,t,u);e.push(np(h,i,o&&o[t],l))}}return e}function yz(t,e,r){return vh(t)?t(e,r):t}const oxe=(t,e)=>t===!0?e:typeof t=="string"?WA(e,t):void 0;function lxe(t,e,r,s,a){for(const i of e){const o=oxe(r,i);if(o){t.add(o);const l=yz(o._fallback,r,a);if(typeof l<"u"&&l!==r&&l!==s)return l}else if(o===!1&&typeof s<"u"&&r!==s)return null}return!1}function ZE(t,e,r,s){const a=e._rootScopes,i=yz(e._fallback,r,s),o=[...t,...a],l=new Set;l.add(s);let c=SI(l,o,r,i||r,s);return c===null||typeof i<"u"&&i!==r&&(c=SI(l,o,i,c,s),c===null)?!1:YE(Array.from(l),[""],a,i,()=>cxe(e,r,s))}function SI(t,e,r,s,a){for(;r;)r=lxe(t,e,r,s,a);return r}function cxe(t,e,r){const s=t._getTarget();e in s||(s[e]={});const a=s[e];return gs(a)&&br(r)?r:a||{}}function dxe(t,e,r,s){let a;for(const i of e)if(a=vz(nxe(i,t),r),typeof a<"u")return JE(t,a)?ZE(r,s,t,a):a}function vz(t,e){for(const r of e){if(!r)continue;const s=r[t];if(typeof s<"u")return s}}function BI(t){let e=t._keys;return e||(e=t._keys=uxe(t._scopes)),e}function uxe(t){const e=new Set;for(const r of t)for(const s of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(s);return Array.from(e)}const hxe=Number.EPSILON||1e-14,sp=(t,e)=>e<t.length&&!t[e].skip&&t[e],bz=t=>t==="x"?"y":"x";function Axe(t,e,r,s){const a=t.skip?e:t,i=e,o=r.skip?e:r,l=iB(i,a),c=iB(o,i);let d=l/(l+c),u=c/(l+c);d=isNaN(d)?0:d,u=isNaN(u)?0:u;const h=s*d,f=s*u;return{previous:{x:i.x-h*(o.x-a.x),y:i.y-h*(o.y-a.y)},next:{x:i.x+f*(o.x-a.x),y:i.y+f*(o.y-a.y)}}}function fxe(t,e,r){const s=t.length;let a,i,o,l,c,d=sp(t,0);for(let u=0;u<s-1;++u)if(c=d,d=sp(t,u+1),!(!c||!d)){if(m0(e[u],0,hxe)){r[u]=r[u+1]=0;continue}a=r[u]/e[u],i=r[u+1]/e[u],l=Math.pow(a,2)+Math.pow(i,2),!(l<=9)&&(o=3/Math.sqrt(l),r[u]=a*o*e[u],r[u+1]=i*o*e[u])}}function mxe(t,e,r="x"){const s=bz(r),a=t.length;let i,o,l,c=sp(t,0);for(let d=0;d<a;++d){if(o=l,l=c,c=sp(t,d+1),!l)continue;const u=l[r],h=l[s];o&&(i=(u-o[r])/3,l[`cp1${r}`]=u-i,l[`cp1${s}`]=h-i*e[d]),c&&(i=(c[r]-u)/3,l[`cp2${r}`]=u+i,l[`cp2${s}`]=h+i*e[d])}}function pxe(t,e="x"){const r=bz(e),s=t.length,a=Array(s).fill(0),i=Array(s);let o,l,c,d=sp(t,0);for(o=0;o<s;++o)if(l=c,c=d,d=sp(t,o+1),!!c){if(d){const u=d[e]-c[e];a[o]=u!==0?(d[r]-c[r])/u:0}i[o]=l?d?mc(a[o-1])!==mc(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}fxe(t,a,i),mxe(t,i,e)}function Bv(t,e,r){return Math.max(Math.min(t,r),e)}function gxe(t,e){let r,s,a,i,o,l=G0(t[0],e);for(r=0,s=t.length;r<s;++r)o=i,i=l,l=r<s-1&&G0(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=Bv(a.cp1x,e.left,e.right),a.cp1y=Bv(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=Bv(a.cp2x,e.left,e.right),a.cp2y=Bv(a.cp2y,e.top,e.bottom)))}function xxe(t,e,r,s,a){let i,o,l,c;if(e.spanGaps&&(t=t.filter(d=>!d.skip)),e.cubicInterpolationMode==="monotone")pxe(t,a);else{let d=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)l=t[i],c=Axe(d,l,t[Math.min(i+1,o-(s?0:1))%o],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&gxe(t,r)}function ek(){return typeof window<"u"&&typeof document<"u"}function tk(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Gb(t,e,r){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[r])):s=t,s}const w1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function yxe(t,e){return w1(t).getPropertyValue(e)}const vxe=["top","right","bottom","left"];function $A(t,e,r){const s={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=vxe[a];s[i]=parseFloat(t[e+"-"+i+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const bxe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function wxe(t,e){const r=t.touches,s=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=s;let o=!1,l,c;if(bxe(a,i,t.target))l=a,c=i;else{const d=e.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,o=!0}return{x:l,y:c,box:o}}function xA(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:s}=e,a=w1(r),i=a.boxSizing==="border-box",o=$A(a,"padding"),l=$A(a,"border","width"),{x:c,y:d,box:u}=wxe(t,r),h=o.left+(u&&l.left),f=o.top+(u&&l.top);let{width:p,height:v}=e;return i&&(p-=o.width+l.width,v-=o.height+l.height),{x:Math.round((c-h)/p*r.width/s),y:Math.round((d-f)/v*r.height/s)}}function jxe(t,e,r){let s,a;if(e===void 0||r===void 0){const i=t&&tk(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),l=w1(i),c=$A(l,"border","width"),d=$A(l,"padding");e=o.width-d.width-c.width,r=o.height-d.height-c.height,s=Gb(l.maxWidth,i,"clientWidth"),a=Gb(l.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:s||Kb,maxHeight:a||Kb}}const rh=t=>Math.round(t*10)/10;function Nxe(t,e,r,s){const a=w1(t),i=$A(a,"margin"),o=Gb(a.maxWidth,t,"clientWidth")||Kb,l=Gb(a.maxHeight,t,"clientHeight")||Kb,c=jxe(t,e,r);let{width:d,height:u}=c;if(a.boxSizing==="content-box"){const f=$A(a,"border","width"),p=$A(a,"padding");d-=p.width+f.width,u-=p.height+f.height}return d=Math.max(0,d-i.width),u=Math.max(0,s?d/s:u-i.height),d=rh(Math.min(d,o,c.maxWidth)),u=rh(Math.min(u,l,c.maxHeight)),d&&!u&&(u=rh(d/2)),(e!==void 0||r!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,d=rh(Math.floor(u*s))),{width:d,height:u}}function EI(t,e,r){const s=e||1,a=rh(t.height*s),i=rh(t.width*s);t.height=rh(t.height),t.width=rh(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=s,o.height=a,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const _xe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ek()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function kI(t,e){const r=yxe(t,e),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function yA(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Cxe(t,e,r,s){return{x:t.x+r*(e.x-t.x),y:s==="middle"?r<.5?t.y:e.y:s==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function Sxe(t,e,r,s){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=yA(t,a,r),l=yA(a,i,r),c=yA(i,e,r),d=yA(o,l,r),u=yA(l,c,r);return yA(d,u,r)}const Bxe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,s){return r-s},leftForLtr(r,s){return r-s}}},Exe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wm(t,e,r){return t?Bxe(e,r):Exe()}function wz(t,e){let r,s;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=s)}function jz(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Nz(t){return t==="angle"?{between:W0,compare:B0e,normalize:eo}:{between:xd,compare:(e,r)=>e-r,normalize:e=>e}}function PI({start:t,end:e,count:r,loop:s,style:a}){return{start:t%r,end:e%r,loop:s&&(e-t+1)%r===0,style:a}}function kxe(t,e,r){const{property:s,start:a,end:i}=r,{between:o,normalize:l}=Nz(s),c=e.length;let{start:d,end:u,loop:h}=t,f,p;if(h){for(d+=c,u+=c,f=0,p=c;f<p&&o(l(e[d%c][s]),a,i);++f)d--,u--;d%=c,u%=c}return u<d&&(u+=c),{start:d,end:u,loop:h,style:t.style}}function _z(t,e,r){if(!r)return[t];const{property:s,start:a,end:i}=r,o=e.length,{compare:l,between:c,normalize:d}=Nz(s),{start:u,end:h,loop:f,style:p}=kxe(t,e,r),v=[];let y=!1,g=null,x,w,_;const k=()=>c(a,_,x)&&l(a,_)!==0,C=()=>l(i,x)===0||c(i,_,x),B=()=>y||k(),I=()=>!y||C();for(let S=u,E=u;S<=h;++S)w=e[S%o],!w.skip&&(x=d(w[s]),x!==_&&(y=c(x,a,i),g===null&&B()&&(g=l(x,a)===0?S:E),g!==null&&I()&&(v.push(PI({start:g,end:S,loop:f,count:o,style:p})),g=null),E=S,_=x));return g!==null&&v.push(PI({start:g,end:h,loop:f,count:o,style:p})),v}function Cz(t,e){const r=[],s=t.segments;for(let a=0;a<s.length;a++){const i=_z(s[a],t.points,e);i.length&&r.push(...i)}return r}function Pxe(t,e,r,s){let a=0,i=e-1;if(r&&!s)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Fxe(t,e,r,s){const a=t.length,i=[];let o=e,l=t[e],c;for(c=e+1;c<=r;++c){const d=t[c%a];d.skip||d.stop?l.skip||(s=!1,i.push({start:e%a,end:(c-1)%a,loop:s}),e=o=d.stop?c:null):(o=c,l.skip&&(e=c)),l=d}return o!==null&&i.push({start:e%a,end:o%a,loop:s}),i}function Txe(t,e){const r=t.points,s=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:l}=Pxe(r,a,i,s);if(s===!0)return FI(t,[{start:o,end:l,loop:i}],r,e);const c=l<o?l+a:l,d=!!t._fullLoop&&o===0&&l===a-1;return FI(t,Fxe(r,o,c,d),r,e)}function FI(t,e,r,s){return!s||!s.setContext||!r?e:Oxe(t,e,r,s)}function Oxe(t,e,r,s){const a=t._chart.getContext(),i=TI(t.options),{_datasetIndex:o,options:{spanGaps:l}}=t,c=r.length,d=[];let u=i,h=e[0].start,f=h;function p(v,y,g,x){const w=l?-1:1;if(v!==y){for(v+=c;r[v%c].skip;)v-=w;for(;r[y%c].skip;)y+=w;v%c!==y%c&&(d.push({start:v%c,end:y%c,loop:g,style:x}),u=x,h=y%c)}}for(const v of e){h=l?h:v.start;let y=r[h%c],g;for(f=h+1;f<=v.end;f++){const x=r[f%c];g=TI(s.setContext(lf(a,{type:"segment",p0:y,p1:x,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Ixe(g,u)&&p(h,f-1,v.loop,u),y=x,u=g}h<f-1&&p(h,f-1,v.loop,u)}return d}function TI(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ixe(t,e){if(!e)return!1;const r=[],s=function(a,i){return WE(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}function Ev(t,e,r){return t.options.clip?t[r]:e[r]}function Dxe(t,e){const{xScale:r,yScale:s}=t;return r&&s?{left:Ev(r,e,"left"),right:Ev(r,e,"right"),top:Ev(s,e,"top"),bottom:Ev(s,e,"bottom")}:e}function Sz(t,e){const r=e._clip;if(r.disabled)return!1;const s=Dxe(e,t.chartArea);return{left:r.left===!1?0:s.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:s.right+(r.right===!0?0:r.right),top:r.top===!1?0:s.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:s.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Mxe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,s,a){const i=r.listeners[a],o=r.duration;i.forEach(l=>l({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(s-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((s,a)=>{if(!s.running||!s.items.length)return;const i=s.items;let o=i.length-1,l=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),l=!0):(i[o]=i[i.length-1],i.pop());l&&(a.draw(),this._notify(a,s,e,"progress")),i.length||(s.running=!1,this._notify(a,s,e,"complete"),s.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let s=r.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,s)),s}listen(e,r,s){this._getAnims(e).listeners[r].push(s)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((s,a)=>Math.max(s,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const s=r.items;let a=s.length-1;for(;a>=0;--a)s[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var cd=new Mxe;const OI="transparent",Lxe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const s=jI(t||OI),a=s.valid&&jI(e||OI);return a&&a.valid?a.mix(s,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Uxe{constructor(e,r,s,a){const i=r[s];a=Sv([e.to,a,i,e.from]);const o=Sv([e.from,i,a]);this._active=!0,this._fn=e.fn||Lxe[e.type||typeof o],this._easing=p0[e.easing]||p0.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=s,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,s){if(this._active){this._notify(!1);const a=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sv([e.to,r,a,e.from]),this._from=Sv([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,s=this._duration,a=this._prop,i=this._from,o=this._loop,l=this._to;let c;if(this._active=i!==l&&(o||r<s),!this._active){this._target[a]=l,this._notify(!0);return}if(r<0){this._target[a]=i;return}c=r/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(i,l,c)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,s)=>{e.push({res:r,rej:s})})}_notify(e){const r=e?"res":"rej",s=this._promises||[];for(let a=0;a<s.length;a++)s[a][r]()}}class Bz{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!br(e))return;const r=Object.keys(os.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!br(i))return;const o={};for(const l of r)o[l]=i[l];(gs(i.properties)&&i.properties||[a]).forEach(l=>{(l===a||!s.has(l))&&s.set(l,o)})})}_animateOptions(e,r){const s=r.options,a=Qxe(e,s);if(!a)return[];const i=this._createAnimations(a,s);return s.$shared&&Rxe(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,r){const s=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),l=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(e,r));continue}const u=r[d];let h=i[d];const f=s.get(d);if(h)if(f&&h.active()){h.update(f,u,l);continue}else h.cancel();if(!f||!f.duration){e[d]=u;continue}i[d]=h=new Uxe(f,e,d,u),a.push(h)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const s=this._createAnimations(e,r);if(s.length)return cd.add(this._chart,s),!0}}function Rxe(t,e){const r=[],s=Object.keys(e);for(let a=0;a<s.length;a++){const i=t[s[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Qxe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function II(t,e){const r=t&&t.options||{},s=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:s?i:a,end:s?a:i}}function Hxe(t,e,r){if(r===!1)return!1;const s=II(t,r),a=II(e,r);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}function $xe(t){let e,r,s,a;return br(t)?(e=t.top,r=t.right,s=t.bottom,a=t.left):e=r=s=a=t,{top:e,right:r,bottom:s,left:a,disabled:t===!1}}function Ez(t,e){const r=[],s=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=s.length;a<i;++a)r.push(s[a].index);return r}function DI(t,e,r,s={}){const a=t.keys,i=s.mode==="single";let o,l,c,d;if(e===null)return;let u=!1;for(o=0,l=a.length;o<l;++o){if(c=+a[o],c===r){if(u=!0,s.all)continue;break}d=t.values[c],Ra(d)&&(i||e===0||mc(e)===mc(d))&&(e+=d)}return!u&&!s.all?0:e}function qxe(t,e){const{iScale:r,vScale:s}=e,a=r.axis==="x"?"x":"y",i=s.axis==="x"?"x":"y",o=Object.keys(t),l=new Array(o.length);let c,d,u;for(c=0,d=o.length;c<d;++c)u=o[c],l[c]={[a]:u,[i]:t[u]};return l}function vN(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function zxe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Vxe(t){const{min:e,max:r,minDefined:s,maxDefined:a}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Kxe(t,e,r){const s=t[e]||(t[e]={});return s[r]||(s[r]={})}function MI(t,e,r,s){for(const a of e.getMatchingVisibleMetas(s).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function LI(t,e){const{chart:r,_cachedMeta:s}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:l}=s,c=i.axis,d=o.axis,u=zxe(i,o,s),h=e.length;let f;for(let p=0;p<h;++p){const v=e[p],{[c]:y,[d]:g}=v,x=v._stacks||(v._stacks={});f=x[d]=Kxe(a,u,y),f[l]=g,f._top=MI(f,o,!0,s.type),f._bottom=MI(f,o,!1,s.type);const w=f._visualValues||(f._visualValues={});w[l]=g}}function bN(t,e){const r=t.scales;return Object.keys(r).filter(s=>r[s].axis===e).shift()}function Wxe(t,e){return lf(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Gxe(t,e,r){return lf(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function bg(t,e){const r=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[s]===void 0||i[s][r]===void 0)return;delete i[s][r],i[s]._visualValues!==void 0&&i[s]._visualValues[r]!==void 0&&delete i[s]._visualValues[r]}}}const wN=t=>t==="reset"||t==="none",UI=(t,e)=>e?t:Object.assign({},t),Xxe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Ez(r,!0),values:null};class j1{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=vN(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&bg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,s=this.getDataset(),a=(h,f,p,v)=>h==="x"?f:h==="r"?v:p,i=r.xAxisID=ur(s.xAxisID,bN(e,"x")),o=r.yAxisID=ur(s.yAxisID,bN(e,"y")),l=r.rAxisID=ur(s.rAxisID,bN(e,"r")),c=r.indexAxis,d=r.iAxisID=a(c,i,o,l),u=r.vAxisID=a(c,o,i,l);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(l),r.iScale=this.getScaleForId(d),r.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&vI(this._data,this),e._stacked&&bg(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),s=this._data;if(br(r)){const a=this._cachedMeta;this._data=qxe(r,a)}else if(s!==r){if(s){vI(s,this);const a=this._cachedMeta;bg(a),a._parsed=[]}r&&Object.isExtensible(r)&&F0e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,s=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=vN(r.vScale,r),r.stack!==s.stack&&(a=!0,bg(r),r.stack=s.stack),this._resyncElements(e),(a||i!==r._stacked)&&(LI(this,r._parsed),r._stacked=vN(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:s,_data:a}=this,{iScale:i,_stacked:o}=s,l=i.axis;let c=e===0&&r===a.length?!0:s._sorted,d=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=a,s._sorted=!0,f=a;else{gs(a[e])?f=this.parseArrayData(s,a,e,r):br(a[e])?f=this.parseObjectData(s,a,e,r):f=this.parsePrimitiveData(s,a,e,r);const p=()=>h[l]===null||d&&h[l]<d[l];for(u=0;u<r;++u)s._parsed[u+e]=h=f[u],c&&(p()&&(c=!1),d=h);s._sorted=c}o&&LI(this,f)}parsePrimitiveData(e,r,s,a){const{iScale:i,vScale:o}=e,l=i.axis,c=o.axis,d=i.getLabels(),u=i===o,h=new Array(a);let f,p,v;for(f=0,p=a;f<p;++f)v=f+s,h[f]={[l]:u||i.parse(d[v],v),[c]:o.parse(r[v],v)};return h}parseArrayData(e,r,s,a){const{xScale:i,yScale:o}=e,l=new Array(a);let c,d,u,h;for(c=0,d=a;c<d;++c)u=c+s,h=r[u],l[c]={x:i.parse(h[0],u),y:o.parse(h[1],u)};return l}parseObjectData(e,r,s,a){const{xScale:i,yScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let u,h,f,p;for(u=0,h=a;u<h;++u)f=u+s,p=r[f],d[u]={x:i.parse(WA(p,l),f),y:o.parse(WA(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,s){const a=this.chart,i=this._cachedMeta,o=r[e.axis],l={keys:Ez(a,!0),values:r._stacks[e.axis]._visualValues};return DI(l,o,i.index,{mode:s})}updateRangeFromParsed(e,r,s,a){const i=s[r.axis];let o=i===null?NaN:i;const l=a&&s._stacks[r.axis];a&&l&&(a.values=l,o=DI(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const s=this._cachedMeta,a=s._parsed,i=s._sorted&&e===s.iScale,o=a.length,l=this._getOtherScale(e),c=Xxe(r,s,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Vxe(l);let f,p;function v(){p=a[f];const y=p[l.axis];return!Ra(p[e.axis])||u>y||h<y}for(f=0;f<o&&!(!v()&&(this.updateRangeFromParsed(d,e,p,c),i));++f);if(i){for(f=o-1;f>=0;--f)if(!v()){this.updateRangeFromParsed(d,e,p,c);break}}return d}getAllParsedValues(e){const r=this._cachedMeta._parsed,s=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],Ra(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,s=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:s?""+s.getLabelForValue(i[s.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=$xe(ur(this.options.clip,Hxe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,s=this._cachedMeta,a=s.data||[],i=r.chartArea,o=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,i,l,c),u=l;u<l+c;++u){const h=a[u];h.hidden||(h.active&&d?o.push(h):h.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,r){const s=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,r,s){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Gxe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Wxe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=s,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",s){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,l=i[o],c=this.enableOptionSharing&&V0(s);if(l)return UI(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=a?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(os.elements[e]),v=()=>this.getContext(s,a,r),y=d.resolveNamedOptions(f,p,v,h);return y.$shared&&(y.$shared=c,i[o]=Object.freeze(UI(y,c))),y}_resolveAnimations(e,r,s){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,l=i[o];if(l)return l;let c;if(a.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,r),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,s,r))}const d=new Bz(a,c&&c.animations);return c&&c._cacheable&&(i[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||wN(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const s=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(s),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,s),{sharedOptions:i,includeOptions:o}}updateElement(e,r,s,a){wN(a)?Object.assign(e,s):this._resolveAnimations(r,a).update(e,s)}updateSharedOptions(e,r,s){e&&!wN(r)&&this._resolveAnimations(void 0,r).update(e,s)}_setStyle(e,r,s,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,s,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,r,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=s.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,s=!0){const a=this._cachedMeta,i=a.data,o=e+r;let l;const c=d=>{for(d.length+=r,l=d.length-1;l>=o;l--)d[l]=d[l-r]};for(c(i),l=e;l<o;++l)i[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,r),s&&this.updateElements(i,e,r,"reset")}updateElements(e,r,s,a){}_removeElements(e,r){const s=this._cachedMeta;if(this._parsing){const a=s._parsed.splice(e,r);s._stacked&&bg(s,a)}s.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,s,a]=e;this[r](s,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Yxe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let s=[];for(let a=0,i=r.length;a<i;a++)s=s.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=uz(s.sort((a,i)=>a-i))}return t._cache.$bar}function Jxe(t){const e=t.iScale,r=Yxe(e,t.type);let s=e._length,a,i,o,l;const c=()=>{o===32767||o===-32768||(V0(l)&&(s=Math.min(s,Math.abs(o-l)||s)),l=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),c();for(l=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),c();return s}function Zxe(t,e,r,s){const a=r.barThickness;let i,o;return $r(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function eye(t,e,r,s){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,l=t<a.length-1?a[t+1]:null;const c=r.categoryPercentage;o===null&&(o=i-(l===null?e.end-e.start:l-i)),l===null&&(l=i+i-o);const d=i-(i-Math.min(o,l))/2*c;return{chunk:Math.abs(l-o)/2*c/s,ratio:r.barPercentage,start:d}}function tye(t,e,r,s){const a=r.parse(t[0],s),i=r.parse(t[1],s),o=Math.min(a,i),l=Math.max(a,i);let c=o,d=l;Math.abs(o)>Math.abs(l)&&(c=l,d=o),e[r.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:i,min:o,max:l}}function kz(t,e,r,s){return gs(t)?tye(t,e,r,s):e[r.axis]=r.parse(t,s),e}function RI(t,e,r,s){const a=t.iScale,i=t.vScale,o=a.getLabels(),l=a===i,c=[];let d,u,h,f;for(d=r,u=r+s;d<u;++d)f=e[d],h={},h[a.axis]=l||a.parse(o[d],d),c.push(kz(f,h,i,d));return c}function jN(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function rye(t,e,r){return t!==0?mc(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function nye(t){let e,r,s,a,i;return t.horizontal?(e=t.base>t.x,r="left",s="right"):(e=t.base<t.y,r="bottom",s="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:s,reverse:e,top:a,bottom:i}}function sye(t,e,r,s){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:l,reverse:c,top:d,bottom:u}=nye(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===s?a=d:(r._bottom||0)===s?a=u:(i[QI(u,o,l,c)]=!0,a=d)),i[QI(a,o,l,c)]=!0,t.borderSkipped=i}function QI(t,e,r,s){return s?(t=aye(t,e,r),t=HI(t,r,e)):t=HI(t,e,r),t}function aye(t,e,r){return t===e?r:t===r?e:t}function HI(t,e,r){return t==="start"?e:t==="end"?r:t}function iye(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class oye extends j1{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,s,a){return RI(e,r,s,a)}parseArrayData(e,r,s,a){return RI(e,r,s,a)}parseObjectData(e,r,s,a){const{iScale:i,vScale:o}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=i.axis==="x"?l:c,u=o.axis==="x"?l:c,h=[];let f,p,v,y;for(f=s,p=s+a;f<p;++f)y=r[f],v={},v[i.axis]=i.parse(WA(y,d),f),h.push(kz(WA(y,u),v,o,f));return h}updateRangeFromParsed(e,r,s,a){super.updateRangeFromParsed(e,r,s,a);const i=s._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:s,vScale:a}=r,i=this.getParsed(e),o=i._custom,l=jN(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+s.getLabelForValue(i[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,s,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,a);for(let p=r;p<r+s;p++){const v=this.getParsed(p),y=i||$r(v[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),g=this._calculateBarIndexPixels(p,u),x=(v._stacks||{})[l.axis],w={horizontal:d,base:y.base,enableBorderRadius:!x||jN(v._custom)||o===x._top||o===x._bottom,x:d?y.head:g.center,y:d?g.center:y.head,height:d?g.size:Math.abs(y.size),width:d?Math.abs(y.size):g.size};f&&(w.options=h||this.resolveDataElementOptions(p,e[p].active?"active":a));const _=w.options||e[p].options;sye(w,_,x,o),iye(w,_,u.ratio),this.updateElement(e[p],p,w,a)}}_getStacks(e,r){const{iScale:s}=this._cachedMeta,a=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=s.options.stacked,o=[],l=this._cachedMeta.controller.getParsed(r),c=l&&l[s.axis],d=u=>{const h=u._parsed.find(p=>p[s.axis]===c),f=h&&h[u.vScale.axis];if($r(f)||isNaN(f))return!0};for(const u of a)if(!(r!==void 0&&d(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(s=>e[s].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)e[ur(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,s){const a=this._getStacks(e,s),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,s=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(s.getPixelForValue(this.getParsed(i)[s.axis],i));const l=e.barThickness;return{min:l||Jxe(r),pixels:a,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:s,index:a},options:{base:i,minBarLength:o}}=this,l=i||0,c=this.getParsed(e),d=c._custom,u=jN(d);let h=c[r.axis],f=0,p=s?this.applyStack(r,c,s):h,v,y;p!==h&&(f=p-h,p=h),u&&(h=d.barStart,p=d.barEnd-d.barStart,h!==0&&mc(h)!==mc(d.barEnd)&&(f=0),f+=h);const g=!$r(i)&&!u?i:f;let x=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?v=r.getPixelForValue(f+p):v=x,y=v-x,Math.abs(y)<o){y=rye(y,r,l)*o,h===l&&(x-=y/2);const w=r.getPixelForDecimal(0),_=r.getPixelForDecimal(1),k=Math.min(w,_),C=Math.max(w,_);x=Math.max(Math.min(x,C),k),v=x+y,s&&!u&&(c._stacks[r.axis]._visualValues[a]=r.getValueForPixel(v)-r.getValueForPixel(x))}if(x===r.getPixelForValue(l)){const w=mc(y)*r.getLineWidthForValue(l)/2;x+=w,y-=w}return{size:y,base:x,head:v,center:v+y/2}}_calculateBarIndexPixels(e,r){const s=r.scale,a=this.options,i=a.skipNull,o=ur(a.maxBarThickness,1/0);let l,c;const d=this._getAxisCount();if(r.grouped){const u=i?this._getStackCount(e):r.stackCount,h=a.barThickness==="flex"?eye(e,r,a,u*d):Zxe(e,r,a,u*d),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(ur(f,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+p;l=h.start+h.chunk*v+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(o,r.min*r.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,r=e.vScale,s=e.data,a=s.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!s[i].hidden&&s[i].draw(this._ctx)}}function lye(t,e,r){let s=1,a=1,i=0,o=0;if(e<Rn){const l=t,c=l+e,d=Math.cos(l),u=Math.sin(l),h=Math.cos(c),f=Math.sin(c),p=(_,k,C)=>W0(_,l,c,!0)?1:Math.max(k,k*r,C,C*r),v=(_,k,C)=>W0(_,l,c,!0)?-1:Math.min(k,k*r,C,C*r),y=p(0,d,h),g=p(Ps,u,f),x=v(Gr,d,h),w=v(Gr+Ps,u,f);s=(y-x)/2,a=(g-w)/2,i=-(y+x)/2,o=-(g+w)/2}return{ratioX:s,ratioY:a,offsetX:i,offsetY:o}}class Pz extends j1{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((c,d)=>{const h=e.getDatasetMeta(0).controller.getStyle(d);return{text:c,fillStyle:h.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(d),lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:h.borderWidth,strokeStyle:h.borderColor,textAlign:a,pointStyle:s,borderRadius:o&&(l||h.borderRadius),index:d}}):[]}},onClick(e,r,s){s.chart.toggleDataVisibility(r.index),s.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const s=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=s;else{let i=c=>+s[c];if(br(s[e])){const{key:c="value"}=this._parsing;i=d=>+WA(s[d],c)}let o,l;for(o=e,l=e+r;o<l;++o)a._parsed[o]=i(o)}}_getRotation(){return gd(this.options.rotation-90)}_getCircumference(){return gd(this.options.circumference)}_getRotationExtents(){let e=Rn,r=-Rn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const a=this.chart.getDatasetMeta(s).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:s}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-o)/2,0),c=Math.min(m0e(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:v,offsetY:y}=lye(h,u,c),g=(s.width-o)/f,x=(s.height-o)/p,w=Math.max(Math.min(g,x)/2,0),_=iz(this.options.radius,w),k=Math.max(_*c,0),C=(_-k)/this._getVisibleDatasetWeightTotal();this.offsetX=v*_,this.offsetY=y*_,a.total=this.calculateTotal(),this.outerRadius=_-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const s=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Rn)}updateElements(e,r,s,a){const i=a==="reset",o=this.chart,l=o.chartArea,d=o.options.animation,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=i&&d.animateScale,p=f?0:this.innerRadius,v=f?0:this.outerRadius,{sharedOptions:y,includeOptions:g}=this._getSharedOptions(r,a);let x=this._getRotation(),w;for(w=0;w<r;++w)x+=this._circumference(w,i);for(w=r;w<r+s;++w){const _=this._circumference(w,i),k=e[w],C={x:u+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+_,circumference:_,outerRadius:v,innerRadius:p};g&&(C.options=y||this.resolveDataElementOptions(w,k.active?"active":a)),x+=_,this.updateElement(k,w,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let s=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(s+=Math.abs(i))}return s}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Rn*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,s=this.chart,a=s.data.labels||[],i=GE(r._parsed[e],s.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const s=this.chart;let a,i,o,l,c;if(!e){for(a=0,i=s.data.datasets.length;a<i;++a)if(s.isDatasetVisible(a)){o=s.getDatasetMeta(a),e=o.data,l=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)c=l.resolveDataElementOptions(a),c.borderAlign!=="inner"&&(r=Math.max(r,c.borderWidth||0,c.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let s=0,a=e.length;s<a;++s){const i=this.resolveDataElementOptions(s);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(r+=this._getRingWeight(s));return r}_getRingWeight(e){return Math.max(ur(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cye extends j1{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:s,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:l,count:c}=I0e(r,a,o);this._drawStart=l,this._drawCount=c,D0e(r)&&(l=0,c=a.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!i._decimated,s.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,r,s,a){const i=a==="reset",{iScale:o,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(r,a),f=o.axis,p=l.axis,{spanGaps:v,segment:y}=this.options,g=K0(v)?v:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||i||a==="none",w=r+s,_=e.length;let k=r>0&&this.getParsed(r-1);for(let C=0;C<_;++C){const B=e[C],I=x?B:{};if(C<r||C>=w){I.skip=!0;continue}const S=this.getParsed(C),E=$r(S[p]),D=I[f]=o.getPixelForValue(S[f],C),N=I[p]=i||E?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,S,c):S[p],C);I.skip=isNaN(D)||isNaN(N)||E,I.stop=C>0&&Math.abs(S[f]-k[f])>g,y&&(I.parsed=S,I.raw=d.data[C]),h&&(I.options=u||this.resolveDataElementOptions(C,B.active?"active":a)),x||this.updateElement(B,C,I,a),k=S}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,s=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return s;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(s,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class dye extends Pz{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function dA(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rk{static override(e){Object.assign(rk.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return dA()}parse(){return dA()}format(){return dA()}add(){return dA()}diff(){return dA()}startOf(){return dA()}endOf(){return dA()}}var uye={_date:rk};function hye(t,e,r,s){const{controller:a,data:i,_sorted:o}=t,l=a._cachedMeta.iScale,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(l&&e===l.axis&&e!=="r"&&o&&i.length){const d=l._reversePixels?k0e:FA;if(s){if(a._sharedOptions){const u=i[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const f=d(i,e,r-h),p=d(i,e,r+h);return{lo:f.lo,hi:p.hi}}}}else{const u=d(i,e,r);if(c){const{vScale:h}=a._cachedMeta,{_parsed:f}=t,p=f.slice(0,u.lo+1).reverse().findIndex(y=>!$r(y[h.axis]));u.lo-=Math.max(0,p);const v=f.slice(u.hi).findIndex(y=>!$r(y[h.axis]));u.hi+=Math.max(0,v)}return u}}return{lo:0,hi:i.length-1}}function N1(t,e,r,s,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let l=0,c=i.length;l<c;++l){const{index:d,data:u}=i[l],{lo:h,hi:f}=hye(i[l],e,o,a);for(let p=h;p<=f;++p){const v=u[p];v.skip||s(v,d,p)}}}function Aye(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(s,a){const i=e?Math.abs(s.x-a.x):0,o=r?Math.abs(s.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function NN(t,e,r,s,a){const i=[];return!a&&!t.isPointInArea(e)||N1(t,r,e,function(l,c,d){!a&&!G0(l,t.chartArea,0)||l.inRange(e.x,e.y,s)&&i.push({element:l,datasetIndex:c,index:d})},!0),i}function fye(t,e,r,s){let a=[];function i(o,l,c){const{startAngle:d,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=cz(o,{x:e.x,y:e.y});W0(h,d,u)&&a.push({element:o,datasetIndex:l,index:c})}return N1(t,r,e,i),a}function mye(t,e,r,s,a,i){let o=[];const l=Aye(r);let c=Number.POSITIVE_INFINITY;function d(u,h,f){const p=u.inRange(e.x,e.y,a);if(s&&!p)return;const v=u.getCenterPoint(a);if(!(!!i||t.isPointInArea(v))&&!p)return;const g=l(e,v);g<c?(o=[{element:u,datasetIndex:h,index:f}],c=g):g===c&&o.push({element:u,datasetIndex:h,index:f})}return N1(t,r,e,d),o}function _N(t,e,r,s,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!s?fye(t,e,r,a):mye(t,e,r,s,a,i)}function $I(t,e,r,s,a){const i=[],o=r==="x"?"inXRange":"inYRange";let l=!1;return N1(t,r,e,(c,d,u)=>{c[o]&&c[o](e[r],a)&&(i.push({element:c,datasetIndex:d,index:u}),l=l||c.inRange(e.x,e.y,a))}),s&&!l?[]:i}var pye={modes:{index(t,e,r,s){const a=xA(e,t),i=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?NN(t,a,i,s,o):_N(t,a,i,!1,s,o),c=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(d=>{const u=l[0].index,h=d.data[u];h&&!h.skip&&c.push({element:h,datasetIndex:d.index,index:u})}),c):[]},dataset(t,e,r,s){const a=xA(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let l=r.intersect?NN(t,a,i,s,o):_N(t,a,i,!1,s,o);if(l.length>0){const c=l[0].datasetIndex,d=t.getDatasetMeta(c).data;l=[];for(let u=0;u<d.length;++u)l.push({element:d[u],datasetIndex:c,index:u})}return l},point(t,e,r,s){const a=xA(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return NN(t,a,i,s,o)},nearest(t,e,r,s){const a=xA(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return _N(t,a,i,r.intersect,s,o)},x(t,e,r,s){const a=xA(e,t);return $I(t,a,"x",r.intersect,s)},y(t,e,r,s){const a=xA(e,t);return $I(t,a,"y",r.intersect,s)}}};const Fz=["left","top","right","bottom"];function wg(t,e){return t.filter(r=>r.pos===e)}function qI(t,e){return t.filter(r=>Fz.indexOf(r.pos)===-1&&r.box.axis===e)}function jg(t,e){return t.sort((r,s)=>{const a=e?s:r,i=e?r:s;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function gye(t){const e=[];let r,s,a,i,o,l;for(r=0,s=(t||[]).length;r<s;++r)a=t[r],{position:i,options:{stack:o,stackWeight:l=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:l});return e}function xye(t){const e={};for(const r of t){const{stack:s,pos:a,stackWeight:i}=r;if(!s||!Fz.includes(a))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function yye(t,e){const r=xye(t),{vBoxMaxWidth:s,hBoxMaxHeight:a}=e;let i,o,l;for(i=0,o=t.length;i<o;++i){l=t[i];const{fullSize:c}=l.box,d=r[l.stack],u=d&&l.stackWeight/d.weight;l.horizontal?(l.width=u?u*s:c&&e.availableWidth,l.height=a):(l.width=s,l.height=u?u*a:c&&e.availableHeight)}return r}function vye(t){const e=gye(t),r=jg(e.filter(d=>d.box.fullSize),!0),s=jg(wg(e,"left"),!0),a=jg(wg(e,"right")),i=jg(wg(e,"top"),!0),o=jg(wg(e,"bottom")),l=qI(e,"x"),c=qI(e,"y");return{fullSize:r,leftAndTop:s.concat(i),rightAndBottom:a.concat(c).concat(o).concat(l),chartArea:wg(e,"chartArea"),vertical:s.concat(a).concat(c),horizontal:i.concat(o).concat(l)}}function zI(t,e,r,s){return Math.max(t[r],e[r])+Math.max(t[s],e[s])}function Tz(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bye(t,e,r,s){const{pos:a,box:i}=r,o=t.maxPadding;if(!br(a)){r.size&&(t[a]-=r.size);const h=s[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?i.height:i.width),r.size=h.size/h.count,t[a]+=r.size}i.getPadding&&Tz(o,i.getPadding());const l=Math.max(0,e.outerWidth-zI(o,t,"left","right")),c=Math.max(0,e.outerHeight-zI(o,t,"top","bottom")),d=l!==t.w,u=c!==t.h;return t.w=l,t.h=c,r.horizontal?{same:d,other:u}:{same:u,other:d}}function wye(t){const e=t.maxPadding;function r(s){const a=Math.max(e[s]-t[s],0);return t[s]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function jye(t,e){const r=e.maxPadding;function s(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return s(t?["left","right"]:["top","bottom"])}function Vg(t,e,r,s){const a=[];let i,o,l,c,d,u;for(i=0,o=t.length,d=0;i<o;++i){l=t[i],c=l.box,c.update(l.width||e.w,l.height||e.h,jye(l.horizontal,e));const{same:h,other:f}=bye(e,r,l,s);d|=h&&a.length,u=u||f,c.fullSize||a.push(l)}return d&&Vg(a,e,r,s)||u}function kv(t,e,r,s,a){t.top=r,t.left=e,t.right=e+s,t.bottom=r+a,t.width=s,t.height=a}function VI(t,e,r,s){const a=r.padding;let{x:i,y:o}=e;for(const l of t){const c=l.box,d=s[l.stack]||{placed:0,weight:1},u=l.stackWeight/d.weight||1;if(l.horizontal){const h=e.w*u,f=d.size||c.height;V0(d.start)&&(o=d.start),c.fullSize?kv(c,a.left,o,r.outerWidth-a.right-a.left,f):kv(c,e.left+d.placed,o,h,f),d.start=o,d.placed+=h,o=c.bottom}else{const h=e.h*u,f=d.size||c.width;V0(d.start)&&(i=d.start),c.fullSize?kv(c,i,a.top,f,r.outerHeight-a.bottom-a.top):kv(c,i,e.top+d.placed,f,h),d.start=i,d.placed+=h,i=c.right}}e.x=i,e.y=o}var Mo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,s){if(!t)return;const a=$o(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),l=vye(t.boxes),c=l.vertical,d=l.horizontal;Wr(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=c.reduce((y,g)=>g.box.options&&g.box.options.display===!1?y:y+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},a);Tz(f,$o(s));const p=Object.assign({maxPadding:f,w:i,h:o,x:a.left,y:a.top},a),v=yye(c.concat(d),h);Vg(l.fullSize,p,h,v),Vg(c,p,h,v),Vg(d,p,h,v)&&Vg(c,p,h,v),wye(p),VI(l.leftAndTop,p,h,v),p.x+=p.w,p.y+=p.h,VI(l.rightAndBottom,p,h,v),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Wr(l.chartArea,y=>{const g=y.box;Object.assign(g,t.chartArea),g.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Oz{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,s){}removeEventListener(e,r,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,s,a){return r=Math.max(0,r||e.width),s=s||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):s)}}isAttached(e){return!0}updateConfig(e){}}class Nye extends Oz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ub="$chartjs",_ye={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},KI=t=>t===null||t==="";function Cye(t,e){const r=t.style,s=t.getAttribute("height"),a=t.getAttribute("width");if(t[ub]={initial:{height:s,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",KI(a)){const i=kI(t,"width");i!==void 0&&(t.width=i)}if(KI(s))if(t.style.height==="")t.height=t.width/(e||2);else{const i=kI(t,"height");i!==void 0&&(t.height=i)}return t}const Iz=_xe?{passive:!0}:!1;function Sye(t,e,r){t&&t.addEventListener(e,r,Iz)}function Bye(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Iz)}function Eye(t,e){const r=_ye[t.type]||t.type,{x:s,y:a}=xA(t,e);return{type:r,chart:e,native:t,x:s!==void 0?s:null,y:a!==void 0?a:null}}function Xb(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function kye(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Xb(l.addedNodes,s),o=o&&!Xb(l.removedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Pye(t,e,r){const s=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const l of i)o=o||Xb(l.removedNodes,s),o=o&&!Xb(l.addedNodes,s);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Y0=new Map;let WI=0;function Dz(){const t=window.devicePixelRatio;t!==WI&&(WI=t,Y0.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Fye(t,e){Y0.size||window.addEventListener("resize",Dz),Y0.set(t,e)}function Tye(t){Y0.delete(t),Y0.size||window.removeEventListener("resize",Dz)}function Oye(t,e,r){const s=t.canvas,a=s&&tk(s);if(!a)return;const i=Az((l,c)=>{const d=a.clientWidth;r(l,c),d<a.clientWidth&&r()},window),o=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,u=c.contentRect.height;d===0&&u===0||i(d,u)});return o.observe(a),Fye(t,i),o}function CN(t,e,r){r&&r.disconnect(),e==="resize"&&Tye(t)}function Iye(t,e,r){const s=t.canvas,a=Az(i=>{t.ctx!==null&&r(Eye(i,t))},t);return Sye(s,e,a),a}class Dye extends Oz{acquireContext(e,r){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Cye(e,r),s):null}releaseContext(e){const r=e.canvas;if(!r[ub])return!1;const s=r[ub].initial;["height","width"].forEach(i=>{const o=s[i];$r(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=s.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[ub],!0}addEventListener(e,r,s){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:kye,detach:Pye,resize:Oye}[r]||Iye;a[r]=o(e,r,s)}removeEventListener(e,r){const s=e.$proxies||(e.$proxies={}),a=s[r];if(!a)return;({attach:CN,detach:CN,resize:CN}[r]||Bye)(e,r,a),s[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,s,a){return Nxe(e,r,s,a)}isAttached(e){const r=e&&tk(e);return!!(r&&r.isConnected)}}function Mye(t){return!ek()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Nye:Dye}let Qd=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}hasValue(){return K0(this.x)&&K0(this.y)}getProps(e,r){const s=this.$animations;if(!r||!s)return this;const a={};return e.forEach(i=>{a[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),a}};function Lye(t,e){const r=t.options.ticks,s=Uye(t),a=Math.min(r.maxTicksLimit||s,s),i=r.major.enabled?Qye(e):[],o=i.length,l=i[0],c=i[o-1],d=[];if(o>a)return Hye(e,d,i,o/a),d;const u=Rye(i,e,a);if(o>0){let h,f;const p=o>1?Math.round((c-l)/(o-1)):null;for(Pv(e,d,u,$r(p)?0:l-p,l),h=0,f=o-1;h<f;h++)Pv(e,d,u,i[h],i[h+1]);return Pv(e,d,u,c,$r(p)?e.length:c+p),d}return Pv(e,d,u),d}function Uye(t){const e=t.options.offset,r=t._tickSize(),s=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(s,a))}function Rye(t,e,r){const s=$ye(t),a=e.length/r;if(!s)return Math.max(a,1);const i=j0e(s);for(let o=0,l=i.length-1;o<l;o++){const c=i[o];if(c>a)return c}return Math.max(a,1)}function Qye(t){const e=[];let r,s;for(r=0,s=t.length;r<s;r++)t[r].major&&e.push(r);return e}function Hye(t,e,r,s){let a=0,i=r[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*s])}function Pv(t,e,r,s,a){const i=ur(s,0),o=Math.min(ur(a,t.length),t.length);let l=0,c,d,u;for(r=Math.ceil(r),a&&(c=a-s,r=c/Math.floor(c/r)),u=i;u<0;)l++,u=Math.round(i+l*r);for(d=Math.max(i,0);d<o;d++)d===u&&(e.push(t[d]),l++,u=Math.round(i+l*r))}function $ye(t){const e=t.length;let r,s;if(e<2)return!1;for(s=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==s)return!1;return s}const qye=t=>t==="left"?"right":t==="right"?"left":t,GI=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,XI=(t,e)=>Math.min(e||t,t);function YI(t,e){const r=[],s=t.length/e,a=t.length;let i=0;for(;i<a;i+=s)r.push(t[Math.floor(i)]);return r}function zye(t,e,r){const s=t.ticks.length,a=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,l=1e-6;let c=t.getPixelForTick(a),d;if(!(r&&(s===1?d=Math.max(c-i,o-c):e===0?d=(t.getPixelForTick(1)-c)/2:d=(c-t.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<i-l||c>o+l)))return c}function Vye(t,e){Wr(t,r=>{const s=r.gc,a=s.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[s[i]];s.splice(0,a)}})}function Ng(t){return t.drawTicks?t.tickLength:0}function JI(t,e){if(!t.display)return 0;const r=La(t.font,e),s=$o(t.padding);return(gs(t.text)?t.text.length:1)*r.lineHeight+s.height}function Kye(t,e){return lf(t,{scale:e,type:"scale"})}function Wye(t,e,r){return lf(t,{tick:r,index:e,type:"tick"})}function Gye(t,e,r){let s=KE(t);return(r&&e!=="right"||!r&&e==="right")&&(s=qye(s)),s}function Xye(t,e,r,s){const{top:a,left:i,bottom:o,right:l,chart:c}=t,{chartArea:d,scales:u}=c;let h=0,f,p,v;const y=o-a,g=l-i;if(t.isHorizontal()){if(p=ka(s,i,l),br(r)){const x=Object.keys(r)[0],w=r[x];v=u[x].getPixelForValue(w)+y-e}else r==="center"?v=(d.bottom+d.top)/2+y-e:v=GI(t,r,e);f=l-i}else{if(br(r)){const x=Object.keys(r)[0],w=r[x];p=u[x].getPixelForValue(w)-g+e}else r==="center"?p=(d.left+d.right)/2-g+e:p=GI(t,r,e);v=ka(s,o,a),h=r==="left"?-Ps:Ps}return{titleX:p,titleY:v,maxWidth:f,rotation:h}}class Dp extends Qd{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:s,_suggestedMax:a}=this;return e=rc(e,Number.POSITIVE_INFINITY),r=rc(r,Number.NEGATIVE_INFINITY),s=rc(s,Number.POSITIVE_INFINITY),a=rc(a,Number.NEGATIVE_INFINITY),{min:rc(e,s),max:rc(r,a),minDefined:Ra(e),maxDefined:Ra(r)}}getMinMax(e){let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:s};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)o=l[c].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(s=Math.max(s,o.max));return r=i&&r>s?s:r,s=a&&r>s?r:s,{min:rc(r,rc(s,r)),max:rc(s,rc(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wn(this.options.beforeUpdate,[this])}update(e,r,s){const{beginAtZero:a,grace:i,ticks:o}=this.options,l=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rxe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?YI(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Lye(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,s;this.isHorizontal()?(r=this.left,s=this.right):(r=this.top,s=this.bottom,e=!e),this._startPixel=r,this._endPixel=s,this._reversePixels=e,this._length=s-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wn(this.options.afterUpdate,[this])}beforeSetDimensions(){wn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let s,a,i;for(s=0,a=e.length;s<a;s++)i=e[s],i.label=wn(r.callback,[i.value,s,e],this)}afterTickToLabelConversion(){wn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,s=XI(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,l,c,d;if(!this._isVisible()||!r.display||a>=i||s<=1||!this.isHorizontal()){this.labelRotation=a;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=Ma(this.chart.width-h,0,this.maxWidth);l=e.offset?this.maxWidth/s:p/(s-1),h+6>l&&(l=p/(s-(e.offset?.5:1)),c=this.maxHeight-Ng(e.grid)-r.padding-JI(e.title,this.chart.options.font),d=Math.sqrt(h*h+f*f),o=S0e(Math.min(Math.asin(Ma((u.highest.height+6)/l,-1,1)),Math.asin(Ma(c/d,-1,1))-Math.asin(Ma(f/d,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){wn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:s,title:a,grid:i}}=this,o=this._isVisible(),l=this.isHorizontal();if(o){const c=JI(a,r.options.font);if(l?(e.width=this.maxWidth,e.height=Ng(i)+c):(e.height=this.maxHeight,e.width=Ng(i)+c),s.display&&this.ticks.length){const{first:d,last:u,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,v=gd(this.labelRotation),y=Math.cos(v),g=Math.sin(v);if(l){const x=s.mirror?0:g*h.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=s.mirror?0:y*h.width+g*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(d,u,g,y)}}this._handleMargins(),l?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,s,a){const{ticks:{align:i,padding:o},position:l}=this.options,c=this.labelRotation!==0,d=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=a*e.width,p=s*r.height):(f=s*e.height,p=a*r.width):i==="start"?p=r.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=r.height/2,h=e.height/2;i==="start"?(u=0,h=e.height):i==="end"&&(u=r.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,s;for(r=0,s=e.length;r<s;r++)$r(e[r].label)&&(e.splice(r,1),s--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let s=this.ticks;r<s.length&&(s=YI(s,r)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,s){const{ctx:a,_longestTextCache:i}=this,o=[],l=[],c=Math.floor(r/XI(r,s));let d=0,u=0,h,f,p,v,y,g,x,w,_,k,C;for(h=0;h<r;h+=c){if(v=e[h].label,y=this._resolveTickFontOptions(h),a.font=g=y.string,x=i[g]=i[g]||{data:{},gc:[]},w=y.lineHeight,_=k=0,!$r(v)&&!gs(v))_=_I(a,x.data,x.gc,_,v),k=w;else if(gs(v))for(f=0,p=v.length;f<p;++f)C=v[f],!$r(C)&&!gs(C)&&(_=_I(a,x.data,x.gc,_,C),k+=w);o.push(_),l.push(k),d=Math.max(_,d),u=Math.max(k,u)}Vye(i,r);const B=o.indexOf(d),I=l.indexOf(u),S=E=>({width:o[E]||0,height:l[E]||0});return{first:S(0),last:S(r-1),widest:S(B),highest:S(I),widths:o,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return E0e(this._alignToPixels?cA(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const s=r[e];return s.$context||(s.$context=Wye(this.getContext(),e,s))}return this.$context||(this.$context=Kye(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=gd(this.labelRotation),s=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,l=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>l*a?l/s:c/a:c*a<l*s?c/s:l/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,s=this.chart,a=this.options,{grid:i,position:o,border:l}=a,c=i.offset,d=this.isHorizontal(),h=this.ticks.length+(c?1:0),f=Ng(i),p=[],v=l.setContext(this.getContext()),y=v.display?v.width:0,g=y/2,x=function(z){return cA(s,z,y)};let w,_,k,C,B,I,S,E,D,N,T,Q;if(o==="top")w=x(this.bottom),I=this.bottom-f,E=w-g,N=x(e.top)+g,Q=e.bottom;else if(o==="bottom")w=x(this.top),N=e.top,Q=x(e.bottom)-g,I=w+g,E=this.top+f;else if(o==="left")w=x(this.right),B=this.right-f,S=w-g,D=x(e.left)+g,T=e.right;else if(o==="right")w=x(this.left),D=e.left,T=x(e.right)-g,B=w+g,S=this.left+f;else if(r==="x"){if(o==="center")w=x((e.top+e.bottom)/2+.5);else if(br(o)){const z=Object.keys(o)[0],ee=o[z];w=x(this.chart.scales[z].getPixelForValue(ee))}N=e.top,Q=e.bottom,I=w+g,E=I+f}else if(r==="y"){if(o==="center")w=x((e.left+e.right)/2);else if(br(o)){const z=Object.keys(o)[0],ee=o[z];w=x(this.chart.scales[z].getPixelForValue(ee))}B=w-g,S=B-f,D=e.left,T=e.right}const U=ur(a.ticks.maxTicksLimit,h),K=Math.max(1,Math.ceil(h/U));for(_=0;_<h;_+=K){const z=this.getContext(_),ee=i.setContext(z),G=l.setContext(z),q=ee.lineWidth,re=ee.color,Z=G.dash||[],$=G.dashOffset,L=ee.tickWidth,Y=ee.tickColor,X=ee.tickBorderDash||[],Ae=ee.tickBorderDashOffset;k=zye(this,_,c),k!==void 0&&(C=cA(s,k,q),d?B=S=D=T=C:I=E=N=Q=C,p.push({tx1:B,ty1:I,tx2:S,ty2:E,x1:D,y1:N,x2:T,y2:Q,width:q,color:re,borderDash:Z,borderDashOffset:$,tickWidth:L,tickColor:Y,tickBorderDash:X,tickBorderDashOffset:Ae}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const r=this.axis,s=this.options,{position:a,ticks:i}=s,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:u,mirror:h}=i,f=Ng(s.grid),p=f+u,v=h?-u:p,y=-gd(this.labelRotation),g=[];let x,w,_,k,C,B,I,S,E,D,N,T,Q="middle";if(a==="top")B=this.bottom-v,I=this._getXAxisLabelAlignment();else if(a==="bottom")B=this.top+v,I=this._getXAxisLabelAlignment();else if(a==="left"){const K=this._getYAxisLabelAlignment(f);I=K.textAlign,C=K.x}else if(a==="right"){const K=this._getYAxisLabelAlignment(f);I=K.textAlign,C=K.x}else if(r==="x"){if(a==="center")B=(e.top+e.bottom)/2+p;else if(br(a)){const K=Object.keys(a)[0],z=a[K];B=this.chart.scales[K].getPixelForValue(z)+p}I=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-p;else if(br(a)){const K=Object.keys(a)[0],z=a[K];C=this.chart.scales[K].getPixelForValue(z)}I=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(c==="start"?Q="top":c==="end"&&(Q="bottom"));const U=this._getLabelSizes();for(x=0,w=l.length;x<w;++x){_=l[x],k=_.label;const K=i.setContext(this.getContext(x));S=this.getPixelForTick(x)+i.labelOffset,E=this._resolveTickFontOptions(x),D=E.lineHeight,N=gs(k)?k.length:1;const z=N/2,ee=K.color,G=K.textStrokeColor,q=K.textStrokeWidth;let re=I;o?(C=S,I==="inner"&&(x===w-1?re=this.options.reverse?"left":"right":x===0?re=this.options.reverse?"right":"left":re="center"),a==="top"?d==="near"||y!==0?T=-N*D+D/2:d==="center"?T=-U.highest.height/2-z*D+D:T=-U.highest.height+D/2:d==="near"||y!==0?T=D/2:d==="center"?T=U.highest.height/2-z*D:T=U.highest.height-N*D,h&&(T*=-1),y!==0&&!K.showLabelBackdrop&&(C+=D/2*Math.sin(y))):(B=S,T=(1-N)*D/2);let Z;if(K.showLabelBackdrop){const $=$o(K.backdropPadding),L=U.heights[x],Y=U.widths[x];let X=T-$.top,Ae=0-$.left;switch(Q){case"middle":X-=L/2;break;case"bottom":X-=L;break}switch(I){case"center":Ae-=Y/2;break;case"right":Ae-=Y;break;case"inner":x===w-1?Ae-=Y:x>0&&(Ae-=Y/2);break}Z={left:Ae,top:X,width:Y+$.width,height:L+$.height,color:K.backdropColor}}g.push({label:k,font:E,textOffset:T,options:{rotation:y,color:ee,strokeColor:G,strokeWidth:q,textAlign:re,textBaseline:Q,translation:[C,B],backdrop:Z}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-gd(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:s,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),l=e+i,c=o.widest.width;let d,u;return r==="left"?a?(u=this.right+i,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u+=c)):(u=this.right-l,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u=this.left)):r==="right"?a?(u=this.left+i,s==="near"?d="right":s==="center"?(d="center",u-=c/2):(d="left",u-=c)):(u=this.left+l,s==="near"?d="left":s==="center"?(d="center",u+=c/2):(d="right",u=this.right)):d="right",{textAlign:d,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:s,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(s,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,s=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const l=(c,d,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(d.x,d.y),s.stroke(),s.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const c=a[i];r.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),r.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:s,grid:a}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,u,h,f;this.isHorizontal()?(d=cA(e,this.left,o)-o/2,u=cA(e,this.right,l)+l/2,h=f=c):(h=cA(e,this.top,o)-o/2,f=cA(e,this.bottom,l)+l/2,d=u=c),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(d,h),r.lineTo(u,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,a=this._computeLabelArea();a&&v1(s,a);const i=this.getLabelItems(e);for(const o of i){const l=o.options,c=o.font,d=o.label,u=o.textOffset;X0(s,d,0,u,c,l)}a&&b1(s)}drawTitle(){const{ctx:e,options:{position:r,title:s,reverse:a}}=this;if(!s.display)return;const i=La(s.font),o=$o(s.padding),l=s.align;let c=i.lineHeight/2;r==="bottom"||r==="center"||br(r)?(c+=o.bottom,gs(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;const{titleX:d,titleY:u,maxWidth:h,rotation:f}=Xye(this,c,r,l);X0(e,s.text,0,0,i,{color:s.color,maxWidth:h,rotation:f,textAlign:Gye(l,r,a),textBaseline:"middle",translation:[d,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,s=ur(e.grid&&e.grid.z,-1),a=ur(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dp.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const l=r[i];l[s]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return La(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Fv{constructor(e,r,s){this.type=e,this.scope=r,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let s;Zye(r)&&(s=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,Yye(e,o,s),this.override&&os.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,s=e.id,a=this.scope;s in r&&delete r[s],a&&s in os[a]&&(delete os[a][s],this.override&&delete GA[s])}}function Yye(t,e,r){const s=z0(Object.create(null),[r?os.get(r):{},os.get(e),t.defaults]);os.set(e,s),t.defaultRoutes&&Jye(e,t.defaultRoutes),t.descriptors&&os.describe(e,t.descriptors)}function Jye(t,e){Object.keys(e).forEach(r=>{const s=r.split("."),a=s.pop(),i=[t].concat(s).join("."),o=e[r].split("."),l=o.pop(),c=o.join(".");os.route(i,a,c,l)})}function Zye(t){return"id"in t&&"defaults"in t}class eve{constructor(){this.controllers=new Fv(j1,"datasets",!0),this.elements=new Fv(Qd,"elements"),this.plugins=new Fv(Object,"plugins"),this.scales=new Fv(Dp,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,s){[...r].forEach(a=>{const i=s||this._getRegistryForType(a);s||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Wr(a,o=>{const l=s||this._getRegistryForType(o);this._exec(e,l,o)})})}_exec(e,r,s){const a=zE(e);wn(s["before"+a],[],s),r[e](s),wn(s["after"+a],[],s)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const s=this._typedRegistries[r];if(s.isForType(e))return s}return this.plugins}_get(e,r,s){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return a}}var ic=new eve;class tve{constructor(){this._init=void 0}notify(e,r,s,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,s);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,s,a){a=a||{};for(const i of e){const o=i.plugin,l=o[s],c=[r,a,i.options];if(wn(l,c,o)===!1&&a.cancelable)return!1}return!0}invalidate(){$r(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const s=e&&e.config,a=ur(s.options&&s.options.plugins,{}),i=rve(s);return a===!1&&!r?[]:sve(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],s=this._cache,a=(i,o)=>i.filter(l=>!o.some(c=>l.plugin.id===c.plugin.id));this._notify(a(r,s),e,"stop"),this._notify(a(s,r),e,"start")}}function rve(t){const e={},r=[],s=Object.keys(ic.plugins.items);for(let i=0;i<s.length;i++)r.push(ic.getPlugin(s[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function nve(t,e){return!e&&t===!1?null:t===!0?{}:t}function sve(t,{plugins:e,localIds:r},s,a){const i=[],o=t.getContext();for(const l of e){const c=l.id,d=nve(s[c],a);d!==null&&i.push({plugin:l,options:ave(t.config,{plugin:l,local:r[c]},d,o)})}return i}function ave(t,{plugin:e,local:r},s,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function cB(t,e){const r=os.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function ive(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function ove(t,e){return t===e?"_index_":"_value_"}function ZI(t){if(t==="x"||t==="y"||t==="r")return t}function lve(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function dB(t,...e){if(ZI(t))return t;for(const r of e){const s=r.axis||lve(r.position)||t.length>1&&ZI(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function eD(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function cve(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(r.length)return eD(t,"x",r[0])||eD(t,"y",r[0])}return{}}function dve(t,e){const r=GA[t.type]||{scales:{}},s=e.scales||{},a=cB(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{const l=s[o];if(!br(l))return console.error(`Invalid scale configuration for scale: ${o}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=dB(o,l,cve(o,t),os.scales[l.type]),d=ove(c,a),u=r.scales||{};i[o]=f0(Object.create(null),[{axis:c},l,u[c],u[d]])}),t.data.datasets.forEach(o=>{const l=o.type||t.type,c=o.indexAxis||cB(l,e),u=(GA[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=ive(h,c),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),f0(i[p],[{axis:f},s[p],u[h]])})}),Object.keys(i).forEach(o=>{const l=i[o];f0(l,[os.scales[l.type],os.scale])}),i}function Mz(t){const e=t.options||(t.options={});e.plugins=ur(e.plugins,{}),e.scales=dve(t,e)}function Lz(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uve(t){return t=t||{},t.data=Lz(t.data),Mz(t),t}const tD=new Map,Uz=new Set;function Tv(t,e){let r=tD.get(t);return r||(r=e(),tD.set(t,r),Uz.add(r)),r}const _g=(t,e,r)=>{const s=WA(e,r);s!==void 0&&t.add(s)};class hve{constructor(e){this._config=uve(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Lz(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Mz(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Tv(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Tv(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Tv(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,s=this.type;return Tv(`${s}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const s=this._scopeCache;let a=s.get(e);return(!a||r)&&(a=new Map,s.set(e,a)),a}getOptionScopes(e,r,s){const{options:a,type:i}=this,o=this._cachedScopes(e,s),l=o.get(r);if(l)return l;const c=new Set;r.forEach(u=>{e&&(c.add(e),u.forEach(h=>_g(c,e,h))),u.forEach(h=>_g(c,a,h)),u.forEach(h=>_g(c,GA[i]||{},h)),u.forEach(h=>_g(c,os,h)),u.forEach(h=>_g(c,oB,h))});const d=Array.from(c);return d.length===0&&d.push(Object.create(null)),Uz.has(r)&&o.set(r,d),d}chartOptionScopes(){const{options:e,type:r}=this;return[e,GA[r]||{},os.datasets[r]||{},{type:r},os,oB]}resolveNamedOptions(e,r,s,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:l}=rD(this._resolverCache,e,a);let c=o;if(fve(o,r)){i.$shared=!1,s=vh(s)?s():s;const d=this.createResolver(e,s,l);c=np(o,s,d)}for(const d of r)i[d]=c[d];return i}createResolver(e,r,s=[""],a){const{resolver:i}=rD(this._resolverCache,e,s);return br(r)?np(i,r,void 0,a):i}}function rD(t,e,r){let s=t.get(e);s||(s=new Map,t.set(e,s));const a=r.join();let i=s.get(a);return i||(i={resolver:YE(e,r),subPrefixes:r.filter(l=>!l.toLowerCase().includes("hover"))},s.set(a,i)),i}const Ave=t=>br(t)&&Object.getOwnPropertyNames(t).some(e=>vh(t[e]));function fve(t,e){const{isScriptable:r,isIndexable:s}=gz(t);for(const a of e){const i=r(a),o=s(a),l=(o||i)&&t[a];if(i&&(vh(l)||Ave(l))||o&&gs(l))return!0}return!1}var mve="4.5.1";const pve=["top","bottom","left","right","chartArea"];function nD(t,e){return t==="top"||t==="bottom"||pve.indexOf(t)===-1&&e==="x"}function sD(t,e){return function(r,s){return r[t]===s[t]?r[e]-s[e]:r[t]-s[t]}}function aD(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),wn(r&&r.onComplete,[t],e)}function gve(t){const e=t.chart,r=e.options.animation;wn(r&&r.onProgress,[t],e)}function Rz(t){return ek()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hb={},iD=t=>{const e=Rz(t);return Object.values(hb).filter(r=>r.canvas===e).pop()};function xve(t,e,r){const s=Object.keys(t);for(const a of s){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function yve(t,e,r,s){return!r||t.type==="mouseout"?null:s?e:t}let cf=class{static defaults=os;static instances=hb;static overrides=GA;static registry=ic;static version=mve;static getChart=iD;static register(...e){ic.add(...e),oD()}static unregister(...e){ic.remove(...e),oD()}constructor(e,r){const s=this.config=new hve(r),a=Rz(e),i=iD(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||Mye(a)),this.platform.updateConfig(s);const l=this.platform.acquireContext(a,o.aspectRatio),c=l&&l.canvas,d=c&&c.height,u=c&&c.width;if(this.id=f0e(),this.ctx=l,this.canvas=c,this.width=u,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tve,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=T0e(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],hb[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}cd.listen(this,"complete",aD),cd.listen(this,"progress",gve),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:s,height:a,_aspectRatio:i}=this;return $r(e)?r&&i?i:a?s/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return ic}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():EI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return CI(this.canvas,this.ctx),this}stop(){return cd.stop(this),this}resize(e,r){cd.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const s=this.options,a=this.canvas,i=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),l=s.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,EI(this,l,!0)&&(this.notifyPlugins("resize",{size:o}),wn(s.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Wr(r,(s,a)=>{s.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,s=this.scales,a=Object.keys(s).reduce((o,l)=>(o[l]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const l=r[o],c=dB(o,l),d=c==="r",u=c==="x";return{options:l,dposition:d?"chartArea":u?"bottom":"left",dtype:d?"radialLinear":u?"category":"linear"}}))),Wr(i,o=>{const l=o.options,c=l.id,d=dB(c,l),u=ur(l.type,o.dtype);(l.position===void 0||nD(l.position,d)!==nD(o.dposition))&&(l.position=o.dposition),a[c]=!0;let h=null;if(c in s&&s[c].type===u)h=s[c];else{const f=ic.getScale(u);h=new f({id:c,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(l,e)}),Wr(a,(o,l)=>{o||delete s[l]}),Wr(s,o=>{Mo.configure(this,o,o.options),Mo.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,s=e.length;if(e.sort((a,i)=>a.index-i.index),s>r){for(let a=r;a<s;++a)this._destroyDatasetMeta(a);e.splice(r,s-r)}this._sortedMetasets=e.slice(0).sort(sD("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((s,a)=>{r.filter(i=>i===s._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let s,a;for(this._removeUnreferencedMetasets(),s=0,a=r.length;s<a;s++){const i=r[s];let o=this.getDatasetMeta(s);const l=i.type||this.config.type;if(o.type&&o.type!==l&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=l,o.indexAxis=i.indexAxis||cB(l,this.options),o.order=i.order||0,o.index=s,o.label=""+i.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const c=ic.getController(l),{datasetElementType:d,dataElementType:u}=os.datasets[l];Object.assign(c,{dataElementType:ic.getElement(u),datasetElementType:d&&ic.getElement(d)}),o.controller=new c(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Wr(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const s=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,u=this.data.datasets.length;d<u;d++){const{controller:h}=this.getDatasetMeta(d),f=!a&&i.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),a||Wr(i,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(sD("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Wr(this.scales,e=>{Mo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!pI(r,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:s,start:a,count:i}of r){const o=s==="_removeElements"?-i:i;xve(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,s=i=>new Set(e.filter(o=>o[0]===i).map((o,l)=>l+","+o.splice(1).join(","))),a=s(0);for(let i=1;i<r;i++)if(!pI(a,s(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mo.update(this,this.width,this.height,e);const r=this.chartArea,s=r.width<=0||r.height<=0;this._layers=[],Wr(this.boxes,a=>{s&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,s=this.data.datasets.length;r<s;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,s=this.data.datasets.length;r<s;++r)this._updateDataset(r,vh(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const s=this.getDatasetMeta(e),a={meta:s,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(s.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(cd.has(this)?this.attached&&!cd.running(this)&&cd.start(this):(this.draw(),aD({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,s=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,s={meta:e,index:e.index,cancelable:!0},a=Sz(this,e);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(a&&v1(r,a),e.controller.draw(),a&&b1(r),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(e){return G0(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,s,a){const i=pye.modes[r];return typeof i=="function"?i(this,e,s,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],s=this._metasets;let a=s.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},s.push(a)),a}getContext(){return this.$context||(this.$context=lf(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!r.hidden}setDatasetVisibility(e,r){const s=this.getDatasetMeta(e);s.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,s){const a=s?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);V0(r)?(i.data[r].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(i,{visible:s}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),cd.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),CI(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete hb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,s=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,l)=>{i.offsetX=o,i.offsetY=l,this._eventHandler(i)};Wr(this.options.events,i=>s(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,s=(c,d)=>{r.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(r.removeEventListener(this,c,d),delete e[c])},i=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const l=()=>{a("attach",l),this.attached=!0,this.resize(),s("resize",i),s("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),s("attach",l)},r.isAttached(this.canvas)?l():o()}unbindEvents(){Wr(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Wr(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,s){const a=s?"set":"remove";let i,o,l,c;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){o=e[l];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],s=e.map(({datasetIndex:i,index:o})=>{const l=this.getDatasetMeta(i);if(!l)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:l.data[o],index:o}});!zb(s,r)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,r))}notifyPlugins(e,r,s){return this._plugins.notify(this,e,r,s)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,s){const a=this.options.hover,i=(c,d)=>c.filter(u=>!d.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=i(r,e),l=s?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,r){const s={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,a)===!1)return;const i=this._handleEvent(e,r,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,a),(i||s.changed)&&this.render(),this}_handleEvent(e,r,s){const{_active:a=[],options:i}=this,o=r,l=this._getActiveElements(e,a,s,o),c=v0e(e),d=yve(e,this._lastEvent,s,c);s&&(this._lastEvent=null,wn(i.onHover,[e,l,this],this),c&&wn(i.onClick,[e,l,this],this));const u=!zb(l,a);return(u||r)&&(this._active=l,this._updateHoverStyles(l,a,r)),this._lastEvent=d,u}_getActiveElements(e,r,s,a){if(e.type==="mouseout")return[];if(!s)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}};function oD(){return Wr(cf.instances,t=>t._plugins.invalidate())}function vve(t,e,r){const{startAngle:s,x:a,y:i,outerRadius:o,innerRadius:l,options:c}=e,{borderWidth:d,borderJoinStyle:u}=c,h=Math.min(d/o,eo(s-r));if(t.beginPath(),t.arc(a,i,o-d/2,s+h/2,r-h/2),l>0){const f=Math.min(d/l,eo(s-r));t.arc(a,i,l+d/2,r-f/2,s+f/2,!0)}else{const f=Math.min(d/2,o*eo(s-r));if(u==="round")t.arc(a,i,f,r-Gr/2,s+Gr/2,!0);else if(u==="bevel"){const p=2*f*f,v=-p*Math.cos(r+Gr/2)+a,y=-p*Math.sin(r+Gr/2)+i,g=p*Math.cos(s+Gr/2)+a,x=p*Math.sin(s+Gr/2)+i;t.lineTo(v,y),t.lineTo(g,x)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function bve(t,e,r){const{startAngle:s,pixelMargin:a,x:i,y:o,outerRadius:l,innerRadius:c}=e;let d=a/l;t.beginPath(),t.arc(i,o,l,s-d,r+d),c>a?(d=a/c,t.arc(i,o,c,r+d,s-d,!0)):t.arc(i,o,a,r+Ps,s-Ps),t.closePath(),t.clip()}function wve(t){return XE(t,["outerStart","outerEnd","innerStart","innerEnd"])}function jve(t,e,r,s){const a=wve(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,s*e/2),l=c=>{const d=(r-Math.min(i,c))*s/2;return Ma(c,0,Math.min(i,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ma(a.innerStart,0,o),innerEnd:Ma(a.innerEnd,0,o)}}function hm(t,e,r,s){return{x:r+t*Math.cos(e),y:s+t*Math.sin(e)}}function Yb(t,e,r,s,a,i){const{x:o,y:l,startAngle:c,pixelMargin:d,innerRadius:u}=e,h=Math.max(e.outerRadius+s+r-d,0),f=u>0?u+s+r+d:0;let p=0;const v=a-c;if(s){const K=u>0?u-s:0,z=h>0?h-s:0,ee=(K+z)/2,G=ee!==0?v*ee/(ee+s):v;p=(v-G)/2}const y=Math.max(.001,v*h-r/Gr)/h,g=(v-y)/2,x=c+g+p,w=a-g-p,{outerStart:_,outerEnd:k,innerStart:C,innerEnd:B}=jve(e,f,h,w-x),I=h-_,S=h-k,E=x+_/I,D=w-k/S,N=f+C,T=f+B,Q=x+C/N,U=w-B/T;if(t.beginPath(),i){const K=(E+D)/2;if(t.arc(o,l,h,E,K),t.arc(o,l,h,K,D),k>0){const q=hm(S,D,o,l);t.arc(q.x,q.y,k,D,w+Ps)}const z=hm(T,w,o,l);if(t.lineTo(z.x,z.y),B>0){const q=hm(T,U,o,l);t.arc(q.x,q.y,B,w+Ps,U+Math.PI)}const ee=(w-B/f+(x+C/f))/2;if(t.arc(o,l,f,w-B/f,ee,!0),t.arc(o,l,f,ee,x+C/f,!0),C>0){const q=hm(N,Q,o,l);t.arc(q.x,q.y,C,Q+Math.PI,x-Ps)}const G=hm(I,x,o,l);if(t.lineTo(G.x,G.y),_>0){const q=hm(I,E,o,l);t.arc(q.x,q.y,_,x-Ps,E)}}else{t.moveTo(o,l);const K=Math.cos(E)*h+o,z=Math.sin(E)*h+l;t.lineTo(K,z);const ee=Math.cos(D)*h+o,G=Math.sin(D)*h+l;t.lineTo(ee,G)}t.closePath()}function Nve(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l}=e;let c=e.endAngle;if(i){Yb(t,e,r,s,c,a);for(let d=0;d<i;++d)t.fill();isNaN(l)||(c=o+(l%Rn||Rn))}return Yb(t,e,r,s,c,a),t.fill(),c}function _ve(t,e,r,s,a){const{fullCircles:i,startAngle:o,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:u,borderDash:h,borderDashOffset:f,borderRadius:p}=c,v=c.borderAlign==="inner";if(!d)return;t.setLineDash(h||[]),t.lineDashOffset=f,v?(t.lineWidth=d*2,t.lineJoin=u||"round"):(t.lineWidth=d,t.lineJoin=u||"bevel");let y=e.endAngle;if(i){Yb(t,e,r,s,y,a);for(let g=0;g<i;++g)t.stroke();isNaN(l)||(y=o+(l%Rn||Rn))}v&&bve(t,e,y),c.selfJoin&&y-o>=Gr&&p===0&&u!=="miter"&&vve(t,e,y),i||(Yb(t,e,r,s,y,a),t.stroke())}class nk extends Qd{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,s){const a=this.getProps(["x","y"],s),{angle:i,distance:o}=cz(a,{x:e,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:u,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),f=(this.options.spacing+this.options.borderWidth)/2,p=ur(h,c-l),v=W0(i,l,c)&&l!==c,y=p>=Rn||v,g=xd(o,d+f,u+f);return y&&g}getCenterPoint(e){const{x:r,y:s,startAngle:a,endAngle:i,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:d}=this.options,u=(a+i)/2,h=(o+l+d+c)/2;return{x:r+Math.cos(u)*h,y:s+Math.sin(u)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:s}=this,a=(r.offset||0)/4,i=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>Rn?Math.floor(s/Rn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const c=1-Math.sin(Math.min(Gr,s||0)),d=a*c;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,Nve(e,this,d,i,o),_ve(e,this,d,i,o),e.restore()}}function Qz(t,e,r=e){t.lineCap=ur(r.borderCapStyle,e.borderCapStyle),t.setLineDash(ur(r.borderDash,e.borderDash)),t.lineDashOffset=ur(r.borderDashOffset,e.borderDashOffset),t.lineJoin=ur(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=ur(r.borderWidth,e.borderWidth),t.strokeStyle=ur(r.borderColor,e.borderColor)}function Cve(t,e,r){t.lineTo(r.x,r.y)}function Sve(t){return t.stepped?K0e:t.tension||t.cubicInterpolationMode==="monotone"?W0e:Cve}function Hz(t,e,r={}){const s=t.length,{start:a=0,end:i=s-1}=r,{start:o,end:l}=e,c=Math.max(a,o),d=Math.min(i,l),u=a<o&&i<o||a>l&&i>l;return{count:s,start:c,loop:e.loop,ilen:d<c&&!u?s+d-c:d-c}}function Bve(t,e,r,s){const{points:a,options:i}=e,{count:o,start:l,loop:c,ilen:d}=Hz(a,r,s),u=Sve(i);let{move:h=!0,reverse:f}=s||{},p,v,y;for(p=0;p<=d;++p)v=a[(l+(f?d-p:p))%o],!v.skip&&(h?(t.moveTo(v.x,v.y),h=!1):u(t,y,v,f,i.stepped),y=v);return c&&(v=a[(l+(f?d:0))%o],u(t,y,v,f,i.stepped)),!!c}function Eve(t,e,r,s){const a=e.points,{count:i,start:o,ilen:l}=Hz(a,r,s),{move:c=!0,reverse:d}=s||{};let u=0,h=0,f,p,v,y,g,x;const w=k=>(o+(d?l-k:k))%i,_=()=>{y!==g&&(t.lineTo(u,g),t.lineTo(u,y),t.lineTo(u,x))};for(c&&(p=a[w(0)],t.moveTo(p.x,p.y)),f=0;f<=l;++f){if(p=a[w(f)],p.skip)continue;const k=p.x,C=p.y,B=k|0;B===v?(C<y?y=C:C>g&&(g=C),u=(h*u+k)/++h):(_(),t.lineTo(k,C),v=B,h=0,y=g=C),x=C}_()}function uB(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Eve:Bve}function kve(t){return t.stepped?Cxe:t.tension||t.cubicInterpolationMode==="monotone"?Sxe:yA}function Pve(t,e,r,s){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,s)&&a.closePath()),Qz(t,e.options),t.stroke(a)}function Fve(t,e,r,s){const{segments:a,options:i}=e,o=uB(e);for(const l of a)Qz(t,i,l.style),t.beginPath(),o(t,e,l,{start:r,end:r+s-1})&&t.closePath(),t.stroke()}const Tve=typeof Path2D=="function";function Ove(t,e,r,s){Tve&&!e.options.segment?Pve(t,e,r,s):Fve(t,e,r,s)}class df extends Qd{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const a=s.spanGaps?this._loop:this._fullLoop;xxe(this._points,s,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Txe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,s=e.length;return s&&r[e[s-1].end]}interpolate(e,r){const s=this.options,a=e[r],i=this.points,o=Cz(this,{property:r,start:a,end:a});if(!o.length)return;const l=[],c=kve(s);let d,u;for(d=0,u=o.length;d<u;++d){const{start:h,end:f}=o[d],p=i[h],v=i[f];if(p===v){l.push(p);continue}const y=Math.abs((a-p[r])/(v[r]-p[r])),g=c(p,v,y,s.stepped);g[r]=e[r],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,r,s){return uB(this)(e,this,r,s)}path(e,r,s){const a=this.segments,i=uB(this);let o=this._loop;r=r||0,s=s||this.points.length-r;for(const l of a)o&=i(e,this,l,{start:r,end:r+s-1});return!!o}draw(e,r,s,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Ove(e,this,s,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function lD(t,e,r,s){const a=t.options,{[r]:i}=t.getProps([r],s);return Math.abs(e-i)<a.radius+a.hitRadius}class _1 extends Qd{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,s){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],s);return Math.pow(e-i,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,r){return lD(this,e,"x",r)}inYRange(e,r){return lD(this,e,"y",r)}getCenterPoint(e){const{x:r,y:s}=this.getProps(["x","y"],e);return{x:r,y:s}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const s=r&&e.borderWidth||0;return(r+s)*2}draw(e,r){const s=this.options;this.skip||s.radius<.1||!G0(this,r,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,lB(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function $z(t,e){const{x:r,y:s,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let l,c,d,u,h;return t.horizontal?(h=o/2,l=Math.min(r,a),c=Math.max(r,a),d=s-h,u=s+h):(h=i/2,l=r-h,c=r+h,d=Math.min(s,a),u=Math.max(s,a)),{left:l,top:d,right:c,bottom:u}}function nh(t,e,r,s){return t?0:Ma(e,r,s)}function Ive(t,e,r){const s=t.options.borderWidth,a=t.borderSkipped,i=pz(s);return{t:nh(a.top,i.top,0,r),r:nh(a.right,i.right,0,e),b:nh(a.bottom,i.bottom,0,r),l:nh(a.left,i.left,0,e)}}function Dve(t,e,r){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=Km(a),o=Math.min(e,r),l=t.borderSkipped,c=s||br(a);return{topLeft:nh(!c||l.top||l.left,i.topLeft,0,o),topRight:nh(!c||l.top||l.right,i.topRight,0,o),bottomLeft:nh(!c||l.bottom||l.left,i.bottomLeft,0,o),bottomRight:nh(!c||l.bottom||l.right,i.bottomRight,0,o)}}function Mve(t){const e=$z(t),r=e.right-e.left,s=e.bottom-e.top,a=Ive(t,r/2,s/2),i=Dve(t,r/2,s/2);return{outer:{x:e.left,y:e.top,w:r,h:s,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function SN(t,e,r,s){const a=e===null,i=r===null,l=t&&!(a&&i)&&$z(t,s);return l&&(a||xd(e,l.left,l.right))&&(i||xd(r,l.top,l.bottom))}function Lve(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Uve(t,e){t.rect(e.x,e.y,e.w,e.h)}function BN(t,e,r={}){const s=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-s,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+s,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class sk extends Qd{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:s,backgroundColor:a}}=this,{inner:i,outer:o}=Mve(this),l=Lve(o.radius)?Wb:Uve;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),l(e,BN(o,r,i)),e.clip(),l(e,BN(i,-r,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),l(e,BN(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,s){return SN(this,e,r,s)}inXRange(e,r){return SN(this,e,null,r)}inYRange(e,r){return SN(this,null,e,r)}getCenterPoint(e){const{x:r,y:s,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?s:(s+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}function Rve(t,e,r){const s=t.segments,a=t.points,i=e.points,o=[];for(const l of s){let{start:c,end:d}=l;d=C1(c,d,a);const u=hB(r,a[c],a[d],l.loop);if(!e.segments){o.push({source:l,target:u,start:a[c],end:a[d]});continue}const h=Cz(e,u);for(const f of h){const p=hB(r,i[f.start],i[f.end],f.loop),v=_z(l,a,p);for(const y of v)o.push({source:y,target:f,start:{[r]:cD(u,p,"start",Math.max)},end:{[r]:cD(u,p,"end",Math.min)}})}}return o}function hB(t,e,r,s){if(s)return;let a=e[t],i=r[t];return t==="angle"&&(a=eo(a),i=eo(i)),{property:t,start:a,end:i}}function Qve(t,e){const{x:r=null,y:s=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:l})=>{l=C1(o,l,a);const c=a[o],d=a[l];s!==null?(i.push({x:c.x,y:s}),i.push({x:d.x,y:s})):r!==null&&(i.push({x:r,y:c.y}),i.push({x:r,y:d.y}))}),i}function C1(t,e,r){for(;e>t;e--){const s=r[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function cD(t,e,r,s){return t&&e?s(t[r],e[r]):t?t[r]:e?e[r]:0}function qz(t,e){let r=[],s=!1;return gs(t)?(s=!0,r=t):r=Qve(t,e),r.length?new df({points:r,options:{tension:0},_loop:s,_fullLoop:s}):null}function dD(t){return t&&t.fill!==!1}function Hve(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!Ra(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function $ve(t,e,r){const s=Kve(t);if(br(s))return isNaN(s.value)?!1:s;let a=parseFloat(s);return Ra(a)&&Math.floor(a)===a?qve(s[0],e,a,r):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function qve(t,e,r,s){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=s?!1:r}function zve(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:br(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function Vve(t,e,r){let s;return t==="start"?s=r:t==="end"?s=e.options.reverse?e.min:e.max:br(t)?s=t.value:s=e.getBaseValue(),s}function Kve(t){const e=t.options,r=e.fill;let s=ur(r&&r.target,r);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function Wve(t){const{scale:e,index:r,line:s}=t,a=[],i=s.segments,o=s.points,l=Gve(e,r);l.push(qz({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){const d=i[c];for(let u=d.start;u<=d.end;u++)Xve(a,o[u],l)}return new df({points:a,options:{}})}function Gve(t,e){const r=[],s=t.getMatchingVisibleMetas("line");for(let a=0;a<s.length;a++){const i=s[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function Xve(t,e,r){const s=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:l,point:c}=Yve(i,e,"x");if(!(!c||o&&l)){if(o)s.unshift(c);else if(t.push(c),!l)break}}t.push(...s)}function Yve(t,e,r){const s=t.interpolate(e,r);if(!s)return{};const a=s[r],i=t.segments,o=t.points;let l=!1,c=!1;for(let d=0;d<i.length;d++){const u=i[d],h=o[u.start][r],f=o[u.end][r];if(xd(a,h,f)){l=a===h,c=a===f;break}}return{first:l,last:c,point:s}}class zz{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,s){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Rn},e.arc(a,i,o,r.end,r.start,!0),!s.bounds}interpolate(e){const{x:r,y:s,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:s+Math.sin(i)*a,angle:i}}}function Jve(t){const{chart:e,fill:r,line:s}=t;if(Ra(r))return Zve(e,r);if(r==="stack")return Wve(t);if(r==="shape")return!0;const a=ebe(t);return a instanceof zz?a:qz(a,s)}function Zve(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function ebe(t){return(t.scale||{}).getPointPositionForValue?rbe(t):tbe(t)}function tbe(t){const{scale:e={},fill:r}=t,s=zve(r,e);if(Ra(s)){const a=e.isHorizontal();return{x:a?s:null,y:a?null:s}}return null}function rbe(t){const{scale:e,fill:r}=t,s=e.options,a=e.getLabels().length,i=s.reverse?e.max:e.min,o=Vve(r,e,i),l=[];if(s.grid.circular){const c=e.getPointPositionForValue(0,i);return new zz({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,o));return l}function EN(t,e,r){const s=Jve(e),{chart:a,index:i,line:o,scale:l,axis:c}=e,d=o.options,u=d.fill,h=d.backgroundColor,{above:f=h,below:p=h}=u||{},v=a.getDatasetMeta(i),y=Sz(a,v);s&&o.points.length&&(v1(t,r),nbe(t,{line:o,target:s,above:f,below:p,area:r,scale:l,axis:c,clip:y}),b1(t))}function nbe(t,e){const{line:r,target:s,above:a,below:i,area:o,scale:l,clip:c}=e,d=r._loop?"angle":e.axis;t.save();let u=i;i!==a&&(d==="x"?(uD(t,s,o.top),kN(t,{line:r,target:s,color:a,scale:l,property:d,clip:c}),t.restore(),t.save(),uD(t,s,o.bottom)):d==="y"&&(hD(t,s,o.left),kN(t,{line:r,target:s,color:i,scale:l,property:d,clip:c}),t.restore(),t.save(),hD(t,s,o.right),u=a)),kN(t,{line:r,target:s,color:u,scale:l,property:d,clip:c}),t.restore()}function uD(t,e,r){const{segments:s,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],h=a[C1(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,r),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(h.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function hD(t,e,r){const{segments:s,points:a}=e;let i=!0,o=!1;t.beginPath();for(const l of s){const{start:c,end:d}=l,u=a[c],h=a[C1(c,d,a)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(r,u.y),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,l,{move:o}),o?t.closePath():t.lineTo(r,h.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function kN(t,e){const{line:r,target:s,property:a,color:i,scale:o,clip:l}=e,c=Rve(r,s,a);for(const{source:d,target:u,start:h,end:f}of c){const{style:{backgroundColor:p=i}={}}=d,v=s!==!0;t.save(),t.fillStyle=p,sbe(t,o,l,v&&hB(a,h,f)),t.beginPath();const y=!!r.pathSegment(t,d);let g;if(v){y?t.closePath():AD(t,s,f,a);const x=!!s.pathSegment(t,u,{move:y,reverse:!0});g=y&&x,g||AD(t,s,h,a)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function sbe(t,e,r,s){const a=e.chart.chartArea,{property:i,start:o,end:l}=s||{};if(i==="x"||i==="y"){let c,d,u,h;i==="x"?(c=o,d=a.top,u=l,h=a.bottom):(c=a.left,d=o,u=a.right,h=l),t.beginPath(),r&&(c=Math.max(c,r.left),u=Math.min(u,r.right),d=Math.max(d,r.top),h=Math.min(h,r.bottom)),t.rect(c,d,u-c,h-d),t.clip()}}function AD(t,e,r,s){const a=e.interpolate(r,s);a&&t.lineTo(a.x,a.y)}var S1={id:"filler",afterDatasetsUpdate(t,e,r){const s=(t.data.datasets||[]).length,a=[];let i,o,l,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),l=i.dataset,c=null,l&&l.options&&l instanceof df&&(c={visible:t.isDatasetVisible(o),index:o,fill:$ve(l,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:l}),i.$filler=c,a.push(c);for(o=0;o<s;++o)c=a[o],!(!c||c.fill===!1)&&(c.fill=Hve(a,o,r.propagate))},beforeDraw(t,e,r){const s=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;l&&(l.line.updateControlPoints(i,l.axis),s&&l.fill&&EN(t.ctx,l,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a){const i=s[a].$filler;dD(i)&&EN(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const s=e.meta.$filler;!dD(s)||r.drawTime!=="beforeDatasetDraw"||EN(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fD=(t,e)=>{let{boxHeight:r=e,boxWidth:s=e}=t;return t.usePointStyle&&(r=Math.min(r,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(e,r)}},abe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let mD=class extends Qd{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,s){this.maxWidth=e,this.maxHeight=r,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=wn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(s=>e.filter(s,this.chart.data))),e.sort&&(r=r.sort((s,a)=>e.sort(s,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,a=La(s.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=fD(s,i);let d,u;r.font=a.string,this.isHorizontal()?(d=this.maxWidth,u=this._fitRows(o,i,l,c)+10):(u=this.maxHeight,d=this._fitCols(o,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,r,s,a){const{ctx:i,maxWidth:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],u=a+l;let h=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((v,y)=>{const g=s+r/2+i.measureText(v.text).width;(y===0||d[d.length-1]+g+2*l>o)&&(h+=u,d[d.length-(y>0?0:1)]=0,p+=u,f++),c[y]={left:0,top:p,row:f,width:g,height:a},d[d.length-1]+=g+l}),h}_fitCols(e,r,s,a){const{ctx:i,maxHeight:o,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],u=o-e;let h=l,f=0,p=0,v=0,y=0;return this.legendItems.forEach((g,x)=>{const{itemWidth:w,itemHeight:_}=ibe(s,r,i,g,a);x>0&&p+_+2*l>u&&(h+=f+l,d.push({width:f,height:p}),v+=f+l,y++,f=p=0),c[x]={left:v,top:p,col:y,width:w,height:_},f=Math.max(f,w),p+=_+l}),h+=f,d.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:s,labels:{padding:a},rtl:i}}=this,o=Wm(i,this.left,this.width);if(this.isHorizontal()){let l=0,c=ka(s,this.left+a,this.right-this.lineWidths[l]);for(const d of r)l!==d.row&&(l=d.row,c=ka(s,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let l=0,c=ka(s,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of r)d.col!==l&&(l=d.col,c=ka(s,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;v1(e,this),this._draw(),b1(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:s,ctx:a}=this,{align:i,labels:o}=e,l=os.color,c=Wm(e.rtl,this.left,this.width),d=La(o.font),{padding:u}=o,h=d.size,f=h/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:v,boxHeight:y,itemHeight:g}=fD(o,h),x=function(B,I,S){if(isNaN(v)||v<=0||isNaN(y)||y<0)return;a.save();const E=ur(S.lineWidth,1);if(a.fillStyle=ur(S.fillStyle,l),a.lineCap=ur(S.lineCap,"butt"),a.lineDashOffset=ur(S.lineDashOffset,0),a.lineJoin=ur(S.lineJoin,"miter"),a.lineWidth=E,a.strokeStyle=ur(S.strokeStyle,l),a.setLineDash(ur(S.lineDash,[])),o.usePointStyle){const D={radius:y*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:E},N=c.xPlus(B,v/2),T=I+f;mz(a,D,N,T,o.pointStyleWidth&&v)}else{const D=I+Math.max((h-y)/2,0),N=c.leftForLtr(B,v),T=Km(S.borderRadius);a.beginPath(),Object.values(T).some(Q=>Q!==0)?Wb(a,{x:N,y:D,w:v,h:y,radius:T}):a.rect(N,D,v,y),a.fill(),E!==0&&a.stroke()}a.restore()},w=function(B,I,S){X0(a,S.text,B,I+g/2,d,{strikethrough:S.hidden,textAlign:c.textAlign(S.textAlign)})},_=this.isHorizontal(),k=this._computeTitleHeight();_?p={x:ka(i,this.left+u,this.right-s[0]),y:this.top+u+k,line:0}:p={x:this.left+u,y:ka(i,this.top+k+u,this.bottom-r[0].height),line:0},wz(this.ctx,e.textDirection);const C=g+u;this.legendItems.forEach((B,I)=>{a.strokeStyle=B.fontColor,a.fillStyle=B.fontColor;const S=a.measureText(B.text).width,E=c.textAlign(B.textAlign||(B.textAlign=o.textAlign)),D=v+f+S;let N=p.x,T=p.y;c.setWidth(this.width),_?I>0&&N+D+u>this.right&&(T=p.y+=C,p.line++,N=p.x=ka(i,this.left+u,this.right-s[p.line])):I>0&&T+C>this.bottom&&(N=p.x=N+r[p.line].width+u,p.line++,T=p.y=ka(i,this.top+k+u,this.bottom-r[p.line].height));const Q=c.x(N);if(x(Q,T,B),N=O0e(E,N+v+f,_?N+D:this.right,e.rtl),w(c.x(N),T,B),_)p.x+=D+u;else if(typeof B.text!="string"){const U=d.lineHeight;p.y+=Vz(B,U)+u}else p.y+=C}),jz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,s=La(r.font),a=$o(r.padding);if(!r.display)return;const i=Wm(e.rtl,this.left,this.width),o=this.ctx,l=r.position,c=s.size/2,d=a.top+c;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+d,h=ka(e.align,h,this.right-f);else{const v=this.columnSizes.reduce((y,g)=>Math.max(y,g.height),0);u=d+ka(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const p=ka(l,h,h+f);o.textAlign=i.textAlign(KE(l)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=s.string,X0(o,r.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,r=La(e.font),s=$o(e.padding);return e.display?r.lineHeight+s.height:0}_getLegendItemAt(e,r){let s,a,i;if(xd(e,this.left,this.right)&&xd(r,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(a=i[s],xd(e,a.left,a.left+a.width)&&xd(r,a.top,a.top+a.height))return this.legendItems[s]}return null}handleEvent(e){const r=this.options;if(!cbe(e.type,r))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=abe(a,s);a&&!i&&wn(r.onLeave,[e,a,this],this),this._hoveredItem=s,s&&!i&&wn(r.onHover,[e,s,this],this)}else s&&wn(r.onClick,[e,s,this],this)}};function ibe(t,e,r,s,a){const i=obe(s,t,e,r),o=lbe(a,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function obe(t,e,r,s){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+s.measureText(a).width}function lbe(t,e,r){let s=t;return typeof e.text!="string"&&(s=Vz(e,r)),s}function Vz(t,e){const r=t.text?t.text.length:0;return e*r}function cbe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var B1={id:"legend",_element:mD,start(t,e,r){const s=t.legend=new mD({ctx:t.ctx,options:r,chart:t});Mo.configure(t,s,r),Mo.addBox(t,s)},stop(t){Mo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const s=t.legend;Mo.configure(t,s,r),s.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const s=e.datasetIndex,a=r.chart;a.isDatasetVisible(s)?(a.hide(s),e.hidden=!0):(a.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:a,color:i,useBorderRadius:o,borderRadius:l}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(r?0:void 0),u=$o(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:d.borderColor,pointStyle:s||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Kz extends Qd{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=gs(s.text)?s.text.length:1;this._padding=$o(s.padding);const i=a*La(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:s,bottom:a,right:i,options:o}=this,l=o.align;let c=0,d,u,h;return this.isHorizontal()?(u=ka(l,s,i),h=r+e,d=i-s):(o.position==="left"?(u=s+e,h=ka(l,a,r),c=Gr*-.5):(u=i-e,h=ka(l,r,a),c=Gr*.5),d=a-r),{titleX:u,titleY:h,maxWidth:d,rotation:c}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const s=La(r.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(i);X0(e,r.text,0,0,s,{color:r.color,maxWidth:c,rotation:d,textAlign:KE(r.align),textBaseline:"middle",translation:[o,l]})}}function dbe(t,e){const r=new Kz({ctx:t.ctx,options:e,chart:t});Mo.configure(t,r,e),Mo.addBox(t,r),t.titleBlock=r}var E1={id:"title",_element:Kz,start(t,e,r){dbe(t,r)},stop(t){const e=t.titleBlock;Mo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const s=t.titleBlock;Mo.configure(t,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kg={average(t){if(!t.length)return!1;let e,r,s=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const l=t[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();s.add(c.x),a+=c.y,++i}}return i===0||s.size===0?!1:{x:[...s].reduce((l,c)=>l+c)/s.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,s=e.y,a=Number.POSITIVE_INFINITY,i,o,l;for(i=0,o=t.length;i<o;++i){const c=t[i].element;if(c&&c.hasValue()){const d=c.getCenterPoint(),u=iB(e,d);u<a&&(a=u,l=c)}}if(l){const c=l.tooltipPosition();r=c.x,s=c.y}return{x:r,y:s}}};function sc(t,e){return e&&(gs(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function dd(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function ube(t,e){const{element:r,datasetIndex:s,index:a}=e,i=t.getDatasetMeta(s).controller,{label:o,value:l}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[s].data[a],formattedValue:l,dataset:i.getDataset(),dataIndex:a,datasetIndex:s,element:r}}function pD(t,e){const r=t.chart.ctx,{body:s,footer:a,title:i}=t,{boxWidth:o,boxHeight:l}=e,c=La(e.bodyFont),d=La(e.titleFont),u=La(e.footerFont),h=i.length,f=a.length,p=s.length,v=$o(e.padding);let y=v.height,g=0,x=s.reduce((k,C)=>k+C.before.length+C.lines.length+C.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,h&&(y+=h*d.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),x){const k=e.displayColors?Math.max(l,c.lineHeight):c.lineHeight;y+=p*k+(x-p)*c.lineHeight+(x-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let w=0;const _=function(k){g=Math.max(g,r.measureText(k).width+w)};return r.save(),r.font=d.string,Wr(t.title,_),r.font=c.string,Wr(t.beforeBody.concat(t.afterBody),_),w=e.displayColors?o+2+e.boxPadding:0,Wr(s,k=>{Wr(k.before,_),Wr(k.lines,_),Wr(k.after,_)}),w=0,r.font=u.string,Wr(t.footer,_),r.restore(),g+=v.width,{width:g,height:y}}function hbe(t,e){const{y:r,height:s}=e;return r<s/2?"top":r>t.height-s/2?"bottom":"center"}function Abe(t,e,r,s){const{x:a,width:i}=s,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function fbe(t,e,r,s){const{x:a,width:i}=r,{width:o,chartArea:{left:l,right:c}}=t;let d="center";return s==="center"?d=a<=(l+c)/2?"left":"right":a<=i/2?d="left":a>=o-i/2&&(d="right"),Abe(d,t,e,r)&&(d="center"),d}function gD(t,e,r){const s=r.yAlign||e.yAlign||hbe(t,r);return{xAlign:r.xAlign||e.xAlign||fbe(t,e,r,s),yAlign:s}}function mbe(t,e){let{x:r,width:s}=t;return e==="right"?r-=s:e==="center"&&(r-=s/2),r}function pbe(t,e,r){let{y:s,height:a}=t;return e==="top"?s+=r:e==="bottom"?s-=a+r:s-=a/2,s}function xD(t,e,r,s){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:l,yAlign:c}=r,d=a+i,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=Km(o);let v=mbe(e,l);const y=pbe(e,c,d);return c==="center"?l==="left"?v+=d:l==="right"&&(v-=d):l==="left"?v-=Math.max(u,f)+a:l==="right"&&(v+=Math.max(h,p)+a),{x:Ma(v,0,s.width-e.width),y:Ma(y,0,s.height-e.height)}}function Ov(t,e,r){const s=$o(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function yD(t){return sc([],dd(t))}function gbe(t,e,r){return lf(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function vD(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const Wz={beforeTitle:id,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,s=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return r[e.dataIndex]}return""},afterTitle:id,beforeBody:id,beforeLabel:id,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return $r(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:id,afterBody:id,beforeFooter:id,footer:id,afterFooter:id};function Bi(t,e,r,s){const a=t[e].call(r,s);return typeof a>"u"?Wz[e].call(r,s):a}let bD=class extends Qd{static positioners=Kg;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,s=this.options.setContext(this.getContext()),a=s.enabled&&r.options.animation&&s.animations,i=new Bz(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=gbe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:s}=r,a=Bi(s,"beforeTitle",this,e),i=Bi(s,"title",this,e),o=Bi(s,"afterTitle",this,e);let l=[];return l=sc(l,dd(a)),l=sc(l,dd(i)),l=sc(l,dd(o)),l}getBeforeBody(e,r){return yD(Bi(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:s}=r,a=[];return Wr(e,i=>{const o={before:[],lines:[],after:[]},l=vD(s,i);sc(o.before,dd(Bi(l,"beforeLabel",this,i))),sc(o.lines,Bi(l,"label",this,i)),sc(o.after,dd(Bi(l,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return yD(Bi(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:s}=r,a=Bi(s,"beforeFooter",this,e),i=Bi(s,"footer",this,e),o=Bi(s,"afterFooter",this,e);let l=[];return l=sc(l,dd(a)),l=sc(l,dd(i)),l=sc(l,dd(o)),l}_createItems(e){const r=this._active,s=this.chart.data,a=[],i=[],o=[];let l=[],c,d;for(c=0,d=r.length;c<d;++c)l.push(ube(this.chart,r[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),Wr(l,u=>{const h=vD(e.callbacks,u);a.push(Bi(h,"labelColor",this,u)),i.push(Bi(h,"labelPointStyle",this,u)),o.push(Bi(h,"labelTextColor",this,u))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=l,l}update(e,r){const s=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const l=Kg[s.position].call(this,a,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const c=this._size=pD(this,s),d=Object.assign({},l,c),u=gD(this.chart,s,d),h=xD(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,s,a){const i=this.getCaretPosition(e,s,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,s){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=Km(l),{x:f,y:p}=e,{width:v,height:y}=r;let g,x,w,_,k,C;return i==="center"?(k=p+y/2,a==="left"?(g=f,x=g-o,_=k+o,C=k-o):(g=f+v,x=g+o,_=k-o,C=k+o),w=g):(a==="left"?x=f+Math.max(c,u)+o:a==="right"?x=f+v-Math.max(d,h)-o:x=this.caretX,i==="top"?(_=p,k=_-o,g=x-o,w=x+o):(_=p+y,k=_+o,g=x+o,w=x-o),C=_),{x1:g,x2:x,x3:w,y1:_,y2:k,y3:C}}drawTitle(e,r,s){const a=this.title,i=a.length;let o,l,c;if(i){const d=Wm(s.rtl,this.x,this.width);for(e.x=Ov(this,s.titleAlign,s),r.textAlign=d.textAlign(s.titleAlign),r.textBaseline="middle",o=La(s.titleFont),l=s.titleSpacing,r.fillStyle=s.titleColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+l,c+1===i&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,r,s,a,i){const o=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d}=i,u=La(i.bodyFont),h=Ov(this,"left",i),f=a.x(h),p=c<u.lineHeight?(u.lineHeight-c)/2:0,v=r.y+p;if(i.usePointStyle){const y={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},g=a.leftForLtr(f,d)+d/2,x=v+c/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,lB(e,y,g,x),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,lB(e,y,g,x)}else{e.lineWidth=br(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=a.leftForLtr(f,d),g=a.leftForLtr(a.xPlus(f,1),d-2),x=Km(o.borderRadius);Object.values(x).some(w=>w!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Wb(e,{x:y,y:v,w:d,h:c,radius:x}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Wb(e,{x:g,y:v+1,w:d-2,h:c-2,radius:x}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,v,d,c),e.strokeRect(y,v,d,c),e.fillStyle=o.backgroundColor,e.fillRect(g,v+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,r,s){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=La(s.bodyFont);let f=h.lineHeight,p=0;const v=Wm(s.rtl,this.x,this.width),y=function(S){r.fillText(S,v.x(e.x+p),e.y+f/2),e.y+=f+i},g=v.textAlign(o);let x,w,_,k,C,B,I;for(r.textAlign=o,r.textBaseline="middle",r.font=h.string,e.x=Ov(this,g,s),r.fillStyle=s.bodyColor,Wr(this.beforeBody,y),p=l&&g!=="right"?o==="center"?d/2+u:d+2+u:0,k=0,B=a.length;k<B;++k){for(x=a[k],w=this.labelTextColors[k],r.fillStyle=w,Wr(x.before,y),_=x.lines,l&&_.length&&(this._drawColorBox(r,e,k,v,s),f=Math.max(h.lineHeight,c)),C=0,I=_.length;C<I;++C)y(_[C]),f=h.lineHeight;Wr(x.after,y)}p=0,f=h.lineHeight,Wr(this.afterBody,y),e.y-=i}drawFooter(e,r,s){const a=this.footer,i=a.length;let o,l;if(i){const c=Wm(s.rtl,this.x,this.width);for(e.x=Ov(this,s.footerAlign,s),e.y+=s.footerMarginTop,r.textAlign=c.textAlign(s.footerAlign),r.textBaseline="middle",o=La(s.footerFont),r.fillStyle=s.footerColor,r.font=o.string,l=0;l<i;++l)r.fillText(a[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,r,s,a){const{xAlign:i,yAlign:o}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:v}=Km(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(l+h,c),o==="top"&&this.drawCaret(e,r,s,a),r.lineTo(l+d-f,c),r.quadraticCurveTo(l+d,c,l+d,c+f),o==="center"&&i==="right"&&this.drawCaret(e,r,s,a),r.lineTo(l+d,c+u-v),r.quadraticCurveTo(l+d,c+u,l+d-v,c+u),o==="bottom"&&this.drawCaret(e,r,s,a),r.lineTo(l+p,c+u),r.quadraticCurveTo(l,c+u,l,c+u-p),o==="center"&&i==="left"&&this.drawCaret(e,r,s,a),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,s=this.$animations,a=s&&s.x,i=s&&s.y;if(a||i){const o=Kg[e.position].call(this,this._active,this._eventPosition);if(!o)return;const l=this._size=pD(this,e),c=Object.assign({},o,this._size),d=gD(r,e,c),u=xD(e,c,d,r);(a._to!==u.x||i._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=$o(r.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&l&&(e.save(),e.globalAlpha=s,this.drawBackground(i,e,a,r),wz(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),jz(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const s=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),i=!zb(s,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,s=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,s),l=this._positionChanged(o,e),c=r||!zb(o,i)||l;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),c}_getActiveElements(e,r,s,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,s);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:s,caretY:a,options:i}=this,o=Kg[i.position].call(this,e,r);return o!==!1&&(s!==o.x||a!==o.y)}};var k1={id:"tooltip",_element:bD,positioners:Kg,afterInit(t,e,r){r&&(t.tooltip=new bD({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Wz},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const xbe=(t,e,r,s)=>(typeof e=="string"?(r=t.push(e)-1,s.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function ybe(t,e,r,s){const a=t.indexOf(e);if(a===-1)return xbe(t,e,r,s);const i=t.lastIndexOf(e);return a!==i?r:a}const vbe=(t,e)=>t===null?null:Ma(Math.round(t),0,e);function wD(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class P1 extends Dp{static id="category";static defaults={ticks:{callback:wD}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const s=this.getLabels();for(const{index:a,label:i}of r)s[a]===i&&s.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if($r(e))return null;const s=this.getLabels();return r=isFinite(r)&&s[r]===e?r:ybe(s,e,ur(r,e),this._addedLabels),vbe(r,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),r||(a=this.getLabels().length-1)),this.min=s,this.max=a}buildTicks(){const e=this.min,r=this.max,s=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return wD.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function bbe(t,e){const r=[],{bounds:a,step:i,min:o,max:l,precision:c,count:d,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=i||1,v=u-1,{min:y,max:g}=e,x=!$r(o),w=!$r(l),_=!$r(d),k=(g-y)/(h+1);let C=xI((g-y)/v/p)*p,B,I,S,E;if(C<1e-14&&!x&&!w)return[{value:y},{value:g}];E=Math.ceil(g/C)-Math.floor(y/C),E>v&&(C=xI(E*C/v/p)*p),$r(c)||(B=Math.pow(10,c),C=Math.ceil(C*B)/B),a==="ticks"?(I=Math.floor(y/C)*C,S=Math.ceil(g/C)*C):(I=y,S=g),x&&w&&i&&_0e((l-o)/i,C/1e3)?(E=Math.round(Math.min((l-o)/C,u)),C=(l-o)/E,I=o,S=l):_?(I=x?o:I,S=w?l:S,E=d-1,C=(S-I)/E):(E=(S-I)/C,m0(E,Math.round(E),C/1e3)?E=Math.round(E):E=Math.ceil(E));const D=Math.max(yI(C),yI(I));B=Math.pow(10,$r(c)?D:c),I=Math.round(I*B)/B,S=Math.round(S*B)/B;let N=0;for(x&&(f&&I!==o?(r.push({value:o}),I<o&&N++,m0(Math.round((I+N*C)*B)/B,o,jD(o,k,t))&&N++):I<o&&N++);N<E;++N){const T=Math.round((I+N*C)*B)/B;if(w&&T>l)break;r.push({value:T})}return w&&f&&S!==l?r.length&&m0(r[r.length-1].value,l,jD(l,k,t))?r[r.length-1].value=l:r.push({value:l}):(!w||S===l)&&r.push({value:S}),r}function jD(t,e,{horizontal:r,minRotation:s}){const a=gd(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class wbe extends Dp{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return $r(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:s}=this.getUserBounds();let{min:a,max:i}=this;const o=c=>a=r?a:c,l=c=>i=s?i:c;if(e){const c=mc(a),d=mc(i);c<0&&d<0?l(0):c>0&&d>0&&o(0)}if(a===i){let c=i===0?1:Math.abs(i*.05);l(i+c),e||o(a-c)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:s}=e,a;return s?(a=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const a={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=bbe(a,i);return e.bounds==="ticks"&&C0e(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const a=(s-r)/Math.max(e.length-1,1)/2;r-=a,s+=a}this._startValue=r,this._endValue=s,this._valueRange=s-r}getLabelForValue(e){return GE(e,this.chart.options.locale,this.options.ticks.format)}}class F1 extends wbe{static id="linear";static defaults={ticks:{callback:fz.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ra(e)?e:0,this.max=Ra(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,s=gd(this.options.ticks.minRotation),a=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const T1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ki=Object.keys(T1);function ND(t,e){return t-e}function _D(t,e){if($r(e))return null;const r=t._adapter,{parser:s,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Ra(o)||(o=typeof s=="string"?r.parse(o,s):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(K0(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function CD(t,e,r,s){const a=ki.length;for(let i=ki.indexOf(t);i<a-1;++i){const o=T1[ki[i]],l=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(l*o.size))<=s)return ki[i]}return ki[a-1]}function jbe(t,e,r,s,a){for(let i=ki.length-1;i>=ki.indexOf(r);i--){const o=ki[i];if(T1[o].common&&t._adapter.diff(a,s,o)>=e-1)return o}return ki[r?ki.indexOf(r):0]}function Nbe(t){for(let e=ki.indexOf(t)+1,r=ki.length;e<r;++e)if(T1[ki[e]].common)return ki[e]}function SD(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:s,hi:a}=VE(r,e),i=r[s]>=e?r[s]:r[a];t[i]=!0}}function _be(t,e,r,s){const a=t._adapter,i=+a.startOf(e[0].value,s),o=e[e.length-1].value;let l,c;for(l=i;l<=o;l=+a.add(l,1,s))c=r[l],c>=0&&(e[c].major=!0);return e}function BD(t,e,r){const s=[],a={},i=e.length;let o,l;for(o=0;o<i;++o)l=e[o],a[l]=o,s.push({value:l,major:!1});return i===0||!r?s:_be(t,s,a,r)}class ED extends Dp{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const s=e.time||(e.time={}),a=this._adapter=new uye._date(e.adapters.date);a.init(r),f0(s.displayFormats,a.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:_D(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,s=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:l}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(i=Math.max(i,d.max))}(!o||!l)&&(c(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&c(this.getMinMax(!1))),a=Ra(a)&&!isNaN(a)?a:+r.startOf(Date.now(),s),i=Ra(i)&&!isNaN(i)?i:+r.endOf(Date.now(),s)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],s=e[e.length-1]),{min:r,max:s}}buildTicks(){const e=this.options,r=e.time,s=e.ticks,a=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,l=P0e(a,i,o);return this._unit=r.unit||(s.autoSkip?CD(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):jbe(this,l.length,r.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Nbe(this._unit),this.initOffsets(a),e.reverse&&l.reverse(),BD(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,s=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?s=i:s=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=Ma(r,0,o),s=Ma(s,0,o),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,r=this.min,s=this.max,a=this.options,i=a.time,o=i.unit||CD(i.minUnit,r,s,this._getLabelCapacity(r)),l=ur(a.ticks.stepSize,1),c=o==="week"?i.isoWeekday:!1,d=K0(c)||c===!0,u={};let h=r,f,p;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":o),e.diff(s,r,o)>1e5*l)throw new Error(r+" and "+s+" are too far apart with stepSize of "+l+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,l,o),p++)SD(u,f,v);return(f===s||a.bounds==="ticks"||p===1)&&SD(u,f,v),Object.keys(u).sort(ND).map(y=>+y)}getLabelForValue(e){const r=this._adapter,s=this.options.time;return s.tooltipFormat?r.format(e,s.tooltipFormat):r.format(e,s.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,s,a){const i=this.options,o=i.ticks.callback;if(o)return wn(o,[e,r,s],this);const l=i.time.displayFormats,c=this._unit,d=this._majorUnit,u=c&&l[c],h=d&&l[d],f=s[r],p=d&&h&&f&&f.major;return this._adapter.format(e,a||(p?h:u))}generateTickLabels(e){let r,s,a;for(r=0,s=e.length;r<s;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+s)*r.factor)}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,s=this.ctx.measureText(e).width,a=gd(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:s*i+l*o,h:s*o+l*i}}_getLabelCapacity(e){const r=this.options.time,s=r.displayFormats,a=s[r.unit]||s.millisecond,i=this._tickFormatFunction(e,0,BD(this,[e],this._majorUnit),a),o=this._getLabelSize(i),l=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],r,s;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,s=a.length;r<s;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,s;if(e.length)return e;const a=this.getLabels();for(r=0,s=a.length;r<s;++r)e.push(_D(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return uz(e.sort(ND))}}function Iv(t,e,r){let s=0,a=t.length-1,i,o,l,c;r?(e>=t[s].pos&&e<=t[a].pos&&({lo:s,hi:a}=FA(t,"pos",e)),{pos:i,time:l}=t[s],{pos:o,time:c}=t[a]):(e>=t[s].time&&e<=t[a].time&&({lo:s,hi:a}=FA(t,"time",e)),{time:i,pos:l}=t[s],{time:o,pos:c}=t[a]);const d=o-i;return d?l+(c-l)*(e-i)/d:l}class UOe extends ED{static id="timeseries";static defaults=ED.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Iv(r,this.min),this._tableRange=Iv(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:s}=this,a=[],i=[];let o,l,c,d,u;for(o=0,l=e.length;o<l;++o)d=e[o],d>=r&&d<=s&&a.push(d);if(a.length<2)return[{time:r,pos:0},{time:s,pos:1}];for(o=0,l=a.length;o<l;++o)u=a[o+1],c=a[o-1],d=a[o],Math.round((u+c)/2)!==d&&i.push({time:d,pos:o/(l-1)});return i}_generate(){const e=this.min,r=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(r)||s.length===1)&&s.push(r),s.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),s=this.getLabelTimestamps();return r.length&&s.length?e=this.normalize(r.concat(s)):e=r.length?r:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Iv(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,s=this.getDecimalForPixel(e)/r.factor-r.end;return Iv(this._table,s*this._tableRange+this._minPos,!0)}}const Gz="label";function kD(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Cbe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Xz(t,e){t.labels=e}function Yz(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Gz;const s=[];t.datasets=e.map(a=>{const i=t.datasets.find(o=>o[r]===a[r]);return!i||!a.data||s.includes(i)?{...a}:(s.push(i),Object.assign(i,a),i)})}function Sbe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Gz;const r={labels:[],datasets:[]};return Xz(r,t.labels),Yz(r,t.datasets,e),r}function Bbe(t,e){const{height:r=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=t,p=O.useRef(null),v=O.useRef(null),y=()=>{p.current&&(v.current=new cf(p.current,{type:o,data:Sbe(l,i),options:c&&{...c},plugins:d}),kD(e,v.current))},g=()=>{kD(e,null),v.current&&(v.current.destroy(),v.current=null)};return O.useEffect(()=>{!a&&v.current&&c&&Cbe(v.current,c)},[a,c]),O.useEffect(()=>{!a&&v.current&&Xz(v.current.config.data,l.labels)},[a,l.labels]),O.useEffect(()=>{!a&&v.current&&l.datasets&&Yz(v.current.config.data,l.datasets,i)},[a,l.datasets]),O.useEffect(()=>{v.current&&(a?(g(),setTimeout(y)):v.current.update(h))},[a,c,l.labels,l.datasets,h]),O.useEffect(()=>{v.current&&(g(),setTimeout(y))},[o]),O.useEffect(()=>(y(),()=>g()),[]),ke.createElement("canvas",{ref:p,role:"img",height:r,width:s,...f},u)}const Ebe=O.forwardRef(Bbe);function O1(t,e){return cf.register(e),O.forwardRef((r,s)=>ke.createElement(Ebe,{...r,ref:s,type:t}))}const J0=O1("line",cye),Gm=O1("bar",oye),Jz=O1("doughnut",Pz),Ab=O1("pie",dye);cf.register(P1,F1,sk,E1,k1,B1,nk,_1,df,S1);const kbe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState("service-orders"),[s,a]=O.useState("month"),[i,o]=O.useState(""),[l,c]=O.useState(""),[d,u]=O.useState(!1),[h,f]=O.useState(!1),[p,v]=O.useState(!1),[y,g]=O.useState(null),[x,w]=O.useState(0),k=[{id:"service-orders",name:"Ordens de Servio",icon:li,adminOnly:!1},{id:"inventory",name:"Movimentao de Estoque",icon:qt,adminOnly:!1},{id:"technicians",name:"Desempenho de Tcnicos",icon:ir,adminOnly:!0},{id:"financial",name:"Relatrio Financeiro",icon:gr,adminOnly:!0}].filter(L=>!L.adminOnly||L.adminOnly&&t),C=()=>{console.log("Generating report:",{type:e,dateRange:s,startDate:i,endDate:l}),u(!0)},B=L=>{console.log(`Exporting report as ${L}`),alert(`Relatrio exportado como ${L}`)},I=[{month:"Jan",income:12500,expense:8200},{month:"Fev",income:14800,expense:9100},{month:"Mar",income:13200,expense:8700},{month:"Abr",income:15850,expense:9320},{month:"Mai",income:16200,expense:9800},{month:"Jun",income:17500,expense:10200}],S=[{name:"Concludos",value:5},{name:"Em Progresso",value:6},{name:"Planejados",value:1}],E=[{name:"Servios",value:15850},{name:"Materiais",value:4200},{name:"Administrativo",value:3e3},{name:"Folha de Pagamento",value:8500}],D={labels:I.map(L=>L.month),datasets:[{label:"Receitas",data:I.map(L=>L.income),backgroundColor:"rgba(74, 222, 128, 0.6)",borderColor:"rgb(74, 222, 128)",borderWidth:1},{label:"Despesas",data:I.map(L=>L.expense),backgroundColor:"rgba(248, 113, 113, 0.6)",borderColor:"rgb(248, 113, 113)",borderWidth:1}]},N={labels:S.map(L=>L.name),datasets:[{data:S.map(L=>L.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)"],borderWidth:1}]},T={labels:I.map(L=>L.month),datasets:[{label:"Receitas",data:I.map(L=>L.income),borderColor:"rgb(74, 222, 128)",backgroundColor:"rgba(74, 222, 128, 0.1)",tension:.3,fill:!0},{label:"Despesas",data:I.map(L=>L.expense),borderColor:"rgb(248, 113, 113)",backgroundColor:"rgba(248, 113, 113, 0.1)",tension:.3,fill:!0}]},Q=5,U=[{id:1,name:"Relatrio de OS - Dezembro 2023",type:"Ordens de Servio",date:"2023-12-15",user:"Admin Demo"},{id:2,name:"Movimentao de Estoque - Dezembro 2023",type:"Estoque",date:"2023-12-14",user:"Admin Demo"},{id:3,name:"Desempenho de Tcnicos - Novembro 2023",type:"Desempenho",date:"2023-12-01",user:"Admin Demo"},{id:4,name:"Relatrio Financeiro - Dezembro 2023",type:"Financeiro",date:"2023-12-31",user:"Admin Demo"},{id:5,name:"Anlise de Clientes - Dezembro 2023",type:"Clientes",date:"2023-12-20",user:"Admin Demo"},{id:6,name:"Relatrio de OS - Novembro 2023",type:"Ordens de Servio",date:"2023-11-30",user:"Admin Demo"},{id:7,name:"Movimentao de Estoque - Novembro 2023",type:"Estoque",date:"2023-11-29",user:"Admin Demo"},{id:8,name:"Desempenho de Tcnicos - Outubro 2023",type:"Desempenho",date:"2023-11-01",user:"Admin Demo"},{id:9,name:"Relatrio Financeiro - Novembro 2023",type:"Financeiro",date:"2023-11-30",user:"Admin Demo"},{id:10,name:"Anlise de Clientes - Novembro 2023",type:"Clientes",date:"2023-11-20",user:"Admin Demo"}],K=Math.ceil(U.length/Q),z=U.slice(x*Q,(x+1)*Q),[ee,G]=O.useState(null),[q,re]=O.useState("bar"),Z=(L,Y)=>{G(JSON.parse(JSON.stringify(Y))),re(L),v(!0)},$=(L,Y,X)=>{if(!ee)return;const Ae={...ee};if(Y==="label")Ae.labels[L]=X;else{const fe=parseInt(Y.split("-")[1]),de=Y.split("-")[2];de==="label"?Ae.datasets[fe].label=X:de==="data"&&(Ae.datasets[fe].data[L]=parseFloat(X)||0)}G(Ae)};return n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios"}),n.jsxs("button",{onClick:()=>f(!h),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(wE,{className:"h-4 w-4"}),n.jsx("span",{children:"Filtros"}),n.jsx(Sd,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:n.jsx(li,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"48"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Ordens de Servio"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:n.jsx(qt,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"156"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Itens em Estoque"})]}),t&&n.jsxs(n.Fragment,{children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:n.jsx(ir,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"8"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Tcnicos Ativos"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:n.jsx(gr,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"R$ 15.850"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Faturamento Mensal"})]})]})]}),n.jsx(vt,{children:h&&n.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx(Et,{className:"h-5 w-5 mr-2 text-blue-500"}),"Gerador de Relatrios"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Relatrio"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:k.map(L=>n.jsxs("button",{type:"button",onClick:()=>r(L.id),className:`flex items-center space-x-2 p-3 rounded-lg border-2 transition-colors ${e===L.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:[n.jsx(L.icon,{className:"h-5 w-5"}),n.jsx("span",{className:"text-sm",children:L.name})]},L.id))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Perodo"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsx("button",{type:"button",onClick:()=>a("week"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="week"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltima Semana"}),n.jsx("button",{type:"button",onClick:()=>a("month"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="month"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"ltimo Ms"}),n.jsx("button",{type:"button",onClick:()=>a("custom"),className:`p-3 rounded-lg border-2 transition-colors text-sm ${s==="custom"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:"Personalizado"})]})]}),s==="custom"&&n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:i,onChange:L=>o(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:s==="custom"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:l,onChange:L=>c(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:s==="custom"})]})]})]}),n.jsx("div",{className:"pt-4",children:n.jsxs("button",{type:"button",onClick:C,className:"w-full px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),"Gerar Relatrio"]})})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:"Pr-visualizao"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{type:"button",onClick:()=>B("pdf"),className:"p-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",title:"Exportar como PDF",children:n.jsx(Et,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>B("excel"),className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",title:"Exportar como Excel",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{type:"button",onClick:()=>B("print"),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",title:"Imprimir",children:n.jsx(fh,{className:"h-4 w-4"})})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center",children:d?n.jsx("div",{className:"w-full h-full",children:n.jsx("div",{className:"h-40 w-full bg-white rounded-lg border border-gray-200 flex items-center justify-center",children:n.jsx(Gm,{data:D,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})}):n.jsxs("div",{className:"text-center",children:[n.jsx(oi,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione as opes e gere o relatrio"}),n.jsx("p",{className:"text-sm text-gray-400",children:"A pr-visualizao aparecer aqui"})]})})]})]})]})})}),d&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receitas vs Despesas"}),n.jsxs("button",{onClick:()=>Z("bar",D),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-80",children:n.jsx(Gm,{data:D,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tendncia de Fluxo de Caixa"}),n.jsxs("button",{onClick:()=>Z("line",T),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-80",children:n.jsx(J0,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Status dos Projetos"}),n.jsxs("button",{onClick:()=>Z("pie",N),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(Ab,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Categorias de Transaes"}),n.jsxs("button",{onClick:()=>Z("pie",N),className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]})]}),n.jsx("div",{className:"h-64",children:n.jsx(Ab,{data:{labels:E.map(L=>L.name),datasets:[{data:E.map(L=>L.value),backgroundColor:["rgba(74, 222, 128, 0.6)","rgba(59, 130, 246, 0.6)","rgba(139, 92, 246, 0.6)","rgba(248, 113, 113, 0.6)"],borderColor:["rgb(74, 222, 128)","rgb(59, 130, 246)","rgb(139, 92, 246)","rgb(248, 113, 113)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Categorias de Transaes"}}}})})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-6 flex items-center",children:[n.jsx(Et,{className:"h-5 w-5 mr-2 text-blue-500"}),"Relatrios Recentes"]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gerado por"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(L=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:L.type})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:new Date(L.date).toLocaleDateString("pt-BR")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:L.user})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:n.jsx(da,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-green-600 hover:text-green-900",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{className:"text-red-600 hover:text-red-900",children:n.jsx(fh,{className:"h-4 w-4"})})]})})]},L.id))})]})}),K>1&&n.jsxs("div",{className:"flex justify-between items-center mt-4",children:[n.jsxs("button",{onClick:()=>w(L=>Math.max(0,L-1)),disabled:x===0,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${x===0?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[n.jsx(Rd,{className:"h-4 w-4"}),n.jsx("span",{children:"Anterior"})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",x+1," de ",K]}),n.jsxs("button",{onClick:()=>w(L=>Math.min(K-1,L+1)),disabled:x===K-1,className:`flex items-center space-x-1 px-3 py-1 rounded-lg ${x===K-1?"text-gray-400 cursor-not-allowed":"text-blue-600 hover:bg-blue-50"}`,children:[n.jsx("span",{children:"Prximo"}),n.jsx(Ho,{className:"h-4 w-4"})]})]})]}),n.jsx(vt,{children:p&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Grfico"}),n.jsx("button",{onClick:()=>v(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Grfico"}),n.jsxs("select",{value:q,onChange:L=>re(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"bar",children:"Barras"}),n.jsx("option",{value:"line",children:"Linhas"}),n.jsx("option",{value:"pie",children:"Pizza"}),n.jsx("option",{value:"area",children:"rea"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estilo"}),n.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{children:"Padro"}),n.jsx("option",{children:"Gradiente"}),n.jsx("option",{children:"Monocromtico"}),n.jsx("option",{children:"Pastel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dados do Grfico"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ms"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receitas"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Despesas"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map((L,Y)=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"text",defaultValue:L.month,onChange:X=>$(Y,"label",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",defaultValue:L.income,onChange:X=>$(Y,"0-data",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("input",{type:"number",defaultValue:L.expense,onChange:X=>$(Y,"1-data",X.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-md"})})]},Y))})]})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visualizao"}),n.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg h-64",children:[q==="bar"&&n.jsx(Gm,{data:D,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Receitas vs Despesas"}}}}),q==="line"&&n.jsx(J0,{data:T,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Tendncia de Fluxo de Caixa"}}}}),q==="pie"&&n.jsx(Ab,{data:N,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Status dos Projetos"}}}})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>v(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:()=>{v(!1),alert("Alteraes salvas com sucesso!")},className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},Pbe=()=>{const{user:t,isAdmin:e}=On(),[r,s]=O.useState("profile"),[a,i]=O.useState(!1),[o,l]=O.useState({name:t?.name||"",email:t?.email||"",phone:"(11) 99999-9999",company:"Minha Empresa"}),[c,d]=O.useState({email:!0,push:!0,sms:!1}),[u,h]=O.useState({autoBackup:!0,backupFrequency:"daily",backupTime:"00:00",keepBackups:"30"}),[f,p]=O.useState({realTimeSync:!0,offlineMode:!0,syncOnWifiOnly:!1}),v=B=>{const{name:I,value:S}=B.target;l(E=>({...E,[I]:S}))},y=B=>{d(I=>({...I,[B]:!I[B]}))},g=B=>{const{name:I,value:S}=B.target;h(E=>({...E,[I]:S}))},x=B=>{p(I=>({...I,[B]:!I[B]}))},w=()=>{console.log("Saving profile:",o),i(!0),setTimeout(()=>i(!1),2e3)},_=()=>{console.log("Saving notification settings:",c),i(!0),setTimeout(()=>i(!1),2e3)},k=()=>{console.log("Saving backup settings:",u),i(!0),setTimeout(()=>i(!1),2e3)},C=()=>{console.log("Saving sync settings:",f),i(!0),setTimeout(()=>i(!1),2e3)};return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex justify-between items-center",children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuraes"})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>s("profile"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="profile"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(Cn,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Perfil"})]}),n.jsxs("button",{onClick:()=>s("notifications"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="notifications"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(EH,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Notificaes"})]}),e&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>s("backup"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="backup"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(F0,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Backup"})]}),n.jsxs("button",{onClick:()=>s("sync"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${r==="sync"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(TH,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Sincronizao"})]})]})]}),n.jsxs("div",{className:"p-6",children:[r==="profile"&&n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaes do Perfil"}),n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[t?.avatar?n.jsx("img",{src:t.avatar,alt:t.name,className:"w-20 h-20 rounded-full object-cover border-2 border-gray-200"}):n.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-bold",children:t?.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t?.name}),n.jsx("p",{className:"text-gray-600",children:t?.email}),n.jsx("div",{className:"mt-2",children:n.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:t?.role==="admin"?"Administrador":t?.role==="technician"?"Tcnico":"Funcionrio Externo"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo"}),n.jsx("input",{type:"text",name:"name",value:o.name,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",name:"email",value:o.email,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone"}),n.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Empresa"}),n.jsx("input",{type:"text",name:"company",value:o.company,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("button",{onClick:w,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="notifications"&&n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preferncias de Notificao"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes por Email"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receber atualizaes importantes por email"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.email,onChange:()=>y("email"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Notificaes Push"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Notificaes em tempo real no navegador"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.push,onChange:()=>y("push"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"SMS"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Alertas crticos por mensagem de texto"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.sms,onChange:()=>y("sms"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),n.jsx("button",{onClick:_,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5 mr-2"}),"Salvar Alteraes"]})})]}),r==="backup"&&e&&n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Backup"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Backup Automtico"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Realizar backup automtico dos dados"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:u.autoBackup,onChange:()=>h(B=>({...B,autoBackup:!B.autoBackup})),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),u.autoBackup&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frequncia"}),n.jsxs("select",{name:"backupFrequency",value:u.backupFrequency,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"daily",children:"Dirio"}),n.jsx("option",{value:"weekly",children:"Semanal"}),n.jsx("option",{value:"monthly",children:"Mensal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Horrio"}),n.jsx("input",{type:"time",name:"backupTime",value:u.backupTime,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manter Backups (dias)"}),n.jsx("input",{type:"number",name:"keepBackups",value:u.keepBackups,onChange:g,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:k,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})}),n.jsxs("button",{className:"px-6 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[n.jsx(F0,{className:"h-5 w-5 mr-2 inline"}),"Backup Manual"]})]})]})]}),r==="sync"&&e&&n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Configuraes de Sincronizao"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizao em Tempo Real"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manter dados sincronizados em tempo real entre dispositivos"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.realTimeSync,onChange:()=>x("realTimeSync"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Modo Offline"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Permitir trabalhar offline e sincronizar depois"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.offlineMode,onChange:()=>x("offlineMode"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Sincronizar Apenas no Wi-Fi"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Economizar dados mveis sincronizando apenas no Wi-Fi"})]}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:f.syncOnWifiOnly,onChange:()=>x("syncOnWifiOnly"),className:"sr-only peer"}),n.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),n.jsx("button",{onClick:C,className:`flex items-center px-6 py-2 rounded-lg transition-all duration-200 ${a?"bg-green-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg"}`,children:a?n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5 mr-2"}),"Salvar Configuraes"]})})]})]})]})]})},Fbe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState(""),[s,a]=O.useState("all"),[i,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState([{id:"1",name:"Admin Demo",email:"admin@example.com",role:"admin",status:"active",lastLogin:"2023-12-15T10:30:00",department:"Administrao",avatar:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",email:"carlos@example.com",role:"technician",status:"active",lastLogin:"2023-12-15T09:15:00",department:"Manuteno"},{id:"3",name:"Ana Tcnica",email:"ana@example.com",role:"technician",status:"active",lastLogin:"2023-12-14T16:45:00",department:"Instalao"},{id:"4",name:"Joo Externo",email:"joao@terceirizada.com",role:"external",status:"inactive",lastLogin:"2023-12-10T08:30:00"}]),[h,f]=O.useState({name:"",email:"",role:"technician",department:"",status:"active"}),p=d.filter(C=>{const B=C.name.toLowerCase().includes(e.toLowerCase())||C.email.toLowerCase().includes(e.toLowerCase()),I=s==="all"||C.role===s;return B&&I}),v=()=>{if(h.name&&h.email){const C={id:Date.now().toString(),name:h.name,email:h.email,role:h.role,status:"active",lastLogin:"",department:h.department||void 0};u([...d,C]),f({name:"",email:"",role:"technician",department:"",status:"active"}),o(!1)}},y=()=>{l&&(u(d.map(C=>C.id===l.id?l:C)),c(null))},g=C=>{u(d.map(B=>B.id===C?{...B,status:B.status==="active"?"inactive":"active"}:B))},x=C=>{window.confirm("Tem certeza que deseja excluir este usurio?")&&u(d.filter(B=>B.id!==C))},w=C=>{switch(C){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return C}},_=C=>{switch(C){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},k=C=>C==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800";return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Usurios"}),t&&n.jsxs("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(MH,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Usurio"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome ou email...",value:e,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(wE,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:s,onChange:C=>a(C.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Perfis"}),n.jsx("option",{value:"admin",children:"Administradores"}),n.jsx("option",{value:"technician",children:"Tcnicos"}),n.jsx("option",{value:"external",children:"Externos"})]})]})]})}),n.jsx("div",{className:"space-y-4",children:p.length>0?p.map((C,B)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[C.avatar?n.jsx("img",{src:C.avatar,alt:C.name,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white text-xl font-bold",children:C.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),n.jsx("p",{className:"text-sm text-gray-600",children:C.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(C.role)}`,children:w(C.role)}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k(C.status)}`,children:C.status==="active"?"Ativo":"Inativo"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[C.department&&n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Departamento"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.department})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500",children:"ltimo Acesso"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.lastLogin?new Date(C.lastLogin).toLocaleString("pt-BR"):"Nunca"})]})]}),t&&n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>c(C),className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(ri,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>g(C.id),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${C.status==="active"?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[C.status==="active"?n.jsx(Fo,{className:"h-4 w-4"}):n.jsx(OH,{className:"h-4 w-4"}),n.jsx("span",{children:C.status==="active"?"Desativar":"Ativar"})]}),n.jsxs("button",{onClick:()=>x(C.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]})]},C.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum usurio encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos usurios com os filtros selecionados."}),n.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(vt,{children:i&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>o(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Usurio"}),n.jsx("button",{onClick:()=>o(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:h.name,onChange:C=>f({...h,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:h.email,onChange:C=>f({...h,email:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),n.jsxs("select",{value:h.role,onChange:C=>f({...h,role:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Tcnico"}),n.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:h.department,onChange:C=>f({...h,department:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:v,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Adicionar"]})]})]})]})}),n.jsx(vt,{children:l&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>c(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Usurio"}),n.jsx("button",{onClick:()=>c(null),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:l.name,onChange:C=>c({...l,name:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do usurio",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:l.email,onChange:C=>c({...l,email:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil"}),n.jsxs("select",{value:l.role,onChange:C=>c({...l,role:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Tcnico"}),n.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:l.department||"",onChange:C=>c({...l,department:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Departamento (opcional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:l.status==="active",onChange:()=>c({...l,status:"active"}),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Ativo"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:l.status==="inactive",onChange:()=>c({...l,status:"inactive"}),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Inativo"})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar"]})]})]})]})})]})},Tbe=({isOpen:t,onClose:e,onSave:r,serviceId:s,duplicateFromId:a})=>{const[i,o]=O.useState("dados"),[l,c]=O.useState(!1),[d,u]=O.useState(!1),[h,f]=O.useState({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),[p,v]=O.useState({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),[y,g]=O.useState([]),[x,w]=O.useState([]),[_,k]=O.useState(""),[C,B]=O.useState(null);O.useEffect(()=>{t?(I(),s?S(s,!1):a?S(a,!0):(f({nome:"",descricao:"",categoria:"",preco_base:0,tempo_estimado_minutos:0,observacoes:""}),w([]))):(B(null),k(""))},[t,s,a]);const I=async()=>{try{const{data:G}=await pe.from("materials").select("id, name, unit, quantity, unit_cost, sale_price, sku").eq("active",!0).order("name");g(G||[])}catch(G){console.error("Error loading materials:",G)}},S=async(G,q)=>{if(G)try{const{data:re}=await pe.from("service_catalog").select("*").eq("id",G).single();re&&f({nome:q?`${re.name} (Cpia)`:re.name||"",descricao:re.description||"",categoria:re.category||"",preco_base:re.base_price||0,tempo_estimado_minutos:re.estimated_duration||0,observacoes:""});const{data:Z}=await pe.from("service_catalog_materials").select("*").eq("service_catalog_id",G);Z&&w(Z.map($=>({id:q?`new-${Date.now()}-${Math.random()}`:$.id,material_id:$.material_id||"",nome_material:$.material_name||"",quantidade_padrao:$.quantity||0,unidade_medida:$.material_unit||"un",preco_compra_unitario:$.unit_cost_at_time||0,preco_venda_unitario:$.unit_sale_price||0,custo_total:$.total_cost||0,valor_total:$.total_sale_price||0,lucro:($.total_sale_price||0)-($.total_cost||0),obrigatorio:!$.is_optional})))}catch(re){console.error("Error loading service data:",re)}},E=()=>{w([{id:`new-${Date.now()}`,material_id:"",nome_material:"",quantidade_padrao:1,unidade_medida:"UN",preco_compra_unitario:0,preco_venda_unitario:0,custo_total:0,valor_total:0,lucro:0,obrigatorio:!0},...x])},D=(G,q)=>{w(x.map(re=>{if(re.id===G){const Z={...re,...q},$=Z.preco_compra_unitario||0,L=Z.preco_venda_unitario||0;return Z.custo_total=Z.quantidade_padrao*$,Z.valor_total=Z.quantidade_padrao*L,Z.lucro=Z.valor_total-Z.custo_total,Z}return re}))},N=(G,q)=>{const re=y.find(Z=>Z.id===q);re&&(D(G,{material_id:q,nome_material:re.name,unidade_medida:re.unit||"un",preco_compra_unitario:Number(re.unit_cost)||0,preco_venda_unitario:Number(re.sale_price)||0}),k(""),B(null))},T=G=>{w(x.filter(q=>q.id!==G))},Q=async()=>{try{if(!p.name){alert("Nome do material  obrigatrio!");return}c(!0);const{data:G,error:q}=await pe.from("materials").insert([{name:p.name,sku:p.sku||null,unit:p.unit,quantity:Number(p.quantity),unit_cost:Number(p.unit_cost),sale_price:Number(p.sale_price),min_quantity:Number(p.min_quantity),active:!0}]).select().single();if(q)throw q;await I(),v({name:"",sku:"",unit:"UN",quantity:0,unit_cost:0,sale_price:0,min_quantity:0}),u(!1),alert("Material criado com sucesso!")}catch(G){console.error("Error creating material:",G),alert("Erro ao criar material!")}finally{c(!1)}},U=()=>{const G=x.reduce((Y,X)=>Y+X.custo_total,0),q=x.reduce((Y,X)=>Y+X.valor_total,0),re=G,Z=q+h.preco_base,$=Z-re,L=re>0?$/re*100:0;return{custoMateriais:G,valorMateriais:q,custoTotal:re,valorTotal:Z,lucroTotal:$,margemLucro:L}},K=async()=>{try{if(!h.nome){alert("Nome do servio  obrigatrio!");return}c(!0);const G=U();let q=s;const re={name:h.nome,description:h.descricao,category:h.categoria,base_price:h.preco_base,estimated_duration:h.tempo_estimado_minutos,active:!0};if(s)await pe.from("service_catalog").update(re).eq("id",s);else{const{data:$,error:L}=await pe.from("service_catalog").insert([re]).select().single();if(L)throw L;q=$.id}const{error:Z}=await pe.from("service_catalog_materials").delete().eq("service_catalog_id",q);Z&&console.error("Error deleting materials:",Z);for(const $ of x){const{error:L}=await pe.from("service_catalog_materials").insert([{service_catalog_id:q,material_id:$.material_id,material_name:$.nome_material,quantity:$.quantidade_padrao,material_unit:$.unidade_medida,is_optional:!$.obrigatorio,unit_cost_at_time:$.preco_compra_unitario,unit_sale_price:$.preco_venda_unitario}]);if(L)throw console.error("Error inserting material:",L),L}r(),e()}catch(G){console.error("Error saving:",G),alert("Erro ao salvar servio!")}finally{c(!1)}},z=G=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(G),ee=U();return t?n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-green-600 to-emerald-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Servio":"Novo Servio no Catlogo"}),n.jsx("p",{className:"text-green-100 text-sm",children:"Configure materiais, mo de obra e custos completos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:Nl},{id:"materiais",label:"Materiais",icon:qt},{id:"resumo",label:"Resumo Financeiro",icon:oS}].map(G=>{const q=G.icon;return n.jsxs("button",{onClick:()=>o(G.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${i===G.id?"border-green-600 text-green-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(q,{className:"h-4 w-4"}),G.label]},G.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(vt,{mode:"wait",children:[i==="dados"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Servio *"}),n.jsx("input",{type:"text",value:h.nome,onChange:G=>f({...h,nome:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Ex: Instalao de Ar Condicionado Split 12k BTU"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),n.jsx("textarea",{value:h.descricao,onChange:G=>f({...h,descricao:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:3,placeholder:"Descreva o servio em detalhes..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),n.jsxs("select",{value:h.categoria,onChange:G=>f({...h,categoria:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),n.jsx("option",{value:"instalacao",children:"Instalao"}),n.jsx("option",{value:"manutencao",children:"Manuteno"}),n.jsx("option",{value:"reparo",children:"Reparo"}),n.jsx("option",{value:"limpeza",children:"Limpeza"}),n.jsx("option",{value:"vistoria",children:"Vistoria"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tempo Estimado (minutos)"}),n.jsx("input",{type:"number",value:h.tempo_estimado_minutos,onChange:G=>f({...h,tempo_estimado_minutos:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo Base do Servio (R$)"}),n.jsx("input",{type:"number",value:h.preco_base,step:"0.01",onChange:G=>f({...h,preco_base:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Valor da mo de obra"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),n.jsx("textarea",{value:h.observacoes,onChange:G=>f({...h,observacoes:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500",rows:2,placeholder:"Observaes internas sobre o servio..."})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Nl,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Configure o servio completo"}),n.jsxs("p",{children:["Nas prximas abas, voc pode adicionar materiais e mo de obra. ",n.jsx("span",{className:"font-medium",children:"Ambos so opcionais"})," - voc pode criar servios sem materiais ou sem mo de obra, dependendo do tipo de servio."]})]})]})]},"dados"),i==="materiais"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-semibold",children:["Materiais Necessrios ",n.jsx("span",{className:"text-sm text-gray-500 font-normal",children:"(Opcional)"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Liste todos os materiais usados neste servio. Ex: Consultoria, Vistoria, Laudo no precisam de materiais."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Criar Novo Material"]}),n.jsxs("button",{onClick:E,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar do Estoque"]})]})]}),x.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500 bg-gray-50 rounded-lg border-2 border-dashed",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{className:"font-medium",children:"Nenhum material adicionado"}),n.jsx("p",{className:"text-sm",children:"Materiais so opcionais para este servio"}),n.jsx("p",{className:"text-xs mt-1 text-gray-400",children:'Clique em "Adicionar Material" se o servio precisar de materiais'})]}),x.map((G,q)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h4",{className:"font-semibold text-gray-900",children:["Material #",q+1,G.nome_material&&n.jsxs("span",{className:"ml-2 text-green-600",children:["- ",G.nome_material]})]}),G.material_id&&!G.nome_material&&n.jsx("span",{className:"text-xs text-gray-500",children:"Material selecionado"})]}),n.jsx("button",{onClick:()=>T(G.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-3",children:[n.jsxs("div",{className:"md:col-span-3 relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:" Buscar Material do Estoque"}),n.jsx("input",{type:"text",value:_,onChange:re=>k(re.target.value),onFocus:()=>B(G.id),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"Digite para buscar no estoque..."}),_&&C===G.id&&y.filter(re=>re.name.toLowerCase().includes(_.toLowerCase())||re.sku&&re.sku.toLowerCase().includes(_.toLowerCase())).length>0&&n.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:y.filter(re=>re.name.toLowerCase().includes(_.toLowerCase())||re.sku&&re.sku.toLowerCase().includes(_.toLowerCase())).map(re=>n.jsxs("button",{type:"button",onClick:()=>N(G.id,re.id),className:"w-full px-4 py-3 text-left hover:bg-green-50 border-b last:border-0 transition-colors",children:[n.jsx("div",{className:"font-medium text-gray-900",children:re.name}),n.jsxs("div",{className:"text-sm text-gray-600 flex items-center justify-between",children:[n.jsxs("span",{children:[re.sku&&n.jsxs("span",{className:"mr-2",children:["Cd: ",re.sku]}),n.jsxs("span",{children:["Estoque: ",re.quantity," ",re.unit]})]}),n.jsxs("span",{className:"font-semibold text-green-600",children:["R$ ",Number(re.sale_price).toFixed(2),"/",re.unit]})]})]},re.id))})]}),n.jsxs("div",{className:"relative",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade"}),n.jsx("input",{type:"number",value:G.quantidade_padrao,min:"0.01",step:"0.01",onChange:re=>D(G.id,{quantidade_padrao:Number(re.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"}),G.unidade_medida&&n.jsx("span",{className:"absolute right-3 top-9 text-xs text-gray-500 font-semibold",children:G.unidade_medida})]}),n.jsx("div",{className:"md:col-span-2 flex items-end",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:G.obrigatorio,onChange:re=>D(G.id,{obrigatorio:re.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Obrigatrio"})]})})]}),G.material_id&&n.jsxs("div",{className:"grid grid-cols-5 gap-3 text-xs bg-white rounded p-3 border",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Custo Unit:"}),n.jsx("p",{className:"font-bold text-orange-600",children:z(G.preco_compra_unitario)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Venda Unit:"}),n.jsx("p",{className:"font-bold text-green-600",children:z(G.preco_venda_unitario)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Custo Total:"}),n.jsx("p",{className:"font-bold text-orange-700",children:z(G.custo_total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor Total:"}),n.jsx("p",{className:"font-bold text-green-700",children:z(G.valor_total)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Lucro:"}),n.jsx("p",{className:"font-bold text-blue-700",children:z(G.lucro)})]})]})]},G.id)),n.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"font-semibold text-green-900",children:"Total Materiais:"}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm text-green-700",children:["Custo: ",z(ee.custoMateriais)]}),n.jsxs("p",{className:"text-lg font-bold text-green-900",children:["Venda: ",z(ee.valorMateriais)]})]})]})})]},"materiais"),i==="resumo"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumo Financeiro Completo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[n.jsxs("h4",{className:"font-semibold text-orange-900 mb-3 flex items-center gap-2",children:[n.jsx(qt,{className:"h-5 w-5"}),"Custos de Materiais"]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Quantidade de Itens:"}),n.jsx("span",{className:"font-semibold",children:x.length})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Custo Total:"}),n.jsx("span",{className:"font-bold text-orange-700",children:z(ee.custoMateriais)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-700",children:"Valor de Venda:"}),n.jsx("span",{className:"font-bold text-green-700",children:z(ee.valorMateriais)})]})]})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-300",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[n.jsx(oS,{className:"h-5 w-5"}),"Totais do Servio"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Custo Total (Materiais):"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(ee.custoTotal)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Preo Base do Servio:"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(h.preco_base)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{children:"Valor dos Materiais:"}),n.jsx("span",{className:"font-bold text-gray-900",children:z(ee.valorMateriais)})]}),n.jsxs("div",{className:"border-t pt-3 flex justify-between",children:[n.jsx("span",{className:"font-semibold",children:"Preo Total Sugerido:"}),n.jsx("span",{className:"font-bold text-xl text-green-600",children:z(ee.valorTotal)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border-2 border-green-300",children:[n.jsxs("h4",{className:"font-semibold text-green-900 mb-3 flex items-center gap-2",children:[n.jsx(qr,{className:"h-5 w-5"}),"Anlise de Lucro"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-800",children:"Lucro Bruto:"}),n.jsx("span",{className:"font-bold text-xl text-green-700",children:z(ee.lucroTotal)})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-800",children:"Margem de Lucro:"}),n.jsxs("span",{className:"font-bold text-2xl text-green-600",children:[ee.margemLucro.toFixed(1),"%"]})]})]})]})]})]})]}),n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-yellow-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Ateno"}),n.jsx("p",{children:"Estes valores so calculados automaticamente e serviro como base para os oramentos. Voc poder ajustar as quantidades em cada Ordem de Servio."})]})]})]},"resumo")]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:K,disabled:l,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5"}),"Salvar Servio no Catlogo"]})})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60] p-4",children:n.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-blue-600 text-white p-6 flex items-center justify-between z-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Criar Novo Material"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Adicione ao estoque e use neste servio"})]}),n.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Material *"}),n.jsx("input",{type:"text",value:p.name,onChange:G=>v({...p,name:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Cabo de Rede Cat6"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"SKU / Cdigo"}),n.jsx("input",{type:"text",value:p.sku,onChange:G=>v({...p,sku:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: MAT-001"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unidade de Medida"}),n.jsxs("select",{value:p.unit,onChange:G=>v({...p,unit:G.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"UN",children:"Unidade (UN)"}),n.jsx("option",{value:"MT",children:"Metro (MT)"}),n.jsx("option",{value:"M2",children:"Metro Quadrado (M)"}),n.jsx("option",{value:"KG",children:"Quilograma (KG)"}),n.jsx("option",{value:"LT",children:"Litro (LT)"}),n.jsx("option",{value:"CX",children:"Caixa (CX)"}),n.jsx("option",{value:"PC",children:"Pea (PC)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Quantidade Inicial"}),n.jsx("input",{type:"number",value:p.quantity,onChange:G=>v({...p,quantity:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Custo Unitrio (R$)"}),n.jsx("input",{type:"number",value:p.unit_cost,onChange:G=>v({...p,unit_cost:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo de Venda (R$)"}),n.jsx("input",{type:"number",value:p.sale_price,onChange:G=>v({...p,sale_price:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estoque Mnimo"}),n.jsx("input",{type:"number",value:p.min_quantity,onChange:G=>v({...p,min_quantity:Number(G.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Nl,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm text-blue-900",children:[n.jsx("p",{className:"font-medium mb-1",children:"Material no Estoque"}),n.jsx("p",{children:"Este material ser adicionado ao seu estoque e ficar disponvel para uso em servios e ordens de servio."})]})]})})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:Q,disabled:l,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:l?n.jsx(n.Fragment,{children:"Criando..."}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5"}),"Criar e Salvar no Estoque"]})})]})]})})]}):null},Obe=()=>{const{isAdmin:t}=On();ui();const[e,r]=O.useState(""),[s,a]=O.useState("all"),[i,o]=O.useState([]),[l,c]=O.useState(!0),[d,u]=O.useState(null),[h,f]=O.useState(!1),[p,v]=O.useState(null),[y,g]=O.useState(void 0),[x,w]=O.useState(void 0),[_,k]=O.useState(null),[C,B]=O.useState({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]});O.useEffect(()=>{I()},[]);const I=async()=>{try{c(!0);const Q=await fle();o(Q||[]),u(null)}catch(Q){console.error("Error loading services:",Q),u("Erro ao carregar catlogo de servios")}finally{c(!1)}},S=["all",...Array.from(new Set(i.map(Q=>Q.category)))],E=i.filter(Q=>{const U=Q.name.toLowerCase().includes(e.toLowerCase())||Q.description.toLowerCase().includes(e.toLowerCase()),K=s==="all"||Q.category===s;return U&&K}),D=async()=>{if(!C.name||!C.category){alert("Por favor, preencha todos os campos obrigatrios");return}try{const Q={name:C.name,category:C.category,description:C.description,estimated_time:C.estimated_time,base_price:C.base_price,materials:C.materials,instructions:C.instructions,is_active:!0},U=await Ale(Q);o([...i,U]),B({name:"",category:"",description:"",estimated_time:"",base_price:0,materials:[],instructions:[]}),f(!1),alert("Servio adicionado com sucesso!")}catch(Q){console.error("Error creating service:",Q),alert("Erro ao adicionar servio")}},N=async()=>{if(p)try{const Q={name:p.name,category:p.category,description:p.description,estimated_time:p.estimated_time,base_price:p.base_price,materials:p.materials,instructions:p.instructions,is_active:p.is_active},U=await mle(p.id,Q);o(i.map(K=>K.id===U.id?U:K)),v(null),alert("Servio atualizado com sucesso!")}catch(Q){console.error("Error updating service:",Q),alert("Erro ao atualizar servio")}},T=async Q=>{try{await ple(Q),o(i.filter(U=>U.id!==Q)),k(null),alert("Servio excludo com sucesso!")}catch(U){console.error("Error deleting service:",U),alert("Erro ao excluir servio")}};return n.jsxs("div",{className:"space-y-6",children:[d&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:d})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Catlogo de Servios"}),n.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Servio"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome ou descrio...",value:e,onChange:Q=>r(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sf,{className:"h-5 w-5 text-gray-400"}),n.jsx("select",{value:s,onChange:Q=>a(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:S.map(Q=>n.jsx("option",{value:Q,children:Q==="all"?"Todas as Categorias":Q},Q))})]})]})}),l?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando servios..."})]}):n.jsx("div",{className:"space-y-4",children:E.length>0?E.map((Q,U)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-xl transition-all duration-200 cursor-pointer",onClick:()=>v(Q),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:n.jsx(Et,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:Q.name}),n.jsx("p",{className:"text-sm text-gray-600",children:Q.category})]})]}),t&&n.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",Q.base_price.toFixed(2)]})]}),n.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:Q.description||"Sem descrio"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(qt,{className:"h-4 w-4 text-gray-400"}),n.jsxs("span",{children:[Q.materials?.length||0," materiais"]})]}),n.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[n.jsx(Wt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{children:Q.estimated_time||"No definido"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:K=>{K.stopPropagation(),v(Q),g(Q.id)},className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors",title:"Editar servio",children:n.jsx(hn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:K=>{K.stopPropagation(),w(Q.id)},className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",title:"Duplicar servio",children:n.jsx(Bd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:K=>{K.stopPropagation(),k(Q.id)},className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",title:"Excluir servio",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]})]},Q.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum servio encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos servios com os filtros selecionados."}),n.jsx("button",{onClick:()=>{r(""),a("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(vt,{children:h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Servio"}),n.jsx("button",{onClick:()=>f(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),n.jsx("input",{type:"text",value:C.name,onChange:Q=>B({...C,name:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do servio",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:C.category,onChange:Q=>B({...C,category:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao, Manuteno",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),n.jsx("input",{type:"text",value:C.estimated_time,onChange:Q=>B({...C,estimated_time:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 2 horas"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),n.jsx("input",{type:"number",value:C.base_price,onChange:Q=>B({...C,base_price:parseFloat(Q.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:C.description,onChange:Q=>B({...C,description:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descrio detalhada do servio"})]})]})}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>f(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:D,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Servio"]})]})]})]})}),n.jsx(vt,{children:p&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>v(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Servio"}),n.jsx("button",{onClick:()=>v(null),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Servio"}),n.jsx("input",{type:"text",value:p.name,onChange:Q=>v({...p,name:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:p.category,onChange:Q=>v({...p,category:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo Estimado"}),n.jsx("input",{type:"text",value:p.estimated_time||"",onChange:Q=>v({...p,estimated_time:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preo Base (R$)"}),n.jsx("input",{type:"number",value:p.base_price,onChange:Q=>v({...p,base_price:parseFloat(Q.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:p.description||"",onChange:Q=>v({...p,description:Q.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Materiais Necessrios"}),p.materials&&p.materials.length>0?n.jsx("div",{className:"space-y-2",children:p.materials.map((Q,U)=>n.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-gray-50 rounded-lg",children:[n.jsx(qt,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"flex-1 text-sm",children:Q.name}),n.jsxs("span",{className:"text-sm text-gray-600",children:["Qtd: ",Q.quantity]})]},U))}):n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhum material definido"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Instrues"}),p.instructions&&p.instructions.length>0?n.jsx("ol",{className:"list-decimal list-inside space-y-1",children:p.instructions.map((Q,U)=>n.jsx("li",{className:"text-sm text-gray-700",children:Q},U))}):n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma instruo definida"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>v(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:N,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})}),n.jsx(vt,{children:_&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(Un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este servio? Esta ao no pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>k(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>T(_),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(Tbe,{isOpen:h||p!==null||x!==void 0,onClose:()=>{f(!1),v(null),g(void 0),w(void 0)},onSave:()=>{I(),f(!1),v(null),g(void 0),w(void 0)},serviceId:y,duplicateFromId:x})]})},Ibe=({isOpen:t,onComplete:e})=>{const[r,s]=O.useState(0),a=[{title:"Bem-vindo ao Sistema OS!",description:"Vamos fazer um tour rpido pelas principais funcionalidades do sistema.",image:n.jsx(li,{className:"h-12 w-12 text-blue-500"}),highlight:null},{title:"Ordens de Servio",description:"Crie, gerencie e acompanhe todas as suas ordens de servio em um s lugar. Adicione fotos, materiais e acompanhe o status em tempo real.",image:n.jsx(li,{className:"h-12 w-12 text-blue-500"}),highlight:"service-orders"},{title:"Estoque Integrado",description:"Controle seu estoque de materiais com baixa automtica quando uma OS  finalizada. Receba alertas de estoque mnimo.",image:n.jsx(qt,{className:"h-12 w-12 text-green-500"}),highlight:"inventory"},{title:"Catlogo de Servios",description:"Crie servios pr-definidos com descries, materiais necessrios e valores para agilizar a criao de novas ordens.",image:n.jsx(Et,{className:"h-12 w-12 text-purple-500"}),highlight:"service-catalog"},{title:"Relatrios Detalhados",description:"Acompanhe o desempenho do seu negcio com relatrios detalhados e grficos interativos.",image:n.jsx(oi,{className:"h-12 w-12 text-orange-500"}),highlight:"reports"},{title:"Controle de Acesso",description:"Diferentes nveis de acesso para administradores, tcnicos e funcionrios externos, garantindo a segurana das informaes.",image:n.jsx(mh,{className:"h-12 w-12 text-gray-500"}),highlight:"settings"}],i=()=>{r<a.length-1?s(r+1):e()},o=()=>{r>0&&s(r-1)},l=()=>{e()};return n.jsx(vt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white rounded-t-3xl",children:[n.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"flex justify-center mb-3",children:a[r].image}),n.jsx("h2",{className:"text-xl font-bold",children:a[r].title})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("p",{className:"text-gray-600 text-center mb-6 leading-relaxed",children:a[r].description}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500 mb-2",children:[n.jsx("span",{children:"Progresso"}),n.jsxs("span",{children:[r+1," de ",a.length]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx(he.div,{initial:{width:0},animate:{width:`${(r+1)/a.length*100}%`},className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300"})})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("button",{onClick:o,disabled:r===0,className:`flex items-center px-4 py-2 rounded-xl transition-all duration-200 ${r===0?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[n.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Anterior"]}),n.jsx("div",{className:"flex space-x-2",children:a.map((c,d)=>n.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-200 ${d===r?"bg-blue-500 w-6":d<r?"bg-green-500":"bg-gray-300"}`},d))}),n.jsx("button",{onClick:i,className:"flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-xl hover:shadow-lg transition-all duration-200",children:r===a.length-1?n.jsxs(n.Fragment,{children:["Concluir",n.jsx(rn,{className:"h-4 w-4 ml-2"})]}):n.jsxs(n.Fragment,{children:["Prximo",n.jsx(Ho,{className:"h-4 w-4 ml-2"})]})})]}),n.jsx("div",{className:"text-center mt-4",children:n.jsx("button",{onClick:l,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Pular tutorial"})})]})]})]})})},Dbe=()=>{const[t,e]=O.useState(null),[r,s]=O.useState([]),[a,i]=O.useState([]),[o,l]=O.useState([]),[c,d]=O.useState(!0),[u,h]=O.useState("overview");O.useEffect(()=>{f()},[]);const f=async()=>{try{d(!0);const[x,w,_,k]=await Promise.all([pe.from("v_business_kpis").select("*").maybeSingle(),pe.from("v_service_performance").select("*").order("total_revenue",{ascending:!1}),pe.from("v_customer_profitability").select("*").order("total_revenue",{ascending:!1}).limit(20),pe.from("v_team_productivity").select("*").order("total_revenue_generated",{ascending:!1})]);x.data&&e(x.data),w.data&&s(w.data),_.data&&i(_.data),k.data&&l(k.data)}catch(x){console.error("Erro ao carregar KPIs:",x)}finally{d(!1)}},p=x=>x==null||isNaN(x)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(x),v=x=>x==null||isNaN(x)?"0.0%":`${x.toFixed(1)}%`;if(c)return n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const y=[{title:"Taxa de Converso",value:v(t?.conversion_rate||0),target:"80%",progress:t?.conversion_rate||0,icon:r1,color:"blue",trend:(t?.conversion_rate||0)>=80?"up":"down"},{title:"Ticket Mdio",value:p(t?.avg_order_value||0),target:"R$ 5.000",progress:(t?.avg_order_value||0)/5e3*100,icon:gr,color:"green",trend:"up"},{title:"Margem de Lucro",value:v(t?.profit_margin||0),target:"30%",progress:t?.profit_margin||0,icon:qr,color:"purple",trend:(t?.profit_margin||0)>=30?"up":"down"},{title:"Tempo Mdio Atendimento",value:`${((t?.avg_service_time_hours??0)||0).toFixed(1)}h`,target:"24h",progress:Math.min(100,(24-((t?.avg_service_time_hours??0)||0))/24*100),icon:Wt,color:"orange",trend:(t?.avg_service_time_hours||0)<=24?"up":"down"}],g=[{label:"OSs Concludas",value:t?.total_completed_orders||0,icon:Ua,color:"text-green-600 bg-green-50"},{label:"OSs em Andamento",value:t?.orders_in_progress||0,icon:Dm,color:"text-blue-600 bg-blue-50"},{label:"Clientes Ativos",value:t?.active_customers||0,icon:ir,color:"text-purple-600 bg-purple-50"},{label:"Itens em Estoque",value:t?.materials_in_stock||0,icon:qt,color:"text-orange-600 bg-orange-50"}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"KPIs e OKRs"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Indicadores-chave de performance e objetivos"})]}),n.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Atualizar"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:y.map((x,w)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:`w-12 h-12 bg-${x.color}-50 rounded-lg flex items-center justify-center`,children:n.jsx(x.icon,{className:`h-6 w-6 text-${x.color}-600`})}),x.trend==="up"?n.jsx(Zw,{className:"h-5 w-5 text-green-500"}):n.jsx(gE,{className:"h-5 w-5 text-red-500"})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:x.title}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.value}),n.jsxs("div",{className:"flex items-center justify-between text-xs",children:[n.jsxs("span",{className:"text-gray-500",children:["Meta: ",x.target]}),n.jsxs("span",{className:`font-medium ${x.progress>=100?"text-green-600":"text-orange-600"}`,children:[Math.min(100,x.progress||0).toFixed(0),"%"]})]}),n.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`bg-${x.color}-600 h-2 rounded-full transition-all duration-500`,style:{width:`${Math.min(100,x.progress)}%`}})})]},x.title))}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:g.map((x,w)=>n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+w*.05},className:`${x.color} rounded-xl p-4`,children:[n.jsx(x.icon,{className:"h-8 w-8 mb-2"}),n.jsx("p",{className:"text-2xl font-bold mb-1",children:x.value}),n.jsx("p",{className:"text-sm opacity-80",children:x.label})]},x.label))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"overview",label:"Viso Geral"},{id:"services",label:"Servios"},{id:"customers",label:"Clientes"},{id:"team",label:"Equipe"}].map(x=>n.jsx("button",{onClick:()=>h(x.id),className:`flex-1 px-6 py-4 text-sm font-medium transition-colors ${u===x.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:x.label},x.id))}),n.jsxs("div",{className:"p-6",children:[u==="overview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Desempenho Financeiro"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Receita Total"}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:p(t?.total_income||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Despesas Totais"}),n.jsx("span",{className:"text-lg font-bold text-red-600",children:p(t?.total_expenses||0)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-green-300",children:[n.jsx("span",{className:"text-gray-900 font-semibold",children:"Lucro Lquido"}),n.jsx("span",{className:"text-xl font-bold text-green-700",children:p(t?.net_profit||0)})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-6 border border-purple-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Potencial de Estoque"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Valor em Estoque"}),n.jsx("span",{className:"text-lg font-bold text-purple-600",children:p(t?.total_inventory_value||0)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-700",children:"Lucro Potencial"}),n.jsx("span",{className:"text-lg font-bold text-green-600",children:p(t?.potential_profit||0)})]}),n.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-purple-300",children:[n.jsx("span",{className:"text-gray-900 font-semibold",children:"Margem Potencial"}),n.jsx("span",{className:"text-xl font-bold text-purple-700",children:v((t?.potential_profit||0)/(t?.total_inventory_value||1)*100)})]})]})]})]}),n.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contas a Receber e Pagar"}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Receber"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:p(t?.accounts_receivable||0)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"A Pagar"}),n.jsx("p",{className:"text-2xl font-bold text-red-600",children:p(t?.accounts_payable||0)})]})]})]})]}),u==="services"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Servio"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Total"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ticket Mdio"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tempo Mdio"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.service_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:x.total_orders}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v(x.completion_rate)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:p(x.total_revenue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-600",children:p(x.avg_revenue_per_service)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[(x.avg_completion_time_hours||0).toFixed(1),"h"]})]},x.service_name))})]})}),u==="customers"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Lucro Bruto"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Margem"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ltimo Pedido"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.customer_name}),x.company_name&&n.jsx("div",{className:"text-sm text-gray-500",children:x.company_name})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:x.total_orders}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:p(x.total_revenue)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-green-600",children:p(x.gross_profit)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.profit_margin>=30?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v(x.profit_margin)})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[x.days_since_last_order," dias"]})]},x.customer_name))})]})}),u==="team"&&n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Colaborador"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cargo"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"OSs"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Taxa Concluso"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Receita Gerada"}),n.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"ROI Salarial"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(x=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.employee_name}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:x.role}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-600",children:[x.completed_orders,"/",x.total_orders_assigned]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.completion_rate>=80?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:v(x.completion_rate)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-semibold text-gray-900",children:p(x.total_revenue_generated)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.revenue_to_salary_ratio>=5?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:[(x.revenue_to_salary_ratio||0).toFixed(1),"x"]})})]},x.employee_name))})]})})]})]})]})};cf.register(P1,F1,_1,df,E1,k1,B1,S1);const Mbe=()=>{const{hasPermission:t}=On(),e=t("view_bank_balances"),[r,s]=O.useState("overview"),[a,i]=O.useState([]),[o,l]=O.useState([]),[c,d]=O.useState([]),[u,h]=O.useState([]),[f,p]=O.useState([]),[v,y]=O.useState(!0),[g,x]=O.useState("month"),[w,_]=O.useState(""),[k,C]=O.useState(""),[B,I]=O.useState({totalReceitas:0,totalDespesas:0,lucro:0,custoFolha:0,receitasMes:0,despesasMes:0,lucroMes:0,contasReceber:0,contasPagar:0,margemLucro:0,ticketMedio:0,valorEstoque:0,valorVendaEstoque:0,lucroEstoque:0}),[S,E]=O.useState({receitas:[],despesas:[],totalReceitas:0,totalDespesas:0,lucroOperacional:0,margemOperacional:0}),[D,N]=O.useState({labels:[],receitas:[],despesas:[],saldo:[]});O.useEffect(()=>{T()},[g]);const T=async()=>{try{y(!0);const[q,re,Z,$,L]=await Promise.all([pe.from("finance_entries").select("*").order("data",{ascending:!1}),pe.from("financial_categories").select("*"),pe.from("employees").select("id, name, salary"),pe.from("inventory_items").select("unit_cost, unit_price, quantity").eq("active",!0),pe.rpc("get_bank_accounts_with_transactions")]);if(q.error)throw q.error;if(re.error)throw re.error;if(Z.error)throw Z.error;if($.error)throw $.error;L.error&&console.error("Erro ao carregar contas bancrias:",L.error);const Y=q.data||[],X=re.data||[],Ae=Z.data||[],fe=$.data||[],de=L.data||[];console.log(" Contas bancrias carregadas:",de),i(Y),l(X),d(Ae),h(fe),p(de),Q(Y,Ae,fe),U(Y,X,Ae),K(Y)}catch(q){console.error("Error loading data:",q)}finally{y(!1)}},Q=(q,re,Z)=>{const $=new Date,L=$.getMonth(),Y=$.getFullYear(),X=q.filter(ie=>ie.tipo==="receita"&&ie.status==="recebido").reduce((ie,Se)=>ie+Number(Se.valor),0),Ae=q.filter(ie=>ie.tipo==="despesa"&&ie.status==="pago").reduce((ie,Se)=>ie+Number(Se.valor),0),fe=re.reduce((ie,Se)=>ie+Number(Se.salary||0),0),de=q.filter(ie=>ie.tipo==="receita"&&ie.status==="a_receber").reduce((ie,Se)=>ie+Number(Se.valor),0),me=q.filter(ie=>ie.tipo==="despesa"&&ie.status==="a_pagar").reduce((ie,Se)=>ie+Number(Se.valor),0),Ce=q.filter(ie=>{const Se=new Date(ie.data);return ie.tipo==="receita"&&ie.status==="recebido"&&Se.getMonth()===L&&Se.getFullYear()===Y}).reduce((ie,Se)=>ie+Number(Se.valor),0),xe=q.filter(ie=>{const Se=new Date(ie.data);return ie.tipo==="despesa"&&ie.status==="pago"&&Se.getMonth()===L&&Se.getFullYear()===Y}).reduce((ie,Se)=>ie+Number(Se.valor),0),we=q.filter(ie=>ie.tipo==="receita"&&ie.status==="recebido").length,Ie=we>0?X/we:0,lt=Z.reduce((ie,Se)=>ie+Number(Se.unit_cost||0)*Number(Se.quantity||0),0),Le=Z.reduce((ie,Se)=>ie+Number(Se.unit_price||0)*Number(Se.quantity||0),0),J=Le-lt,Qe=X-Ae,je=X>0?Qe/X*100:0;I({totalReceitas:X,totalDespesas:Ae,lucro:Qe,custoFolha:fe,receitasMes:Ce,despesasMes:xe,lucroMes:Ce-xe,contasReceber:de,contasPagar:me,margemLucro:je,ticketMedio:Ie,valorEstoque:lt,valorVendaEstoque:Le,lucroEstoque:J})},U=(q,re,Z)=>{const $={},L={};q.forEach(xe=>{if(xe.categoria_id){const we=re.find(Ie=>Ie.id===xe.categoria_id);if(we){if(xe.tipo==="receita"&&xe.status==="recebido"){const Ie=we.dre_grupo||we.nome;$[Ie]||($[Ie]={valor:0,grupo:we.dre_grupo}),$[Ie].valor+=Number(xe.valor)}else if(xe.tipo==="despesa"&&xe.status==="pago"){const Ie=we.dre_grupo||we.nome;L[Ie]||(L[Ie]={valor:0,grupo:we.dre_grupo}),L[Ie].valor+=Number(xe.valor)}}}});const Y=Z.reduce((xe,we)=>xe+Number(we.salary||0),0);Y>0&&(L["Folha de Pagamento"]={valor:Y,grupo:"Despesas Operacionais"});const X=Object.values($).reduce((xe,we)=>xe+we.valor,0),Ae=Object.values(L).reduce((xe,we)=>xe+we.valor,0),fe=Object.entries($).map(([xe,we])=>({categoria:xe,valor:we.valor,percentual:X>0?we.valor/X*100:0})).sort((xe,we)=>we.valor-xe.valor),de=Object.entries(L).map(([xe,we])=>({categoria:xe,valor:we.valor,percentual:Ae>0?we.valor/Ae*100:0})).sort((xe,we)=>we.valor-xe.valor),me=X-Ae,Ce=X>0?me/X*100:0;E({receitas:fe,despesas:de,totalReceitas:X,totalDespesas:Ae,lucroOperacional:me,margemOperacional:Ce})},K=q=>{const re=new Date,Z=[],$=[],L=[],Y=[];for(let X=5;X>=0;X--){const Ae=new Date(re.getFullYear(),re.getMonth()-X,1),fe=Ae.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"});Z.push(fe);const de=q.filter(Ce=>{const xe=new Date(Ce.data);return Ce.tipo==="receita"&&Ce.status==="recebido"&&xe.getMonth()===Ae.getMonth()&&xe.getFullYear()===Ae.getFullYear()}).reduce((Ce,xe)=>Ce+Number(xe.valor),0),me=q.filter(Ce=>{const xe=new Date(Ce.data);return Ce.tipo==="despesa"&&Ce.status==="pago"&&xe.getMonth()===Ae.getMonth()&&xe.getFullYear()===Ae.getFullYear()}).reduce((Ce,xe)=>Ce+Number(xe.valor),0);$.push(de),L.push(me),Y.push(de-me)}N({labels:Z,receitas:$,despesas:L,saldo:Y})},z=q=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(q),ee=q=>q.toFixed(1)+"%",G=()=>{let q="";r==="dre"&&(q=`DRE - Demonstrativo de Resultados

`,q+=`RECEITAS
`,q+=`Categoria,Valor,Percentual
`,S.receitas.forEach(L=>{q+=`${L.categoria},${L.valor},${L.percentual.toFixed(2)}%
`}),q+=`
TOTAL RECEITAS,${S.totalReceitas}

`,q+=`DESPESAS
`,q+=`Categoria,Valor,Percentual
`,S.despesas.forEach(L=>{q+=`${L.categoria},${L.valor},${L.percentual.toFixed(2)}%
`}),q+=`
TOTAL DESPESAS,${S.totalDespesas}

`,q+=`LUCRO OPERACIONAL,${S.lucroOperacional}
`,q+=`MARGEM OPERACIONAL,${S.margemOperacional.toFixed(2)}%
`);const re=new Blob([q],{type:"text/csv"}),Z=window.URL.createObjectURL(re),$=document.createElement("a");$.href=Z,$.download=`relatorio-financeiro-${new Date().toISOString().split("T")[0]}.csv`,$.click()};return v?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(gr,{className:"h-8 w-8 text-green-600"}),"Dashboard Financeiro Completo"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Relatrios financeiros e anlises em tempo real"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs("button",{onClick:G,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Exportar"]})})]}),n.jsx("div",{className:"flex gap-2 border-b border-gray-200 overflow-x-auto",children:[{id:"overview",label:"Viso Geral",icon:EA},{id:"kpis",label:"KPIs e OKRs",icon:qr},{id:"dre",label:"DRE",icon:Et},{id:"cashflow",label:"Fluxo de Caixa",icon:PH},{id:"reports",label:"Relatrios",icon:Kse}].map(q=>{const re=q.icon;return n.jsxs("button",{onClick:()=>s(q.id),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${r===q.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[n.jsx(re,{className:"h-4 w-4"}),q.label]},q.id)})}),r==="overview"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(Zw,{className:"h-5 w-5"})}),n.jsx(qr,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-green-100 text-xs font-medium mb-1",children:"Total Receitas"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.totalReceitas)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-green-100",children:["Ms: ",z(B.receitasMes)]})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(gE,{className:"h-5 w-5"})}),n.jsx(cc,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-red-100 text-xs font-medium mb-1",children:"Total Despesas"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.totalDespesas)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-red-100",children:["Ms: ",z(B.despesasMes)]})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:`bg-gradient-to-br ${B.lucro>=0?"from-blue-500 to-blue-600":"from-orange-500 to-orange-600"} rounded-lg p-4 text-white shadow-lg`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(qy,{className:"h-5 w-5"})}),n.jsx(gr,{className:"h-4 w-4 opacity-80"})]}),n.jsx("p",{className:"text-blue-100 text-xs font-medium mb-1",children:"Lucro Lquido"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.lucro)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-blue-100",children:["Margem: ",ee(B.margemLucro)]})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(ir,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-purple-100 text-xs font-medium mb-1",children:"Custo Folha"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.custoFolha)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-purple-100",children:[c.length," funcionrios"]})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[n.jsx(qy,{className:"h-5 w-5 text-blue-600"}),"Contas Bancrias"]}),n.jsxs("span",{className:"text-sm text-gray-500",children:[f.length," conta(s)"]})]}),e?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:[f.map((q,re)=>n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:re*.05},className:`relative rounded-lg p-3 border-2 transition-all hover:shadow-md ${q.saldo_calculado>=0?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-br from-red-50 to-orange-50 border-red-200"}`,children:[q.is_default&&n.jsx("div",{className:"absolute top-2 right-2",children:n.jsx("span",{className:"bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-medium",children:"Principal"})}),n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(qy,{className:`h-4 w-4 ${q.saldo_calculado>=0?"text-green-600":"text-red-600"}`}),n.jsx("h4",{className:"font-semibold text-sm text-gray-900 truncate",children:q.bank_name})]}),n.jsx("p",{className:"text-xs text-gray-600 mb-2 truncate",children:q.account_name}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Saldo:"}),n.jsx("span",{className:`text-sm font-bold ${q.saldo_calculado>=0?"text-green-700":"text-red-700"}`,children:z(Number(q.saldo_calculado))})]}),n.jsxs("div",{className:"pt-1.5 border-t border-gray-200",children:[n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-green-600",children:"Receitas:"}),n.jsx("span",{className:"font-medium text-green-700",children:z(Number(q.total_receitas))})]}),n.jsxs("div",{className:"flex justify-between text-xs mb-0.5",children:[n.jsx("span",{className:"text-red-600",children:"Despesas:"}),n.jsx("span",{className:"font-medium text-red-700",children:z(Number(q.total_despesas))})]}),n.jsxs("div",{className:"flex justify-between text-xs",children:[n.jsx("span",{className:"text-gray-500",children:"Transaes:"}),n.jsx("span",{className:"font-medium text-gray-700",children:q.total_transactions})]})]})]})]},q.id)),f.length===0&&n.jsxs("div",{className:"col-span-full text-center py-8 text-gray-400",children:[n.jsx(qy,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{className:"text-sm",children:"Nenhuma conta bancria cadastrada"})]})]}):n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(Fo,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Acesso Restrito"}),n.jsxs("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:["Voc no tem permisso para visualizar os saldos das contas bancrias.",n.jsx("br",{}),"Entre em contato com o administrador para solicitar acesso."]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(qt,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-amber-100 text-xs font-medium mb-1",children:"Investido em Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.valorEstoque)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-amber-100",children:["Venda: ",z(B.valorVendaEstoque)]})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(qr,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-emerald-100 text-xs font-medium mb-1",children:"Lucro Potencial Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:z(B.lucroEstoque)}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsxs("p",{className:"text-xs text-emerald-100",children:["Margem: ",ee(B.valorEstoque>0?B.lucroEstoque/B.valorEstoque*100:0)]})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg p-4 text-white shadow-lg",children:[n.jsx("div",{className:"flex items-center justify-between mb-1",children:n.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:n.jsx(qt,{className:"h-5 w-5"})})}),n.jsx("p",{className:"text-cyan-100 text-xs font-medium mb-1",children:"Itens em Estoque"}),n.jsx("h2",{className:"text-2xl font-bold",children:u.length}),n.jsx("div",{className:"mt-2 pt-2 border-t border-white/20",children:n.jsx("p",{className:"text-xs text-cyan-100",children:"Produtos disponveis"})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Receber"}),n.jsx("div",{className:"text-3xl font-bold text-green-600 mb-4",children:z(B.contasReceber)}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(q=>q.tipo==="receita"&&q.status==="a_receber").slice(0,5).map(q=>n.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.descricao}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(q.data).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"font-bold text-green-600",children:z(Number(q.valor))})]})},q.id))})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contas a Pagar"}),n.jsx("div",{className:"text-3xl font-bold text-red-600 mb-4",children:z(B.contasPagar)}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:a.filter(q=>q.tipo==="despesa"&&q.status==="a_pagar").slice(0,5).map(q=>n.jsx("div",{className:"p-3 bg-red-50 rounded-lg",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.descricao}),n.jsx("p",{className:"text-xs text-gray-500",children:new Date(q.data).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"font-bold text-red-600",children:z(Number(q.valor))})]})},q.id))})]})]})]}),r==="dre"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"DRE - Demonstrativo de Resultados"}),n.jsx(vr,{className:"h-6 w-6 text-gray-400"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-green-700",children:"RECEITAS"}),n.jsx("span",{className:"text-2xl font-bold text-green-700",children:z(S.totalReceitas)})]}),n.jsx("div",{className:"space-y-2",children:S.receitas.map((q,re)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.categoria}),n.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${q.percentual}%`}})})]}),n.jsxs("div",{className:"ml-4 text-right",children:[n.jsx("p",{className:"font-bold text-gray-900",children:z(q.valor)}),n.jsx("p",{className:"text-sm text-gray-500",children:ee(q.percentual)})]})]},re))})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"DESPESAS"}),n.jsx("span",{className:"text-2xl font-bold text-red-700",children:z(S.totalDespesas)})]}),n.jsx("div",{className:"space-y-2",children:S.despesas.map((q,re)=>n.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-gray-900",children:q.categoria}),n.jsx("div",{className:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${q.percentual}%`}})})]}),n.jsxs("div",{className:"ml-4 text-right",children:[n.jsx("p",{className:"font-bold text-gray-900",children:z(q.valor)}),n.jsx("p",{className:"text-sm text-gray-500",children:ee(q.percentual)})]})]},re))})]}),n.jsx("div",{className:"border-t pt-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-6 rounded-xl ${S.lucroOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Lucro Operacional"}),n.jsx("p",{className:`text-4xl font-bold ${S.lucroOperacional>=0?"text-blue-700":"text-orange-700"}`,children:z(S.lucroOperacional)})]}),n.jsxs("div",{className:`p-6 rounded-xl ${S.margemOperacional>=0?"bg-blue-50 border-2 border-blue-200":"bg-orange-50 border-2 border-orange-200"}`,children:[n.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Margem Operacional"}),n.jsx("p",{className:`text-4xl font-bold ${S.margemOperacional>=0?"text-blue-700":"text-orange-700"}`,children:ee(S.margemOperacional)})]})]})})]})]})}),r==="cashflow"&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Fluxo de Caixa - ltimos 6 Meses"}),n.jsx("div",{className:"h-96",children:n.jsx(J0,{data:{labels:D.labels,datasets:[{label:"Receitas",data:D.receitas,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:D.despesas,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Saldo",data:D.saldo,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{callbacks:{label:q=>`${q.dataset.label}: ${z(q.parsed.y)}`}}},scales:{y:{ticks:{callback:q=>z(Number(q))}}}}})})]}),r==="kpis"&&n.jsx(Dbe,{}),r==="reports"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Mdio"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:z(B.ticketMedio)})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Margem de Lucro"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:ee(B.margemLucro)})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"font-semibold mb-2",children:"Lucro do Ms"}),n.jsx("p",{className:`text-3xl font-bold ${B.lucroMes>=0?"text-blue-600":"text-red-600"}`,children:z(B.lucroMes)})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"ltimos Lanamentos"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Data"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Cdigo"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Descrio"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Tipo"}),n.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500",children:"Status"}),n.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500",children:"Valor"})]})}),n.jsx("tbody",{className:"divide-y",children:a.slice(0,10).map(q=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 text-sm",children:new Date(q.data).toLocaleDateString("pt-BR")}),n.jsx("td",{className:"px-4 py-3 text-sm font-mono",children:q.codigo}),n.jsx("td",{className:"px-4 py-3 text-sm",children:q.descricao}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:q.tipo})}),n.jsx("td",{className:"px-4 py-3 text-sm",children:n.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q.status==="recebido"||q.status==="pago"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:q.status})}),n.jsx("td",{className:"px-4 py-3 text-sm text-right font-semibold",children:z(Number(q.valor))})]},q.id))})]})})]})]})]})},Zz=async t=>{try{const e=t.replace(/\D/g,"");if(e.length!==14)throw new Error("CNPJ deve conter 14 dgitos");const r="https://hevvpugkhcmujiyncysq.supabase.co",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs",a=`${r}/functions/v1/buscar-cnpj?cnpj=${e}`,i=await fetch(a,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${s}`,apikey:s}});if(!i.ok){const l=await i.json().catch(()=>({}));throw i.status===429?new Error("Limite de consultas atingido. Tente novamente em alguns segundos."):i.status===404?new Error(l.error||"CNPJ no encontrado na base de dados."):new Error(l.error||"Erro ao buscar CNPJ. Verifique sua conexo.")}const o=await i.json();if(o.status==="ERROR")throw new Error(o.message||"CNPJ no encontrado");return o}catch(e){throw console.error("Erro ao buscar CNPJ:",e),e instanceof TypeError?new Error("Erro de conexo. Verifique sua internet."):e}},eV=t=>{const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=5?`${e.slice(0,2)}.${e.slice(2)}`:e.length<=8?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5)}`:e.length<=12?`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8)}`:`${e.slice(0,2)}.${e.slice(2,5)}.${e.slice(5,8)}/${e.slice(8,12)}-${e.slice(12,14)}`},Lbe=({cnpj:t,onCnpjChange:e,onDataFilled:r})=>{const[s,a]=O.useState(!1),[i,o]=O.useState(""),[l,c]=O.useState(!1),d=async()=>{if(!t||t.replace(/\D/g,"").length!==14){o("CNPJ deve conter 14 dgitos");return}a(!0),o(""),c(!1);try{const p=await Zz(t);p&&(r({razao_social:p.razao_social,nome_fantasia:p.nome_fantasia,email:p.email,telefone:p.telefone,logradouro:p.logradouro,numero:p.numero,complemento:p.complemento,bairro:p.bairro,cidade:p.municipio,estado:p.uf,cep:p.cep}),c(!0),setTimeout(()=>c(!1),3e3))}catch(p){o(p instanceof Error?p.message:"Erro ao buscar CNPJ")}finally{a(!1)}},u=p=>{const v=eV(p);e(v),o(""),c(!1)},h=()=>{t&&t.replace(/\D/g,"").length===14&&d()},f=p=>{p.key==="Enter"&&(p.preventDefault(),d())};return n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CNPJ ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:n.jsx(md,{className:"w-5 h-5"})}),n.jsx("input",{type:"text",value:t,onChange:p=>u(p.target.value),onBlur:h,onKeyPress:f,placeholder:"00.000.000/0000-00",maxLength:18,className:`w-full pl-10 pr-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${i?"border-red-500":l?"border-green-500":"border-gray-300"}`}),n.jsx("button",{type:"button",onClick:d,disabled:s||!t,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar dados da empresa",children:s?n.jsx(Tp,{className:"w-5 h-5 animate-spin"}):n.jsx(sn,{className:"w-5 h-5"})})]}),i&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:i}),l&&n.jsxs("p",{className:"mt-1 text-sm text-green-600 flex items-center gap-1",children:[n.jsx(md,{className:"w-4 h-4"}),"Dados da empresa preenchidos automaticamente"]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Digite o CNPJ e pressione Enter ou clique na lupa para buscar os dados automaticamente"})]})},Ube=({isOpen:t,onClose:e,onSave:r,customerId:s})=>{const[a,i]=O.useState("dados"),[o,l]=O.useState(!1),[c,d]=O.useState({tipo_pessoa:"fisica",nome_razao:"",nome_fantasia:"",cpf:"",rg:"",cnpj:"",inscricao_estadual:"",inscricao_municipal:"",data_nascimento:"",data_fundacao:"",email:"",telefone:"",celular:"",observacoes:""}),[u,h]=O.useState([]),[f,p]=O.useState([]),[v,y]=O.useState([]);O.useEffect(()=>{s&&g()},[s]);const g=async()=>{if(s)try{const{data:S}=await pe.from("customers").select("*").eq("id",s).single();S&&d({tipo_pessoa:S.tipo_pessoa||"fisica",nome_razao:S.nome_razao||"",nome_fantasia:S.nome_fantasia||"",cpf:S.cpf||"",rg:S.rg||"",cnpj:S.cnpj||"",inscricao_estadual:S.inscricao_estadual||"",inscricao_municipal:S.inscricao_municipal||"",data_nascimento:S.data_nascimento||"",data_fundacao:S.data_fundacao||"",email:S.email||"",telefone:S.telefone||"",celular:S.celular||"",observacoes:S.observacoes||""});const{data:E}=await pe.from("customer_addresses").select("*").eq("customer_id",s),{data:D}=await pe.from("customer_contacts").select("*").eq("customer_id",s),{data:N}=await pe.from("customer_equipment").select("*").eq("customer_id",s);h(E||[]),p(D||[]),y(N||[])}catch(S){console.error("Error loading customer:",S)}},x=async()=>{try{if(!c.nome_razao){alert("Nome/Razo Social  obrigatrio!");return}l(!0);let S=s;const E={nome_razao:c.nome_razao,tipo_pessoa:c.tipo_pessoa||"fisica",cpf:c.cpf||null,cnpj:c.cnpj||null,rg:c.rg||null,email:c.email||null,telefone:c.telefone||null,celular:c.celular||null,inscricao_estadual:c.inscricao_estadual||null,inscricao_municipal:c.inscricao_municipal||null,nome_fantasia:c.nome_fantasia||null,data_nascimento:c.data_nascimento||null,data_fundacao:c.data_fundacao||null,observacoes:c.observacoes||null};if(s){const{error:N}=await pe.from("customers").update(E).eq("id",s);if(N)throw console.error("Error updating customer:",N),N}else{const{data:N,error:T}=await pe.from("customers").insert([E]).select().single();if(T)throw console.error("Error inserting customer:",T),alert(`Erro ao salvar cliente: ${T.message}`),T;S=N.id}const D={};for(const N of u)if(N.id.startsWith("new-")){console.log(" ENDEREO ORIGINAL:",JSON.stringify(N,null,2));const{data:T,error:Q}=await pe.rpc("insert_customer_address",{p_customer_id:S,p_tipo:N.tipo||"comercial",p_nome_identificacao:N.nome_identificacao||"",p_cep:N.cep||"",p_logradouro:N.logradouro||"",p_numero:N.numero||"",p_complemento:N.complemento||"",p_bairro:N.bairro||"",p_cidade:N.cidade||"",p_estado:N.estado||"",p_principal:N.principal||!1});if(Q)throw console.error(" ERRO ao inserir endereo:",Q),alert(`Erro ao salvar endereo: ${Q.message}`),Q;T&&(D[N.id]=T,console.log(` Endereo criado: ${N.id}  ${T}`))}else{const{error:T}=await pe.rpc("update_customer_address",{p_id:N.id,p_tipo:N.tipo||"comercial",p_nome_identificacao:N.nome_identificacao||"",p_cep:N.cep||"",p_logradouro:N.logradouro||"",p_numero:N.numero||"",p_complemento:N.complemento||"",p_bairro:N.bairro||"",p_cidade:N.cidade||"",p_estado:N.estado||"",p_principal:N.principal||!1});if(T)throw console.error(" ERRO ao atualizar endereo:",T),alert(`Erro ao atualizar endereo: ${T.message}`),T}for(const N of f)if(N.id.startsWith("new-")){const T={customer_id:S,nome:String(N.nome||""),cargo:String(N.cargo||""),email:String(N.email||""),telefone:String(N.telefone||""),celular:String(N.celular||""),departamento:String(N.departamento||""),principal:!!N.principal,recebe_notificacoes:N.recebe_notificacoes!==void 0?!!N.recebe_notificacoes:!0},{error:Q}=await pe.from("customer_contacts").insert([T]);if(Q)throw console.error(" ERRO ao inserir contato:",Q),Q}else{const T={nome:String(N.nome||""),cargo:String(N.cargo||""),email:String(N.email||""),telefone:String(N.telefone||""),celular:String(N.celular||""),departamento:String(N.departamento||""),principal:!!N.principal,recebe_notificacoes:N.recebe_notificacoes!==void 0?!!N.recebe_notificacoes:!0},{error:Q}=await pe.from("customer_contacts").update(T).eq("id",N.id);if(Q)throw console.error(" ERRO ao atualizar contato:",Q),Q}for(const N of v)if(N.id.startsWith("new-")){let T=N.customer_address_id;T&&T.startsWith("new-")&&(T=D[T]||null);const Q={customer_id:S,customer_address_id:T||null,tipo_equipamento:String(N.tipo_equipamento||""),marca:String(N.marca||""),modelo:String(N.modelo||""),numero_serie:String(N.numero_serie||""),capacidade:String(N.capacidade||""),data_instalacao:N.data_instalacao||null};console.log(" Inserindo equipamento:",Q);const{error:U}=await pe.from("customer_equipment").insert([Q]);if(U)throw console.error(" ERRO ao inserir equipamento:",U),U}else{const T={customer_address_id:N.customer_address_id||null,tipo_equipamento:String(N.tipo_equipamento||""),marca:String(N.marca||""),modelo:String(N.modelo||""),numero_serie:String(N.numero_serie||""),capacidade:String(N.capacidade||""),data_instalacao:N.data_instalacao||null},{error:Q}=await pe.from("customer_equipment").update(T).eq("id",N.id);if(Q)throw console.error(" ERRO ao atualizar equipamento:",Q),Q}r(),e()}catch(S){console.error("Error saving:",S),alert("Erro ao salvar cliente!")}finally{l(!1)}},w=()=>{h([...u,{id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",estado:"",principal:u.length===0}])},_=()=>{p([...f,{id:`new-${Date.now()}`,nome:"",cargo:"",email:"",telefone:"",celular:"",departamento:"",principal:f.length===0,recebe_notificacoes:!0}])},k=()=>{y([...v,{id:`new-${Date.now()}`,customer_address_id:u[0]?.id||"",tipo_equipamento:"",marca:"",modelo:"",numero_serie:"",capacidade:"",data_instalacao:""}])},C=S=>S.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"),B=S=>S.replace(/\D/g,"").replace(/(\d{5})(\d{3})/,"$1-$2"),I=S=>{if(d({...c,nome_razao:S.razao_social||c.nome_razao,nome_fantasia:S.nome_fantasia||c.nome_fantasia,email:S.email||c.email,telefone:S.telefone||c.telefone}),S.logradouro&&S.cidade&&S.estado){const E={id:`new-${Date.now()}`,tipo:"comercial",nome_identificacao:"Sede",cep:S.cep||"",logradouro:S.logradouro||"",numero:S.numero||"",complemento:S.complemento||"",bairro:S.bairro||"",cidade:S.cidade||"",estado:S.estado||"",principal:u.length===0};h([...u,E])}};return t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Cliente":"Novo Cliente"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Cadastro completo com endereos, contatos e equipamentos"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b bg-gray-50",children:[{id:"dados",label:"Dados Principais",icon:Cn},{id:"enderecos",label:"Endereos",icon:no},{id:"contatos",label:"Contatos",icon:ir},{id:"equipamentos",label:"Equipamentos",icon:qt}].map(S=>{const E=S.icon;return n.jsxs("button",{onClick:()=>i(S.id),className:`flex-1 px-6 py-4 font-medium text-sm flex items-center justify-center gap-2 border-b-2 transition-all ${a===S.id?"border-blue-600 text-blue-600 bg-white":"border-transparent text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[n.jsx(E,{className:"h-4 w-4"}),S.label]},S.id)})}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs(vt,{mode:"wait",children:[a==="dados"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:c.tipo_pessoa==="fisica",onChange:()=>d({...c,tipo_pessoa:"fisica"}),className:"w-4 h-4"}),n.jsx(Cn,{className:"h-4 w-4"}),n.jsx("span",{children:"Pessoa Fsica"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"radio",checked:c.tipo_pessoa==="juridica",onChange:()=>d({...c,tipo_pessoa:"juridica"}),className:"w-4 h-4"}),n.jsx(UA,{className:"h-4 w-4"}),n.jsx("span",{children:"Pessoa Jurdica"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:c.tipo_pessoa==="fisica"?"Nome Completo *":"Razo Social *"}),n.jsx("input",{type:"text",value:c.nome_razao,onChange:S=>d({...c,nome_razao:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="juridica"&&n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Fantasia"}),n.jsx("input",{type:"text",value:c.nome_fantasia,onChange:S=>d({...c,nome_fantasia:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),c.tipo_pessoa==="fisica"?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CPF *"}),n.jsx("input",{type:"text",value:c.cpf,maxLength:14,onChange:S=>d({...c,cpf:C(S.target.value)}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"RG"}),n.jsx("input",{type:"text",value:c.rg,onChange:S=>d({...c,rg:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Nascimento"}),n.jsx("input",{type:"date",value:c.data_nascimento,onChange:S=>d({...c,data_nascimento:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(Lbe,{cnpj:c.cnpj,onCnpjChange:S=>d({...c,cnpj:S}),onDataFilled:I}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Estadual"}),n.jsx("input",{type:"text",value:c.inscricao_estadual,onChange:S=>d({...c,inscricao_estadual:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Inscrio Municipal"}),n.jsx("input",{type:"text",value:c.inscricao_municipal,onChange:S=>d({...c,inscricao_municipal:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Fundao"}),n.jsx("input",{type:"date",value:c.data_fundacao,onChange:S=>d({...c,data_fundacao:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:c.email,onChange:S=>d({...c,email:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: contato@empresa.com.br"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:c.telefone,onChange:S=>d({...c,telefone:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular / WhatsApp"}),n.jsx("input",{type:"tel",value:c.celular,onChange:S=>d({...c,celular:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),n.jsx("textarea",{value:c.observacoes,onChange:S=>d({...c,observacoes:S.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Ex: Cliente preferencial, Pagamento  vista, Desconto corporativo..."})]})]})]},"dados"),a==="enderecos"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Endereos do Cliente"}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:" Digite o CEP e os dados sero preenchidos automaticamente"})]}),n.jsxs("button",{onClick:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Endereo"]})]}),u.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(no,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum endereo cadastrado"})]}),u.map((S,E)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Endereo #",E+1]}),n.jsx("button",{onClick:()=>h(u.filter(D=>D.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo"}),n.jsxs("select",{value:S.tipo,onChange:D=>h(u.map(N=>N.id===S.id?{...N,tipo:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"comercial",children:"Comercial"}),n.jsx("option",{value:"residencial",children:"Residencial"}),n.jsx("option",{value:"filial",children:"Filial"}),n.jsx("option",{value:"outro",children:"Outro"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Identificao (Ex: Matriz, Filial Centro)"}),n.jsx("input",{type:"text",value:S.nome_identificacao||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,nome_identificacao:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Matriz, Filial So Paulo, Depsito Centro"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),n.jsx("div",{className:"relative",children:n.jsx("input",{type:"text",value:S.cep||"",maxLength:9,onChange:D=>h(u.map(N=>N.id===S.id?{...N,cep:B(D.target.value)}:N)),onBlur:async D=>{const N=D.target.value.replace(/\D/g,"");if(N.length===8)try{const Q=await(await fetch(`https://viacep.com.br/ws/${N}/json/`)).json();Q.erro||h(u.map(U=>U.id===S.id?{...U,logradouro:Q.logradouro||U.logradouro,bairro:Q.bairro||U.bairro,cidade:Q.localidade||U.cidade,estado:Q.uf||U.estado,complemento:Q.complemento||U.complemento}:U))}catch{console.log("CEP no encontrado, preencha manualmente")}},className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logradouro (Rua/Avenida)"}),n.jsx("input",{type:"text",value:S.logradouro||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,logradouro:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rua das Flores, Avenida Paulista"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero"}),n.jsx("input",{type:"text",value:S.numero||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,numero:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 123, S/N"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:S.complemento||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,complemento:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Apto 101, Bloco A, Sala 205"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:S.bairro||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,bairro:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Centro, Vila Mariana"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:S.cidade||"",onChange:D=>h(u.map(N=>N.id===S.id?{...N,cidade:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: So Paulo"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),n.jsx("input",{type:"text",value:S.estado||"",maxLength:2,onChange:D=>h(u.map(N=>N.id===S.id?{...N,estado:D.target.value.toUpperCase()}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"SP"})]}),n.jsx("div",{className:"md:col-span-3",children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.principal,onChange:D=>h(u.map(N=>N.id===S.id?{...N,principal:D.target.checked}:{...N,principal:!1})),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Endereo Principal"})]})})]})]},S.id))]},"enderecos"),a==="contatos"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Contatos e Responsveis"}),n.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Contato"]})]}),f.length===0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(ir,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum contato cadastrado"})]}),f.map((S,E)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Contato #",E+1]}),n.jsx("button",{onClick:()=>p(f.filter(D=>D.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:S.nome,onChange:D=>p(f.map(N=>N.id===S.id?{...N,nome:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Joo da Silva"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cargo"}),n.jsx("input",{type:"text",value:S.cargo,onChange:D=>p(f.map(N=>N.id===S.id?{...N,cargo:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Gerente de Compras, Diretor"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),n.jsx("input",{type:"email",value:S.email,onChange:D=>p(f.map(N=>N.id===S.id?{...N,email:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: joao@empresa.com.br"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:S.telefone,onChange:D=>p(f.map(N=>N.id===S.id?{...N,telefone:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 3333-4444"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Celular"}),n.jsx("input",{type:"tel",value:S.celular,onChange:D=>p(f.map(N=>N.id===S.id?{...N,celular:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: (11) 99999-8888"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:S.departamento,onChange:D=>p(f.map(N=>N.id===S.id?{...N,departamento:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Financeiro, Compras, T.I."})]}),n.jsxs("div",{className:"md:col-span-2 flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.principal,onChange:D=>p(f.map(N=>N.id===S.id?{...N,principal:D.target.checked}:{...N,principal:!1})),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Contato Principal"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:S.recebe_notificacoes,onChange:D=>p(f.map(N=>N.id===S.id?{...N,recebe_notificacoes:D.target.checked}:N)),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Recebe Notificaes"})]})]})]})]},S.id))]},"contatos"),a==="equipamentos"&&n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Inventrio de Equipamentos"}),n.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Adicionar Equipamento"]})]}),u.length===0&&n.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-yellow-900",children:"Cadastre endereos primeiro"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Para registrar equipamentos,  necessrio ter pelo menos um endereo cadastrado."})]})]}),v.length===0&&u.length>0&&n.jsxs("div",{className:"text-center py-12 text-gray-500",children:[n.jsx(qt,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),n.jsx("p",{children:"Nenhum equipamento cadastrado"})]}),v.map((S,E)=>n.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"font-semibold",children:["Equipamento #",E+1]}),n.jsx("button",{onClick:()=>y(v.filter(D=>D.id!==S.id)),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localizao"}),n.jsxs("select",{value:S.customer_address_id,onChange:D=>y(v.map(N=>N.id===S.id?{...N,customer_address_id:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione o endereo..."}),u.map(D=>n.jsx("option",{value:D.id,children:D.nome_identificacao||`${D.logradouro}, ${D.numero}`},D.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Equipamento"}),n.jsx("input",{type:"text",value:S.tipo_equipamento,onChange:D=>y(v.map(N=>N.id===S.id?{...N,tipo_equipamento:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Ar Condicionado Split"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Marca"}),n.jsx("input",{type:"text",value:S.marca,onChange:D=>y(v.map(N=>N.id===S.id?{...N,marca:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Modelo"}),n.jsx("input",{type:"text",value:S.modelo,onChange:D=>y(v.map(N=>N.id===S.id?{...N,modelo:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero de Srie"}),n.jsx("input",{type:"text",value:S.numero_serie,onChange:D=>y(v.map(N=>N.id===S.id?{...N,numero_serie:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Capacidade"}),n.jsx("input",{type:"text",value:S.capacidade,onChange:D=>y(v.map(N=>N.id===S.id?{...N,capacidade:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12000 BTU, 18000 BTU"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Instalao"}),n.jsx("input",{type:"date",value:S.data_instalacao,onChange:D=>y(v.map(N=>N.id===S.id?{...N,data_instalacao:D.target.value}:N)),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]},S.id))]},"equipamentos")]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:x,disabled:o,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:o?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5"}),"Salvar Cliente"]})})]})]})}):null},Rbe=()=>{const{isAdmin:t}=On(),e=ui(),[r,s]=O.useState([]),[a,i]=O.useState([]),[o,l]=O.useState([]),[c,d]=O.useState([]),[u,h]=O.useState(!0),[f,p]=O.useState(null),[v,y]=O.useState(""),[g,x]=O.useState("all"),[w,_]=O.useState(!1),[k,C]=O.useState(null),[B,I]=O.useState(void 0),[S,E]=O.useState(null),[D,N]=O.useState(null),[T,Q]=O.useState(!1),[U,K]=O.useState(null),[z,ee]=O.useState([]),[G,q]=O.useState(1),re=10,[Z,$]=O.useState({name:"",email:"",phone:"",address:"",client_type:"PF",document:""}),[L,Y]=O.useState({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""});O.useEffect(()=>{X()},[]);const X=async()=>{try{h(!0);const ge=await ole();s(ge||[]),p(null)}catch(ge){console.error("Error loading clients:",ge),p("Erro ao carregar clientes"),s([{id:"1",name:"Joo Silva",email:"joao@email.com",phone:"(11) 99999-1234",address:"Rua das Flores, 123 - So Paulo, SP",client_type:"PF",document:"123.456.789-00",created_at:"2023-12-15T08:00:00",updated_at:"2023-12-15T08:00:00"},{id:"2",name:"Empresa ABC Ltda",email:"contato@empresaabc.com",phone:"(11) 98888-5678",address:"Av. Paulista, 1000 - So Paulo, SP",client_type:"PJ",document:"12.345.678/0001-90",created_at:"2023-12-14T08:00:00",updated_at:"2023-12-14T08:00:00"}])}finally{h(!1)}},Ae=async ge=>{try{return await dle(ge)||[]}catch(Je){return console.error("Error loading client contracts:",Je),[]}},fe=async ge=>{try{const{data:Je,error:Ve}=await pe.from("service_orders").select("*").eq("customer_id",ge).order("opened_at",{ascending:!1});if(Ve)throw Ve;return Je||[]}catch(Je){return console.error("Error loading service orders:",Je),[]}},de=async ge=>{try{const{data:Je,error:Ve}=await pe.from("customer_equipment").select("*").eq("customer_id",ge).order("created_at",{ascending:!1});if(Ve)throw Ve;return Je||[]}catch(Je){return console.error("Error loading equipments:",Je),[]}},me=r.filter(ge=>{const Je=ge.name.toLowerCase().includes(v.toLowerCase())||ge.email?.toLowerCase().includes(v.toLowerCase())||ge.phone?.toLowerCase().includes(v.toLowerCase()),Ve=g==="all"||ge.client_type===g;return Je&&Ve}),Ce=Math.ceil(me.length/re),xe=(G-1)*re,we=xe+re,Ie=me.slice(xe,we),lt=r.filter(ge=>a.some(Je=>Je.customer_id===ge.id&&Je.status==="active")).length;O.useEffect(()=>{q(1)},[v,g]);const Le=async ge=>{try{await lle(ge),s(r.filter(Je=>Je.id!==ge)),E(null),alert("Cliente excludo com sucesso!")}catch(Je){console.error("Error deleting client:",Je),alert("Erro ao excluir cliente")}},J=async()=>{if(!D){alert("Por favor, selecione um cliente");return}try{const ge={client_id:D.id,contract_number:`CONT-${new Date().getFullYear()}-${String(a.length+1).padStart(3,"0")}`,title:L.title,start_date:L.start_date,end_date:L.end_date,contract_type:L.contract_type,frequency:L.frequency,value:L.value,status:"active",sla_response_time:L.sla_response_time,sla_resolution_time:L.sla_resolution_time,sla_availability:L.sla_availability,next_service_date:L.next_service_date,terms_and_conditions:L.terms_and_conditions,notes:L.notes},Je=await cle(ge);i([...a,Je]),Y({title:"",contract_type:"maintenance",start_date:"",end_date:"",frequency:"monthly",value:0,sla_response_time:4,sla_resolution_time:24,sla_availability:99,next_service_date:"",terms_and_conditions:"",notes:""}),Q(!1),N(null),alert("Contrato criado com sucesso!")}catch(ge){console.error("Error creating contract:",ge),alert("Erro ao criar contrato")}},Qe=async()=>{if(U)try{const ge={title:U.title,start_date:U.start_date,end_date:U.end_date,contract_type:U.contract_type,frequency:U.frequency,value:U.value,status:U.status,sla_response_time:U.sla_response_time,sla_resolution_time:U.sla_resolution_time,sla_availability:U.sla_availability,next_service_date:U.next_service_date,terms_and_conditions:U.terms_and_conditions,notes:U.notes},Je=await ule(U.id,ge);i(a.map(Ve=>Ve.id===Je.id?Je:Ve)),K(null),alert("Contrato atualizado com sucesso!")}catch(ge){console.error("Error updating contract:",ge),alert("Erro ao atualizar contrato")}},je=async ge=>{try{await hle(ge),i(a.filter(Je=>Je.id!==ge)),alert("Contrato excludo com sucesso!")}catch(Je){console.error("Error deleting contract:",Je),alert("Erro ao excluir contrato")}},ie=async ge=>{if(z.includes(ge))ee(z.filter(Je=>Je!==ge));else{ee([...z,ge]);const[Je,Ve,yt]=await Promise.all([Ae(ge),fe(ge),de(ge)]);i(gt=>[...gt.filter(ce=>ce.client_id!==ge),...Je]),l(gt=>[...gt.filter(ce=>ce.customer_id!==ge),...Ve]),d(gt=>[...gt.filter(ce=>ce.customer_id!==ge),...yt])}},Se=ge=>{switch(ge){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},We=ge=>{switch(ge){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return ge}},Oe=ge=>{switch(ge){case"active":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";case"suspended":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},ve=ge=>{switch(ge){case"active":return"Ativo";case"expired":return"Expirado";case"cancelled":return"Cancelado";case"suspended":return"Suspenso";default:return"Desconhecido"}},st=ge=>{switch(ge){case"maintenance":return"Manuteno";case"support":return"Suporte";case"service":return"Servio";default:return ge}},Ne=ge=>{switch(ge){case"monthly":return"Mensal";case"quarterly":return"Trimestral";case"biannual":return"Semestral";case"annual":return"Anual";default:return"No definida"}};return n.jsxs("div",{className:"space-y-6",children:[f&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Un,{className:"h-5 w-5 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-700",children:f})]})}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Clientes"}),n.jsx("div",{className:"flex space-x-2",children:n.jsxs("button",{onClick:()=>_(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Cliente"})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:n.jsx(ir,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Clientes"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center",children:n.jsx(Cn,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ge=>ge.client_type==="PF").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Fsica"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center",children:n.jsx(UA,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:r.filter(ge=>ge.client_type==="PJ").length}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pessoa Jurdica"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-red-500 rounded-lg flex items-center justify-center",children:n.jsx(Et,{className:"h-5 w-5 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:lt}),n.jsx("p",{className:"text-sm text-gray-600",children:"Clientes com Contrato"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:v,onChange:ge=>y(ge.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(sf,{className:"h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g,onChange:ge=>x(ge.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Tipos"}),n.jsx("option",{value:"PF",children:"Pessoa Fsica"}),n.jsx("option",{value:"PJ",children:"Pessoa Jurdica"})]})]})]})}),u?n.jsxs("div",{className:"flex justify-center items-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),n.jsx("span",{className:"ml-3 text-gray-600",children:"Carregando clientes..."})]}):n.jsxs("div",{className:"space-y-4",children:[Ie.length>0?Ie.map((ge,Je)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Je*.05},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${ge.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:ge.client_type==="PF"?n.jsx(Cn,{className:"h-6 w-6"}):n.jsx(UA,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:ge.name}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge.client_type==="PF"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:ge.client_type}),ge.document&&n.jsx("span",{className:"text-xs text-gray-500",children:ge.document})]})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{onClick:()=>ie(ge.id),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:z.includes(ge.id)?n.jsx(KA,{className:"h-4 w-4"}):n.jsx(Sd,{className:"h-4 w-4"})})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(ci,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:ge.phone})]}),ge.email&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(vs,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:ge.email})]}),n.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[n.jsx(no,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:ge.address})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>{C(ge),I(ge.id)},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(hn,{className:"h-4 w-4"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>E(ge.id),className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Excluir"})]})]}),n.jsx(vt,{children:z.includes(ge.id)&&n.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[n.jsx(Et,{className:"h-5 w-5 mr-2 text-blue-500"}),"Contratos"]}),n.jsxs("button",{onClick:()=>{N(ge),Q(!0)},className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(zt,{className:"h-3 w-3"}),n.jsx("span",{children:"Novo Contrato"})]})]}),a.filter(Ve=>Ve.customer_id===ge.id).length>0?n.jsx("div",{className:"space-y-3",children:a.filter(Ve=>Ve.customer_id===ge.id).map(Ve=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:Ve.title}),n.jsx("p",{className:"text-sm text-gray-600",children:Ve.contract_number})]}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Oe(Ve.status)}`,children:ve(Ve.status)})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Tipo:"}),n.jsx("p",{className:"font-medium",children:st(Ve.contract_type)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Frequncia:"}),n.jsx("p",{className:"font-medium",children:Ne(Ve.frequency)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Valor:"}),n.jsxs("p",{className:"font-medium text-green-600",children:["R$ ",Ve.value.toFixed(2)]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Vigncia:"}),n.jsxs("p",{className:"font-medium",children:[new Date(Ve.start_date).toLocaleDateString("pt-BR")," - ",new Date(Ve.end_date).toLocaleDateString("pt-BR")]})]}),Ve.next_service_date&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Prximo Servio:"}),n.jsx("p",{className:"font-medium",children:new Date(Ve.next_service_date).toLocaleDateString("pt-BR")})]}),Ve.sla_response_time&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"SLA Resposta:"}),n.jsxs("p",{className:"font-medium",children:[Ve.sla_response_time,"h"]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>K(Ve),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(hn,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>je(Ve.id),className:"px-3 py-1 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(Yt,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},Ve.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(Et,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum contrato cadastrado"}),n.jsx("button",{onClick:()=>{N(ge),Q(!0)},className:"mt-2 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:"Criar Primeiro Contrato"})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[n.jsx(li,{className:"h-5 w-5 mr-2 text-green-500"}),"Histrico de Servios"]}),o.filter(Ve=>Ve.customer_id===ge.id).length>0?n.jsxs("div",{className:"space-y-2",children:[o.filter(Ve=>Ve.customer_id===ge.id).slice(0,5).map(Ve=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>e(`/ordens-servico/${Ve.id}`),children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-medium text-gray-900",children:Ve.order_number}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Se(Ve.status)}`,children:We(Ve.status)})]}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:Ve.description||"Sem descrio"}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-500",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vr,{className:"h-3 w-3"}),Ve.opened_at?new Date(Ve.opened_at).toLocaleDateString("pt-BR"):"N/A"]}),Ve.total_value&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(gr,{className:"h-3 w-3"}),"R$ ",Ve.total_value.toFixed(2)]})]})]}),n.jsx(Ho,{className:"h-4 w-4 text-gray-400"})]})},Ve.id)),o.filter(Ve=>Ve.customer_id===ge.id).length>5&&n.jsxs("button",{onClick:()=>e("/ordens-servico"),className:"w-full py-2 text-sm text-blue-600 hover:text-blue-700 font-medium",children:["Ver todas as ",o.filter(Ve=>Ve.customer_id===ge.id).length," ordens de servio"]})]}):n.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(li,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhuma ordem de servio realizada"})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center mb-3",children:[n.jsx(qt,{className:"h-5 w-5 mr-2 text-purple-500"}),"Equipamentos"]}),c.filter(Ve=>Ve.customer_id===ge.id).length>0?n.jsx("div",{className:"space-y-2",children:c.filter(Ve=>Ve.customer_id===ge.id).map(Ve=>n.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:n.jsx("div",{className:"flex items-start justify-between",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:Ve.equipment_name||"Equipamento"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs text-gray-600",children:[Ve.brand&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Marca:"})," ",Ve.brand]}),Ve.model&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Modelo:"})," ",Ve.model]}),Ve.serial_number&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Srie:"})," ",Ve.serial_number]}),Ve.installation_date&&n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Instalado em:"})," ",new Date(Ve.installation_date).toLocaleDateString("pt-BR")]})]})]})})},Ve.id))}):n.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(qt,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600 text-sm",children:"Nenhum equipamento cadastrado"})]})]})]})})]},ge.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(ir,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cliente encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos clientes com os filtros selecionados."}),n.jsx("button",{onClick:()=>{y(""),x("all")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]}),me.length>0&&Ce>1&&n.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[n.jsx("button",{onClick:()=>q(ge=>Math.max(ge-1,1)),disabled:G===1,className:`px-4 py-2 rounded-lg ${G===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Anterior"}),n.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:Ce},(ge,Je)=>Je+1).map(ge=>n.jsx("button",{onClick:()=>q(ge),className:`w-10 h-10 rounded-lg ${G===ge?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:ge},ge))}),n.jsx("button",{onClick:()=>q(ge=>Math.min(ge+1,Ce)),disabled:G===Ce,className:`px-4 py-2 rounded-lg ${G===Ce?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"Prxima"}),n.jsxs("span",{className:"ml-4 text-sm text-gray-600",children:["Mostrando ",xe+1,"-",Math.min(we,me.length)," de ",me.length," clientes"]})]})]}),n.jsx(Ube,{isOpen:w||k!==null,onClose:()=>{_(!1),C(null),I(void 0)},onSave:()=>{X(),_(!1),C(null),I(void 0)},customerId:B}),n.jsx(vt,{children:!1}),n.jsx(vt,{children:!1}),n.jsx(vt,{children:S&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>E(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(Un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ao no pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>Le(S),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})}),n.jsx(vt,{children:T&&D&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Q(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Contrato"}),n.jsx("button",{onClick:()=>Q(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Cliente Selecionado"}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${D.client_type==="PF"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:D.client_type==="PF"?n.jsx(Cn,{className:"h-5 w-5"}):n.jsx(UA,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:D.name}),n.jsxs("p",{className:"text-sm text-gray-600",children:[D.client_type," - ",D.phone]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),n.jsx("input",{type:"text",value:L.title,onChange:ge=>Y({...L,title:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Contrato de Manuteno Preventiva",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),n.jsxs("select",{value:L.contract_type,onChange:ge=>Y({...L,contract_type:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"maintenance",children:"Manuteno"}),n.jsx("option",{value:"support",children:"Suporte"}),n.jsx("option",{value:"service",children:"Servio"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),n.jsxs("select",{value:L.frequency,onChange:ge=>Y({...L,frequency:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),n.jsx("input",{type:"date",value:L.start_date,onChange:ge=>Y({...L,start_date:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),n.jsx("input",{type:"date",value:L.end_date,onChange:ge=>Y({...L,end_date:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),n.jsx("input",{type:"number",value:L.value,onChange:ge=>Y({...L,value:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prximo Servio"}),n.jsx("input",{type:"date",value:L.next_service_date,onChange:ge=>Y({...L,next_service_date:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(_n,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),n.jsx("input",{type:"number",value:L.sla_response_time,onChange:ge=>Y({...L,sla_response_time:parseInt(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),n.jsx("input",{type:"number",value:L.sla_resolution_time,onChange:ge=>Y({...L,sla_resolution_time:parseInt(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),n.jsx("input",{type:"number",value:L.sla_availability,onChange:ge=>Y({...L,sla_availability:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),n.jsx("textarea",{value:L.terms_and_conditions,onChange:ge=>Y({...L,terms_and_conditions:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,placeholder:"Descreva os termos e condies do contrato..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:L.notes,onChange:ge=>Y({...L,notes:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Observaes adicionais..."})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>Q(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:J,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Criar Contrato"]})]})]})]})}),n.jsx(vt,{children:U&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>K(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Editar Contrato"}),n.jsx("button",{onClick:()=>K(null),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Informaes do Contrato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo do Contrato"}),n.jsx("input",{type:"text",value:U.title,onChange:ge=>K({...U,title:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Contrato"}),n.jsxs("select",{value:U.contract_type,onChange:ge=>K({...U,contract_type:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"maintenance",children:"Manuteno"}),n.jsx("option",{value:"support",children:"Suporte"}),n.jsx("option",{value:"service",children:"Servio"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:U.status,onChange:ge=>K({...U,status:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"active",children:"Ativo"}),n.jsx("option",{value:"suspended",children:"Suspenso"}),n.jsx("option",{value:"cancelled",children:"Cancelado"}),n.jsx("option",{value:"expired",children:"Expirado"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),n.jsxs("select",{value:U.frequency,onChange:ge=>K({...U,frequency:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor do Contrato (R$)"}),n.jsx("input",{type:"number",value:U.value,onChange:ge=>K({...U,value:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",step:"0.01"})]})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[n.jsx(_n,{className:"h-5 w-5 mr-2 text-blue-500"}),"Configurao de SLA"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resposta (horas)"}),n.jsx("input",{type:"number",value:U.sla_response_time||0,onChange:ge=>K({...U,sla_response_time:parseInt(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tempo de Resoluo (horas)"}),n.jsx("input",{type:"number",value:U.sla_resolution_time||0,onChange:ge=>K({...U,sla_resolution_time:parseInt(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponibilidade (%)"}),n.jsx("input",{type:"number",value:U.sla_availability||0,onChange:ge=>K({...U,sla_availability:parseFloat(ge.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"0",max:"100",step:"0.1"})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Termos e Observaes"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termos e Condies"}),n.jsx("textarea",{value:U.terms_and_conditions||"",onChange:ge=>K({...U,terms_and_conditions:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:U.notes||"",onChange:ge=>K({...U,notes:ge.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>K(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:Qe,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]})},Qbe=({onPremiumFeature:t})=>{const[e,r]=O.useState("themes"),[s,a]=O.useState(null),[i,o]=O.useState(null),[l,c]=O.useState("desktop"),[d,u]=O.useState("light"),[h,f]=O.useState({id:"custom",name:"Tema Personalizado",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"});O.useEffect(()=>{const x=localStorage.getItem("giartech-theme");if(x){const w=JSON.parse(x);o(w),p(w)}},[]);const p=x=>{const w=document.documentElement,_=x.palette;w.style.setProperty("--color-primary",_.primary),w.style.setProperty("--color-secondary",_.secondary),w.style.setProperty("--color-accent",_.accent),w.style.setProperty("--color-success",_.success),w.style.setProperty("--color-warning",_.warning),w.style.setProperty("--color-error",_.error),w.style.setProperty("--color-neutral",_.neutral),w.style.setProperty("--color-background",_.background),w.style.setProperty("--color-surface",_.surface),w.style.setProperty("--color-text",_.text)},v=x=>{o(x),p(x),localStorage.setItem("giartech-theme",JSON.stringify(x));const w=document.createElement("div");w.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in",w.innerHTML=` Tema "${x.name}" aplicado com sucesso!`,document.body.appendChild(w),setTimeout(()=>{w.style.transition="opacity 0.3s",w.style.opacity="0",setTimeout(()=>w.remove(),300)},2e3)},y=()=>{const x={id:"custom-"+Date.now(),name:h.name,description:"Tema personalizado criado pelo usurio",palette:h,typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!0};v(x)},g=[{id:"default",name:"Tema Padro",description:"Tema clssico azul e branco",palette:{id:"default",name:"Padro",primary:"#3b82f6",secondary:"#64748b",accent:"#8b5cf6",success:"#10b981",warning:"#f59e0b",error:"#ef4444",neutral:"#6b7280",background:"#ffffff",surface:"#f8fafc",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"8px",shadows:!0,animations:!0,isCustom:!1},{id:"dark",name:"Tema Escuro",description:"Tema escuro moderno",palette:{id:"dark",name:"Escuro",primary:"#60a5fa",secondary:"#94a3b8",accent:"#a78bfa",success:"#34d399",warning:"#fbbf24",error:"#f87171",neutral:"#9ca3af",background:"#111827",surface:"#1f2937",text:"#f9fafb"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.5"},spacing:"8px",borderRadius:"12px",shadows:!0,animations:!0,isCustom:!1},{id:"nature",name:"Natureza",description:"Tons verdes e terrosos",palette:{id:"nature",name:"Natureza",primary:"#059669",secondary:"#6b7280",accent:"#d97706",success:"#10b981",warning:"#f59e0b",error:"#dc2626",neutral:"#78716c",background:"#f0fdf4",surface:"#ecfdf5",text:"#1f2937"},typography:{fontFamily:"Inter",fontSize:"14px",lineHeight:"1.6"},spacing:"8px",borderRadius:"16px",shadows:!1,animations:!0,isCustom:!1}];return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Personalizao Visual"}),i&&n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Tema ativo: ",n.jsx("span",{className:"font-semibold text-green-600",children:i.name})]})]}),n.jsxs("button",{onClick:()=>alert("Novo tema em breve!"),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Tema"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-gray-200",children:[n.jsxs("button",{onClick:()=>r("themes"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="themes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(t1,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Temas"})]}),n.jsxs("button",{onClick:()=>r("colors"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="colors"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(mh,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Cores"})]}),n.jsxs("button",{onClick:()=>r("preview"),className:`flex-1 flex items-center justify-center space-x-2 py-4 px-6 transition-colors ${e==="preview"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(da,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Preview"})]})]}),n.jsxs("div",{className:"p-6",children:[e==="themes"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Temas Disponveis"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map((x,w)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:`p-6 rounded-xl border-2 cursor-pointer transition-all relative ${i?.id===x.id?"border-green-500 bg-green-50":s?.id===x.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(x),children:[i?.id===x.id&&n.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full flex items-center space-x-1",children:[n.jsx(rn,{className:"h-3 w-3"}),n.jsx("span",{children:"Ativo"})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex space-x-1 mb-2",children:[n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.primary}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.secondary}}),n.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:x.palette.accent}})]}),n.jsxs("div",{className:"w-full h-16 rounded-lg border",style:{backgroundColor:x.palette.background,borderColor:x.palette.neutral},children:[n.jsx("div",{className:"h-4 rounded-t-lg",style:{backgroundColor:x.palette.primary}}),n.jsxs("div",{className:"p-2",children:[n.jsx("div",{className:"w-full h-2 rounded mb-1",style:{backgroundColor:x.palette.surface}}),n.jsx("div",{className:"w-3/4 h-2 rounded",style:{backgroundColor:x.palette.surface}})]})]})]}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:x.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-4",children:x.description}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:_=>{_.stopPropagation(),a(x),r("preview")},className:"flex-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(da,{className:"h-4 w-4 mr-1 inline"}),"Preview"]}),n.jsxs("button",{onClick:_=>{_.stopPropagation(),v(x)},className:`flex-1 px-3 py-1 rounded-lg transition-colors text-sm ${i?.id===x.id?"bg-green-500 text-white":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:[n.jsx(rn,{className:"h-4 w-4 mr-1 inline"}),i?.id===x.id?"Ativo":"Aplicar"]})]})]},x.id))})]}),e==="colors"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Editor de Cores"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Object.entries(h).filter(([x])=>x!=="id"&&x!=="name").map(([x,w])=>n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 capitalize",children:x==="primary"?"Cor Primria":x==="secondary"?"Cor Secundria":x==="accent"?"Cor de Destaque":x==="success"?"Cor de Sucesso":x==="warning"?"Cor de Aviso":x==="error"?"Cor de Erro":x==="neutral"?"Cor Neutra":x==="background"?"Cor de Fundo":x==="surface"?"Cor de Superfcie":x==="text"?"Cor do Texto":x}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"color",value:w,onChange:_=>f({...h,[x]:_.target.value}),className:"w-12 h-12 rounded-lg border border-gray-300 cursor-pointer"}),n.jsx("input",{type:"text",value:w,onChange:_=>f({...h,[x]:_.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm"}),n.jsx("button",{onClick:()=>navigator.clipboard.writeText(w),className:"p-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors",children:n.jsx(Bd,{className:"h-4 w-4"})})]})]},x))}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:y,className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar e Aplicar Paleta"]}),n.jsxs("button",{onClick:()=>f(g[0].palette),className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(di,{className:"h-4 w-4 mr-2 inline"}),"Resetar"]})]})]}),e==="preview"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Preview do Tema"}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>c("desktop"),className:`p-2 rounded-md transition-colors ${l==="desktop"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(ose,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c("tablet"),className:`p-2 rounded-md transition-colors ${l==="tablet"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(Gse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>c("mobile"),className:`p-2 rounded-md transition-colors ${l==="mobile"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(jE,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[n.jsx("button",{onClick:()=>u("light"),className:`p-2 rounded-md transition-colors ${d==="light"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(zse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>u("dark"),className:`p-2 rounded-md transition-colors ${d==="dark"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:n.jsx(cse,{className:"h-4 w-4"})})]})]})]}),n.jsx("div",{className:"bg-gray-100 p-8 rounded-xl",children:n.jsxs("div",{className:`mx-auto rounded-lg shadow-lg overflow-hidden transition-all ${l==="mobile"?"max-w-sm":l==="tablet"?"max-w-2xl":"max-w-4xl"}`,style:{backgroundColor:s?.palette.background||h.background,color:s?.palette.text||h.text},children:[n.jsx("div",{className:"p-4",style:{backgroundColor:s?.palette.primary||h.primary},children:n.jsx("h3",{className:"text-white font-semibold",children:"Sistema GiarTech"})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(oi,{className:"h-5 w-5",style:{color:s?.palette.primary||h.primary}}),n.jsx("span",{className:"font-medium",children:"Analytics"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"1,234"})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(ir,{className:"h-5 w-5",style:{color:s?.palette.success||h.success}}),n.jsx("span",{className:"font-medium",children:"Usurios"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"567"})]}),n.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:s?.palette.surface||h.surface},children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(qt,{className:"h-5 w-5",style:{color:s?.palette.accent||h.accent}}),n.jsx("span",{className:"font-medium",children:"Produtos"})]}),n.jsx("p",{className:"text-2xl font-bold",children:"89"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.primary||h.primary},children:"Boto Primrio"}),n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.success||h.success},children:"Boto de Sucesso"}),n.jsx("button",{className:"w-full py-2 px-4 rounded-lg text-white font-medium",style:{backgroundColor:s?.palette.warning||h.warning},children:"Boto de Aviso"})]})]})]})})]})]})]})]})},Hbe=({isOpen:t,onClose:e,onSave:r,title:s,children:a,showControls:i=!0,currentStep:o,totalSteps:l,onPrevStep:c,onNextStep:d})=>n.jsx(vt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-4xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(da,{className:"h-5 w-5 text-blue-500"}),n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s})]}),n.jsx("button",{onClick:e,children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 mb-6",children:a}),i&&n.jsxs("div",{className:"flex justify-between items-center",children:[o!==void 0&&l!==void 0?n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:c,disabled:o<=0,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o<=0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(Rd,{className:"h-4 w-4"}),n.jsx("span",{children:"Anterior"})]}),n.jsxs("div",{className:"text-sm text-gray-500",children:["Passo ",o+1," de ",l]}),n.jsxs("button",{onClick:d,disabled:o>=l-1,className:`flex items-center space-x-1 px-4 py-2 rounded-lg ${o>=l-1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx("span",{children:"Prximo"}),n.jsx(Ho,{className:"h-4 w-4"})]})]}):n.jsx("div",{}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:e,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Fechar"}),r&&n.jsxs("button",{onClick:r,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center space-x-2",children:[n.jsx(hr,{className:"h-4 w-4"}),n.jsx("span",{children:"Salvar Alteraes"})]})]})]})]})]})}),$be=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:s}=On(),[a,i]=O.useState([{id:"inventory",name:"Estoque de Materiais",description:"Controle de produtos, quantidades e movimentaes",icon:qt,enabled:!0,metrics:["Quantidade em estoque","Produtos em falta","Valor total","Rotatividade"],color:"from-blue-500 to-cyan-500"},{id:"orders",name:"Ordens de Servio",description:"Gesto de pedidos e acompanhamento de status",icon:li,enabled:!0,metrics:["Ordens abertas","Ordens concludas","Tempo mdio","Satisfao"],color:"from-green-500 to-emerald-500"},{id:"team",name:"Desempenho da Equipe",description:"Produtividade e performance dos colaboradores",icon:ir,enabled:!1,metrics:["Tarefas concludas","Horas trabalhadas","Eficincia","Avaliaes"],color:"from-purple-500 to-pink-500",requiresPremium:!0},{id:"financial",name:"Financeiro",description:"Receitas, despesas e indicadores financeiros",icon:gr,enabled:!1,metrics:["Receita mensal","Despesas","Lucro lquido","Fluxo de caixa"],color:"from-orange-500 to-red-500",requiresPremium:!0},{id:"delivery",name:"Entregas",description:"Acompanhamento de entregas e logstica",icon:NE,enabled:!0,metrics:["Entregas no prazo","Atrasos","Distncia percorrida","Custos"],color:"from-indigo-500 to-purple-500"},{id:"quality",name:"Qualidade",description:"Controle de qualidade e no conformidades",icon:Un,enabled:!1,metrics:["No conformidades","Reclamaes","ndice de qualidade","Melhorias"],color:"from-yellow-500 to-orange-500",requiresEnterprise:!0}]),[o,l]=O.useState([{id:"realtime",name:"Monitoramento em Tempo Real",description:"Configuraes para monitoramento em tempo real",icon:Ed,requiresEnterprise:!0,settings:[{id:"interval",name:"Intervalo de Atualizao",description:"Frequncia de atualizao dos dados em tempo real",type:"select",value:"5s",options:["1s","5s","10s","30s","1m"]},{id:"alerts",name:"Alertas Automticos",description:"Enviar alertas automticos quando mtricas ultrapassarem limites",type:"toggle",value:!0},{id:"threshold",name:"Limite de Alerta",description:"Percentual de desvio para disparar alertas",type:"range",value:15,min:5,max:50,step:5}]},{id:"security",name:"Segurana Avanada",description:"Configuraes de segurana para monitoramento",icon:_n,requiresEnterprise:!0,settings:[{id:"encryption",name:"Criptografia de Dados",description:"Criptografar dados sensveis de monitoramento",type:"toggle",value:!0},{id:"access",name:"Controle de Acesso",description:"Nvel de permisso para visualizar dados de monitoramento",type:"select",value:"admin",options:["admin","manager","all"]},{id:"audit",name:"Trilha de Auditoria",description:"Manter logs de acesso aos dados de monitoramento",type:"toggle",value:!0}]},{id:"notifications",name:"Notificaes",description:"Configuraes de notificaes de monitoramento",icon:EH,requiresEnterprise:!0,settings:[{id:"channels",name:"Canais de Notificao",description:"Canais para envio de notificaes",type:"select",value:"all",options:["email","push","sms","all"]},{id:"frequency",name:"Frequncia de Resumos",description:"Frequncia de envio de resumos de monitoramento",type:"select",value:"daily",options:["hourly","daily","weekly"]},{id:"quiet",name:"Perodo de Silncio",description:"Horrio em que notificaes no sero enviadas",type:"input",value:"22:00 - 08:00"}]},{id:"integration",name:"Integraes",description:"Configuraes de integrao com sistemas externos",icon:Ese,requiresEnterprise:!0,settings:[{id:"api",name:"API Externa",description:"Integrar com API externa para monitoramento",type:"toggle",value:!1},{id:"endpoint",name:"Endpoint da API",description:"URL do endpoint da API externa",type:"input",value:"https://api.example.com/monitoring"},{id:"format",name:"Formato de Dados",description:"Formato dos dados enviados para API externa",type:"select",value:"json",options:["json","xml","csv"]}]},{id:"storage",name:"Armazenamento de Dados",description:"Configuraes de armazenamento de dados de monitoramento",icon:F0,requiresEnterprise:!0,settings:[{id:"retention",name:"Perodo de Reteno",description:"Tempo de reteno dos dados de monitoramento",type:"select",value:"90d",options:["30d","90d","180d","365d","unlimited"]},{id:"compression",name:"Compresso de Dados",description:"Comprimir dados histricos para economizar espao",type:"toggle",value:!0},{id:"backup",name:"Backup Automtico",description:"Frequncia de backup dos dados de monitoramento",type:"select",value:"daily",options:["daily","weekly","monthly"]}]}]),[c,d]=O.useState(!1),[u,h]=O.useState(!1),[f,p]=O.useState(o[0]?.id||""),[v,y]=O.useState({name:"",description:"",metrics:[""]}),[g,x]=O.useState(null),[w,_]=O.useState(["areas","enterprise"]),[k,C]=O.useState(!1),B=K=>{_(z=>z.includes(K)?z.filter(ee=>ee!==K):[...z,K])},I=K=>{const z=a.find(G=>G.id===K);if(z?.requiresPremium&&!r){t&&t("Monitoramento Avanado");return}if(z?.requiresEnterprise&&!s){e&&e("Monitoramento Enterprise");return}i(a.map(G=>G.id===K?{...G,enabled:!G.enabled}:G));const ee=document.getElementById(`area-${K}`);ee&&(ee.classList.add("bg-blue-50"),setTimeout(()=>{ee.classList.remove("bg-blue-50")},300))},S=()=>{console.log("Configuraes salvas:",a.filter(z=>z.enabled));const K=document.getElementById("save-config-button");if(K){const z=K.innerText;K.innerText="Salvo!",K.classList.add("bg-green-500"),K.classList.remove("from-green-500","to-emerald-500"),setTimeout(()=>{K.innerText=z,K.classList.remove("bg-green-500"),K.classList.add("bg-gradient-to-r","from-green-500","to-emerald-500")},2e3)}alert("Configuraes de monitoramento salvas com sucesso!")},E=()=>{y(K=>({...K,metrics:[...K.metrics,""]}))},D=(K,z)=>{y(ee=>({...ee,metrics:ee.metrics.map((G,q)=>q===K?z:G)}))},N=K=>{y(z=>({...z,metrics:z.metrics.filter((ee,G)=>G!==K)}))},T=()=>{if(!r){t&&t("reas de Monitoramento Personalizadas"),d(!1);return}if(v.name.trim()){const K={id:Date.now().toString(),name:v.name,description:v.description,icon:oi,enabled:!0,metrics:v.metrics.filter(z=>z.trim()),color:"from-gray-500 to-gray-600"};i([...a,K]),y({name:"",description:"",metrics:[""]}),d(!1),setTimeout(()=>{const z=document.getElementById(`area-${K.id}`);z&&(z.classList.add("bg-green-50"),setTimeout(()=>{z.classList.remove("bg-green-50")},1e3))},100)}},Q=(K,z,ee)=>{if(!s){e&&e("Configuraes Enterprise");return}l(q=>q.map(re=>re.id===K?{...re,settings:re.settings.map(Z=>Z.id===z?{...Z,value:ee}:Z)}:re));const G=document.getElementById(`setting-${K}-${z}`);G&&(G.classList.add("bg-blue-50"),setTimeout(()=>{G.classList.remove("bg-blue-50")},300))},U=K=>{x(K),h(!0)};return n.jsxs("div",{className:"p-3 space-y-3",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-base font-bold text-gray-900 mb-1",children:"Configurao de Monitoramento"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Configure quais reas voc deseja monitorar nas anlises"})]}),n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[n.jsxs("button",{onClick:()=>C(!k),className:"bg-blue-100 text-blue-700 px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:bg-blue-200 transition-all text-xs",children:[n.jsx(Qre,{className:"h-3 w-3"}),n.jsx("span",{children:"Ajuda"})]}),n.jsxs("button",{onClick:()=>d(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(zt,{className:"h-3 w-3"}),n.jsx("span",{children:"Nova rea"})]}),n.jsxs("button",{id:"save-config-button",onClick:S,className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-2 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(hr,{className:"h-3 w-3"}),n.jsx("span",{children:"Salvar"})]})]})]}),!r&&n.jsx("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-xs text-blue-700 flex items-center",children:[n.jsx(mh,{className:"h-3 w-3 mr-1"}),"Plano Bsico: Limitado a 3 reas de monitoramento. Faa upgrade para monitoramento avanado."]})})]}),n.jsx(vt,{children:k&&n.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 rounded-xl p-3 shadow-md border border-blue-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h2",{className:"text-sm font-semibold text-blue-800 flex items-center",children:[n.jsx(Nl,{className:"h-4 w-4 mr-1"}),"Como configurar o monitoramento"]}),n.jsx("button",{onClick:()=>C(!1),className:"text-blue-500 hover:text-blue-700 p-1 rounded-full hover:bg-blue-100",children:n.jsx(bt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"reas de Monitoramento"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Ative ou desative reas especficas para monitoramento. Cada rea contm mtricas relevantes que sero exibidas nos dashboards e relatrios."})]}),n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Configuraes Enterprise"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Configure opes avanadas como monitoramento em tempo real, segurana, notificaes e integraes. Disponvel apenas para planos Enterprise."})]}),n.jsxs("div",{className:"bg-white rounded-lg p-2 border border-blue-200",children:[n.jsx("h3",{className:"font-medium text-blue-800 mb-1 text-xs",children:"Dicas de Uso"}),n.jsxs("ul",{className:"text-xs text-blue-700 space-y-1 list-disc pl-4",children:[n.jsx("li",{children:"Clique no cone de olho para ativar/desativar uma rea"}),n.jsx("li",{children:'Use o boto "Nova rea" para criar reas personalizadas'}),n.jsx("li",{children:'Clique em "Salvar" aps fazer alteraes'}),n.jsx("li",{children:"Use o boto de visualizao para ver detalhes de cada rea"})]})]})]})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>B("areas"),children:[n.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(mh,{className:"h-4 w-4 mr-1 text-blue-500"}),"reas de Monitoramento"]}),w.includes("areas")?n.jsx(KA,{className:"h-4 w-4 text-gray-500"}):n.jsx(Sd,{className:"h-4 w-4 text-gray-500"})]}),n.jsx(vt,{children:w.includes("areas")&&n.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2",children:a.map(K=>n.jsxs(he.div,{id:`area-${K.id}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`bg-white rounded-lg p-3 border border-gray-100 transition-all duration-200 ${K.enabled?"ring-1 ring-blue-200":"opacity-75"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${K.color} rounded-lg flex items-center justify-center`,children:n.jsx(K.icon,{className:"h-4 w-4 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[K.requiresPremium&&!r||K.requiresEnterprise&&!s?n.jsx("div",{className:"p-1.5 bg-gray-100 text-gray-400 rounded-lg",children:n.jsx(Fo,{className:"h-3.5 w-3.5"})}):n.jsx("button",{onClick:()=>I(K.id),className:`p-1.5 rounded-lg transition-colors ${K.enabled?"bg-green-100 text-green-600 hover:bg-green-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"}`,"aria-label":K.enabled?"Desativar rea":"Ativar rea",children:K.enabled?n.jsx(da,{className:"h-3.5 w-3.5"}):n.jsx(vE,{className:"h-3.5 w-3.5"})}),n.jsx("button",{onClick:()=>U(K),className:"p-1.5 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors","aria-label":"Visualizar detalhes",children:n.jsx(da,{className:"h-3.5 w-3.5"})})]})]}),n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:K.name}),n.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:K.description}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("h4",{className:"text-xs font-medium text-gray-700",children:"Mtricas:"}),n.jsxs("div",{className:"space-y-0.5",children:[K.metrics.slice(0,2).map((z,ee)=>n.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[n.jsx("div",{className:"w-1 h-1 bg-blue-500 rounded-full mr-1.5"}),z]},ee)),K.metrics.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",K.metrics.length-2," mais"]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${K.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:K.enabled?"Ativo":"Inativo"}),(K.requiresPremium||K.requiresEnterprise)&&n.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[n.jsx(Fo,{className:"h-2.5 w-2.5 mr-0.5"}),K.requiresEnterprise?"Enterprise":"Premium"]})]})]},K.id))})})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>B("enterprise"),children:[n.jsxs("h2",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[n.jsx(_n,{className:"h-4 w-4 mr-1 text-purple-500"}),"Configuraes Enterprise"]}),w.includes("enterprise")?n.jsx(KA,{className:"h-4 w-4 text-gray-500"}):n.jsx(Sd,{className:"h-4 w-4 text-gray-500"})]}),n.jsx(vt,{children:w.includes("enterprise")&&n.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3",children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-gray-200 mb-3 overflow-x-auto hide-scrollbar",children:n.jsx("div",{className:"flex",children:o.map(K=>n.jsxs("button",{onClick:()=>p(K.id),className:`flex items-center space-x-1 px-3 py-1.5 border-b-2 whitespace-nowrap text-xs ${f===K.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[n.jsx(K.icon,{className:"h-3 w-3"}),n.jsx("span",{children:K.name})]},K.id))})}),o.map(K=>n.jsxs("div",{className:f===K.id?"block":"hidden",children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-900",children:K.name}),n.jsx("p",{className:"text-xs text-gray-600",children:K.description})]}),n.jsx("div",{className:"space-y-3",children:K.settings.map(z=>n.jsxs("div",{id:`setting-${K.id}-${z.id}`,className:"bg-gray-50 rounded-lg p-3 transition-colors duration-200",children:[n.jsxs("div",{className:"flex justify-between items-start mb-1",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:z.name}),n.jsx("p",{className:"text-xs text-gray-600",children:z.description})]}),z.type==="toggle"&&n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:z.value,onChange:()=>Q(K.id,z.id,!z.value),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-purple-600"})]})]}),z.type==="select"&&n.jsx("select",{value:z.value,onChange:ee=>Q(K.id,z.id,ee.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs",children:z.options?.map(ee=>n.jsx("option",{value:ee,children:ee},ee))}),z.type==="input"&&n.jsx("input",{type:"text",value:z.value,onChange:ee=>Q(K.id,z.id,ee.target.value),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent mt-1 text-xs"}),z.type==="range"&&n.jsxs("div",{className:"mt-1",children:[n.jsx("input",{type:"range",min:z.min,max:z.max,step:z.step,value:z.value,onChange:ee=>Q(K.id,z.id,parseInt(ee.target.value)),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[n.jsxs("span",{children:[z.min,"%"]}),n.jsxs("span",{children:[z.value,"%"]}),n.jsxs("span",{children:[z.max,"%"]})]})]})]},z.id))})]},K.id))]}):n.jsxs("div",{className:"py-6 text-center",children:[n.jsx(_n,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recursos Enterprise"}),n.jsx("p",{className:"text-xs text-gray-600 mb-4 max-w-md mx-auto",children:"Acesse configuraes avanadas de monitoramento com o plano Enterprise."}),n.jsx("button",{onClick:()=>e&&e("Configuraes Enterprise"),className:"px-4 py-1.5 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:shadow-lg transition-all text-xs",children:"Ver Plano Enterprise"})]})})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-3 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Resumo da Configurao"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[n.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(K=>K.enabled).length}),n.jsx("div",{className:"text-xs text-gray-600",children:"reas Ativas"})]}),n.jsxs("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-green-600",children:a.filter(K=>K.enabled).reduce((K,z)=>K+z.metrics.length,0)}),n.jsx("div",{className:"text-xs text-gray-600",children:"Mtricas Monitoradas"})]}),n.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[Math.round(a.filter(K=>K.enabled).length/a.length*100),"%"]}),n.jsx("div",{className:"text-xs text-gray-600",children:"Cobertura"})]})]}),!s&&n.jsx("div",{className:"mt-3 p-2 bg-purple-50 border border-purple-100 rounded-lg",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(oi,{className:"h-4 w-4 text-purple-600 mr-1 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-purple-800 text-xs",children:"Monitoramento em Tempo Real"}),n.jsx("p",{className:"text-xs text-purple-600",children:"Alertas instantneos e dashboards ao vivo"})]})]}),n.jsxs("button",{onClick:()=>e&&e("Monitoramento em Tempo Real"),className:"px-2 py-1 bg-purple-200 text-purple-700 rounded-lg flex items-center space-x-1 hover:bg-purple-300 transition-colors text-xs",children:[n.jsx(Fo,{className:"h-2.5 w-2.5 mr-0.5"}),n.jsx("span",{children:"Enterprise"}),n.jsx(e1,{className:"h-2.5 w-2.5 ml-0.5"})]})]})})]}),n.jsx(vt,{children:c&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Nova rea de Monitoramento"}),n.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Fechar",children:n.jsx(bt,{className:"h-5 w-5"})})]}),r?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Nome da rea"}),n.jsx("input",{type:"text",value:v.name,onChange:K=>y({...v,name:K.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Ex: Vendas Online"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:v.description,onChange:K=>y({...v,description:K.target.value}),className:"w-full px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",rows:2,placeholder:"Descreva o que ser monitorado nesta rea"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Mtricas"}),n.jsxs("button",{onClick:E,className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[n.jsx(zt,{className:"h-3 w-3 mr-0.5"}),"Adicionar"]})]}),n.jsx("div",{className:"space-y-1.5",children:v.metrics.map((K,z)=>n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("input",{type:"text",value:K,onChange:ee=>D(z,ee.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",placeholder:"Nome da mtrica"}),v.metrics.length>1&&n.jsx("button",{onClick:()=>N(z),className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remover mtrica",children:n.jsx(bt,{className:"h-3 w-3"})})]},z))})]})]}),n.jsxs("div",{className:"flex space-x-2 mt-4",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsx("button",{onClick:T,className:"flex-1 px-3 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:"Criar rea"})]})]}):n.jsxs("div",{className:"text-center py-5",children:[n.jsx(Fo,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-2",children:"Recurso Premium"}),n.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"reas de monitoramento personalizadas esto disponveis apenas para assinantes do plano Premium."}),n.jsx("button",{onClick:()=>{t&&t("reas de Monitoramento Personalizadas"),d(!1)},className:"px-4 py-1.5 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all text-sm",children:"Ver Plano Premium"})]})]})]})}),n.jsx(Hbe,{isOpen:u,onClose:()=>h(!1),title:`Preview: ${g?.name||"Configurao"}`,children:g&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${g.color} rounded-xl flex items-center justify-center`,children:n.jsx(g.icon,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-base font-semibold text-gray-900",children:g.name}),n.jsx("p",{className:"text-sm text-gray-600",children:g.description})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Mtricas Monitoradas"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:g.metrics.map((K,z)=>n.jsxs("div",{className:"flex items-center space-x-1.5 p-1.5 bg-gray-50 rounded-lg",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),n.jsx("span",{className:"text-xs text-gray-700",children:K})]},z))})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Visualizao de Dashboard"}),n.jsx("div",{className:"bg-gray-50 rounded-lg p-3 h-32 flex items-center justify-center",children:n.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Aqui ser exibido o dashboard de monitoramento para ",g.name.toLowerCase(),".",n.jsx("br",{}),n.jsx("span",{className:"text-xs",children:"Os dados sero atualizados em tempo real quando esta rea estiver ativa."})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Status"}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:g.enabled?"Ativo":"Inativo"}),(g.requiresPremium||g.requiresEnterprise)&&n.jsxs("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 flex items-center",children:[n.jsx(Fo,{className:"h-2.5 w-2.5 mr-0.5"}),g.requiresEnterprise?"Enterprise":"Premium"]})]})]})]})})]})},PD={pessoal:"#8b5cf6",networking:"#3b82f6",financeiro:"#10b981",cobrar:"#f59e0b",pagar:"#ef4444",operacional:"#06b6d4"},qbe={a_fazer:"scheduled",em_andamento:"in_progress",feito:"completed",cancelado:"cancelled"},zbe={scheduled:"a_fazer",in_progress:"em_andamento",confirmed:"em_andamento",completed:"feito",cancelled:"cancelado"},Vbe={pessoal:"meeting",networking:"meeting",financeiro:"task",operacional:"task",cobrar:"reminder",pagar:"reminder"},Kbe={meeting:"pessoal",task:"operacional",service_order:"operacional",appointment:"pessoal",reminder:"cobrar",other:"pessoal"},Wbe=t=>{const e=new Date(t.start_date),r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0"),l=`${r}-${s}-${a}`,c=`${i}:${o}`;let d,u;if(t.end_date){const v=new Date(t.end_date),y=v.getFullYear(),g=String(v.getMonth()+1).padStart(2,"0"),x=String(v.getDate()).padStart(2,"0"),w=String(v.getHours()).padStart(2,"0"),_=String(v.getMinutes()).padStart(2,"0");d=`${y}-${g}-${x}`,u=`${w}:${_}`}const h=t.event_type,f=Kbe[h]||"pessoal",p=t.status;return{id:t.id,title:t.title||"Sem ttulo",date:l,time:c,endDate:d,endTime:u,type:f,priority:t.priority||"medium",status:zbe[p]||"a_fazer",assignedTo:t.employee_id,location:t.location,description:t.description||t.notes,color:PD[f]||PD.pessoal}},PN=t=>{const e=t.status;let r;if(t.date&&t.time){const[l,c,d]=t.date.split("-").map(Number),[u,h]=t.time.split(":").map(Number);r=new Date(l,c-1,d,u,h,0,0).toISOString()}else r=new Date().toISOString();let s;if(t.endDate&&t.endTime){const[l,c,d]=t.endDate.split("-").map(Number),[u,h]=t.endTime.split(":").map(Number);s=new Date(l,c-1,d,u,h,0,0).toISOString()}else{const l=new Date(r);l.setHours(l.getHours()+1),s=l.toISOString()}const a=l=>l?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(l):!1,i=t.type,o=i?Vbe[i]:"meeting";return{title:t.title||t.description||"Sem ttulo",description:t.description,start_date:r,end_date:s,all_day:!1,event_type:o,status:e?qbe[e]:"scheduled",priority:t.priority,employee_id:a(t.assignedTo)?t.assignedTo:null,location:t.location,notes:t.description}},Gbe=t=>{const e=[];return t.forEach(r=>{if(!r.endDate||r.date===r.endDate)e.push(r);else{const s=new Date(r.date+"T00:00:00"),a=new Date(r.endDate+"T00:00:00");let i=new Date(s);for(;i<=a;){const o=i.toISOString().split("T")[0];e.push({...r,date:o,title:r.title+(i.getTime()===s.getTime()||i.getTime()===a.getTime()?" ":" ")}),i.setDate(i.getDate()+1)}}}),e},Xbe=({onPremiumFeature:t})=>{const{isPremium:e}=On(),[r,s]=O.useState(new Date),[a,i]=O.useState("calendar"),[o,l]=O.useState("monthly"),[c,d]=O.useState(!1),[u,h]=O.useState(null),[f,p]=O.useState(null),[v,y]=O.useState([]),[g,x]=O.useState(!0);O.useEffect(()=>{w()},[]);const w=async()=>{try{x(!0);const Qe=(await gle()).map(Wbe),je=Gbe(Qe);y(je)}catch(J){console.error("Error loading events:",J),y([])}finally{x(!1)}},[_,k]=O.useState({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""});function C(){const J=new Date;return J.setDate(J.getDate()+1),J.toISOString().split("T")[0]}const B=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],I=["D","S","T","Q","Q","S","S"],S=J=>{const Qe=J.getFullYear(),je=J.getMonth(),ie=new Date(Qe,je,1),We=new Date(Qe,je+1,0).getDate(),Oe=ie.getDay(),ve=[];for(let Ne=Oe-1;Ne>=0;Ne--){const ge=new Date(Qe,je,-Ne);ve.push({date:ge,isCurrentMonth:!1})}for(let Ne=1;Ne<=We;Ne++){const ge=new Date(Qe,je,Ne);ve.push({date:ge,isCurrentMonth:!0})}const st=42-ve.length;for(let Ne=1;Ne<=st;Ne++){const ge=new Date(Qe,je+1,Ne);ve.push({date:ge,isCurrentMonth:!1})}return ve},E=J=>{const Qe=J.toISOString().split("T")[0];return v.filter(je=>je.date===Qe)},D=()=>{const J=new Date().toISOString().split("T")[0];return v.filter(Qe=>Qe.date===J).sort((Qe,je)=>Qe.time.localeCompare(je.time))},N=()=>{const J=C();return v.filter(Qe=>Qe.date===J).sort((Qe,je)=>Qe.time.localeCompare(je.time))},T=()=>{s(new Date(r.getFullYear(),r.getMonth()-1))},Q=()=>{s(new Date(r.getFullYear(),r.getMonth()+1))},U=J=>{if(p(J),k(Qe=>({...Qe,date:J.toISOString().split("T")[0]})),!e&&v.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},K=async()=>{if(_.title&&_.date&&_.time)try{const J=PN(_);await xle(J),await w(),k({title:"",date:"",time:"",endDate:"",endTime:"",type:"pessoal",priority:"medium",status:"a_fazer",location:"",assignedTo:"",description:""}),d(!1)}catch(J){console.error("Error creating event:",J),alert("Erro ao criar evento. Verifique os campos de data e hora.")}else alert("Por favor, preencha ttulo, data e horrio de incio.")},z=async()=>{if(u)try{const J=PN(u);await Ij(u.id,J),await w(),h(null)}catch(J){console.error("Error updating event:",J),alert("Erro ao atualizar evento")}},ee=async J=>{if(confirm("Tem certeza que deseja excluir este evento?"))try{await yle(J),await w(),h(null)}catch(Qe){console.error("Error deleting event:",Qe),alert("Erro ao excluir evento")}},G=async J=>{try{await Ij(J,{status:"feito"}),await w()}catch(Qe){console.error("Error completing task:",Qe),alert("Erro ao completar tarefa")}},q=J=>{switch(J){case"pessoal":return"bg-purple-600";case"networking":return"bg-blue-500";case"financeiro":return"bg-green-500";case"cobrar":return"bg-yellow-500";case"pagar":return"bg-red-500";default:return"bg-gray-500"}},re=J=>{switch(J){case"pessoal":return"Pessoal";case"networking":return"Networking";case"financeiro":return"Financeiro";case"operacional":return"Operacional";case"cobrar":return"Cobrar";case"pagar":return"Pagar";default:return"Evento"}},Z=J=>{switch(J){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},$=J=>{switch(J){case"high":return"Alta";case"medium":return"Mdia";case"low":return"Baixa";default:return"Normal"}},L=J=>{switch(J){case"a_fazer":return"bg-yellow-100 text-yellow-800";case"em_andamento":return"bg-blue-100 text-blue-800";case"feito":return"bg-green-100 text-green-800";case"cancelado":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Y=J=>{switch(J){case"a_fazer":return"A Fazer";case"em_andamento":return"Em Andamento";case"feito":return"Concludo";case"cancelado":return"Cancelado";default:return"Desconhecido"}},X=()=>{const J=S(r);return n.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[I.map(Qe=>n.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Qe},Qe)),J.map((Qe,je)=>{const ie=E(Qe.date),Se=Qe.date.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>U(Qe.date),className:`min-h-[70px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${Qe.isCurrentMonth?"bg-white":"bg-gray-100 text-gray-400"} ${Se?"bg-blue-50 border-blue-300":""}`,children:[n.jsx("div",{className:`text-xs font-medium mb-1 ${Se?"text-blue-600":Qe.isCurrentMonth?"text-gray-900":"text-gray-400"}`,children:Qe.date.getDate()}),n.jsxs("div",{className:"space-y-1",children:[ie.slice(0,2).map(We=>n.jsxs("div",{onClick:Oe=>{Oe.stopPropagation(),h(We)},className:`text-xs p-1 rounded text-white truncate cursor-pointer hover:opacity-80 transition-opacity ${q(We.type)}`,children:[We.time," ",We.title]},We.id)),ie.length>2&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",ie.length-2]})]})]},je)})]})},Ae=()=>{const J=new Date(r);J.setDate(r.getDate()-r.getDay());const Qe=[];for(let je=0;je<7;je++){const ie=new Date(J);ie.setDate(J.getDate()+je),Qe.push(ie)}return n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"grid grid-cols-7 gap-1",children:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"].map((je,ie)=>n.jsx("div",{className:"p-2 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:je},je))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:Qe.map((je,ie)=>{const Se=E(je),We=je.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>U(je),className:`min-h-[100px] p-2 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${We?"bg-blue-50 border-blue-300":"bg-white"}`,children:[n.jsx("div",{className:`text-sm font-medium mb-2 ${We?"text-blue-600":"text-gray-900"}`,children:je.getDate()}),n.jsx("div",{className:"space-y-1",children:Se.map(Oe=>n.jsxs("div",{className:`text-xs p-1 rounded text-white truncate ${q(Oe.type)}`,children:[Oe.time," ",Oe.title]},Oe.id))})]},ie)})})]})},fe=()=>{const J=E(r),Qe=Array.from({length:24},(je,ie)=>ie);return n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:r.toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}),n.jsxs("p",{className:"text-sm text-gray-600",children:[J.length," eventos agendados"]})]}),n.jsx("div",{className:"max-h-96 overflow-y-auto space-y-1",children:Qe.map(je=>{const ie=J.filter(Se=>parseInt(Se.time.split(":")[0])===je);return n.jsxs("div",{className:"flex border-b border-gray-100 pb-2",children:[n.jsxs("div",{className:"w-16 text-xs text-gray-500 pt-1",children:[je.toString().padStart(2,"0"),":00"]}),n.jsx("div",{className:"flex-1 min-h-[40px]",children:ie.length>0?n.jsx("div",{className:"space-y-1",children:ie.map(Se=>n.jsxs("div",{className:`p-2 rounded text-white text-xs ${q(Se.type)}`,onClick:()=>h(Se),children:[n.jsx("div",{className:"font-medium",children:Se.title}),n.jsx("div",{className:"opacity-80",children:Se.time})]},Se.id))}):n.jsx("div",{className:"h-full hover:bg-gray-50 rounded cursor-pointer flex items-center justify-center text-gray-400 text-xs",onClick:()=>{const Se=new Date(r);Se.setHours(je,0,0,0),U(Se)},children:"Clique para adicionar evento"})})]},je)})})]})},de=()=>{const J=[...v].sort((Qe,je)=>{const ie=Qe.date.localeCompare(je.date);return ie!==0?ie:Qe.time.localeCompare(je.time)});return n.jsx("div",{className:"divide-y divide-gray-200",children:J.length>0?J.map(Qe=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>h(Qe),children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[n.jsx("div",{className:`w-1 h-16 rounded-full ${q(Qe.type)}`}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:Qe.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z(Qe.priority)}`,children:$(Qe.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${L(Qe.status)}`,children:Y(Qe.status)})]}),n.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(vr,{className:"h-3 w-3 mr-1"}),new Date(Qe.date).toLocaleDateString("pt-BR")]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wt,{className:"h-3 w-3 mr-1"}),Qe.time]}),Qe.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-3 w-3 mr-1"}),Qe.assignedTo]}),Qe.location&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(no,{className:"h-3 w-3 mr-1"}),Qe.location]})]}),Qe.description&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Qe.description})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs text-white ${q(Qe.type)}`,children:re(Qe.type)})})]})},Qe.id)):n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(_j,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhum evento cadastrado"})]})})},me=(J,Qe)=>{J.dataTransfer.effectAllowed="move",J.dataTransfer.setData("text/html",JSON.stringify(Qe))},Ce=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move"},xe=async(J,Qe)=>{J.preventDefault();try{const je=JSON.parse(J.dataTransfer.getData("text/html"));if(je.status===Qe)return;const ie={...je,status:Qe},Se=PN(ie);await Ij(je.id,Se),await w()}catch(je){console.error("Error updating event status:",je)}},we=()=>{const J=[{status:"a_fazer",title:"A Fazer",color:"border-yellow-400",bgColor:"bg-yellow-50"},{status:"em_andamento",title:"Em Andamento",color:"border-blue-400",bgColor:"bg-blue-50"},{status:"feito",title:"Concludo",color:"border-green-400",bgColor:"bg-green-50"},{status:"cancelado",title:"Cancelado",color:"border-gray-400",bgColor:"bg-gray-50"}];return n.jsx("div",{className:"grid grid-cols-4 gap-4 p-4",children:J.map(Qe=>{const je=v.filter(ie=>ie.status===Qe.status);return n.jsxs("div",{className:`border-t-4 ${Qe.color} ${Qe.bgColor} rounded-lg min-h-[500px]`,onDragOver:Ce,onDrop:ie=>xe(ie,Qe.status),children:[n.jsx("div",{className:"p-3 border-b border-gray-200 bg-white",children:n.jsxs("h3",{className:"font-medium text-gray-900 flex items-center justify-between",children:[Qe.title,n.jsx("span",{className:"text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full",children:je.length})]})}),n.jsxs("div",{className:"p-2 space-y-2 max-h-[450px] overflow-y-auto",children:[je.map(ie=>n.jsxs("div",{draggable:!0,onDragStart:Se=>me(Se,ie),className:"bg-white p-3 rounded-lg shadow-sm hover:shadow-lg transition-all cursor-move border border-gray-200 hover:border-blue-300 active:opacity-50",onDoubleClick:()=>h(ie),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900 flex-1",children:ie.title}),n.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs font-medium ml-2 ${Z(ie.priority)}`,children:n.jsx(eb,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"space-y-1 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(vr,{className:"h-3 w-3 mr-1"}),new Date(ie.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),n.jsx(Wt,{className:"h-3 w-3 ml-2 mr-1"}),ie.time]}),ie.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-3 w-3 mr-1"}),n.jsx("span",{className:"truncate",children:ie.assignedTo})]})]}),n.jsx("div",{className:`mt-2 w-full h-1 rounded-full ${q(ie.type)}`}),n.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:"Arraste para mover ou clique 2x para editar"})]},ie.id)),je.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-400 text-xs border-2 border-dashed border-gray-300 rounded-lg",children:n.jsx("p",{children:"Arraste tarefas aqui"})})]})]},Qe.status)})})},Ie=()=>{const Qe=[...v].sort((je,ie)=>je.date.localeCompare(ie.date)).reduce((je,ie)=>{const Se=ie.date;return je[Se]||(je[Se]=[]),je[Se].push(ie),je},{});return n.jsxs("div",{className:"p-4 space-y-4 max-h-96 overflow-y-auto",children:[Object.entries(Qe).map(([je,ie])=>n.jsxs("div",{className:"flex",children:[n.jsx("div",{className:"w-24 flex-shrink-0",children:n.jsxs("div",{className:"sticky top-0 pt-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:new Date(je).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})}),n.jsx("div",{className:"text-xs text-gray-500",children:new Date(je).toLocaleDateString("pt-BR",{weekday:"short"})})]})}),n.jsx("div",{className:"flex-1 border-l-2 border-gray-200 pl-4 pb-4",children:n.jsx("div",{className:"space-y-2",children:ie.map(Se=>n.jsxs("div",{className:"relative bg-white p-3 rounded-lg border-l-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer",style:{borderLeftColor:q(Se.type).replace("bg-","").replace("500","")},onClick:()=>h(Se),children:[n.jsx("div",{className:"absolute -left-[29px] top-4 w-3 h-3 rounded-full bg-white border-2",style:{borderColor:q(Se.type).replace("bg-","").replace("500","")}}),n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-sm text-gray-900",children:Se.title}),n.jsxs("div",{className:"flex items-center space-x-3 mt-1 text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Wt,{className:"h-3 w-3 mr-1"}),Se.time]}),Se.assignedTo&&n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-3 w-3 mr-1"}),Se.assignedTo]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z(Se.priority)}`,children:$(Se.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${L(Se.status)}`,children:Y(Se.status)})]})]})]},Se.id))})})]},je)),Object.keys(Qe).length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(WF,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhum evento na linha do tempo"})]})]})},lt=()=>{const J=[...v].sort((Oe,ve)=>Oe.date.localeCompare(ve.date)),Qe=J.map(Oe=>Oe.date),je=Qe.length>0?new Date(Math.min(...Qe.map(Oe=>new Date(Oe).getTime()))):new Date,ie=Qe.length>0?new Date(Math.max(...Qe.map(Oe=>new Date(Oe).getTime()))):new Date,Se=Math.ceil((ie.getTime()-je.getTime())/(1e3*60*60*24))+1,We=Array.from({length:Math.max(Se,7)},(Oe,ve)=>{const st=new Date(je);return st.setDate(je.getDate()+ve),st});return n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("div",{className:"flex mb-2 min-w-max",children:[n.jsx("div",{className:"w-48 flex-shrink-0"}),n.jsx("div",{className:"flex flex-1",children:We.map((Oe,ve)=>n.jsxs("div",{className:"flex-1 min-w-[60px] text-center border-l border-gray-200 px-1",children:[n.jsx("div",{className:"text-xs font-medium text-gray-900",children:Oe.getDate()}),n.jsx("div",{className:"text-xs text-gray-500",children:Oe.toLocaleDateString("pt-BR",{weekday:"short"})})]},ve))})]}),n.jsx("div",{className:"space-y-2",children:J.map(Oe=>{const ve=new Date(Oe.date),st=Math.floor((ve.getTime()-je.getTime())/(1e3*60*60*24));return n.jsxs("div",{className:"flex items-center hover:bg-gray-50 rounded transition-colors",children:[n.jsxs("div",{className:"w-48 flex-shrink-0 pr-2",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:Oe.title}),n.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[n.jsx(Wt,{className:"h-3 w-3"}),n.jsx("span",{children:Oe.time})]})]}),n.jsxs("div",{className:"flex flex-1 relative h-12",children:[We.map((Ne,ge)=>n.jsx("div",{className:"flex-1 min-w-[60px] border-l border-gray-200"},ge)),n.jsx("div",{className:`absolute h-8 top-2 rounded cursor-pointer ${q(Oe.type)} hover:opacity-80 transition-opacity`,style:{left:`${st/We.length*100}%`,width:`${1/We.length*100}%`},onClick:()=>h(Oe),children:n.jsx("div",{className:"px-2 py-1 text-white text-xs truncate",children:Oe.title})})]})]},Oe.id)})}),J.length===0&&n.jsxs("div",{className:"text-center py-8 text-gray-400",children:[n.jsx(qF,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),n.jsx("p",{children:"Nenhuma tarefa para visualizar"})]})]})})},Le=()=>{const J=new Date(r);J.setDate(r.getDate()-r.getDay());const Qe=[];for(let je=0;je<2;je++){const ie=new Date(J);ie.setDate(J.getDate()+je*7);const Se=[];for(let We=0;We<7;We++){const Oe=new Date(ie);Oe.setDate(ie.getDate()+We),Se.push(Oe)}Qe.push(Se)}return n.jsx("div",{className:"space-y-4",children:Qe.map((je,ie)=>n.jsxs("div",{children:[n.jsxs("div",{className:"text-xs font-medium text-gray-700 mb-2",children:["Semana ",ie+1," - ",je[0].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})," a ",je[6].toLocaleDateString("pt-BR",{day:"numeric",month:"short"})]}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:["D","S","T","Q","Q","S","S"].map((Se,We)=>n.jsx("div",{className:"p-1 text-center font-semibold text-gray-600 bg-gray-50 text-xs",children:Se},`day-${ie}-${We}`))}),n.jsx("div",{className:"grid grid-cols-7 gap-1",children:je.map((Se,We)=>{const Oe=E(Se),ve=Se.toDateString()===new Date().toDateString();return n.jsxs("div",{onClick:()=>U(Se),className:`min-h-[60px] p-1 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors ${ve?"bg-blue-50 border-blue-300":"bg-white"}`,children:[n.jsx("div",{className:`text-xs font-medium mb-1 ${ve?"text-blue-600":"text-gray-900"}`,children:Se.getDate()}),n.jsxs("div",{className:"space-y-1",children:[Oe.slice(0,1).map(st=>n.jsx("div",{className:`text-xs p-0.5 rounded text-white truncate ${q(st.type)}`,children:st.time},st.id)),Oe.length>1&&n.jsxs("div",{className:"text-xs text-gray-500",children:["+",Oe.length-1]})]})]},We)})})]},ie))})};return n.jsxs("div",{className:"p-3 space-y-4",children:[n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Agenda"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Gerencie seus compromissos"})]}),n.jsx("button",{onClick:()=>{if(!e&&v.length>=3){t&&t("Eventos Ilimitados");return}d(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-2 rounded-lg shadow-md hover:shadow-lg transition-all duration-200",children:n.jsx(zt,{className:"h-5 w-5"})})]})}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1 gap-1",children:[n.jsxs("button",{onClick:()=>i("calendar"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="calendar"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(vr,{className:"h-3.5 w-3.5"}),"Calendrio"]}),n.jsxs("button",{onClick:()=>i("list"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="list"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(_j,{className:"h-3.5 w-3.5"}),"Lista"]}),n.jsxs("button",{onClick:()=>i("board"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="board"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(One,{className:"h-3.5 w-3.5"}),"Quadro"]}),n.jsxs("button",{onClick:()=>i("timeline"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="timeline"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(WF,{className:"h-3.5 w-3.5"}),"Linha"]}),n.jsxs("button",{onClick:()=>i("gantt"),className:`px-3 py-2 rounded-md transition-all text-xs font-medium flex items-center gap-1 ${a==="gantt"?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-200"}`,children:[n.jsx(qF,{className:"h-3.5 w-3.5"}),"Gantt"]})]})}),a==="calendar"&&n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:["daily","weekly","biweekly","monthly"].map(J=>n.jsx("button",{onClick:()=>l(J),className:`px-3 py-1.5 rounded-md transition-colors text-xs font-medium ${o===J?"bg-blue-500 text-white":"text-gray-600 hover:text-gray-900"}`,children:J==="daily"?"Dia":J==="weekly"?"Sem":J==="biweekly"?"Quinz":"Ms"},J))})}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("button",{onClick:T,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(bb,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-base font-semibold text-gray-900",children:[B[r.getMonth()]," ",r.getFullYear()]}),n.jsx("button",{onClick:Q,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(e1,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a==="calendar"&&n.jsxs(n.Fragment,{children:[o==="monthly"&&X(),o==="weekly"&&Ae(),o==="biweekly"&&Le(),o==="daily"&&fe()]}),a==="list"&&de(),a==="board"&&we(),a==="timeline"&&Ie(),a==="gantt"&&lt()]}),n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[n.jsx(vr,{className:"h-4 w-4 mr-2"}),a==="calendar"&&"Visualizao em Calendrio com mltiplos perodos",a==="list"&&"Visualizao em Lista organizada por data",a==="board"&&"Visualizao em Quadro Kanban por status",a==="timeline"&&"Visualizao em Linha do Tempo cronolgica",a==="gantt"&&"Visualizao em Grfico de Gantt"]})}),a==="calendar"&&n.jsxs("div",{className:"mt-4",children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[n.jsx(_j,{className:"h-4 w-4 mr-2 text-blue-500"}),"Compromissos do Ms"]}),n.jsxs("div",{className:"space-y-2",children:[v.filter(J=>{const Qe=new Date(J.date);return Qe.getMonth()===r.getMonth()&&Qe.getFullYear()===r.getFullYear()}).sort((J,Qe)=>new Date(J.date).getTime()-new Date(Qe.date).getTime()).map(J=>n.jsx("div",{onClick:()=>h(J),className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-md hover:border-blue-300 transition-all cursor-pointer",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${q(J.type)}`}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-medium text-gray-900 truncate",children:J.title}),n.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-gray-600",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vr,{className:"h-3 w-3"}),new Date(J.date).toLocaleDateString("pt-BR")]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Wt,{className:"h-3 w-3"}),J.time]}),J.assignedTo&&n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(ir,{className:"h-3 w-3"}),J.assignedTo]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${L(J.status)}`,children:Y(J.status)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z(J.priority)}`,children:$(J.priority)})]})]})},J.id)),v.filter(J=>{const Qe=new Date(J.date);return Qe.getMonth()===r.getMonth()&&Qe.getFullYear()===r.getFullYear()}).length===0&&n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(vr,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum compromisso neste ms"})]})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[n.jsx(Wt,{className:"h-5 w-5 mr-2 text-blue-500"}),"Tarefas Pendentes"]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(vr,{className:"h-4 w-4 mr-1 text-blue-500"}),"Hoje (",D().length,")"]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),D().length>0?n.jsx("div",{className:"space-y-2",children:D().map(J=>n.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${q(J.type)}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:J.title})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z(J.priority)}`,children:$(J.priority)}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${L(J.status)}`,children:Y(J.status)})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Wt,{className:"h-3 w-3 mr-1 text-gray-400"}),J.time]}),J.assignedTo&&n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(ir,{className:"h-3 w-3 mr-1 text-gray-400"}),J.assignedTo]}),J.location&&n.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[n.jsx(no,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:J.location})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[J.status!=="feito"&&n.jsxs("button",{onClick:()=>G(J.id),className:"px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors text-xs flex items-center",children:[n.jsx(ys,{className:"h-3 w-3 mr-1"}),"Concluir"]}),n.jsxs("button",{onClick:()=>h(J),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[n.jsx(hn,{className:"h-3 w-3 mr-1"}),"Editar"]})]})]},J.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(ys,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para hoje"})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-700 flex items-center",children:[n.jsx(vr,{className:"h-4 w-4 mr-1 text-purple-500"}),"Amanh (",N().length,")"]}),n.jsx("span",{className:"text-xs text-gray-500",children:new Date(C()).toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),N().length>0?n.jsx("div",{className:"space-y-2",children:N().map(J=>n.jsxs("div",{className:"p-3 bg-white border border-gray-200 rounded-lg hover:shadow-sm transition-all",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:`w-3 h-3 rounded-full ${q(J.type)}`}),n.jsx("h4",{className:"font-medium text-gray-900",children:J.title})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Z(J.priority)}`,children:$(J.priority)})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Wt,{className:"h-3 w-3 mr-1 text-gray-400"}),J.time]}),J.assignedTo&&n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(ir,{className:"h-3 w-3 mr-1 text-gray-400"}),J.assignedTo]}),J.location&&n.jsxs("div",{className:"flex items-center text-gray-600 col-span-2 truncate",children:[n.jsx(no,{className:"h-3 w-3 mr-1 text-gray-400 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:J.location})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>h(J),className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 transition-colors text-xs flex items-center",children:[n.jsx(hn,{className:"h-3 w-3 mr-1"}),"Editar"]}),n.jsxs("button",{onClick:()=>ee(J.id),className:"px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors text-xs flex items-center",children:[n.jsx(Yt,{className:"h-3 w-3 mr-1"}),"Excluir"]})]})]},J.id))}):n.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(ys,{className:"h-8 w-8 text-green-500 mx-auto mb-2"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma tarefa para amanh"})]})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm flex items-center mx-auto",children:[n.jsx("span",{children:"Ver todas as tarefas"}),n.jsx(Ho,{className:"h-4 w-4 ml-1"})]})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Novo Compromisso"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Adicionar evento  agenda"})]}),n.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo do Compromisso ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:_.title,onChange:J=>k({..._,title:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Reunio com cliente"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Data Incio ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"date",value:_.date,onChange:J=>k({..._,date:J.target.value,endDate:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Hora Incio ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"time",value:_.time,onChange:J=>k({..._,time:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Trmino"}),n.jsx("input",{type:"date",value:_.endDate,onChange:J=>k({..._,endDate:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora Trmino"}),n.jsx("input",{type:"time",value:_.endTime,onChange:J=>k({..._,endTime:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Compromisso"}),n.jsxs("select",{value:_.type,onChange:J=>k({..._,type:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"pessoal",children:"Pessoal"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"financeiro",children:"Financeiro"}),n.jsx("option",{value:"operacional",children:"Operacional"}),n.jsx("option",{value:"cobrar",children:"Cobrar"}),n.jsx("option",{value:"pagar",children:"Pagar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),n.jsxs("select",{value:_.priority,onChange:J=>k({..._,priority:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Baixa"}),n.jsx("option",{value:"medium",children:"Mdia"}),n.jsx("option",{value:"high",children:"Alta"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),n.jsx("input",{type:"text",value:_.assignedTo,onChange:J=>k({..._,assignedTo:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),n.jsx("input",{type:"text",value:_.location,onChange:J=>k({..._,location:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:_.description,onChange:J=>k({..._,description:J.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Detalhes do compromisso..."})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:K,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(hr,{className:"h-5 w-5"}),"Salvar Compromisso"]})]})]})}),u&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Editar Compromisso"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:"Atualizar informaes do evento"})]}),n.jsx("button",{onClick:()=>h(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),n.jsx("input",{type:"text",value:u.title,onChange:J=>h({...u,title:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do evento"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Incio"}),n.jsx("input",{type:"date",value:u.date,onChange:J=>h({...u,date:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Incio"}),n.jsx("input",{type:"time",value:u.time,onChange:J=>h({...u,time:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Trmino"}),n.jsx("input",{type:"date",value:u.endDate||u.date,onChange:J=>h({...u,endDate:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horrio de Trmino"}),n.jsx("input",{type:"time",value:u.endTime||u.time,onChange:J=>h({...u,endTime:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),n.jsxs("select",{value:u.type,onChange:J=>h({...u,type:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"pessoal",children:"Pessoal"}),n.jsx("option",{value:"networking",children:"Networking"}),n.jsx("option",{value:"financeiro",children:"Financeiro"}),n.jsx("option",{value:"operacional",children:"Operacional"}),n.jsx("option",{value:"cobrar",children:"Cobrar"}),n.jsx("option",{value:"pagar",children:"Pagar"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),n.jsxs("select",{value:u.priority,onChange:J=>h({...u,priority:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"low",children:"Baixa"}),n.jsx("option",{value:"medium",children:"Mdia"}),n.jsx("option",{value:"high",children:"Alta"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:u.status,onChange:J=>h({...u,status:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"a_fazer",children:"A Fazer"}),n.jsx("option",{value:"em_andamento",children:"Em Andamento"}),n.jsx("option",{value:"feito",children:"Concludo"}),n.jsx("option",{value:"cancelado",children:"Cancelado"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Responsvel"}),n.jsx("input",{type:"text",value:u.assignedTo||"",onChange:J=>h({...u,assignedTo:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do responsvel"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),n.jsx("input",{type:"text",value:u.location||"",onChange:J=>h({...u,location:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Local do evento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:u.description||"",onChange:J=>h({...u,description:J.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Detalhes do evento"})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsxs("button",{onClick:()=>ee(u.id),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(Yt,{className:"h-5 w-5"}),"Excluir"]}),n.jsx("button",{onClick:()=>h(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:z,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(hr,{className:"h-5 w-5"}),"Atualizar"]})]})]})})]})},Ybe=({onPremiumFeature:t,onEnterpriseFeature:e})=>{const{isPremium:r,isEnterprise:s}=On(),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,d]=O.useState(null),[u,h]=O.useState(null),[f,p]=O.useState([{id:1,name:"App Mobile GiarTech",status:"Em Progresso",team:4,deadline:"2024-01-15",progress:75,color:"from-blue-500 to-cyan-500",description:"Desenvolvimento do aplicativo mobile principal da empresa",tasks:[{id:1,title:"Design de interface",completed:!0,dueDate:"2023-12-10"},{id:2,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-20"},{id:3,title:"Integrao com API",completed:!1,dueDate:"2024-01-05"},{id:4,title:"Testes e QA",completed:!1,dueDate:"2024-01-10"},{id:5,title:"Lanamento",completed:!1,dueDate:"2024-01-15"}]},{id:2,name:"Website Corporativo",status:"Concludo",team:3,deadline:"2024-01-10",progress:100,color:"from-green-500 to-emerald-500",description:"Novo site institucional com design moderno",tasks:[{id:1,title:"Wireframes e prottipos",completed:!0,dueDate:"2023-11-15"},{id:2,title:"Design de pginas",completed:!0,dueDate:"2023-11-30"},{id:3,title:"Desenvolvimento frontend",completed:!0,dueDate:"2023-12-15"},{id:4,title:"Desenvolvimento backend",completed:!0,dueDate:"2023-12-30"},{id:5,title:"Testes e lanamento",completed:!0,dueDate:"2024-01-10"}]},{id:3,name:"Sistema de CRM",status:"Planejamento",team:5,deadline:"2024-01-30",progress:25,color:"from-purple-500 to-pink-500",description:"Sistema de gesto de relacionamento com clientes",tasks:[{id:1,title:"Levantamento de requisitos",completed:!0,dueDate:"2023-12-15"},{id:2,title:"Modelagem de dados",completed:!0,dueDate:"2023-12-30"},{id:3,title:"Prototipagem de interface",completed:!1,dueDate:"2024-01-10"},{id:4,title:"Desenvolvimento",completed:!1,dueDate:"2024-01-25"},{id:5,title:"Testes e implantao",completed:!1,dueDate:"2024-01-30"}]}]),[v,y]=O.useState({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),[g,x]=O.useState({title:"",dueDate:""}),w=["from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-purple-500 to-pink-500","from-orange-500 to-red-500","from-indigo-500 to-purple-500","from-yellow-500 to-orange-500"],_=()=>{if(!r&&f.length>=3){t("Projetos Ilimitados");return}if(v.name.trim()){const S={id:Date.now(),name:v.name,status:v.status,team:v.team,deadline:v.deadline,progress:0,color:w[Math.floor(Math.random()*w.length)],description:v.description,tasks:[]};p([...f,S]),y({name:"",description:"",deadline:"",team:1,status:"Planejamento"}),i(!1)}},k=()=>{if(!r&&u&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}if(u&&g.title&&g.dueDate){const S={id:Date.now(),title:g.title,completed:!1,dueDate:g.dueDate},E={...u,tasks:[...u.tasks||[],S]};p(f.map(D=>D.id===u.id?E:D)),h(E),x({title:"",dueDate:""}),l(!1)}},C=(S,E)=>{const D=f.find(N=>N.id===S);if(D&&D.tasks){const N=D.tasks.map(z=>z.id===E?{...z,completed:!z.completed}:z),T=N.filter(z=>z.completed).length,Q=N.length,U=Q>0?Math.round(T/Q*100):0,K={...D,tasks:N,progress:U};p(f.map(z=>z.id===S?K:z)),u&&u.id===S&&h(K)}},B=S=>{window.confirm("Tem certeza que deseja excluir este projeto?")&&(p(f.filter(E=>E.id!==S)),u&&u.id===S&&h(null))},I=()=>{s||e&&e("Anlise Avanada de Projetos")};return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Meus Projetos (",f.length,")"]}),n.jsx("p",{className:"text-gray-600",children:"Gerencie todos os seus projetos em um s lugar"})]}),n.jsx("button",{onClick:()=>{if(!r&&f.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:n.jsx(zt,{className:"h-6 w-6"})})]}),!r&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-700 flex items-center",children:[n.jsx($y,{className:"h-4 w-4 mr-2"}),"Plano Bsico: Limitado a 3 projetos e 5 tarefas por projeto. Faa upgrade para projetos ilimitados."]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 col-span-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Status dos Projetos"}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:f.length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Concludos"}),n.jsx("p",{className:"text-lg font-bold text-green-600",children:f.filter(S=>S.progress===100).length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Em Progresso"}),n.jsx("p",{className:"text-lg font-bold text-blue-600",children:f.filter(S=>S.progress>0&&S.progress<100).length})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-gray-500",children:"Planejados"}),n.jsx("p",{className:"text-lg font-bold text-purple-600",children:f.filter(S=>S.progress===0).length})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Progresso Mdio"}),n.jsxs("div",{className:"flex flex-col justify-between h-full",children:[n.jsx("div",{className:"text-center",children:n.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[Math.round(f.reduce((S,E)=>S+E.progress,0)/(f.length||1)),"%"]})}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.round(f.reduce((S,E)=>S+E.progress,0)/(f.length||1))}%`}})})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Prximos Prazos"}),n.jsx("div",{className:"flex flex-col justify-between h-full",children:n.jsxs("div",{className:"space-y-2",children:[f.filter(S=>S.progress<100).sort((S,E)=>new Date(S.deadline).getTime()-new Date(E.deadline).getTime()).slice(0,2).map(S=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-xs truncate max-w-[120px]",children:S.name}),n.jsx("span",{className:"text-xs font-medium",children:new Date(S.deadline).toLocaleDateString("pt-BR")})]},S.id)),!s&&n.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-500 cursor-pointer hover:text-blue-600",onClick:I,children:[n.jsx("span",{children:"Anlise avanada"}),n.jsx(Fo,{className:"h-3 w-3"})]})]})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-2 space-y-4",children:n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Todos os Projetos"}),n.jsx("div",{className:"space-y-4",children:f.map((S,E)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100 hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>h(S),children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${S.color} rounded-lg flex items-center justify-center`,children:n.jsx($y,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:S.name}),n.jsx("p",{className:"text-xs text-gray-500",children:S.status})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.deadline).toLocaleDateString("pt-BR")})})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[n.jsx("span",{children:"Progresso"}),n.jsxs("span",{children:[S.progress,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full ${S.progress===100?"bg-green-500":S.progress>50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${S.progress}%`}})})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ir,{className:"h-3 w-3"}),n.jsxs("span",{children:[S.team," membros"]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(jb,{className:"h-3 w-3"}),n.jsxs("span",{children:[S.tasks?S.tasks.filter(D=>D.completed).length:0,"/",S.tasks?S.tasks.length:0," tarefas"]})]})]})]},S.id))})]})}),n.jsx("div",{className:"md:col-span-1",children:u?n.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${u.color} rounded-lg flex items-center justify-center`,children:n.jsx($y,{className:"h-5 w-5 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900",children:u.name})]}),n.jsx("button",{onClick:()=>B(u.id),className:"text-red-500 hover:text-red-700 p-1",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Descrio"}),n.jsx("p",{className:"text-sm text-gray-700",children:u.description||"Sem descrio"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Status"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.status})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Prazo"}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(u.deadline).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Equipe"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.team," membros"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Progresso"}),n.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.progress,"%"]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Tarefas"}),n.jsxs("button",{onClick:()=>{if(!r&&u.tasks&&u.tasks.length>=5){t("Tarefas Ilimitadas");return}l(!0)},className:"text-blue-600 hover:text-blue-800 text-xs flex items-center",children:[n.jsx(zt,{className:"h-3 w-3 mr-1"}),"Adicionar"]})]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.tasks&&u.tasks.length>0?u.tasks.map(S=>n.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:()=>C(u.id,S.id),className:`w-4 h-4 rounded border flex items-center justify-center ${S.completed?"bg-green-500 border-green-500 text-white":"border-gray-300"}`,children:S.completed&&n.jsx(jb,{className:"h-3 w-3"})}),n.jsx("span",{className:`text-sm ${S.completed?"line-through text-gray-500":"text-gray-700"}`,children:S.title})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:"text-xs text-gray-500",children:new Date(S.dueDate).toLocaleDateString("pt-BR")})})]},S.id)):n.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Nenhuma tarefa adicionada"})})]}),!s&&n.jsxs("div",{className:"mt-4 p-3 bg-purple-50 border border-purple-100 rounded-lg cursor-pointer",onClick:I,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(oi,{className:"h-4 w-4 text-purple-600 mr-2"}),n.jsx("p",{className:"text-sm text-purple-700",children:"Anlise avanada de projetos"})]}),n.jsx(Fo,{className:"h-4 w-4 text-purple-600"})]}),n.jsx("p",{className:"text-xs text-purple-600 mt-1",children:"Disponvel no plano Enterprise"})]})]})]}):n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx($y,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-2",children:"Selecione um projeto para ver os detalhes"}),n.jsxs("button",{onClick:()=>{if(!r&&f.length>=3){t("Projetos Ilimitados");return}i(!0)},className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm",children:[n.jsx(zt,{className:"h-4 w-4 mr-2 inline"}),"Novo Projeto"]})]})})})]}),n.jsx(vt,{children:a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Projeto"}),n.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Projeto"}),n.jsx("input",{type:"text",value:v.name,onChange:S=>y({...v,name:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o nome do projeto"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),n.jsx("textarea",{value:v.description,onChange:S=>y({...v,description:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Descreva o projeto"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),n.jsx("input",{type:"date",value:v.deadline,onChange:S=>y({...v,deadline:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipe"}),n.jsx("input",{type:"number",min:"1",value:v.team,onChange:S=>y({...v,team:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),n.jsxs("select",{value:v.status,onChange:S=>y({...v,status:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"Planejamento",children:"Planejamento"}),n.jsx("option",{value:"Em Progresso",children:"Em Progresso"}),n.jsx("option",{value:"Em Reviso",children:"Em Reviso"}),n.jsx("option",{value:"Concludo",children:"Concludo"})]})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:_,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Criar"]})]})]})]})}),n.jsx(vt,{children:o&&u&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Nova Tarefa"}),n.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Projeto"}),n.jsx("input",{type:"text",value:u.name,disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo da Tarefa"}),n.jsx("input",{type:"text",value:g.title,onChange:S=>x({...g,title:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o ttulo da tarefa"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Vencimento"}),n.jsx("input",{type:"date",value:g.dueDate,onChange:S=>x({...g,dueDate:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:k,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg transition-all duration-200 flex items-center justify-center",children:[n.jsx(hr,{className:"h-4 w-4 mr-2"}),"Adicionar"]})]})]})]})})]})},Jbe=()=>{const{user:t,isPremium:e}=On();return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex items-center space-x-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:t?.avatar||"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e&&n.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white p-2 rounded-full",children:n.jsx(Ux,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t?.name}),n.jsx("p",{className:"text-gray-600",children:t?.email}),n.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mt-2 ${e?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gray-100 text-gray-600"}`,children:e?" Premium":"Bsico"})]}),n.jsx("button",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white p-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200",children:n.jsx(ri,{className:"h-5 w-5"})})]})}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Informaes Pessoais"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Nome Completo"}),n.jsx("p",{className:"font-medium text-gray-900",children:t?.name})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(vs,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),n.jsx("p",{className:"font-medium text-gray-900",children:t?.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx(ci,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Telefone"}),n.jsx("p",{className:"font-medium text-gray-900",children:"(11) 99999-9999"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(no,{className:"h-5 w-5 text-orange-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500",children:"Localizao"}),n.jsx("p",{className:"font-medium text-gray-900",children:"So Paulo, SP"})]})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Estatsticas da Conta"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Projetos",value:"12",color:"from-blue-500 to-cyan-500"},{label:"Tarefas",value:"48",color:"from-green-500 to-emerald-500"},{label:"Horas",value:"156",color:"from-purple-500 to-pink-500"},{label:"Equipe",value:"8",color:"from-orange-500 to-red-500"}].map((r,s)=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${r.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:n.jsx("span",{className:"text-2xl font-bold text-white",children:r.value})}),n.jsx("p",{className:"text-sm text-gray-600",children:r.label})]},r.label))})]})]})};cf.register(P1,F1,_1,df,sk,nk,E1,k1,B1,S1);const FD=()=>{const[t,e]=O.useState(null),[r,s]=O.useState(null),[a,i]=O.useState(!0),[o,l]=O.useState("month");O.useEffect(()=>{c()},[o]);const c=async()=>{try{i(!0);const[v,y]=await Promise.all([d(),u()]);e(v),s(y)}catch(v){console.error("Erro ao carregar dados:",v)}finally{i(!1)}},d=async()=>{const v=new Date,y=new Date(v.getFullYear(),v.getMonth(),1);new Date(v.getFullYear(),v.getMonth()-1,1);const[g,x,w,_]=await Promise.all([pe.from("v_monthly_financial_summary").select("*").order("month",{ascending:!1}).limit(2),pe.from("v_business_kpis").select("*").maybeSingle(),pe.from("customers").select("id, created_at"),pe.from("materials").select("unit_cost, unit_price, quantity")]),k=g.data?.[0]||{total_revenue:0,net_profit:0,profit_margin:0},C=g.data?.[1]||{total_revenue:0},B=Number(k.total_revenue)||0,I=Number(C.total_revenue)||0,S=I>0?(B-I)/I*100:0,E=w.data?.filter(T=>new Date(T.created_at)>=y).length||0,D=_.data?.reduce((T,Q)=>T+Q.unit_cost*Q.quantity,0)||0,N=_.data?.reduce((T,Q)=>T+(Q.unit_price-Q.unit_cost)*Q.quantity,0)||0;return{revenue:{current:B,previous:I,growth:S},profit:{amount:Number(k.net_profit)||0,margin:Number(k.profit_margin)||0,trend:S},orders:{total:x.data?.total_completed_orders||0,completed:x.data?.total_completed_orders||0,conversionRate:x.data?.conversion_rate||0},customers:{total:x.data?.total_customers||0,active:x.data?.active_customers||0,new:E},inventory:{value:D,profit:N,turnover:0}}},u=async()=>{const[v,y,g,x]=await Promise.all([pe.from("v_monthly_financial_summary").select("*").order("month",{ascending:!0}).limit(6),pe.from("v_top_services_by_revenue").select("*").limit(5),pe.from("v_top_customers_by_revenue").select("*").limit(5),pe.from("service_orders").select("status")]),w=v.data?.map(B=>B.month_label)||[],_=v.data?.map(B=>Number(B.total_revenue))||[],k=v.data?.map(B=>Number(B.net_profit))||[],C=new Map;return x.data?.forEach(B=>{C.set(B.status,(C.get(B.status)||0)+1)}),{revenueByMonth:{labels:w,data:_},profitByMonth:{labels:w,data:k},topServices:{labels:y.data?.map(B=>B.service_name||"Sem nome")||[],data:y.data?.map(B=>Number(B.total_revenue))||[]},topCustomers:{labels:g.data?.map(B=>B.customer_name||"Sem nome")||[],data:g.data?.map(B=>Number(B.total_revenue))||[]},orderStatus:{labels:Array.from(C.keys()),data:Array.from(C.values())}}},h=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),f=v=>v==null||isNaN(v)?"0.0%":`${v>=0?"+":""}${v.toFixed(1)}%`;if(a)return n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx(di,{className:"h-12 w-12 animate-spin text-blue-600"})});const p=[{title:"Receita do Ms",value:h(t?.revenue.current||0),change:f(t?.revenue.growth||0),trend:(t?.revenue.growth||0)>=0?"up":"down",icon:gr,color:"from-green-500 to-emerald-600",previous:h(t?.revenue.previous||0)},{title:"Lucro Lquido",value:h(t?.profit.amount||0),change:`${((t?.profit.margin??0)||0).toFixed(1)}% margem`,trend:(t?.profit.amount||0)>=0?"up":"down",icon:qr,color:"from-blue-500 to-cyan-600",previous:`Margem ${((t?.profit.margin??0)||0).toFixed(1)}%`},{title:"Taxa de Converso",value:`${((t?.orders.conversionRate??0)||0).toFixed(1)}%`,change:`${t?.orders.completed||0} OSs concludas`,trend:(t?.orders.conversionRate||0)>=80?"up":"down",icon:r1,color:"from-purple-500 to-pink-600",previous:`${t?.orders.total||0} OSs totais`},{title:"Clientes Ativos",value:t?.customers.active.toString()||"0",change:`+${t?.customers.new||0} novos`,trend:"up",icon:ir,color:"from-orange-500 to-red-600",previous:`${t?.customers.total||0} total`}];return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:n.jsxs("div",{className:"max-w-[1800px] mx-auto px-6 py-8 space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Dashboard Executivo"}),n.jsx("p",{className:"text-gray-600",children:"Viso estratgica para tomada de decises"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"month",children:"ltimo Ms"}),n.jsx("option",{value:"quarter",children:"ltimo Trimestre"}),n.jsx("option",{value:"year",children:"ltimo Ano"})]}),n.jsxs("button",{onClick:c,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 shadow-sm",children:[n.jsx(di,{className:"h-4 w-4"}),"Atualizar"]}),n.jsxs("button",{className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2 shadow-sm",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Exportar"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((v,y)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-shadow border border-gray-100",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${v.color} rounded-xl flex items-center justify-center shadow-lg`,children:n.jsx(v.icon,{className:"h-7 w-7 text-white"})}),n.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold ${v.trend==="up"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[v.trend==="up"?n.jsx(Zw,{className:"h-4 w-4"}):n.jsx(gE,{className:"h-4 w-4"}),v.change]})]}),n.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:v.title}),n.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:v.value}),n.jsx("p",{className:"text-xs text-gray-500",children:v.previous})]},v.title))}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Evoluo da Receita"}),n.jsx("p",{className:"text-sm text-gray-600",children:"ltimos 6 meses"})]}),n.jsx(oi,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"h-80",children:r&&n.jsx(J0,{data:{labels:r.revenueByMonth.labels,datasets:[{label:"Receita",data:r.revenueByMonth.data,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,borderWidth:3,pointRadius:6,pointHoverRadius:8,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#fff",pointBorderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,titleFont:{size:14},bodyFont:{size:13},callbacks:{label:v=>h(v.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:v=>h(Number(v))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lucro Mensal"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Receita - Despesas"})]}),n.jsx(qr,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"h-80",children:r&&n.jsx(Gm,{data:{labels:r.profitByMonth.labels,datasets:[{label:"Lucro",data:r.profitByMonth.data,backgroundColor:r.profitByMonth.data.map(v=>v>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderRadius:8,borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,callbacks:{label:v=>h(v.parsed.y)}}},scales:{y:{beginAtZero:!0,ticks:{callback:v=>h(Number(v))},grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Servios"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Por receita"})]}),n.jsx(Et,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"space-y-4",children:r?.topServices.labels.map((v,y)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:y+1}),n.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:v})]}),n.jsx("span",{className:"text-sm font-bold text-blue-600",children:h(r.topServices.data[y])})]},v))})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Top 5 Clientes"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Maior receita"})]}),n.jsx(ir,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"space-y-4",children:r?.topCustomers.labels.map((v,y)=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:y+1}),n.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:v})]}),n.jsx("span",{className:"text-sm font-bold text-purple-600",children:h(r.topCustomers.data[y])})]},v))})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Status das OSs"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Distribuio atual"})]}),n.jsx(Dm,{className:"h-6 w-6 text-gray-400"})]}),n.jsx("div",{className:"h-64",children:r&&r.orderStatus.data.length>0&&n.jsx(Jz,{data:{labels:r.orderStatus.labels,datasets:[{data:r.orderStatus.data,backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)","rgba(239, 68, 68, 0.8)","rgba(168, 85, 247, 0.8)"],borderWidth:0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:15,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12}}}})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-gradient-to-br from-blue-600 to-cyan-700 rounded-2xl p-6 shadow-lg text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Anlise de Estoque"}),n.jsx("p",{className:"text-blue-100",children:"Potencial de lucro imobilizado"})]}),n.jsx(qt,{className:"h-8 w-8 text-blue-200"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[n.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Valor em Estoque"}),n.jsx("p",{className:"text-3xl font-bold",children:h(t?.inventory.value||0)})]}),n.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4",children:[n.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Lucro Potencial"}),n.jsx("p",{className:"text-3xl font-bold",children:h(t?.inventory.profit||0)})]})]}),n.jsxs("div",{className:"mt-4 p-4 bg-white/10 backdrop-blur-sm rounded-xl",children:[n.jsx("p",{className:"text-sm text-blue-100 mb-2",children:"Margem Potencial"}),n.jsxs("div",{className:"flex items-end gap-2",children:[n.jsxs("p",{className:"text-4xl font-bold",children:[(((t?.inventory.profit??0)||0)/((t?.inventory.value??1)||1)*100).toFixed(1),"%"]}),n.jsx("p",{className:"text-blue-100 pb-2",children:"de rentabilidade"})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Insights Estratgicos"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pontos de ateno"})]}),n.jsx(Gn,{className:"h-6 w-6 text-gray-400"})]}),n.jsxs("div",{className:"space-y-4",children:[(t?.revenue.growth||0)>=10&&n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-green-50 rounded-xl",children:[n.jsx(Ua,{className:"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-green-900",children:"Crescimento Acelerado"}),n.jsxs("p",{className:"text-sm text-green-700",children:["Receita cresceu ",f(t.revenue.growth)," este ms"]})]})]}),(t?.orders.conversionRate||0)>=80&&n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 rounded-xl",children:[n.jsx(Ua,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-blue-900",children:"Alta Converso"}),n.jsxs("p",{className:"text-sm text-blue-700",children:["Taxa de ",((t.orders.conversionRate??0)||0).toFixed(1),"% supera meta de 80%"]})]})]}),(t?.profit.margin||0)>=30&&n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 rounded-xl",children:[n.jsx(Ua,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-purple-900",children:"Margem Saudvel"}),n.jsxs("p",{className:"text-sm text-purple-700",children:["Margem de lucro de ",((t.profit.margin??0)||0).toFixed(1),"% acima da meta"]})]})]}),(t?.customers.new||0)>0&&n.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 rounded-xl",children:[n.jsx(qr,{className:"h-5 w-5 text-orange-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-orange-900",children:"Expanso da Base"}),n.jsxs("p",{className:"text-sm text-orange-700",children:[t.customers.new," novos clientes este ms"]})]})]})]})]})]})]})})},Zbe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(""),[o,l]=O.useState(null);O.useEffect(()=>{c()},[]);const c=async()=>{try{s(!0);const{data:v,error:y}=await pe.from("service_orders").select(`
          *,
          customer:customers(nome_razao, telefone)
        `).order("opened_at",{ascending:!1});if(y)throw y;e(v||[])}catch(v){console.error("Error loading service orders:",v),e([])}finally{s(!1)}},d=[{id:"aberta",title:"Abertas",icon:Gn,color:"bg-yellow-500",borderColor:"border-yellow-400",bgColor:"bg-yellow-50"},{id:"em_andamento",title:"Em Andamento",icon:yE,color:"bg-blue-500",borderColor:"border-blue-400",bgColor:"bg-blue-50"},{id:"concluida",title:"Concludas",icon:ys,color:"bg-green-500",borderColor:"border-green-400",bgColor:"bg-green-50"},{id:"cancelada",title:"Canceladas",icon:ih,color:"bg-gray-500",borderColor:"border-gray-400",bgColor:"bg-gray-50"}],u=v=>t.filter(y=>{const g=y.status||"aberta",x=g===v,w=!a||y.description?.toLowerCase().includes(a.toLowerCase())||y.customer?.nome_razao?.toLowerCase().includes(a.toLowerCase());return x&&w&&(!o||g===o)}),h=v=>v?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v):"R$ 0,00",f=v=>v?new Date(v).toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}):"No agendado",p=v=>{const y=new Date(v);return Math.floor((new Date().getTime()-y.getTime())/(1e3*60*60*24))};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando ordens de servio..."})]})}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(li,{className:"h-6 w-6 text-blue-500"}),"Ordens de Servio"]}),n.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[t.length," ordens de servio cadastradas"]})]}),n.jsxs("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Nova OS"]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por cliente ou descrio...",value:a,onChange:v=>i(v.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(sf,{className:"h-4 w-4"}),"Filtros"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(v=>{const y=u(v.id),g=v.icon;return n.jsxs("div",{className:"flex flex-col",children:[n.jsx("div",{className:`${v.bgColor} border-t-4 ${v.borderColor} rounded-t-xl p-3`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(g,{className:`h-5 w-5 ${v.color.replace("bg-","text-")}`}),n.jsx("h3",{className:"font-semibold text-gray-900",children:v.title})]}),n.jsx("span",{className:"bg-white text-gray-700 px-2 py-1 rounded-full text-xs font-medium",children:y.length})]})}),n.jsx("div",{className:"flex-1 bg-gray-50 rounded-b-xl p-2 space-y-2 min-h-[400px]",children:y.length===0?n.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"Nenhuma ordem"}):y.map(x=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg p-3 shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:[n.jsx("div",{className:"flex items-start justify-between mb-2",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:x.customer?.nome_razao||"Cliente no informado"}),x.description&&n.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:x.description})]})}),n.jsxs("div",{className:"space-y-1.5",children:[x.scheduled_at&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(vr,{className:"h-3 w-3"}),n.jsx("span",{children:f(x.scheduled_at)})]}),x.customer?.telefone&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(Cn,{className:"h-3 w-3"}),n.jsx("span",{children:x.customer.telefone})]}),x.total_value!==void 0&&x.total_value>0&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[n.jsx(gr,{className:"h-3 w-3"}),n.jsx("span",{className:"font-medium",children:h(x.total_value)})]})]}),n.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-100 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[n.jsx(Wt,{className:"h-3 w-3"}),n.jsxs("span",{children:[p(x.opened_at)," dias aberta"]})]}),n.jsx("div",{className:`w-2 h-2 rounded-full ${v.color}`})]})]},x.id))})]},v.id)})}),n.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:d.map(v=>{const y=u(v.id),g=y.reduce((x,w)=>x+(w.total_value||0),0);return n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`text-2xl font-bold ${v.color.replace("bg-","text-")}`,children:y.length}),n.jsx("div",{className:"text-sm text-gray-600",children:v.title}),g>0&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h(g)})]},v.id)})})})]})},ewe=()=>{const t=ui(),[e,r]=O.useState(!0),s=()=>{t("/login")};return n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center px-6 relative overflow-hidden",children:[e&&n.jsx(he.button,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},onClick:s,className:"absolute top-6 right-6 p-2 bg-white/20 backdrop-blur-sm rounded-full hover:bg-white/30 transition-colors z-20",children:n.jsx(bt,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[n.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-blue-400/20 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-indigo-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"0.5s"}})]}),n.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[n.jsx(he.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},className:"mb-12",children:n.jsxs("div",{className:"relative inline-block",children:[n.jsx(he.div,{animate:{rotate:[0,5,-5,0],scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"w-32 h-32 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-3xl flex items-center justify-center shadow-2xl",children:n.jsx("span",{className:"text-4xl font-bold text-white",children:"GT"})}),n.jsx(he.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.5},className:"absolute -top-2 -right-2 w-8 h-8 bg-gradient-to-r from-pink-400 to-orange-400 rounded-full flex items-center justify-center",children:n.jsx(D0,{className:"h-4 w-4 text-white"})})]})}),n.jsx(he.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"text-5xl md:text-6xl font-bold mb-6",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"GiarTech"})}),n.jsxs(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"text-xl md:text-2xl text-gray-600 mb-12 leading-relaxed",children:["Plataforma empresarial completa para",n.jsx("br",{}),n.jsx("span",{className:"font-semibold text-gray-800",children:"gesto inteligente de projetos"})]}),n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7,duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-12",children:[{icon:Ed,label:"Rpido",color:"from-yellow-400 to-orange-500"},{icon:_n,label:"Seguro",color:"from-green-400 to-emerald-500"},{icon:ir,label:"Colaborativo",color:"from-blue-400 to-cyan-500"},{icon:D0,label:"Inteligente",color:"from-purple-400 to-pink-500"}].map((a,i)=>n.jsxs(he.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.8+i*.1,duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-white/50",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${a.color} rounded-xl flex items-center justify-center mx-auto mb-2`,children:n.jsx(a.icon,{className:"h-6 w-6 text-white"})}),n.jsx("p",{className:"text-sm font-medium text-gray-700",children:a.label})]},a.label))}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1,duration:.8},className:"flex flex-col items-center space-y-4",children:[n.jsxs(Cl,{to:"/login",className:"group inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-2xl shadow-xl hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300",children:[n.jsx("span",{className:"mr-3",children:"GIARTECH Gesto Integrada"}),n.jsx(he.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0},children:n.jsx(Ho,{className:"h-5 w-5"})})]}),n.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 transition-colors text-sm",children:"Acessar Plataforma"})]}),n.jsx(he.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.8},className:"text-sm text-gray-500 mt-8",children:"Verso 2.0  Premium Edition"})]})]})},TD=()=>{const{user:t,isPremium:e}=On(),r=[{title:"Nova Ordem de Servio",description:"Criar uma nova OS rapidamente",icon:li,color:"from-blue-500 to-cyan-500",path:"/service-orders/create"},{title:"Gesto de Clientes",description:"Adicionar ou editar clientes",icon:ir,color:"from-green-500 to-emerald-500",path:"/client-management"},{title:"Controle de Estoque",description:"Verificar materiais disponveis",icon:qt,color:"from-purple-500 to-pink-500",path:"/inventory"},{title:"Relatrios Financeiros",description:"Acompanhar receitas e despesas",icon:gr,color:"from-orange-500 to-red-500",path:"/financial"},{title:"Agenda de Trabalho",description:"Organizar compromissos",icon:vr,color:"from-indigo-500 to-purple-500",path:"/calendar"},{title:"Chat da Equipe",description:"Comunicar com a equipe",icon:wb,color:"from-teal-500 to-cyan-500",path:"/chat"}],s=[{action:"OS criada",item:"OS-2024-001 - Joo Silva",time:"2 horas atrs",icon:li,color:"text-blue-500"},{action:"Cliente adicionado",item:"Empresa ABC Ltda",time:"4 horas atrs",icon:ir,color:"text-green-500"},{action:"Estoque atualizado",item:"Ar Condicionado Split 12.000 BTUs",time:"1 dia atrs",icon:qt,color:"text-purple-500"},{action:"Pagamento recebido",item:"R$ 850,00 - OS-2024-003",time:"2 dias atrs",icon:gr,color:"text-green-500"}],a=[{title:"Ordens Ativas",value:"8",icon:li,color:"from-blue-500 to-cyan-500"},{title:"Clientes Cadastrados",value:"24",icon:ir,color:"from-green-500 to-emerald-500"},{title:"Itens em Estoque",value:"156",icon:qt,color:"from-purple-500 to-pink-500"},{title:"Faturamento Mensal",value:"R$ 15.850",icon:gr,color:"from-orange-500 to-red-500"}];return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-8 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bem-vindo, ",t?.name,"! "]}),n.jsx("p",{className:"text-blue-100 text-lg",children:"Gerencie seu negcio de forma inteligente e eficiente"})]}),n.jsx("div",{className:"hidden md:block",children:n.jsx("div",{className:"w-24 h-24 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Ed,{className:"h-12 w-12 text-white"})})})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Ua,{className:"h-5 w-5 text-green-300"}),n.jsx("span",{className:"text-sm",children:"Sistema Online"})]})}),n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(_n,{className:"h-5 w-5 text-blue-300"}),n.jsx("span",{className:"text-sm",children:"Dados Seguros"})]})}),n.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(T0,{className:"h-5 w-5 text-purple-300"}),n.jsx("span",{className:"text-sm",children:"Acesso Remoto"})]})})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((i,o)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center`,children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-1",children:i.value}),n.jsx("p",{className:"text-gray-600",children:i.title})]},i.title))}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Aes Rpidas"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((i,o)=>n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+o*.1},children:n.jsxs(Cl,{to:i.path,className:"block p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl hover:shadow-lg transition-all duration-200 group",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${i.color} rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),n.jsx("p",{className:"text-gray-600 text-sm mb-4",children:i.description}),n.jsxs("div",{className:"flex items-center text-blue-600 group-hover:text-blue-700",children:[n.jsx("span",{className:"text-sm font-medium",children:"Acessar"}),n.jsx(Ho,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})]})},i.title))})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Atividade Recente"}),n.jsx("div",{className:"space-y-4",children:s.map((i,o)=>n.jsxs("div",{className:"flex items-center space-x-4 p-4 hover:bg-gray-50 rounded-lg transition-colors",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center",children:n.jsx(i.icon,{className:`h-5 w-5 ${i.color}`})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.action}),n.jsx("p",{className:"text-sm text-gray-600",children:i.item})]}),n.jsx("span",{className:"text-xs text-gray-500",children:i.time})]},o))})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-2xl p-8 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Status do Sistema"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Ua,{className:"h-5 w-5 text-green-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Todos os Servios"})]}),n.jsx("span",{className:"text-green-600 font-medium",children:"Operacional"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(Wt,{className:"h-5 w-5 text-blue-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"ltima Sincronizao"})]}),n.jsx("span",{className:"text-blue-600 font-medium",children:"Agora"})]}),n.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(la,{className:"h-5 w-5 text-purple-500"}),n.jsx("span",{className:"font-medium text-gray-900",children:"Plano Atual"})]}),n.jsx("span",{className:"text-purple-600 font-medium",children:e?"Premium":"Bsico"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsxs(Cl,{to:"/departmental-dashboard",className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-4 rounded-lg hover:shadow-lg transition-all flex items-center justify-center",children:[n.jsx(oi,{className:"h-5 w-5 mr-2"}),n.jsx("span",{children:"Ver Dashboard Completo"}),n.jsx(Ho,{className:"h-4 w-4 ml-2"})]})})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8 border border-indigo-100",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Dicas Rpidas"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(Ed,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Automatizao"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Use o sistema integrado para automatizar processos e economizar tempo"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(qr,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Produtividade"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Acompanhe mtricas de desempenho no Dashboard Departamental"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(_n,{className:"h-6 w-6 text-white"})}),n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Segurana"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Seus dados esto protegidos com criptografia de ponta a ponta"})]})]})]})]})},twe=()=>{const t=[{icon:r1,title:"Foco no Cliente",description:"Colocamos as necessidades dos nossos clientes no centro de tudo que fazemos."},{icon:xE,title:"Excelncia",description:"Buscamos sempre a mais alta qualidade em cada projeto que desenvolvemos."},{icon:ir,title:"Colaborao",description:"Trabalhamos em parceria com nossos clientes para alcanar os melhores resultados."},{icon:Cne,title:"Paixo",description:"Amamos o que fazemos e isso se reflete na qualidade das nossas solues."}];return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Sobre a ",n.jsx("span",{className:"text-accent-300",children:"GiarTech"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Somos uma empresa de tecnologia apaixonada por criar solues inovadoras que transformam negcios e conectam pessoas"})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs(he.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Nossa Histria"}),n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Fundada em 2020, a GiarTech nasceu da viso de democratizar o acesso  tecnologia de qualidade. Comeamos como uma pequena startup com grandes sonhos e hoje somos uma referncia em desenvolvimento de solues digitais."}),n.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Nossa jornada  marcada pela constante busca por inovao e pela dedicao em entregar resultados excepcionais para nossos clientes. Cada projeto  uma oportunidade de superar expectativas e criar valor real."}),n.jsx("p",{className:"text-lg text-gray-600",children:"Hoje, orgulhamo-nos de ter uma equipe talentosa e diversificada, unida pela paixo por tecnologia e pelo compromisso com a excelncia."})]}),n.jsxs(he.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"relative",children:[n.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Equipe trabalhando",className:"rounded-lg shadow-xl"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-primary-600/20 to-accent-600/20 rounded-lg"})]})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nossos Valores"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Os princpios que guiam nossa empresa e definem nossa cultura organizacional"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 text-center group hover:-translate-y-2",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 rounded-full mb-6 group-hover:bg-primary-600 transition-colors duration-300",children:n.jsx(e.icon,{className:"h-8 w-8 text-primary-600 group-hover:text-white transition-colors duration-300"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),n.jsx("p",{className:"text-gray-600",children:e.description})]},e.title))})]})}),n.jsx("section",{className:"py-20 gradient-bg",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Nossos Nmeros"}),n.jsx("p",{className:"text-xl text-gray-200",children:"Resultados que comprovam nossa dedicao e competncia"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{number:"100+",label:"Projetos Entregues"},{number:"50+",label:"Clientes Satisfeitos"},{number:"4+",label:"Anos de Experincia"},{number:"24/7",label:"Suporte Disponvel"}].map((e,r)=>n.jsxs(he.div,{initial:{opacity:0,scale:.8},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[n.jsx("div",{className:"text-4xl md:text-5xl font-bold text-accent-300 mb-2",children:e.number}),n.jsx("div",{className:"text-lg text-gray-200",children:e.label})]},e.label))})]})})]})},rwe=()=>{const t=[{icon:Wre,title:"Desenvolvimento Web",description:"Criamos sites e aplicaes web modernas, responsivas e otimizadas.",features:["React/Next.js","Vue.js/Nuxt.js","Node.js/Express","TypeScript"],color:"from-blue-500 to-cyan-500"},{icon:jE,title:"Desenvolvimento Mobile",description:"Apps nativos e hbridos para iOS e Android com performance superior.",features:["React Native","Flutter","Swift/Kotlin","Ionic"],color:"from-purple-500 to-pink-500"},{icon:T0,title:"Solues Cloud",description:"Infraestrutura escalvel e segura na nuvem para seu negcio.",features:["AWS/Azure","Docker/Kubernetes","CI/CD","Microservios"],color:"from-green-500 to-teal-500"},{icon:F0,title:"Banco de Dados",description:"Design e otimizao de bancos de dados para mxima performance.",features:["PostgreSQL","MongoDB","Redis","Elasticsearch"],color:"from-orange-500 to-red-500"},{icon:_n,title:"Segurana Digital",description:"Implementao de medidas de segurana robustas e auditoria.",features:["Pentesting","LGPD/GDPR","SSL/TLS","Firewall"],color:"from-indigo-500 to-purple-500"},{icon:Ed,title:"Otimizao",description:"Melhoria de performance e otimizao de aplicaes existentes.",features:["Performance","SEO","Core Web Vitals","Monitoring"],color:"from-yellow-500 to-orange-500"}];return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Nossos ",n.jsx("span",{className:"text-accent-300",children:"Servios"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Oferecemos solues tecnolgicas completas para transformar sua viso em realidade digital"})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((e,r)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"card p-8 group hover:-translate-y-2 relative overflow-hidden",children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br ${e.color} rounded-full mb-6`,children:n.jsx(e.icon,{className:"h-8 w-8 text-white"})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.title}),n.jsx("p",{className:"text-gray-600 mb-6",children:e.description}),n.jsx("div",{className:"space-y-2 mb-6",children:e.features.map(s=>n.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[n.jsx("div",{className:"w-1.5 h-1.5 bg-primary-500 rounded-full mr-2"}),s]},s))}),n.jsxs("button",{className:"flex items-center text-primary-600 font-medium group-hover:text-primary-700 transition-colors duration-200",children:["Saiba mais",n.jsx(Ho,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},e.title))})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-16",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Nosso Processo"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Uma metodologia comprovada para entregar resultados excepcionais"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[{step:"01",title:"Descoberta",description:"Entendemos suas necessidades e objetivos de negcio."},{step:"02",title:"Planejamento",description:"Criamos uma estratgia detalhada e cronograma do projeto."},{step:"03",title:"Desenvolvimento",description:"Implementamos a soluo com as melhores prticas."},{step:"04",title:"Entrega",description:"Testamos, otimizamos e entregamos o projeto finalizado."}].map((e,r)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},viewport:{once:!0},className:"text-center",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 text-primary-600 rounded-full text-xl font-bold mb-4",children:e.step}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:e.title}),n.jsx("p",{className:"text-gray-600",children:e.description})]},e.step))})]})}),n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Pronto para comear seu projeto?"}),n.jsx("p",{className:"text-xl text-gray-200 mb-8 max-w-2xl mx-auto",children:"Entre em contato conosco e vamos discutir como podemos ajudar a transformar sua ideia em realidade"}),n.jsxs("button",{className:"btn-primary inline-flex items-center",children:["Solicitar Oramento",n.jsx(Ho,{className:"ml-2 h-5 w-5"})]})]})})})]})},nwe=()=>{const[t,e]=O.useState({name:"",email:"",subject:"",message:""}),r=a=>{a.preventDefault(),console.log("Form submitted:",t),alert("Mensagem enviada com sucesso! Entraremos em contato em breve."),e({name:"",email:"",subject:"",message:""})},s=a=>{e({...t,[a.target.name]:a.target.value})};return n.jsxs("div",{className:"pt-16",children:[n.jsx("section",{className:"py-20 gradient-bg",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:n.jsxs(he.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[n.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Entre em ",n.jsx("span",{className:"text-accent-300",children:"Contato"})]}),n.jsx("p",{className:"text-xl text-gray-200 max-w-3xl mx-auto",children:"Estamos prontos para transformar sua ideia em realidade. Vamos conversar sobre seu prximo projeto!"})]})})}),n.jsx("section",{className:"py-20 bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[n.jsxs(he.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Vamos conversar"}),n.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Nossa equipe est sempre disponvel para discutir seu projeto e encontrar a melhor soluo para suas necessidades."}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(vs,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Email"}),n.jsx("p",{className:"text-gray-600",children:"contato@giartech.com"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Respondemos em at 24 horas"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(ci,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Telefone"}),n.jsx("p",{className:"text-gray-600",children:"(11) 99999-9999"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Seg - Sex, 9h s 18h"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(no,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Localizao"}),n.jsx("p",{className:"text-gray-600",children:"So Paulo, SP"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Atendimento remoto e presencial"})]})]}),n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:n.jsx(Wt,{className:"h-6 w-6 text-primary-600"})})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Horrio"}),n.jsx("p",{className:"text-gray-600",children:"Segunda a Sexta: 9h - 18h"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Suporte 24/7 para clientes"})]})]})]})]}),n.jsxs(he.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"card p-8",children:[n.jsxs("div",{className:"flex items-center mb-6",children:[n.jsx(ud,{className:"h-6 w-6 text-primary-600 mr-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Envie uma mensagem"})]}),n.jsxs("form",{onSubmit:r,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome completo"}),n.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"Seu nome completo"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),n.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",placeholder:"seu@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2",children:"Assunto"}),n.jsxs("select",{id:"subject",name:"subject",value:t.subject,onChange:s,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200",children:[n.jsx("option",{value:"",children:"Selecione um assunto"}),n.jsx("option",{value:"desenvolvimento-web",children:"Desenvolvimento Web"}),n.jsx("option",{value:"desenvolvimento-mobile",children:"Desenvolvimento Mobile"}),n.jsx("option",{value:"consultoria",children:"Consultoria em TI"}),n.jsx("option",{value:"suporte",children:"Suporte Tcnico"}),n.jsx("option",{value:"outros",children:"Outros"})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mensagem"}),n.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:s,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 resize-none",placeholder:"Conte-nos sobre seu projeto ou dvida..."})]}),n.jsxs("button",{type:"submit",className:"w-full btn-primary flex items-center justify-center",children:["Enviar Mensagem",n.jsx(Ti,{className:"ml-2 h-5 w-5"})]})]})]})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Perguntas Frequentes"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Respostas para as dvidas mais comuns sobre nossos servios"})]}),n.jsx("div",{className:"space-y-6",children:[{question:"Quanto tempo leva para desenvolver um projeto?",answer:"O tempo varia conforme a complexidade do projeto. Projetos simples podem levar de 2-4 semanas, enquanto aplicaes mais complexas podem levar de 2-6 meses. Sempre fornecemos um cronograma detalhado aps a anlise inicial."},{question:"Vocs oferecem suporte aps a entrega?",answer:"Sim! Oferecemos suporte tcnico e manuteno contnua para todos os nossos projetos. Temos diferentes planos de suporte para atender s necessidades especficas de cada cliente."},{question:"Como funciona o processo de oramento?",answer:"Aps o primeiro contato, agendamos uma reunio para entender suas necessidades. Com base nisso, elaboramos uma proposta detalhada com escopo, cronograma e valores. O oramento  sempre gratuito e sem compromisso."},{question:"Trabalham com quais tecnologias?",answer:"Trabalhamos com as principais tecnologias do mercado: React, Vue.js, Node.js, Python, React Native, Flutter, AWS, Azure, e muitas outras. Sempre escolhemos a melhor tecnologia para cada projeto especfico."}].map((a,i)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},viewport:{once:!0},className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:a.question}),n.jsx("p",{className:"text-gray-600",children:a.answer})]},i))})]})})]})},swe=({isOpen:t,feature:e,onClose:r})=>{const s=[{icon:oi,title:"Analytics Avanados",description:"Relatrios detalhados e insights em tempo real"},{icon:ir,title:"Colaborao Ilimitada",description:"Adicione quantos membros quiser ao seu time"},{icon:_n,title:"Segurana Enterprise",description:"Criptografia avanada e backup automtico"},{icon:Ed,title:"Automaes",description:"Fluxos de trabalho automatizados e integraes"}],a=[{name:"Bsico",price:"Grtis",features:["At 5 ordens de servio","Gesto bsica de estoque","Catlogo de servios limitado","Suporte por email","Acesso a 1 usurio","Backup manual","Relatrios bsicos"],current:!0},{name:"Premium",price:"R$ 99,00/ms",features:["Ordens de servio ilimitadas","Gesto completa de estoque","Catlogo de servios completo","Suporte prioritrio","At 5 usurios","Backup automtico","Analytics avanados","Personalizao visual","Modo offline no app","Integraes bsicas"],popular:!0},{name:"Enterprise",price:"R$ 200,00/ms",features:["Tudo do Premium","Usurios ilimitados","API de integrao","Suporte dedicado 24/7","SLA garantido","Dashboards personalizados","Gesto financeira avanada","Controle de acesso granular","Monitoramento em tempo real","Relatrios customizados","Treinamento da equipe","Ambiente de homologao"]}];return n.jsx(vt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-white rounded-t-3xl",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(he.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(Ux,{className:"h-8 w-8 text-yellow-300"})}),n.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Recurso Premium"}),n.jsx("p",{className:"text-blue-100",children:e?`"${e}" est disponvel apenas no plano Premium`:"Desbloqueie todo o potencial da plataforma"})]})]}),n.jsxs("div",{className:"p-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"O que voc ganha com o Premium"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((i,o)=>n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*o},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl",children:[n.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:n.jsx(i.icon,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:i.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:i.description})]})]},i.title))})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Escolha seu plano"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map((i,o)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*o},className:`relative p-6 rounded-2xl border-2 transition-all duration-200 ${i.popular?"border-blue-500 bg-gradient-to-b from-blue-50 to-purple-50 shadow-lg scale-105":i.current?"border-gray-300 bg-gray-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:[i.popular&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-1 rounded-full text-sm font-medium flex items-center",children:[n.jsx(la,{className:"h-4 w-4 mr-1"}),"Mais Popular"]})}),i.current&&n.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:n.jsx("div",{className:"bg-gray-500 text-white px-4 py-1 rounded-full text-sm font-medium",children:"Plano Atual"})}),n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-2",children:i.name}),n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:i.price})]}),n.jsx("ul",{className:"space-y-3 mb-6",children:i.features.map((l,c)=>n.jsxs("li",{className:"flex items-center text-sm text-gray-600",children:[n.jsx(rn,{className:"h-4 w-4 text-green-500 mr-2 flex-shrink-0"}),l]},c))}),n.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${i.current?"bg-gray-300 text-gray-500 cursor-not-allowed":i.popular?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gray-900 text-white hover:bg-gray-800"}`,disabled:i.current,children:i.current?"Plano Atual":"Fazer Upgrade"})]},i.name))})]}),n.jsxs("div",{className:"text-center",children:[n.jsx(he.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:"Comear Teste Grtis de 14 dias"}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Sem compromisso  Cancele a qualquer momento"})]})]})]})]})})},awe=({feature:t})=>{const[e,r]=O.useState(!0);return e?n.jsx(vt,{children:n.jsx(he.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"fixed bottom-20 left-0 right-0 z-30 px-4",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"relative p-4 md:p-6",children:[n.jsx("button",{onClick:()=>r(!1),className:"absolute top-2 right-2 p-1 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[n.jsx("div",{className:"mb-4 md:mb-0 md:mr-6 flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:n.jsx(Ux,{className:"h-6 w-6 text-yellow-300"})})}),n.jsxs("div",{className:"text-center md:text-left flex-1 md:mr-6",children:[n.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:t?`Desbloqueie "${t}" com o plano Premium!`:"Atualize para o plano Premium!"}),n.jsx("p",{className:"text-white/80 text-sm",children:"Acesse recursos avanados, usurios ilimitados e suporte prioritrio por apenas R$49,90/ms."})]}),n.jsx("div",{className:"mt-4 md:mt-0",children:n.jsxs(Cl,{to:"/pricing",className:"inline-flex items-center px-4 py-2 bg-white text-blue-600 font-medium rounded-lg hover:bg-blue-50 transition-colors",children:[n.jsx(la,{className:"h-4 w-4 mr-2 text-yellow-500"}),n.jsx("span",{children:"Ver Planos"}),n.jsx(Ho,{className:"h-4 w-4 ml-2"})]})})]})]}),n.jsx("div",{className:"h-1 bg-white/20",children:n.jsx(he.div,{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-300",initial:{width:0},animate:{width:"100%"},transition:{duration:10,ease:"linear"},onAnimationComplete:()=>r(!1)})})]})})})}):null},iwe=({isOpen:t,feature:e,onClose:r})=>{const s=[{icon:oi,title:"Analytics Avanados",description:"Relatrios detalhados, dashboards personalizados e anlise preditiva"},{icon:ir,title:"Usurios Ilimitados",description:"Adicione toda sua equipe sem limites ou custos adicionais"},{icon:_n,title:"Segurana Enterprise",description:"Criptografia avanada, autenticao em dois fatores e logs de auditoria"},{icon:Ed,title:"Integraes Avanadas",description:"API personalizada e conexo com sistemas ERP, CRM e contbeis"}];return n.jsx(vt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"relative bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-white rounded-t-2xl",children:[n.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(he.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(Fo,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Recurso Enterprise"}),n.jsx("p",{className:"text-purple-100",children:e?`"${e}" est disponvel apenas no plano Enterprise`:"Desbloqueie recursos avanados com o plano Enterprise"})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"O que voc ganha com o Enterprise"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((a,i)=>n.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*i},className:"flex items-start space-x-4 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-purple-500 to-indigo-500 rounded-lg flex items-center justify-center",children:n.jsx(a.icon,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:a.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:a.description})]})]},a.title))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Benefcios Exclusivos"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(la,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Gerente de conta dedicado"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(la,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Suporte 24/7 por telefone, email e chat"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(la,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"SLA garantido com 99.9% de uptime"]}),n.jsxs("li",{className:"flex items-center text-gray-700",children:[n.jsx(la,{className:"h-4 w-4 text-yellow-500 mr-2 flex-shrink-0"}),"Treinamento personalizado para sua equipe"]})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs(Cl,{to:"/pricing",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:[n.jsx(Ux,{className:"h-5 w-5 mr-2 text-yellow-300"}),"Ver Plano Enterprise"]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Entre em contato para uma demonstrao personalizada"})]})]})]})]})})},owe=()=>{const t=ui();return O.useEffect(()=>{t("/",{replace:!0})},[t]),n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700",children:n.jsxs("div",{className:"text-white text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"}),n.jsx("p",{className:"mt-4 text-lg",children:"Carregando sistema..."})]})})},lwe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState([{id:"1",code:"0000",role:"admin",createdAt:"2024-01-15T10:00:00",expiresAt:"2099-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Admin Demo",usedAt:"2024-01-15T10:05:00",isUniversal:!0},{id:"2",code:"234567",role:"technician",createdAt:"2024-01-16T11:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Carlos Tcnico",usedAt:"2024-01-16T14:20:00"},{id:"3",code:"345678",role:"technician",createdAt:"2024-01-17T09:15:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Ana Tcnica",usedAt:"2024-01-17T10:45:00"},{id:"4",code:"456789",role:"external",createdAt:"2024-01-18T14:30:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!0,usedBy:"Joo Externo",usedAt:"2024-01-19T08:10:00"},{id:"5",code:"567890",role:"technician",createdAt:"2024-01-20T16:45:00",expiresAt:"2024-12-31T23:59:59",createdBy:"Admin Demo",isUsed:!1}]),[s,a]=O.useState(!1),[i,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState({role:"technician",expiresAt:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),[h,f]=O.useState(null),[p,v]=O.useState("all"),y=e.filter(S=>p==="all"?!0:p==="used"?S.isUsed:p==="unused"?!S.isUsed:p==="admin"||p==="technician"||p==="external"?S.role===p:!0),g=()=>Math.floor(1e5+Math.random()*9e5).toString(),x=()=>{const S={id:Date.now().toString(),code:g(),role:d.role,createdAt:new Date().toISOString(),expiresAt:new Date(d.expiresAt+"T23:59:59").toISOString(),createdBy:"Admin Demo",isUsed:!1};r([...e,S]),a(!1),f(S.id),setTimeout(()=>{h===S.id&&f(null)},3e3)},w=()=>{l&&(r(e.map(S=>S.id===l.id?l:S)),o(!1),c(null))},_=(S,E)=>{navigator.clipboard.writeText(S).then(()=>{f(E),setTimeout(()=>{h===E&&f(null)},3e3)})},k=S=>{if(e.find(D=>D.id===S)?.isUniversal){alert("O cdigo universal no pode ser excludo.");return}confirm("Tem certeza que deseja excluir este cdigo de acesso?")&&r(e.filter(D=>D.id!==S))},C=S=>{const E=e.find(D=>D.id===S);if(E?.isUniversal){c(E),o(!0);return}r(e.map(D=>D.id===S?{...D,code:g(),isUsed:!1,usedBy:void 0,usedAt:void 0}:D))},B=S=>new Date(S).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),I=S=>new Date(S)<new Date;return t?n.jsxs("div",{className:"space-y-6 p-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cdigos de Acesso"}),n.jsxs("button",{onClick:()=>a(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-4 w-4"}),n.jsx("span",{children:"Novo Cdigo"})]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 shadow-md border border-blue-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:n.jsx(Lm,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cdigo Universal"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Cdigo de acesso principal para administradores"})]})]}),n.jsxs("button",{onClick:()=>{const S=e.find(E=>E.isUniversal);S&&(c(S),o(!0))},className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(ri,{className:"h-3 w-3"}),n.jsx("span",{children:"Alterar"})]})]}),n.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx(_n,{className:"h-5 w-5 text-purple-600"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"font-mono font-bold text-lg text-gray-900 mr-2",children:e.find(S=>S.isUniversal)?.code||"0000"}),n.jsx("button",{onClick:()=>{const S=e.find(E=>E.isUniversal);S&&_(S.code,S.id)},className:`p-1 rounded-md transition-colors ${h===e.find(S=>S.isUniversal)?.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:h===e.find(S=>S.isUniversal)?.id?n.jsx(rn,{className:"h-4 w-4"}):n.jsx(Bd,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Acesso administrativo com permisses completas"})]})]}),n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-xs font-medium",children:"Universal"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-lg transition-colors ${p==="all"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),n.jsx("button",{onClick:()=>v("unused"),className:`px-4 py-2 rounded-lg transition-colors ${p==="unused"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"No Utilizados"}),n.jsx("button",{onClick:()=>v("used"),className:`px-4 py-2 rounded-lg transition-colors ${p==="used"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Utilizados"}),n.jsx("button",{onClick:()=>v("admin"),className:`px-4 py-2 rounded-lg transition-colors ${p==="admin"?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Administradores"}),n.jsx("button",{onClick:()=>v("technician"),className:`px-4 py-2 rounded-lg transition-colors ${p==="technician"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Tcnicos"}),n.jsx("button",{onClick:()=>v("external"),className:`px-4 py-2 rounded-lg transition-colors ${p==="external"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Externos"})]})}),n.jsx("div",{className:"space-y-4",children:y.filter(S=>!S.isUniversal).length>0?y.filter(S=>!S.isUniversal).map((S,E)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.05},className:`bg-white rounded-xl p-6 shadow-md border ${S.isUsed?I(S.expiresAt)?"border-red-200":"border-yellow-200":I(S.expiresAt)?"border-red-200":"border-green-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${S.role==="admin"?"bg-purple-100":S.role==="technician"?"bg-blue-100":"bg-orange-100"}`,children:n.jsx(Lm,{className:`h-6 w-6 ${S.role==="admin"?"text-purple-600":S.role==="technician"?"text-blue-600":"text-orange-600"}`})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mr-2",children:S.code}),n.jsx("button",{onClick:()=>_(S.code,S.id),className:`p-1 rounded-md transition-colors ${h===S.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Copiar cdigo",children:h===S.id?n.jsx(rn,{className:"h-4 w-4"}):n.jsx(Bd,{className:"h-4 w-4"})})]}),n.jsx("p",{className:"text-sm text-gray-600",children:S.role==="admin"?"Administrador":S.role==="technician"?"Tcnico":"Funcionrio Externo"})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:S.isUsed?n.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium",children:"Utilizado"}):I(S.expiresAt)?n.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-800 rounded-full text-xs font-medium",children:"Expirado"}):n.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium",children:"Disponvel"})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(vr,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Criado em:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(S.createdAt)})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(vr,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Expira em:"})]}),n.jsx("p",{className:`text-sm font-medium ${I(S.expiresAt)?"text-red-600":"text-gray-900"}`,children:B(S.expiresAt)})]}),S.isUsed&&S.usedBy&&S.usedAt&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(Cn,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Utilizado por:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:S.usedBy})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[n.jsx(Wt,{className:"h-4 w-4 mr-1 text-gray-400"}),n.jsx("span",{children:"Utilizado em:"})]}),n.jsx("p",{className:"text-sm font-medium text-gray-900",children:B(S.usedAt)})]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[!S.isUsed&&n.jsxs("button",{onClick:()=>C(S.id),className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(di,{className:"h-3 w-3"}),n.jsx("span",{children:"Regenerar"})]}),n.jsxs("button",{onClick:()=>k(S.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors flex items-center space-x-1 text-sm",children:[n.jsx(Yt,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},S.id)):n.jsxs("div",{className:"bg-white rounded-xl p-10 shadow-md border border-gray-100 text-center",children:[n.jsx(Lm,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum cdigo encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos cdigos de acesso com os filtros selecionados."}),n.jsx("button",{onClick:()=>v("all"),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Limpar filtros"})]})}),n.jsx(vt,{children:s&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Novo Cdigo de Acesso"}),n.jsx("button",{onClick:()=>a(!1),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Acesso"}),n.jsxs("select",{value:d.role,onChange:S=>u({...d,role:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"technician",children:"Tcnico"}),n.jsx("option",{value:"external",children:"Funcionrio Externo"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Expirao"}),n.jsx("input",{type:"date",value:d.expiresAt,onChange:S=>u({...d,expiresAt:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:new Date().toISOString().split("T")[0]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[n.jsx(_n,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Informaes de Segurana"})]}),n.jsx("p",{className:"text-sm text-blue-600",children:"O cdigo ser gerado automaticamente e poder ser copiado aps a criao. Compartilhe-o de forma segura com o usurio."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:x,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Gerar Cdigo"})]})]})]})}),n.jsx(vt,{children:i&&l&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{o(!1),c(null)},className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Alterar Cdigo Universal"}),n.jsx("button",{onClick:()=>{o(!1),c(null)},children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Novo Cdigo Universal"}),n.jsx("input",{type:"text",value:l.code,onChange:S=>c({...l,code:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Digite o novo cdigo",maxLength:6,required:!0}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"O cdigo universal deve ter no mximo 6 dgitos"})]}),n.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-yellow-700 mb-2",children:[n.jsx(_n,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Ateno"})]}),n.jsx("p",{className:"text-sm text-yellow-600",children:"Alterar o cdigo universal afetar o acesso de todos os administradores. Certifique-se de comunicar o novo cdigo a todos os usurios relevantes."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>{o(!1),c(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:[n.jsx(hr,{className:"h-4 w-4 mr-2 inline"}),"Salvar Alteraes"]})]})]})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6",children:[n.jsx(_n,{className:"h-16 w-16 text-red-500 mb-4"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acesso Restrito"}),n.jsx("p",{className:"text-gray-600 text-center",children:"Esta rea  restrita a administradores do sistema."})]})},cwe=()=>{const[t,e]=O.useState("monthly"),[r,s]=O.useState(!1),a=[{name:"Bsico",description:"Para pequenos negcios e profissionais autnomos",price:{monthly:0,annual:0},features:["At 50 ordens de servio por ms","At 3 usurios","Gesto bsica de estoque","Catlogo de servios","Relatrios bsicos","Suporte por email"],limitations:["Sem integrao financeira","Sem contratos de manuteno","Sem personalizao visual","Sem acesso offline"],cta:"Comear Grtis",color:"gray"},{name:"Premium",description:"Para empresas em crescimento que precisam de mais recursos",price:{monthly:49.9,annual:44.9},features:["Ordens de servio ilimitadas","At 10 usurios","Gesto avanada de estoque","Catlogo de servios completo","Contratos de manuteno","Integrao financeira","Relatrios avanados","Personalizao visual","Acesso offline","Suporte prioritrio"],limitations:["Sem API personalizada","Sem SLA garantido"],cta:"Assinar Premium",color:"blue",popular:!0},{name:"Enterprise",description:"Para grandes empresas com necessidades complexas",price:{monthly:99.9,annual:89.9},features:["Tudo do plano Premium","Usurios ilimitados","API personalizada","Integraes avanadas","Anlise de dados avanada","Monitoramento em tempo real","Suporte 24/7","Gerente de conta dedicado","SLA garantido","Treinamento personalizado"],cta:"Fale com Vendas",color:"purple"}],i=[{category:"Ordens de Servio",features:[{name:"Criao de OS",basic:!0,premium:!0,enterprise:!0},{name:"Atribuio de tcnicos",basic:!0,premium:!0,enterprise:!0},{name:"Anexo de fotos",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de status",basic:!0,premium:!0,enterprise:!0},{name:"OS ilimitadas",basic:!1,premium:!0,enterprise:!0},{name:"Modelos personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Assinatura digital",basic:!1,premium:!0,enterprise:!0},{name:"Automao de fluxo",basic:!1,premium:!1,enterprise:!0}]},{category:"Clientes",features:[{name:"Cadastro bsico",basic:!0,premium:!0,enterprise:!0},{name:"Histrico de servios",basic:!0,premium:!0,enterprise:!0},{name:"Cadastro PF/PJ",basic:!1,premium:!0,enterprise:!0},{name:"Contratos de manuteno",basic:!1,premium:!0,enterprise:!0},{name:"SLA personalizado",basic:!1,premium:!1,enterprise:!0},{name:"Portal do cliente",basic:!1,premium:!1,enterprise:!0}]},{category:"Estoque",features:[{name:"Controle bsico",basic:!0,premium:!0,enterprise:!0},{name:"Baixa automtica",basic:!1,premium:!0,enterprise:!0},{name:"Alertas de estoque mnimo",basic:!1,premium:!0,enterprise:!0},{name:"Mltiplos depsitos",basic:!1,premium:!1,enterprise:!0},{name:"Gesto de fornecedores",basic:!1,premium:!0,enterprise:!0}]},{category:"Financeiro",features:[{name:"Faturamento bsico",basic:!0,premium:!0,enterprise:!0},{name:"Integrao com OS",basic:!1,premium:!0,enterprise:!0},{name:"Relatrios financeiros",basic:!1,premium:!0,enterprise:!0},{name:"Integrao bancria",basic:!1,premium:!1,enterprise:!0},{name:"Fluxo de caixa avanado",basic:!1,premium:!1,enterprise:!0}]},{category:"Relatrios",features:[{name:"Relatrios bsicos",basic:!0,premium:!0,enterprise:!0},{name:"Exportao PDF/Excel",basic:!1,premium:!0,enterprise:!0},{name:"Dashboards personalizados",basic:!1,premium:!0,enterprise:!0},{name:"Business Intelligence",basic:!1,premium:!1,enterprise:!0},{name:"Anlise preditiva",basic:!1,premium:!1,enterprise:!0}]},{category:"Suporte",features:[{name:"Suporte por email",basic:!0,premium:!0,enterprise:!0},{name:"Suporte prioritrio",basic:!1,premium:!0,enterprise:!0},{name:"Suporte 24/7",basic:!1,premium:!1,enterprise:!0},{name:"Gerente de conta",basic:!1,premium:!1,enterprise:!0},{name:"SLA garantido",basic:!1,premium:!1,enterprise:!0},{name:"Treinamento personalizado",basic:!1,premium:!1,enterprise:!0}]}];return n.jsx("div",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-gray-50 to-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx(he.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 mb-4",children:"Planos e Preos"}),n.jsx(he.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Escolha o plano ideal para o seu negcio e comece a otimizar sua gesto de servios hoje mesmo"}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"mt-8 inline-flex items-center bg-gray-100 p-1 rounded-full",children:[n.jsx("button",{onClick:()=>e("monthly"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="monthly"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Mensal"}),n.jsxs("button",{onClick:()=>e("annual"),className:`px-6 py-2 rounded-full text-sm font-medium transition-colors ${t==="annual"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Anual ",n.jsx("span",{className:"text-green-600 font-bold",children:"-10%"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:a.map((o,l)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4+l*.1,duration:.6},className:`relative rounded-2xl shadow-lg overflow-hidden transition-all duration-300 ${o.popular?"border-2 border-blue-500 transform md:-translate-y-4 hover:shadow-2xl":"border border-gray-200 hover:shadow-xl"}`,children:[o.popular&&n.jsx("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-blue-500 to-purple-500 text-white py-2 text-center text-sm font-bold",children:"MAIS POPULAR"}),n.jsxs("div",{className:`p-8 ${o.popular?"pt-14":"pt-8"}`,children:[n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:o.name}),n.jsx("p",{className:"text-gray-600 mb-6 h-12",children:o.description}),n.jsxs("div",{className:"mb-6",children:[n.jsx("span",{className:"text-4xl font-bold text-gray-900",children:o.price[t]===0?"Grtis":`R$${o.price[t].toFixed(2)}`}),o.price[t]>0&&n.jsxs("span",{className:"text-gray-600 ml-2",children:["/ms",t==="annual"&&", cobrado anualmente"]})]}),n.jsxs("ul",{className:"space-y-3 mb-8",children:[o.features.map((c,d)=>n.jsxs("li",{className:"flex items-start",children:[n.jsx(rn,{className:"h-5 w-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{className:"text-gray-600",children:c})]},d)),o.limitations&&o.limitations.map((c,d)=>n.jsxs("li",{className:"flex items-start text-gray-400",children:[n.jsx(bt,{className:"h-5 w-5 text-gray-300 mr-2 flex-shrink-0 mt-0.5"}),n.jsx("span",{children:c})]},`limit-${d}`))]}),n.jsx("button",{className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 ${o.name==="Bsico"?"bg-gray-900 text-white hover:bg-gray-800":o.name==="Premium"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:shadow-lg transform hover:-translate-y-0.5":"bg-gradient-to-r from-purple-500 to-indigo-500 text-white hover:shadow-lg transform hover:-translate-y-0.5"}`,children:o.cta})]})]},o.name))}),n.jsx("div",{className:"text-center mb-8",children:n.jsxs("button",{onClick:()=>s(!r),className:"inline-flex items-center space-x-2 text-blue-600 font-medium hover:text-blue-800 transition-colors",children:[n.jsx("span",{children:r?"Ocultar comparao detalhada":"Ver comparao detalhada de recursos"}),n.jsx(he.div,{animate:{rotate:r?90:0},transition:{duration:.3},children:n.jsx(Ho,{className:"h-5 w-5"})})]})}),r&&n.jsx(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-16",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50 w-1/3",children:"Recursos"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider bg-gray-50",children:"Bsico"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider bg-blue-50",children:"Premium"}),n.jsx("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider bg-purple-50",children:"Enterprise"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(o=>n.jsxs(ke.Fragment,{children:[n.jsx("tr",{className:"bg-gray-50",children:n.jsx("td",{colSpan:4,className:"px-6 py-4 text-sm font-medium text-gray-900",children:o.category})}),o.features.map((l,c)=>n.jsxs("tr",{className:c%2===0?"bg-white":"bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:l.name}),n.jsx("td",{className:"px-6 py-4 text-center",children:l.basic?n.jsx(rn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(bt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),n.jsx("td",{className:"px-6 py-4 text-center bg-blue-50",children:l.premium?n.jsx(rn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(bt,{className:"h-5 w-5 text-gray-300 mx-auto"})}),n.jsx("td",{className:"px-6 py-4 text-center bg-purple-50",children:l.enterprise?n.jsx(rn,{className:"h-5 w-5 text-green-500 mx-auto"}):n.jsx(bt,{className:"h-5 w-5 text-gray-300 mx-auto"})})]},`${o.category}-${c}`))]},o.category))})]})})}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Recursos Principais"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:Et,title:"Gesto de Ordens de Servio",description:"Crie, acompanhe e gerencie todas as suas ordens de servio em um s lugar.",color:"blue"},{icon:qt,title:"Controle de Estoque",description:"Gerencie seu inventrio com baixa automtica de materiais utilizados nas OS.",color:"green"},{icon:ir,title:"Gesto de Clientes",description:"Cadastro completo de clientes PF e PJ com histrico de servios.",color:"purple"},{icon:vr,title:"Agendamento Inteligente",description:"Organize a agenda dos tcnicos e otimize rotas de atendimento.",color:"orange"},{icon:gr,title:"Integrao Financeira",description:"Faturamento automtico vinculado s ordens de servio concludas.",color:"emerald"},{icon:oi,title:"Relatrios Avanados",description:"Anlise detalhada de desempenho, produtividade e resultados financeiros.",color:"indigo"},{icon:jE,title:"Acesso Mobile",description:"Acesse o sistema de qualquer lugar, mesmo sem conexo com internet.",color:"pink"},{icon:t1,title:"Personalizao Visual",description:"Adapte a interface s cores e identidade visual da sua empresa.",color:"amber"},{icon:TH,title:"Backup Automtico",description:"Seus dados sempre seguros com backup automtico na nuvem.",color:"sky"}].map((o,l)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-300",children:[n.jsx("div",{className:`w-12 h-12 rounded-lg bg-${o.color}-100 flex items-center justify-center mb-4`,children:n.jsx(o.icon,{className:`h-6 w-6 text-${o.color}-600`})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o.title}),n.jsx("p",{className:"text-gray-600",children:o.description})]},o.title))})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Perguntas Frequentes"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[{question:"Posso mudar de plano a qualquer momento?",answer:"Sim, voc pode fazer upgrade ou downgrade do seu plano a qualquer momento. As mudanas entram em vigor imediatamente e o valor  ajustado proporcionalmente."},{question:"Existe perodo de teste?",answer:"Sim, oferecemos 14 dias de teste gratuito para os planos Premium e Enterprise, com acesso a todos os recursos."},{question:"Como funciona o suporte tcnico?",answer:"O plano Bsico inclui suporte por email com tempo de resposta de at 48h. O plano Premium oferece suporte prioritrio com resposta em at 24h. O plano Enterprise inclui suporte 24/7 por email, chat e telefone."},{question:"Preciso instalar algum software?",answer:"No, o GiarTech  uma soluo 100% web, acessvel de qualquer navegador. Tambm oferecemos aplicativos mobile para iOS e Android nos planos Premium e Enterprise."},{question:"Meus dados esto seguros?",answer:"Sim, utilizamos criptografia de ponta a ponta e seguimos as melhores prticas de segurana. Realizamos backups dirios e estamos em conformidade com a LGPD."},{question:"Posso cancelar a qualquer momento?",answer:"Sim, voc pode cancelar sua assinatura a qualquer momento sem taxas adicionais. No caso de planos anuais, oferecemos reembolso proporcional ao perodo no utilizado."}].map((o,l)=>n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:l*.1,duration:.6},viewport:{once:!0},className:"bg-white rounded-xl p-6 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:o.question}),n.jsx("p",{className:"text-gray-600",children:o.answer})]},l))})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-12 text-center text-white",children:[n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Pronto para transformar sua gesto de servios?"}),n.jsx("p",{className:"text-xl text-blue-100 mb-8 max-w-3xl mx-auto",children:"Comece agora mesmo com o plano gratuito ou experimente todos os recursos premium por 14 dias sem compromisso."}),n.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[n.jsx("button",{className:"px-8 py-4 bg-white text-blue-600 font-semibold rounded-xl hover:shadow-lg transition-all duration-200",children:"Comear Gratuitamente"}),n.jsx("button",{className:"px-8 py-4 bg-blue-500 bg-opacity-30 text-white font-semibold rounded-xl hover:bg-opacity-40 hover:shadow-lg transition-all duration-200",children:"Agendar Demonstrao"})]})]}),n.jsxs("div",{className:"mt-16 text-center",children:[n.jsx("p",{className:"text-gray-600 mb-2",children:"Precisa de ajuda para escolher o plano ideal?"}),n.jsxs("p",{className:"text-gray-900 font-medium",children:["Entre em contato: ",n.jsx("a",{href:"tel:1155552560",className:"text-blue-600 hover:text-blue-800",children:"11 5555-2560"})," | ",n.jsx("a",{href:"mailto:contato@giartech.com.br",className:"text-blue-600 hover:text-blue-800",children:"contato@giartech.com.br"})]}),n.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"GiarTech Solues Engenharia da Climatizao | CNPJ: 37.509.897/0001-93"})]})]})})},dwe=({isOpen:t,onClose:e,requiredRole:r})=>{const a=(()=>{switch(r){case"admin":return{title:"Acesso Restrito",description:"Esta funcionalidade est disponvel apenas para administradores do sistema.",icon:_n,color:"red",buttonText:"Entendi"};case"premium":return{title:"Recurso Premium",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Premium.",icon:Lm,color:"blue",buttonText:"Ver Planos"};case"enterprise":return{title:"Recurso Enterprise",description:"Esta funcionalidade est disponvel apenas para assinantes do plano Enterprise.",icon:Fo,color:"purple",buttonText:"Ver Planos"};default:return{title:"Acesso Restrito",description:"Voc no tem permisso para acessar esta funcionalidade.",icon:Un,color:"yellow",buttonText:"Entendi"}}})();return n.jsx(vt,{children:t&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full",children:[n.jsxs("div",{className:`relative bg-${a.color}-600 p-6 text-white rounded-t-xl`,children:[n.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})}),n.jsxs("div",{className:"text-center",children:[n.jsx(he.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center justify-center w-16 h-16 bg-white/20 rounded-full mb-4",children:n.jsx(a.icon,{className:"h-8 w-8 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:a.title}),n.jsx("p",{className:"text-white/80",children:a.description})]})]}),n.jsx("div",{className:"p-6",children:r==="admin"?n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-6",children:"Entre em contato com o administrador do sistema para solicitar acesso a esta funcionalidade."}),n.jsx("button",{onClick:e,className:"px-6 py-3 bg-gray-900 text-white font-semibold rounded-lg hover:bg-gray-800 transition-colors",children:a.buttonText})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600 mb-6",children:"Faa upgrade do seu plano para desbloquear esta e outras funcionalidades avanadas."}),n.jsx(Cl,{to:"/pricing",className:`inline-block px-6 py-3 bg-${a.color}-600 text-white font-semibold rounded-lg hover:bg-${a.color}-700 transition-colors`,children:a.buttonText})]})})]})]})})};function tV(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=tV(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function Ar(){for(var t,e,r=0,s="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=tV(t))&&(s&&(s+=" "),s+=e);return s}var FN,OD;function Ii(){if(OD)return FN;OD=1;var t=Array.isArray;return FN=t,FN}var TN,ID;function rV(){if(ID)return TN;ID=1;var t=typeof Dy=="object"&&Dy&&Dy.Object===Object&&Dy;return TN=t,TN}var ON,DD;function wc(){if(DD)return ON;DD=1;var t=rV(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return ON=r,ON}var IN,MD;function zx(){if(MD)return IN;MD=1;var t=wc(),e=t.Symbol;return IN=e,IN}var DN,LD;function uwe(){if(LD)return DN;LD=1;var t=zx(),e=Object.prototype,r=e.hasOwnProperty,s=e.toString,a=t?t.toStringTag:void 0;function i(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var d=!0}catch{}var u=s.call(o);return d&&(l?o[a]=c:delete o[a]),u}return DN=i,DN}var MN,UD;function hwe(){if(UD)return MN;UD=1;var t=Object.prototype,e=t.toString;function r(s){return e.call(s)}return MN=r,MN}var LN,RD;function Hd(){if(RD)return LN;RD=1;var t=zx(),e=uwe(),r=hwe(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?e(l):r(l)}return LN=o,LN}var UN,QD;function $d(){if(QD)return UN;QD=1;function t(e){return e!=null&&typeof e=="object"}return UN=t,UN}var RN,HD;function Mp(){if(HD)return RN;HD=1;var t=Hd(),e=$d(),r="[object Symbol]";function s(a){return typeof a=="symbol"||e(a)&&t(a)==r}return RN=s,RN}var QN,$D;function ak(){if($D)return QN;$D=1;var t=Ii(),e=Mp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:s.test(i)||!r.test(i)||o!=null&&i in Object(o)}return QN=a,QN}var HN,qD;function jh(){if(qD)return HN;qD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return HN=t,HN}var $N,zD;function ik(){if(zD)return $N;zD=1;var t=Hd(),e=jh(),r="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==s||c==a||c==r||c==i}return $N=o,$N}var qN,VD;function Awe(){if(VD)return qN;VD=1;var t=wc(),e=t["__core-js_shared__"];return qN=e,qN}var zN,KD;function fwe(){if(KD)return zN;KD=1;var t=Awe(),e=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function r(s){return!!e&&e in s}return zN=r,zN}var VN,WD;function nV(){if(WD)return VN;WD=1;var t=Function.prototype,e=t.toString;function r(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return VN=r,VN}var KN,GD;function mwe(){if(GD)return KN;GD=1;var t=ik(),e=fwe(),r=jh(),s=nV(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(f){if(!r(f)||e(f))return!1;var p=t(f)?u:i;return p.test(s(f))}return KN=h,KN}var WN,XD;function pwe(){if(XD)return WN;XD=1;function t(e,r){return e?.[r]}return WN=t,WN}var GN,YD;function uf(){if(YD)return GN;YD=1;var t=mwe(),e=pwe();function r(s,a){var i=e(s,a);return t(i)?i:void 0}return GN=r,GN}var XN,JD;function I1(){if(JD)return XN;JD=1;var t=uf(),e=t(Object,"create");return XN=e,XN}var YN,ZD;function gwe(){if(ZD)return YN;ZD=1;var t=I1();function e(){this.__data__=t?t(null):{},this.size=0}return YN=e,YN}var JN,eM;function xwe(){if(eM)return JN;eM=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return JN=t,JN}var ZN,tM;function ywe(){if(tM)return ZN;tM=1;var t=I1(),e="__lodash_hash_undefined__",r=Object.prototype,s=r.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return s.call(o,i)?o[i]:void 0}return ZN=a,ZN}var e_,rM;function vwe(){if(rM)return e_;rM=1;var t=I1(),e=Object.prototype,r=e.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return e_=s,e_}var t_,nM;function bwe(){if(nM)return t_;nM=1;var t=I1(),e="__lodash_hash_undefined__";function r(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?e:a,this}return t_=r,t_}var r_,sM;function wwe(){if(sM)return r_;sM=1;var t=gwe(),e=xwe(),r=ywe(),s=vwe(),a=bwe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,r_=i,r_}var n_,aM;function jwe(){if(aM)return n_;aM=1;function t(){this.__data__=[],this.size=0}return n_=t,n_}var s_,iM;function ok(){if(iM)return s_;iM=1;function t(e,r){return e===r||e!==e&&r!==r}return s_=t,s_}var a_,oM;function D1(){if(oM)return a_;oM=1;var t=ok();function e(r,s){for(var a=r.length;a--;)if(t(r[a][0],s))return a;return-1}return a_=e,a_}var i_,lM;function Nwe(){if(lM)return i_;lM=1;var t=D1(),e=Array.prototype,r=e.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return i_=s,i_}var o_,cM;function _we(){if(cM)return o_;cM=1;var t=D1();function e(r){var s=this.__data__,a=t(s,r);return a<0?void 0:s[a][1]}return o_=e,o_}var l_,dM;function Cwe(){if(dM)return l_;dM=1;var t=D1();function e(r){return t(this.__data__,r)>-1}return l_=e,l_}var c_,uM;function Swe(){if(uM)return c_;uM=1;var t=D1();function e(r,s){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,s])):a[i][1]=s,this}return c_=e,c_}var d_,hM;function M1(){if(hM)return d_;hM=1;var t=jwe(),e=Nwe(),r=_we(),s=Cwe(),a=Swe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,d_=i,d_}var u_,AM;function lk(){if(AM)return u_;AM=1;var t=uf(),e=wc(),r=t(e,"Map");return u_=r,u_}var h_,fM;function Bwe(){if(fM)return h_;fM=1;var t=wwe(),e=M1(),r=lk();function s(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return h_=s,h_}var A_,mM;function Ewe(){if(mM)return A_;mM=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return A_=t,A_}var f_,pM;function L1(){if(pM)return f_;pM=1;var t=Ewe();function e(r,s){var a=r.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return f_=e,f_}var m_,gM;function kwe(){if(gM)return m_;gM=1;var t=L1();function e(r){var s=t(this,r).delete(r);return this.size-=s?1:0,s}return m_=e,m_}var p_,xM;function Pwe(){if(xM)return p_;xM=1;var t=L1();function e(r){return t(this,r).get(r)}return p_=e,p_}var g_,yM;function Fwe(){if(yM)return g_;yM=1;var t=L1();function e(r){return t(this,r).has(r)}return g_=e,g_}var x_,vM;function Twe(){if(vM)return x_;vM=1;var t=L1();function e(r,s){var a=t(this,r),i=a.size;return a.set(r,s),this.size+=a.size==i?0:1,this}return x_=e,x_}var y_,bM;function ck(){if(bM)return y_;bM=1;var t=Bwe(),e=kwe(),r=Pwe(),s=Fwe(),a=Twe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=s,i.prototype.set=a,y_=i,y_}var v_,wM;function sV(){if(wM)return v_;wM=1;var t=ck(),e="Expected a function";function r(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=s.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,v_=r,v_}var b_,jM;function Owe(){if(jM)return b_;jM=1;var t=sV(),e=500;function r(s){var a=t(s,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return b_=r,b_}var w_,NM;function Iwe(){if(NM)return w_;NM=1;var t=Owe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return w_=s,w_}var j_,_M;function dk(){if(_M)return j_;_M=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=Array(a);++s<a;)i[s]=r(e[s],s,e);return i}return j_=t,j_}var N_,CM;function Dwe(){if(CM)return N_;CM=1;var t=zx(),e=dk(),r=Ii(),s=Mp(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return N_=o,N_}var __,SM;function aV(){if(SM)return __;SM=1;var t=Dwe();function e(r){return r==null?"":t(r)}return __=e,__}var C_,BM;function iV(){if(BM)return C_;BM=1;var t=Ii(),e=ak(),r=Iwe(),s=aV();function a(i,o){return t(i)?i:e(i,o)?[i]:r(s(i))}return C_=a,C_}var S_,EM;function U1(){if(EM)return S_;EM=1;var t=Mp();function e(r){if(typeof r=="string"||t(r))return r;var s=r+"";return s=="0"&&1/r==-1/0?"-0":s}return S_=e,S_}var B_,kM;function uk(){if(kM)return B_;kM=1;var t=iV(),e=U1();function r(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[e(a[i++])];return i&&i==o?s:void 0}return B_=r,B_}var E_,PM;function oV(){if(PM)return E_;PM=1;var t=uk();function e(r,s,a){var i=r==null?void 0:t(r,s);return i===void 0?a:i}return E_=e,E_}var Mwe=oV();const so=Dr(Mwe);var k_,FM;function Lwe(){if(FM)return k_;FM=1;function t(e){return e==null}return k_=t,k_}var Uwe=Lwe();const mr=Dr(Uwe);var P_,TM;function Rwe(){if(TM)return P_;TM=1;var t=Hd(),e=Ii(),r=$d(),s="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==s}return P_=a,P_}var Qwe=Rwe();const XA=Dr(Qwe);var Hwe=ik();const ar=Dr(Hwe);var $we=jh();const Lp=Dr($we);var F_={exports:{}},Rr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM;function qwe(){if(OM)return Rr;OM=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function y(g){if(typeof g=="object"&&g!==null){var x=g.$$typeof;switch(x){case t:switch(g=g.type,g){case r:case a:case s:case d:case u:return g;default:switch(g=g&&g.$$typeof,g){case l:case o:case c:case f:case h:case i:return g;default:return x}}case e:return x}}}return Rr.ContextConsumer=o,Rr.ContextProvider=i,Rr.Element=t,Rr.ForwardRef=c,Rr.Fragment=r,Rr.Lazy=f,Rr.Memo=h,Rr.Portal=e,Rr.Profiler=a,Rr.StrictMode=s,Rr.Suspense=d,Rr.SuspenseList=u,Rr.isAsyncMode=function(){return!1},Rr.isConcurrentMode=function(){return!1},Rr.isContextConsumer=function(g){return y(g)===o},Rr.isContextProvider=function(g){return y(g)===i},Rr.isElement=function(g){return typeof g=="object"&&g!==null&&g.$$typeof===t},Rr.isForwardRef=function(g){return y(g)===c},Rr.isFragment=function(g){return y(g)===r},Rr.isLazy=function(g){return y(g)===f},Rr.isMemo=function(g){return y(g)===h},Rr.isPortal=function(g){return y(g)===e},Rr.isProfiler=function(g){return y(g)===a},Rr.isStrictMode=function(g){return y(g)===s},Rr.isSuspense=function(g){return y(g)===d},Rr.isSuspenseList=function(g){return y(g)===u},Rr.isValidElementType=function(g){return typeof g=="string"||typeof g=="function"||g===r||g===a||g===s||g===d||g===u||g===p||typeof g=="object"&&g!==null&&(g.$$typeof===f||g.$$typeof===h||g.$$typeof===i||g.$$typeof===o||g.$$typeof===c||g.$$typeof===v||g.getModuleId!==void 0)},Rr.typeOf=y,Rr}var IM;function zwe(){return IM||(IM=1,F_.exports=qwe()),F_.exports}var Vwe=zwe(),T_,DM;function lV(){if(DM)return T_;DM=1;var t=Hd(),e=$d(),r="[object Number]";function s(a){return typeof a=="number"||e(a)&&t(a)==r}return T_=s,T_}var O_,MM;function Kwe(){if(MM)return O_;MM=1;var t=lV();function e(r){return t(r)&&r!=+r}return O_=e,O_}var Wwe=Kwe();const Vx=Dr(Wwe);var Gwe=lV();const Xwe=Dr(Gwe);var si=function(e){return e===0?0:e>0?1:-1},TA=function(e){return XA(e)&&e.indexOf("%")===e.length-1},mt=function(e){return Xwe(e)&&!Vx(e)},Ywe=function(e){return mr(e)},Fs=function(e){return mt(e)||XA(e)},Jwe=0,Kx=function(e){var r=++Jwe;return"".concat(e||"").concat(r)},ai=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(e)&&!XA(e))return s;var i;if(TA(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Vx(i)&&(i=s),a&&i>r&&(i=r),i},Gu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Zwe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,s={},a=0;a<r;a++)if(!s[e[a]])s[e[a]]=!0;else return!0;return!1},Vu=function(e,r){return mt(e)&&mt(r)?function(s){return e+s*(r-e)}:function(){return r}};function AB(t,e,r){return!t||!t.length?null:t.find(function(s){return s&&(typeof e=="function"?e(s):so(s,e))===r})}var e1e=function(e,r){return mt(e)&&mt(r)?e-r:XA(e)&&XA(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Xm(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var s in e)if({}.hasOwnProperty.call(e,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function fB(t){"@babel/helpers - typeof";return fB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fB(t)}var t1e=["viewBox","children"],r1e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LM=["points","pathLength"],I_={svg:t1e,polygon:LM,polyline:LM},hk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(O.isValidElement(e)&&(s=e.props),!Lp(s))return null;var a={};return Object.keys(s).forEach(function(i){hk.includes(i)&&(a[i]=r||function(o){return s[i](s,o)})}),a},n1e=function(e,r,s){return function(a){return e(r,s,a),null}},YA=function(e,r,s){if(!Lp(e)||fB(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];hk.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=n1e(o,r,s))}),a},s1e=["children"],a1e=["children"];function UM(t,e){if(t==null)return{};var r=i1e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function i1e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var RM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},jd=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},QM=null,D_=null,Ak=function t(e){if(e===QM&&Array.isArray(D_))return D_;var r=[];return O.Children.forEach(e,function(s){mr(s)||(Vwe.isFragment(s)?r=r.concat(t(s.props.children)):r.push(s))}),D_=r,QM=e,r};function Qo(t,e){var r=[],s=[];return Array.isArray(e)?s=e.map(function(a){return jd(a)}):s=[jd(e)],Ak(t).forEach(function(a){var i=so(a,"type.displayName")||so(a,"type.name");s.indexOf(i)!==-1&&r.push(a)}),r}function Zi(t,e){var r=Qo(t,e);return r&&r[0]}var HM=function(e){if(!e||!e.props)return!1;var r=e.props,s=r.width,a=r.height;return!(!mt(s)||s<=0||!mt(a)||a<=0)},o1e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],l1e=function(e){return e&&e.type&&XA(e.type)&&o1e.indexOf(e.type)>=0},c1e=function(e,r,s,a){var i,o=(i=I_?.[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ar(e)&&(a&&o.includes(r)||r1e.includes(r))||s&&hk.includes(r)},er=function(e,r,s){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(O.isValidElement(e)&&(a=e.props),!Lp(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;c1e((l=a)===null||l===void 0?void 0:l[o],o,r,s)&&(i[o]=a[o])}),i},mB=function t(e,r){if(e===r)return!0;var s=O.Children.count(e);if(s!==O.Children.count(r))return!1;if(s===0)return!0;if(s===1)return $M(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<s;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!$M(i,o))return!1}return!0},$M=function(e,r){if(mr(e)&&mr(r))return!0;if(!mr(e)&&!mr(r)){var s=e.props||{},a=s.children,i=UM(s,s1e),o=r.props||{},l=o.children,c=UM(o,a1e);return a&&l?Xm(i,c)&&mB(a,l):!a&&!l?Xm(i,c):!1}return!1},qM=function(e,r){var s=[],a={};return Ak(e).forEach(function(i,o){if(l1e(i))s.push(i);else if(i){var l=jd(i.type),c=r[l]||{},d=c.handler,u=c.once;if(d&&(!u||!a[l])){var h=d(i,l,o);s.push(h),a[l]=!0}}}),s},d1e=function(e){var r=e&&e.type;return r&&RM[r]?RM[r]:null},u1e=function(e,r){return Ak(r).indexOf(e)},h1e=["children","width","height","viewBox","className","style","title","desc"];function pB(){return pB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},pB.apply(this,arguments)}function A1e(t,e){if(t==null)return{};var r=f1e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function f1e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function gB(t){var e=t.children,r=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=A1e(t,h1e),u=a||{width:r,height:s,x:0,y:0},h=Ar("recharts-surface",i);return ke.createElement("svg",pB({},er(d,!0,"svg"),{className:h,width:r,height:s,style:o,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ke.createElement("title",null,l),ke.createElement("desc",null,c),e)}var m1e=["children","className"];function xB(){return xB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},xB.apply(this,arguments)}function p1e(t,e){if(t==null)return{};var r=g1e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function g1e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var Xr=ke.forwardRef(function(t,e){var r=t.children,s=t.className,a=p1e(t,m1e),i=Ar("recharts-layer",s);return ke.createElement("g",xB({className:i},er(a,!0),{ref:e}),r)}),_l=function(e,r){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},M_,zM;function x1e(){if(zM)return M_;zM=1;function t(e,r,s){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),s=s>i?i:s,s<0&&(s+=i),i=r>s?0:s-r>>>0,r>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+r];return o}return M_=t,M_}var L_,VM;function y1e(){if(VM)return L_;VM=1;var t=x1e();function e(r,s,a){var i=r.length;return a=a===void 0?i:a,!s&&a>=i?r:t(r,s,a)}return L_=e,L_}var U_,KM;function cV(){if(KM)return U_;KM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(d){return l.test(d)}return U_=c,U_}var R_,WM;function v1e(){if(WM)return R_;WM=1;function t(e){return e.split("")}return R_=t,R_}var Q_,GM;function b1e(){if(GM)return Q_;GM=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=e+r+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",u="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=d+"?",y="["+i+"]?",g="(?:"+p+"(?:"+[u,h,f].join("|")+")"+y+v+")*",x=y+v+g,w="(?:"+[u+l+"?",l,h,f,o].join("|")+")",_=RegExp(c+"(?="+c+")|"+w+x,"g");function k(C){return C.match(_)||[]}return Q_=k,Q_}var H_,XM;function w1e(){if(XM)return H_;XM=1;var t=v1e(),e=cV(),r=b1e();function s(a){return e(a)?r(a):t(a)}return H_=s,H_}var $_,YM;function j1e(){if(YM)return $_;YM=1;var t=y1e(),e=cV(),r=w1e(),s=aV();function a(i){return function(o){o=s(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return $_=a,$_}var q_,JM;function N1e(){if(JM)return q_;JM=1;var t=j1e(),e=t("toUpperCase");return q_=e,q_}var _1e=N1e();const R1=Dr(_1e);function cn(t){return function(){return t}}const dV=Math.cos,Zb=Math.sin,kl=Math.sqrt,ew=Math.PI,Q1=2*ew,yB=Math.PI,vB=2*yB,vA=1e-6,C1e=vB-vA;function uV(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function S1e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uV;const r=10**e;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+s[a]}}class B1e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uV:S1e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,s,a){this._append`Q${+e},${+r},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(e,r,s,a,i,o){this._append`C${+e},${+r},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,s,a,i){if(e=+e,r=+r,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-e,d=a-r,u=o-e,h=l-r,f=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>vA)if(!(Math.abs(h*c-d*u)>vA)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let p=s-o,v=a-l,y=c*c+d*d,g=p*p+v*v,x=Math.sqrt(y),w=Math.sqrt(f),_=i*Math.tan((yB-Math.acos((y+f-g)/(2*x*w)))/2),k=_/w,C=_/x;Math.abs(k-1)>vA&&this._append`L${e+k*u},${r+k*h}`,this._append`A${i},${i},0,0,${+(h*p>u*v)},${this._x1=e+C*c},${this._y1=r+C*d}`}}arc(e,r,s,a,i,o){if(e=+e,r=+r,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),d=e+l,u=r+c,h=1^o,f=o?a-i:i-a;this._x1===null?this._append`M${d},${u}`:(Math.abs(this._x1-d)>vA||Math.abs(this._y1-u)>vA)&&this._append`L${d},${u}`,s&&(f<0&&(f=f%vB+vB),f>C1e?this._append`A${s},${s},0,1,${h},${e-l},${r-c}A${s},${s},0,1,${h},${this._x1=d},${this._y1=u}`:f>vA&&this._append`A${s},${s},0,${+(f>=yB)},${h},${this._x1=e+s*Math.cos(i)},${this._y1=r+s*Math.sin(i)}`)}rect(e,r,s,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function fk(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const s=Math.floor(r);if(!(s>=0))throw new RangeError(`invalid digits: ${r}`);e=s}return t},()=>new B1e(e)}function mk(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hV(t){this._context=t}hV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function H1(t){return new hV(t)}function AV(t){return t[0]}function fV(t){return t[1]}function mV(t,e){var r=cn(!0),s=null,a=H1,i=null,o=fk(l);t=typeof t=="function"?t:t===void 0?AV:cn(t),e=typeof e=="function"?e:e===void 0?fV:cn(e);function l(c){var d,u=(c=mk(c)).length,h,f=!1,p;for(s==null&&(i=a(p=o())),d=0;d<=u;++d)!(d<u&&r(h=c[d],d,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+t(h,d,c),+e(h,d,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:cn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:cn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:cn(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function Dv(t,e,r){var s=null,a=cn(!0),i=null,o=H1,l=null,c=fk(d);t=typeof t=="function"?t:t===void 0?AV:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?fV:cn(+r);function d(h){var f,p,v,y=(h=mk(h)).length,g,x=!1,w,_=new Array(y),k=new Array(y);for(i==null&&(l=o(w=c())),f=0;f<=y;++f){if(!(f<y&&a(g=h[f],f,h))===x)if(x=!x)p=f,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=f-1;v>=p;--v)l.point(_[v],k[v]);l.lineEnd(),l.areaEnd()}x&&(_[f]=+t(g,f,h),k[f]=+e(g,f,h),l.point(s?+s(g,f,h):_[f],r?+r(g,f,h):k[f]))}if(w)return l=null,w+""||null}function u(){return mV().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),s=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:cn(+h),d):t},d.x1=function(h){return arguments.length?(s=h==null?null:typeof h=="function"?h:cn(+h),d):s},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),r=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:cn(+h),d):e},d.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:cn(+h),d):r},d.lineX0=d.lineY0=function(){return u().x(t).y(e)},d.lineY1=function(){return u().x(t).y(r)},d.lineX1=function(){return u().x(s).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:cn(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(l=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=l=null:l=o(i=h),d):i},d}class pV{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function E1e(t){return new pV(t,!0)}function k1e(t){return new pV(t,!1)}const pk={draw(t,e){const r=kl(e/ew);t.moveTo(r,0),t.arc(0,0,r,0,Q1)}},P1e={draw(t,e){const r=kl(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},gV=kl(1/3),F1e=gV*2,T1e={draw(t,e){const r=kl(e/F1e),s=r*gV;t.moveTo(0,-r),t.lineTo(s,0),t.lineTo(0,r),t.lineTo(-s,0),t.closePath()}},O1e={draw(t,e){const r=kl(e),s=-r/2;t.rect(s,s,r,r)}},I1e=.8908130915292852,xV=Zb(ew/10)/Zb(7*ew/10),D1e=Zb(Q1/10)*xV,M1e=-dV(Q1/10)*xV,L1e={draw(t,e){const r=kl(e*I1e),s=D1e*r,a=M1e*r;t.moveTo(0,-r),t.lineTo(s,a);for(let i=1;i<5;++i){const o=Q1*i/5,l=dV(o),c=Zb(o);t.lineTo(c*r,-l*r),t.lineTo(l*s-c*a,c*s+l*a)}t.closePath()}},z_=kl(3),U1e={draw(t,e){const r=-kl(e/(z_*3));t.moveTo(0,r*2),t.lineTo(-z_*r,-r),t.lineTo(z_*r,-r),t.closePath()}},_o=-.5,Co=kl(3)/2,bB=1/kl(12),R1e=(bB/2+1)*3,Q1e={draw(t,e){const r=kl(e/R1e),s=r/2,a=r*bB,i=s,o=r*bB+r,l=-i,c=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(_o*s-Co*a,Co*s+_o*a),t.lineTo(_o*i-Co*o,Co*i+_o*o),t.lineTo(_o*l-Co*c,Co*l+_o*c),t.lineTo(_o*s+Co*a,_o*a-Co*s),t.lineTo(_o*i+Co*o,_o*o-Co*i),t.lineTo(_o*l+Co*c,_o*c-Co*l),t.closePath()}};function H1e(t,e){let r=null,s=fk(a);t=typeof t=="function"?t:cn(t||pk),e=typeof e=="function"?e:cn(e===void 0?64:+e);function a(){let i;if(r||(r=i=s()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:cn(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:cn(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function tw(){}function rw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function yV(t){this._context=t}yV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $1e(t){return new yV(t)}function vV(t){this._context=t}vV.prototype={areaStart:tw,areaEnd:tw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function q1e(t){return new vV(t)}function bV(t){this._context=t}bV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,s):this._context.moveTo(r,s);break;case 3:this._point=4;default:rw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function z1e(t){return new bV(t)}function wV(t){this._context=t}wV.prototype={areaStart:tw,areaEnd:tw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function V1e(t){return new wV(t)}function ZM(t){return t<0?-1:1}function eL(t,e,r){var s=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(r-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(ZM(i)+ZM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function tL(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function V_(t,e,r){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*e,i-l,o-l*r,i,o)}function nw(t){this._context=t}nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:V_(this,this._t0,tL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,V_(this,tL(this,r=eL(this,t,e)),r);break;default:V_(this,this._t0,r=eL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function jV(t){this._context=new NV(t)}(jV.prototype=Object.create(nw.prototype)).point=function(t,e){nw.prototype.point.call(this,e,t)};function NV(t){this._context=t}NV.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,s,a,i){this._context.bezierCurveTo(e,t,s,r,i,a)}};function K1e(t){return new nw(t)}function W1e(t){return new jV(t)}function _V(t){this._context=t}_V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var s=rL(t),a=rL(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rL(t){var e,r=t.length-1,s,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)s=a[e]/i[e-1],i[e]-=s,o[e]-=s*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function G1e(t){return new _V(t)}function $1(t,e){this._context=t,this._t=e}$1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function X1e(t){return new $1(t,.5)}function Y1e(t){return new $1(t,0)}function J1e(t){return new $1(t,1)}function ap(t,e){if((o=t.length)>1)for(var r=1,s,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function wB(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Z1e(t,e){return t[e]}function e2e(t){const e=[];return e.key=t,e}function t2e(){var t=cn([]),e=wB,r=ap,s=Z1e;function a(i){var o=Array.from(t.apply(this,arguments),e2e),l,c=o.length,d=-1,u;for(const h of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+s(h,o[l].key,d,i)]).data=h;for(l=0,u=mk(e(o));l<c;++l)o[u[l]].index=l;return r(o,u),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:cn(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:cn(+i),a):s},a.order=function(i){return arguments.length?(e=i==null?wB:typeof i=="function"?i:cn(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??ap,a):r},a}function r2e(t,e){if((s=t.length)>0){for(var r,s,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<s;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<s;++r)t[r][a][1]/=o}ap(t,e)}}function n2e(t,e){if((a=t.length)>0){for(var r=0,s=t[e[0]],a,i=s.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;s[r][1]+=s[r][0]=-l/2}ap(t,e)}}function s2e(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,d=0;l<o;++l){for(var u=t[e[l]],h=u[s][1]||0,f=u[s-1][1]||0,p=(h-f)/2,v=0;v<l;++v){var y=t[e[v]],g=y[s][1]||0,x=y[s-1][1]||0;p+=g-x}c+=h,d+=p*h}a[s-1][1]+=a[s-1][0]=r,c&&(r-=d/c)}a[s-1][1]+=a[s-1][0]=r,ap(t,e)}}function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}var a2e=["type","size","sizeType"];function jB(){return jB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},jB.apply(this,arguments)}function nL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function sL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(r),!0).forEach(function(s){i2e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function i2e(t,e,r){return e=o2e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o2e(t){var e=l2e(t,"string");return Z0(e)=="symbol"?e:e+""}function l2e(t,e){if(Z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Z0(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c2e(t,e){if(t==null)return{};var r=d2e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function d2e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var CV={symbolCircle:pk,symbolCross:P1e,symbolDiamond:T1e,symbolSquare:O1e,symbolStar:L1e,symbolTriangle:U1e,symbolWye:Q1e},u2e=Math.PI/180,h2e=function(e){var r="symbol".concat(R1(e));return CV[r]||pk},A2e=function(e,r,s){if(r==="area")return e;switch(s){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*u2e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f2e=function(e,r){CV["symbol".concat(R1(e))]=r},gk=function(e){var r=e.type,s=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=c2e(e,a2e),d=sL(sL({},c),{},{type:s,size:i,sizeType:l}),u=function(){var g=h2e(s),x=H1e().type(g).size(A2e(i,l,s));return x()},h=d.className,f=d.cx,p=d.cy,v=er(d,!0);return f===+f&&p===+p&&i===+i?ke.createElement("path",jB({},v,{className:Ar("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:u()})):null};gk.registerSymbol=f2e;function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function NB(){return NB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},NB.apply(this,arguments)}function aL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function m2e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(r),!0).forEach(function(s){ex(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function p2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g2e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,BV(s.key),s)}}function x2e(t,e,r){return e&&g2e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function y2e(t,e,r){return e=sw(e),v2e(t,SV()?Reflect.construct(e,r||[],sw(t).constructor):e.apply(t,r))}function v2e(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b2e(t)}function b2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SV=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}function w2e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_B(t,e)}function _B(t,e){return _B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},_B(t,e)}function ex(t,e,r){return e=BV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BV(t){var e=j2e(t,"string");return ip(e)=="symbol"?e:e+""}function j2e(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ip(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var So=32,xk=(function(t){function e(){return p2e(this,e),y2e(this,e,arguments)}return w2e(e,t),x2e(e,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=So/2,o=So/6,l=So/3,c=s.inactive?a:s.color;if(s.type==="plainline")return ke.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:So,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return ke.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(So,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return ke.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(So/8,"h").concat(So,"v").concat(So*3/4,"h").concat(-So,"z"),className:"recharts-legend-icon"});if(ke.isValidElement(s.legendIcon)){var d=m2e({},s);return delete d.legendIcon,ke.cloneElement(s.legendIcon,d)}return ke.createElement(gk,{fill:c,cx:i,cy:i,size:So,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,d=a.inactiveColor,u={x:0,y:0,width:So,height:So},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var y=p.formatter||c,g=Ar(ex(ex({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=ar(p.value)?null:p.value;_l(!ar(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?d:p.color;return ke.createElement("li",NB({className:g,style:h,key:"legend-item-".concat(v)},YA(s.props,p,v)),ke.createElement(gB,{width:o,height:o,viewBox:u,style:f},s.renderIcon(p)),ke.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,p,v):x))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ke.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(O.PureComponent);ex(xk,"displayName","Legend");ex(xk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var K_,iL;function N2e(){if(iL)return K_;iL=1;var t=M1();function e(){this.__data__=new t,this.size=0}return K_=e,K_}var W_,oL;function _2e(){if(oL)return W_;oL=1;function t(e){var r=this.__data__,s=r.delete(e);return this.size=r.size,s}return W_=t,W_}var G_,lL;function C2e(){if(lL)return G_;lL=1;function t(e){return this.__data__.get(e)}return G_=t,G_}var X_,cL;function S2e(){if(cL)return X_;cL=1;function t(e){return this.__data__.has(e)}return X_=t,X_}var Y_,dL;function B2e(){if(dL)return Y_;dL=1;var t=M1(),e=lk(),r=ck(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return Y_=a,Y_}var J_,uL;function EV(){if(uL)return J_;uL=1;var t=M1(),e=N2e(),r=_2e(),s=C2e(),a=S2e(),i=B2e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,J_=o,J_}var Z_,hL;function E2e(){if(hL)return Z_;hL=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Z_=e,Z_}var e5,AL;function k2e(){if(AL)return e5;AL=1;function t(e){return this.__data__.has(e)}return e5=t,e5}var t5,fL;function kV(){if(fL)return t5;fL=1;var t=ck(),e=E2e(),r=k2e();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=e,s.prototype.has=r,t5=s,t5}var r5,mL;function PV(){if(mL)return r5;mL=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(r(e[s],s,e))return!0;return!1}return r5=t,r5}var n5,pL;function FV(){if(pL)return n5;pL=1;function t(e,r){return e.has(r)}return n5=t,n5}var s5,gL;function TV(){if(gL)return s5;gL=1;var t=kV(),e=PV(),r=FV(),s=1,a=2;function i(o,l,c,d,u,h){var f=c&s,p=o.length,v=l.length;if(p!=v&&!(f&&v>p))return!1;var y=h.get(o),g=h.get(l);if(y&&g)return y==l&&g==o;var x=-1,w=!0,_=c&a?new t:void 0;for(h.set(o,l),h.set(l,o);++x<p;){var k=o[x],C=l[x];if(d)var B=f?d(C,k,x,l,o,h):d(k,C,x,o,l,h);if(B!==void 0){if(B)continue;w=!1;break}if(_){if(!e(l,function(I,S){if(!r(_,S)&&(k===I||u(k,I,c,d,h)))return _.push(S)})){w=!1;break}}else if(!(k===C||u(k,C,c,d,h))){w=!1;break}}return h.delete(o),h.delete(l),w}return s5=i,s5}var a5,xL;function P2e(){if(xL)return a5;xL=1;var t=wc(),e=t.Uint8Array;return a5=e,a5}var i5,yL;function F2e(){if(yL)return i5;yL=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a,i){s[++r]=[i,a]}),s}return i5=t,i5}var o5,vL;function yk(){if(vL)return o5;vL=1;function t(e){var r=-1,s=Array(e.size);return e.forEach(function(a){s[++r]=a}),s}return o5=t,o5}var l5,bL;function T2e(){if(bL)return l5;bL=1;var t=zx(),e=P2e(),r=ok(),s=TV(),a=F2e(),i=yk(),o=1,l=2,c="[object Boolean]",d="[object Date]",u="[object Error]",h="[object Map]",f="[object Number]",p="[object RegExp]",v="[object Set]",y="[object String]",g="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_=t?t.prototype:void 0,k=_?_.valueOf:void 0;function C(B,I,S,E,D,N,T){switch(S){case w:if(B.byteLength!=I.byteLength||B.byteOffset!=I.byteOffset)return!1;B=B.buffer,I=I.buffer;case x:return!(B.byteLength!=I.byteLength||!N(new e(B),new e(I)));case c:case d:case f:return r(+B,+I);case u:return B.name==I.name&&B.message==I.message;case p:case y:return B==I+"";case h:var Q=a;case v:var U=E&o;if(Q||(Q=i),B.size!=I.size&&!U)return!1;var K=T.get(B);if(K)return K==I;E|=l,T.set(B,I);var z=s(Q(B),Q(I),E,D,N,T);return T.delete(B),z;case g:if(k)return k.call(B)==k.call(I)}return!1}return l5=C,l5}var c5,wL;function OV(){if(wL)return c5;wL=1;function t(e,r){for(var s=-1,a=r.length,i=e.length;++s<a;)e[i+s]=r[s];return e}return c5=t,c5}var d5,jL;function O2e(){if(jL)return d5;jL=1;var t=OV(),e=Ii();function r(s,a,i){var o=a(s);return e(s)?o:t(o,i(s))}return d5=r,d5}var u5,NL;function I2e(){if(NL)return u5;NL=1;function t(e,r){for(var s=-1,a=e==null?0:e.length,i=0,o=[];++s<a;){var l=e[s];r(l,s,e)&&(o[i++]=l)}return o}return u5=t,u5}var h5,_L;function D2e(){if(_L)return h5;_L=1;function t(){return[]}return h5=t,h5}var A5,CL;function M2e(){if(CL)return A5;CL=1;var t=I2e(),e=D2e(),r=Object.prototype,s=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:e;return A5=i,A5}var f5,SL;function L2e(){if(SL)return f5;SL=1;function t(e,r){for(var s=-1,a=Array(e);++s<e;)a[s]=r(s);return a}return f5=t,f5}var m5,BL;function U2e(){if(BL)return m5;BL=1;var t=Hd(),e=$d(),r="[object Arguments]";function s(a){return e(a)&&t(a)==r}return m5=s,m5}var p5,EL;function vk(){if(EL)return p5;EL=1;var t=U2e(),e=$d(),r=Object.prototype,s=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return p5=i,p5}var Wg={exports:{}},g5,kL;function R2e(){if(kL)return g5;kL=1;function t(){return!1}return g5=t,g5}Wg.exports;var PL;function IV(){return PL||(PL=1,(function(t,e){var r=wc(),s=R2e(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||s;t.exports=d})(Wg,Wg.exports)),Wg.exports}var x5,FL;function bk(){if(FL)return x5;FL=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<a}return x5=r,x5}var y5,TL;function wk(){if(TL)return y5;TL=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return y5=e,y5}var v5,OL;function Q2e(){if(OL)return v5;OL=1;var t=Hd(),e=wk(),r=$d(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",f="[object RegExp]",p="[object Set]",v="[object String]",y="[object WeakMap]",g="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",B="[object Int32Array]",I="[object Uint8Array]",S="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]",N={};N[w]=N[_]=N[k]=N[C]=N[B]=N[I]=N[S]=N[E]=N[D]=!0,N[s]=N[a]=N[g]=N[i]=N[x]=N[o]=N[l]=N[c]=N[d]=N[u]=N[h]=N[f]=N[p]=N[v]=N[y]=!1;function T(Q){return r(Q)&&e(Q.length)&&!!N[t(Q)]}return v5=T,v5}var b5,IL;function DV(){if(IL)return b5;IL=1;function t(e){return function(r){return e(r)}}return b5=t,b5}var Gg={exports:{}};Gg.exports;var DL;function H2e(){return DL||(DL=1,(function(t,e){var r=rV(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Gg,Gg.exports)),Gg.exports}var w5,ML;function MV(){if(ML)return w5;ML=1;var t=Q2e(),e=DV(),r=H2e(),s=r&&r.isTypedArray,a=s?e(s):t;return w5=a,w5}var j5,LL;function $2e(){if(LL)return j5;LL=1;var t=L2e(),e=vk(),r=Ii(),s=IV(),a=bk(),i=MV(),o=Object.prototype,l=o.hasOwnProperty;function c(d,u){var h=r(d),f=!h&&e(d),p=!h&&!f&&s(d),v=!h&&!f&&!p&&i(d),y=h||f||p||v,g=y?t(d.length,String):[],x=g.length;for(var w in d)(u||l.call(d,w))&&!(y&&(w=="length"||p&&(w=="offset"||w=="parent")||v&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,x)))&&g.push(w);return g}return j5=c,j5}var N5,UL;function q2e(){if(UL)return N5;UL=1;var t=Object.prototype;function e(r){var s=r&&r.constructor,a=typeof s=="function"&&s.prototype||t;return r===a}return N5=e,N5}var _5,RL;function LV(){if(RL)return _5;RL=1;function t(e,r){return function(s){return e(r(s))}}return _5=t,_5}var C5,QL;function z2e(){if(QL)return C5;QL=1;var t=LV(),e=t(Object.keys,Object);return C5=e,C5}var S5,HL;function V2e(){if(HL)return S5;HL=1;var t=q2e(),e=z2e(),r=Object.prototype,s=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return S5=a,S5}var B5,$L;function Wx(){if($L)return B5;$L=1;var t=ik(),e=wk();function r(s){return s!=null&&e(s.length)&&!t(s)}return B5=r,B5}var E5,qL;function q1(){if(qL)return E5;qL=1;var t=$2e(),e=V2e(),r=Wx();function s(a){return r(a)?t(a):e(a)}return E5=s,E5}var k5,zL;function K2e(){if(zL)return k5;zL=1;var t=O2e(),e=M2e(),r=q1();function s(a){return t(a,r,e)}return k5=s,k5}var P5,VL;function W2e(){if(VL)return P5;VL=1;var t=K2e(),e=1,r=Object.prototype,s=r.hasOwnProperty;function a(i,o,l,c,d,u){var h=l&e,f=t(i),p=f.length,v=t(o),y=v.length;if(p!=y&&!h)return!1;for(var g=p;g--;){var x=f[g];if(!(h?x in o:s.call(o,x)))return!1}var w=u.get(i),_=u.get(o);if(w&&_)return w==o&&_==i;var k=!0;u.set(i,o),u.set(o,i);for(var C=h;++g<p;){x=f[g];var B=i[x],I=o[x];if(c)var S=h?c(I,B,x,o,i,u):c(B,I,x,i,o,u);if(!(S===void 0?B===I||d(B,I,l,c,u):S)){k=!1;break}C||(C=x=="constructor")}if(k&&!C){var E=i.constructor,D=o.constructor;E!=D&&"constructor"in i&&"constructor"in o&&!(typeof E=="function"&&E instanceof E&&typeof D=="function"&&D instanceof D)&&(k=!1)}return u.delete(i),u.delete(o),k}return P5=a,P5}var F5,KL;function G2e(){if(KL)return F5;KL=1;var t=uf(),e=wc(),r=t(e,"DataView");return F5=r,F5}var T5,WL;function X2e(){if(WL)return T5;WL=1;var t=uf(),e=wc(),r=t(e,"Promise");return T5=r,T5}var O5,GL;function UV(){if(GL)return O5;GL=1;var t=uf(),e=wc(),r=t(e,"Set");return O5=r,O5}var I5,XL;function Y2e(){if(XL)return I5;XL=1;var t=uf(),e=wc(),r=t(e,"WeakMap");return I5=r,I5}var D5,YL;function J2e(){if(YL)return D5;YL=1;var t=G2e(),e=lk(),r=X2e(),s=UV(),a=Y2e(),i=Hd(),o=nV(),l="[object Map]",c="[object Object]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",f="[object DataView]",p=o(t),v=o(e),y=o(r),g=o(s),x=o(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=f||e&&w(new e)!=l||r&&w(r.resolve())!=d||s&&w(new s)!=u||a&&w(new a)!=h)&&(w=function(_){var k=i(_),C=k==c?_.constructor:void 0,B=C?o(C):"";if(B)switch(B){case p:return f;case v:return l;case y:return d;case g:return u;case x:return h}return k}),D5=w,D5}var M5,JL;function Z2e(){if(JL)return M5;JL=1;var t=EV(),e=TV(),r=T2e(),s=W2e(),a=J2e(),i=Ii(),o=IV(),l=MV(),c=1,d="[object Arguments]",u="[object Array]",h="[object Object]",f=Object.prototype,p=f.hasOwnProperty;function v(y,g,x,w,_,k){var C=i(y),B=i(g),I=C?u:a(y),S=B?u:a(g);I=I==d?h:I,S=S==d?h:S;var E=I==h,D=S==h,N=I==S;if(N&&o(y)){if(!o(g))return!1;C=!0,E=!1}if(N&&!E)return k||(k=new t),C||l(y)?e(y,g,x,w,_,k):r(y,g,I,x,w,_,k);if(!(x&c)){var T=E&&p.call(y,"__wrapped__"),Q=D&&p.call(g,"__wrapped__");if(T||Q){var U=T?y.value():y,K=Q?g.value():g;return k||(k=new t),_(U,K,x,w,k)}}return N?(k||(k=new t),s(y,g,x,w,_,k)):!1}return M5=v,M5}var L5,ZL;function jk(){if(ZL)return L5;ZL=1;var t=Z2e(),e=$d();function r(s,a,i,o,l){return s===a?!0:s==null||a==null||!e(s)&&!e(a)?s!==s&&a!==a:t(s,a,i,o,r,l)}return L5=r,L5}var U5,eU;function eje(){if(eU)return U5;eU=1;var t=EV(),e=jk(),r=1,s=2;function a(i,o,l,c){var d=l.length,u=d,h=!c;if(i==null)return!u;for(i=Object(i);d--;){var f=l[d];if(h&&f[2]?f[1]!==i[f[0]]:!(f[0]in i))return!1}for(;++d<u;){f=l[d];var p=f[0],v=i[p],y=f[1];if(h&&f[2]){if(v===void 0&&!(p in i))return!1}else{var g=new t;if(c)var x=c(v,y,p,i,o,g);if(!(x===void 0?e(y,v,r|s,c,g):x))return!1}}return!0}return U5=a,U5}var R5,tU;function RV(){if(tU)return R5;tU=1;var t=jh();function e(r){return r===r&&!t(r)}return R5=e,R5}var Q5,rU;function tje(){if(rU)return Q5;rU=1;var t=RV(),e=q1();function r(s){for(var a=e(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return Q5=r,Q5}var H5,nU;function QV(){if(nU)return H5;nU=1;function t(e,r){return function(s){return s==null?!1:s[e]===r&&(r!==void 0||e in Object(s))}}return H5=t,H5}var $5,sU;function rje(){if(sU)return $5;sU=1;var t=eje(),e=tje(),r=QV();function s(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return $5=s,$5}var q5,aU;function nje(){if(aU)return q5;aU=1;function t(e,r){return e!=null&&r in Object(e)}return q5=t,q5}var z5,iU;function sje(){if(iU)return z5;iU=1;var t=iV(),e=vk(),r=Ii(),s=bk(),a=wk(),i=U1();function o(l,c,d){c=t(c,l);for(var u=-1,h=c.length,f=!1;++u<h;){var p=i(c[u]);if(!(f=l!=null&&d(l,p)))break;l=l[p]}return f||++u!=h?f:(h=l==null?0:l.length,!!h&&a(h)&&s(p,h)&&(r(l)||e(l)))}return z5=o,z5}var V5,oU;function aje(){if(oU)return V5;oU=1;var t=nje(),e=sje();function r(s,a){return s!=null&&e(s,a,t)}return V5=r,V5}var K5,lU;function ije(){if(lU)return K5;lU=1;var t=jk(),e=oV(),r=aje(),s=ak(),a=RV(),i=QV(),o=U1(),l=1,c=2;function d(u,h){return s(u)&&a(h)?i(o(u),h):function(f){var p=e(f,u);return p===void 0&&p===h?r(f,u):t(h,p,l|c)}}return K5=d,K5}var W5,cU;function Up(){if(cU)return W5;cU=1;function t(e){return e}return W5=t,W5}var G5,dU;function oje(){if(dU)return G5;dU=1;function t(e){return function(r){return r?.[e]}}return G5=t,G5}var X5,uU;function lje(){if(uU)return X5;uU=1;var t=uk();function e(r){return function(s){return t(s,r)}}return X5=e,X5}var Y5,hU;function cje(){if(hU)return Y5;hU=1;var t=oje(),e=lje(),r=ak(),s=U1();function a(i){return r(i)?t(s(i)):e(i)}return Y5=a,Y5}var J5,AU;function jc(){if(AU)return J5;AU=1;var t=rje(),e=ije(),r=Up(),s=Ii(),a=cje();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?s(o)?e(o[0],o[1]):t(o):a(o)}return J5=i,J5}var Z5,fU;function HV(){if(fU)return Z5;fU=1;function t(e,r,s,a){for(var i=e.length,o=s+(a?1:-1);a?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return Z5=t,Z5}var eC,mU;function dje(){if(mU)return eC;mU=1;function t(e){return e!==e}return eC=t,eC}var tC,pU;function uje(){if(pU)return tC;pU=1;function t(e,r,s){for(var a=s-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return tC=t,tC}var rC,gU;function hje(){if(gU)return rC;gU=1;var t=HV(),e=dje(),r=uje();function s(a,i,o){return i===i?r(a,i,o):t(a,e,o)}return rC=s,rC}var nC,xU;function Aje(){if(xU)return nC;xU=1;var t=hje();function e(r,s){var a=r==null?0:r.length;return!!a&&t(r,s,0)>-1}return nC=e,nC}var sC,yU;function fje(){if(yU)return sC;yU=1;function t(e,r,s){for(var a=-1,i=e==null?0:e.length;++a<i;)if(s(r,e[a]))return!0;return!1}return sC=t,sC}var aC,vU;function mje(){if(vU)return aC;vU=1;function t(){}return aC=t,aC}var iC,bU;function pje(){if(bU)return iC;bU=1;var t=UV(),e=mje(),r=yk(),s=1/0,a=t&&1/r(new t([,-0]))[1]==s?function(i){return new t(i)}:e;return iC=a,iC}var oC,wU;function gje(){if(wU)return oC;wU=1;var t=kV(),e=Aje(),r=fje(),s=FV(),a=pje(),i=yk(),o=200;function l(c,d,u){var h=-1,f=e,p=c.length,v=!0,y=[],g=y;if(u)v=!1,f=r;else if(p>=o){var x=d?null:a(c);if(x)return i(x);v=!1,f=s,g=new t}else g=d?[]:y;e:for(;++h<p;){var w=c[h],_=d?d(w):w;if(w=u||w!==0?w:0,v&&_===_){for(var k=g.length;k--;)if(g[k]===_)continue e;d&&g.push(_),y.push(w)}else f(g,_,u)||(g!==y&&g.push(_),y.push(w))}return y}return oC=l,oC}var lC,jU;function xje(){if(jU)return lC;jU=1;var t=jc(),e=gje();function r(s,a){return s&&s.length?e(s,t(a,2)):[]}return lC=r,lC}var yje=xje();const NU=Dr(yje);function $V(t,e,r){return e===!0?NU(t,r):ar(e)?NU(t,e):t}function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}var vje=["ref"];function _U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(r),!0).forEach(function(s){z1(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function bje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CU(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,zV(s.key),s)}}function wje(t,e,r){return e&&CU(t.prototype,e),r&&CU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jje(t,e,r){return e=aw(e),Nje(t,qV()?Reflect.construct(e,r||[],aw(t).constructor):e.apply(t,r))}function Nje(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _je(t)}function _je(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function aw(t){return aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aw(t)}function Cje(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CB(t,e)}function CB(t,e){return CB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},CB(t,e)}function z1(t,e,r){return e=zV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zV(t){var e=Sje(t,"string");return op(e)=="symbol"?e:e+""}function Sje(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bje(t,e){if(t==null)return{};var r=Eje(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Eje(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function kje(t){return t.value}function Pje(t,e){if(ke.isValidElement(t))return ke.cloneElement(t,e);if(typeof t=="function")return ke.createElement(t,e);e.ref;var r=Bje(e,vje);return ke.createElement(xk,r)}var SU=1,qA=(function(t){function e(){var r;bje(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=jje(this,e,[].concat(a)),z1(r,"lastBoundingBox",{width:-1,height:-1}),r}return Cje(e,t),wje(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>SU||Math.abs(a.height-this.lastBoundingBox.height)>SU)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?od({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,d=a.chartWidth,u=a.chartHeight,h,f;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();h={left:((d||0)-p.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();f={top:((u||0)-v.height)/2}}else f=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return od(od({},h),f)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,d=a.payloadUniqBy,u=a.payload,h=od(od({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ke.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){s.wrapperNode=p}},Pje(i,od(od({},this.props),{},{payload:$V(u,d,kje)})))}}],[{key:"getWithHeight",value:function(s,a){var i=od(od({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&mt(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(O.PureComponent);z1(qA,"displayName","Legend");z1(qA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cC,BU;function Fje(){if(BU)return cC;BU=1;var t=zx(),e=vk(),r=Ii(),s=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(s&&i&&i[s])}return cC=a,cC}var dC,EU;function VV(){if(EU)return dC;EU=1;var t=OV(),e=Fje();function r(s,a,i,o,l){var c=-1,d=s.length;for(i||(i=e),l||(l=[]);++c<d;){var u=s[c];a>0&&i(u)?a>1?r(u,a-1,i,o,l):t(l,u):o||(l[l.length]=u)}return l}return dC=r,dC}var uC,kU;function Tje(){if(kU)return uC;kU=1;function t(e){return function(r,s,a){for(var i=-1,o=Object(r),l=a(r),c=l.length;c--;){var d=l[e?c:++i];if(s(o[d],d,o)===!1)break}return r}}return uC=t,uC}var hC,PU;function Oje(){if(PU)return hC;PU=1;var t=Tje(),e=t();return hC=e,hC}var AC,FU;function KV(){if(FU)return AC;FU=1;var t=Oje(),e=q1();function r(s,a){return s&&t(s,a,e)}return AC=r,AC}var fC,TU;function Ije(){if(TU)return fC;TU=1;var t=Wx();function e(r,s){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return fC=e,fC}var mC,OU;function Nk(){if(OU)return mC;OU=1;var t=KV(),e=Ije(),r=e(t);return mC=r,mC}var pC,IU;function WV(){if(IU)return pC;IU=1;var t=Nk(),e=Wx();function r(s,a){var i=-1,o=e(s)?Array(s.length):[];return t(s,function(l,c,d){o[++i]=a(l,c,d)}),o}return pC=r,pC}var gC,DU;function Dje(){if(DU)return gC;DU=1;function t(e,r){var s=e.length;for(e.sort(r);s--;)e[s]=e[s].value;return e}return gC=t,gC}var xC,MU;function Mje(){if(MU)return xC;MU=1;var t=Mp();function e(r,s){if(r!==s){var a=r!==void 0,i=r===null,o=r===r,l=t(r),c=s!==void 0,d=s===null,u=s===s,h=t(s);if(!d&&!h&&!l&&r>s||l&&c&&u&&!d&&!h||i&&c&&u||!a&&u||!o)return 1;if(!i&&!l&&!h&&r<s||h&&a&&o&&!i&&!l||d&&a&&o||!c&&o||!u)return-1}return 0}return xC=e,xC}var yC,LU;function Lje(){if(LU)return yC;LU=1;var t=Mje();function e(r,s,a){for(var i=-1,o=r.criteria,l=s.criteria,c=o.length,d=a.length;++i<c;){var u=t(o[i],l[i]);if(u){if(i>=d)return u;var h=a[i];return u*(h=="desc"?-1:1)}}return r.index-s.index}return yC=e,yC}var vC,UU;function Uje(){if(UU)return vC;UU=1;var t=dk(),e=uk(),r=jc(),s=WV(),a=Dje(),i=DV(),o=Lje(),l=Up(),c=Ii();function d(u,h,f){h.length?h=t(h,function(y){return c(y)?function(g){return e(g,y.length===1?y[0]:y)}:y}):h=[l];var p=-1;h=t(h,i(r));var v=s(u,function(y,g,x){var w=t(h,function(_){return _(y)});return{criteria:w,index:++p,value:y}});return a(v,function(y,g){return o(y,g,f)})}return vC=d,vC}var bC,RU;function Rje(){if(RU)return bC;RU=1;function t(e,r,s){switch(s.length){case 0:return e.call(r);case 1:return e.call(r,s[0]);case 2:return e.call(r,s[0],s[1]);case 3:return e.call(r,s[0],s[1],s[2])}return e.apply(r,s)}return bC=t,bC}var wC,QU;function Qje(){if(QU)return wC;QU=1;var t=Rje(),e=Math.max;function r(s,a,i){return a=e(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),d=Array(c);++l<c;)d[l]=o[a+l];l=-1;for(var u=Array(a+1);++l<a;)u[l]=o[l];return u[a]=i(d),t(s,this,u)}}return wC=r,wC}var jC,HU;function Hje(){if(HU)return jC;HU=1;function t(e){return function(){return e}}return jC=t,jC}var NC,$U;function GV(){if($U)return NC;$U=1;var t=uf(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return NC=e,NC}var _C,qU;function $je(){if(qU)return _C;qU=1;var t=Hje(),e=GV(),r=Up(),s=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return _C=s,_C}var CC,zU;function qje(){if(zU)return CC;zU=1;var t=800,e=16,r=Date.now;function s(a){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return CC=s,CC}var SC,VU;function zje(){if(VU)return SC;VU=1;var t=$je(),e=qje(),r=e(t);return SC=r,SC}var BC,KU;function Vje(){if(KU)return BC;KU=1;var t=Up(),e=Qje(),r=zje();function s(a,i){return r(e(a,i,t),a+"")}return BC=s,BC}var EC,WU;function V1(){if(WU)return EC;WU=1;var t=ok(),e=Wx(),r=bk(),s=jh();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return EC=a,EC}var kC,GU;function Kje(){if(GU)return kC;GU=1;var t=VV(),e=Uje(),r=Vje(),s=V1(),a=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return kC=a,kC}var Wje=Kje();const _k=Dr(Wje);function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function SB(){return SB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},SB.apply(this,arguments)}function Gje(t,e){return Zje(t)||Jje(t,e)||Yje(t,e)||Xje()}function Xje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yje(t,e){if(t){if(typeof t=="string")return XU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XU(t,e)}}function XU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Jje(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function Zje(t){if(Array.isArray(t))return t}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function PC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(s){eNe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function eNe(t,e,r){return e=tNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tNe(t){var e=rNe(t,"string");return tx(e)=="symbol"?e:e+""}function rNe(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nNe(t){return Array.isArray(t)&&Fs(t[0])&&Fs(t[1])?t.join(" ~ "):t}var sNe=function(e){var r=e.separator,s=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,u=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,y=e.label,g=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,_=function(){if(u&&u.length){var T={padding:0,margin:0},Q=(f?_k(u,f):u).map(function(U,K){if(U.type==="none")return null;var z=PC({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),ee=U.formatter||h||nNe,G=U.value,q=U.name,re=G,Z=q;if(ee&&re!=null&&Z!=null){var $=ee(G,q,U,K,u);if(Array.isArray($)){var L=Gje($,2);re=L[0],Z=L[1]}else re=$}return ke.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:z},Fs(Z)?ke.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,Fs(Z)?ke.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,ke.createElement("span",{className:"recharts-tooltip-item-value"},re),ke.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return ke.createElement("ul",{className:"recharts-tooltip-item-list",style:T},Q)}return null},k=PC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=PC({margin:0},d),B=!mr(y),I=B?y:"",S=Ar("recharts-default-tooltip",p),E=Ar("recharts-tooltip-label",v);B&&g&&u!==void 0&&u!==null&&(I=g(y,u));var D=w?{role:"status","aria-live":"assertive"}:{};return ke.createElement("div",SB({className:S,style:k},D),ke.createElement("p",{className:E,style:C},ke.isValidElement(I)?I:"".concat(I)),_())};function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}function Mv(t,e,r){return e=aNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aNe(t){var e=iNe(t,"string");return rx(e)=="symbol"?e:e+""}function iNe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cg="recharts-tooltip-wrapper",oNe={visibility:"hidden"};function lNe(t){var e=t.coordinate,r=t.translateX,s=t.translateY;return Ar(Cg,Mv(Mv(Mv(Mv({},"".concat(Cg,"-right"),mt(r)&&e&&mt(e.x)&&r>=e.x),"".concat(Cg,"-left"),mt(r)&&e&&mt(e.x)&&r<e.x),"".concat(Cg,"-bottom"),mt(s)&&e&&mt(e.y)&&s>=e.y),"".concat(Cg,"-top"),mt(s)&&e&&mt(e.y)&&s<e.y))}function JU(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&mt(i[s]))return i[s];var u=r[s]-l-a,h=r[s]+a;if(e[s])return o[s]?u:h;if(o[s]){var f=u,p=c[s];return f<p?Math.max(h,c[s]):Math.max(u,c[s])}var v=h+l,y=c[s]+d;return v>y?Math.max(u,c[s]):Math.max(h,c[s])}function cNe(t){var e=t.translateX,r=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function dNe(t){var e=t.allowEscapeViewBox,r=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,u,h;return o.height>0&&o.width>0&&r?(u=JU({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=JU({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=cNe({translateX:u,translateY:h,useTranslate3d:l})):d=oNe,{cssProperties:d,cssClasses:lNe({translateX:u,translateY:h,coordinate:r})}}function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function ZU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function eR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(r),!0).forEach(function(s){EB(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZU(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function uNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hNe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,YV(s.key),s)}}function ANe(t,e,r){return e&&hNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fNe(t,e,r){return e=iw(e),mNe(t,XV()?Reflect.construct(e,r||[],iw(t).constructor):e.apply(t,r))}function mNe(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pNe(t)}function pNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},iw(t)}function gNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BB(t,e)}function BB(t,e){return BB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},BB(t,e)}function EB(t,e,r){return e=YV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YV(t){var e=xNe(t,"string");return lp(e)=="symbol"?e:e+""}function xNe(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(lp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tR=1,yNe=(function(t){function e(){var r;uNe(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=fNe(this,e,[].concat(a)),EB(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),EB(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&d!==void 0?d:0}})}}),r}return gNe(e,t),ANe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>tR||Math.abs(s.height-this.state.lastBoundingBox.height)>tR)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.children,u=a.coordinate,h=a.hasPayload,f=a.isAnimationActive,p=a.offset,v=a.position,y=a.reverseDirection,g=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,_=dNe({allowEscapeViewBox:o,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:x}),k=_.cssClasses,C=_.cssProperties,B=eR(eR({transition:f&&i?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ke.createElement("div",{tabIndex:-1,className:k,style:B,ref:function(S){s.wrapperNode=S}},d)}}])})(O.PureComponent),vNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rp={isSsr:vNe()};function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function rR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function nR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(r),!0).forEach(function(s){Ck(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function bNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wNe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ZV(s.key),s)}}function jNe(t,e,r){return e&&wNe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NNe(t,e,r){return e=ow(e),_Ne(t,JV()?Reflect.construct(e,r||[],ow(t).constructor):e.apply(t,r))}function _Ne(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CNe(t)}function CNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(t)}function SNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kB(t,e)}function kB(t,e){return kB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},kB(t,e)}function Ck(t,e,r){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZV(t){var e=BNe(t,"string");return cp(e)=="symbol"?e:e+""}function BNe(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ENe(t){return t.dataKey}function kNe(t,e){return ke.isValidElement(t)?ke.cloneElement(t,e):typeof t=="function"?ke.createElement(t,e):ke.createElement(sNe,e)}var ko=(function(t){function e(){return bNe(this,e),NNe(this,e,arguments)}return SNe(e,t),jNe(e,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,d=a.content,u=a.coordinate,h=a.filterNull,f=a.isAnimationActive,p=a.offset,v=a.payload,y=a.payloadUniqBy,g=a.position,x=a.reverseDirection,w=a.useTranslate3d,_=a.viewBox,k=a.wrapperStyle,C=v??[];h&&C.length&&(C=$V(v.filter(function(I){return I.value!=null&&(I.hide!==!0||s.props.includeHidden)}),y,ENe));var B=C.length>0;return ke.createElement(yNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:f,active:i,coordinate:u,hasPayload:B,offset:p,position:g,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:k},kNe(d,nR(nR({},this.props),{},{payload:C})))}}])})(O.PureComponent);Ck(ko,"displayName","Tooltip");Ck(ko,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var FC,sR;function PNe(){if(sR)return FC;sR=1;var t=wc(),e=function(){return t.Date.now()};return FC=e,FC}var TC,aR;function FNe(){if(aR)return TC;aR=1;var t=/\s/;function e(r){for(var s=r.length;s--&&t.test(r.charAt(s)););return s}return TC=e,TC}var OC,iR;function TNe(){if(iR)return OC;iR=1;var t=FNe(),e=/^\s+/;function r(s){return s&&s.slice(0,t(s)+1).replace(e,"")}return OC=r,OC}var IC,oR;function eK(){if(oR)return IC;oR=1;var t=TNe(),e=jh(),r=Mp(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return s;if(e(d)){var u=typeof d.valueOf=="function"?d.valueOf():d;d=e(u)?u+"":u}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?l(d.slice(2),h?2:8):a.test(d)?s:+d}return IC=c,IC}var DC,lR;function ONe(){if(lR)return DC;lR=1;var t=jh(),e=PNe(),r=eK(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,d){var u,h,f,p,v,y,g=0,x=!1,w=!1,_=!0;if(typeof l!="function")throw new TypeError(s);c=r(c)||0,t(d)&&(x=!!d.leading,w="maxWait"in d,f=w?a(r(d.maxWait)||0,c):f,_="trailing"in d?!!d.trailing:_);function k(Q){var U=u,K=h;return u=h=void 0,g=Q,p=l.apply(K,U),p}function C(Q){return g=Q,v=setTimeout(S,c),x?k(Q):p}function B(Q){var U=Q-y,K=Q-g,z=c-U;return w?i(z,f-K):z}function I(Q){var U=Q-y,K=Q-g;return y===void 0||U>=c||U<0||w&&K>=f}function S(){var Q=e();if(I(Q))return E(Q);v=setTimeout(S,B(Q))}function E(Q){return v=void 0,_&&u?k(Q):(u=h=void 0,p)}function D(){v!==void 0&&clearTimeout(v),g=0,u=y=h=v=void 0}function N(){return v===void 0?p:E(e())}function T(){var Q=e(),U=I(Q);if(u=arguments,h=this,y=Q,U){if(v===void 0)return C(y);if(w)return clearTimeout(v),v=setTimeout(S,c),k(y)}return v===void 0&&(v=setTimeout(S,c)),p}return T.cancel=D,T.flush=N,T}return DC=o,DC}var MC,cR;function INe(){if(cR)return MC;cR=1;var t=ONe(),e=jh(),r="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return MC=s,MC}var DNe=INe();const tK=Dr(DNe);function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function dR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Lv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(r),!0).forEach(function(s){MNe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function MNe(t,e,r){return e=LNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LNe(t){var e=UNe(t,"string");return nx(e)=="symbol"?e:e+""}function UNe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RNe(t,e){return qNe(t)||$Ne(t,e)||HNe(t,e)||QNe()}function QNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HNe(t,e){if(t){if(typeof t=="string")return uR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uR(t,e)}}function uR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function $Ne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function qNe(t){if(Array.isArray(t))return t}var Sk=O.forwardRef(function(t,e){var r=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,u=d===void 0?0:d,h=t.minHeight,f=t.maxHeight,p=t.children,v=t.debounce,y=v===void 0?0:v,g=t.id,x=t.className,w=t.onResize,_=t.style,k=_===void 0?{}:_,C=O.useRef(null),B=O.useRef();B.current=w,O.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var I=O.useState({containerWidth:a.width,containerHeight:a.height}),S=RNe(I,2),E=S[0],D=S[1],N=O.useCallback(function(Q,U){D(function(K){var z=Math.round(Q),ee=Math.round(U);return K.containerWidth===z&&K.containerHeight===ee?K:{containerWidth:z,containerHeight:ee}})},[]);O.useEffect(function(){var Q=function(q){var re,Z=q[0].contentRect,$=Z.width,L=Z.height;N($,L),(re=B.current)===null||re===void 0||re.call(B,$,L)};y>0&&(Q=tK(Q,y,{trailing:!0,leading:!1}));var U=new ResizeObserver(Q),K=C.current.getBoundingClientRect(),z=K.width,ee=K.height;return N(z,ee),U.observe(C.current),function(){U.disconnect()}},[N,y]);var T=O.useMemo(function(){var Q=E.containerWidth,U=E.containerHeight;if(Q<0||U<0)return null;_l(TA(o)||TA(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),_l(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=TA(o)?Q:o,z=TA(c)?U:c;r&&r>0&&(K?z=K/r:z&&(K=z*r),f&&z>f&&(z=f)),_l(K>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,z,o,c,u,h,r);var ee=!Array.isArray(p)&&jd(p.type).endsWith("Chart");return ke.Children.map(p,function(G){return ke.isValidElement(G)?O.cloneElement(G,Lv({width:K,height:z},ee?{style:Lv({height:"100%",width:"100%",maxHeight:z,maxWidth:K},G.props.style)}:{})):G})},[r,p,c,f,h,u,E,o]);return ke.createElement("div",{id:g?"".concat(g):void 0,className:Ar("recharts-responsive-container",x),style:Lv(Lv({},k),{},{width:o,height:c,minWidth:u,minHeight:h,maxHeight:f}),ref:C},T)}),Gx=function(e){return null};Gx.displayName="Cell";function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function hR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function PB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(r),!0).forEach(function(s){zNe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function zNe(t,e,r){return e=VNe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VNe(t){var e=KNe(t,"string");return sx(e)=="symbol"?e:e+""}function KNe(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Am={widthCache:{},cacheCount:0},WNe=2e3,GNe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AR="recharts_measurement_span";function XNe(t){var e=PB({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var x0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rp.isSsr)return{width:0,height:0};var s=XNe(r),a=JSON.stringify({text:e,copyStyle:s});if(Am.widthCache[a])return Am.widthCache[a];try{var i=document.getElementById(AR);i||(i=document.createElement("span"),i.setAttribute("id",AR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=PB(PB({},GNe),s);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Am.widthCache[a]=c,++Am.cacheCount>WNe&&(Am.cacheCount=0,Am.widthCache={}),c}catch{return{width:0,height:0}}},YNe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function lw(t,e){return t_e(t)||e_e(t,e)||ZNe(t,e)||JNe()}function JNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZNe(t,e){if(t){if(typeof t=="string")return fR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function e_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function t_e(t){if(Array.isArray(t))return t}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s_e(s.key),s)}}function n_e(t,e,r){return e&&mR(t.prototype,e),r&&mR(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s_e(t){var e=a_e(t,"string");return ax(e)=="symbol"?e:e+""}function a_e(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,i_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,o_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,rK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},l_e=Object.keys(rK),km="NaN";function c_e(t,e){return t*rK[e]}var Uv=(function(){function t(e,r){r_e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!i_e.test(r)&&(this.num=NaN,this.unit=""),l_e.includes(r)&&(this.num=c_e(e,r),this.unit="px")}return n_e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var s,a=(s=o_e.exec(r))!==null&&s!==void 0?s:[],i=lw(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function nK(t){if(t.includes(km))return km;for(var e=t;e.includes("*")||e.includes("/");){var r,s=(r=pR.exec(e))!==null&&r!==void 0?r:[],a=lw(s,4),i=a[1],o=a[2],l=a[3],c=Uv.parse(i??""),d=Uv.parse(l??""),u=o==="*"?c.multiply(d):c.divide(d);if(u.isNaN())return km;e=e.replace(pR,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=gR.exec(e))!==null&&h!==void 0?h:[],p=lw(f,4),v=p[1],y=p[2],g=p[3],x=Uv.parse(v??""),w=Uv.parse(g??""),_=y==="+"?x.add(w):x.subtract(w);if(_.isNaN())return km;e=e.replace(gR,_.toString())}return e}var xR=/\(([^()]*)\)/;function d_e(t){for(var e=t;e.includes("(");){var r=xR.exec(e),s=lw(r,2),a=s[1];e=e.replace(xR,nK(a))}return e}function u_e(t){var e=t.replace(/\s+/g,"");return e=d_e(e),e=nK(e),e}function h_e(t){try{return u_e(t)}catch{return km}}function LC(t){var e=h_e(t.slice(5,-1));return e===km?"":e}var A_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],f_e=["dx","dy","angle","className","breakAll"];function FB(){return FB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},FB.apply(this,arguments)}function yR(t,e){if(t==null)return{};var r=m_e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function m_e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function vR(t,e){return y_e(t)||x_e(t,e)||g_e(t,e)||p_e()}function p_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_e(t,e){if(t){if(typeof t=="string")return bR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(t,e)}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function x_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function y_e(t){if(Array.isArray(t))return t}var sK=/[ \f\n\r\t\v\u2028\u2029]+/,aK=function(e){var r=e.children,s=e.breakAll,a=e.style;try{var i=[];mr(r)||(s?i=r.toString().split(""):i=r.toString().split(sK));var o=i.map(function(c){return{word:c,width:x0(c,a).width}}),l=s?0:x0("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},v_e=function(e,r,s,a,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,u=mt(o),h=l,f=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(z,ee){var G=ee.word,q=ee.width,re=z[z.length-1];if(re&&(a==null||i||re.width+q+s<Number(a)))re.words.push(G),re.width+=q+s;else{var Z={words:[G],width:q};z.push(Z)}return z},[])},p=f(r),v=function(K){return K.reduce(function(z,ee){return z.width>ee.width?z:ee})};if(!u)return p;for(var y="",g=function(K){var z=h.slice(0,K),ee=aK({breakAll:d,style:c,children:z+y}).wordsWithComputedWidth,G=f(ee),q=G.length>o||v(G).width>Number(a);return[q,G]},x=0,w=h.length-1,_=0,k;x<=w&&_<=h.length-1;){var C=Math.floor((x+w)/2),B=C-1,I=g(B),S=vR(I,2),E=S[0],D=S[1],N=g(C),T=vR(N,1),Q=T[0];if(!E&&!Q&&(x=C+1),E&&Q&&(w=C-1),!E&&Q){k=D;break}_++}return k||p},wR=function(e){var r=mr(e)?[]:e.toString().split(sK);return[{words:r}]},b_e=function(e){var r=e.width,s=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||s)&&!Rp.isSsr){var c,d,u=aK({breakAll:o,children:a,style:i});if(u){var h=u.wordsWithComputedWidth,f=u.spaceWidth;c=h,d=f}else return wR(a);return v_e({breakAll:o,children:a,maxLines:l,style:i},c,d,r,s)}return wR(a)},jR="#808080",JA=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,u=e.scaleToFit,h=u===void 0?!1:u,f=e.textAnchor,p=f===void 0?"start":f,v=e.verticalAnchor,y=v===void 0?"end":v,g=e.fill,x=g===void 0?jR:g,w=yR(e,A_e),_=O.useMemo(function(){return b_e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),k=w.dx,C=w.dy,B=w.angle,I=w.className,S=w.breakAll,E=yR(w,f_e);if(!Fs(s)||!Fs(i))return null;var D=s+(mt(k)?k:0),N=i+(mt(C)?C:0),T;switch(y){case"start":T=LC("calc(".concat(d,")"));break;case"middle":T=LC("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:T=LC("calc(".concat(_.length-1," * -").concat(l,")"));break}var Q=[];if(h){var U=_[0].width,K=w.width;Q.push("scale(".concat((mt(K)?K/U:1)/U,")"))}return B&&Q.push("rotate(".concat(B,", ").concat(D,", ").concat(N,")")),Q.length&&(E.transform=Q.join(" ")),ke.createElement("text",FB({},er(E,!0),{x:D,y:N,className:Ar("recharts-text",I),textAnchor:p,fill:x.includes("url")?jR:x}),_.map(function(z,ee){var G=z.words.join(S?"":" ");return ke.createElement("tspan",{x:D,dy:ee===0?T:l,key:"".concat(G,"-").concat(ee)},G)}))};function dh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w_e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Bk(t){let e,r,s;t.length!==2?(e=dh,r=(l,c)=>dh(t(l),c),s=(l,c)=>t(l)-c):(e=t===dh||t===w_e?t:j_e,r=t,s=t);function a(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<0?d=h+1:u=h}while(d<u)}return d}function i(l,c,d=0,u=l.length){if(d<u){if(e(c,c)!==0)return u;do{const h=d+u>>>1;r(l[h],c)<=0?d=h+1:u=h}while(d<u)}return d}function o(l,c,d=0,u=l.length){const h=a(l,c,d,u-1);return h>d&&s(l[h-1],c)>-s(l[h],c)?h-1:h}return{left:a,center:o,right:i}}function j_e(){return 0}function iK(t){return t===null?NaN:+t}function*N_e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const __e=Bk(dh),Xx=__e.right;Bk(iK).center;class NR extends Map{constructor(e,r=B_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[s,a]of e)this.set(s,a)}get(e){return super.get(_R(this,e))}has(e){return super.has(_R(this,e))}set(e,r){return super.set(C_e(this,e),r)}delete(e){return super.delete(S_e(this,e))}}function _R({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):r}function C_e({_intern:t,_key:e},r){const s=e(r);return t.has(s)?t.get(s):(t.set(s,r),r)}function S_e({_intern:t,_key:e},r){const s=e(r);return t.has(s)&&(r=t.get(s),t.delete(s)),r}function B_e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function E_e(t=dh){if(t===dh)return oK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const s=t(e,r);return s||s===0?s:(t(r,r)===0)-(t(e,e)===0)}}function oK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const k_e=Math.sqrt(50),P_e=Math.sqrt(10),F_e=Math.sqrt(2);function cw(t,e,r){const s=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=k_e?10:i>=P_e?5:i>=F_e?2:1;let l,c,d;return a<0?(d=Math.pow(10,-a)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,a)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?cw(t,e,r*2):[l,c,d]}function TB(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const s=e<t,[a,i,o]=s?cw(e,t,r):cw(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(a+d)/-o;else for(let d=0;d<l;++d)c[d]=(a+d)*o;return c}function OB(t,e,r){return e=+e,t=+t,r=+r,cw(t,e,r)[2]}function IB(t,e,r){e=+e,t=+t,r=+r;const s=e<t,a=s?OB(e,t,r):OB(t,e,r);return(s?-1:1)*(a<0?1/-a:a)}function CR(t,e){let r;for(const s of t)s!=null&&(r<s||r===void 0&&s>=s)&&(r=s);return r}function SR(t,e){let r;for(const s of t)s!=null&&(r>s||r===void 0&&s>=s)&&(r=s);return r}function lK(t,e,r=0,s=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),s=Math.floor(Math.min(t.length-1,s)),!(r<=e&&e<=s))return t;for(a=a===void 0?oK:E_e(a);s>r;){if(s-r>600){const c=s-r+1,d=e-r+1,u=Math.log(c),h=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*h*(c-h)/c)*(d-c/2<0?-1:1),p=Math.max(r,Math.floor(e-d*h/c+f)),v=Math.min(s,Math.floor(e+(c-d)*h/c+f));lK(t,e,p,v,a)}const i=t[e];let o=r,l=s;for(Sg(t,r,e),a(t[s],i)>0&&Sg(t,r,s);o<l;){for(Sg(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?Sg(t,r,l):(++l,Sg(t,l,s)),l<=e&&(r=l+1),e<=l&&(s=l-1)}return t}function Sg(t,e,r){const s=t[e];t[e]=t[r],t[r]=s}function T_e(t,e,r){if(t=Float64Array.from(N_e(t)),!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return SR(t);if(e>=1)return CR(t);var s,a=(s-1)*e,i=Math.floor(a),o=CR(lK(t,i).subarray(0,i+1)),l=SR(t.subarray(i+1));return o+(l-o)*(a-i)}}function O_e(t,e,r=iK){if(!(!(s=t.length)||isNaN(e=+e))){if(e<=0||s<2)return+r(t[0],0,t);if(e>=1)return+r(t[s-1],s-1,t);var s,a=(s-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function I_e(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var s=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++s<a;)i[s]=t+s*r;return i}function zo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DB=Symbol("implicit");function Ek(){var t=new NR,e=[],r=[],s=DB;function a(i){let o=t.get(i);if(o===void 0){if(s!==DB)return s;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new NR;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return Ek(e,r).unknown(s)},zo.apply(a,arguments),a}function ix(){var t=Ek().unknown(void 0),e=t.domain,r=t.range,s=0,a=1,i,o,l=!1,c=0,d=0,u=.5;delete t.unknown;function h(){var f=e().length,p=a<s,v=p?a:s,y=p?s:a;i=(y-v)/Math.max(1,f-c+d*2),l&&(i=Math.floor(i)),v+=(y-v-i*(f-c))*u,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var g=I_e(f).map(function(x){return v+i*x});return r(p?g.reverse():g)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([s,a]=f,s=+s,a=+a,h()):[s,a]},t.rangeRound=function(f){return[s,a]=f,s=+s,a=+a,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(f){return arguments.length?(l=!!f,h()):l},t.padding=function(f){return arguments.length?(c=Math.min(1,d=+f),h()):c},t.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),h()):c},t.paddingOuter=function(f){return arguments.length?(d=+f,h()):d},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),h()):u},t.copy=function(){return ix(e(),[s,a]).round(l).paddingInner(c).paddingOuter(d).align(u)},zo.apply(h(),arguments)}function cK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return cK(e())},t}function y0(){return cK(ix.apply(null,arguments).paddingInner(1))}function kk(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function dK(t,e){var r=Object.create(t.prototype);for(var s in e)r[s]=e[s];return r}function Yx(){}var ox=.7,dw=1/ox,Ym="\\s*([+-]?\\d+)\\s*",lx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D_e=/^#([0-9a-f]{3,8})$/,M_e=new RegExp(`^rgb\\(${Ym},${Ym},${Ym}\\)$`),L_e=new RegExp(`^rgb\\(${pc},${pc},${pc}\\)$`),U_e=new RegExp(`^rgba\\(${Ym},${Ym},${Ym},${lx}\\)$`),R_e=new RegExp(`^rgba\\(${pc},${pc},${pc},${lx}\\)$`),Q_e=new RegExp(`^hsl\\(${lx},${pc},${pc}\\)$`),H_e=new RegExp(`^hsla\\(${lx},${pc},${pc},${lx}\\)$`),BR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kk(Yx,cx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ER,formatHex:ER,formatHex8:$_e,formatHsl:q_e,formatRgb:kR,toString:kR});function ER(){return this.rgb().formatHex()}function $_e(){return this.rgb().formatHex8()}function q_e(){return uK(this).formatHsl()}function kR(){return this.rgb().formatRgb()}function cx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=D_e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PR(e):r===3?new Fi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Rv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Rv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=M_e.exec(t))?new Fi(e[1],e[2],e[3],1):(e=L_e.exec(t))?new Fi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U_e.exec(t))?Rv(e[1],e[2],e[3],e[4]):(e=R_e.exec(t))?Rv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Q_e.exec(t))?OR(e[1],e[2]/100,e[3]/100,1):(e=H_e.exec(t))?OR(e[1],e[2]/100,e[3]/100,e[4]):BR.hasOwnProperty(t)?PR(BR[t]):t==="transparent"?new Fi(NaN,NaN,NaN,0):null}function PR(t){return new Fi(t>>16&255,t>>8&255,t&255,1)}function Rv(t,e,r,s){return s<=0&&(t=e=r=NaN),new Fi(t,e,r,s)}function z_e(t){return t instanceof Yx||(t=cx(t)),t?(t=t.rgb(),new Fi(t.r,t.g,t.b,t.opacity)):new Fi}function MB(t,e,r,s){return arguments.length===1?z_e(t):new Fi(t,e,r,s??1)}function Fi(t,e,r,s){this.r=+t,this.g=+e,this.b=+r,this.opacity=+s}kk(Fi,MB,dK(Yx,{brighter(t){return t=t==null?dw:Math.pow(dw,t),new Fi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new Fi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fi(zA(this.r),zA(this.g),zA(this.b),uw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FR,formatHex:FR,formatHex8:V_e,formatRgb:TR,toString:TR}));function FR(){return`#${OA(this.r)}${OA(this.g)}${OA(this.b)}`}function V_e(){return`#${OA(this.r)}${OA(this.g)}${OA(this.b)}${OA((isNaN(this.opacity)?1:this.opacity)*255)}`}function TR(){const t=uw(this.opacity);return`${t===1?"rgb(":"rgba("}${zA(this.r)}, ${zA(this.g)}, ${zA(this.b)}${t===1?")":`, ${t})`}`}function uw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zA(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function OA(t){return t=zA(t),(t<16?"0":"")+t.toString(16)}function OR(t,e,r,s){return s<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new jl(t,e,r,s)}function uK(t){if(t instanceof jl)return new jl(t.h,t.s,t.l,t.opacity);if(t instanceof Yx||(t=cx(t)),!t)return new jl;if(t instanceof jl)return t;t=t.rgb();var e=t.r/255,r=t.g/255,s=t.b/255,a=Math.min(e,r,s),i=Math.max(e,r,s),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-s)/l+(r<s)*6:r===i?o=(s-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new jl(o,l,c,t.opacity)}function K_e(t,e,r,s){return arguments.length===1?uK(t):new jl(t,e,r,s??1)}function jl(t,e,r,s){this.h=+t,this.s=+e,this.l=+r,this.opacity=+s}kk(jl,K_e,dK(Yx,{brighter(t){return t=t==null?dw:Math.pow(dw,t),new jl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ox:Math.pow(ox,t),new jl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,s=r+(r<.5?r:1-r)*e,a=2*r-s;return new Fi(UC(t>=240?t-240:t+120,a,s),UC(t,a,s),UC(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new jl(IR(this.h),Qv(this.s),Qv(this.l),uw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uw(this.opacity);return`${t===1?"hsl(":"hsla("}${IR(this.h)}, ${Qv(this.s)*100}%, ${Qv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function IR(t){return t=(t||0)%360,t<0?t+360:t}function Qv(t){return Math.max(0,Math.min(1,t||0))}function UC(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Pk=t=>()=>t;function W_e(t,e){return function(r){return t+r*e}}function G_e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(s){return Math.pow(t+s*e,r)}}function X_e(t){return(t=+t)==1?hK:function(e,r){return r-e?G_e(e,r,t):Pk(isNaN(e)?r:e)}}function hK(t,e){var r=e-t;return r?W_e(t,r):Pk(isNaN(t)?e:t)}const DR=(function t(e){var r=X_e(e);function s(a,i){var o=r((a=MB(a)).r,(i=MB(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),d=hK(a.opacity,i.opacity);return function(u){return a.r=o(u),a.g=l(u),a.b=c(u),a.opacity=d(u),a+""}}return s.gamma=t,s})(1);function Y_e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,s=e.slice(),a;return function(i){for(a=0;a<r;++a)s[a]=t[a]*(1-i)+e[a]*i;return s}}function J_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Z_e(t,e){var r=e?e.length:0,s=t?Math.min(r,t.length):0,a=new Array(s),i=new Array(r),o;for(o=0;o<s;++o)a[o]=Qp(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function e5e(t,e){var r=new Date;return t=+t,e=+e,function(s){return r.setTime(t*(1-s)+e*s),r}}function hw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function t5e(t,e){var r={},s={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Qp(t[a],e[a]):s[a]=e[a];return function(i){for(a in r)s[a]=r[a](i);return s}}var LB=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RC=new RegExp(LB.source,"g");function r5e(t){return function(){return t}}function n5e(t){return function(e){return t(e)+""}}function s5e(t,e){var r=LB.lastIndex=RC.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(s=LB.exec(t))&&(a=RC.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hw(s,a)})),r=RC.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?n5e(c[0].x):r5e(e):(e=c.length,function(d){for(var u=0,h;u<e;++u)l[(h=c[u]).i]=h.x(d);return l.join("")})}function Qp(t,e){var r=typeof e,s;return e==null||r==="boolean"?Pk(e):(r==="number"?hw:r==="string"?(s=cx(e))?(e=s,DR):s5e:e instanceof cx?DR:e instanceof Date?e5e:J_e(e)?Y_e:Array.isArray(e)?Z_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?t5e:hw)(t,e)}function Fk(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function a5e(t,e){e===void 0&&(e=t,t=Qp);for(var r=0,s=e.length-1,a=e[0],i=new Array(s<0?0:s);r<s;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function i5e(t){return function(){return t}}function Aw(t){return+t}var MR=[0,1];function ii(t){return t}function UB(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:i5e(isNaN(e)?NaN:.5)}function o5e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(s){return Math.max(t,Math.min(e,s))}}function l5e(t,e,r){var s=t[0],a=t[1],i=e[0],o=e[1];return a<s?(s=UB(a,s),i=r(o,i)):(s=UB(s,a),i=r(i,o)),function(l){return i(s(l))}}function c5e(t,e,r){var s=Math.min(t.length,e.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<s;)a[o]=UB(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=Xx(t,l,1,s)-1;return i[c](a[c](l))}}function Jx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function K1(){var t=MR,e=MR,r=Qp,s,a,i,o=ii,l,c,d;function u(){var f=Math.min(t.length,e.length);return o!==ii&&(o=o5e(t[0],t[f-1])),l=f>2?c5e:l5e,c=d=null,h}function h(f){return f==null||isNaN(f=+f)?i:(c||(c=l(t.map(s),e,r)))(s(o(f)))}return h.invert=function(f){return o(a((d||(d=l(e,t.map(s),hw)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Aw),u()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=Fk,u()},h.clamp=function(f){return arguments.length?(o=f?!0:ii,u()):o!==ii},h.interpolate=function(f){return arguments.length?(r=f,u()):r},h.unknown=function(f){return arguments.length?(i=f,h):i},function(f,p){return s=f,a=p,u()}}function Tk(){return K1()(ii,ii)}function d5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function fw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,s=t.slice(0,r);return[s.length>1?s[0]+s.slice(2):s,+t.slice(r+1)]}function dp(t){return t=fw(Math.abs(t)),t?t[1]:NaN}function u5e(t,e){return function(r,s){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function h5e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var A5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dx(t){if(!(e=A5e.exec(t)))throw new Error("invalid format: "+t);var e;return new Ok({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dx.prototype=Ok.prototype;function Ok(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ok.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f5e(t){e:for(var e=t.length,r=1,s=-1,a;r<e;++r)switch(t[r]){case".":s=a=r;break;case"0":s===0&&(s=r),a=r;break;default:if(!+t[r])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var AK;function m5e(t,e){var r=fw(t,e);if(!r)return t+"";var s=r[0],a=r[1],i=a-(AK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+fw(t,Math.max(0,e+i-1))[0]}function LR(t,e){var r=fw(t,e);if(!r)return t+"";var s=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const UR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:d5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LR(t*100,e),r:LR,s:m5e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function RR(t){return t}var QR=Array.prototype.map,HR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p5e(t){var e=t.grouping===void 0||t.thousands===void 0?RR:u5e(QR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?RR:h5e(QR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(h){h=dx(h);var f=h.fill,p=h.align,v=h.sign,y=h.symbol,g=h.zero,x=h.width,w=h.comma,_=h.precision,k=h.trim,C=h.type;C==="n"?(w=!0,C="g"):UR[C]||(_===void 0&&(_=12),k=!0,C="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var B=y==="$"?r:y==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=y==="$"?s:/[%p]/.test(C)?o:"",S=UR[C],E=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(N){var T=B,Q=I,U,K,z;if(C==="c")Q=S(N)+Q,N="";else{N=+N;var ee=N<0||1/N<0;if(N=isNaN(N)?c:S(Math.abs(N),_),k&&(N=f5e(N)),ee&&+N==0&&v!=="+"&&(ee=!1),T=(ee?v==="("?v:l:v==="-"||v==="("?"":v)+T,Q=(C==="s"?HR[8+AK/3]:"")+Q+(ee&&v==="("?")":""),E){for(U=-1,K=N.length;++U<K;)if(z=N.charCodeAt(U),48>z||z>57){Q=(z===46?a+N.slice(U+1):N.slice(U))+Q,N=N.slice(0,U);break}}}w&&!g&&(N=e(N,1/0));var G=T.length+N.length+Q.length,q=G<x?new Array(x-G+1).join(f):"";switch(w&&g&&(N=e(q+N,q.length?x-Q.length:1/0),q=""),p){case"<":N=T+N+Q+q;break;case"=":N=T+q+N+Q;break;case"^":N=q.slice(0,G=q.length>>1)+T+N+Q+q.slice(G);break;default:N=q+T+N+Q;break}return i(N)}return D.toString=function(){return h+""},D}function u(h,f){var p=d((h=dx(h),h.type="f",h)),v=Math.max(-8,Math.min(8,Math.floor(dp(f)/3)))*3,y=Math.pow(10,-v),g=HR[8+v/3];return function(x){return p(y*x)+g}}return{format:d,formatPrefix:u}}var Hv,Ik,fK;g5e({thousands:",",grouping:[3],currency:["$",""]});function g5e(t){return Hv=p5e(t),Ik=Hv.format,fK=Hv.formatPrefix,Hv}function x5e(t){return Math.max(0,-dp(Math.abs(t)))}function y5e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dp(e)/3)))*3-dp(Math.abs(t)))}function v5e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,dp(e)-dp(t))+1}function mK(t,e,r,s){var a=IB(t,e,r),i;switch(s=dx(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return s.precision==null&&!isNaN(i=y5e(a,o))&&(s.precision=i),fK(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=v5e(a,Math.max(Math.abs(t),Math.abs(e))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=x5e(a))&&(s.precision=i-(s.type==="%")*2);break}}return Ik(s)}function Nh(t){var e=t.domain;return t.ticks=function(r){var s=e();return TB(s[0],s[s.length-1],r??10)},t.tickFormat=function(r,s){var a=e();return mK(a[0],a[a.length-1],r??10,s)},t.nice=function(r){r==null&&(r=10);var s=e(),a=0,i=s.length-1,o=s[a],l=s[i],c,d,u=10;for(l<o&&(d=o,o=l,l=d,d=a,a=i,i=d);u-- >0;){if(d=OB(o,l,r),d===c)return s[a]=o,s[i]=l,e(s);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function mw(){var t=Tk();return t.copy=function(){return Jx(t,mw())},zo.apply(t,arguments),Nh(t)}function pK(t){var e;function r(s){return s==null||isNaN(s=+s)?e:s}return r.invert=r,r.domain=r.range=function(s){return arguments.length?(t=Array.from(s,Aw),r):t.slice()},r.unknown=function(s){return arguments.length?(e=s,r):e},r.copy=function(){return pK(t).unknown(e)},t=arguments.length?Array.from(t,Aw):[0,1],Nh(r)}function gK(t,e){t=t.slice();var r=0,s=t.length-1,a=t[r],i=t[s],o;return i<a&&(o=r,r=s,s=o,o=a,a=i,i=o),t[r]=e.floor(a),t[s]=e.ceil(i),t}function $R(t){return Math.log(t)}function qR(t){return Math.exp(t)}function b5e(t){return-Math.log(-t)}function w5e(t){return-Math.exp(-t)}function j5e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function N5e(t){return t===10?j5e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function _5e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zR(t){return(e,r)=>-t(-e,r)}function Dk(t){const e=t($R,qR),r=e.domain;let s=10,a,i;function o(){return a=_5e(s),i=N5e(s),r()[0]<0?(a=zR(a),i=zR(i),t(b5e,w5e)):t($R,qR),e}return e.base=function(l){return arguments.length?(s=+l,o()):s},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],u=c[c.length-1];const h=u<d;h&&([d,u]=[u,d]);let f=a(d),p=a(u),v,y;const g=l==null?10:+l;let x=[];if(!(s%1)&&p-f<g){if(f=Math.floor(f),p=Math.ceil(p),d>0){for(;f<=p;++f)for(v=1;v<s;++v)if(y=f<0?v/i(-f):v*i(f),!(y<d)){if(y>u)break;x.push(y)}}else for(;f<=p;++f)for(v=s-1;v>=1;--v)if(y=f>0?v/i(-f):v*i(f),!(y<d)){if(y>u)break;x.push(y)}x.length*2<g&&(x=TB(d,u,g))}else x=TB(f,p,Math.min(p-f,g)).map(i);return h?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=dx(c)).precision==null&&(c.trim=!0),c=Ik(c)),l===1/0)return c;const d=Math.max(1,s*l/e.ticks().length);return u=>{let h=u/i(Math.round(a(u)));return h*s<s-.5&&(h*=s),h<=d?c(u):""}},e.nice=()=>r(gK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function xK(){const t=Dk(K1()).domain([1,10]);return t.copy=()=>Jx(t,xK()).base(t.base()),zo.apply(t,arguments),t}function VR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function KR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mk(t){var e=1,r=t(VR(e),KR(e));return r.constant=function(s){return arguments.length?t(VR(e=+s),KR(e)):e},Nh(r)}function yK(){var t=Mk(K1());return t.copy=function(){return Jx(t,yK()).constant(t.constant())},zo.apply(t,arguments)}function WR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function C5e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function S5e(t){return t<0?-t*t:t*t}function Lk(t){var e=t(ii,ii),r=1;function s(){return r===1?t(ii,ii):r===.5?t(C5e,S5e):t(WR(r),WR(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,s()):r},Nh(e)}function Uk(){var t=Lk(K1());return t.copy=function(){return Jx(t,Uk()).exponent(t.exponent())},zo.apply(t,arguments),t}function B5e(){return Uk.apply(null,arguments).exponent(.5)}function GR(t){return Math.sign(t)*t*t}function E5e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vK(){var t=Tk(),e=[0,1],r=!1,s;function a(i){var o=E5e(t(i));return isNaN(o)?s:r?Math.round(o):o}return a.invert=function(i){return t.invert(GR(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Aw)).map(GR)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return vK(t.domain(),e).round(r).clamp(t.clamp()).unknown(s)},zo.apply(a,arguments),Nh(a)}function bK(){var t=[],e=[],r=[],s;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=O_e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:e[Xx(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(dh),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return r.slice()},i.copy=function(){return bK().domain(t).range(e).unknown(s)},zo.apply(i,arguments)}function wK(){var t=0,e=1,r=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Xx(s,c,0,r)]:i}function l(){var c=-1;for(s=new Array(r);++c<r;)s[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var d=a.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,s[0]]:d>=r?[s[r-1],e]:[s[d-1],s[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return wK().domain([t,e]).range(a).unknown(i)},zo.apply(Nh(o),arguments)}function jK(){var t=[.5],e=[0,1],r,s=1;function a(i){return i!=null&&i<=i?e[Xx(t,i,0,s)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),s=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return jK().domain(t).range(e).unknown(r)},zo.apply(a,arguments)}const QC=new Date,HC=new Date;function Os(t,e,r,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},a.filter=i=>Os(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(QC.setTime(+i),HC.setTime(+o),t(QC),t(HC),Math.floor(r(QC,HC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const pw=Os(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);pw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Os(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):pw);pw.range;const yd=1e3,Lo=yd*60,vd=Lo*60,Od=vd*24,Rk=Od*7,XR=Od*30,$C=Od*365,IA=Os(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yd)},(t,e)=>(e-t)/yd,t=>t.getUTCSeconds());IA.range;const Qk=Os(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yd)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getMinutes());Qk.range;const Hk=Os(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCMinutes());Hk.range;const $k=Os(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yd-t.getMinutes()*Lo)},(t,e)=>{t.setTime(+t+e*vd)},(t,e)=>(e-t)/vd,t=>t.getHours());$k.range;const qk=Os(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vd)},(t,e)=>(e-t)/vd,t=>t.getUTCHours());qk.range;const Zx=Os(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Lo)/Od,t=>t.getDate()-1);Zx.range;const W1=Os(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Od,t=>t.getUTCDate()-1);W1.range;const NK=Os(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Od,t=>Math.floor(t/Od));NK.range;function hf(t){return Os(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Lo)/Rk)}const G1=hf(0),gw=hf(1),k5e=hf(2),P5e=hf(3),up=hf(4),F5e=hf(5),T5e=hf(6);G1.range;gw.range;k5e.range;P5e.range;up.range;F5e.range;T5e.range;function Af(t){return Os(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/Rk)}const X1=Af(0),xw=Af(1),O5e=Af(2),I5e=Af(3),hp=Af(4),D5e=Af(5),M5e=Af(6);X1.range;xw.range;O5e.range;I5e.range;hp.range;D5e.range;M5e.range;const zk=Os(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());zk.range;const Vk=Os(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Vk.range;const Id=Os(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Id.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Os(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Id.range;const Dd=Os(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Dd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Os(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Dd.range;function _K(t,e,r,s,a,i){const o=[[IA,1,yd],[IA,5,5*yd],[IA,15,15*yd],[IA,30,30*yd],[i,1,Lo],[i,5,5*Lo],[i,15,15*Lo],[i,30,30*Lo],[a,1,vd],[a,3,3*vd],[a,6,6*vd],[a,12,12*vd],[s,1,Od],[s,2,2*Od],[r,1,Rk],[e,1,XR],[e,3,3*XR],[t,1,$C]];function l(d,u,h){const f=u<d;f&&([d,u]=[u,d]);const p=h&&typeof h.range=="function"?h:c(d,u,h),v=p?p.range(d,+u+1):[];return f?v.reverse():v}function c(d,u,h){const f=Math.abs(u-d)/h,p=Bk(([,,g])=>g).right(o,f);if(p===o.length)return t.every(IB(d/$C,u/$C,h));if(p===0)return pw.every(Math.max(IB(d,u,h),1));const[v,y]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return v.every(y)}return[l,c]}const[L5e,U5e]=_K(Dd,Vk,X1,NK,qk,Hk),[R5e,Q5e]=_K(Id,zk,G1,Zx,$k,Qk);function qC(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zC(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function H5e(t){var e=t.dateTime,r=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Eg(a),u=kg(a),h=Eg(i),f=kg(i),p=Eg(o),v=kg(o),y=Eg(l),g=kg(l),x=Eg(c),w=kg(c),_={a:ee,A:G,b:q,B:re,c:null,d:r8,e:r8,f:uCe,g:bCe,G:jCe,H:lCe,I:cCe,j:dCe,L:CK,m:hCe,M:ACe,p:Z,q:$,Q:a8,s:i8,S:fCe,u:mCe,U:pCe,V:gCe,w:xCe,W:yCe,x:null,X:null,y:vCe,Y:wCe,Z:NCe,"%":s8},k={a:L,A:Y,b:X,B:Ae,c:null,d:n8,e:n8,f:BCe,g:LCe,G:RCe,H:_Ce,I:CCe,j:SCe,L:BK,m:ECe,M:kCe,p:fe,q:de,Q:a8,s:i8,S:PCe,u:FCe,U:TCe,V:OCe,w:ICe,W:DCe,x:null,X:null,y:MCe,Y:UCe,Z:QCe,"%":s8},C={a:D,A:N,b:T,B:Q,c:U,d:e8,e:e8,f:sCe,g:ZR,G:JR,H:t8,I:t8,j:eCe,L:nCe,m:Z5e,M:tCe,p:E,q:J5e,Q:iCe,s:oCe,S:rCe,u:K5e,U:W5e,V:G5e,w:V5e,W:X5e,x:K,X:z,y:ZR,Y:JR,Z:Y5e,"%":aCe};_.x=B(r,_),_.X=B(s,_),_.c=B(e,_),k.x=B(r,k),k.X=B(s,k),k.c=B(e,k);function B(me,Ce){return function(xe){var we=[],Ie=-1,lt=0,Le=me.length,J,Qe,je;for(xe instanceof Date||(xe=new Date(+xe));++Ie<Le;)me.charCodeAt(Ie)===37&&(we.push(me.slice(lt,Ie)),(Qe=YR[J=me.charAt(++Ie)])!=null?J=me.charAt(++Ie):Qe=J==="e"?" ":"0",(je=Ce[J])&&(J=je(xe,Qe)),we.push(J),lt=Ie+1);return we.push(me.slice(lt,Ie)),we.join("")}}function I(me,Ce){return function(xe){var we=Bg(1900,void 0,1),Ie=S(we,me,xe+="",0),lt,Le;if(Ie!=xe.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Ce&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(lt=zC(Bg(we.y,0,1)),Le=lt.getUTCDay(),lt=Le>4||Le===0?xw.ceil(lt):xw(lt),lt=W1.offset(lt,(we.V-1)*7),we.y=lt.getUTCFullYear(),we.m=lt.getUTCMonth(),we.d=lt.getUTCDate()+(we.w+6)%7):(lt=qC(Bg(we.y,0,1)),Le=lt.getDay(),lt=Le>4||Le===0?gw.ceil(lt):gw(lt),lt=Zx.offset(lt,(we.V-1)*7),we.y=lt.getFullYear(),we.m=lt.getMonth(),we.d=lt.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Le="Z"in we?zC(Bg(we.y,0,1)).getUTCDay():qC(Bg(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Le+5)%7:we.w+we.U*7-(Le+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,zC(we)):qC(we)}}function S(me,Ce,xe,we){for(var Ie=0,lt=Ce.length,Le=xe.length,J,Qe;Ie<lt;){if(we>=Le)return-1;if(J=Ce.charCodeAt(Ie++),J===37){if(J=Ce.charAt(Ie++),Qe=C[J in YR?Ce.charAt(Ie++):J],!Qe||(we=Qe(me,xe,we))<0)return-1}else if(J!=xe.charCodeAt(we++))return-1}return we}function E(me,Ce,xe){var we=d.exec(Ce.slice(xe));return we?(me.p=u.get(we[0].toLowerCase()),xe+we[0].length):-1}function D(me,Ce,xe){var we=p.exec(Ce.slice(xe));return we?(me.w=v.get(we[0].toLowerCase()),xe+we[0].length):-1}function N(me,Ce,xe){var we=h.exec(Ce.slice(xe));return we?(me.w=f.get(we[0].toLowerCase()),xe+we[0].length):-1}function T(me,Ce,xe){var we=x.exec(Ce.slice(xe));return we?(me.m=w.get(we[0].toLowerCase()),xe+we[0].length):-1}function Q(me,Ce,xe){var we=y.exec(Ce.slice(xe));return we?(me.m=g.get(we[0].toLowerCase()),xe+we[0].length):-1}function U(me,Ce,xe){return S(me,e,Ce,xe)}function K(me,Ce,xe){return S(me,r,Ce,xe)}function z(me,Ce,xe){return S(me,s,Ce,xe)}function ee(me){return o[me.getDay()]}function G(me){return i[me.getDay()]}function q(me){return c[me.getMonth()]}function re(me){return l[me.getMonth()]}function Z(me){return a[+(me.getHours()>=12)]}function $(me){return 1+~~(me.getMonth()/3)}function L(me){return o[me.getUTCDay()]}function Y(me){return i[me.getUTCDay()]}function X(me){return c[me.getUTCMonth()]}function Ae(me){return l[me.getUTCMonth()]}function fe(me){return a[+(me.getUTCHours()>=12)]}function de(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ce=B(me+="",_);return Ce.toString=function(){return me},Ce},parse:function(me){var Ce=I(me+="",!1);return Ce.toString=function(){return me},Ce},utcFormat:function(me){var Ce=B(me+="",k);return Ce.toString=function(){return me},Ce},utcParse:function(me){var Ce=I(me+="",!0);return Ce.toString=function(){return me},Ce}}}var YR={"-":"",_:" ",0:"0"},Xs=/^\s*\d+/,$5e=/^%/,q5e=/[\\^$*+?|[\]().{}]/g;function Fr(t,e,r){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<r?new Array(r-i+1).join(e)+a:a)}function z5e(t){return t.replace(q5e,"\\$&")}function Eg(t){return new RegExp("^(?:"+t.map(z5e).join("|")+")","i")}function kg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function V5e(t,e,r){var s=Xs.exec(e.slice(r,r+1));return s?(t.w=+s[0],r+s[0].length):-1}function K5e(t,e,r){var s=Xs.exec(e.slice(r,r+1));return s?(t.u=+s[0],r+s[0].length):-1}function W5e(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.U=+s[0],r+s[0].length):-1}function G5e(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.V=+s[0],r+s[0].length):-1}function X5e(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.W=+s[0],r+s[0].length):-1}function JR(t,e,r){var s=Xs.exec(e.slice(r,r+4));return s?(t.y=+s[0],r+s[0].length):-1}function ZR(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),r+s[0].length):-1}function Y5e(t,e,r){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),r+s[0].length):-1}function J5e(t,e,r){var s=Xs.exec(e.slice(r,r+1));return s?(t.q=s[0]*3-3,r+s[0].length):-1}function Z5e(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.m=s[0]-1,r+s[0].length):-1}function e8(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.d=+s[0],r+s[0].length):-1}function eCe(t,e,r){var s=Xs.exec(e.slice(r,r+3));return s?(t.m=0,t.d=+s[0],r+s[0].length):-1}function t8(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.H=+s[0],r+s[0].length):-1}function tCe(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.M=+s[0],r+s[0].length):-1}function rCe(t,e,r){var s=Xs.exec(e.slice(r,r+2));return s?(t.S=+s[0],r+s[0].length):-1}function nCe(t,e,r){var s=Xs.exec(e.slice(r,r+3));return s?(t.L=+s[0],r+s[0].length):-1}function sCe(t,e,r){var s=Xs.exec(e.slice(r,r+6));return s?(t.L=Math.floor(s[0]/1e3),r+s[0].length):-1}function aCe(t,e,r){var s=$5e.exec(e.slice(r,r+1));return s?r+s[0].length:-1}function iCe(t,e,r){var s=Xs.exec(e.slice(r));return s?(t.Q=+s[0],r+s[0].length):-1}function oCe(t,e,r){var s=Xs.exec(e.slice(r));return s?(t.s=+s[0],r+s[0].length):-1}function r8(t,e){return Fr(t.getDate(),e,2)}function lCe(t,e){return Fr(t.getHours(),e,2)}function cCe(t,e){return Fr(t.getHours()%12||12,e,2)}function dCe(t,e){return Fr(1+Zx.count(Id(t),t),e,3)}function CK(t,e){return Fr(t.getMilliseconds(),e,3)}function uCe(t,e){return CK(t,e)+"000"}function hCe(t,e){return Fr(t.getMonth()+1,e,2)}function ACe(t,e){return Fr(t.getMinutes(),e,2)}function fCe(t,e){return Fr(t.getSeconds(),e,2)}function mCe(t){var e=t.getDay();return e===0?7:e}function pCe(t,e){return Fr(G1.count(Id(t)-1,t),e,2)}function SK(t){var e=t.getDay();return e>=4||e===0?up(t):up.ceil(t)}function gCe(t,e){return t=SK(t),Fr(up.count(Id(t),t)+(Id(t).getDay()===4),e,2)}function xCe(t){return t.getDay()}function yCe(t,e){return Fr(gw.count(Id(t)-1,t),e,2)}function vCe(t,e){return Fr(t.getFullYear()%100,e,2)}function bCe(t,e){return t=SK(t),Fr(t.getFullYear()%100,e,2)}function wCe(t,e){return Fr(t.getFullYear()%1e4,e,4)}function jCe(t,e){var r=t.getDay();return t=r>=4||r===0?up(t):up.ceil(t),Fr(t.getFullYear()%1e4,e,4)}function NCe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Fr(e/60|0,"0",2)+Fr(e%60,"0",2)}function n8(t,e){return Fr(t.getUTCDate(),e,2)}function _Ce(t,e){return Fr(t.getUTCHours(),e,2)}function CCe(t,e){return Fr(t.getUTCHours()%12||12,e,2)}function SCe(t,e){return Fr(1+W1.count(Dd(t),t),e,3)}function BK(t,e){return Fr(t.getUTCMilliseconds(),e,3)}function BCe(t,e){return BK(t,e)+"000"}function ECe(t,e){return Fr(t.getUTCMonth()+1,e,2)}function kCe(t,e){return Fr(t.getUTCMinutes(),e,2)}function PCe(t,e){return Fr(t.getUTCSeconds(),e,2)}function FCe(t){var e=t.getUTCDay();return e===0?7:e}function TCe(t,e){return Fr(X1.count(Dd(t)-1,t),e,2)}function EK(t){var e=t.getUTCDay();return e>=4||e===0?hp(t):hp.ceil(t)}function OCe(t,e){return t=EK(t),Fr(hp.count(Dd(t),t)+(Dd(t).getUTCDay()===4),e,2)}function ICe(t){return t.getUTCDay()}function DCe(t,e){return Fr(xw.count(Dd(t)-1,t),e,2)}function MCe(t,e){return Fr(t.getUTCFullYear()%100,e,2)}function LCe(t,e){return t=EK(t),Fr(t.getUTCFullYear()%100,e,2)}function UCe(t,e){return Fr(t.getUTCFullYear()%1e4,e,4)}function RCe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?hp(t):hp.ceil(t),Fr(t.getUTCFullYear()%1e4,e,4)}function QCe(){return"+0000"}function s8(){return"%"}function a8(t){return+t}function i8(t){return Math.floor(+t/1e3)}var fm,kK,PK;HCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function HCe(t){return fm=H5e(t),kK=fm.format,fm.parse,PK=fm.utcFormat,fm.utcParse,fm}function $Ce(t){return new Date(t)}function qCe(t){return t instanceof Date?+t:+new Date(+t)}function Kk(t,e,r,s,a,i,o,l,c,d){var u=Tk(),h=u.invert,f=u.domain,p=d(".%L"),v=d(":%S"),y=d("%I:%M"),g=d("%I %p"),x=d("%a %d"),w=d("%b %d"),_=d("%B"),k=d("%Y");function C(B){return(c(B)<B?p:l(B)<B?v:o(B)<B?y:i(B)<B?g:s(B)<B?a(B)<B?x:w:r(B)<B?_:k)(B)}return u.invert=function(B){return new Date(h(B))},u.domain=function(B){return arguments.length?f(Array.from(B,qCe)):f().map($Ce)},u.ticks=function(B){var I=f();return t(I[0],I[I.length-1],B??10)},u.tickFormat=function(B,I){return I==null?C:d(I)},u.nice=function(B){var I=f();return(!B||typeof B.range!="function")&&(B=e(I[0],I[I.length-1],B??10)),B?f(gK(I,B)):u},u.copy=function(){return Jx(u,Kk(t,e,r,s,a,i,o,l,c,d))},u}function zCe(){return zo.apply(Kk(R5e,Q5e,Id,zk,G1,Zx,$k,Qk,IA,kK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function VCe(){return zo.apply(Kk(L5e,U5e,Dd,Vk,X1,W1,qk,Hk,IA,PK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y1(){var t=0,e=1,r,s,a,i,o=ii,l=!1,c;function d(h){return h==null||isNaN(h=+h)?c:o(a===0?.5:(h=(i(h)-r)*a,l?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,r=i(t=+t),s=i(e=+e),a=r===s?0:1/(s-r),d):[t,e]},d.clamp=function(h){return arguments.length?(l=!!h,d):l},d.interpolator=function(h){return arguments.length?(o=h,d):o};function u(h){return function(f){var p,v;return arguments.length?([p,v]=f,o=h(p,v),d):[o(0),o(1)]}}return d.range=u(Qp),d.rangeRound=u(Fk),d.unknown=function(h){return arguments.length?(c=h,d):c},function(h){return i=h,r=h(t),s=h(e),a=r===s?0:1/(s-r),d}}function _h(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function FK(){var t=Nh(Y1()(ii));return t.copy=function(){return _h(t,FK())},qd.apply(t,arguments)}function TK(){var t=Dk(Y1()).domain([1,10]);return t.copy=function(){return _h(t,TK()).base(t.base())},qd.apply(t,arguments)}function OK(){var t=Mk(Y1());return t.copy=function(){return _h(t,OK()).constant(t.constant())},qd.apply(t,arguments)}function Wk(){var t=Lk(Y1());return t.copy=function(){return _h(t,Wk()).exponent(t.exponent())},qd.apply(t,arguments)}function KCe(){return Wk.apply(null,arguments).exponent(.5)}function IK(){var t=[],e=ii;function r(s){if(s!=null&&!isNaN(s=+s))return e((Xx(t,s,1)-1)/(t.length-1))}return r.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(dh),r},r.interpolator=function(s){return arguments.length?(e=s,r):e},r.range=function(){return t.map((s,a)=>e(a/(t.length-1)))},r.quantiles=function(s){return Array.from({length:s+1},(a,i)=>T_e(t,i/s))},r.copy=function(){return IK(e).domain(t)},qd.apply(r,arguments)}function J1(){var t=0,e=.5,r=1,s=1,a,i,o,l,c,d=ii,u,h=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-i)*(s*y<s*i?l:c),d(h?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,r]=y,a=u(t=+t),i=u(e=+e),o=u(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p):[t,e,r]},p.clamp=function(y){return arguments.length?(h=!!y,p):h},p.interpolator=function(y){return arguments.length?(d=y,p):d};function v(y){return function(g){var x,w,_;return arguments.length?([x,w,_]=g,d=a5e(y,[x,w,_]),p):[d(0),d(.5),d(1)]}}return p.range=v(Qp),p.rangeRound=v(Fk),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return u=y,a=y(t),i=y(e),o=y(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,p}}function DK(){var t=Nh(J1()(ii));return t.copy=function(){return _h(t,DK())},qd.apply(t,arguments)}function MK(){var t=Dk(J1()).domain([.1,1,10]);return t.copy=function(){return _h(t,MK()).base(t.base())},qd.apply(t,arguments)}function LK(){var t=Mk(J1());return t.copy=function(){return _h(t,LK()).constant(t.constant())},qd.apply(t,arguments)}function Gk(){var t=Lk(J1());return t.copy=function(){return _h(t,Gk()).exponent(t.exponent())},qd.apply(t,arguments)}function WCe(){return Gk.apply(null,arguments).exponent(.5)}const o8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ix,scaleDiverging:DK,scaleDivergingLog:MK,scaleDivergingPow:Gk,scaleDivergingSqrt:WCe,scaleDivergingSymlog:LK,scaleIdentity:pK,scaleImplicit:DB,scaleLinear:mw,scaleLog:xK,scaleOrdinal:Ek,scalePoint:y0,scalePow:Uk,scaleQuantile:bK,scaleQuantize:wK,scaleRadial:vK,scaleSequential:FK,scaleSequentialLog:TK,scaleSequentialPow:Wk,scaleSequentialQuantile:IK,scaleSequentialSqrt:KCe,scaleSequentialSymlog:OK,scaleSqrt:B5e,scaleSymlog:yK,scaleThreshold:jK,scaleTime:zCe,scaleUtc:VCe,tickFormat:mK},Symbol.toStringTag,{value:"Module"}));var VC,l8;function Z1(){if(l8)return VC;l8=1;var t=Mp();function e(r,s,a){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=s(l);if(c!=null&&(d===void 0?c===c&&!t(c):a(c,d)))var d=c,u=l}return u}return VC=e,VC}var KC,c8;function UK(){if(c8)return KC;c8=1;function t(e,r){return e>r}return KC=t,KC}var WC,d8;function GCe(){if(d8)return WC;d8=1;var t=Z1(),e=UK(),r=Up();function s(a){return a&&a.length?t(a,r,e):void 0}return WC=s,WC}var XCe=GCe();const e2=Dr(XCe);var GC,u8;function RK(){if(u8)return GC;u8=1;function t(e,r){return e<r}return GC=t,GC}var XC,h8;function YCe(){if(h8)return XC;h8=1;var t=Z1(),e=RK(),r=Up();function s(a){return a&&a.length?t(a,r,e):void 0}return XC=s,XC}var JCe=YCe();const t2=Dr(JCe);var YC,A8;function ZCe(){if(A8)return YC;A8=1;var t=dk(),e=jc(),r=WV(),s=Ii();function a(i,o){var l=s(i)?t:r;return l(i,e(o,3))}return YC=a,YC}var JC,f8;function e4e(){if(f8)return JC;f8=1;var t=VV(),e=ZCe();function r(s,a){return t(e(s,a),1)}return JC=r,JC}var t4e=e4e();const r4e=Dr(t4e);var ZC,m8;function n4e(){if(m8)return ZC;m8=1;var t=jk();function e(r,s){return t(r,s)}return ZC=e,ZC}var s4e=n4e();const r2=Dr(s4e);var Hp=1e9,a4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Yk,Tn=!0,qo="[DecimalError] ",VA=qo+"Invalid argument: ",Xk=qo+"Exponent out of range: ",$p=Math.floor,bA=Math.pow,i4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,to,Vs=1e7,jn=7,QK=9007199254740991,yw=$p(QK/jn),kt={};kt.absoluteValue=kt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};kt.comparedTo=kt.cmp=function(t){var e,r,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,e=0,r=s<a?s:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};kt.decimalPlaces=kt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};kt.dividedBy=kt.div=function(t){return Nd(this,new this.constructor(t))};kt.dividedToIntegerBy=kt.idiv=function(t){var e=this,r=e.constructor;return nn(Nd(e,new r(t),0,1),r.precision)};kt.equals=kt.eq=function(t){return!this.cmp(t)};kt.exponent=function(){return bs(this)};kt.greaterThan=kt.gt=function(t){return this.cmp(t)>0};kt.greaterThanOrEqualTo=kt.gte=function(t){return this.cmp(t)>=0};kt.isInteger=kt.isint=function(){return this.e>this.d.length-2};kt.isNegative=kt.isneg=function(){return this.s<0};kt.isPositive=kt.ispos=function(){return this.s>0};kt.isZero=function(){return this.s===0};kt.lessThan=kt.lt=function(t){return this.cmp(t)<0};kt.lessThanOrEqualTo=kt.lte=function(t){return this.cmp(t)<1};kt.logarithm=kt.log=function(t){var e,r=this,s=r.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(to))throw Error(qo+"NaN");if(r.s<1)throw Error(qo+(r.s?"NaN":"-Infinity"));return r.eq(to)?new s(0):(Tn=!1,e=Nd(ux(r,i),ux(t,i),i),Tn=!0,nn(e,a))};kt.minus=kt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qK(e,t):HK(e,(t.s=-t.s,t))};kt.modulo=kt.mod=function(t){var e,r=this,s=r.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(qo+"NaN");return r.s?(Tn=!1,e=Nd(r,t,0,1).times(t),Tn=!0,r.minus(e)):nn(new s(r),a)};kt.naturalExponential=kt.exp=function(){return $K(this)};kt.naturalLogarithm=kt.ln=function(){return ux(this)};kt.negated=kt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};kt.plus=kt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HK(e,t):qK(e,(t.s=-t.s,t))};kt.precision=kt.sd=function(t){var e,r,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(VA+t);if(e=bs(a)+1,s=a.d.length-1,r=s*jn+1,s=a.d[s],s){for(;s%10==0;s/=10)r--;for(s=a.d[0];s>=10;s/=10)r++}return t&&e>r?e:r};kt.squareRoot=kt.sqrt=function(){var t,e,r,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qo+"NaN")}for(t=bs(l),Tn=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=uc(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=$p((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),s=new c(e)):s=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=s,s=i.plus(Nd(l,i,o+2)).times(.5),uc(i.d).slice(0,o)===(e=uc(s.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(nn(i,r+1,0),i.times(i).eq(l)){s=i;break}}else if(e!="9999")break;o+=4}return Tn=!0,nn(s,r)};kt.times=kt.mul=function(t){var e,r,s,a,i,o,l,c,d,u=this,h=u.constructor,f=u.d,p=(t=new h(t)).d;if(!u.s||!t.s)return new h(0);for(t.s*=u.s,r=u.e+t.e,c=f.length,d=p.length,c<d&&(i=f,f=p,p=i,o=c,c=d,d=o),i=[],o=c+d,s=o;s--;)i.push(0);for(s=d;--s>=0;){for(e=0,a=c+s;a>s;)l=i[a]+p[s]*f[a-s-1]+e,i[a--]=l%Vs|0,e=l/Vs|0;i[a]=(i[a]+e)%Vs|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Tn?nn(t,h.precision):t};kt.toDecimalPlaces=kt.todp=function(t,e){var r=this,s=r.constructor;return r=new s(r),t===void 0?r:(xc(t,0,Hp),e===void 0?e=s.rounding:xc(e,0,8),nn(r,t+bs(r)+1,e))};kt.toExponential=function(t,e){var r,s=this,a=s.constructor;return t===void 0?r=ZA(s,!0):(xc(t,0,Hp),e===void 0?e=a.rounding:xc(e,0,8),s=nn(new a(s),t+1,e),r=ZA(s,!0,t+1)),r};kt.toFixed=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?ZA(a):(xc(t,0,Hp),e===void 0?e=i.rounding:xc(e,0,8),s=nn(new i(a),t+bs(a)+1,e),r=ZA(s.abs(),!1,t+bs(s)+1),a.isneg()&&!a.isZero()?"-"+r:r)};kt.toInteger=kt.toint=function(){var t=this,e=t.constructor;return nn(new e(t),bs(t)+1,e.rounding)};kt.toNumber=function(){return+this};kt.toPower=kt.pow=function(t){var e,r,s,a,i,o,l=this,c=l.constructor,d=12,u=+(t=new c(t));if(!t.s)return new c(to);if(l=new c(l),!l.s){if(t.s<1)throw Error(qo+"Infinity");return l}if(l.eq(to))return l;if(s=c.precision,t.eq(to))return nn(l,s);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=u<0?-u:u)<=QK){for(a=new c(to),e=Math.ceil(s/jn+4),Tn=!1;r%2&&(a=a.times(l),g8(a.d,e)),r=$p(r/2),r!==0;)l=l.times(l),g8(l.d,e);return Tn=!0,t.s<0?new c(to).div(a):nn(a,s)}}else if(i<0)throw Error(qo+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Tn=!1,a=t.times(ux(l,s+d)),Tn=!0,a=$K(a),a.s=i,a};kt.toPrecision=function(t,e){var r,s,a=this,i=a.constructor;return t===void 0?(r=bs(a),s=ZA(a,r<=i.toExpNeg||r>=i.toExpPos)):(xc(t,1,Hp),e===void 0?e=i.rounding:xc(e,0,8),a=nn(new i(a),t,e),r=bs(a),s=ZA(a,t<=r||r<=i.toExpNeg,t)),s};kt.toSignificantDigits=kt.tosd=function(t,e){var r=this,s=r.constructor;return t===void 0?(t=s.precision,e=s.rounding):(xc(t,1,Hp),e===void 0?e=s.rounding:xc(e,0,8)),nn(new s(r),t,e)};kt.toString=kt.valueOf=kt.val=kt.toJSON=kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=bs(t),r=t.constructor;return ZA(t,e<=r.toExpNeg||e>=r.toExpPos)};function HK(t,e){var r,s,a,i,o,l,c,d,u=t.constructor,h=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Tn?nn(e,h):e;if(c=t.d,d=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=d.length):(s=d,a=o,l=c.length),o=Math.ceil(h/jn),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,s=d,d=c,c=s),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Vs|0,c[i]%=Vs;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Tn?nn(e,h):e}function xc(t,e,r){if(t!==~~t||t<e||t>r)throw Error(VA+t)}function uc(t){var e,r,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)s=t[e]+"",r=jn-s.length,r&&(i+=Ku(r)),i+=s;o=t[e],s=o+"",r=jn-s.length,r&&(i+=Ku(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Nd=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Vs|0,o=i/Vs|0;return o&&s.unshift(o),s}function e(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function r(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Vs+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,d,u,h,f,p,v,y,g,x,w,_,k,C,B,I,S,E=s.constructor,D=s.s==a.s?1:-1,N=s.d,T=a.d;if(!s.s)return new E(s);if(!a.s)throw Error(qo+"Division by zero");for(c=s.e-a.e,I=T.length,C=N.length,p=new E(D),v=p.d=[],d=0;T[d]==(N[d]||0);)++d;if(T[d]>(N[d]||0)&&--c,i==null?w=i=E.precision:o?w=i+(bs(s)-bs(a))+1:w=i,w<0)return new E(0);if(w=w/jn+2|0,d=0,I==1)for(u=0,T=T[0],w++;(d<C||u)&&w--;d++)_=u*Vs+(N[d]||0),v[d]=_/T|0,u=_%T|0;else{for(u=Vs/(T[0]+1)|0,u>1&&(T=t(T,u),N=t(N,u),I=T.length,C=N.length),k=I,y=N.slice(0,I),g=y.length;g<I;)y[g++]=0;S=T.slice(),S.unshift(0),B=T[0],T[1]>=Vs/2&&++B;do u=0,l=e(T,y,I,g),l<0?(x=y[0],I!=g&&(x=x*Vs+(y[1]||0)),u=x/B|0,u>1?(u>=Vs&&(u=Vs-1),h=t(T,u),f=h.length,g=y.length,l=e(h,y,f,g),l==1&&(u--,r(h,I<f?S:T,f))):(u==0&&(l=u=1),h=T.slice()),f=h.length,f<g&&h.unshift(0),r(y,h,g),l==-1&&(g=y.length,l=e(T,y,I,g),l<1&&(u++,r(y,I<g?S:T,g))),g=y.length):l===0&&(u++,y=[0]),v[d++]=u,l&&y[0]?y[g++]=N[k]||0:(y=[N[k]],g=1);while((k++<C||y[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=c,nn(p,o?i+bs(p)+1:i)}})();function $K(t,e){var r,s,a,i,o,l,c=0,d=0,u=t.constructor,h=u.precision;if(bs(t)>16)throw Error(Xk+bs(t));if(!t.s)return new u(to);for(Tn=!1,l=h,o=new u(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(s=Math.log(bA(2,d))/Math.LN10*2+5|0,l+=s,r=a=i=new u(to),u.precision=l;;){if(a=nn(a.times(t),l),r=r.times(++c),o=i.plus(Nd(a,r,l)),uc(o.d).slice(0,l)===uc(i.d).slice(0,l)){for(;d--;)i=nn(i.times(i),l);return u.precision=h,e==null?(Tn=!0,nn(i,h)):i}i=o}}function bs(t){for(var e=t.e*jn,r=t.d[0];r>=10;r/=10)e++;return e}function e4(t,e,r){if(e>t.LN10.sd())throw Tn=!0,r&&(t.precision=r),Error(qo+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function Ku(t){for(var e="";t--;)e+="0";return e}function ux(t,e){var r,s,a,i,o,l,c,d,u,h=1,f=10,p=t,v=p.d,y=p.constructor,g=y.precision;if(p.s<1)throw Error(qo+(p.s?"NaN":"-Infinity"));if(p.eq(to))return new y(0);if(e==null?(Tn=!1,d=g):d=e,p.eq(10))return e==null&&(Tn=!0),e4(y,d);if(d+=f,y.precision=d,r=uc(v),s=r.charAt(0),i=bs(p),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&r.charAt(1)>3;)p=p.times(t),r=uc(p.d),s=r.charAt(0),h++;i=bs(p),s>1?(p=new y("0."+r),i++):p=new y(s+"."+r.slice(1))}else return c=e4(y,d+2,g).times(i+""),p=ux(new y(s+"."+r.slice(1)),d-f).plus(c),y.precision=g,e==null?(Tn=!0,nn(p,g)):p;for(l=o=p=Nd(p.minus(to),p.plus(to),d),u=nn(p.times(p),d),a=3;;){if(o=nn(o.times(u),d),c=l.plus(Nd(o,new y(a),d)),uc(c.d).slice(0,d)===uc(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(e4(y,d+2,g).times(i+""))),l=Nd(l,new y(h),d),y.precision=g,e==null?(Tn=!0,nn(l,g)):l;l=c,a+=2}}function p8(t,e){var r,s,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(r<0&&(r=s),r+=+e.slice(s+1),e=e.substring(0,s)):r<0&&(r=e.length),s=0;e.charCodeAt(s)===48;)++s;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(s,a),e){if(a-=s,r=r-s-1,t.e=$p(r/jn),t.d=[],s=(r+1)%jn,r<0&&(s+=jn),s<a){for(s&&t.d.push(+e.slice(0,s)),a-=jn;s<a;)t.d.push(+e.slice(s,s+=jn));e=e.slice(s),s=jn-e.length}else s-=a;for(;s--;)e+="0";if(t.d.push(+e),Tn&&(t.e>yw||t.e<-yw))throw Error(Xk+r)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,r){var s,a,i,o,l,c,d,u,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(s=e-o,s<0)s+=jn,a=e,d=h[u=0];else{if(u=Math.ceil((s+1)/jn),i=h.length,u>=i)return t;for(d=i=h[u],o=1;i>=10;i/=10)o++;s%=jn,a=s-jn+o}if(r!==void 0&&(i=bA(10,o-a-1),l=d/i%10|0,c=e<0||h[u+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(s>0?a>0?d/bA(10,o-a):0:h[u-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(i=bs(t),h.length=1,e=e-i-1,h[0]=bA(10,(jn-e%jn)%jn),t.e=$p(-e/jn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(s==0?(h.length=u,i=1,u--):(h.length=u+1,i=bA(10,jn-s),h[u]=a>0?(d/bA(10,o-a)%bA(10,a)|0)*i:0),c)for(;;)if(u==0){(h[0]+=i)==Vs&&(h[0]=1,++t.e);break}else{if(h[u]+=i,h[u]!=Vs)break;h[u--]=0,i=1}for(s=h.length;h[--s]===0;)h.pop();if(Tn&&(t.e>yw||t.e<-yw))throw Error(Xk+bs(t));return t}function qK(t,e){var r,s,a,i,o,l,c,d,u,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Tn?nn(e,p):e;if(c=t.d,h=e.d,s=e.e,d=t.e,c=c.slice(),o=d-s,o){for(u=o<0,u?(r=c,o=-o,l=h.length):(r=h,s=d,l=c.length),a=Math.max(Math.ceil(p/jn),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=h.length,u=a<l,u&&(l=a),a=0;a<l;a++)if(c[a]!=h[a]){u=c[a]<h[a];break}o=0}for(u&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,a=h.length-l;a>0;--a)c[l++]=0;for(a=h.length;a>o;){if(c[--a]<h[a]){for(i=a;i&&c[--i]===0;)c[i]=Vs-1;--c[i],c[a]+=Vs}c[a]-=h[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(e.d=c,e.e=s,Tn?nn(e,p):e):new f(0)}function ZA(t,e,r){var s,a=bs(t),i=uc(t.d),o=i.length;return e?(r&&(s=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ku(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ku(-a-1)+i,r&&(s=r-o)>0&&(i+=Ku(s))):a>=o?(i+=Ku(a+1-o),r&&(s=r-a-1)>0&&(i=i+"."+Ku(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),r&&(s=r-o)>0&&(a+1===o&&(i+="."),i+=Ku(s))),t.s<0?"-"+i:i}function g8(t,e){if(t.length>e)return t.length=e,!0}function zK(t){var e,r,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(VA+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return p8(o,i.toString())}else if(typeof i!="string")throw Error(VA+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,i4e.test(i))p8(o,i);else throw Error(VA+i)}if(a.prototype=kt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zK,a.config=a.set=o4e,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<s.length;)t.hasOwnProperty(r=s[e++])||(t[r]=this[r]);return a.config(t),a}function o4e(t){if(!t||typeof t!="object")throw Error(qo+"Object expected");var e,r,s,a=["precision",1,Hp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((s=t[r=a[e]])!==void 0)if($p(s)===s&&s>=a[e+1]&&s<=a[e+2])this[r]=s;else throw Error(VA+r+": "+s);if((s=t[r="LN10"])!==void 0)if(s==Math.LN10)this[r]=new this(s);else throw Error(VA+r+": "+s);return this}var Yk=zK(a4e);to=new Yk(1);const Jr=Yk;function l4e(t){return h4e(t)||u4e(t)||d4e(t)||c4e()}function c4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d4e(t,e){if(t){if(typeof t=="string")return RB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RB(t,e)}}function u4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function h4e(t){if(Array.isArray(t))return RB(t)}function RB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var A4e=function(e){return e},VK={},KK=function(e){return e===VK},x8=function(e){return function r(){return arguments.length===0||arguments.length===1&&KK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},f4e=function t(e,r){return e===1?r:x8(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==VK}).length;return o>=e?r.apply(void 0,a):t(e-o,x8(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var u=a.map(function(h){return KK(h)?c.shift():h});return r.apply(void 0,l4e(u).concat(c))}))})},n2=function(e){return f4e(e.length,e)},QB=function(e,r){for(var s=[],a=e;a<r;++a)s[a-e]=a;return s},m4e=n2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),p4e=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];if(!r.length)return A4e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},HB=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},WK=function(e){var r=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,s=e.apply(void 0,i)),s}};function g4e(t){var e;return t===0?e=1:e=Math.floor(new Jr(t).abs().log(10).toNumber())+1,e}function x4e(t,e,r){for(var s=new Jr(t),a=0,i=[];s.lt(e)&&a<1e5;)i.push(s.toNumber()),s=s.add(r),a++;return i}var y4e=n2(function(t,e,r){var s=+t,a=+e;return s+r*(a-s)}),v4e=n2(function(t,e,r){var s=e-+t;return s=s||1/0,(r-t)/s}),b4e=n2(function(t,e,r){var s=e-+t;return s=s||1/0,Math.max(0,Math.min(1,(r-t)/s))});const s2={rangeStep:x4e,getDigitCount:g4e,interpolateNumber:y4e,uninterpolateNumber:v4e,uninterpolateTruncation:b4e};function $B(t){return N4e(t)||j4e(t)||GK(t)||w4e()}function w4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function N4e(t){if(Array.isArray(t))return qB(t)}function hx(t,e){return S4e(t)||C4e(t,e)||GK(t,e)||_4e()}function _4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GK(t,e){if(t){if(typeof t=="string")return qB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qB(t,e)}}function qB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function C4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function S4e(t){if(Array.isArray(t))return t}function XK(t){var e=hx(t,2),r=e[0],s=e[1],a=r,i=s;return r>s&&(a=s,i=r),[a,i]}function YK(t,e,r){if(t.lte(0))return new Jr(0);var s=s2.getDigitCount(t.toNumber()),a=new Jr(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new Jr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Jr(Math.ceil(c))}function B4e(t,e,r){var s=1,a=new Jr(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(s=new Jr(10).pow(s2.getDigitCount(t)-1),a=new Jr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Jr(Math.floor(t)))}else t===0?a=new Jr(Math.floor((e-1)/2)):r||(a=new Jr(Math.floor(t)));var o=Math.floor((e-1)/2),l=p4e(m4e(function(c){return a.add(new Jr(c-o).mul(s)).toNumber()}),QB);return l(0,e)}function JK(t,e,r,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Jr(0),tickMin:new Jr(0),tickMax:new Jr(0)};var i=YK(new Jr(e).sub(t).div(r-1),s,a),o;t<=0&&e>=0?o=new Jr(0):(o=new Jr(t).add(e).div(2),o=o.sub(new Jr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Jr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?JK(t,e,r,s,a+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Jr(l).mul(i)),tickMax:o.add(new Jr(c).mul(i))})}function E4e(t){var e=hx(t,2),r=e[0],s=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=XK([r,s]),c=hx(l,2),d=c[0],u=c[1];if(d===-1/0||u===1/0){var h=u===1/0?[d].concat($B(QB(0,a-1).map(function(){return 1/0}))):[].concat($B(QB(0,a-1).map(function(){return-1/0})),[u]);return r>s?HB(h):h}if(d===u)return B4e(d,a,i);var f=JK(d,u,o,i),p=f.step,v=f.tickMin,y=f.tickMax,g=s2.rangeStep(v,y.add(new Jr(.1).mul(p)),p);return r>s?HB(g):g}function k4e(t,e){var r=hx(t,2),s=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=XK([s,a]),l=hx(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[s,a];if(c===d)return[c];var u=Math.max(e,2),h=YK(new Jr(d).sub(c).div(u-1),i,0),f=[].concat($B(s2.rangeStep(new Jr(c),new Jr(d).sub(new Jr(.99).mul(h)),h)),[d]);return s>a?HB(f):f}var P4e=WK(E4e),F4e=WK(k4e),T4e="Invariant failed";function ef(t,e){throw new Error(T4e)}var O4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function vw(){return vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},vw.apply(this,arguments)}function I4e(t,e){return U4e(t)||L4e(t,e)||M4e(t,e)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M4e(t,e){if(t){if(typeof t=="string")return y8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y8(t,e)}}function y8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function L4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function U4e(t){if(Array.isArray(t))return t}function R4e(t,e){if(t==null)return{};var r=Q4e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Q4e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function H4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,tW(s.key),s)}}function q4e(t,e,r){return e&&$4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z4e(t,e,r){return e=bw(e),V4e(t,ZK()?Reflect.construct(e,r||[],bw(t).constructor):e.apply(t,r))}function V4e(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K4e(t)}function K4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(t)}function W4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zB(t,e)}function zB(t,e){return zB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zB(t,e)}function eW(t,e,r){return e=tW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tW(t){var e=G4e(t,"string");return Ap(e)=="symbol"?e:e+""}function G4e(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a2=(function(t){function e(){return H4e(this,e),z4e(this,e,arguments)}return W4e(e,t),q4e(e,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,d=s.dataPointFormatter,u=s.xAxis,h=s.yAxis,f=R4e(s,O4e),p=er(f,!1);this.props.direction==="x"&&u.type!=="number"&&ef();var v=c.map(function(y){var g=d(y,l),x=g.x,w=g.y,_=g.value,k=g.errorVal;if(!k)return null;var C=[],B,I;if(Array.isArray(k)){var S=I4e(k,2);B=S[0],I=S[1]}else B=I=k;if(i==="vertical"){var E=u.scale,D=w+a,N=D+o,T=D-o,Q=E(_-B),U=E(_+I);C.push({x1:U,y1:N,x2:U,y2:T}),C.push({x1:Q,y1:D,x2:U,y2:D}),C.push({x1:Q,y1:N,x2:Q,y2:T})}else if(i==="horizontal"){var K=h.scale,z=x+a,ee=z-o,G=z+o,q=K(_-B),re=K(_+I);C.push({x1:ee,y1:re,x2:G,y2:re}),C.push({x1:z,y1:q,x2:z,y2:re}),C.push({x1:ee,y1:q,x2:G,y2:q})}return ke.createElement(Xr,vw({className:"recharts-errorBar",key:"bar-".concat(C.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},p),C.map(function(Z){return ke.createElement("line",vw({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ke.createElement(Xr,{className:"recharts-errorBars"},v)}}])})(ke.Component);eW(a2,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});eW(a2,"displayName","ErrorBar");function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function uA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(s){X4e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function X4e(t,e,r){return e=Y4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y4e(t){var e=J4e(t,"string");return Ax(e)=="symbol"?e:e+""}function J4e(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rW=function(e){var r=e.children,s=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=Zi(r,qA);if(!o)return null;var l=qA.defaultProps,c=l!==void 0?uA(uA({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(s||[]).reduce(function(u,h){var f=h.item,p=h.props,v=p.sectors||p.data||[];return u.concat(v.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):d=(s||[]).map(function(u){var h=u.item,f=h.type.defaultProps,p=f!==void 0?uA(uA({},f),h.props):{},v=p.dataKey,y=p.name,g=p.legendType,x=p.hide;return{inactive:x,dataKey:v,type:c.iconType||g||"square",color:Jk(h),value:y||v,payload:p}}),uA(uA(uA({},c),qA.getWithHeight(o,a)),{},{payload:d,item:o})};function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function b8(t){return rSe(t)||tSe(t)||eSe(t)||Z4e()}function Z4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(t,e){if(t){if(typeof t=="string")return VB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VB(t,e)}}function tSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rSe(t){if(Array.isArray(t))return VB(t)}function VB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(s){Jm(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Jm(t,e,r){return e=nSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nSe(t){var e=sSe(t,"string");return fx(e)=="symbol"?e:e+""}function sSe(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ia(t,e,r){return mr(t)||mr(e)?r:Fs(e)?so(t,e,r):ar(e)?e(t):r}function v0(t,e,r,s){var a=r4e(t,function(l){return Ia(l,e)});if(r==="number"){var i=a.filter(function(l){return mt(l)||parseFloat(l)});return i.length?[t2(i),e2(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!mr(l)}):a;return o.map(function(l){return Fs(l)||l instanceof Date?l:""})}var aSe=function(e){var r,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=s?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var u=d>0?a[d-1].coordinate:a[l-1].coordinate,h=a[d].coordinate,f=d>=l-1?a[0].coordinate:a[d+1].coordinate,p=void 0;if(si(h-u)!==si(f-h)){var v=[];if(si(f-h)===si(c[1]-c[0])){p=f;var y=h+c[1]-c[0];v[0]=Math.min(y,(y+u)/2),v[1]=Math.max(y,(y+u)/2)}else{p=u;var g=f+c[1]-c[0];v[0]=Math.min(h,(g+h)/2),v[1]=Math.max(h,(g+h)/2)}var x=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){o=a[d].index;break}}else{var w=Math.min(u,f),_=Math.max(u,f);if(e>(w+h)/2&&e<=(_+h)/2){o=a[d].index;break}}}else for(var k=0;k<l;k++)if(k===0&&e<=(s[k].coordinate+s[k+1].coordinate)/2||k>0&&k<l-1&&e>(s[k].coordinate+s[k-1].coordinate)/2&&e<=(s[k].coordinate+s[k+1].coordinate)/2||k===l-1&&e>(s[k].coordinate+s[k-1].coordinate)/2){o=s[k].index;break}return o},Jk=function(e){var r,s=e,a=s.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},iSe=function(e){var r=e.barSize,s=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var u=i[l[c]].stackGroups,h=Object.keys(u),f=0,p=h.length;f<p;f++){var v=u[h[f]],y=v.items,g=v.cateAxisId,x=y.filter(function(I){return jd(I.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,_=w!==void 0?Wn(Wn({},w),x[0].props):x[0].props,k=_.barSize,C=_[g];o[C]||(o[C]=[]);var B=mr(k)?r:k;o[C].push({item:x[0],stackList:x.slice(1),barSize:mr(B)?void 0:ai(B,s,0)})}}return o},oSe=function(e){var r=e.barGap,s=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=ai(r,a,0,!0),u,h=[];if(o[0].barSize===+o[0].barSize){var f=!1,p=a/c,v=o.reduce(function(k,C){return k+C.barSize||0},0);v+=(c-1)*d,v>=a&&(v-=(c-1)*d,d=0),v>=a&&p>0&&(f=!0,p*=.9,v=c*p);var y=(a-v)/2>>0,g={offset:y-d,size:0};u=o.reduce(function(k,C){var B={item:C.item,position:{offset:g.offset+g.size+d,size:f?p:C.barSize}},I=[].concat(b8(k),[B]);return g=I[I.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){I.push({item:S,position:g})}),I},h)}else{var x=ai(s,a,0,!0);a-2*x-(c-1)*d<=0&&(d=0);var w=(a-2*x-(c-1)*d)/c;w>1&&(w>>=0);var _=l===+l?Math.min(w,l):w;u=o.reduce(function(k,C,B){var I=[].concat(b8(k),[{item:C.item,position:{offset:x+(w+d)*B+(w-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){I.push({item:S,position:I[I.length-1].position})}),I},h)}return u},lSe=function(e,r,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),d=rW({children:i,legendWidth:c});if(d){var u=a||{},h=u.width,f=u.height,p=d.align,v=d.verticalAlign,y=d.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&p!=="center"&&mt(e[p]))return Wn(Wn({},e),{},Jm({},p,e[p]+(h||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&v!=="middle"&&mt(e[v]))return Wn(Wn({},e),{},Jm({},v,e[v]+(f||0)))}return e},cSe=function(e,r,s){return mr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||s==="x"?r==="xAxis":s==="y"?r==="yAxis":!0},nW=function(e,r,s,a,i){var o=r.props.children,l=Qo(o,a2).filter(function(d){return cSe(a,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,u){var h=Ia(u,s);if(mr(h))return d;var f=Array.isArray(h)?[t2(h),e2(h)]:[h,h],p=c.reduce(function(v,y){var g=Ia(u,y,0),x=f[0]-Math.abs(Array.isArray(g)?g[0]:g),w=f[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(x,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],d[0]),Math.max(p[1],d[1])]},[1/0,-1/0])}return null},dSe=function(e,r,s,a,i){var o=r.map(function(l){return nW(e,l,s,i,a)}).filter(function(l){return!mr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},sW=function(e,r,s,a,i){var o=r.map(function(c){var d=c.props.dataKey;return s==="number"&&d&&nW(e,c,d,a)||v0(e,d,s,i)});if(s==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var u=0,h=d.length;u<h;u++)l[d[u]]||(l[d[u]]=!0,c.push(d[u]));return c},[])},aW=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},iW=function(e,r,s,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(s),l},bd=function(e,r,s){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(r||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&l?.length>=2?si(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(h){var f=i?i.indexOf(h):h;return{coordinate:a(f)+d,value:h,offset:d}});return u.filter(function(h){return!Vx(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:a(h)+d,value:h,index:f,offset:d}}):a.ticks&&!s?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,f){return{coordinate:a(h)+d,value:i?i[h]:h,index:f,offset:d}})},t4=new WeakMap,$v=function(e,r){if(typeof r!="function")return e;t4.has(e)||t4.set(e,new WeakMap);var s=t4.get(e);if(s.has(r))return s.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return s.set(r,a),a},oW=function(e,r,s){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:ix(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mw(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!s)?{scale:y0(),realScaleType:"point"}:i==="category"?{scale:ix(),realScaleType:"band"}:{scale:mw(),realScaleType:"linear"};if(XA(a)){var c="scale".concat(R1(a));return{scale:(o8[c]||y0)(),realScaleType:o8[c]?c:"point"}}return ar(a)?{scale:a}:{scale:y0(),realScaleType:"point"}},j8=1e-4,lW=function(e){var r=e.domain();if(!(!r||r.length<=2)){var s=r.length,a=e.range(),i=Math.min(a[0],a[1])-j8,o=Math.max(a[0],a[1])+j8,l=e(r[0]),c=e(r[s-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[s-1]])}},uSe=function(e,r){if(!e)return null;for(var s=0,a=e.length;s<a;s++)if(e[s].item===r)return e[s].position;return null},hSe=function(e,r){if(!r||r.length!==2||!mt(r[0])||!mt(r[1]))return e;var s=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!mt(e[0])||e[0]<s)&&(i[0]=s),(!mt(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},ASe=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0,l=0;l<r;++l){var c=Vx(e[l][s][1])?e[l][s][0]:e[l][s][1];c>=0?(e[l][s][0]=i,e[l][s][1]=i+c,i=e[l][s][1]):(e[l][s][0]=o,e[l][s][1]=o+c,o=e[l][s][1])}},fSe=function(e){var r=e.length;if(!(r<=0))for(var s=0,a=e[0].length;s<a;++s)for(var i=0,o=0;o<r;++o){var l=Vx(e[o][s][1])?e[o][s][0]:e[o][s][1];l>=0?(e[o][s][0]=i,e[o][s][1]=i+l,i=e[o][s][1]):(e[o][s][0]=0,e[o][s][1]=0)}},mSe={sign:ASe,expand:r2e,none:ap,silhouette:n2e,wiggle:s2e,positive:fSe},pSe=function(e,r,s){var a=r.map(function(l){return l.props.dataKey}),i=mSe[s],o=t2e().keys(a).value(function(l,c){return+Ia(l,c,0)}).order(wB).offset(i);return o(e)},gSe=function(e,r,s,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(h,f){var p,v=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Wn(Wn({},f.type.defaultProps),f.props):f.props,y=v.stackId,g=v.hide;if(g)return h;var x=v[s],w=h[x]||{hasStack:!1,stackGroups:{}};if(Fs(y)){var _=w.stackGroups[y]||{numericAxisId:s,cateAxisId:a,items:[]};_.items.push(f),w.hasStack=!0,w.stackGroups[y]=_}else w.stackGroups[Kx("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[f]};return Wn(Wn({},h),{},Jm({},x,w))},c),u={};return Object.keys(d).reduce(function(h,f){var p=d[f];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,g){var x=p.stackGroups[g];return Wn(Wn({},y),{},Jm({},g,{numericAxisId:s,cateAxisId:a,items:x.items,stackedData:pSe(e,x.items,i)}))},v)}return Wn(Wn({},h),{},Jm({},f,p))},u)},cW=function(e,r){var s=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=s||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var u=P4e(d,i,l);return e.domain([t2(u),e2(u)]),{niceTicks:u}}if(i&&a==="number"){var h=e.domain(),f=F4e(h,i,l);return{niceTicks:f}}return null},N8=function(e){var r=e.axis,s=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return s[l]?s[l].coordinate+a:null;var c=Ia(o,r.dataKey,r.domain[l]);return mr(c)?null:r.scale(c)-i/2+a},xSe=function(e){var r=e.numericAxis,s=r.scale.domain();if(r.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},ySe=function(e,r){var s,a=(s=e.type)!==null&&s!==void 0&&s.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Fs(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},vSe=function(e){return e.reduce(function(r,s){return[t2(s.concat([r[0]]).filter(mt)),e2(s.concat([r[1]]).filter(mt))]},[1/0,-1/0])},dW=function(e,r,s){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,u){var h=vSe(u.slice(r,s+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},_8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KB=function(e,r,s){if(ar(e))return e(r,s);if(!Array.isArray(e))return r;var a=[];if(mt(e[0]))a[0]=s?e[0]:Math.min(e[0],r[0]);else if(_8.test(e[0])){var i=+_8.exec(e[0])[1];a[0]=r[0]-i}else ar(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(mt(e[1]))a[1]=s?e[1]:Math.max(e[1],r[1]);else if(C8.test(e[1])){var o=+C8.exec(e[1])[1];a[1]=r[1]+o}else ar(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},ww=function(e,r,s){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!s||a>0)return a}if(e&&r&&r.length>=2){for(var i=_k(r,function(h){return h.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],u=i[l-1];o=Math.min((d.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},S8=function(e,r,s){return!e||!e.length||r2(e,so(s,"type.defaultProps.domain"))?r:e},uW=function(e,r){var s=e.type.defaultProps?Wn(Wn({},e.type.defaultProps),e.props):e.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,d=s.chartType,u=s.hide;return Wn(Wn({},er(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:Jk(e),value:Ia(r,a),type:c,payload:r,chartType:d,hide:u})};function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function B8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ad(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(r),!0).forEach(function(s){hW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function hW(t,e,r){return e=bSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bSe(t){var e=wSe(t,"string");return mx(e)=="symbol"?e:e+""}function wSe(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jSe(t,e){return SSe(t)||CSe(t,e)||_Se(t,e)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return E8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E8(t,e)}}function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function CSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function SSe(t){if(Array.isArray(t))return t}var jw=Math.PI/180,BSe=function(e){return e*180/Math.PI},un=function(e,r,s,a){return{x:e+Math.cos(-jw*a)*s,y:r+Math.sin(-jw*a)*s}},AW=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(s.left||0)-(s.right||0)),Math.abs(r-(s.top||0)-(s.bottom||0)))/2},ESe=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,u=ai(e.cx,o,o/2),h=ai(e.cy,l,l/2),f=AW(o,l,s),p=ai(e.innerRadius,f,0),v=ai(e.outerRadius,f,f*.8),y=Object.keys(r);return y.reduce(function(g,x){var w=r[x],_=w.domain,k=w.reversed,C;if(mr(w.range))a==="angleAxis"?C=[c,d]:a==="radiusAxis"&&(C=[p,v]),k&&(C=[C[1],C[0]]);else{C=w.range;var B=C,I=jSe(B,2);c=I[0],d=I[1]}var S=oW(w,i),E=S.realScaleType,D=S.scale;D.domain(_).range(C),lW(D);var N=cW(D,Ad(Ad({},w),{},{realScaleType:E})),T=Ad(Ad(Ad({},w),N),{},{range:C,radius:v,realScaleType:E,scale:D,cx:u,cy:h,innerRadius:p,outerRadius:v,startAngle:c,endAngle:d});return Ad(Ad({},g),{},hW({},x,T))},{})},kSe=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},PSe=function(e,r){var s=e.x,a=e.y,i=r.cx,o=r.cy,l=kSe({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,d=Math.acos(c);return a>o&&(d=2*Math.PI-d),{radius:l,angle:BSe(d),angleInRadian:d}},FSe=function(e){var r=e.startAngle,s=e.endAngle,a=Math.floor(r/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:s-o*360}},TSe=function(e,r){var s=r.startAngle,a=r.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},k8=function(e,r){var s=e.x,a=e.y,i=PSe({x:s,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var u=FSe(r),h=u.startAngle,f=u.endAngle,p=l,v;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=h}return v?Ad(Ad({},r),{},{radius:o,angle:TSe(p,r)}):null},fW=function(e){return!O.isValidElement(e)&&!ar(e)&&typeof e!="boolean"?e.className:""};function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}var OSe=["offset"];function ISe(t){return USe(t)||LSe(t)||MSe(t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MSe(t,e){if(t){if(typeof t=="string")return WB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WB(t,e)}}function LSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function USe(t){if(Array.isArray(t))return WB(t)}function WB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function RSe(t,e){if(t==null)return{};var r=QSe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function QSe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(s){HSe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function HSe(t,e,r){return e=$Se(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Se(t){var e=qSe(t,"string");return px(e)=="symbol"?e:e+""}function qSe(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},gx.apply(this,arguments)}var zSe=function(e){var r=e.value,s=e.formatter,a=mr(e.children)?r:e.children;return ar(s)?s(a):a},VSe=function(e,r){var s=si(r-e),a=Math.min(Math.abs(r-e),360);return s*a},KSe=function(e,r,s){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,h=c.innerRadius,f=c.outerRadius,p=c.startAngle,v=c.endAngle,y=c.clockWise,g=(h+f)/2,x=VSe(p,v),w=x>=0?1:-1,_,k;a==="insideStart"?(_=p+w*o,k=y):a==="insideEnd"?(_=v-w*o,k=!y):a==="end"&&(_=v+w*o,k=y),k=x<=0?k:!k;var C=un(d,u,g,_),B=un(d,u,g,_+(k?1:-1)*359),I="M".concat(C.x,",").concat(C.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(k?0:1,`,
    `).concat(B.x,",").concat(B.y),S=mr(e.id)?Kx("recharts-radial-line-"):e.id;return ke.createElement("text",gx({},s,{dominantBaseline:"central",className:Ar("recharts-radial-bar-label",l)}),ke.createElement("defs",null,ke.createElement("path",{id:S,d:I})),ke.createElement("textPath",{xlinkHref:"#".concat(S)},r))},WSe=function(e){var r=e.viewBox,s=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,u=i.startAngle,h=i.endAngle,f=(u+h)/2;if(a==="outside"){var p=un(o,l,d+s,f),v=p.x,y=p.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+d)/2,x=un(o,l,g,f),w=x.x,_=x.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},GSe=function(e){var r=e.viewBox,s=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,u=o.height,h=u>=0?1:-1,f=h*a,p=h>0?"end":"start",v=h>0?"start":"end",y=d>=0?1:-1,g=y*a,x=y>0?"end":"start",w=y>0?"start":"end";if(i==="top"){var _={x:l+d/2,y:c-h*a,textAnchor:"middle",verticalAnchor:p};return Bs(Bs({},_),s?{height:Math.max(c-s.y,0),width:d}:{})}if(i==="bottom"){var k={x:l+d/2,y:c+u+f,textAnchor:"middle",verticalAnchor:v};return Bs(Bs({},k),s?{height:Math.max(s.y+s.height-(c+u),0),width:d}:{})}if(i==="left"){var C={x:l-g,y:c+u/2,textAnchor:x,verticalAnchor:"middle"};return Bs(Bs({},C),s?{width:Math.max(C.x-s.x,0),height:u}:{})}if(i==="right"){var B={x:l+d+g,y:c+u/2,textAnchor:w,verticalAnchor:"middle"};return Bs(Bs({},B),s?{width:Math.max(s.x+s.width-B.x,0),height:u}:{})}var I=s?{width:d,height:u}:{};return i==="insideLeft"?Bs({x:l+g,y:c+u/2,textAnchor:w,verticalAnchor:"middle"},I):i==="insideRight"?Bs({x:l+d-g,y:c+u/2,textAnchor:x,verticalAnchor:"middle"},I):i==="insideTop"?Bs({x:l+d/2,y:c+f,textAnchor:"middle",verticalAnchor:v},I):i==="insideBottom"?Bs({x:l+d/2,y:c+u-f,textAnchor:"middle",verticalAnchor:p},I):i==="insideTopLeft"?Bs({x:l+g,y:c+f,textAnchor:w,verticalAnchor:v},I):i==="insideTopRight"?Bs({x:l+d-g,y:c+f,textAnchor:x,verticalAnchor:v},I):i==="insideBottomLeft"?Bs({x:l+g,y:c+u-f,textAnchor:w,verticalAnchor:p},I):i==="insideBottomRight"?Bs({x:l+d-g,y:c+u-f,textAnchor:x,verticalAnchor:p},I):Lp(i)&&(mt(i.x)||TA(i.x))&&(mt(i.y)||TA(i.y))?Bs({x:l+ai(i.x,d),y:c+ai(i.y,u),textAnchor:"end",verticalAnchor:"end"},I):Bs({x:l+d/2,y:c+u/2,textAnchor:"middle",verticalAnchor:"middle"},I)},XSe=function(e){return"cx"in e&&mt(e.cx)};function Ws(t){var e=t.offset,r=e===void 0?5:e,s=RSe(t,OSe),a=Bs({offset:r},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,d=a.content,u=a.className,h=u===void 0?"":u,f=a.textBreakAll;if(!i||mr(l)&&mr(c)&&!O.isValidElement(d)&&!ar(d))return null;if(O.isValidElement(d))return O.cloneElement(d,a);var p;if(ar(d)){if(p=O.createElement(d,a),O.isValidElement(p))return p}else p=zSe(a);var v=XSe(i),y=er(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return KSe(a,p,y);var g=v?WSe(a):GSe(a);return ke.createElement(JA,gx({className:Ar("recharts-label",h)},y,g,{breakAll:f}),p)}Ws.displayName="Label";var mW=function(e){var r=e.cx,s=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,u=e.outerRadius,h=e.x,f=e.y,p=e.top,v=e.left,y=e.width,g=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(mt(y)&&mt(g)){if(mt(h)&&mt(f))return{x:h,y:f,width:y,height:g};if(mt(p)&&mt(v))return{x:p,y:v,width:y,height:g}}return mt(h)&&mt(f)?{x:h,y:f,width:0,height:0}:mt(r)&&mt(s)?{cx:r,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:u||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},YSe=function(e,r){return e?e===!0?ke.createElement(Ws,{key:"label-implicit",viewBox:r}):Fs(e)?ke.createElement(Ws,{key:"label-implicit",viewBox:r,value:e}):O.isValidElement(e)?e.type===Ws?O.cloneElement(e,{key:"label-implicit",viewBox:r}):ke.createElement(Ws,{key:"label-implicit",content:e,viewBox:r}):ar(e)?ke.createElement(Ws,{key:"label-implicit",content:e,viewBox:r}):Lp(e)?ke.createElement(Ws,gx({viewBox:r},e,{key:"label-implicit"})):null:null},JSe=function(e,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&s&&!e.label)return null;var a=e.children,i=mW(e),o=Qo(a,Ws).map(function(c,d){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!s)return o;var l=YSe(e.label,r||i);return[l].concat(ISe(o))};Ws.parseViewBox=mW;Ws.renderCallByParent=JSe;var r4,F8;function ZSe(){if(F8)return r4;F8=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return r4=t,r4}var eBe=ZSe();const tBe=Dr(eBe);function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}var rBe=["valueAccessor"],nBe=["data","dataKey","clockWise","id","textBreakAll"];function sBe(t){return lBe(t)||oBe(t)||iBe(t)||aBe()}function aBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iBe(t,e){if(t){if(typeof t=="string")return GB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GB(t,e)}}function oBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lBe(t){if(Array.isArray(t))return GB(t)}function GB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Nw.apply(this,arguments)}function T8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function O8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(r),!0).forEach(function(s){cBe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function cBe(t,e,r){return e=dBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dBe(t){var e=uBe(t,"string");return xx(e)=="symbol"?e:e+""}function uBe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I8(t,e){if(t==null)return{};var r=hBe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function hBe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var ABe=function(e){return Array.isArray(e.value)?tBe(e.value):e.value};function uh(t){var e=t.valueAccessor,r=e===void 0?ABe:e,s=I8(t,rBe),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,d=I8(s,nBe);return!a||!a.length?null:ke.createElement(Xr,{className:"recharts-label-list"},a.map(function(u,h){var f=mr(i)?r(u,h):Ia(u&&u.payload,i),p=mr(l)?{}:{id:"".concat(l,"-").concat(h)};return ke.createElement(Ws,Nw({},er(u,!0),d,p,{parentViewBox:u.parentViewBox,value:f,textBreakAll:c,viewBox:Ws.parseViewBox(mr(o)?u:O8(O8({},u),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}uh.displayName="LabelList";function fBe(t,e){return t?t===!0?ke.createElement(uh,{key:"labelList-implicit",data:e}):ke.isValidElement(t)||ar(t)?ke.createElement(uh,{key:"labelList-implicit",data:e,content:t}):Lp(t)?ke.createElement(uh,Nw({data:e},t,{key:"labelList-implicit"})):null:null}function mBe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,a=Qo(s,uh).map(function(o,l){return O.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=fBe(t.label,e);return[i].concat(sBe(a))}uh.renderCallByParent=mBe;function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function XB(){return XB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},XB.apply(this,arguments)}function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function M8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(s){pBe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function pBe(t,e,r){return e=gBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gBe(t){var e=xBe(t,"string");return yx(e)=="symbol"?e:e+""}function xBe(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(yx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yBe=function(e,r){var s=si(r-e),a=Math.min(Math.abs(r-e),359.999);return s*a},qv=function(e){var r=e.cx,s=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,u=c*(l?1:-1)+a,h=Math.asin(c/u)/jw,f=d?i:i+o*h,p=un(r,s,u,f),v=un(r,s,a,f),y=d?i-o*h:i,g=un(r,s,u*Math.cos(h*jw),y);return{center:p,circleTangency:v,lineTangency:g,theta:h}},pW=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=yBe(o,l),d=o+c,u=un(r,s,i,o),h=un(r,s,i,d),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var p=un(r,s,a,o),v=un(r,s,a,d);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(s," Z");return f},vBe=function(e){var r=e.cx,s=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,u=e.endAngle,h=si(u-d),f=qv({cx:r,cy:s,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:c}),p=f.circleTangency,v=f.lineTangency,y=f.theta,g=qv({cx:r,cy:s,radius:i,angle:u,sign:-h,cornerRadius:o,cornerIsExternal:c}),x=g.circleTangency,w=g.lineTangency,_=g.theta,k=c?Math.abs(d-u):Math.abs(d-u)-y-_;if(k<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pW({cx:r,cy:s,innerRadius:a,outerRadius:i,startAngle:d,endAngle:u});var C="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var B=qv({cx:r,cy:s,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=B.circleTangency,S=B.lineTangency,E=B.theta,D=qv({cx:r,cy:s,radius:a,angle:u,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=D.circleTangency,T=D.lineTangency,Q=D.theta,U=c?Math.abs(d-u):Math.abs(d-u)-E-Q;if(U<0&&o===0)return"".concat(C,"L").concat(r,",").concat(s,"Z");C+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(h>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,"Z")}else C+="L".concat(r,",").concat(s,"Z");return C},bBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gW=function(e){var r=M8(M8({},bBe),e),s=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,u=r.startAngle,h=r.endAngle,f=r.className;if(o<i||u===h)return null;var p=Ar("recharts-sector",f),v=o-i,y=ai(l,v,0,!0),g;return y>0&&Math.abs(u-h)<360?g=vBe({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:u,endAngle:h}):g=pW({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:u,endAngle:h}),ke.createElement("path",XB({},er(r,!0),{className:p,d:g,role:"img"}))};function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function YB(){return YB=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},YB.apply(this,arguments)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function U8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(s){wBe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function wBe(t,e,r){return e=jBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jBe(t){var e=NBe(t,"string");return vx(e)=="symbol"?e:e+""}function NBe(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R8={curveBasisClosed:q1e,curveBasisOpen:z1e,curveBasis:$1e,curveBumpX:E1e,curveBumpY:k1e,curveLinearClosed:V1e,curveLinear:H1,curveMonotoneX:K1e,curveMonotoneY:W1e,curveNatural:G1e,curveStep:X1e,curveStepAfter:J1e,curveStepBefore:Y1e},zv=function(e){return e.x===+e.x&&e.y===+e.y},Pg=function(e){return e.x},Fg=function(e){return e.y},_Be=function(e,r){if(ar(e))return e;var s="curve".concat(R1(e));return(s==="curveMonotone"||s==="curveBump")&&r?R8["".concat(s).concat(r==="vertical"?"Y":"X")]:R8[s]||H1},CBe=function(e){var r=e.type,s=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,u=_Be(s,l),h=d?i.filter(function(y){return zv(y)}):i,f;if(Array.isArray(o)){var p=d?o.filter(function(y){return zv(y)}):o,v=h.map(function(y,g){return U8(U8({},y),{},{base:p[g]})});return l==="vertical"?f=Dv().y(Fg).x1(Pg).x0(function(y){return y.base.x}):f=Dv().x(Pg).y1(Fg).y0(function(y){return y.base.y}),f.defined(zv).curve(u),f(v)}return l==="vertical"&&mt(o)?f=Dv().y(Fg).x1(Pg).x0(o):mt(o)?f=Dv().x(Pg).y1(Fg).y0(o):f=mV().x(Pg).y(Fg),f.defined(zv).curve(u),f(h)},JB=function(e){var r=e.className,s=e.points,a=e.path,i=e.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?CBe(e):a;return O.createElement("path",YB({},er(e,!1),Jb(e),{className:Ar("recharts-curve",r),d:o,ref:i}))},n4={exports:{}},s4,Q8;function SBe(){if(Q8)return s4;Q8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return s4=t,s4}var a4,H8;function BBe(){if(H8)return a4;H8=1;var t=SBe();function e(){}function r(){}return r.resetWarningCache=e,a4=function(){function s(o,l,c,d,u,h){if(h!==t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},a4}var $8;function EBe(){return $8||($8=1,n4.exports=BBe()()),n4.exports}var kBe=EBe();const Qr=Dr(kBe);var PBe=Object.getOwnPropertyNames,FBe=Object.getOwnPropertySymbols,TBe=Object.prototype.hasOwnProperty;function q8(t,e){return function(s,a,i){return t(s,a,i)&&e(s,a,i)}}function Vv(t){return function(r,s,a){if(!r||!s||typeof r!="object"||typeof s!="object")return t(r,s,a);var i=a.cache,o=i.get(r),l=i.get(s);if(o&&l)return o===s&&l===r;i.set(r,s),i.set(s,r);var c=t(r,s,a);return i.delete(r),i.delete(s),c}}function OBe(t){return t?.[Symbol.toStringTag]}function z8(t){return PBe(t).concat(FBe(t))}var IBe=Object.hasOwn||(function(t,e){return TBe.call(t,e)});function ff(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var DBe="__v",MBe="__o",LBe="_owner",V8=Object.getOwnPropertyDescriptor,K8=Object.keys;function UBe(t,e,r){var s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function RBe(t,e){return ff(t.getTime(),e.getTime())}function QBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function HBe(t,e){return t===e}function W8(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),u=!1,h=0;(l=d.next())&&!l.done;){if(a[h]){h++;continue}var f=o.value,p=l.value;if(r.equals(f[0],p[0],c,h,t,e,r)&&r.equals(f[1],p[1],f[0],p[0],t,e,r)){u=a[h]=!0;break}h++}if(!u)return!1;c++}return!0}var $Be=ff;function qBe(t,e,r){var s=K8(t),a=s.length;if(K8(e).length!==a)return!1;for(;a-- >0;)if(!xW(t,e,r,s[a]))return!1;return!0}function Tg(t,e,r){var s=z8(t),a=s.length;if(z8(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=s[a],!xW(t,e,r,i)||(o=V8(t,i),l=V8(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function zBe(t,e){return ff(t.valueOf(),e.valueOf())}function VBe(t,e){return t.source===e.source&&t.flags===e.flags}function G8(t,e,r){var s=t.size;if(s!==e.size)return!1;if(!s)return!0;for(var a=new Array(s),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,u=0;(l=c.next())&&!l.done;){if(!a[u]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=a[u]=!0;break}u++}if(!d)return!1}return!0}function KBe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function WBe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xW(t,e,r,s){return(s===LBe||s===MBe||s===DBe)&&(t.$$typeof||e.$$typeof)?!0:IBe(e,s)&&r.equals(t[s],e[s],s,s,t,e,r)}var GBe="[object Arguments]",XBe="[object Boolean]",YBe="[object Date]",JBe="[object Error]",ZBe="[object Map]",e3e="[object Number]",t3e="[object Object]",r3e="[object RegExp]",n3e="[object Set]",s3e="[object String]",a3e="[object URL]",i3e=Array.isArray,X8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Y8=Object.assign,o3e=Object.prototype.toString.call.bind(Object.prototype.toString);function l3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,s=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,u=t.areSetsEqual,h=t.areTypedArraysEqual,f=t.areUrlsEqual,p=t.unknownTagComparators;return function(y,g,x){if(y===g)return!0;if(y==null||g==null)return!1;var w=typeof y;if(w!==typeof g)return!1;if(w!=="object")return w==="number"?o(y,g,x):w==="function"?a(y,g,x):!1;var _=y.constructor;if(_!==g.constructor)return!1;if(_===Object)return l(y,g,x);if(i3e(y))return e(y,g,x);if(X8!=null&&X8(y))return h(y,g,x);if(_===Date)return r(y,g,x);if(_===RegExp)return d(y,g,x);if(_===Map)return i(y,g,x);if(_===Set)return u(y,g,x);var k=o3e(y);if(k===YBe)return r(y,g,x);if(k===r3e)return d(y,g,x);if(k===ZBe)return i(y,g,x);if(k===n3e)return u(y,g,x);if(k===t3e)return typeof y.then!="function"&&typeof g.then!="function"&&l(y,g,x);if(k===a3e)return f(y,g,x);if(k===JBe)return s(y,g,x);if(k===GBe)return l(y,g,x);if(k===XBe||k===e3e||k===s3e)return c(y,g,x);if(p){var C=p[k];if(!C){var B=OBe(y);B&&(C=p[B])}if(C)return C(y,g,x)}return!1}}function c3e(t){var e=t.circular,r=t.createCustomConfig,s=t.strict,a={areArraysEqual:s?Tg:UBe,areDatesEqual:RBe,areErrorsEqual:QBe,areFunctionsEqual:HBe,areMapsEqual:s?q8(W8,Tg):W8,areNumbersEqual:$Be,areObjectsEqual:s?Tg:qBe,arePrimitiveWrappersEqual:zBe,areRegExpsEqual:VBe,areSetsEqual:s?q8(G8,Tg):G8,areTypedArraysEqual:s?Tg:KBe,areUrlsEqual:WBe,unknownTagComparators:void 0};if(r&&(a=Y8({},a,r(a))),e){var i=Vv(a.areArraysEqual),o=Vv(a.areMapsEqual),l=Vv(a.areObjectsEqual),c=Vv(a.areSetsEqual);a=Y8({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function d3e(t){return function(e,r,s,a,i,o,l){return t(e,r,l)}}function u3e(t){var e=t.circular,r=t.comparator,s=t.createState,a=t.equals,i=t.strict;if(s)return function(c,d){var u=s(),h=u.cache,f=h===void 0?e?new WeakMap:void 0:h,p=u.meta;return r(c,d,{cache:f,equals:a,meta:p,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var h3e=Ch();Ch({strict:!0});Ch({circular:!0});Ch({circular:!0,strict:!0});Ch({createInternalComparator:function(){return ff}});Ch({strict:!0,createInternalComparator:function(){return ff}});Ch({circular:!0,createInternalComparator:function(){return ff}});Ch({circular:!0,createInternalComparator:function(){return ff},strict:!0});function Ch(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,s=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=c3e(t),c=l3e(l),d=s?s(c):d3e(c);return u3e({circular:r,comparator:c,createState:a,equals:d,strict:o})}function A3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function J8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,s=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):A3e(a)};requestAnimationFrame(s)}function ZB(t){"@babel/helpers - typeof";return ZB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZB(t)}function f3e(t){return x3e(t)||g3e(t)||p3e(t)||m3e()}function m3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3e(t,e){if(t){if(typeof t=="string")return Z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z8(t,e)}}function Z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function g3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x3e(t){if(Array.isArray(t))return t}function y3e(){var t={},e=function(){return null},r=!1,s=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=f3e(o),c=l[0],d=l.slice(1);if(typeof c=="number"){J8(a.bind(null,d),c);return}a(c),J8(a.bind(null,d));return}ZB(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,s(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function eQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function tQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eQ(Object(r),!0).forEach(function(s){yW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function yW(t,e,r){return e=v3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v3e(t){var e=b3e(t,"string");return bx(e)==="symbol"?e:String(e)}function b3e(t,e){if(bx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(bx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},j3e=function(e){return e},N3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},b0=function(e,r){return Object.keys(r).reduce(function(s,a){return tQ(tQ({},s),{},yW({},a,e(a,r[a])))},{})},rQ=function(e,r,s){return e.map(function(a){return"".concat(N3e(a)," ").concat(r,"ms ").concat(s)}).join(",")};function _3e(t,e){return B3e(t)||S3e(t,e)||vW(t,e)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function B3e(t){if(Array.isArray(t))return t}function E3e(t){return F3e(t)||P3e(t)||vW(t)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vW(t,e){if(t){if(typeof t=="string")return e3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e3(t,e)}}function P3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function F3e(t){if(Array.isArray(t))return e3(t)}function e3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var _w=1e-4,bW=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},wW=function(e,r){return e.map(function(s,a){return s*Math.pow(r,a)}).reduce(function(s,a){return s+a})},nQ=function(e,r){return function(s){var a=bW(e,r);return wW(a,s)}},T3e=function(e,r){return function(s){var a=bW(e,r),i=[].concat(E3e(a.map(function(o,l){return o*l}).slice(1)),[0]);return wW(i,s)}},sQ=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),u=_3e(d,4);a=u[0],i=u[1],o=u[2],l=u[3]}}}var h=nQ(a,o),f=nQ(i,l),p=T3e(a,o),v=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,_=w,k=0;k<8;++k){var C=h(_)-w,B=p(_);if(Math.abs(C-w)<_w||B<_w)return f(_);_=v(_-C/B)}return f(_)};return y.isStepper=!1,y},O3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,s=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(u,h,f){var p=-(u-h)*s,v=f*i,y=f+(p-v)*l/1e3,g=f*l/1e3+u;return Math.abs(g-h)<_w&&Math.abs(y)<_w?[h,0]:[g,y]};return c.isStepper=!0,c.dt=l,c},I3e=function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return sQ(a);case"spring":return O3e();default:if(a.split("(")[0]==="cubic-bezier")return sQ(a)}return typeof a=="function"?a:null};function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function aQ(t){return L3e(t)||M3e(t)||jW(t)||D3e()}function D3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L3e(t){if(Array.isArray(t))return r3(t)}function iQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iQ(Object(r),!0).forEach(function(s){t3(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function t3(t,e,r){return e=U3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U3e(t){var e=R3e(t,"string");return wx(e)==="symbol"?e:String(e)}function R3e(t,e){if(wx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wx(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q3e(t,e){return q3e(t)||$3e(t,e)||jW(t,e)||H3e()}function H3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jW(t,e){if(t){if(typeof t=="string")return r3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r3(t,e)}}function r3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function $3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function q3e(t){if(Array.isArray(t))return t}var Cw=function(e,r,s){return e+(r-e)*s},n3=function(e){var r=e.from,s=e.to;return r!==s},z3e=function t(e,r,s){var a=b0(function(i,o){if(n3(o)){var l=e(o.from,o.to,o.velocity),c=Q3e(l,2),d=c[0],u=c[1];return aa(aa({},o),{},{from:d,velocity:u})}return o},r);return s<1?b0(function(i,o){return n3(o)?aa(aa({},o),{},{velocity:Cw(o.velocity,a[i].velocity,s),from:Cw(o.from,a[i].from,s)}):o},r):t(e,a,s-1)};const V3e=(function(t,e,r,s,a){var i=w3e(t,e),o=i.reduce(function(g,x){return aa(aa({},g),{},t3({},x,[t[x],e[x]]))},{}),l=i.reduce(function(g,x){return aa(aa({},g),{},t3({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,d,u,h=function(){return null},f=function(){return b0(function(x,w){return w.from},l)},p=function(){return!Object.values(l).filter(n3).length},v=function(x){d||(d=x);var w=x-d,_=w/r.dt;l=z3e(r,l,_),a(aa(aa(aa({},t),e),f())),d=x,p()||(c=requestAnimationFrame(h))},y=function(x){u||(u=x);var w=(x-u)/s,_=b0(function(C,B){return Cw.apply(void 0,aQ(B).concat([r(w)]))},o);if(a(aa(aa(aa({},t),e),_)),w<1)c=requestAnimationFrame(h);else{var k=b0(function(C,B){return Cw.apply(void 0,aQ(B).concat([r(1)]))},o);a(aa(aa(aa({},t),e),k))}};return h=r.isStepper?v:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}});function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var K3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function W3e(t,e){if(t==null)return{};var r=G3e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function G3e(t,e){if(t==null)return{};var r={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function i4(t){return Z3e(t)||J3e(t)||Y3e(t)||X3e()}function X3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y3e(t,e){if(t){if(typeof t=="string")return s3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s3(t,e)}}function J3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z3e(t){if(Array.isArray(t))return s3(t)}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function oQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function pl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oQ(Object(r),!0).forEach(function(s){Xg(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Xg(t,e,r){return e=NW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tEe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,NW(s.key),s)}}function rEe(t,e,r){return e&&tEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NW(t){var e=nEe(t,"string");return fp(e)==="symbol"?e:String(e)}function nEe(t,e){if(fp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(fp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a3(t,e)}function a3(t,e){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},a3(t,e)}function aEe(t){var e=iEe();return function(){var s=Sw(t),a;if(e){var i=Sw(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return i3(this,a)}}function i3(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o3(t)}function o3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iEe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(t)}var Md=(function(t){sEe(r,t);var e=aEe(r);function r(s,a){var i;eEe(this,r),i=e.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,u=o.to,h=o.steps,f=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(o3(i)),i.changeStyle=i.changeStyle.bind(o3(i)),!l||p<=0)return i.state={style:{}},typeof f=="function"&&(i.state={style:u}),i3(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof f=="function")return i.state={style:d},i3(i);i.state={style:c?Xg({},c,d):d}}else i.state={style:{}};return i}return rEe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,u=i.to,h=i.from,f=this.state.style;if(l){if(!o){var p={style:c?Xg({},c,u):u};this.state&&f&&(c&&f[c]!==u||!c&&f!==u)&&this.setState(p);return}if(!(h3e(a.to,u)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||d?h:a.to;if(this.state&&f){var g={style:c?Xg({},c,y):y};(c&&f[c]!==y||!c&&f!==y)&&this.setState(g)}this.runAnimation(pl(pl({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,d=a.easing,u=a.begin,h=a.onAnimationEnd,f=a.onAnimationStart,p=V3e(o,l,I3e(d),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([f,u,v,c,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,d=o[0],u=d.style,h=d.duration,f=h===void 0?0:h,p=function(y,g,x){if(x===0)return y;var w=g.duration,_=g.easing,k=_===void 0?"ease":_,C=g.style,B=g.properties,I=g.onAnimationEnd,S=x>0?o[x-1]:g,E=B||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(i4(y),[i.runJSAnimation.bind(i,{from:S.style,to:C,duration:w,easing:k}),w]);var D=rQ(E,w,k),N=pl(pl(pl({},S.style),C),{},{transition:D});return[].concat(i4(y),[N,w,I]).filter(j3e)};return this.manager.start([c].concat(i4(o.reduce(p,[u,Math.max(f,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=y3e());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,d=a.easing,u=a.onAnimationStart,h=a.onAnimationEnd,f=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof p=="function"||d==="spring"){this.runJSAnimation(a);return}if(f.length>1){this.runStepAnimation(a);return}var y=l?Xg({},l,c):c,g=rQ(Object.keys(y),o,d);v.start([u,i,pl(pl({},y),{},{transition:g}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=W3e(a,K3e),d=O.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!l||d===0||o<=0)return i;var h=function(p){var v=p.props,y=v.style,g=y===void 0?{}:y,x=v.className,w=O.cloneElement(p,pl(pl({},c),{},{style:pl(pl({},g),u),className:x}));return w};return d===1?h(O.Children.only(i)):ke.createElement("div",null,O.Children.map(i,function(f){return h(f)}))}}]),r})(O.PureComponent);Md.displayName="Animate";Md.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Md.propTypes={from:Qr.oneOfType([Qr.object,Qr.string]),to:Qr.oneOfType([Qr.object,Qr.string]),attributeName:Qr.string,duration:Qr.number,begin:Qr.number,easing:Qr.oneOfType([Qr.string,Qr.func]),steps:Qr.arrayOf(Qr.shape({duration:Qr.number.isRequired,style:Qr.object.isRequired,easing:Qr.oneOfType([Qr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qr.func]),properties:Qr.arrayOf("string"),onAnimationEnd:Qr.func})),children:Qr.oneOfType([Qr.node,Qr.func]),isActive:Qr.bool,canBegin:Qr.bool,onAnimationEnd:Qr.func,shouldReAnimate:Qr.bool,onAnimationStart:Qr.func,onAnimationReStart:Qr.func};function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Bw.apply(this,arguments)}function oEe(t,e){return uEe(t)||dEe(t,e)||cEe(t,e)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cEe(t,e){if(t){if(typeof t=="string")return lQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lQ(t,e)}}function lQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function dEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function uEe(t){if(Array.isArray(t))return t}function cQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function dQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cQ(Object(r),!0).forEach(function(s){hEe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function hEe(t,e,r){return e=AEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AEe(t){var e=fEe(t,"string");return jx(e)=="symbol"?e:e+""}function fEe(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uQ=function(e,r,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,u;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=i[f]>o?o:i[f];u="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(r)),u+="L ".concat(e+s-c*h[1],",").concat(r),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+s,",").concat(r+l*h[1])),u+="L ".concat(e+s,",").concat(r+a-l*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+s-c*h[2],",").concat(r+a)),u+="L ".concat(e+c*h[3],",").concat(r+a),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+a-l*h[3])),u+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);u="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+s-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+s,",").concat(r+l*v,`
            L `).concat(e+s,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+s-c*v,",").concat(r+a,`
            L `).concat(e+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(r+a-l*v," Z")}else u="M ".concat(e,",").concat(r," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return u},mEe=function(e,r){if(!e||!r)return!1;var s=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),u=Math.max(i,i+l),h=Math.min(o,o+c),f=Math.max(o,o+c);return s>=d&&s<=u&&a>=h&&a<=f}return!1},pEe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zk=function(e){var r=dQ(dQ({},pEe),e),s=O.useRef(),a=O.useState(-1),i=oEe(a,2),o=i[0],l=i[1];O.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var k=s.current.getTotalLength();k&&l(k)}catch{}},[]);var c=r.x,d=r.y,u=r.width,h=r.height,f=r.radius,p=r.className,v=r.animationEasing,y=r.animationDuration,g=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||u===0||h===0)return null;var _=Ar("recharts-rectangle",p);return w?ke.createElement(Md,{canBegin:o>0,from:{width:u,height:h,x:c,y:d},to:{width:u,height:h,x:c,y:d},duration:y,animationEasing:v,isActive:w},function(k){var C=k.width,B=k.height,I=k.x,S=k.y;return ke.createElement(Md,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,isActive:x,easing:v},ke.createElement("path",Bw({},er(r,!0),{className:_,d:uQ(I,S,C,B,f),ref:s})))}):ke.createElement("path",Bw({},er(r,!0),{className:_,d:uQ(c,d,u,h,f)}))},gEe=["points","className","baseLinePoints","connectNulls"];function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pm.apply(this,arguments)}function xEe(t,e){if(t==null)return{};var r=yEe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function yEe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function hQ(t){return jEe(t)||wEe(t)||bEe(t)||vEe()}function vEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bEe(t,e){if(t){if(typeof t=="string")return l3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l3(t,e)}}function wEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jEe(t){if(Array.isArray(t))return l3(t)}function l3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var AQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},NEe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(s){AQ(s)?r[r.length-1].push(s):r[r.length-1].length>0&&r.push([])}),AQ(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},w0=function(e,r){var s=NEe(e);r&&(s=[s.reduce(function(i,o){return[].concat(hQ(i),hQ(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},_Ee=function(e,r,s){var a=w0(e,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(w0(r.reverse(),s).slice(1))},CEe=function(e){var r=e.points,s=e.className,a=e.baseLinePoints,i=e.connectNulls,o=xEe(e,gEe);if(!r||!r.length)return null;var l=Ar("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",d=_Ee(r,a,i);return ke.createElement("g",{className:l},ke.createElement("path",Pm({},er(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?ke.createElement("path",Pm({},er(o,!0),{fill:"none",d:w0(r,i)})):null,c?ke.createElement("path",Pm({},er(o,!0),{fill:"none",d:w0(a,i)})):null)}var u=w0(r,i);return ke.createElement("path",Pm({},er(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",className:l,d:u}))};function c3(){return c3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},c3.apply(this,arguments)}var e6=function(e){var r=e.cx,s=e.cy,a=e.r,i=e.className,o=Ar("recharts-dot",i);return r===+r&&s===+s&&a===+a?O.createElement("circle",c3({},er(e,!1),Jb(e),{className:o,cx:r,cy:s,r:a})):null};function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}var SEe=["x","y","top","left","width","height","className"];function d3(){return d3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},d3.apply(this,arguments)}function fQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function BEe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fQ(Object(r),!0).forEach(function(s){EEe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function EEe(t,e,r){return e=kEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kEe(t){var e=PEe(t,"string");return Nx(e)=="symbol"?e:e+""}function PEe(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FEe(t,e){if(t==null)return{};var r=TEe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function TEe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var OEe=function(e,r,s,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(s)},IEe=function(e){var r=e.x,s=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,u=e.width,h=u===void 0?0:u,f=e.height,p=f===void 0?0:f,v=e.className,y=FEe(e,SEe),g=BEe({x:s,y:i,top:l,left:d,width:h,height:p},y);return!mt(s)||!mt(i)||!mt(h)||!mt(p)||!mt(l)||!mt(d)?null:ke.createElement("path",d3({},er(g,!0),{className:Ar("recharts-cross",v),d:OEe(s,i,h,p,l,d)}))},o4,mQ;function DEe(){if(mQ)return o4;mQ=1;var t=Z1(),e=UK(),r=jc();function s(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return o4=s,o4}var MEe=DEe();const LEe=Dr(MEe);var l4,pQ;function UEe(){if(pQ)return l4;pQ=1;var t=Z1(),e=jc(),r=RK();function s(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return l4=s,l4}var REe=UEe();const QEe=Dr(REe);var HEe=["cx","cy","angle","ticks","axisLine"],$Ee=["ticks","tick","angle","tickFormatter","stroke"];function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},j0.apply(this,arguments)}function gQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function hA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gQ(Object(r),!0).forEach(function(s){i2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function xQ(t,e){if(t==null)return{};var r=qEe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function qEe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function zEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,CW(s.key),s)}}function VEe(t,e,r){return e&&yQ(t.prototype,e),r&&yQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function KEe(t,e,r){return e=Ew(e),WEe(t,_W()?Reflect.construct(e,r||[],Ew(t).constructor):e.apply(t,r))}function WEe(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(t)}function GEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _W(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_W=function(){return!!t})()}function Ew(t){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(t)}function XEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u3(t,e)}function u3(t,e){return u3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},u3(t,e)}function i2(t,e,r){return e=CW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CW(t){var e=YEe(t,"string");return mp(e)=="symbol"?e:e+""}function YEe(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o2=(function(t){function e(){return zEe(this,e),KEe(this,e,arguments)}return XEe(e,t),VEe(e,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return un(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=LEe(l,function(u){return u.coordinate||0}),d=QEe(l,function(u){return u.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,d=xQ(s,HEe),u=l.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),h=un(a,i,u[0],o),f=un(a,i,u[1],o),p=hA(hA(hA({},er(d,!1)),{},{fill:"none"},er(c,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return ke.createElement("line",j0({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,d=a.stroke,u=xQ(a,$Ee),h=this.getTickTextAnchor(),f=er(u,!1),p=er(o,!1),v=i.map(function(y,g){var x=s.getTickValueCoord(y),w=hA(hA(hA(hA({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:d},p),{},{index:g},x),{},{payload:y});return ke.createElement(Xr,j0({className:Ar("recharts-polar-radius-axis-tick",fW(o)),key:"tick-".concat(y.coordinate)},YA(s.props,y,g)),e.renderTickItem(o,w,c?c(y.value,g):y.value))});return ke.createElement(Xr,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:ke.createElement(Xr,{className:Ar("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ws.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ke.isValidElement(s)?o=ke.cloneElement(s,a):ar(s)?o=s(a):o=ke.createElement(JA,j0({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(O.PureComponent);i2(o2,"displayName","PolarRadiusAxis");i2(o2,"axisType","radiusAxis");i2(o2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},CA.apply(this,arguments)}function vQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vQ(Object(r),!0).forEach(function(s){l2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function JEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,BW(s.key),s)}}function ZEe(t,e,r){return e&&bQ(t.prototype,e),r&&bQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eke(t,e,r){return e=kw(e),tke(t,SW()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function tke(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rke(t)}function rke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SW=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function nke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h3(t,e)}function h3(t,e){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},h3(t,e)}function l2(t,e,r){return e=BW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BW(t){var e=ske(t,"string");return pp(e)=="symbol"?e:e+""}function ske(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(pp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ake=Math.PI/180,wQ=1e-5,c2=(function(t){function e(){return JEe(this,e),eke(this,e,arguments)}return nke(e,t),ZEe(e,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,d=a.tickSize,u=d||8,h=un(i,o,l,s.coordinate),f=un(i,o,l+(c==="inner"?-1:1)*u,s.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*ake),o;return i>wQ?o=a==="outer"?"start":"end":i<-wQ?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,d=AA(AA({},er(this.props,!1)),{},{fill:"none"},er(l,!1));if(c==="circle")return ke.createElement(e6,CA({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var u=this.props.ticks,h=u.map(function(f){return un(a,i,o,f.coordinate)});return ke.createElement(CEe,CA({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,d=a.stroke,u=er(this.props,!1),h=er(o,!1),f=AA(AA({},u),{},{fill:"none"},er(l,!1)),p=i.map(function(v,y){var g=s.getTickLineCoord(v),x=s.getTickTextAnchor(v),w=AA(AA(AA({textAnchor:x},u),{},{stroke:"none",fill:d},h),{},{index:y,payload:v,x:g.x2,y:g.y2});return ke.createElement(Xr,CA({className:Ar("recharts-polar-angle-axis-tick",fW(o)),key:"tick-".concat(v.coordinate)},YA(s.props,v,y)),l&&ke.createElement("line",CA({className:"recharts-polar-angle-axis-tick-line"},f,g)),o&&e.renderTickItem(o,w,c?c(v.value,y):v.value))});return ke.createElement(Xr,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:ke.createElement(Xr,{className:Ar("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ke.isValidElement(s)?o=ke.cloneElement(s,a):ar(s)?o=s(a):o=ke.createElement(JA,CA({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(O.PureComponent);l2(c2,"displayName","PolarAngleAxis");l2(c2,"axisType","angleAxis");l2(c2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var c4,jQ;function ike(){if(jQ)return c4;jQ=1;var t=LV(),e=t(Object.getPrototypeOf,Object);return c4=e,c4}var d4,NQ;function oke(){if(NQ)return d4;NQ=1;var t=Hd(),e=ike(),r=$d(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function d(u){if(!r(u)||t(u)!=s)return!1;var h=e(u);if(h===null)return!0;var f=l.call(h,"constructor")&&h.constructor;return typeof f=="function"&&f instanceof f&&o.call(f)==c}return d4=d,d4}var lke=oke();const cke=Dr(lke);var u4,_Q;function dke(){if(_Q)return u4;_Q=1;var t=Hd(),e=$d(),r="[object Boolean]";function s(a){return a===!0||a===!1||e(a)&&t(a)==r}return u4=s,u4}var uke=dke();const hke=Dr(uke);function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Pw.apply(this,arguments)}function Ake(t,e){return gke(t)||pke(t,e)||mke(t,e)||fke()}function fke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(t,e){if(t){if(typeof t=="string")return CQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CQ(t,e)}}function CQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function pke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function gke(t){if(Array.isArray(t))return t}function SQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function BQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SQ(Object(r),!0).forEach(function(s){xke(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function xke(t,e,r){return e=yke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yke(t){var e=vke(t,"string");return _x(e)=="symbol"?e:e+""}function vke(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_x(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EQ=function(e,r,s,a,i){var o=s-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+s,",").concat(r),l+="L ".concat(e+s-o/2,",").concat(r+i),l+="L ".concat(e+s-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},bke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wke=function(e){var r=BQ(BQ({},bke),e),s=O.useRef(),a=O.useState(-1),i=Ake(a,2),o=i[0],l=i[1];O.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var _=s.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,d=r.y,u=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,v=r.animationEasing,y=r.animationDuration,g=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||d!==+d||u!==+u||h!==+h||f!==+f||u===0&&h===0||f===0)return null;var w=Ar("recharts-trapezoid",p);return x?ke.createElement(Md,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:c,y:d},to:{upperWidth:u,lowerWidth:h,height:f,x:c,y:d},duration:y,animationEasing:v,isActive:x},function(_){var k=_.upperWidth,C=_.lowerWidth,B=_.height,I=_.x,S=_.y;return ke.createElement(Md,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:y,easing:v},ke.createElement("path",Pw({},er(r,!0),{className:w,d:EQ(I,S,k,C,B),ref:s})))}):ke.createElement("g",null,ke.createElement("path",Pw({},er(r,!0),{className:w,d:EQ(c,d,u,h,f)})))},jke=["option","shapeType","propTransformer","activeClassName","isActive"];function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function Nke(t,e){if(t==null)return{};var r=_ke(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _ke(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function kQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Fw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kQ(Object(r),!0).forEach(function(s){Cke(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Cke(t,e,r){return e=Ske(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ske(t){var e=Bke(t,"string");return Cx(e)=="symbol"?e:e+""}function Bke(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Cx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eke(t,e){return Fw(Fw({},e),t)}function kke(t,e){return t==="symbols"}function PQ(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ke.createElement(Zk,r);case"trapezoid":return ke.createElement(wke,r);case"sector":return ke.createElement(gW,r);case"symbols":if(kke(e))return ke.createElement(gk,r);break;default:return null}}function Pke(t){return O.isValidElement(t)?t.props:t}function EW(t){var e=t.option,r=t.shapeType,s=t.propTransformer,a=s===void 0?Eke:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Nke(t,jke),d;if(O.isValidElement(e))d=O.cloneElement(e,Fw(Fw({},c),Pke(e)));else if(ar(e))d=e(c);else if(cke(e)&&!hke(e)){var u=a(e,c);d=ke.createElement(PQ,{shapeType:r,elementProps:u})}else{var h=c;d=ke.createElement(PQ,{shapeType:r,elementProps:h})}return l?ke.createElement(Xr,{className:o},d):d}function d2(t,e){return e!=null&&"trapezoids"in t.props}function u2(t,e){return e!=null&&"sectors"in t.props}function Sx(t,e){return e!=null&&"points"in t.props}function Fke(t,e){var r,s,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(s=e.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===e.y;return a&&i}function Tke(t,e){var r=t.endAngle===e.endAngle,s=t.startAngle===e.startAngle;return r&&s}function Oke(t,e){var r=t.x===e.x,s=t.y===e.y,a=t.z===e.z;return r&&s&&a}function Ike(t,e){var r;return d2(t,e)?r=Fke:u2(t,e)?r=Tke:Sx(t,e)&&(r=Oke),r}function Dke(t,e){var r;return d2(t,e)?r="trapezoids":u2(t,e)?r="sectors":Sx(t,e)&&(r="points"),r}function Mke(t,e){if(d2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(u2(t,e)){var s;return(s=e.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return Sx(t,e)?e.payload:{}}function Lke(t){var e=t.activeTooltipItem,r=t.graphicalItem,s=t.itemData,a=Dke(r,e),i=Mke(r,e),o=s.filter(function(c,d){var u=r2(i,c),h=r.props[a].filter(function(v){var y=Ike(r,e);return y(v,e)}),f=r.props[a].indexOf(h[h.length-1]),p=d===f;return u&&p}),l=s.indexOf(o[o.length-1]);return l}var fb;function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Fm.apply(this,arguments)}function FQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FQ(Object(r),!0).forEach(function(s){To(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Uke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,PW(s.key),s)}}function Rke(t,e,r){return e&&TQ(t.prototype,e),r&&TQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qke(t,e,r){return e=Tw(e),Hke(t,kW()?Reflect.construct(e,r||[],Tw(t).constructor):e.apply(t,r))}function Hke(t,e){if(e&&(gp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ke(t)}function $ke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kW=function(){return!!t})()}function Tw(t){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(t)}function qke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A3(t,e)}function A3(t,e){return A3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},A3(t,e)}function To(t,e,r){return e=PW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PW(t){var e=zke(t,"string");return gp(e)=="symbol"?e:e+""}function zke(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=(function(t){function e(r){var s;return Uke(this,e),s=Qke(this,e,[r]),To(s,"pieRef",null),To(s,"sectorRefs",[]),To(s,"id",Kx("recharts-pie-")),To(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ar(a)&&a()}),To(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ar(a)&&a()}),s.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},s}return qke(e,t),Rke(e,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,u=er(this.props,!1),h=er(o,!1),f=er(l,!1),p=o&&o.offsetRadius||20,v=s.map(function(y,g){var x=(y.startAngle+y.endAngle)/2,w=un(y.cx,y.cy,y.outerRadius+p,x),_=ln(ln(ln(ln({},u),y),{},{stroke:"none"},h),{},{index:g,textAnchor:e.getTextAnchor(w.x,y.cx)},w),k=ln(ln(ln(ln({},u),y),{},{fill:"none",stroke:y.fill},f),{},{index:g,points:[un(y.cx,y.cy,y.outerRadius,x),w]}),C=c;return mr(c)&&mr(d)?C="value":mr(c)&&(C=d),ke.createElement(Xr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(g)},l&&e.renderLabelLineItem(l,k,"line"),e.renderLabelItem(o,_,Ia(y,C)))});return ke.createElement(Xr,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(d,u){if(d?.startAngle===0&&d?.endAngle===0&&s.length!==1)return null;var h=a.isActiveIndex(u),f=c&&a.hasActiveIndex()?c:null,p=h?o:f,v=ln(ln({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return ke.createElement(Xr,Fm({ref:function(g){g&&!a.sectorRefs.includes(g)&&a.sectorRefs.push(g)},tabIndex:-1,className:"recharts-pie-sector"},YA(a.props,d,u),{key:"sector-".concat(d?.startAngle,"-").concat(d?.endAngle,"-").concat(d.midAngle,"-").concat(u)}),ke.createElement(EW,Fm({option:p,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,d=a.animationEasing,u=a.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return ke.createElement(Md,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,g=[],x=i&&i[0],w=x.startAngle;return i.forEach(function(_,k){var C=f&&f[k],B=k>0?so(_,"paddingAngle",0):0;if(C){var I=Vu(C.endAngle-C.startAngle,_.endAngle-_.startAngle),S=ln(ln({},_),{},{startAngle:w+B,endAngle:w+I(y)+B});g.push(S),w=S.endAngle}else{var E=_.endAngle,D=_.startAngle,N=Vu(0,E-D),T=N(y),Q=ln(ln({},_),{},{startAngle:w+B,endAngle:w+T+B});g.push(Q),w=Q.endAngle}}),ke.createElement(Xr,null,s.renderSectorsStatically(g))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!r2(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,d=a.cx,u=a.cy,h=a.innerRadius,f=a.outerRadius,p=a.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!mt(d)||!mt(u)||!mt(h)||!mt(f))return null;var y=Ar("recharts-pie",l);return ke.createElement(Xr,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){s.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),Ws.renderCallByParent(this.props,null,!1),(!p||v)&&uh.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(ke.isValidElement(s))return ke.cloneElement(s,a);if(ar(s))return s(a);var o=Ar("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return ke.createElement(JB,Fm({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(ke.isValidElement(s))return ke.cloneElement(s,a);var o=i;if(ar(s)&&(o=s(a),ke.isValidElement(o)))return o;var l=Ar("recharts-pie-label-text",typeof s!="boolean"&&!ar(s)?s.className:"");return ke.createElement(JA,Fm({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(O.PureComponent);fb=zd;To(zd,"displayName","Pie");To(zd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Rp.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});To(zd,"parseDeltaAngle",function(t,e){var r=si(e-t),s=Math.min(Math.abs(e-t),360);return r*s});To(zd,"getRealPieData",function(t){var e=t.data,r=t.children,s=er(t,!1),a=Qo(r,Gx);return e&&e.length?e.map(function(i,o){return ln(ln(ln({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return ln(ln({},s),i.props)}):[]});To(zd,"parseCoordinateOfPie",function(t,e){var r=e.top,s=e.left,a=e.width,i=e.height,o=AW(a,i),l=s+ai(t.cx,a,a/2),c=r+ai(t.cy,i,i/2),d=ai(t.innerRadius,o,0),u=ai(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:u,maxRadius:h}});To(zd,"getComposedData",function(t){var e=t.item,r=t.offset,s=e.type.defaultProps!==void 0?ln(ln({},e.type.defaultProps),e.props):e.props,a=fb.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,d=s.dataKey,u=s.nameKey,h=s.valueKey,f=s.tooltipType,p=Math.abs(s.minAngle),v=fb.parseCoordinateOfPie(s,r),y=fb.parseDeltaAngle(o,l),g=Math.abs(y),x=d;mr(d)&&mr(h)?(_l(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):mr(d)&&(_l(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var w=a.filter(function(S){return Ia(S,x,0)!==0}).length,_=(g>=360?w:w-1)*c,k=g-w*p-_,C=a.reduce(function(S,E){var D=Ia(E,x,0);return S+(mt(D)?D:0)},0),B;if(C>0){var I;B=a.map(function(S,E){var D=Ia(S,x,0),N=Ia(S,u,E),T=(mt(D)?D:0)/C,Q;E?Q=I.endAngle+si(y)*c*(D!==0?1:0):Q=o;var U=Q+si(y)*((D!==0?p:0)+T*k),K=(Q+U)/2,z=(v.innerRadius+v.outerRadius)/2,ee=[{name:N,value:D,payload:S,dataKey:x,type:f}],G=un(v.cx,v.cy,z,K);return I=ln(ln(ln({percent:T,cornerRadius:i,name:N,tooltipPayload:ee,midAngle:K,middleRadius:z,tooltipPosition:G},S),v),{},{value:Ia(S,x),startAngle:Q,endAngle:U,payload:S,paddingAngle:si(y)*c}),I})}return ln(ln({},v),{},{sectors:B,data:a})});var h4,OQ;function Vke(){if(OQ)return h4;OQ=1;var t=Math.ceil,e=Math.max;function r(s,a,i,o){for(var l=-1,c=e(t((a-s)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=s,s+=i;return d}return h4=r,h4}var A4,IQ;function FW(){if(IQ)return A4;IQ=1;var t=eK(),e=1/0,r=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*r}return a===a?a:0}return A4=s,A4}var f4,DQ;function Kke(){if(DQ)return f4;DQ=1;var t=Vke(),e=V1(),r=FW();function s(a){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,a)}}return f4=s,f4}var m4,MQ;function Wke(){if(MQ)return m4;MQ=1;var t=Kke(),e=t();return m4=e,m4}var Gke=Wke();const Ow=Dr(Gke);function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function LQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function UQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LQ(Object(r),!0).forEach(function(s){TW(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function TW(t,e,r){return e=Xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xke(t){var e=Yke(t,"string");return Bx(e)=="symbol"?e:e+""}function Yke(t,e){if(Bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Bx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jke=["Webkit","Moz","O","ms"],Zke=function(e,r){var s=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Jke.reduce(function(i,o){return UQ(UQ({},i),{},TW({},o+s,r))},{});return a[e]=r,a};function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Iw.apply(this,arguments)}function RQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function p4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RQ(Object(r),!0).forEach(function(s){Ji(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function e6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,IW(s.key),s)}}function t6e(t,e,r){return e&&QQ(t.prototype,e),r&&QQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r6e(t,e,r){return e=Dw(e),n6e(t,OW()?Reflect.construct(e,r||[],Dw(t).constructor):e.apply(t,r))}function n6e(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s6e(t)}function s6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OW=function(){return!!t})()}function Dw(t){return Dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dw(t)}function a6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f3(t,e)}function f3(t,e){return f3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},f3(t,e)}function Ji(t,e,r){return e=IW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IW(t){var e=i6e(t,"string");return xp(e)=="symbol"?e:e+""}function i6e(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o6e=function(e){var r=e.data,s=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=y0().domain(Ow(0,c)).range([i,i+o-l]),u=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(s),endX:d(a),scale:d,scaleValues:u}},HQ=function(e){return e.changedTouches&&!!e.changedTouches.length},yp=(function(t){function e(r){var s;return e6e(this,e),s=r6e(this,e,[r]),Ji(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),Ji(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),Ji(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o?.({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),Ji(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),Ji(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),Ji(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),Ji(s,"handleSlideDragStart",function(a){var i=HQ(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return a6e(e,t),t6e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,u=d.length-1,h=Math.min(a,i),f=Math.max(a,i),p=e.getIndexInRange(o,h),v=e.getIndexInRange(o,f);return{startIndex:p-p%c,endIndex:v===u?u:v-v%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Ia(i[s],l,s);return ar(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,d=c.x,u=c.width,h=c.travellerWidth,f=c.startIndex,p=c.endIndex,v=c.onChange,y=s.pageX-i;y>0?y=Math.min(y,d+u-h-l,d+u-h-o):y<0&&(y=Math.max(y,d-o,d-l));var g=this.getIndex({startX:o+y,endX:l+y});(g.startIndex!==f||g.endIndex!==p)&&v&&v(g),this.setState({startX:o+y,endX:l+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=HQ(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,d=this.state[o],u=this.props,h=u.x,f=u.width,p=u.travellerWidth,v=u.onChange,y=u.gap,g=u.data,x={startX:this.state.startX,endX:this.state.endX},w=s.pageX-i;w>0?w=Math.min(w,h+f-p-d):w<0&&(w=Math.max(w,h-d)),x[o]=d+w;var _=this.getIndex(x),k=_.startIndex,C=_.endIndex,B=function(){var S=g.length-1;return o==="startX"&&(l>c?k%y===0:C%y===0)||l<c&&C===S||o==="endX"&&(l>c?C%y===0:k%y===0)||l>c&&C===S};this.setState(Ji(Ji({},o,d+w),"brushMoveStartX",s.pageX),function(){v&&B()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,u=this.state[a],h=l.indexOf(u);if(h!==-1){var f=h+s;if(!(f===-1||f>=l.length)){var p=l[f];a==="startX"&&p>=d||a==="endX"&&p<=c||this.setState(Ji({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,d=s.stroke;return ke.createElement("rect",{stroke:d,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,d=s.children,u=s.padding,h=O.Children.only(d);return h?ke.cloneElement(h,{x:a,y:i,width:o,height:l,margin:u,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,d=c.y,u=c.travellerWidth,h=c.height,f=c.traveller,p=c.ariaLabel,v=c.data,y=c.startIndex,g=c.endIndex,x=Math.max(s,this.props.x),w=p4(p4({},er(this.props,!1)),{},{x,y:d,width:u,height:h}),_=p||"Min value: ".concat((i=v[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[g])===null||o===void 0?void 0:o.name);return ke.createElement(Xr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,u=Math.min(s,a)+d,h=Math.max(Math.abs(a-s)-d,0);return ke.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:u,y:o,width:h,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,d=s.stroke,u=this.state,h=u.startX,f=u.endX,p=5,v={pointerEvents:"none",fill:d};return ke.createElement(Xr,{className:"recharts-brush-texts"},ke.createElement(JA,Iw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:o+l/2},v),this.getTextOfTick(a)),ke.createElement(JA,Iw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,d=s.width,u=s.height,h=s.alwaysShowText,f=this.state,p=f.startX,v=f.endX,y=f.isTextActive,g=f.isSlideMoving,x=f.isTravellerMoving,w=f.isTravellerFocused;if(!a||!a.length||!mt(l)||!mt(c)||!mt(d)||!mt(u)||d<=0||u<=0)return null;var _=Ar("recharts-brush",i),k=ke.Children.count(o)===1,C=Zke("userSelect","none");return ke.createElement(Xr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(y||g||x||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,d=Math.floor(i+l/2)-1;return ke.createElement(ke.Fragment,null,ke.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ke.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),ke.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return ke.isValidElement(s)?i=ke.cloneElement(s,a):ar(s)?i=s(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,d=s.updateId,u=s.startIndex,h=s.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return p4({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?o6e({data:i,width:o,x:l,travellerWidth:c,startIndex:u,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var f=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(O.PureComponent);Ji(yp,"displayName","Brush");Ji(yp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g4,$Q;function l6e(){if($Q)return g4;$Q=1;var t=Nk();function e(r,s){var a;return t(r,function(i,o,l){return a=s(i,o,l),!a}),!!a}return g4=e,g4}var x4,qQ;function c6e(){if(qQ)return x4;qQ=1;var t=PV(),e=jc(),r=l6e(),s=Ii(),a=V1();function i(o,l,c){var d=s(o)?t:r;return c&&a(o,l,c)&&(l=void 0),d(o,e(l,3))}return x4=i,x4}var d6e=c6e();const u6e=Dr(d6e);var gc=function(e,r){var s=e.alwaysShow,a=e.ifOverflow;return s&&(a="extendDomain"),a===r},y4,zQ;function h6e(){if(zQ)return y4;zQ=1;var t=GV();function e(r,s,a){s=="__proto__"&&t?t(r,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[s]=a}return y4=e,y4}var v4,VQ;function A6e(){if(VQ)return v4;VQ=1;var t=h6e(),e=KV(),r=jc();function s(a,i){var o={};return i=r(i,3),e(a,function(l,c,d){t(o,c,i(l,c,d))}),o}return v4=s,v4}var f6e=A6e();const m6e=Dr(f6e);var b4,KQ;function p6e(){if(KQ)return b4;KQ=1;function t(e,r){for(var s=-1,a=e==null?0:e.length;++s<a;)if(!r(e[s],s,e))return!1;return!0}return b4=t,b4}var w4,WQ;function g6e(){if(WQ)return w4;WQ=1;var t=Nk();function e(r,s){var a=!0;return t(r,function(i,o,l){return a=!!s(i,o,l),a}),a}return w4=e,w4}var j4,GQ;function x6e(){if(GQ)return j4;GQ=1;var t=p6e(),e=g6e(),r=jc(),s=Ii(),a=V1();function i(o,l,c){var d=s(o)?t:e;return c&&a(o,l,c)&&(l=void 0),d(o,r(l,3))}return j4=i,j4}var y6e=x6e();const DW=Dr(y6e);var v6e=["x","y"];function Ex(t){"@babel/helpers - typeof";return Ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ex(t)}function m3(){return m3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},m3.apply(this,arguments)}function XQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XQ(Object(r),!0).forEach(function(s){b6e(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function b6e(t,e,r){return e=w6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w6e(t){var e=j6e(t,"string");return Ex(e)=="symbol"?e:e+""}function j6e(t,e){if(Ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Ex(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6e(t,e){if(t==null)return{};var r=_6e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function _6e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function C6e(t,e){var r=t.x,s=t.y,a=N6e(t,v6e),i="".concat(r),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),d="".concat(e.height||a.height),u=parseInt(d,10),h="".concat(e.width||a.width),f=parseInt(h,10);return Og(Og(Og(Og(Og({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function YQ(t){return ke.createElement(EW,m3({shapeType:"rectangle",propTransformer:C6e,activeClassName:"recharts-active-bar"},t))}var S6e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof e=="number")return e;var i=mt(s)||Ywe(s);return i?e(s,a):(i||ef(),r)}},B6e=["value","background"],MW;function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function E6e(t,e){if(t==null)return{};var r=k6e(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function k6e(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Mw.apply(this,arguments)}function JQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function hs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(r),!0).forEach(function(s){sh(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZQ(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,UW(s.key),s)}}function F6e(t,e,r){return e&&ZQ(t.prototype,e),r&&ZQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T6e(t,e,r){return e=Lw(e),O6e(t,LW()?Reflect.construct(e,r||[],Lw(t).constructor):e.apply(t,r))}function O6e(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I6e(t)}function I6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function Lw(t){return Lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lw(t)}function D6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p3(t,e)}function p3(t,e){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},p3(t,e)}function sh(t,e,r){return e=UW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UW(t){var e=M6e(t,"string");return vp(e)=="symbol"?e:e+""}function M6e(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ld=(function(t){function e(){var r;P6e(this,e);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return r=T6e(this,e,[].concat(a)),sh(r,"state",{isAnimationFinished:!1}),sh(r,"id",Kx("recharts-bar-")),sh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),sh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return D6e(e,t),F6e(e,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,u=er(this.props,!1);return s&&s.map(function(h,f){var p=f===c,v=p?d:o,y=hs(hs(hs({},u),h),{},{isActive:p,option:v,index:f,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ke.createElement(Xr,Mw({className:"recharts-bar-rectangle"},YA(a.props,h,f),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(f)}),ke.createElement(YQ,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,u=a.animationEasing,h=a.animationId,f=this.state.prevData;return ke.createElement(Md,{begin:c,duration:d,isActive:l,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,y=i.map(function(g,x){var w=f&&f[x];if(w){var _=Vu(w.x,g.x),k=Vu(w.y,g.y),C=Vu(w.width,g.width),B=Vu(w.height,g.height);return hs(hs({},g),{},{x:_(v),y:k(v),width:C(v),height:B(v)})}if(o==="horizontal"){var I=Vu(0,g.height),S=I(v);return hs(hs({},g),{},{y:g.y+g.height-S,height:S})}var E=Vu(0,g.width),D=E(v);return hs(hs({},g),{},{width:D})});return ke.createElement(Xr,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!r2(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=er(this.props.background,!1);return i.map(function(d,u){d.value;var h=d.background,f=E6e(d,B6e);if(!h)return null;var p=hs(hs(hs(hs(hs({},f),{},{fill:"#eee"},h),c),YA(s.props,d,u)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:u,className:"recharts-bar-background-rectangle"});return ke.createElement(YQ,Mw({key:"background-bar-".concat(u),option:s.props.background,isActive:u===l},p))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,u=i.children,h=Qo(u,a2);if(!h)return null;var f=d==="vertical"?o[0].height/2:o[0].width/2,p=function(g,x){var w=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:w,errorVal:Ia(g,x)}},v={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ke.createElement(Xr,v,h.map(function(y){return ke.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,d=s.left,u=s.top,h=s.width,f=s.height,p=s.isAnimationActive,v=s.background,y=s.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,x=Ar("recharts-bar",o),w=l&&l.allowDataOverflow,_=c&&c.allowDataOverflow,k=w||_,C=mr(y)?this.id:y;return ke.createElement(Xr,{className:x},w||_?ke.createElement("defs",null,ke.createElement("clipPath",{id:"clipPath-".concat(C)},ke.createElement("rect",{x:w?d:d-h/2,y:_?u:u-f/2,width:w?h:h*2,height:_?f:f*2}))):null,ke.createElement(Xr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!p||g)&&uh.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(O.PureComponent);MW=Ld;sh(Ld,"displayName","Bar");sh(Ld,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sh(Ld,"getComposedData",function(t){var e=t.props,r=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,u=t.dataStartIndex,h=t.displayedData,f=t.offset,p=uSe(s,r);if(!p)return null;var v=e.layout,y=r.type.defaultProps,g=y!==void 0?hs(hs({},y),r.props):r.props,x=g.dataKey,w=g.children,_=g.minPointSize,k=v==="horizontal"?o:i,C=d?k.scale.domain():null,B=xSe({numericAxis:k}),I=Qo(w,Gx),S=h.map(function(E,D){var N,T,Q,U,K,z;d?N=hSe(d[u+D],C):(N=Ia(E,x),Array.isArray(N)||(N=[B,N]));var ee=S6e(_,MW.defaultProps.minPointSize)(N[1],D);if(v==="horizontal"){var G,q=[o.scale(N[0]),o.scale(N[1])],re=q[0],Z=q[1];T=N8({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:E,index:D}),Q=(G=Z??re)!==null&&G!==void 0?G:void 0,U=p.size;var $=re-Z;if(K=Number.isNaN($)?0:$,z={x:T,y:o.y,width:U,height:o.height},Math.abs(ee)>0&&Math.abs(K)<Math.abs(ee)){var L=si(K||ee)*(Math.abs(ee)-Math.abs(K));Q-=L,K+=L}}else{var Y=[i.scale(N[0]),i.scale(N[1])],X=Y[0],Ae=Y[1];if(T=X,Q=N8({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:E,index:D}),U=Ae-X,K=p.size,z={x:i.x,y:Q,width:i.width,height:K},Math.abs(ee)>0&&Math.abs(U)<Math.abs(ee)){var fe=si(U||ee)*(Math.abs(ee)-Math.abs(U));U+=fe}}return hs(hs(hs({},E),{},{x:T,y:Q,width:U,height:K,value:d?N:N[1],payload:E,background:z},I&&I[D]&&I[D].props),{},{tooltipPayload:[uW(r,E)],tooltipPosition:{x:T+U/2,y:Q+K/2}})});return hs({data:S,layout:v},f)});function kx(t){"@babel/helpers - typeof";return kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kx(t)}function L6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e7(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,RW(s.key),s)}}function U6e(t,e,r){return e&&e7(t.prototype,e),r&&e7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(s){h2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function h2(t,e,r){return e=RW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RW(t){var e=R6e(t,"string");return kx(e)=="symbol"?e:e+""}function R6e(t,e){if(kx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(kx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q6e=function(e,r,s,a,i){var o=e.width,l=e.height,c=e.layout,d=e.children,u=Object.keys(r),h={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},f=!!Zi(d,Ld);return u.reduce(function(p,v){var y=r[v],g=y.orientation,x=y.domain,w=y.padding,_=w===void 0?{}:w,k=y.mirror,C=y.reversed,B="".concat(g).concat(k?"Mirror":""),I,S,E,D,N;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var T=x[1]-x[0],Q=1/0,U=y.categoricalDomain.sort(e1e);if(U.forEach(function(Y,X){X>0&&(Q=Math.min((Y||0)-(U[X-1]||0),Q))}),Number.isFinite(Q)){var K=Q/T,z=y.layout==="vertical"?s.height:s.width;if(y.padding==="gap"&&(I=K*z/2),y.padding==="no-gap"){var ee=ai(e.barCategoryGap,K*z),G=K*z/2;I=G-ee-(G-ee)/z*ee}}}a==="xAxis"?S=[s.left+(_.left||0)+(I||0),s.left+s.width-(_.right||0)-(I||0)]:a==="yAxis"?S=c==="horizontal"?[s.top+s.height-(_.bottom||0),s.top+(_.top||0)]:[s.top+(_.top||0)+(I||0),s.top+s.height-(_.bottom||0)-(I||0)]:S=y.range,C&&(S=[S[1],S[0]]);var q=oW(y,i,f),re=q.scale,Z=q.realScaleType;re.domain(x).range(S),lW(re);var $=cW(re,wl(wl({},y),{},{realScaleType:Z}));a==="xAxis"?(N=g==="top"&&!k||g==="bottom"&&k,E=s.left,D=h[B]-N*y.height):a==="yAxis"&&(N=g==="left"&&!k||g==="right"&&k,E=h[B]-N*y.width,D=s.top);var L=wl(wl(wl({},y),$),{},{realScaleType:Z,x:E,y:D,scale:re,width:a==="xAxis"?s.width:y.width,height:a==="yAxis"?s.height:y.height});return L.bandSize=ww(L,$),!y.hide&&a==="xAxis"?h[B]+=(N?-1:1)*L.height:y.hide||(h[B]+=(N?-1:1)*L.width),wl(wl({},p),{},h2({},v,L))},{})},QW=function(e,r){var s=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},H6e=function(e){var r=e.x1,s=e.y1,a=e.x2,i=e.y2;return QW({x:r,y:s},{x:a,y:i})},HW=(function(){function t(e){L6e(this,t),this.scale=e}return U6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();h2(HW,"EPS",1e-4);var t6=function(e){var r=Object.keys(e).reduce(function(s,a){return wl(wl({},s),{},h2({},a,HW.create(e[a])))},{});return wl(wl({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return m6e(a,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return DW(a,function(i,o){return r[o].isInRange(i)})}})};function $6e(t){return(t%180+180)%180}var q6e=function(e){var r=e.width,s=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=$6e(a),o=i*Math.PI/180,l=Math.atan(s/r),c=o>l&&o<Math.PI-l?s/Math.sin(o):r/Math.cos(o);return Math.abs(c)},N4,r7;function z6e(){if(r7)return N4;r7=1;var t=jc(),e=Wx(),r=q1();function s(a){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(h){return d(c[h],h,c)}}var u=a(i,o,l);return u>-1?c[d?i[u]:u]:void 0}}return N4=s,N4}var _4,n7;function V6e(){if(n7)return _4;n7=1;var t=FW();function e(r){var s=t(r),a=s%1;return s===s?a?s-a:s:0}return _4=e,_4}var C4,s7;function K6e(){if(s7)return C4;s7=1;var t=HV(),e=jc(),r=V6e(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=s(c+d,0)),t(i,e(o,3),d)}return C4=a,C4}var S4,a7;function W6e(){if(a7)return S4;a7=1;var t=z6e(),e=K6e(),r=t(e);return S4=r,S4}var G6e=W6e();const X6e=Dr(G6e);var Y6e=sV();const J6e=Dr(Y6e);var Z6e=J6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),r6=O.createContext(void 0),n6=O.createContext(void 0),$W=O.createContext(void 0),qW=O.createContext({}),zW=O.createContext(void 0),VW=O.createContext(0),KW=O.createContext(0),i7=function(e){var r=e.state,s=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,u=Z6e(i);return ke.createElement(r6.Provider,{value:s},ke.createElement(n6.Provider,{value:a},ke.createElement(qW.Provider,{value:i},ke.createElement($W.Provider,{value:u},ke.createElement(zW.Provider,{value:o},ke.createElement(VW.Provider,{value:d},ke.createElement(KW.Provider,{value:c},l)))))))},ePe=function(){return O.useContext(zW)},WW=function(e){var r=O.useContext(r6);r==null&&ef();var s=r[e];return s==null&&ef(),s},tPe=function(){var e=O.useContext(r6);return Gu(e)},rPe=function(){var e=O.useContext(n6),r=X6e(e,function(s){return DW(s.domain,Number.isFinite)});return r||Gu(e)},GW=function(e){var r=O.useContext(n6);r==null&&ef();var s=r[e];return s==null&&ef(),s},nPe=function(){var e=O.useContext($W);return e},sPe=function(){return O.useContext(qW)},s6=function(){return O.useContext(KW)},a6=function(){return O.useContext(VW)};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function aPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iPe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,YW(s.key),s)}}function oPe(t,e,r){return e&&iPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lPe(t,e,r){return e=Uw(e),cPe(t,XW()?Reflect.construct(e,r||[],Uw(t).constructor):e.apply(t,r))}function cPe(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dPe(t)}function dPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!t})()}function Uw(t){return Uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uw(t)}function uPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g3(t,e)}function g3(t,e){return g3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},g3(t,e)}function o7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function l7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o7(Object(r),!0).forEach(function(s){i6(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function i6(t,e,r){return e=YW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YW(t){var e=hPe(t,"string");return bp(e)=="symbol"?e:e+""}function hPe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(bp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function APe(t,e){return gPe(t)||pPe(t,e)||mPe(t,e)||fPe()}function fPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(t,e){if(t){if(typeof t=="string")return c7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c7(t,e)}}function c7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function pPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function gPe(t){if(Array.isArray(t))return t}function x3(){return x3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},x3.apply(this,arguments)}var xPe=function(e,r){var s;return ke.isValidElement(e)?s=ke.cloneElement(e,r):ar(e)?s=e(r):s=ke.createElement("line",x3({},r,{className:"recharts-reference-line-line"})),s},yPe=function(e,r,s,a,i,o,l,c,d){var u=i.x,h=i.y,f=i.width,p=i.height;if(s){var v=d.y,y=e.y.apply(v,{position:o});if(gc(d,"discard")&&!e.y.isInRange(y))return null;var g=[{x:u+f,y},{x:u,y}];return c==="left"?g.reverse():g}if(r){var x=d.x,w=e.x.apply(x,{position:o});if(gc(d,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:h+p},{x:w,y:h}];return l==="top"?_.reverse():_}if(a){var k=d.segment,C=k.map(function(B){return e.apply(B,{position:o})});return gc(d,"discard")&&u6e(C,function(B){return!e.isInRange(B)})?null:C}return null};function vPe(t){var e=t.x,r=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=ePe(),u=WW(a),h=GW(i),f=nPe();if(!d||!f)return null;_l(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=t6({x:u.scale,y:h.scale}),v=Fs(e),y=Fs(r),g=s&&s.length===2,x=yPe(p,v,y,g,f,t.position,u.orientation,h.orientation,t);if(!x)return null;var w=APe(x,2),_=w[0],k=_.x,C=_.y,B=w[1],I=B.x,S=B.y,E=gc(t,"hidden")?"url(#".concat(d,")"):void 0,D=l7(l7({clipPath:E},er(t,!0)),{},{x1:k,y1:C,x2:I,y2:S});return ke.createElement(Xr,{className:Ar("recharts-reference-line",l)},xPe(o,D),Ws.renderCallByParent(t,H6e({x1:k,y1:C,x2:I,y2:S})))}var o6=(function(t){function e(){return aPe(this,e),lPe(this,e,arguments)}return uPe(e,t),oPe(e,[{key:"render",value:function(){return ke.createElement(vPe,this.props)}}])})(ke.Component);i6(o6,"displayName","ReferenceLine");i6(o6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function y3(){return y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},y3.apply(this,arguments)}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function d7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function u7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d7(Object(r),!0).forEach(function(s){A2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function bPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wPe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,ZW(s.key),s)}}function jPe(t,e,r){return e&&wPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NPe(t,e,r){return e=Rw(e),_Pe(t,JW()?Reflect.construct(e,r||[],Rw(t).constructor):e.apply(t,r))}function _Pe(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CPe(t)}function CPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JW=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(t)}function SPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v3(t,e)}function v3(t,e){return v3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},v3(t,e)}function A2(t,e,r){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZW(t){var e=BPe(t,"string");return wp(e)=="symbol"?e:e+""}function BPe(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EPe=function(e){var r=e.x,s=e.y,a=e.xAxis,i=e.yAxis,o=t6({x:a.scale,y:i.scale}),l=o.apply({x:r,y:s},{bandAware:!0});return gc(e,"discard")&&!o.isInRange(l)?null:l},f2=(function(t){function e(){return bPe(this,e),NPe(this,e,arguments)}return SPe(e,t),jPe(e,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,d=Fs(a),u=Fs(i);if(_l(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!u)return null;var h=EPe(this.props);if(!h)return null;var f=h.x,p=h.y,v=this.props,y=v.shape,g=v.className,x=gc(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=u7(u7({clipPath:x},er(this.props,!0)),{},{cx:f,cy:p});return ke.createElement(Xr,{className:Ar("recharts-reference-dot",g)},e.renderDot(y,w),Ws.renderCallByParent(this.props,{x:f-o,y:p-o,width:2*o,height:2*o}))}}])})(ke.Component);A2(f2,"displayName","ReferenceDot");A2(f2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});A2(f2,"renderDot",function(t,e){var r;return ke.isValidElement(t)?r=ke.cloneElement(t,e):ar(t)?r=t(e):r=ke.createElement(e6,y3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function b3(){return b3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},b3.apply(this,arguments)}function jp(t){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jp(t)}function h7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function A7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h7(Object(r),!0).forEach(function(s){m2(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function kPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PPe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,tG(s.key),s)}}function FPe(t,e,r){return e&&PPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TPe(t,e,r){return e=Qw(e),OPe(t,eG()?Reflect.construct(e,r||[],Qw(t).constructor):e.apply(t,r))}function OPe(t,e){if(e&&(jp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IPe(t)}function IPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eG=function(){return!!t})()}function Qw(t){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(t)}function DPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w3(t,e)}function w3(t,e){return w3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},w3(t,e)}function m2(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tG(t){var e=MPe(t,"string");return jp(e)=="symbol"?e:e+""}function MPe(t,e){if(jp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LPe=function(e,r,s,a,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,u=i.xAxis,h=i.yAxis;if(!u||!h)return null;var f=t6({x:u.scale,y:h.scale}),p={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:s?f.y.apply(c,{position:"start"}):f.y.rangeMin},v={x:r?f.x.apply(l,{position:"end"}):f.x.rangeMax,y:a?f.y.apply(d,{position:"end"}):f.y.rangeMax};return gc(i,"discard")&&(!f.isInRange(p)||!f.isInRange(v))?null:QW(p,v)},p2=(function(t){function e(){return kPe(this,e),TPe(this,e,arguments)}return DPe(e,t),FPe(e,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,d=s.alwaysShow,u=s.clipPathId;_l(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Fs(a),f=Fs(i),p=Fs(o),v=Fs(l),y=this.props.shape;if(!h&&!f&&!p&&!v&&!y)return null;var g=LPe(h,f,p,v,this.props);if(!g&&!y)return null;var x=gc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ke.createElement(Xr,{className:Ar("recharts-reference-area",c)},e.renderRect(y,A7(A7({clipPath:x},er(this.props,!0)),g)),Ws.renderCallByParent(this.props,g))}}])})(ke.Component);m2(p2,"displayName","ReferenceArea");m2(p2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});m2(p2,"renderRect",function(t,e){var r;return ke.isValidElement(t)?r=ke.cloneElement(t,e):ar(t)?r=t(e):r=ke.createElement(Zk,b3({},e,{className:"recharts-reference-area-rect"})),r});function rG(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var s=[],a=0;a<t.length;a+=e)s.push(t[a]);return s}function UPe(t,e,r){var s={width:t.width+e.width,height:t.height+e.height};return q6e(s,r)}function RPe(t,e,r){var s=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Hw(t,e,r,s,a){if(t*e<t*s||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-s)>=0&&t*(e+t*i/2-a)<=0}function QPe(t,e){return rG(t,e+1)}function HPe(t,e,r,s,a){for(var i=(s||[]).slice(),o=e.start,l=e.end,c=0,d=1,u=o,h=function(){var v=s?.[c];if(v===void 0)return{v:rG(s,d)};var y=c,g,x=function(){return g===void 0&&(g=r(v,y)),g},w=v.coordinate,_=c===0||Hw(t,w,x,u,l);_||(c=0,u=o,d+=1),_&&(u=w+t*(x()/2+a),c+=d)},f;d<=i.length;)if(f=h(),f)return f.v;return[]}function Px(t){"@babel/helpers - typeof";return Px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Px(t)}function f7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(r),!0).forEach(function(s){$Pe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function $Pe(t,e,r){return e=qPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qPe(t){var e=zPe(t,"string");return Px(e)=="symbol"?e:e+""}function zPe(t,e){if(Px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Px(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VPe(t,e,r,s,a){for(var i=(s||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(f){var p=i[f],v,y=function(){return v===void 0&&(v=r(p,f)),v};if(f===o-1){var g=t*(p.coordinate+t*y()/2-c);i[f]=p=Pa(Pa({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate})}else i[f]=p=Pa(Pa({},p),{},{tickCoord:p.coordinate});var x=Hw(t,p.tickCoord,y,l,c);x&&(c=p.tickCoord-t*(y()/2+a),i[f]=Pa(Pa({},p),{},{isShow:!0}))},u=o-1;u>=0;u--)d(u);return i}function KPe(t,e,r,s,a,i){var o=(s||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var u=s[l-1],h=r(u,l-1),f=t*(u.coordinate+t*h/2-d);o[l-1]=u=Pa(Pa({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var p=Hw(t,u.tickCoord,function(){return h},c,d);p&&(d=u.tickCoord-t*(h/2+a),o[l-1]=Pa(Pa({},u),{},{isShow:!0}))}for(var v=i?l-1:l,y=function(w){var _=o[w],k,C=function(){return k===void 0&&(k=r(_,w)),k};if(w===0){var B=t*(_.coordinate-t*C()/2-c);o[w]=_=Pa(Pa({},_),{},{tickCoord:B<0?_.coordinate-B*t:_.coordinate})}else o[w]=_=Pa(Pa({},_),{},{tickCoord:_.coordinate});var I=Hw(t,_.tickCoord,C,c,d);I&&(c=_.tickCoord+t*(C()/2+a),o[w]=Pa(Pa({},_),{},{isShow:!0}))},g=0;g<v;g++)y(g);return o}function l6(t,e,r){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,u=t.unit,h=t.angle;if(!a||!a.length||!s)return[];if(mt(c)||Rp.isSsr)return QPe(a,typeof c=="number"&&mt(c)?c:0);var f=[],p=l==="top"||l==="bottom"?"width":"height",v=u&&p==="width"?x0(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(_,k){var C=ar(d)?d(_.value,k):_.value;return p==="width"?UPe(x0(C,{fontSize:e,letterSpacing:r}),v,h):x0(C,{fontSize:e,letterSpacing:r})[p]},g=a.length>=2?si(a[1].coordinate-a[0].coordinate):1,x=RPe(i,g,p);return c==="equidistantPreserveStart"?HPe(g,x,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?f=KPe(g,x,y,a,o,c==="preserveStartEnd"):f=VPe(g,x,y,a,o),f.filter(function(w){return w.isShow}))}var WPe=["viewBox"],GPe=["viewBox"],XPe=["ticks"];function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Tm.apply(this,arguments)}function m7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(r),!0).forEach(function(s){c6(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function B4(t,e){if(t==null)return{};var r=YPe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function YPe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function JPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p7(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,sG(s.key),s)}}function ZPe(t,e,r){return e&&p7(t.prototype,e),r&&p7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function eFe(t,e,r){return e=$w(e),tFe(t,nG()?Reflect.construct(e,r||[],$w(t).constructor):e.apply(t,r))}function tFe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rFe(t)}function rFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nG=function(){return!!t})()}function $w(t){return $w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$w(t)}function nFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j3(t,e)}function j3(t,e){return j3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},j3(t,e)}function c6(t,e,r){return e=sG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sG(t){var e=sFe(t,"string");return Np(e)=="symbol"?e:e+""}function sFe(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Np(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qp=(function(t){function e(r){var s;return JPe(this,e),s=eFe(this,e,[r]),s.state={fontSize:"",letterSpacing:""},s}return nFe(e,t),ZPe(e,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=B4(s,WPe),l=this.props,c=l.viewBox,d=B4(l,GPe);return!Xm(i,c)||!Xm(o,d)||!Xm(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,d=a.orientation,u=a.tickSize,h=a.mirror,f=a.tickMargin,p,v,y,g,x,w,_=h?-1:1,k=s.tickSize||u,C=mt(s.tickCoord)?s.tickCoord:s.coordinate;switch(d){case"top":p=v=s.coordinate,g=o+ +!h*c,y=g-_*k,w=y-_*f,x=C;break;case"left":y=g=s.coordinate,v=i+ +!h*l,p=v-_*k,x=p-_*f,w=C;break;case"right":y=g=s.coordinate,v=i+ +h*l,p=v+_*k,x=p+_*f,w=C;break;default:p=v=s.coordinate,g=o+ +h*c,y=g+_*k,w=y+_*f,x=C;break}return{line:{x1:p,y1:y,x2:v,y2:g},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,d=s.mirror,u=s.axisLine,h=Ss(Ss(Ss({},er(this.props,!1)),er(u,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var f=+(c==="top"&&!d||c==="bottom"&&d);h=Ss(Ss({},h),{},{x1:a,y1:i+f*l,x2:a+o,y2:i+f*l})}else{var p=+(c==="left"&&!d||c==="right"&&d);h=Ss(Ss({},h),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return ke.createElement("line",Tm({},h,{className:Ar("recharts-cartesian-axis-line",so(u,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,u=l.tick,h=l.tickFormatter,f=l.unit,p=l6(Ss(Ss({},this.props),{},{ticks:s}),a,i),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),g=er(this.props,!1),x=er(u,!1),w=Ss(Ss({},g),{},{fill:"none"},er(c,!1)),_=p.map(function(k,C){var B=o.getTickLineCoord(k),I=B.line,S=B.tick,E=Ss(Ss(Ss(Ss({textAnchor:v,verticalAnchor:y},g),{},{stroke:"none",fill:d},x),S),{},{index:C,payload:k,visibleTicksCount:p.length,tickFormatter:h});return ke.createElement(Xr,Tm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},YA(o.props,k,C)),c&&ke.createElement("line",Tm({},w,I,{className:Ar("recharts-cartesian-axis-tick-line",so(c,"className"))})),u&&e.renderTickItem(u,E,"".concat(ar(h)?h(k.value,C):k.value).concat(f||"")))});return ke.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,d=a.className,u=a.hide;if(u)return null;var h=this.props,f=h.ticks,p=B4(h,XPe),v=f;return ar(c)&&(v=f&&f.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:ke.createElement(Xr,{className:Ar("recharts-cartesian-axis",d),ref:function(g){s.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ws.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o,l=Ar(a.className,"recharts-cartesian-axis-tick-value");return ke.isValidElement(s)?o=ke.cloneElement(s,Ss(Ss({},a),{},{className:l})):ar(s)?o=s(Ss(Ss({},a),{},{className:l})):o=ke.createElement(JA,Tm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(O.Component);c6(qp,"displayName","CartesianAxis");c6(qp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var aFe=["x1","y1","x2","y2","key"],iFe=["offset"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(s){oFe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function oFe(t,e,r){return e=lFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lFe(t){var e=cFe(t,"string");return tf(e)=="symbol"?e:e+""}function cFe(t,e){if(tf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(tf(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},DA.apply(this,arguments)}function x7(t,e){if(t==null)return{};var r=dFe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function dFe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}var uFe=function(e){var r=e.fill;if(!r||r==="none")return null;var s=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return ke.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function aG(t,e){var r;if(ke.isValidElement(t))r=ke.cloneElement(t,e);else if(ar(t))r=t(e);else{var s=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=x7(e,aFe),d=er(c,!1);d.offset;var u=x7(d,iFe);r=ke.createElement("line",DA({},u,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function hFe(t){var e=t.x,r=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ta(Ta({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return aG(a,d)});return ke.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function AFe(t){var e=t.y,r=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var d=Ta(Ta({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return aG(a,d)});return ke.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fFe(t){var e=t.horizontalFill,r=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var u=l.map(function(f){return Math.round(f+a-a)}).sort(function(f,p){return f-p});a!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var v=!u[p+1],y=v?a+o-f:u[p+1]-f;if(y<=0)return null;var g=p%e.length;return ke.createElement("rect",{key:"react-".concat(p),y:f,x:s,height:y,width:i,stroke:"none",fill:e[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function mFe(t){var e=t.vertical,r=e===void 0?!0:e,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!s||!s.length)return null;var u=d.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==u[0]&&u.unshift(0);var h=u.map(function(f,p){var v=!u[p+1],y=v?i+l-f:u[p+1]-f;if(y<=0)return null;var g=p%s.length;return ke.createElement("rect",{key:"react-".concat(p),x:f,y:o,width:y,height:c,stroke:"none",fill:s[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ke.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var pFe=function(e,r){var s=e.xAxis,a=e.width,i=e.height,o=e.offset;return iW(l6(Ta(Ta(Ta({},qp.defaultProps),s),{},{ticks:bd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},gFe=function(e,r){var s=e.yAxis,a=e.width,i=e.height,o=e.offset;return iW(l6(Ta(Ta(Ta({},qp.defaultProps),s),{},{ticks:bd(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},mm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function d6(t){var e,r,s,a,i,o,l=s6(),c=a6(),d=sPe(),u=Ta(Ta({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:mm.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:mm.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:mm.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:mm.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:mm.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:mm.verticalFill,x:mt(t.x)?t.x:d.left,y:mt(t.y)?t.y:d.top,width:mt(t.width)?t.width:d.width,height:mt(t.height)?t.height:d.height}),h=u.x,f=u.y,p=u.width,v=u.height,y=u.syncWithTicks,g=u.horizontalValues,x=u.verticalValues,w=tPe(),_=rPe();if(!mt(p)||p<=0||!mt(v)||v<=0||!mt(h)||h!==+h||!mt(f)||f!==+f)return null;var k=u.verticalCoordinatesGenerator||pFe,C=u.horizontalCoordinatesGenerator||gFe,B=u.horizontalPoints,I=u.verticalPoints;if((!B||!B.length)&&ar(C)){var S=g&&g.length,E=C({yAxis:_?Ta(Ta({},_),{},{ticks:S?g:_.ticks}):void 0,width:l,height:c,offset:d},S?!0:y);_l(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tf(E),"]")),Array.isArray(E)&&(B=E)}if((!I||!I.length)&&ar(k)){var D=x&&x.length,N=k({xAxis:w?Ta(Ta({},w),{},{ticks:D?x:w.ticks}):void 0,width:l,height:c,offset:d},D?!0:y);_l(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tf(N),"]")),Array.isArray(N)&&(I=N)}return ke.createElement("g",{className:"recharts-cartesian-grid"},ke.createElement(uFe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ke.createElement(hFe,DA({},u,{offset:d,horizontalPoints:B,xAxis:w,yAxis:_})),ke.createElement(AFe,DA({},u,{offset:d,verticalPoints:I,xAxis:w,yAxis:_})),ke.createElement(fFe,DA({},u,{horizontalPoints:B})),ke.createElement(mFe,DA({},u,{verticalPoints:I})))}d6.displayName="CartesianGrid";function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function xFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yFe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,lG(s.key),s)}}function vFe(t,e,r){return e&&yFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bFe(t,e,r){return e=qw(e),wFe(t,iG()?Reflect.construct(e,r||[],qw(t).constructor):e.apply(t,r))}function wFe(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jFe(t)}function jFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!t})()}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(t)}function NFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},N3(t,e)}function oG(t,e,r){return e=lG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lG(t){var e=_Fe(t,"string");return _p(e)=="symbol"?e:e+""}function _Fe(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(_p(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _3(){return _3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},_3.apply(this,arguments)}function CFe(t){var e=t.xAxisId,r=s6(),s=a6(),a=WW(e);return a==null?null:O.createElement(qp,_3({},a,{className:Ar("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(o){return bd(o,!0)}}))}var ey=(function(t){function e(){return xFe(this,e),bFe(this,e,arguments)}return NFe(e,t),vFe(e,[{key:"render",value:function(){return O.createElement(CFe,this.props)}}])})(O.Component);oG(ey,"displayName","XAxis");oG(ey,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function SFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BFe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,uG(s.key),s)}}function EFe(t,e,r){return e&&BFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kFe(t,e,r){return e=zw(e),PFe(t,cG()?Reflect.construct(e,r||[],zw(t).constructor):e.apply(t,r))}function PFe(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(t)}function FFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!t})()}function zw(t){return zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zw(t)}function TFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C3(t,e)}function C3(t,e){return C3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},C3(t,e)}function dG(t,e,r){return e=uG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uG(t){var e=OFe(t,"string");return Cp(e)=="symbol"?e:e+""}function OFe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function S3(){return S3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},S3.apply(this,arguments)}var IFe=function(e){var r=e.yAxisId,s=s6(),a=a6(),i=GW(r);return i==null?null:O.createElement(qp,S3({},i,{className:Ar("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return bd(l,!0)}}))},ty=(function(t){function e(){return SFe(this,e),kFe(this,e,arguments)}return TFe(e,t),EFe(e,[{key:"render",value:function(){return O.createElement(IFe,this.props)}}])})(O.Component);dG(ty,"displayName","YAxis");dG(ty,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function y7(t){return UFe(t)||LFe(t)||MFe(t)||DFe()}function DFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MFe(t,e){if(t){if(typeof t=="string")return B3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B3(t,e)}}function LFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UFe(t){if(Array.isArray(t))return B3(t)}function B3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}var E3=function(e,r,s,a,i){var o=Qo(e,o6),l=Qo(e,f2),c=[].concat(y7(o),y7(l)),d=Qo(e,p2),u="".concat(a,"Id"),h=a[0],f=r;if(c.length&&(f=c.reduce(function(y,g){if(g.props[u]===s&&gc(g.props,"extendDomain")&&mt(g.props[h])){var x=g.props[h];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},f)),d.length){var p="".concat(h,"1"),v="".concat(h,"2");f=d.reduce(function(y,g){if(g.props[u]===s&&gc(g.props,"extendDomain")&&mt(g.props[p])&&mt(g.props[v])){var x=g.props[p],w=g.props[v];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},f)}return i&&i.length&&(f=i.reduce(function(y,g){return mt(g)?[Math.min(y[0],g),Math.max(y[1],g)]:y},f)),f},E4={exports:{}},v7;function RFe(){return v7||(v7=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(r=!1));function a(c,d,u){this.fn=c,this.context=d,this.once=u||!1}function i(c,d,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,h||c,f),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new s:delete c._events[d]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],u,h;if(this._eventsCount===0)return d;for(h in u=this._events)e.call(u,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(u)):d},l.prototype.listeners=function(d){var u=r?r+d:d,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,v=new Array(p);f<p;f++)v[f]=h[f].fn;return v},l.prototype.listenerCount=function(d){var u=r?r+d:d,h=this._events[u];return h?h.fn?1:h.length:0},l.prototype.emit=function(d,u,h,f,p,v){var y=r?r+d:d;if(!this._events[y])return!1;var g=this._events[y],x=arguments.length,w,_;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,h),!0;case 4:return g.fn.call(g.context,u,h,f),!0;case 5:return g.fn.call(g.context,u,h,f,p),!0;case 6:return g.fn.call(g.context,u,h,f,p,v),!0}for(_=1,w=new Array(x-1);_<x;_++)w[_-1]=arguments[_];g.fn.apply(g.context,w)}else{var k=g.length,C;for(_=0;_<k;_++)switch(g[_].once&&this.removeListener(d,g[_].fn,void 0,!0),x){case 1:g[_].fn.call(g[_].context);break;case 2:g[_].fn.call(g[_].context,u);break;case 3:g[_].fn.call(g[_].context,u,h);break;case 4:g[_].fn.call(g[_].context,u,h,f);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];g[_].fn.apply(g[_].context,w)}}return!0},l.prototype.on=function(d,u,h){return i(this,d,u,h,!1)},l.prototype.once=function(d,u,h){return i(this,d,u,h,!0)},l.prototype.removeListener=function(d,u,h,f){var p=r?r+d:d;if(!this._events[p])return this;if(!u)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!f||v.once)&&(!h||v.context===h)&&o(this,p);else{for(var y=0,g=[],x=v.length;y<x;y++)(v[y].fn!==u||f&&!v[y].once||h&&v[y].context!==h)&&g.push(v[y]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(d){var u;return d?(u=r?r+d:d,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(E4)),E4.exports}var QFe=RFe();const HFe=Dr(QFe);var k4=new HFe,P4="recharts.syncMouseEvents";function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function $Fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qFe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hG(s.key),s)}}function zFe(t,e,r){return e&&qFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F4(t,e,r){return e=hG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hG(t){var e=VFe(t,"string");return Fx(e)=="symbol"?e:e+""}function VFe(t,e){if(Fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Fx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KFe=(function(){function t(){$Fe(this,t),F4(this,"activeIndex",0),F4(this,"coordinateList",[]),F4(this,"layout","horizontal")}return zFe(t,[{key:"setDetails",value:function(r){var s,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,u=r.offset,h=u===void 0?null:u,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((s=window)===null||s===void 0?void 0:s.scrollY)||0,h=i+c+d,f=o+this.offset.top+l/2+u;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])})();function WFe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var s=t?.[0],a=t?.[1];if(s&&a&&mt(s)&&mt(a))return!0}return!1}function GFe(t,e,r,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?s:r.width-1,height:t==="horizontal"?r.height-1:s}}function AG(t){var e=t.cx,r=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=un(e,r,s,a),l=un(e,r,s,i);return{points:[o,l],cx:e,cy:r,radius:s,startAngle:a,endAngle:i}}function XFe(t,e,r){var s,a,i,o;if(t==="horizontal")s=e.x,i=s,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,s=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,u=e.outerRadius,h=e.angle,f=un(l,c,d,h),p=un(l,c,u,h);s=f.x,a=f.y,i=p.x,o=p.y}else return AG(e);return[{x:s,y:a},{x:i,y:o}]}function Tx(t){"@babel/helpers - typeof";return Tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tx(t)}function b7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function Kv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b7(Object(r),!0).forEach(function(s){YFe(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function YFe(t,e,r){return e=JFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JFe(t){var e=ZFe(t,"string");return Tx(e)=="symbol"?e:e+""}function ZFe(t,e){if(Tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Tx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eTe(t){var e,r,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,u=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=s.props.cursor)!==null&&e!==void 0?e:(r=s.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!s||!p||!i||!o||f!=="ScatterChart"&&a!=="axis")return null;var v,y=JB;if(f==="ScatterChart")v=o,y=IEe;else if(f==="BarChart")v=GFe(h,o,c,u),y=Zk;else if(h==="radial"){var g=AG(o),x=g.cx,w=g.cy,_=g.radius,k=g.startAngle,C=g.endAngle;v={cx:x,cy:w,startAngle:k,endAngle:C,innerRadius:_,outerRadius:_},y=gW}else v={points:XFe(h,o,c)},y=JB;var B=Kv(Kv(Kv(Kv({stroke:"#ccc",pointerEvents:"none"},c),v),er(p,!1)),{},{payload:l,payloadIndex:d,className:Ar("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,B):O.createElement(y,B)}var tTe=["item"],rTe=["children","className","width","height","style","compact","title","desc"];function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Om.apply(this,arguments)}function w7(t,e){return aTe(t)||sTe(t,e)||mG(t,e)||nTe()}function nTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,a,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(s=i.call(r)).done)&&(l.push(s.value),l.length!==e);c=!0);}catch(u){d=!0,a=u}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw a}}return l}}function aTe(t){if(Array.isArray(t))return t}function j7(t,e){if(t==null)return{};var r=iTe(t,e),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function iTe(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function oTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lTe(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,pG(s.key),s)}}function cTe(t,e,r){return e&&lTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dTe(t,e,r){return e=Vw(e),uTe(t,fG()?Reflect.construct(e,r||[],Vw(t).constructor):e.apply(t,r))}function uTe(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hTe(t)}function hTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fG=function(){return!!t})()}function Vw(t){return Vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vw(t)}function ATe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k3(t,e)}function k3(t,e){return k3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},k3(t,e)}function Bp(t){return pTe(t)||mTe(t)||mG(t)||fTe()}function fTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mG(t,e){if(t){if(typeof t=="string")return P3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P3(t,e)}}function mTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pTe(t){if(Array.isArray(t))return P3(t)}function P3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,s=new Array(e);r<e;r++)s[r]=t[r];return s}function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,s)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(s){Kt(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Kt(t,e,r){return e=pG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pG(t){var e=gTe(t,"string");return Sp(e)=="symbol"?e:e+""}function gTe(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e);if(Sp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xTe={xAxis:["bottom","top"],yAxis:["left","right"]},yTe={width:"100%",height:"100%"},gG={x:0,y:0};function Wv(t){return t}var vTe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},bTe=function(e,r,s,a){var i=r.find(function(u){return u&&u.index===s});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return it(it(it({},a),un(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=a.angle;return it(it(it({},a),un(a.cx,a.cy,c,d)),{},{angle:d,radius:c})}return gG},g2=function(e,r){var s=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(s??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Bp(l),Bp(d)):l},[]);return o.length>0?o:e&&e.length&&mt(a)&&mt(i)?e.slice(a,i+1):[]};function xG(t){return t==="number"?[0,"auto"]:void 0}var F3=function(e,r,s,a){var i=e.graphicalItems,o=e.tooltipAxis,l=g2(r,e);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,d){var u,h=(u=d.props.data)!==null&&u!==void 0?u:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=s&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var p=h===void 0?l:h;f=AB(p,o.dataKey,a)}else f=h&&h[s]||l[s];return f?[].concat(Bp(c),[uW(d,f)]):c},[])},_7=function(e,r,s,a){var i=a||{x:e.chartX,y:e.chartY},o=vTe(i,s),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,u=aSe(o,l,d,c);if(u>=0&&d){var h=d[u]&&d[u].value,f=F3(e,r,u,h),p=bTe(s,l,u,i);return{activeTooltipIndex:u,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},wTe=function(e,r){var s=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=e.stackOffset,p=aW(u,i);return s.reduce(function(v,y){var g,x=y.type.defaultProps!==void 0?it(it({},y.type.defaultProps),y.props):y.props,w=x.type,_=x.dataKey,k=x.allowDataOverflow,C=x.allowDuplicatedCategory,B=x.scale,I=x.ticks,S=x.includeHidden,E=x[o];if(v[E])return v;var D=g2(e.data,{graphicalItems:a.filter(function($){var L,Y=o in $.props?$.props[o]:(L=$.type.defaultProps)===null||L===void 0?void 0:L[o];return Y===E}),dataStartIndex:c,dataEndIndex:d}),N=D.length,T,Q,U;WFe(x.domain,k,w)&&(T=KB(x.domain,null,k),p&&(w==="number"||B!=="auto")&&(U=v0(D,_,"category")));var K=xG(w);if(!T||T.length===0){var z,ee=(z=x.domain)!==null&&z!==void 0?z:K;if(_){if(T=v0(D,_,w),w==="category"&&p){var G=Zwe(T);C&&G?(Q=T,T=Ow(0,N)):C||(T=S8(ee,T,y).reduce(function($,L){return $.indexOf(L)>=0?$:[].concat(Bp($),[L])},[]))}else if(w==="category")C?T=T.filter(function($){return $!==""&&!mr($)}):T=S8(ee,T,y).reduce(function($,L){return $.indexOf(L)>=0||L===""||mr(L)?$:[].concat(Bp($),[L])},[]);else if(w==="number"){var q=dSe(D,a.filter(function($){var L,Y,X=o in $.props?$.props[o]:(L=$.type.defaultProps)===null||L===void 0?void 0:L[o],Ae="hide"in $.props?$.props.hide:(Y=$.type.defaultProps)===null||Y===void 0?void 0:Y.hide;return X===E&&(S||!Ae)}),_,i,u);q&&(T=q)}p&&(w==="number"||B!=="auto")&&(U=v0(D,_,"category"))}else p?T=Ow(0,N):l&&l[E]&&l[E].hasStack&&w==="number"?T=f==="expand"?[0,1]:dW(l[E].stackGroups,c,d):T=sW(D,a.filter(function($){var L=o in $.props?$.props[o]:$.type.defaultProps[o],Y="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return L===E&&(S||!Y)}),w,u,!0);if(w==="number")T=E3(h,T,E,i,I),ee&&(T=KB(ee,T,k));else if(w==="category"&&ee){var re=ee,Z=T.every(function($){return re.indexOf($)>=0});Z&&(T=re)}}return it(it({},v),{},Kt({},E,it(it({},x),{},{axisType:i,domain:T,categoricalDomain:U,duplicateDomain:Q,originalDomain:(g=x.domain)!==null&&g!==void 0?g:K,isCategorical:p,layout:u})))},{})},jTe=function(e,r){var s=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.layout,h=e.children,f=g2(e.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:d}),p=f.length,v=aW(u,i),y=-1;return s.reduce(function(g,x){var w=x.type.defaultProps!==void 0?it(it({},x.type.defaultProps),x.props):x.props,_=w[o],k=xG("number");if(!g[_]){y++;var C;return v?C=Ow(0,p):l&&l[_]&&l[_].hasStack?(C=dW(l[_].stackGroups,c,d),C=E3(h,C,_,i)):(C=KB(k,sW(f,s.filter(function(B){var I,S,E=o in B.props?B.props[o]:(I=B.type.defaultProps)===null||I===void 0?void 0:I[o],D="hide"in B.props?B.props.hide:(S=B.type.defaultProps)===null||S===void 0?void 0:S.hide;return E===_&&!D}),"number",u),a.defaultProps.allowDataOverflow),C=E3(h,C,_,i)),it(it({},g),{},Kt({},_,it(it({axisType:i},a.defaultProps),{},{hide:!0,orientation:so(xTe,"".concat(i,".").concat(y%2),null),domain:C,originalDomain:k,isCategorical:v,layout:u})))}return g},{})},NTe=function(e,r){var s=r.axisType,a=s===void 0?"xAxis":s,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,u=e.children,h="".concat(a,"Id"),f=Qo(u,i),p={};return f&&f.length?p=wTe(e,{axes:f,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(p=jTe(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),p},_Te=function(e){var r=Gu(e),s=bd(r,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:_k(s,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ww(r,s)}},C7=function(e){var r=e.children,s=e.defaultShowTooltip,a=Zi(r,yp),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},CTe=function(e){return!e||!e.length?!1:e.some(function(r){var s=jd(r&&r.type);return s&&s.indexOf("Bar")>=0})},S7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},STe=function(e,r){var s=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=s.width,u=s.height,h=s.children,f=s.margin||{},p=Zi(h,yp),v=Zi(h,qA),y=Object.keys(c).reduce(function(C,B){var I=c[B],S=I.orientation;return!I.mirror&&!I.hide?it(it({},C),{},Kt({},S,C[S]+I.width)):C},{left:f.left||0,right:f.right||0}),g=Object.keys(o).reduce(function(C,B){var I=o[B],S=I.orientation;return!I.mirror&&!I.hide?it(it({},C),{},Kt({},S,so(C,"".concat(S))+I.height)):C},{top:f.top||0,bottom:f.bottom||0}),x=it(it({},g),y),w=x.bottom;p&&(x.bottom+=p.props.height||yp.defaultProps.height),v&&r&&(x=lSe(x,a,s,r));var _=d-x.left-x.right,k=u-x.top-x.bottom;return it(it({brushBottom:w},x),{},{width:Math.max(_,0),height:Math.max(k,0)})},BTe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},yG=function(e){var r=e.chartName,s=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,u=e.formatAxisMap,h=e.defaultProps,f=function(x,w){var _=w.graphicalItems,k=w.stackGroups,C=w.offset,B=w.updateId,I=w.dataStartIndex,S=w.dataEndIndex,E=x.barSize,D=x.layout,N=x.barGap,T=x.barCategoryGap,Q=x.maxBarSize,U=S7(D),K=U.numericAxisName,z=U.cateAxisName,ee=CTe(_),G=[];return _.forEach(function(q,re){var Z=g2(x.data,{graphicalItems:[q],dataStartIndex:I,dataEndIndex:S}),$=q.type.defaultProps!==void 0?it(it({},q.type.defaultProps),q.props):q.props,L=$.dataKey,Y=$.maxBarSize,X=$["".concat(K,"Id")],Ae=$["".concat(z,"Id")],fe={},de=c.reduce(function(We,Oe){var ve=w["".concat(Oe.axisType,"Map")],st=$["".concat(Oe.axisType,"Id")];ve&&ve[st]||Oe.axisType==="zAxis"||ef();var Ne=ve[st];return it(it({},We),{},Kt(Kt({},Oe.axisType,Ne),"".concat(Oe.axisType,"Ticks"),bd(Ne)))},fe),me=de[z],Ce=de["".concat(z,"Ticks")],xe=k&&k[X]&&k[X].hasStack&&ySe(q,k[X].stackGroups),we=jd(q.type).indexOf("Bar")>=0,Ie=ww(me,Ce),lt=[],Le=ee&&iSe({barSize:E,stackGroups:k,totalSize:BTe(de,z)});if(we){var J,Qe,je=mr(Y)?Q:Y,ie=(J=(Qe=ww(me,Ce,!0))!==null&&Qe!==void 0?Qe:je)!==null&&J!==void 0?J:0;lt=oSe({barGap:N,barCategoryGap:T,bandSize:ie!==Ie?ie:Ie,sizeList:Le[Ae],maxBarSize:je}),ie!==Ie&&(lt=lt.map(function(We){return it(it({},We),{},{position:it(it({},We.position),{},{offset:We.position.offset-ie/2})})}))}var Se=q&&q.type&&q.type.getComposedData;Se&&G.push({props:it(it({},Se(it(it({},de),{},{displayedData:Z,props:x,dataKey:L,item:q,bandSize:Ie,barPosition:lt,offset:C,stackedData:xe,layout:D,dataStartIndex:I,dataEndIndex:S}))),{},Kt(Kt(Kt({key:q.key||"item-".concat(re)},K,de[K]),z,de[z]),"animationId",B)),childIndex:u1e(q,x.children),item:q})}),G},p=function(x,w){var _=x.props,k=x.dataStartIndex,C=x.dataEndIndex,B=x.updateId;if(!HM({props:_}))return null;var I=_.children,S=_.layout,E=_.stackOffset,D=_.data,N=_.reverseStackOrder,T=S7(S),Q=T.numericAxisName,U=T.cateAxisName,K=Qo(I,s),z=gSe(D,K,"".concat(Q,"Id"),"".concat(U,"Id"),E,N),ee=c.reduce(function($,L){var Y="".concat(L.axisType,"Map");return it(it({},$),{},Kt({},Y,NTe(_,it(it({},L),{},{graphicalItems:K,stackGroups:L.axisType===Q&&z,dataStartIndex:k,dataEndIndex:C}))))},{}),G=STe(it(it({},ee),{},{props:_,graphicalItems:K}),w?.legendBBox);Object.keys(ee).forEach(function($){ee[$]=u(_,ee[$],G,$.replace("Map",""),r)});var q=ee["".concat(U,"Map")],re=_Te(q),Z=f(_,it(it({},ee),{},{dataStartIndex:k,dataEndIndex:C,updateId:B,graphicalItems:K,stackGroups:z,offset:G}));return it(it({formattedGraphicalItems:Z,graphicalItems:K,offset:G,stackGroups:z},re),ee)},v=(function(g){function x(w){var _,k,C;return oTe(this,x),C=dTe(this,x,[w]),Kt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(C,"accessibilityManager",new KFe),Kt(C,"handleLegendBBoxUpdate",function(B){if(B){var I=C.state,S=I.dataStartIndex,E=I.dataEndIndex,D=I.updateId;C.setState(it({legendBBox:B},p({props:C.props,dataStartIndex:S,dataEndIndex:E,updateId:D},it(it({},C.state),{},{legendBBox:B}))))}}),Kt(C,"handleReceiveSyncEvent",function(B,I,S){if(C.props.syncId===B){if(S===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(I)}}),Kt(C,"handleBrushChange",function(B){var I=B.startIndex,S=B.endIndex;if(I!==C.state.dataStartIndex||S!==C.state.dataEndIndex){var E=C.state.updateId;C.setState(function(){return it({dataStartIndex:I,dataEndIndex:S},p({props:C.props,dataStartIndex:I,dataEndIndex:S,updateId:E},C.state))}),C.triggerSyncEvent({dataStartIndex:I,dataEndIndex:S})}}),Kt(C,"handleMouseEnter",function(B){var I=C.getMouseInfo(B);if(I){var S=it(it({},I),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var E=C.props.onMouseEnter;ar(E)&&E(S,B)}}),Kt(C,"triggeredAfterMouseMove",function(B){var I=C.getMouseInfo(B),S=I?it(it({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var E=C.props.onMouseMove;ar(E)&&E(S,B)}),Kt(C,"handleItemMouseEnter",function(B){C.setState(function(){return{isTooltipActive:!0,activeItem:B,activePayload:B.tooltipPayload,activeCoordinate:B.tooltipPosition||{x:B.cx,y:B.cy}}})}),Kt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Kt(C,"handleMouseMove",function(B){B.persist(),C.throttleTriggeredAfterMouseMove(B)}),Kt(C,"handleMouseLeave",function(B){C.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var S=C.props.onMouseLeave;ar(S)&&S(I,B)}),Kt(C,"handleOuterEvent",function(B){var I=d1e(B),S=so(C.props,"".concat(I));if(I&&ar(S)){var E,D;/.*touch.*/i.test(I)?D=C.getMouseInfo(B.changedTouches[0]):D=C.getMouseInfo(B),S((E=D)!==null&&E!==void 0?E:{},B)}}),Kt(C,"handleClick",function(B){var I=C.getMouseInfo(B);if(I){var S=it(it({},I),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var E=C.props.onClick;ar(E)&&E(S,B)}}),Kt(C,"handleMouseDown",function(B){var I=C.props.onMouseDown;if(ar(I)){var S=C.getMouseInfo(B);I(S,B)}}),Kt(C,"handleMouseUp",function(B){var I=C.props.onMouseUp;if(ar(I)){var S=C.getMouseInfo(B);I(S,B)}}),Kt(C,"handleTouchMove",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(B.changedTouches[0])}),Kt(C,"handleTouchStart",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&C.handleMouseDown(B.changedTouches[0])}),Kt(C,"handleTouchEnd",function(B){B.changedTouches!=null&&B.changedTouches.length>0&&C.handleMouseUp(B.changedTouches[0])}),Kt(C,"handleDoubleClick",function(B){var I=C.props.onDoubleClick;if(ar(I)){var S=C.getMouseInfo(B);I(S,B)}}),Kt(C,"handleContextMenu",function(B){var I=C.props.onContextMenu;if(ar(I)){var S=C.getMouseInfo(B);I(S,B)}}),Kt(C,"triggerSyncEvent",function(B){C.props.syncId!==void 0&&k4.emit(P4,C.props.syncId,B,C.eventEmitterSymbol)}),Kt(C,"applySyncEvent",function(B){var I=C.props,S=I.layout,E=I.syncMethod,D=C.state.updateId,N=B.dataStartIndex,T=B.dataEndIndex;if(B.dataStartIndex!==void 0||B.dataEndIndex!==void 0)C.setState(it({dataStartIndex:N,dataEndIndex:T},p({props:C.props,dataStartIndex:N,dataEndIndex:T,updateId:D},C.state)));else if(B.activeTooltipIndex!==void 0){var Q=B.chartX,U=B.chartY,K=B.activeTooltipIndex,z=C.state,ee=z.offset,G=z.tooltipTicks;if(!ee)return;if(typeof E=="function")K=E(G,B);else if(E==="value"){K=-1;for(var q=0;q<G.length;q++)if(G[q].value===B.activeLabel){K=q;break}}var re=it(it({},ee),{},{x:ee.left,y:ee.top}),Z=Math.min(Q,re.x+re.width),$=Math.min(U,re.y+re.height),L=G[K]&&G[K].value,Y=F3(C.state,C.props.data,K),X=G[K]?{x:S==="horizontal"?G[K].coordinate:Z,y:S==="horizontal"?$:G[K].coordinate}:gG;C.setState(it(it({},B),{},{activeLabel:L,activeCoordinate:X,activePayload:Y,activeTooltipIndex:K}))}else C.setState(B)}),Kt(C,"renderCursor",function(B){var I,S=C.state,E=S.isTooltipActive,D=S.activeCoordinate,N=S.activePayload,T=S.offset,Q=S.activeTooltipIndex,U=S.tooltipAxisBandSize,K=C.getTooltipEventType(),z=(I=B.props.active)!==null&&I!==void 0?I:E,ee=C.props.layout,G=B.key||"_recharts-cursor";return ke.createElement(eTe,{key:G,activeCoordinate:D,activePayload:N,activeTooltipIndex:Q,chartName:r,element:B,isActive:z,layout:ee,offset:T,tooltipAxisBandSize:U,tooltipEventType:K})}),Kt(C,"renderPolarAxis",function(B,I,S){var E=so(B,"type.axisType"),D=so(C.state,"".concat(E,"Map")),N=B.type.defaultProps,T=N!==void 0?it(it({},N),B.props):B.props,Q=D&&D[T["".concat(E,"Id")]];return O.cloneElement(B,it(it({},Q),{},{className:Ar(E,Q.className),key:B.key||"".concat(I,"-").concat(S),ticks:bd(Q,!0)}))}),Kt(C,"renderPolarGrid",function(B){var I=B.props,S=I.radialLines,E=I.polarAngles,D=I.polarRadius,N=C.state,T=N.radiusAxisMap,Q=N.angleAxisMap,U=Gu(T),K=Gu(Q),z=K.cx,ee=K.cy,G=K.innerRadius,q=K.outerRadius;return O.cloneElement(B,{polarAngles:Array.isArray(E)?E:bd(K,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(D)?D:bd(U,!0).map(function(re){return re.coordinate}),cx:z,cy:ee,innerRadius:G,outerRadius:q,key:B.key||"polar-grid",radialLines:S})}),Kt(C,"renderLegend",function(){var B=C.state.formattedGraphicalItems,I=C.props,S=I.children,E=I.width,D=I.height,N=C.props.margin||{},T=E-(N.left||0)-(N.right||0),Q=rW({children:S,formattedGraphicalItems:B,legendWidth:T,legendContent:d});if(!Q)return null;var U=Q.item,K=j7(Q,tTe);return O.cloneElement(U,it(it({},K),{},{chartWidth:E,chartHeight:D,margin:N,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Kt(C,"renderTooltip",function(){var B,I=C.props,S=I.children,E=I.accessibilityLayer,D=Zi(S,ko);if(!D)return null;var N=C.state,T=N.isTooltipActive,Q=N.activeCoordinate,U=N.activePayload,K=N.activeLabel,z=N.offset,ee=(B=D.props.active)!==null&&B!==void 0?B:T;return O.cloneElement(D,{viewBox:it(it({},z),{},{x:z.left,y:z.top}),active:ee,label:K,payload:ee?U:[],coordinate:Q,accessibilityLayer:E})}),Kt(C,"renderBrush",function(B){var I=C.props,S=I.margin,E=I.data,D=C.state,N=D.offset,T=D.dataStartIndex,Q=D.dataEndIndex,U=D.updateId;return O.cloneElement(B,{key:B.key||"_recharts-brush",onChange:$v(C.handleBrushChange,B.props.onChange),data:E,x:mt(B.props.x)?B.props.x:N.left,y:mt(B.props.y)?B.props.y:N.top+N.height+N.brushBottom-(S.bottom||0),width:mt(B.props.width)?B.props.width:N.width,startIndex:T,endIndex:Q,updateId:"brush-".concat(U)})}),Kt(C,"renderReferenceElement",function(B,I,S){if(!B)return null;var E=C,D=E.clipPathId,N=C.state,T=N.xAxisMap,Q=N.yAxisMap,U=N.offset,K=B.type.defaultProps||{},z=B.props,ee=z.xAxisId,G=ee===void 0?K.xAxisId:ee,q=z.yAxisId,re=q===void 0?K.yAxisId:q;return O.cloneElement(B,{key:B.key||"".concat(I,"-").concat(S),xAxis:T[G],yAxis:Q[re],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:D})}),Kt(C,"renderActivePoints",function(B){var I=B.item,S=B.activePoint,E=B.basePoint,D=B.childIndex,N=B.isRange,T=[],Q=I.props.key,U=I.item.type.defaultProps!==void 0?it(it({},I.item.type.defaultProps),I.item.props):I.item.props,K=U.activeDot,z=U.dataKey,ee=it(it({index:D,dataKey:z,cx:S.x,cy:S.y,r:4,fill:Jk(I.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},er(K,!1)),Jb(K));return T.push(x.renderActiveDot(K,ee,"".concat(Q,"-activePoint-").concat(D))),E?T.push(x.renderActiveDot(K,it(it({},ee),{},{cx:E.x,cy:E.y}),"".concat(Q,"-basePoint-").concat(D))):N&&T.push(null),T}),Kt(C,"renderGraphicChild",function(B,I,S){var E=C.filterFormatItem(B,I,S);if(!E)return null;var D=C.getTooltipEventType(),N=C.state,T=N.isTooltipActive,Q=N.tooltipAxis,U=N.activeTooltipIndex,K=N.activeLabel,z=C.props.children,ee=Zi(z,ko),G=E.props,q=G.points,re=G.isRange,Z=G.baseLine,$=E.item.type.defaultProps!==void 0?it(it({},E.item.type.defaultProps),E.item.props):E.item.props,L=$.activeDot,Y=$.hide,X=$.activeBar,Ae=$.activeShape,fe=!!(!Y&&T&&ee&&(L||X||Ae)),de={};D!=="axis"&&ee&&ee.props.trigger==="click"?de={onClick:$v(C.handleItemMouseEnter,B.props.onClick)}:D!=="axis"&&(de={onMouseLeave:$v(C.handleItemMouseLeave,B.props.onMouseLeave),onMouseEnter:$v(C.handleItemMouseEnter,B.props.onMouseEnter)});var me=O.cloneElement(B,it(it({},E.props),de));function Ce(Oe){return typeof Q.dataKey=="function"?Q.dataKey(Oe.payload):null}if(fe)if(U>=0){var xe,we;if(Q.dataKey&&!Q.allowDuplicatedCategory){var Ie=typeof Q.dataKey=="function"?Ce:"payload.".concat(Q.dataKey.toString());xe=AB(q,Ie,K),we=re&&Z&&AB(Z,Ie,K)}else xe=q?.[U],we=re&&Z&&Z[U];if(Ae||X){var lt=B.props.activeIndex!==void 0?B.props.activeIndex:U;return[O.cloneElement(B,it(it(it({},E.props),de),{},{activeIndex:lt})),null,null]}if(!mr(xe))return[me].concat(Bp(C.renderActivePoints({item:E,activePoint:xe,basePoint:we,childIndex:U,isRange:re})))}else{var Le,J=(Le=C.getItemByXY(C.state.activeCoordinate))!==null&&Le!==void 0?Le:{graphicalItem:me},Qe=J.graphicalItem,je=Qe.item,ie=je===void 0?B:je,Se=Qe.childIndex,We=it(it(it({},E.props),de),{},{activeIndex:Se});return[O.cloneElement(ie,We),null,null]}return re?[me,null,null]:[me,null]}),Kt(C,"renderCustomized",function(B,I,S){return O.cloneElement(B,it(it({key:"recharts-customized-".concat(S)},C.props),C.state))}),Kt(C,"renderMap",{CartesianGrid:{handler:Wv,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Wv},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Wv},YAxis:{handler:Wv},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Kx("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=tK(C.triggeredAfterMouseMove,(k=w.throttleDelay)!==null&&k!==void 0?k:1e3/60),C.state={},C}return ATe(x,g),cTe(x,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,C=_.data,B=_.height,I=_.layout,S=Zi(k,ko);if(S){var E=S.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,N=F3(this.state,C,E,D),T=this.state.tooltipTicks[E].coordinate,Q=(this.state.offset.top+B)/2,U=I==="horizontal",K=U?{x:T,y:Q}:{y:T,x:Q},z=this.state.formattedGraphicalItems.find(function(G){var q=G.item;return q.type.name==="Scatter"});z&&(K=it(it({},K),z.props.points[E].tooltipPosition),N=z.props.points[E].tooltipPayload);var ee={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:D,activePayload:N,activeCoordinate:K};this.setState(ee),this.renderCursor(S),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var C,B;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0}})}return null}},{key:"componentDidUpdate",value:function(_){mB([Zi(_.children,ko)],[Zi(this.props.children,ko)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Zi(this.props.children,ko);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return l.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,C=k.getBoundingClientRect(),B=YNe(C),I={chartX:Math.round(_.pageX-B.left),chartY:Math.round(_.pageY-B.top)},S=C.width/k.offsetWidth||1,E=this.inRange(I.chartX,I.chartY,S);if(!E)return null;var D=this.state,N=D.xAxisMap,T=D.yAxisMap,Q=this.getTooltipEventType(),U=_7(this.state,this.props.data,this.props.layout,E);if(Q!=="axis"&&N&&T){var K=Gu(N).scale,z=Gu(T).scale,ee=K&&K.invert?K.invert(I.chartX):null,G=z&&z.invert?z.invert(I.chartY):null;return it(it({},I),{},{xValue:ee,yValue:G},U)}return U?it(it({},I),U):null}},{key:"inRange",value:function(_,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,B=this.props.layout,I=_/C,S=k/C;if(B==="horizontal"||B==="vertical"){var E=this.state.offset,D=I>=E.left&&I<=E.left+E.width&&S>=E.top&&S<=E.top+E.height;return D?{x:I,y:S}:null}var N=this.state,T=N.angleAxisMap,Q=N.radiusAxisMap;if(T&&Q){var U=Gu(T);return k8({x:I,y:S},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),C=Zi(_,ko),B={};C&&k==="axis"&&(C.props.trigger==="click"?B={onClick:this.handleClick}:B={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Jb(this.props,this.handleOuterEvent);return it(it({},I),B)}},{key:"addListener",value:function(){k4.on(P4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){k4.removeListener(P4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,C){for(var B=this.state.formattedGraphicalItems,I=0,S=B.length;I<S;I++){var E=B[I];if(E.item===_||E.props.key===_.key||k===jd(E.item.type)&&C===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,C=k.left,B=k.top,I=k.height,S=k.width;return ke.createElement("defs",null,ke.createElement("clipPath",{id:_},ke.createElement("rect",{x:C,y:B,height:I,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,C){var B=w7(C,2),I=B[0],S=B[1];return it(it({},k),{},Kt({},I,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,C){var B=w7(C,2),I=B[0],S=B[1];return it(it({},k),{},Kt({},I,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,C=k.formattedGraphicalItems,B=k.activeItem;if(C&&C.length)for(var I=0,S=C.length;I<S;I++){var E=C[I],D=E.props,N=E.item,T=N.type.defaultProps!==void 0?it(it({},N.type.defaultProps),N.props):N.props,Q=jd(N.type);if(Q==="Bar"){var U=(D.data||[]).find(function(G){return mEe(_,G)});if(U)return{graphicalItem:E,payload:U}}else if(Q==="RadialBar"){var K=(D.data||[]).find(function(G){return k8(_,G)});if(K)return{graphicalItem:E,payload:K}}else if(d2(E,B)||u2(E,B)||Sx(E,B)){var z=Lke({graphicalItem:E,activeTooltipItem:B,itemData:T.data}),ee=T.activeIndex===void 0?z:T.activeIndex;return{graphicalItem:it(it({},E),{},{childIndex:ee}),payload:Sx(E,B)?T.data[z]:E.props.data[z]}}}return null}},{key:"render",value:function(){var _=this;if(!HM(this))return null;var k=this.props,C=k.children,B=k.className,I=k.width,S=k.height,E=k.style,D=k.compact,N=k.title,T=k.desc,Q=j7(k,rTe),U=er(Q,!1);if(D)return ke.createElement(i7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement(gB,Om({},U,{width:I,height:S,title:N,desc:T}),this.renderClipPath(),qM(C,this.renderMap)));if(this.props.accessibilityLayer){var K,z;U.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,U.role=(z=this.props.role)!==null&&z!==void 0?z:"application",U.onKeyDown=function(G){_.accessibilityManager.keyboardEvent(G)},U.onFocus=function(){_.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return ke.createElement(i7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ke.createElement("div",Om({className:Ar("recharts-wrapper",B),style:it({position:"relative",cursor:"default",width:I,height:S},E)},ee,{ref:function(q){_.container=q}}),ke.createElement(gB,Om({},U,{width:I,height:S,title:N,desc:T,style:yTe}),this.renderClipPath(),qM(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(O.Component);Kt(v,"displayName",r),Kt(v,"defaultProps",it({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Kt(v,"getDerivedStateFromProps",function(g,x){var w=g.dataKey,_=g.data,k=g.children,C=g.width,B=g.height,I=g.layout,S=g.stackOffset,E=g.margin,D=x.dataStartIndex,N=x.dataEndIndex;if(x.updateId===void 0){var T=C7(g);return it(it(it({},T),{},{updateId:0},p(it(it({props:g},T),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:_,prevWidth:C,prevHeight:B,prevLayout:I,prevStackOffset:S,prevMargin:E,prevChildren:k})}if(w!==x.prevDataKey||_!==x.prevData||C!==x.prevWidth||B!==x.prevHeight||I!==x.prevLayout||S!==x.prevStackOffset||!Xm(E,x.prevMargin)){var Q=C7(g),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=it(it({},_7(x,_,I)),{},{updateId:x.updateId+1}),z=it(it(it({},Q),U),K);return it(it(it({},z),p(it({props:g},z),x)),{},{prevDataKey:w,prevData:_,prevWidth:C,prevHeight:B,prevLayout:I,prevStackOffset:S,prevMargin:E,prevChildren:k})}if(!mB(k,x.prevChildren)){var ee,G,q,re,Z=Zi(k,yp),$=Z&&(ee=(G=Z.props)===null||G===void 0?void 0:G.startIndex)!==null&&ee!==void 0?ee:D,L=Z&&(q=(re=Z.props)===null||re===void 0?void 0:re.endIndex)!==null&&q!==void 0?q:N,Y=$!==D||L!==N,X=!mr(_),Ae=X&&!Y?x.updateId:x.updateId+1;return it(it({updateId:Ae},p(it(it({props:g},x),{},{updateId:Ae,dataStartIndex:$,dataEndIndex:L}),x)),{},{prevChildren:k,dataStartIndex:$,dataEndIndex:L})}return null}),Kt(v,"renderActiveDot",function(g,x,w){var _;return O.isValidElement(g)?_=O.cloneElement(g,x):ar(g)?_=g(x):_=ke.createElement(e6,x),ke.createElement(Xr,{className:"recharts-active-dot",key:w},_)});var y=O.forwardRef(function(x,w){return ke.createElement(v,Om({},x,{ref:w}))});return y.displayName=v.displayName,y},vG=yG({chartName:"BarChart",GraphicalChild:Ld,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ey},{axisType:"yAxis",AxisComp:ty}],formatAxisMap:Q6e}),ETe=yG({chartName:"PieChart",GraphicalChild:zd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:c2},{axisType:"radiusAxis",AxisComp:o2}],formatAxisMap:ESe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const B7=({data:t,title:e,subtitle:r,onSegmentClick:s})=>{const[a,i]=O.useState(null),o=(u,h)=>{i(h)},l=()=>{i(null)},c=(u,h)=>{s&&s(h)},d=({active:u,payload:h})=>u&&h&&h.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:h[0].name}),n.jsxs("p",{className:"text-sm",style:{color:h[0].payload.color},children:[h[0].value,"%"]})]}):null;return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600 text-center",children:r})]}),n.jsx("div",{className:"h-48 flex items-center justify-center",children:n.jsx(Sk,{width:"100%",height:"100%",children:n.jsxs(ETe,{children:[n.jsx(zd,{data:t,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:2,dataKey:"value",animationDuration:300,animationBegin:0,onMouseEnter:o,onMouseLeave:l,onClick:c,children:t.map((u,h)=>n.jsx(Gx,{fill:u.color,stroke:u.color,style:{filter:a===h?"drop-shadow(0px 4px 6px rgba(0, 0, 0, 0.2))":"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",opacity:a===null||a===h?1:.7,cursor:"pointer",transition:"all 0.3s ease"}},`cell-${h}`))}),n.jsx(ko,{content:n.jsx(d,{})})]})})}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.map((u,h)=>n.jsxs(he.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 p-1 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(u,h),onMouseEnter:()=>o(u,h),onMouseLeave:l,children:[n.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:u.name})}),n.jsxs("p",{className:"text-xs font-bold text-gray-900",children:[u.value,"%"]})]},u.name))})]})},kTe=({data:t,title:e,subtitle:r,prefix:s="",suffix:a="",onBarClick:i})=>{const o=({active:c,payload:d,label:u})=>c&&d&&d.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:u}),n.jsxs("p",{className:"text-sm",style:{color:d[0].payload.color},children:[s,d[0].value,a]})]}):null,l=(c,d)=>{i&&i(d)};return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsx("div",{className:"flex justify-between items-center mb-4",children:n.jsxs("div",{className:"text-center w-full",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600",children:r})]})}),n.jsx("div",{className:"h-64",children:n.jsx(Sk,{width:"100%",height:"100%",children:n.jsxs(vG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[n.jsx(d6,{strokeDasharray:"3 3",opacity:.1}),n.jsx(ey,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),n.jsx(ty,{tick:{fontSize:10},width:30}),n.jsx(ko,{content:n.jsx(o,{})}),n.jsx(Ld,{dataKey:"value",animationDuration:300,animationBegin:0,label:{position:"top",fill:"#6b7280",fontSize:10,formatter:c=>`${s}${c}${a}`},onClick:l,children:t.map((c,d)=>n.jsx(Gx,{fill:c.color,style:{filter:"drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.1))",cursor:"pointer"}},`cell-${d}`))})]})})})]})},PTe=({data:t,title:e,subtitle:r,metricType:s,onMetricChange:a,onBarClick:i})=>{const o=({active:d,payload:u,label:h})=>d&&u&&u.length?n.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[n.jsx("p",{className:"font-medium text-gray-900",children:h}),u.map((f,p)=>n.jsxs("p",{className:"text-sm",style:{color:f.color},children:[f.name,": ",f.value,"%"]},p))]}):null,l=(d,u)=>{i&&i(u)},c=[{value:"productivity",label:"Produtividade"},{value:"efficiency",label:"Eficincia"},{value:"quality",label:"Qualidade"},{value:"satisfaction",label:"Satisfao"}];return n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 h-full",children:[n.jsxs("div",{className:"flex flex-col items-center mb-4",children:[n.jsx("h2",{className:"text-base font-semibold text-gray-900 text-center",children:e}),r&&n.jsx("p",{className:"text-xs text-gray-600 text-center",children:r}),n.jsx("select",{value:s,onChange:d=>a(d.target.value),className:"mt-2 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:c.map(d=>n.jsx("option",{value:d.value,children:d.label},d.value))})]}),n.jsx("div",{className:"h-64",children:n.jsx(Sk,{width:"100%",height:"100%",children:n.jsxs(vG,{data:t,margin:{top:20,right:20,left:10,bottom:30},children:[n.jsx(d6,{strokeDasharray:"3 3",opacity:.1}),n.jsx(ey,{dataKey:"name",angle:-45,textAnchor:"end",tick:{fontSize:10},height:50}),n.jsx(ty,{domain:[0,100],tick:{fontSize:10},width:30}),n.jsx(ko,{content:n.jsx(o,{})}),n.jsx(qA,{wrapperStyle:{fontSize:"10px"}}),n.jsx(Ld,{name:"Atual",dataKey:"current",fill:"#3b82f6",animationDuration:300,animationBegin:0,radius:[4,4,0,0],onClick:l}),n.jsx(Ld,{name:"Anterior",dataKey:"previous",fill:"#93c5fd",animationDuration:300,animationBegin:150,radius:[4,4,0,0],onClick:l})]})})})]})},FTe=({id:t,name:e,color:r,metrics:s,performance:a,isSelected:i,onClick:o})=>n.jsx(he.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${i?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:o,children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex items-center justify-center mb-2",children:n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:r},children:n.jsx("span",{className:"text-xs font-bold text-white",children:e.charAt(0)})})}),n.jsx("h3",{className:"font-medium text-gray-900 text-base mb-1",children:e}),n.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[a.change>0?n.jsx(Mm,{className:"h-3 w-3 text-green-500"}):a.change<0?n.jsx(Jw,{className:"h-3 w-3 text-red-500"}):null,n.jsxs("span",{className:`text-sm font-medium ${a.change>0?"text-green-600":a.change<0?"text-red-600":"text-gray-600"}`,children:[a.change>0?"+":"",a.change,"%"]})]}),n.jsx("div",{className:"w-full mb-2",children:n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full rounded-full",style:{width:`${a.current}%`,backgroundColor:r}})})}),n.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-500",children:[n.jsxs("span",{children:["Prod: ",s.productivity,"%"]}),n.jsxs("span",{children:["Qual: ",s.quality,"%"]})]})]})}),TTe=({alerts:t,departments:e,onResolve:r,onEscalate:s,onIgnore:a})=>{const[i,o]=O.useState("severity"),[l,c]=O.useState("all"),[d,u]=O.useState([]),[h,f]=O.useState(null),[p,v]=O.useState(""),[y,g]=O.useState(null),[x,w]=O.useState(""),[_,k]=O.useState("medium"),C=[{id:"1",name:"Joo Silva",department:"operations",role:"Supervisor"},{id:"2",name:"Maria Santos",department:"operations",role:"Tcnico"},{id:"3",name:"Carlos Oliveira",department:"technical",role:"Tcnico Snior"},{id:"4",name:"Ana Pereira",department:"technical",role:"Tcnico"},{id:"5",name:"Pedro Costa",department:"commercial",role:"Gerente"},{id:"6",name:"Lcia Ferreira",department:"financial",role:"Analista"},{id:"7",name:"Roberto Almeida",department:"administrative",role:"Coordenador"}],B=U=>{switch(U){case"low":return"#f59e0b";case"medium":return"#f97316";case"high":return"#ef4444";default:return"#6b7280"}},I=U=>{switch(U){case"low":return n.jsx(Wt,{className:"h-4 w-4"});case"medium":return n.jsx(Un,{className:"h-4 w-4"});case"high":return n.jsx(bt,{className:"h-4 w-4"});default:return null}},S=U=>new Date(U).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),E=U=>{u(K=>K.includes(U)?K.filter(z=>z!==U):[...K,U])},D=U=>{f(U)},N=()=>{!h||!y||!x||(console.log("Creating task for employee:",y),console.log("Due date:",x),console.log("Priority:",_),s(h),f(null),g(null),w(""),k("medium"))},T=C.filter(U=>U.name.toLowerCase().includes(p.toLowerCase())||U.department.toLowerCase().includes(p.toLowerCase())||U.role.toLowerCase().includes(p.toLowerCase())),Q=[...t].filter(U=>l==="all"||U.departmentId===l).sort((U,K)=>{if(i==="date")return new Date(K.timestamp).getTime()-new Date(U.timestamp).getTime();{const z={high:0,medium:1,low:2};return z[U.severity]-z[K.severity]}});return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4 pb-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Ordenar por:"}),n.jsxs("select",{value:i,onChange:U=>o(U.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"severity",children:"Severidade"}),n.jsx("option",{value:"date",children:"Data"})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Departamento:"}),n.jsxs("select",{value:l,onChange:U=>c(U.target.value),className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"all",children:"Todos"}),e.map(U=>n.jsx("option",{value:U.id,children:U.name},U.id))]})]})]}),n.jsx("div",{className:"space-y-3",children:Q.length>0?Q.map(U=>{const K=e.find(ee=>ee.id===U.departmentId),z=d.includes(U.id);return n.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>E(U.id),children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",style:{backgroundColor:`${B(U.severity)}20`},children:I(U.severity)}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-base",children:U.title}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:S(U.timestamp)}),n.jsx(he.div,{animate:{rotate:z?180:0},transition:{duration:.3},children:n.jsx(Sd,{className:"h-4 w-4 text-gray-400"})})]})]}),n.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[n.jsx("div",{className:"px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${B(U.severity)}20`,color:B(U.severity)},children:U.severity==="low"?"Baixa":U.severity==="medium"?"Mdia":"Alta"}),K&&n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:K.color}}),n.jsx("span",{className:"text-xs text-gray-500",children:K.name})]}),U.status==="new"&&n.jsx("div",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:"Novo"})]})]})]})}),n.jsx(vt,{children:z&&n.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-4 bg-gray-50",children:[n.jsx("p",{className:"text-sm text-gray-700 mb-4",children:U.description}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[n.jsxs("button",{onClick:()=>r(U.id),className:"px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(rn,{className:"h-4 w-4"}),n.jsx("span",{children:"Resolver"})]}),n.jsxs("button",{onClick:()=>D(U.id),className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(Zw,{className:"h-4 w-4"}),n.jsx("span",{children:"Escalar"})]}),n.jsxs("button",{onClick:()=>a(U.id),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm flex items-center space-x-1",children:[n.jsx(Yt,{className:"h-4 w-4"}),n.jsx("span",{children:"Ignorar"})]})]})]})})})]},U.id)}):n.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[n.jsx(rn,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-600",children:"No h alertas para exibir com os filtros atuais"})]})}),n.jsx(vt,{children:h&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>f(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Escalar Alerta"}),n.jsx("button",{onClick:()=>f(null),children:n.jsx(bt,{className:"h-6 w-6 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Responsvel"}),n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",value:p,onChange:U=>v(U.target.value),placeholder:"Buscar por nome ou setor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:T.length>0?n.jsx("div",{className:"divide-y divide-gray-200",children:T.map(U=>n.jsx("div",{onClick:()=>g(U.id),className:`p-3 cursor-pointer transition-colors ${y===U.id?"bg-blue-50":"hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-center space-x-3",children:[U.avatar?n.jsx("img",{src:U.avatar,alt:U.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:n.jsx(Cn,{className:"h-4 w-4 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:U.name}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("span",{children:U.role}),n.jsx("span",{children:""}),n.jsx("span",{children:e.find(K=>K.id===U.department)?.name||U.department})]})]})]})},U.id))}):n.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum funcionrio encontrado"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prazo"}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"date",value:x,onChange:U=>w(U.target.value),min:new Date().toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prioridade"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("button",{type:"button",onClick:()=>k("low"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${_==="low"?"bg-green-50 border-green-300 text-green-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(eb,{className:"h-4 w-4"}),n.jsx("span",{children:"Baixa"})]}),n.jsxs("button",{type:"button",onClick:()=>k("medium"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${_==="medium"?"bg-yellow-50 border-yellow-300 text-yellow-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(eb,{className:"h-4 w-4"}),n.jsx("span",{children:"Mdia"})]}),n.jsxs("button",{type:"button",onClick:()=>k("high"),className:`flex items-center justify-center space-x-1 p-2 rounded-lg border ${_==="high"?"bg-red-50 border-red-300 text-red-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(eb,{className:"h-4 w-4"}),n.jsx("span",{children:"Alta"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx(Wt,{className:"h-4 w-4 text-blue-500"}),n.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Tarefa ser criada na agenda"})]}),n.jsx("p",{className:"text-xs text-blue-600",children:"Uma tarefa ser automaticamente criada na agenda do responsvel selecionado com o prazo e prioridade definidos."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>f(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:N,disabled:!y||!x,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed",children:"Escalar Alerta"})]})]})]})})]})},OTe=()=>{const t=O.useRef(null),[e,r]=O.useState("all"),[s,a]=O.useState("month"),[i,o]=O.useState("productivity"),[l,c]=O.useState(!1),[d,u]=O.useState(new Date),[h,f]=O.useState(!1),[p,v]=O.useState(!1),[y,g]=O.useState(!1),[x,w]=O.useState("pdf"),[_,k]=O.useState(""),[C,B]=O.useState("weekly"),[I,S]=O.useState([{id:"1",name:"Relatrio Semanal de Desempenho",frequency:"weekly",format:"pdf",recipients:["admin@example.com"],nextDate:"2024-01-25"}]),[E,D]=O.useState(!1),[N,T]=O.useState(0),Q=[{id:"operations",name:"Operacional",color:"#3b82f6",metrics:{productivity:87,efficiency:82,quality:90,satisfaction:85},performance:{current:87,previous:82,change:5}},{id:"commercial",name:"Comercial",color:"#10b981",metrics:{productivity:92,efficiency:88,quality:85,satisfaction:91},performance:{current:92,previous:89,change:3}},{id:"financial",name:"Financeiro",color:"#8b5cf6",metrics:{productivity:95,efficiency:93,quality:97,satisfaction:89},performance:{current:95,previous:92,change:3}},{id:"administrative",name:"Administrativo",color:"#f59e0b",metrics:{productivity:89,efficiency:91,quality:93,satisfaction:88},performance:{current:89,previous:90,change:-1}},{id:"technical",name:"Tcnico",color:"#ef4444",metrics:{productivity:83,efficiency:85,quality:88,satisfaction:82},performance:{current:83,previous:80,change:3}}],U=[{id:"alert1",departmentId:"operations",title:"Queda na produtividade",description:"A produtividade do departamento operacional caiu 5% nas ltimas 24 horas.",timestamp:"2024-01-15T10:30:00",severity:"medium",status:"new"},{id:"alert2",departmentId:"technical",title:"Atraso em atendimentos",description:"O tempo mdio de atendimento est acima da meta estabelecida.",timestamp:"2024-01-15T09:15:00",severity:"high",status:"new"},{id:"alert3",departmentId:"commercial",title:"Meta de vendas atingida",description:"O departamento comercial atingiu 100% da meta mensal antes do prazo.",timestamp:"2024-01-14T16:45:00",severity:"low",status:"viewed"}],K=()=>[{name:"Instalaes",value:35,color:"#3b82f6"},{name:"Manutenes",value:40,color:"#10b981"},{name:"Reparos",value:25,color:"#f59e0b"}],z=()=>[{name:"1 Visita",value:65,color:"#10b981"},{name:"2 Visita",value:25,color:"#f59e0b"},{name:"3+ Visitas",value:10,color:"#ef4444"}],ee=()=>[{name:"Carlos",value:92,color:"#3b82f6"},{name:"Ana",value:88,color:"#8b5cf6"},{name:"Pedro",value:85,color:"#10b981"},{name:"Maria",value:91,color:"#f59e0b"},{name:"Joo",value:78,color:"#ef4444"}],G=()=>Q.map(fe=>({name:fe.name,current:fe.metrics[i],previous:fe.metrics[i]-(Math.random()*10-5),color:fe.color})),q=()=>{c(!0),setTimeout(()=>{u(new Date),c(!1)},1e3)},re=fe=>{console.log("Resolvendo alerta:",fe)},Z=fe=>{console.log("Escalando alerta:",fe)},$=fe=>{console.log("Ignorando alerta:",fe)},L=async()=>{if(t.current){v(!0),D(!0),T(10);try{const fe=setInterval(()=>{T(Ie=>Ie>=90?(clearInterval(fe),90):Ie+10)},300),de=await QE(t.current,{scale:1,useCORS:!0,logging:!1});T(95);const me=de.toDataURL("image/png"),Ce=new Rt({orientation:"portrait",unit:"mm",format:"a4"});Ce.setFillColor(59,130,246),Ce.rect(0,0,Ce.internal.pageSize.width,20,"F"),Ce.setTextColor(255,255,255),Ce.setFontSize(14),Ce.text("Dashboard Departamental - GiarTech",10,10),Ce.setFontSize(10),Ce.text(`Gerado em: ${new Date().toLocaleString("pt-BR")}`,10,16);const xe=Ce.internal.pageSize.width,we=de.height*xe/de.width;Ce.addImage(me,"PNG",0,25,xe,we),Ce.save("dashboard-departamental.pdf"),T(100),setTimeout(()=>{v(!1),D(!1),T(0)},1e3)}catch(fe){console.error("Erro ao gerar PDF:",fe),v(!1),D(!1),alert("Erro ao gerar PDF. Tente novamente.")}}},Y=()=>{D(!0),T(10);const fe=setInterval(()=>{T(de=>de>=90?(clearInterval(fe),90):de+10)},200);setTimeout(()=>{T(100),alert("Relatrio Excel gerado com sucesso!"),setTimeout(()=>{D(!1),T(0)},1e3)},1500)},X=()=>{D(!0),T(50),setTimeout(()=>{T(100),window.print(),setTimeout(()=>{D(!1),T(0)},1e3)},1e3)},Ae=()=>{if(!_){alert("Por favor, informe pelo menos um destinatrio");return}const fe=_.split(",").map(Ce=>Ce.trim()),de=new Date;C==="daily"?de.setDate(de.getDate()+1):C==="weekly"?de.setDate(de.getDate()+7):de.setMonth(de.getMonth()+1);const me={id:Date.now().toString(),name:`Relatrio ${C==="daily"?"Dirio":C==="weekly"?"Semanal":"Mensal"} - ${e==="all"?"Todos Departamentos":Q.find(Ce=>Ce.id===e)?.name}`,frequency:C,format:x,recipients:fe,nextDate:de.toISOString().split("T")[0]};S([...I,me]),g(!1),k(""),alert("Relatrio agendado com sucesso!")};return n.jsxs("div",{ref:t,className:"space-y-6",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 text-center md:text-left",children:"Dashboard Departamental"}),n.jsx("p",{className:"text-gray-600 text-center md:text-left",children:"Anlise de desempenho por departamento"})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Perodo:"}),n.jsxs("select",{value:s,onChange:fe=>a(fe.target.value),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"day",children:"Hoje"}),n.jsx("option",{value:"week",children:"Esta Semana"}),n.jsx("option",{value:"month",children:"Este Ms"}),n.jsx("option",{value:"quarter",children:"Este Trimestre"})]})]}),n.jsxs("button",{onClick:q,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors flex items-center space-x-2",children:[n.jsx(di,{className:`h-4 w-4 ${l?"animate-spin":""}`}),n.jsx("span",{children:"Atualizar"})]}),n.jsxs("button",{onClick:()=>f(!h),className:`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${h?"bg-yellow-500 text-white":"bg-yellow-100 text-yellow-700 hover:bg-yellow-200"}`,children:[n.jsx(Un,{className:"h-4 w-4"}),n.jsx("span",{children:"Alertas"}),n.jsx("div",{className:"w-5 h-5 bg-white text-yellow-700 rounded-full flex items-center justify-center text-xs font-bold",children:U.length})]})]})]}),n.jsxs("div",{className:"text-xs text-gray-500 text-center mt-2",children:["ltima atualizao: ",d.toLocaleString("pt-BR")]})]}),n.jsx(vt,{children:h&&n.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Alertas"}),n.jsx("button",{onClick:()=>f(!1),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsx(TTe,{alerts:U,departments:Q,onResolve:re,onEscalate:Z,onIgnore:$})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Departamentos"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[n.jsx(he.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`p-4 rounded-lg border transition-all duration-300 cursor-pointer ${e==="all"?"border-blue-300 bg-blue-50":"border-gray-200 hover:border-blue-200 hover:bg-gray-50"}`,onClick:()=>r("all"),children:n.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center mb-2",children:n.jsx(ir,{className:"h-4 w-4 text-white"})}),n.jsx("h3",{className:"font-medium text-gray-900",children:"Todos"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Viso Geral"}),n.jsx("div",{className:"mt-2 w-full bg-gray-200 h-1.5 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full",style:{width:"90%"}})}),n.jsxs("div",{className:"flex justify-between w-full mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500",children:"Performance"}),n.jsx("span",{className:"text-xs font-medium text-gray-900",children:"90%"})]})]})}),Q.map(fe=>n.jsx(FTe,{id:fe.id,name:fe.name,color:fe.color,metrics:fe.metrics,performance:fe.performance,isSelected:e===fe.id,onClick:()=>r(fe.id)},fe.id))]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{title:"Produtividade",value:e==="all"?"89%":`${Q.find(fe=>fe.id===e)?.metrics.productivity||0}%`,change:"+3.5%",icon:Ed,color:"from-blue-500 to-blue-600"},{title:"Eficincia",value:e==="all"?"87%":`${Q.find(fe=>fe.id===e)?.metrics.efficiency||0}%`,change:"+2.1%",icon:qr,color:"from-green-500 to-green-600"},{title:"Qualidade",value:e==="all"?"91%":`${Q.find(fe=>fe.id===e)?.metrics.quality||0}%`,change:"+4.2%",icon:la,color:"from-purple-500 to-purple-600"},{title:"Satisfao",value:e==="all"?"87%":`${Q.find(fe=>fe.id===e)?.metrics.satisfaction||0}%`,change:"+1.8%",icon:ys,color:"from-amber-500 to-amber-600"}].map((fe,de)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:de*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${fe.color} rounded-lg flex items-center justify-center`,children:n.jsx(fe.icon,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Mm,{className:"h-3 w-3 text-green-500"}),n.jsx("span",{className:"text-xs font-medium text-green-600",children:fe.change})]})]}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:fe.value}),n.jsx("p",{className:"text-sm text-gray-600",children:fe.title})]},fe.title))}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsx(B7,{data:K(),title:"Tipo de Servio",subtitle:"Distribuio por categoria"}),n.jsx(B7,{data:z(),title:"Taxa de Resoluo",subtitle:"Resoluo por nmero de visitas"}),n.jsx(kTe,{data:ee(),title:"Desempenho de Tcnicos",subtitle:"Produtividade individual",suffix:"%"}),n.jsx(PTe,{data:G(),title:"Comparao de Departamentos",subtitle:"Atual vs. Perodo Anterior",metricType:i,onMetricChange:fe=>o(fe)})]}),e==="operations"||e==="all"?n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Mtricas Operacionais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Tempo Mdio de Atendimento"}),n.jsx(Wt,{className:"h-5 w-5 text-blue-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"1h 45m"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Jw,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"-12%"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 2h 00m"})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Atendimentos Realizados"}),n.jsx(ys,{className:"h-5 w-5 text-green-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-green-600",children:"248"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Mm,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"+8%"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 230"})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Satisfao do Cliente"}),n.jsx(la,{className:"h-5 w-5 text-purple-600"})]}),n.jsxs("div",{className:"flex items-end justify-between",children:[n.jsx("div",{className:"text-3xl font-bold text-purple-600",children:"4.8"}),n.jsxs("div",{className:"flex items-center text-sm text-green-600",children:[n.jsx(Mm,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"+0.2"})]})]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Meta: 4.5"})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Atendimentos por Tipo"}),n.jsx("div",{className:"space-y-3",children:[{label:"Instalaes",value:87,total:95,color:"#3b82f6"},{label:"Manutenes Preventivas",value:102,total:110,color:"#10b981"},{label:"Reparos/Corretivas",value:59,total:65,color:"#f59e0b"}].map(fe=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-700",children:fe.label}),n.jsxs("span",{className:"font-medium text-gray-900",children:[fe.value,"/",fe.total]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full",style:{width:`${fe.value/fe.total*100}%`,backgroundColor:fe.color}})})]},fe.label))})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Produtividade por Equipe"}),n.jsx("div",{className:"space-y-3",children:[{label:"Equipe A",value:92,color:"#3b82f6"},{label:"Equipe B",value:87,color:"#10b981"},{label:"Equipe C",value:78,color:"#f59e0b"},{label:"Equipe D",value:85,color:"#8b5cf6"}].map(fe=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[n.jsx("span",{className:"text-gray-700",children:fe.label}),n.jsxs("span",{className:"font-medium text-gray-900",children:[fe.value,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"h-2 rounded-full",style:{width:`${fe.value}%`,backgroundColor:fe.color}})})]},fe.label))})]})]})]}):null,n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4 text-center",children:"Relatrios"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsxs("button",{onClick:L,disabled:p,className:"p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors flex flex-col items-center justify-center space-y-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(Et,{className:"h-8 w-8 text-red-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Baixar PDF"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Relatrio completo em PDF"})]}),n.jsxs("button",{onClick:Y,className:"p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(Et,{className:"h-8 w-8 text-green-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Exportar Excel"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Dados em formato Excel"})]}),n.jsxs("button",{onClick:X,className:"p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(fh,{className:"h-8 w-8 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Imprimir"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Verso para impresso"})]}),n.jsxs("button",{onClick:()=>g(!0),className:"p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors flex flex-col items-center justify-center space-y-2",children:[n.jsx(vr,{className:"h-8 w-8 text-purple-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Agendar"}),n.jsx("span",{className:"text-xs text-gray-500",children:"Envio automtico por email"})]})]}),I.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Relatrios Agendados"}),n.jsx("div",{className:"bg-gray-50 rounded-lg overflow-hidden",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-100",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequncia"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Formato"}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prximo Envio"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(fe=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:fe.name}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:fe.frequency==="daily"?"Dirio":fe.frequency==="weekly"?"Semanal":"Mensal"}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:fe.format.toUpperCase()}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:new Date(fe.nextDate).toLocaleDateString("pt-BR")})]},fe.id))})]})})]})]}),n.jsx(vt,{children:E&&n.jsxs(he.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 bg-white rounded-lg shadow-xl border border-gray-200 p-4 w-80 z-50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:"Gerando Relatrio"}),N===100&&n.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[N<100?n.jsx(Tp,{className:"h-5 w-5 text-blue-500 animate-spin"}):n.jsx(ys,{className:"h-5 w-5 text-green-500"}),n.jsx("div",{className:"flex-1",children:n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${N}%`}})})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[N,"%"]})]}),n.jsx("p",{className:"text-xs text-gray-500",children:N<100?"Processando dados e gerando relatrio...":"Relatrio gerado com sucesso!"})]})}),n.jsx(vt,{children:y&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>g(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Agendar Relatrio"}),n.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia"}),n.jsxs("select",{value:C,onChange:fe=>B(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"daily",children:"Dirio"}),n.jsx("option",{value:"weekly",children:"Semanal"}),n.jsx("option",{value:"monthly",children:"Mensal"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Formato"}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:x==="pdf",onChange:()=>w("pdf"),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"PDF"})]}),n.jsxs("label",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"radio",checked:x==="excel",onChange:()=>w("excel"),className:"text-blue-600 focus:ring-blue-500"}),n.jsx("span",{children:"Excel"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatrios (separados por vrgula)"}),n.jsxs("div",{className:"relative",children:[n.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",value:_,onChange:fe=>k(fe.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"email@exemplo.com, outro@exemplo.com"})]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center text-blue-700 mb-2",children:[n.jsx(vr,{className:"h-5 w-5 mr-2"}),n.jsx("h3",{className:"font-medium",children:"Informaes do Relatrio"})]}),n.jsx("p",{className:"text-sm text-blue-600",children:"O relatrio ser enviado automaticamente na frequncia selecionada para os destinatrios informados. O contedo ser baseado nos filtros atuais do dashboard."})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:Ae,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg",children:"Agendar Relatrio"})]})]})]})})]})},ITe=()=>{const{isPremium:t,isAdmin:e}=On(),[r,s]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState([]),[c,d]=O.useState(null);O.useEffect(()=>{u().catch(ie=>{console.error("Erro crtico ao carregar:",ie),d(ie.message)})},[]);const u=async()=>{i(!0),d(null);try{const{data:ie,error:Se}=await pe.from("digital_library").select(`
          *,
          category:library_categories(name, icon)
        `).eq("is_public",!0).eq("virus_scan_status","clean").order("created_at",{ascending:!1});if(Se)throw console.error("Erro do Supabase:",Se),Se;if(ie){l(ie);const We=ie.map(Oe=>({id:Oe.id,title:Oe.title,description:Oe.description||"",category:"manual",subcategory:Oe.category?.name||"Geral",fileUrl:Oe.file_url,file_url:Oe.file_url,fileSize:h(Oe.file_size),file_size:Oe.file_size,fileType:f(Oe.file_type),file_type:Oe.file_type,uploadDate:Oe.created_at,created_at:Oe.created_at,tags:Oe.tags||[],isDownloaded:!1,isFavorite:!1,category_name:Oe.category?.name,virus_scan_status:Oe.virus_scan_status,is_verified:Oe.is_verified,view_count:Oe.view_count||0,download_count:Oe.download_count||0}));s(We)}}catch(ie){console.error("Erro ao carregar documentos:",ie),d(ie?.message||"Erro desconhecido")}finally{i(!1)}},h=ie=>ie?ie<1024?ie+" B":ie<1048576?(ie/1024).toFixed(1)+" KB":(ie/1048576).toFixed(1)+" MB":"0 B",f=ie=>ie.includes("pdf")?"PDF":ie.includes("word")?"DOCX":ie.includes("excel")||ie.includes("spreadsheet")?"XLSX":ie.includes("powerpoint")||ie.includes("presentation")?"PPTX":ie.includes("image")?"IMG":"FILE";O.useEffect(()=>{!a&&r.length===0&&s([{id:"1",title:"Manual de Instalao - Split 12.000 BTUs",description:"Guia completo para instalao de ar condicionado split 12.000 BTUs",category:"manual",subcategory:"Instalao",fileUrl:"/documents/manual_instalacao_split.pdf",file_url:"/documents/manual_instalacao_split.pdf",fileSize:"2.5 MB",file_size:2621440,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-10",created_at:"2024-01-10",lastViewed:"2024-01-15",author:"Equipe Tcnica",tags:["ar condicionado","split","instalao","12000 BTUs"],isDownloaded:!0,isFavorite:!0,thumbnailUrl:"https://images.pexels.com/photos/4489734/pexels-photo-4489734.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",title:"Manual Tcnico - Dual Inverter",description:"Especificaes tcnicas e procedimentos de manuteno para ar condicionado Dual Inverter",category:"manual",subcategory:"Manuteno",fileUrl:"/documents/manual_tecnico_dual_inverter.pdf",file_url:"/documents/manual_tecnico_dual_inverter.pdf",fileSize:"3.1 MB",file_size:3250585,fileType:"PDF",file_type:"application/pdf",uploadDate:"2024-01-08",created_at:"2024-01-08",author:"Departamento Tcnico",tags:["ar condicionado","dual inverter","manuteno"],isDownloaded:!1,isFavorite:!1},{id:"3",title:"Poltica de Segurana da Informao",description:"Documento corporativo com diretrizes de segurana da informao",category:"corporate",subcategory:"Polticas",fileUrl:"/documents/politica_seguranca_informacao.pdf",file_url:"/documents/politica_seguranca_informacao.pdf",fileSize:"1.2 MB",file_size:1258291,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-12-15",created_at:"2023-12-15",lastViewed:"2024-01-05",author:"Departamento de TI",tags:["segurana","poltica","corporativo"],isDownloaded:!0,isFavorite:!1},{id:"4",title:"Apostila de Treinamento - Refrigerao Bsica",description:"Material didtico para treinamento de novos tcnicos",category:"educational",subcategory:"Treinamento",fileUrl:"/documents/apostila_refrigeracao_basica.pdf",file_url:"/documents/apostila_refrigeracao_basica.pdf",fileSize:"5.8 MB",file_size:6082560,fileType:"PDF",file_type:"application/pdf",uploadDate:"2023-11-20",created_at:"2023-11-20",author:"Departamento de Treinamento",tags:["refrigerao","treinamento","bsico"],isDownloaded:!1,isFavorite:!0}])},[a,r.length]);const[p,v]=O.useState(""),[y,g]=O.useState("all"),[x,w]=O.useState("all"),[_,k]=O.useState([]),[C,B]=O.useState({}),[I,S]=O.useState(!1),[E,D]=O.useState(null),[N,T]=O.useState(!1),[Q,U]=O.useState("date"),[K,z]=O.useState("desc"),[ee,G]=O.useState(null),[q,re]=O.useState(0),[Z,$]=O.useState(!1),[L,Y]=O.useState({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),X=()=>y==="all"?["all",...new Set(r.map(ie=>ie.subcategory))]:["all",...new Set(r.filter(ie=>y==="all"||ie.category===y).map(ie=>ie.subcategory))],Ae=()=>{const ie=r.flatMap(Se=>Se.tags);return[...new Set(ie)]},de=[...r.filter(ie=>{const Se=ie.title.toLowerCase().includes(p.toLowerCase())||ie.description.toLowerCase().includes(p.toLowerCase())||ie.tags.some(Ne=>Ne.toLowerCase().includes(p.toLowerCase())),We=y==="all"||ie.category===y,Oe=x==="all"||ie.subcategory===x,ve=_.length===0||_.every(Ne=>ie.tags.includes(Ne)),st=(!C.start||new Date(ie.uploadDate)>=new Date(C.start))&&(!C.end||new Date(ie.uploadDate)<=new Date(C.end));return Se&&We&&Oe&&ve&&st})].sort((ie,Se)=>{if(Q==="date")return K==="asc"?new Date(ie.uploadDate).getTime()-new Date(Se.uploadDate).getTime():new Date(Se.uploadDate).getTime()-new Date(ie.uploadDate).getTime();if(Q==="title")return K==="asc"?ie.title.localeCompare(Se.title):Se.title.localeCompare(ie.title);if(Q==="size"){const We=parseFloat(ie.fileSize.split(" ")[0]),Oe=parseFloat(Se.fileSize.split(" ")[0]);return K==="asc"?We-Oe:Oe-We}return 0}),me=ie=>{const Se=ie.target.files?.[0];Se&&Y({...L,file:Se})},Ce=()=>{if(!L.title||!L.category||!L.file){alert("Por favor, preencha todos os campos obrigatrios");return}$(!0);const ie=setInterval(()=>{re(Se=>Se>=100?(clearInterval(ie),setTimeout(()=>{xe()},500),100):Se+10)},300)},xe=()=>{if(!L.file){alert("Por favor, selecione um arquivo");return}const ie={id:Date.now().toString(),title:L.title,description:L.description,category:L.category,subcategory:L.subcategory||"Geral",fileUrl:URL.createObjectURL(L.file),fileSize:`${((L.file.size||0)/(1024*1024)).toFixed(1)} MB`,fileType:L.file.type.split("/")[1]?.toUpperCase()||"PDF",uploadDate:new Date().toISOString().split("T")[0],tags:L.tags.split(",").map(Se=>Se.trim()).filter(Se=>Se),isDownloaded:!1,isFavorite:!1};s([ie,...r]),Y({title:"",description:"",category:"manual",subcategory:"",tags:"",file:null}),$(!1),re(0),S(!1),alert("Documento enviado com sucesso!")},we=ie=>{console.log(`Downloading ${ie.title}...`),s(r.map(Se=>Se.id===ie.id?{...Se,isDownloaded:!0,lastViewed:new Date().toISOString().split("T")[0]}:Se)),alert(`Download de "${ie.title}" iniciado!`)},Ie=ie=>{s(r.map(Se=>Se.id===ie?{...Se,isFavorite:!Se.isFavorite}:Se))},lt=ie=>{s(r.filter(Se=>Se.id!==ie)),G(null)},Le=ie=>{_.includes(ie)?k(_.filter(Se=>Se!==ie)):k([..._,ie])},J=ie=>{switch(ie){case"manual":return Et;case"corporate":return bE;case"educational":return hre;default:return Et}},Qe=ie=>{switch(ie){case"manual":return"from-blue-500 to-cyan-500";case"corporate":return"from-purple-500 to-pink-500";case"educational":return"from-green-500 to-emerald-500";default:return"from-gray-500 to-gray-600"}},je=ie=>{switch(ie){case"manual":return"Manual Tcnico";case"corporate":return"Documento Corporativo";case"educational":return"Material Didtico";default:return ie}};return a&&r.length===0&&!c?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando Biblioteca Digital..."})]})}):n.jsxs("div",{className:"p-4 space-y-4",children:[n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-2",children:"Biblioteca Digital"}),n.jsx("p",{className:"text-sm md:text-base text-gray-600",children:"Acesse manuais, documentos corporativos e materiais didticos"})]}),n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsxs("button",{onClick:()=>S(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:shadow-lg transition-all text-sm",children:[n.jsx(r0,{className:"h-4 w-4"}),n.jsx("span",{children:"Enviar Documento"})]})})]})}),c&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Un,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:"Erro ao Carregar Biblioteca"}),n.jsx("p",{className:"text-red-700 text-sm",children:c}),n.jsx("button",{onClick:()=>u(),className:"mt-2 text-sm text-red-600 hover:text-red-800 font-medium",children:"Tentar novamente"})]})]}),n.jsx("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.jsx("input",{type:"text",placeholder:"Buscar documentos por ttulo, descrio ou tags...",value:p,onChange:ie=>v(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{value:y,onChange:ie=>{g(ie.target.value),w("all")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Categorias"}),n.jsx("option",{value:"manual",children:"Manuais Tcnicos"}),n.jsx("option",{value:"corporate",children:"Documentos Corporativos"}),n.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),n.jsx("select",{value:x,onChange:ie=>w(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:X().map(ie=>n.jsx("option",{value:ie,children:ie==="all"?"Todas as Subcategorias":ie},ie))})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordenar por"}),n.jsxs("div",{className:"flex",children:[n.jsxs("select",{value:Q,onChange:ie=>U(ie.target.value),className:"flex-1 px-3 py-2 border-y border-l border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"date",children:"Data"}),n.jsx("option",{value:"title",children:"Ttulo"}),n.jsx("option",{value:"size",children:"Tamanho"})]}),n.jsx("button",{onClick:()=>z(K==="asc"?"desc":"asc"),className:"px-3 py-2 border border-gray-300 rounded-r-lg bg-gray-50 hover:bg-gray-100",children:K==="asc"?n.jsx(KA,{className:"h-5 w-5"}):n.jsx(Sd,{className:"h-5 w-5"})})]})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsxs("button",{onClick:()=>T(!N),className:"flex items-center space-x-1 text-blue-600 hover:text-blue-800 text-sm",children:[n.jsx(wE,{className:"h-4 w-4"}),n.jsx("span",{children:"Filtros avanados"}),N?n.jsx(KA,{className:"h-4 w-4"}):n.jsx(Sd,{className:"h-4 w-4"})]})}),n.jsx(vt,{children:N&&n.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:[n.jsxs("div",{className:"pt-4 border-t border-gray-200 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo de Upload"}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"De"}),n.jsx("input",{type:"date",value:C.start||"",onChange:ie=>B({...C,start:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"At"}),n.jsx("input",{type:"date",value:C.end||"",onChange:ie=>B({...C,end:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),n.jsxs("div",{className:"flex flex-wrap gap-2 p-2 border border-gray-300 rounded-lg min-h-[42px]",children:[Ae().map(ie=>n.jsx("button",{onClick:()=>Le(ie),className:`px-2 py-1 rounded-full text-xs font-medium ${_.includes(ie)?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ie},ie)),Ae().length===0&&n.jsx("span",{className:"text-sm text-gray-500",children:"Nenhuma tag disponvel"})]})]})]}),n.jsx("div",{className:"flex justify-end mt-4 space-x-2",children:n.jsx("button",{onClick:()=>{v(""),g("all"),w("all"),k([]),B({}),U("date"),z("desc")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Limpar Filtros"})})]})})]})}),n.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 shadow-lg border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Documentos (",de.length,")"]}),n.jsxs("div",{className:"text-sm text-gray-500",children:[de.length," de ",r.length," documentos"]})]}),de.length>0?n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.map(ie=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden",children:[n.jsxs("div",{className:"relative h-32 bg-gray-100 overflow-hidden",children:[ie.thumbnailUrl?n.jsx("img",{src:ie.thumbnailUrl,alt:ie.title,className:"w-full h-full object-cover"}):n.jsx("div",{className:`w-full h-full bg-gradient-to-r ${Qe(ie.category)} flex items-center justify-center`,children:ke.createElement(J(ie.category),{className:"h-16 w-16 text-white/50"})}),n.jsx("div",{className:"absolute top-2 left-2 px-2 py-1 bg-black/50 backdrop-blur-sm text-white rounded text-xs",children:je(ie.category)}),n.jsx("button",{onClick:()=>Ie(ie.id),className:`absolute top-2 right-2 p-1 rounded-full ${ie.isFavorite?"bg-yellow-500 text-white":"bg-white/70 text-gray-600 hover:bg-white"}`,"aria-label":ie.isFavorite?"Remover dos favoritos":"Adicionar aos favoritos",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:ie.isFavorite?"currentColor":"none",stroke:"currentColor",className:"w-4 h-4",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.285 5.385a.562.562 0 01-.84.61l-4.725-2.885a.563.563 0 00-.586 0L6.982 20.54a.562.562 0 01-.84-.61l1.285-5.386a.562.562 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988l5.518-.442a.563.563 0 00.475-.345L11.48 3.5z"})})})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:ie.title}),n.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-2",children:ie.description}),n.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs mb-3",children:[n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(vr,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:new Date(ie.uploadDate).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Et,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:[ie.fileSize,"  ",ie.fileType]})]}),ie.lastViewed&&n.jsxs("div",{className:"flex items-center text-gray-500",children:[n.jsx(Wt,{className:"h-3 w-3 mr-1"}),n.jsxs("span",{children:["Visto: ",new Date(ie.lastViewed).toLocaleDateString("pt-BR")]})]}),ie.isDownloaded&&n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(lS,{className:"h-3 w-3 mr-1"}),n.jsx("span",{children:"Baixado"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[ie.tags.slice(0,3).map((Se,We)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:Se},We)),ie.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:["+",ie.tags.length-3]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>D(ie),className:"flex-1 px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors text-xs flex items-center justify-center",children:[n.jsx(da,{className:"h-3 w-3 mr-1"}),"Visualizar"]}),n.jsxs("button",{onClick:()=>we(ie),className:"flex-1 px-3 py-1.5 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors text-xs flex items-center justify-center",children:[n.jsx(Ts,{className:"h-3 w-3 mr-1"}),ie.isDownloaded?"Baixado":"Baixar"]}),e&&n.jsx("button",{onClick:()=>G(ie.id),className:"px-3 py-1.5 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors text-xs flex items-center justify-center",children:n.jsx(Yt,{className:"h-3 w-3"})})]})]})]},ie.id))}):n.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum documento encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No encontramos documentos com os filtros selecionados."}),n.jsx("button",{onClick:()=>{v(""),g("all"),w("all"),k([]),B({})},className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:"Limpar Filtros"})]})]}),n.jsx(vt,{children:I&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!Z&&S(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Enviar Novo Documento"}),!Z&&n.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Arquivo PDF"}),n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:L.file?n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Et,{className:"h-8 w-8 text-blue-500 mr-3"}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"font-medium text-gray-900 text-sm",children:L.file.name}),n.jsxs("p",{className:"text-xs text-gray-500",children:[(L.file.size/(1024*1024)).toFixed(2)," MB"]})]})]}),n.jsx("button",{onClick:()=>Y({...L,file:null}),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-5 w-5"})})]}):n.jsxs(n.Fragment,{children:[n.jsx(r0,{className:"h-10 w-10 text-gray-400 mx-auto mb-2"}),n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Arraste e solte um arquivo PDF ou"}),n.jsxs("label",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer inline-block",children:["Selecionar Arquivo",n.jsx("input",{type:"file",accept:".pdf",onChange:me,className:"hidden"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ttulo ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:L.title,onChange:ie=>Y({...L,title:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ttulo do documento",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:L.description,onChange:ie=>Y({...L,description:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Breve descrio do documento"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Categoria ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("select",{value:L.category,onChange:ie=>Y({...L,category:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[n.jsx("option",{value:"manual",children:"Manual Tcnico"}),n.jsx("option",{value:"corporate",children:"Documento Corporativo"}),n.jsx("option",{value:"educational",children:"Material Didtico"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategoria"}),n.jsx("input",{type:"text",value:L.subcategory,onChange:ie=>Y({...L,subcategory:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Instalao"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags (separadas por vrgula)"}),n.jsx("input",{type:"text",value:L.tags,onChange:ie=>Y({...L,tags:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: manual, ar condicionado, instalao"})]}),Z&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-700",children:[n.jsx("span",{children:"Enviando..."}),n.jsxs("span",{children:[q,"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:n.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${q}%`}})})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-6",children:[n.jsx("button",{onClick:()=>!Z&&S(!1),disabled:Z,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),n.jsx("button",{onClick:Ce,disabled:Z||!L.title||!L.file,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:Z?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(r0,{className:"h-4 w-4 mr-2 inline"}),"Enviar Documento"]})})]})]})]})}),n.jsx(vt,{children:E&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>D(null),className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-r ${Qe(E.category)} flex items-center justify-center`,children:ke.createElement(J(E.category),{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:E.title}),n.jsxs("p",{className:"text-xs text-gray-500",children:[je(E.category),"  ",E.subcategory]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:ie=>{ie.stopPropagation(),we(E)},className:"p-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors",children:n.jsx(Ts,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>D(null),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg",children:n.jsx(bt,{className:"h-5 w-5"})})]})]}),n.jsx("div",{className:"flex-1 overflow-hidden bg-gray-100 p-4",children:n.jsx("div",{className:"bg-white rounded-lg shadow-sm h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center p-8",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Visualizador de PDF"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Em um ambiente real, o PDF seria exibido aqui usando um visualizador integrado."}),n.jsxs("div",{className:"flex justify-center space-x-4",children:[n.jsxs("button",{onClick:ie=>{ie.stopPropagation(),we(E)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors flex items-center",children:[n.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),n.jsxs("button",{onClick:ie=>{ie.stopPropagation(),window.open(E.fileUrl,"_blank")},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors flex items-center",children:[n.jsx(sne,{className:"h-4 w-4 mr-2"}),"Abrir em Nova Aba"]})]})]})})}),n.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Detalhes"}),n.jsxs("div",{className:"space-y-1 text-sm",children:[n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(vr,{className:"h-4 w-4 mr-2 text-gray-400"}),"Enviado em ",new Date(E.uploadDate).toLocaleDateString("pt-BR")]}),n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(Et,{className:"h-4 w-4 mr-2 text-gray-400"}),E.fileSize,"  ",E.fileType]}),E.author&&n.jsxs("p",{className:"flex items-center text-gray-600",children:[n.jsx(Cn,{className:"h-4 w-4 mr-2 text-gray-400"}),"Autor: ",E.author]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Descrio"}),n.jsx("p",{className:"text-sm text-gray-600",children:E.description})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Tags"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:E.tags.map((ie,Se)=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs",children:ie},Se))})]})]})})]})]})}),n.jsx(vt,{children:ee&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>G(null),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-6 w-full max-w-sm shadow-2xl",children:[n.jsxs("div",{className:"flex items-center space-x-4 mb-4 text-red-600",children:[n.jsx(Un,{className:"h-8 w-8"}),n.jsx("h3",{className:"text-xl font-bold",children:"Confirmar Excluso"})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Tem certeza que deseja excluir este documento? Esta ao no pode ser desfeita."}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("button",{onClick:()=>G(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsx("button",{onClick:()=>lt(ee),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Excluir"})]})]})]})})]})},DTe=()=>{const{user:t}=On(),[e,r]=O.useState([{id:"1",name:"Equipe Tcnica",lastMessage:"Carlos: Vou atender o chamado agora",lastMessageTime:new Date(Date.now()-5*6e4),unreadCount:3,isGroup:!0,participants:["Carlos","Ana","Pedro","Maria"],status:"online",avatar:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=150"},{id:"2",name:"Carlos Tcnico",lastMessage:"J finalizei a instalao do cliente",lastMessageTime:new Date(Date.now()-30*6e4),unreadCount:0,isGroup:!1,participants:["Carlos"],status:"online"},{id:"3",name:"Ana Tcnica",lastMessage:"Preciso de ajuda com um cliente",lastMessageTime:new Date(Date.now()-2*36e5),unreadCount:1,isGroup:!1,participants:["Ana"],status:"busy"},{id:"4",name:"Departamento Comercial",lastMessage:"Maria: Novo contrato fechado!",lastMessageTime:new Date(Date.now()-5*36e5),unreadCount:0,isGroup:!0,participants:["Joo","Maria","Roberto"],status:"online"}]),[s,a]=O.useState(null),[i,o]=O.useState([]),[l,c]=O.useState(""),[d,u]=O.useState(!1),[h,f]=O.useState(!0),[p,v]=O.useState(!1),[y,g]=O.useState(!1),[x,w]=O.useState(""),[_,k]=O.useState("none"),[C,B]=O.useState(0),[I,S]=O.useState(null),[E,D]=O.useState("none"),[N,T]=O.useState(""),[Q,U]=O.useState(!1),[K,z]=O.useState(!1),[ee,G]=O.useState(!0),[q,re]=O.useState(!1),Z=O.useRef(null),$=O.useRef(null),[L,Y]=O.useState({notifications:!0,sounds:!0,darkMode:!1,readReceipts:!0,fontSize:"medium"}),[X,Ae]=O.useState(window.innerWidth<768),[fe,de]=O.useState(!0);O.useEffect(()=>{const Ne=()=>{Ae(window.innerWidth<768)};return window.addEventListener("resize",Ne),()=>window.removeEventListener("resize",Ne)},[]),O.useEffect(()=>{if(s){r(Ve=>Ve.map(yt=>yt.id===s.id?{...yt,unreadCount:0}:yt));const Ne=[],ge=10+Math.floor(Math.random()*10),Je=new Date;for(let Ve=0;Ve<ge;Ve++){const yt=Math.random()>.5,gt=yt?t?.name||"Voc":s.isGroup?s.participants[Math.floor(Math.random()*s.participants.length)]:s.name;Ne.push({id:`msg-${Ve}`,content:we(yt,s.isGroup),sender:gt,senderId:yt?"me":gt,timestamp:new Date(Je.getTime()-(ge-Ve)*5*6e4),status:yt?Ve<ge-3?"read":Ve<ge-1?"delivered":"sent":"read",isMe:yt})}o(Ne),X&&de(!1)}},[s,t]),O.useEffect(()=>{Z.current?.scrollIntoView({behavior:"smooth"})},[i]);const me=e.filter(Ne=>Ne.name.toLowerCase().includes(x.toLowerCase())||Ne.lastMessage.toLowerCase().includes(x.toLowerCase())),Ce=Ne=>{const Je=new Date().getTime()-Ne.getTime();return Je<864e5?Ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):Je<6048e5?["Dom","Seg","Ter","Qua","Qui","Sex","Sb"][Ne.getDay()]:Ne.toLocaleDateString([],{day:"2-digit",month:"2-digit"})},xe=Ne=>{const ge=Math.floor(Ne/60),Je=Ne%60;return`${ge.toString().padStart(2,"0")}:${Je.toString().padStart(2,"0")}`},we=(Ne,ge)=>{const Je=Ne?["Ol, como posso ajudar?","J estou a caminho do cliente","Finalizei o servio agora","Preciso de mais informaes sobre este chamado","Vou precisar de mais peas para o conserto","O cliente no est no local","Servio concludo com sucesso","Estou com dificuldade para acessar o local"]:["Temos um novo chamado urgente","O cliente est aguardando","Pode me ajudar com um problema?","J verificou o estoque de peas?","Precisamos finalizar este servio hoje","O cliente alterou o horrio","Tem disponibilidade amanh?",ge?"Pessoal, reunio s 15h":"Preciso da sua ajuda com um cliente"];return Je[Math.floor(Math.random()*Je.length)]},Ie=()=>{if(!l.trim()||!s)return;const Ne={id:`msg-${Date.now()}`,content:l,sender:t?.name||"Voc",senderId:"me",timestamp:new Date,status:"sending",isMe:!0};o([...i,Ne]),c(""),setTimeout(()=>{o(ge=>ge.map(Je=>Je.id===Ne.id?{...Je,status:"sent"}:Je)),setTimeout(()=>{o(ge=>ge.map(Je=>Je.id===Ne.id?{...Je,status:"delivered"}:Je)),setTimeout(()=>{o(ge=>ge.map(Je=>Je.id===Ne.id?{...Je,status:"read"}:Je))},2e3)},1e3)},500),setTimeout(()=>{u(!0),setTimeout(()=>{u(!1);const ge={id:`msg-${Date.now()}`,content:we(!1,s.isGroup),sender:s.isGroup?s.participants[Math.floor(Math.random()*s.participants.length)]:s.name,senderId:"other",timestamp:new Date,status:"read",isMe:!1};o(Je=>[...Je,ge]),r(Je=>Je.map(Ve=>Ve.id===s.id?{...Ve,lastMessage:s.isGroup?`${ge.sender}: ${ge.content}`:ge.content,lastMessageTime:ge.timestamp}:Ve))},2e3+Math.random()*1e3)},1e3+Math.random()*2e3),r(ge=>ge.map(Je=>Je.id===s.id?{...Je,lastMessage:l,lastMessageTime:new Date}:Je))},lt=Ne=>{if(!s)return;const ge=Ne==="video"?{video:!0,audio:!0}:{audio:!0};navigator.mediaDevices.getUserMedia(ge).then(Je=>{console.log("Media access granted for call"),Je.getTracks().forEach(yt=>yt.stop()),k(Ne),B(0);const Ve=setInterval(()=>{B(yt=>yt+1)},1e3);S(Ve)}).catch(Je=>{console.error("Error accessing media devices:",Je),alert("Para fazer chamadas,  necessrio permitir o acesso  cmera e microfone.")})},Le=()=>{I&&clearInterval(I),k("none"),B(0),S(null),U(!1),z(!1),re(!1)},J=Ne=>{const ge=e[Math.floor(Math.random()*e.length)];T(ge.name),D(Ne),setTimeout(()=>{D("none")},15e3)},Qe=()=>{const Ne=E;D("none"),k(Ne),B(0);const ge=setInterval(()=>{B(Je=>Je+1)},1e3);S(ge)},je=()=>{D("none")},ie=()=>{c(Ne=>Ne+" "),$.current?.focus()},Se=()=>{alert("Funcionalidade de anexo seria implementada aqui")},We=Ne=>{switch(Ne){case"sending":return n.jsx(Wt,{className:"h-3 w-3 text-gray-400"});case"sent":return n.jsx(rn,{className:"h-3 w-3 text-gray-400"});case"delivered":return n.jsxs("div",{className:"relative",children:[n.jsx(rn,{className:"h-3 w-3 text-blue-500 absolute"}),n.jsx(rn,{className:"h-3 w-3 text-blue-500 ml-0.5"})]});case"read":return n.jsxs("div",{className:"relative text-blue-500",children:[n.jsx(rn,{className:"h-3 w-3 absolute"}),n.jsx(rn,{className:"h-3 w-3 ml-0.5"})]});default:return null}},Oe=Ne=>{switch(Ne){case"online":return"bg-green-500";case"offline":return"bg-gray-400";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";default:return"bg-gray-400"}},ve=Ne=>{Ne.key==="Enter"&&!Ne.shiftKey&&(Ne.preventDefault(),Ie())},st=()=>{de(!fe)};return n.jsxs("div",{className:"h-[calc(100vh-120px)] bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden flex",children:[n.jsx(vt,{children:(!X||X&&fe)&&n.jsxs(he.div,{initial:X?{x:-300}:!1,animate:{x:0},exit:X?{x:-300}:void 0,className:"w-80 border-r border-gray-200 flex flex-col bg-white z-10",style:{position:X?"absolute":"relative",height:"100%",boxShadow:X?"0 0 15px rgba(0,0,0,0.1)":"none"},children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Conversas"}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:()=>g(!y),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(sn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>v(!p),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(mh,{className:"h-4 w-4"})}),X&&n.jsx("button",{onClick:st,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full md:hidden",children:n.jsx(bb,{className:"h-4 w-4"})})]})]}),n.jsx(vt,{children:y&&n.jsx(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"p-3 border-b border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),n.jsx("input",{type:"text",placeholder:"Buscar conversas...",value:x,onChange:Ne=>w(Ne.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]})})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:me.length>0?me.map(Ne=>n.jsx("div",{onClick:()=>a(Ne),className:`p-2.5 border-b border-gray-100 hover:bg-gray-50 cursor-pointer transition-colors ${s?.id===Ne.id?"bg-blue-50":""}`,children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs("div",{className:"relative",children:[Ne.avatar?n.jsx("img",{src:Ne.avatar,alt:Ne.name,className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Ne.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:Ne.isGroup?n.jsx(ir,{className:"h-5 w-5"}):n.jsx("span",{className:"text-base font-semibold",children:Ne.name.charAt(0)})}),n.jsx("div",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white ${Oe(Ne.status)}`})]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:Ne.name}),n.jsx("span",{className:"text-xs text-gray-500",children:Ce(Ne.lastMessageTime)})]}),n.jsx("p",{className:"text-xs text-gray-600 truncate",children:Ne.lastMessage})]}),Ne.unreadCount>0&&n.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs text-white font-medium",children:Ne.unreadCount})})]})},Ne.id)):n.jsxs("div",{className:"p-4 text-center text-gray-500",children:[n.jsx(wb,{className:"h-10 w-10 mx-auto text-gray-300 mb-2"}),n.jsx("p",{className:"text-sm",children:"Nenhuma conversa encontrada"})]})}),n.jsx(vt,{children:p&&n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute inset-0 bg-white z-10 flex flex-col",children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center",children:[n.jsx("button",{onClick:()=>v(!1),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2",children:n.jsx(bb,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Configuraes"})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Notificaes"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Notificaes de mensagens"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:L.notifications,onChange:()=>Y({...L,notifications:!L.notifications}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Sons de notificao"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:L.sounds,onChange:()=>Y({...L,sounds:!L.sounds}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Privacidade"}),n.jsx("div",{className:"space-y-2",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Confirmaes de leitura"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:L.readReceipts,onChange:()=>Y({...L,readReceipts:!L.readReceipts}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xs font-medium text-gray-700 mb-2",children:"Aparncia"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600",children:"Modo escuro"}),n.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:L.darkMode,onChange:()=>Y({...L,darkMode:!L.darkMode}),className:"sr-only peer"}),n.jsx("div",{className:"w-9 h-5 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all peer-checked:bg-blue-600"})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-600 block mb-1",children:"Tamanho da fonte"}),n.jsxs("select",{value:L.fontSize,onChange:Ne=>Y({...L,fontSize:Ne.target.value}),className:"w-full px-2.5 py-1.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",children:[n.jsx("option",{value:"small",children:"Pequeno"}),n.jsx("option",{value:"medium",children:"Mdio"}),n.jsx("option",{value:"large",children:"Grande"})]})]})]})]})]}),n.jsx("div",{className:"p-3 border-t border-gray-200",children:n.jsx("button",{onClick:()=>v(!1),className:"w-full py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Salvar Configuraes"})})]})})]})}),n.jsx("div",{className:"flex-1 flex flex-col",children:s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-3 border-b border-gray-200 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[X&&n.jsx("button",{onClick:st,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full mr-2 md:hidden",children:n.jsx(Xne,{className:"h-4 w-4"})}),n.jsxs("div",{className:"flex items-center space-x-2",children:[s.avatar?n.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.isGroup?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"}`,children:s.isGroup?n.jsx(ir,{className:"h-4 w-4"}):n.jsx("span",{className:"text-base font-semibold",children:s.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:s.name}),n.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[n.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${Oe(s.status)} mr-1`}),n.jsx("span",{children:s.status==="online"?"Online":s.status==="away"?"Ausente":s.status==="busy"?"Ocupado":"Offline"}),s.isGroup&&n.jsxs("span",{className:"ml-1",children:[s.participants.length," participantes"]})]})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:()=>lt("audio"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(ci,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>lt("video"),className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Cj,{className:"h-4 w-4"})}),n.jsx("button",{className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(rne,{className:"h-4 w-4"})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50",children:[i.map((Ne,ge)=>{const Je=ge===0||new Date(Ne.timestamp).toDateString()!==new Date(i[ge-1].timestamp).toDateString();return n.jsxs(ke.Fragment,{children:[Je&&n.jsx("div",{className:"flex justify-center my-3",children:n.jsx("div",{className:"px-2.5 py-0.5 bg-gray-200 rounded-full text-xs text-gray-600",children:new Date(Ne.timestamp).toLocaleDateString([],{weekday:"long",day:"numeric",month:"long"})})}),n.jsx("div",{className:`flex ${Ne.isMe?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] ${Ne.isMe?"bg-blue-500 text-white":"bg-white text-gray-800"} rounded-lg px-3 py-1.5 shadow-sm`,children:[s.isGroup&&!Ne.isMe&&n.jsx("p",{className:"text-xs font-medium mb-0.5",style:{color:Ne.isMe?"white":"#6366f1"},children:Ne.sender}),n.jsx("p",{className:"text-sm",children:Ne.content}),n.jsxs("div",{className:`flex items-center justify-end space-x-1 mt-0.5 text-xs ${Ne.isMe?"text-blue-100":"text-gray-500"}`,children:[n.jsx("span",{children:Ne.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Ne.isMe&&We(Ne.status)]})]})})]},Ne.id)}),d&&n.jsx("div",{className:"flex justify-start",children:n.jsx("div",{className:"bg-white text-gray-800 rounded-lg px-3 py-1.5 shadow-sm",children:n.jsxs("div",{className:"flex space-x-1",children:[n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),n.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})})}),n.jsx("div",{ref:Z})]}),n.jsx("div",{className:"p-3 border-t border-gray-200 bg-white",children:n.jsxs("div",{className:"flex items-center space-x-1.5",children:[n.jsx("button",{onClick:ie,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(Dse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:Se,className:"p-1.5 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",children:n.jsx(fse,{className:"h-4 w-4"})}),n.jsx("input",{type:"text",ref:$,value:l,onChange:Ne=>c(Ne.target.value),onKeyPress:ve,placeholder:"Digite uma mensagem...",className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),n.jsx("button",{onClick:Ie,disabled:!l.trim(),className:`p-1.5 rounded-full ${l.trim()?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:n.jsx(Ti,{className:"h-4 w-4"})})]})})]}):n.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 bg-gray-50",children:[n.jsx(wb,{className:"h-14 w-14 text-gray-300 mb-3"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chat Interno"}),n.jsx("p",{className:"text-gray-600 text-center max-w-md mb-5 text-sm",children:"Selecione uma conversa para comear a enviar mensagens ou iniciar uma chamada com sua equipe."}),X&&!fe&&n.jsx("button",{onClick:st,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm",children:"Ver Conversas"})]})}),n.jsx(vt,{children:_!=="none"&&n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:`fixed inset-0 z-50 flex items-center justify-center bg-black/80 ${q?"p-0":"p-4"}`,children:n.jsxs("div",{className:`relative bg-gray-900 rounded-xl overflow-hidden ${q?"w-full h-full":"max-w-md w-full"}`,children:[n.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 flex items-center justify-between z-10 bg-gradient-to-b from-black/60 to-transparent",children:n.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[s?.avatar?n.jsx("img",{src:s.avatar,alt:s.name,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:n.jsx("span",{className:"text-base font-semibold text-white",children:s?.name.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-sm",children:s?.name}),n.jsxs("p",{className:"text-xs opacity-80",children:[_==="audio"?"Chamada de voz":"Chamada de vdeo","  ",xe(C)]})]})]})}),n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:_==="video"?K?n.jsx("div",{className:"w-full h-full min-h-[250px] bg-gray-800 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(eT,{className:"h-12 w-12 text-white/50 mx-auto mb-3"}),n.jsx("p",{className:"text-white/70 text-sm",children:"Cmera desligada"})]})}):n.jsxs("div",{className:"w-full h-full min-h-[250px] bg-gray-800 relative",children:[n.jsx("img",{src:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",alt:"Video call",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute bottom-3 right-3 w-24 h-20 bg-gray-900 rounded-lg overflow-hidden border-2 border-white",children:n.jsx("img",{src:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=150",alt:"Self view",className:"w-full h-full object-cover"})})]}):n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-4xl font-semibold text-white",children:s?.name.charAt(0)})}),n.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:s?.name}),n.jsx("p",{className:"text-white/70 text-sm",children:xe(C)})]})}),n.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 flex items-center justify-center space-x-3 z-10 bg-gradient-to-t from-black/60 to-transparent",children:[n.jsx("button",{onClick:()=>U(!Q),className:`p-3 rounded-full ${Q?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:Q?n.jsx(ese,{className:"h-5 w-5"}):n.jsx(rse,{className:"h-5 w-5"})}),_==="video"&&n.jsx("button",{onClick:()=>z(!K),className:`p-3 rounded-full ${K?"bg-red-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:K?n.jsx(eT,{className:"h-5 w-5"}):n.jsx(Cj,{className:"h-5 w-5"})}),n.jsx("button",{onClick:Le,className:"p-3 bg-red-500 text-white rounded-full hover:bg-red-600",children:n.jsx(xse,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>G(!ee),className:`p-3 rounded-full ${ee?"bg-gray-700 text-white hover:bg-gray-600":"bg-gray-800 text-gray-400"}`,children:n.jsx(vae,{className:"h-5 w-5"})})]})]})})}),n.jsx(vt,{children:E!=="none"&&n.jsxs(he.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-3 right-3 z-50 bg-white rounded-lg shadow-xl border border-gray-200 p-3 w-72",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-blue-600",children:N.charAt(0)})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:N}),n.jsx("p",{className:"text-xs text-gray-600",children:E==="audio"?"Chamada de voz":"Chamada de vdeo"})]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("button",{onClick:je,className:"flex-1 py-1.5 bg-red-500 text-white rounded-lg mr-2 hover:bg-red-600 transition-colors text-sm",children:"Recusar"}),n.jsx("button",{onClick:Qe,className:"flex-1 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm",children:"Atender"})]})]})}),n.jsxs("div",{className:"fixed bottom-16 right-3 z-40 space-y-1.5",children:[n.jsx("button",{onClick:()=>J("audio"),className:"p-1.5 bg-blue-500 text-white rounded-full shadow-lg hover:bg-blue-600 transition-colors",title:"Simular chamada de voz",children:n.jsx(ci,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>J("video"),className:"p-1.5 bg-purple-500 text-white rounded-full shadow-lg hover:bg-purple-600 transition-colors",title:"Simular chamada de vdeo",children:n.jsx(Cj,{className:"h-4 w-4"})})]})]})},MTe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState([]),[a,i]=O.useState([]),[o,l]=O.useState(!0),[c,d]=O.useState(""),[u,h]=O.useState(null),[f,p]=O.useState(""),[v,y]=O.useState(!1),[g,x]=O.useState(!1),[w,_]=O.useState(!1),[k,C]=O.useState(!1),[B,I]=O.useState(!1),[S,E]=O.useState(null),[D,N]=O.useState(null),[T,Q]=O.useState("disconnected"),[U,K]=O.useState(!1),z=O.useRef(null),ee=O.useRef(null),[G,q]=O.useState({name:"",phone:"",email:"",notes:""}),[re,Z]=O.useState({name:"",phone:""}),$=[{id:1,title:"Saudao",text:"Ol! Tudo bem? Como posso ajudar voc hoje?"},{id:2,title:"Agradecimento",text:"Muito obrigado pelo contato! Estamos  disposio."},{id:3,title:"Oramento",text:"Enviando o oramento solicitado. Por favor, verifique os detalhes."},{id:4,title:"Confirmao",text:"Confirmado! Estaremos no local no horrio combinado."},{id:5,title:"Acompanhamento",text:"Ol! Gostaria de saber se precisa de mais alguma informao sobre nosso servio."}];O.useEffect(()=>{Y()},[]),O.useEffect(()=>{u&&X(u.id)},[u]),O.useEffect(()=>{L()},[a]);const L=()=>{z.current?.scrollIntoView({behavior:"smooth"})},Y=async()=>{try{l(!0);const{data:je,error:ie}=await pe.from("whatsapp_contacts").select("*").order("last_message_at",{ascending:!1,nullsFirst:!1}),{data:Se,error:We}=await pe.from("whatsapp_accounts").select("*").order("created_at",{ascending:!1});if(ie)throw ie;if(We)throw We;e(je||[]),s(Se||[])}catch(je){console.error("Error loading data:",je)}finally{l(!1)}},X=async je=>{try{const{data:ie,error:Se}=await pe.from("whatsapp_messages").select("*").eq("contact_id",je).order("created_at",{ascending:!0});if(Se)throw Se;i(ie||[]),await pe.from("whatsapp_contacts").update({unread_count:0}).eq("id",je),Y()}catch(ie){console.error("Error loading messages:",ie)}},Ae=async()=>{if(!(!f.trim()||!u)){if(r.length===0||r[0].status!=="connected"){alert("WhatsApp no est conectado! Por favor, conecte primeiro.");return}try{y(!0);const Se=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/whatsapp-baileys/send",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({accountId:r[0].id,to:u.phone,message:f.trim()})})).json();if(!Se.success)throw new Error(Se.error||"Erro ao enviar mensagem");const We={contact_id:u.id,message_type:"text",content:f.trim(),direction:"outbound",status:"sent",created_at:new Date().toISOString()},{error:Oe}=await pe.from("whatsapp_messages").insert([We]);if(Oe)throw Oe;await pe.from("whatsapp_contacts").update({last_message_at:new Date().toISOString(),last_message_preview:f.trim().substring(0,100)}).eq("id",u.id),p(""),await X(u.id),await Y()}catch(je){console.error("Error sending message:",je),alert("Erro ao enviar mensagem: "+je.message)}finally{y(!1)}}},fe=async()=>{if(!G.name||!G.phone){alert("Nome e telefone so obrigatrios");return}try{const je=r.find(Se=>Se.is_active);if(!je){alert("Nenhuma conta do WhatsApp ativa encontrada!");return}const{error:ie}=await pe.from("whatsapp_contacts").insert([{account_id:je.id,name:G.name,phone:G.phone,email:G.email||null,notes:G.notes||null}]);if(ie)throw ie;await Y(),x(!1),q({name:"",phone:"",email:"",notes:""}),alert("Contato criado com sucesso!")}catch(je){console.error("Error creating contact:",je),alert("Erro ao criar contato")}},de=je=>{E(je),Z({name:je.name,phone:je.phone}),_(!0)},me=async()=>{if(!re.name||!re.phone){alert("Nome e telefone so obrigatrios");return}if(S)try{const{error:je}=await pe.from("whatsapp_accounts").update({name:re.name,phone:re.phone,updated_at:new Date().toISOString()}).eq("id",S.id);if(je)throw je;await Y(),_(!1),E(null),alert("Conta atualizada com sucesso!")}catch(je){console.error("Error updating account:",je),alert("Erro ao atualizar conta")}},Ce=async je=>{if(confirm("Tem certeza que deseja excluir este contato?"))try{const{error:ie}=await pe.from("whatsapp_contacts").delete().eq("id",je);if(ie)throw ie;await Y(),u?.id===je&&h(null),alert("Contato excludo com sucesso!")}catch(ie){console.error("Error deleting contact:",ie),alert("Erro ao excluir contato")}},xe=je=>{p(je.text),C(!1)},we=async()=>{if(r.length===0){alert("Nenhuma conta WhatsApp encontrada!");return}try{K(!0);const je=r[0].id,We=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/whatsapp-baileys/connect",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({accountId:je})})).json();We.qrCode&&(N(We.qrCode),Q("qr"),I(!0),Ie(je))}catch(je){console.error("Error generating QR code:",je),alert("Erro ao gerar QR Code")}finally{K(!1)}},Ie=je=>{ee.current&&clearInterval(ee.current),ee.current=window.setInterval(async()=>{try{const ie=`https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/whatsapp-baileys/status?accountId=${je}`;(await(await fetch(ie,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"}})).json()).status==="connected"&&(Q("connected"),N(null),I(!1),await pe.from("whatsapp_accounts").update({status:"connected",last_connection:new Date().toISOString()}).eq("id",je),await Y(),ee.current&&clearInterval(ee.current),alert("WhatsApp conectado com sucesso!"))}catch(ie){console.error("Error checking status:",ie)}},2e3)},lt=async()=>{if(confirm("Deseja desconectar o WhatsApp?")&&r.length!==0)try{const je=r[0].id;await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/whatsapp-baileys/disconnect",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({accountId:je})}),Q("disconnected"),await pe.from("whatsapp_accounts").update({status:"disconnected"}).eq("id",je),await Y(),ee.current&&clearInterval(ee.current),alert("WhatsApp desconectado!")}catch(je){console.error("Error disconnecting:",je),alert("Erro ao desconectar")}};O.useEffect(()=>()=>{ee.current&&clearInterval(ee.current)},[]);const Le=t.filter(je=>je.name.toLowerCase().includes(c.toLowerCase())||je.phone.includes(c)),J=je=>{try{return wue(new Date(je),{addSuffix:!0,locale:Q0})}catch{return"h alguns instantes"}},Qe=je=>{switch(je){case"sent":return n.jsx(rn,{className:"h-3 w-3 text-gray-400"});case"delivered":return n.jsx(zF,{className:"h-3 w-3 text-gray-400"});case"read":return n.jsx(zF,{className:"h-3 w-3 text-blue-500"});case"failed":return n.jsx(bt,{className:"h-3 w-3 text-red-500"});default:return n.jsx(Wt,{className:"h-3 w-3 text-gray-400"})}};return n.jsxs("div",{className:"h-screen flex flex-col bg-gray-50",children:[n.jsx("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-4 shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(ud,{className:"h-8 w-8"}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"WhatsApp CRM"}),n.jsx("p",{className:"text-sm text-green-100",children:"Sistema de Atendimento Integrado"})]}),r.length>0&&n.jsxs("div",{className:"ml-4 px-3 py-1 bg-white/20 rounded-full flex items-center gap-2",children:[n.jsx("div",{className:`w-2 h-2 rounded-full ${r[0].status==="connected"?"bg-green-300 animate-pulse":"bg-gray-300"}`}),n.jsx("span",{className:"text-sm font-medium",children:r[0].status==="connected"?"Conectado":"Desconectado"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[r.length>0&&r[0].status==="connected"?n.jsxs("button",{onClick:lt,className:"bg-red-500/90 hover:bg-red-600 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(bt,{className:"h-4 w-4"}),"Desconectar"]}):n.jsxs("button",{onClick:we,disabled:U,className:"bg-white/20 hover:bg-white/30 disabled:opacity-50 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(ud,{className:"h-4 w-4"}),U?"Gerando...":"Conectar WhatsApp"]}),n.jsxs("button",{onClick:()=>r.length>0&&de(r[0]),className:"bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[n.jsx(mh,{className:"h-4 w-4"}),"Configurar"]})]})]})}),n.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[n.jsxs("div",{className:"w-96 bg-white border-r border-gray-200 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",value:c,onChange:je=>d(je.target.value),placeholder:"Buscar contatos...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"})]}),n.jsxs("button",{onClick:()=>x(!0),className:"w-full mt-3 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[n.jsx(zt,{className:"h-4 w-4"}),"Novo Contato"]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:o?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-green-500"})}):Le.length>0?Le.map(je=>n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},onClick:()=>h(je),className:`p-4 border-b border-gray-100 cursor-pointer transition-colors ${u?.id===je.id?"bg-green-50 border-l-4 border-l-green-500":"hover:bg-gray-50"}`,children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx(ud,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:je.name}),je.last_message_at&&n.jsx("span",{className:"text-xs text-gray-500",children:J(je.last_message_at)})]}),n.jsx("p",{className:"text-sm text-gray-600 truncate",children:je.phone}),je.last_message_preview&&n.jsx("p",{className:"text-sm text-gray-500 truncate mt-1",children:je.last_message_preview})]})]}),je.unread_count>0&&n.jsx("span",{className:"bg-green-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:je.unread_count})]})},je.id)):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[n.jsx(ir,{className:"h-16 w-16 mb-4"}),n.jsx("p",{children:"Nenhum contato encontrado"})]})})]}),n.jsx("div",{className:"flex-1 flex flex-col bg-gray-50",children:u?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(ud,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-gray-900",children:u.name}),n.jsx("p",{className:"text-sm text-gray-600",children:u.phone})]})]}),n.jsx("button",{onClick:()=>Ce(u.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(Yt,{className:"h-5 w-5"})})]})}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[a.length>0?a.map(je=>n.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${je.direction==="outbound"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${je.direction==="outbound"?"bg-green-500 text-white":"bg-white text-gray-900 border border-gray-200"}`,children:[n.jsx("p",{className:"text-sm break-words",children:je.content}),n.jsxs("div",{className:"flex items-center justify-end gap-1 mt-1",children:[n.jsx("span",{className:`text-xs ${je.direction==="outbound"?"text-green-100":"text-gray-500"}`,children:new Date(je.created_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),je.direction==="outbound"&&Qe(je.status)]})]})},je.id)):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[n.jsx(ud,{className:"h-16 w-16 mb-4"}),n.jsx("p",{children:"Nenhuma mensagem ainda"}),n.jsx("p",{className:"text-sm",children:"Envie a primeira mensagem para iniciar a conversa"})]}),n.jsx("div",{ref:z})]}),n.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>C(!0),className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Templates",children:n.jsx(Nb,{className:"h-5 w-5"})}),n.jsx("input",{type:"text",value:f,onChange:je=>p(je.target.value),onKeyPress:je=>je.key==="Enter"&&!je.shiftKey&&Ae(),placeholder:"Digite sua mensagem...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"}),n.jsx("button",{onClick:Ae,disabled:!f.trim()||v,className:"bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white p-3 rounded-lg transition-colors",children:n.jsx(Ti,{className:"h-5 w-5"})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[n.jsx(ud,{className:"h-24 w-24 mb-4"}),n.jsx("h3",{className:"text-xl font-semibold mb-2",children:"WhatsApp CRM"}),n.jsx("p",{children:"Selecione um contato para iniciar uma conversa"})]})})]}),g&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Contato"}),n.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),n.jsx("input",{type:"text",value:G.name,onChange:je=>q({...G,name:je.target.value}),placeholder:"Nome do contato",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),n.jsx("input",{type:"tel",value:G.phone,onChange:je=>q({...G,phone:je.target.value}),placeholder:"5535999999999",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:G.email,onChange:je=>q({...G,email:je.target.value}),placeholder:"email@exemplo.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:G.notes,onChange:je=>q({...G,notes:je.target.value}),placeholder:"Notas sobre o contato...",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:fe,className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center justify-center gap-2",children:[n.jsx(hr,{className:"h-4 w-4"}),"Salvar"]})]})]})}),w&&S&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Configurar Conta WhatsApp"}),n.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),n.jsx("input",{type:"text",value:re.name,onChange:je=>Z({...re,name:je.target.value}),placeholder:"Ex: Atendimento Principal",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero WhatsApp *"}),n.jsx("input",{type:"tel",value:re.phone,onChange:je=>Z({...re,phone:je.target.value}),placeholder:"5535999999999",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: Cdigo do pas + DDD + nmero (sem espaos)"})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:n.jsxs("p",{className:"text-xs text-blue-800",children:[n.jsx("strong",{children:"Importante:"})," Este nmero ser usado para enviar e receber mensagens no CRM."]})})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:me,className:"flex-1 px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg flex items-center justify-center gap-2",children:[n.jsx(hr,{className:"h-4 w-4"}),"Salvar"]})]})]})}),k&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 w-full max-w-lg shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Templates de Mensagens"}),n.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:$.map(je=>n.jsxs("button",{onClick:()=>xe(je),className:"w-full text-left p-4 bg-gray-50 hover:bg-green-50 rounded-lg border border-gray-200 hover:border-green-300 transition-colors",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:je.title}),n.jsx("p",{className:"text-sm text-gray-600",children:je.text})]},je.id))})]})}),B&&D&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-8 w-full max-w-md shadow-2xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(ud,{className:"h-8 w-8 text-green-600"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Conectar WhatsApp"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Escaneie o QR Code com seu celular"}),n.jsx("div",{className:"bg-white border-4 border-green-500 rounded-xl p-4 mb-6",children:n.jsx("img",{src:D,alt:"QR Code",className:"w-full h-auto"})}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[n.jsx("span",{className:"bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center text-sm mr-2",children:"1"}),"Como conectar:"]}),n.jsxs("ol",{className:"space-y-2 text-sm text-gray-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium mt-0.5",children:"1"}),n.jsx("span",{children:"Abra o WhatsApp no seu celular"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium mt-0.5",children:"2"}),n.jsxs("span",{children:["Toque em ",n.jsx("strong",{children:"Menu"})," ou ",n.jsx("strong",{children:"Configuraes"})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium mt-0.5",children:"3"}),n.jsxs("span",{children:["Selecione ",n.jsx("strong",{children:"Aparelhos conectados"})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium mt-0.5",children:"4"}),n.jsxs("span",{children:["Toque em ",n.jsx("strong",{children:"Conectar um aparelho"})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-medium mt-0.5",children:"5"}),n.jsx("span",{children:"Aponte o celular para esta tela para escanear o cdigo"})]})]})]}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 mb-4",children:[n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-green-500"}),n.jsx("span",{children:"Aguardando conexo..."})]}),n.jsx("button",{onClick:()=>{I(!1),ee.current&&clearInterval(ee.current)},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})})})]})},LTe=({isOpen:t,onClose:e,onSave:r,entryId:s})=>{const[a,i]=O.useState(!1),[o,l]=O.useState([]),[c,d]=O.useState([]),[u,h]=O.useState([]),[f,p]=O.useState([]),[v,y]=O.useState([]),[g,x]=O.useState({descricao:"",valor:0,tipo:"receita",status:"a_receber",data:new Date().toISOString().split("T")[0],data_vencimento:new Date().toISOString().split("T")[0],customer_id:"",supplier_id:"",categoria:"",category_id:"",subcategory_id:"",forma_pagamento:"dinheiro",bank_account_id:"",observacoes:"",recorrente:!1,frequencia_recorrencia:"mensal",data_fim_recorrencia:""});O.useEffect(()=>{w(),_(),C(),B(),s&&I()},[s]),O.useEffect(()=>{g.category_id?k(g.category_id):(h([]),x(E=>({...E,subcategory_id:""})))},[g.category_id]);const w=async()=>{try{const{data:E}=await pe.from("customers").select("id, nome_razao").order("nome_razao");l(E||[])}catch(E){console.error("Error loading customers:",E)}},_=async()=>{try{const{data:E}=await pe.from("financial_categories").select("*").eq("active",!0).is("parent_id",null).order("name");d(E||[])}catch(E){console.error("Error loading categories:",E)}},k=async E=>{try{const{data:D}=await pe.from("financial_categories").select("*").eq("active",!0).eq("parent_id",E).order("name");h(D||[])}catch(D){console.error("Error loading subcategories:",D),h([])}},C=async()=>{try{const{data:E}=await pe.from("suppliers").select("id, name, cnpj, active").eq("active",!0).order("name");p(E||[])}catch(E){console.error("Error loading suppliers:",E)}},B=async()=>{try{const{data:E}=await pe.from("bank_accounts").select("id, account_name, bank_name, balance, active, is_default").eq("active",!0).order("is_default",{ascending:!1,nullsFirst:!1}).order("account_name",{ascending:!0});if(y(E||[]),E&&E.length>0&&!s){const D=E.find(N=>N.is_default);D&&x(N=>({...N,bank_account_id:D.id}))}}catch(E){console.error("Error loading bank accounts:",E)}},I=async()=>{if(s)try{const{data:E}=await pe.from("finance_entries").select("*").eq("id",s).single();E&&x({descricao:E.descricao||"",valor:E.valor||0,tipo:E.tipo||"receita",status:E.status||"a_receber",data:E.data?.split("T")[0]||"",data_vencimento:E.data_vencimento?.split("T")[0]||"",customer_id:E.customer_id||"",supplier_id:E.supplier_id||"",categoria:E.categoria||"",category_id:E.category_id||"",subcategory_id:E.subcategory_id||"",forma_pagamento:E.forma_pagamento||"dinheiro",bank_account_id:E.bank_account_id||"",observacoes:E.observacoes||"",recorrente:E.recorrente||!1,frequencia_recorrencia:E.frequencia_recorrencia||"mensal",data_fim_recorrencia:E.data_fim_recorrencia?.split("T")[0]||""})}catch(E){console.error("Error loading entry:",E)}},S=async()=>{try{if(!g.descricao||g.valor<=0){alert("Preencha a descrio e o valor!");return}i(!0);const E={descricao:g.descricao,valor:Number(g.valor),tipo:g.tipo,status:g.status,data:g.data,data_vencimento:g.data_vencimento||null,customer_id:g.customer_id||null,supplier_id:g.supplier_id||null,categoria:g.categoria||null,category_id:g.category_id||null,subcategory_id:g.subcategory_id||null,forma_pagamento:g.forma_pagamento,bank_account_id:g.bank_account_id||null,observacoes:g.observacoes||null};g.recorrente?(E.intervalo_recorrencia=g.frequencia_recorrencia,E.data_fim_recorrencia=g.data_fim_recorrencia||null):(E.intervalo_recorrencia=null,E.data_fim_recorrencia=null);let D;if(s?D=await pe.from("finance_entries").update(E).eq("id",s).select():D=await pe.from("finance_entries").insert([E]).select(),D.error)throw console.error("Database error:",D.error),new Error(D.error.message);alert(s?"Lanamento atualizado com sucesso!":"Lanamento criado com sucesso!"),r(),e()}catch(E){console.error("Error saving:",E),alert(`Erro ao salvar lanamento: ${E.message||"Erro desconhecido"}`)}finally{i(!1)}};return O.useEffect(()=>{g.tipo==="receita"?(g.status==="pago"||g.status==="a_pagar")&&x(E=>({...E,status:E.status==="pago"?"recebido":"a_receber"})):(g.status==="recebido"||g.status==="a_receber")&&x(E=>({...E,status:E.status==="recebido"?"pago":"a_pagar"}))},[g.tipo]),t?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:s?"Editar Lanamento":"Novo Lanamento"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Controle de receitas e despesas"})]}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("label",{className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${g.tipo==="receita"?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"}`,children:[n.jsx("input",{type:"radio",checked:g.tipo==="receita",onChange:()=>x({...g,tipo:"receita"}),className:"sr-only"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(qr,{className:"h-6 w-6 text-green-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Receita"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Entrada de dinheiro"})]})]})]})}),n.jsx("label",{className:"flex-1 cursor-pointer",children:n.jsxs("div",{className:`border-2 rounded-xl p-4 transition-all ${g.tipo==="despesa"?"border-red-500 bg-red-50":"border-gray-300 hover:border-red-300"}`,children:[n.jsx("input",{type:"radio",checked:g.tipo==="despesa",onChange:()=>x({...g,tipo:"despesa"}),className:"sr-only"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(cc,{className:"h-6 w-6 text-red-600"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-gray-900",children:"Despesa"}),n.jsx("div",{className:"text-sm text-gray-600",children:"Sada de dinheiro"})]})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Et,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:g.descricao,onChange:E=>x({...g,descricao:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Pagamento de servio - OS #123"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"number",value:g.valor,onChange:E=>x({...g,valor:parseFloat(E.target.value)||0}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0,00",step:"0.01",min:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),n.jsx("select",{value:g.status,onChange:E=>x({...g,status:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:g.tipo==="receita"?n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"a_receber",children:"A Receber"}),n.jsx("option",{value:"recebido",children:"Recebido"})]}):n.jsxs(n.Fragment,{children:[n.jsx("option",{value:"a_pagar",children:"A Pagar"}),n.jsx("option",{value:"pago",children:"Pago"})]})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data ",g.status==="recebido"||g.status==="pago"?"do Pagamento":"de Lanamento"]}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"date",value:g.data,onChange:E=>x({...g,data:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Vencimento"}),n.jsxs("div",{className:"relative",children:[n.jsx(vr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"date",value:g.data_vencimento,onChange:E=>x({...g,data_vencimento:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),g.tipo==="receita"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente (Opcional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.customer_id,onChange:E=>x({...g,customer_id:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(E=>n.jsx("option",{value:E.id,children:E.nome_razao},E.id))]})]})]}),g.tipo==="despesa"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Fornecedor (Opcional)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Cn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.supplier_id,onChange:E=>x({...g,supplier_id:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um fornecedor..."}),f.map(E=>n.jsxs("option",{value:E.id,children:[E.name," ",E.cnpj?`- ${E.cnpj}`:""]},E.id))]})]})]}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria"}),n.jsxs("select",{value:g.category_id,onChange:E=>x({...g,category_id:E.target.value,subcategory_id:""}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma categoria..."}),c.filter(E=>E.type===g.tipo).map(E=>n.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))]})]}),g.category_id&&u.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subcategoria"}),n.jsxs("select",{value:g.subcategory_id,onChange:E=>x({...g,subcategory_id:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma subcategoria..."}),u.map(E=>n.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Forma de Pagamento"}),n.jsxs("div",{className:"relative",children:[n.jsx(hn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsxs("select",{value:g.forma_pagamento,onChange:E=>x({...g,forma_pagamento:E.target.value}),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"dinheiro",children:"Dinheiro"}),n.jsx("option",{value:"pix",children:"PIX"}),n.jsx("option",{value:"cartao_credito",children:"Carto de Crdito"}),n.jsx("option",{value:"cartao_debito",children:"Carto de Dbito"}),n.jsx("option",{value:"boleto",children:"Boleto"}),n.jsx("option",{value:"transferencia",children:"Transferncia"})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Conta Bancria"]}),n.jsxs("select",{value:g.bank_account_id,onChange:E=>x({...g,bank_account_id:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[n.jsx("option",{value:"",children:"Selecione uma conta..."}),v.map(E=>n.jsxs("option",{value:E.id,children:[E.is_default?" ":"",E.bank_name," - ",E.account_name," (Saldo: R$ ",E.balance?.toFixed(2)||"0,00",")"]},E.id))]}),g.status==="pago"||g.status==="recebido"?n.jsx("p",{className:"text-xs text-blue-600 mt-1",children:" O saldo ser atualizado automaticamente"}):n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v.find(E=>E.is_default)&&n.jsx("span",{children:" = Conta Padro  "}),"Selecione a conta para controlar o saldo"]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),n.jsx("textarea",{value:g.observacoes,onChange:E=>x({...g,observacoes:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre este lanamento..."})]}),n.jsxs("div",{className:"md:col-span-2 border-t pt-4 mt-4",children:[n.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("input",{type:"checkbox",id:"recorrente",checked:g.recorrente,onChange:E=>x({...g,recorrente:E.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsxs("label",{htmlFor:"recorrente",className:"block text-sm font-semibold text-blue-900 cursor-pointer",children:["Lanamento Recorrente / Provisionado ",n.jsx("span",{className:"text-blue-600",children:"(Opcional)"})]}),n.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Marque esta opo se este lanamento se repete periodicamente (ex: aluguel, salrios) ou se deseja provisionar para o futuro"})]})]})}),g.recorrente&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pl-6 border-l-2 border-blue-200",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Frequncia"}),n.jsxs("select",{value:g.frequencia_recorrencia,onChange:E=>x({...g,frequencia_recorrencia:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"semanal",children:"Semanal"}),n.jsx("option",{value:"quinzenal",children:"Quinzenal"}),n.jsx("option",{value:"mensal",children:"Mensal"}),n.jsx("option",{value:"bimestral",children:"Bimestral"}),n.jsx("option",{value:"trimestral",children:"Trimestral"}),n.jsx("option",{value:"semestral",children:"Semestral"}),n.jsx("option",{value:"anual",children:"Anual"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data Fim da Recorrncia"}),n.jsx("input",{type:"date",value:g.data_fim_recorrencia,onChange:E=>x({...g,data_fim_recorrencia:E.target.value}),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",min:g.data}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe em branco para recorrncia indefinida"})]})]})]})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsx("button",{onClick:S,disabled:a,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium flex items-center justify-center gap-2",children:a?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(hr,{className:"h-5 w-5"}),"Salvar Lanamento"]})})]})]})}):null},UTe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState({totalReceitas:0,totalDespesas:0,saldo:0,contasReceber:0,contasPagar:0,receitasMes:0,despesasMes:0,valorEstoque:0}),[a,i]=O.useState(!0),[o,l]=O.useState("all"),[c,d]=O.useState("all"),[u,h]=O.useState(""),[f,p]=O.useState("all"),[v,y]=O.useState(""),[g,x]=O.useState(""),[w,_]=O.useState(""),[k,C]=O.useState(""),[B,I]=O.useState("data"),[S,E]=O.useState("desc"),[D,N]=O.useState(1),[T,Q]=O.useState([]),U=15,[K,z]=O.useState(!1),[ee,G]=O.useState(void 0);O.useEffect(()=>{re(),q()},[]),O.useEffect(()=>{re()},[B,S]);const q=async()=>{try{const{data:xe,error:we}=await pe.from("financial_categories").select("*").eq("active",!0).order("name");if(we)throw we;Q(xe||[])}catch(xe){console.error("Error loading categories:",xe)}},re=async(xe=!1)=>{try{i(!0);const{data:we,error:Ie}=await pe.from("finance_entries").select("*").order(B,{ascending:S==="asc"});if(Ie)throw Ie;console.log("Loaded finance entries:",we?.length),e(we||[]),await $(we||[])}catch(we){console.error("Error loading financial data:",we)}finally{i(!1)}},Z=async(xe,we)=>{if(confirm(`Tem certeza que deseja excluir o lanamento "${we}"?

Esta ao  irreversvel e ter efeito cascata em registros relacionados.`))try{const{error:Ie}=await pe.from("finance_entries").delete().eq("id",xe);if(Ie)throw Ie;alert("Lanamento excludo com sucesso!"),await re()}catch(Ie){console.error("Error deleting entry:",Ie),alert("Erro ao excluir lanamento. Verifique se no h registros relacionados.")}},$=async xe=>{const we=xe.filter(Oe=>Oe.tipo==="receita"&&Oe.status==="recebido").reduce((Oe,ve)=>Oe+Number(ve.valor),0),Ie=xe.filter(Oe=>Oe.tipo==="despesa"&&Oe.status==="pago").reduce((Oe,ve)=>Oe+Number(ve.valor),0),lt=xe.filter(Oe=>Oe.tipo==="receita"&&Oe.status==="a_receber").reduce((Oe,ve)=>Oe+Number(ve.valor),0),Le=xe.filter(Oe=>Oe.tipo==="despesa"&&Oe.status==="a_pagar").reduce((Oe,ve)=>Oe+Number(ve.valor),0),J=new Date,Qe=J.getMonth(),je=J.getFullYear(),ie=xe.filter(Oe=>{const ve=new Date(Oe.data);return Oe.tipo==="receita"&&Oe.status==="recebido"&&ve.getMonth()===Qe&&ve.getFullYear()===je}).reduce((Oe,ve)=>Oe+Number(ve.valor),0),Se=xe.filter(Oe=>{const ve=new Date(Oe.data);return Oe.tipo==="despesa"&&Oe.status==="pago"&&ve.getMonth()===Qe&&ve.getFullYear()===je}).reduce((Oe,ve)=>Oe+Number(ve.valor),0);let We=0;try{const{data:Oe,error:ve}=await pe.from("inventory_items").select("quantity, unit_price").eq("active",!0);!ve&&Oe&&(We=Oe.reduce((st,Ne)=>st+Number(Ne.quantity||0)*Number(Ne.unit_price||0),0))}catch(Oe){console.error("Error calculating inventory value:",Oe)}s({totalReceitas:we,totalDespesas:Ie,saldo:we-Ie,contasReceber:lt,contasPagar:Le,receitasMes:ie,despesasMes:Se,valorEstoque:We})},L=xe=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(xe),Y=xe=>{const we=new Date(xe),Ie=new Date,lt=we.getTime()-Ie.getTime(),Le=Math.ceil(lt/(1e3*60*60*24));return Le===0?"Hoje":Le===1?"Amanh":Le===-1?"Ontem":Le>0?`${Le} dias`:Le<0?`${Math.abs(Le)} dias atrs`:we.toLocaleDateString("pt-BR")},X=xe=>{switch(xe){case"recebido":case"pago":return n.jsx(ys,{className:"h-4 w-4 text-green-600"});case"a_receber":case"a_pagar":return n.jsx(Wt,{className:"h-4 w-4 text-yellow-600"});default:return n.jsx(Gn,{className:"h-4 w-4 text-gray-400"})}},Ae=xe=>({recebido:"Recebido",pago:"Pago",a_receber:"A Receber",a_pagar:"A Pagar"})[xe]||xe,fe=xe=>xe==="receita"?"Income":"Expense",de=t.filter(xe=>{const we=o==="all"||xe.tipo===o,Ie=c==="all"||xe.status===c,lt=!u||xe.descricao?.toLowerCase().includes(u.toLowerCase()),Le=f==="all"||xe.categoria===f||xe.category===f,J=new Date(xe.data),Qe=!v||J.getMonth()+1===parseInt(v),je=!g||J.getFullYear()===parseInt(g),ie=(!w||xe.data>=w)&&(!k||xe.data<=k);return we&&Ie&&lt&&Le&&Qe&&je&&ie}),me=Math.ceil(de.length/U),Ce=de.slice((D-1)*U,D*U);return a?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Carregando dados financeiros..."})]})}):n.jsxs("div",{className:"p-4 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(gr,{className:"h-8 w-8 text-green-600"}),"Gesto Financeira"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Receitas, despesas e DRE"})]}),n.jsx("div",{className:"flex gap-2",children:n.jsxs(Cl,{to:"/financial-integration",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Ver Dashboard Financeiro"]})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(qr,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Receitas"})]}),n.jsx("div",{className:"text-3xl font-bold",children:L(r.totalReceitas)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[L(r.receitasMes)," este ms"]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(cc,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Despesas"})]}),n.jsx("div",{className:"text-3xl font-bold",children:L(r.totalDespesas)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[L(r.despesasMes)," este ms"]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(gr,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Saldo"})]}),n.jsx("div",{className:"text-3xl font-bold",children:L(r.saldo)}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Resultado lquido"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(Wt,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Pendncias"})]}),n.jsx("div",{className:"text-3xl font-bold",children:L(r.contasReceber+r.contasPagar)}),n.jsxs("div",{className:"text-sm opacity-90 mt-1",children:[" ",L(r.contasReceber)," |  ",L(r.contasPagar)]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx(qt,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium opacity-90",children:"Estoque"})]}),n.jsx("div",{className:"text-3xl font-bold",children:L(r.valorEstoque)}),n.jsx("div",{className:"text-sm opacity-90 mt-1",children:"Valor total em materiais"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(sf,{className:"h-5 w-5"}),"Filtros Avanados"]}),n.jsx("button",{onClick:()=>{l("all"),d("all"),h(""),p("all"),y(""),x(""),_(""),C(""),I("data"),E("desc"),N(1)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Limpar Filtros"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Buscar por nome...",value:u,onChange:xe=>{h(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsxs("select",{value:o,onChange:xe=>{l(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os tipos"}),n.jsx("option",{value:"receita",children:"Receitas"}),n.jsx("option",{value:"despesa",children:"Despesas"})]}),n.jsxs("select",{value:c,onChange:xe=>{d(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os status"}),n.jsx("option",{value:"recebido",children:"Recebido"}),n.jsx("option",{value:"pago",children:"Pago"}),n.jsx("option",{value:"a_receber",children:"A Receber"}),n.jsx("option",{value:"a_pagar",children:"A Pagar"})]}),n.jsxs("select",{value:f,onChange:xe=>{p(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todas as categorias"}),T.map(xe=>n.jsx("option",{value:xe.id,children:xe.name},xe.id))]}),n.jsxs("select",{value:v,onChange:xe=>{y(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos os meses"}),n.jsx("option",{value:"1",children:"Janeiro"}),n.jsx("option",{value:"2",children:"Fevereiro"}),n.jsx("option",{value:"3",children:"Maro"}),n.jsx("option",{value:"4",children:"Abril"}),n.jsx("option",{value:"5",children:"Maio"}),n.jsx("option",{value:"6",children:"Junho"}),n.jsx("option",{value:"7",children:"Julho"}),n.jsx("option",{value:"8",children:"Agosto"}),n.jsx("option",{value:"9",children:"Setembro"}),n.jsx("option",{value:"10",children:"Outubro"}),n.jsx("option",{value:"11",children:"Novembro"}),n.jsx("option",{value:"12",children:"Dezembro"})]}),n.jsxs("select",{value:g,onChange:xe=>{x(xe.target.value),N(1)},className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Todos os anos"}),[2024,2025,2026].map(xe=>n.jsx("option",{value:xe,children:xe},xe))]}),n.jsx("input",{type:"date",value:w,onChange:xe=>{_(xe.target.value),N(1)},placeholder:"Data incio",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("input",{type:"date",value:k,onChange:xe=>{C(xe.target.value),N(1)},placeholder:"Data fim",className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ordenar por:"}),n.jsxs("select",{value:B,onChange:xe=>I(xe.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",children:[n.jsx("option",{value:"data",children:"Data"}),n.jsx("option",{value:"valor",children:"Valor"}),n.jsx("option",{value:"created_at",children:"Data de Criao"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>E("asc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S==="asc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Crescente"}),n.jsx("button",{onClick:()=>E("desc"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${S==="desc"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:" Decrescente"})]})]})}),n.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Mostrando ",Ce.length," de ",de.length," lanamentos"]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Lanamentos"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Exportar"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>re(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",title:"Atualizar dados",children:[n.jsx(di,{className:"h-4 w-4"}),"Atualizar"]}),n.jsxs("button",{onClick:()=>{G(void 0),z(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Novo Lanamento"]})]})]})]}),n.jsx("div",{className:"space-y-2",children:Ce.map(xe=>n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group",children:n.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n.jsx("div",{className:`p-3 rounded-lg ${xe.tipo==="receita"?"bg-green-100":"bg-red-100"}`,children:n.jsx(Et,{className:`h-5 w-5 ${xe.tipo==="receita"?"text-green-600":"text-red-600"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 truncate",children:xe.descricao}),n.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${xe.tipo==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:fe(xe.tipo)})]}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[X(xe.status),n.jsx("span",{className:"text-sm text-gray-600",children:Ae(xe.status)})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:`text-lg font-bold ${xe.tipo==="receita"?"text-green-600":"text-red-600"}`,children:[xe.tipo==="receita"?"+":"-"," ",L(Number(xe.valor))]}),n.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1 justify-end",children:[n.jsx(vr,{className:"h-3 w-3"}),Y(xe.data)]})]}),n.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx("button",{onClick:()=>{G(xe.id),z(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Editar lanamento",children:n.jsx(hn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>Z(xe.id,xe.descricao),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir lanamento",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]})]})},xe.id))}),de.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum lanamento encontrado"})]}),de.length>U&&n.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Pgina ",D," de ",me]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>N(Math.max(1,D-1)),disabled:D===1,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Anterior"}),n.jsx("div",{className:"flex gap-1",children:Array.from({length:me},(xe,we)=>we+1).filter(xe=>xe===1||xe===me||xe>=D-1&&xe<=D+1).map((xe,we,Ie)=>n.jsxs("div",{className:"flex items-center",children:[we>0&&Ie[we-1]!==xe-1&&n.jsx("span",{className:"px-2 text-gray-400",children:"..."}),n.jsx("button",{onClick:()=>N(xe),className:`px-3 py-2 rounded-lg ${D===xe?"bg-blue-600 text-white":"border hover:bg-gray-50"}`,children:xe})]},xe))}),n.jsx("button",{onClick:()=>N(Math.min(me,D+1)),disabled:D===me,className:"px-4 py-2 border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Prxima"})]})]})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Wt,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"ltima Sincronizao"}),n.jsx("p",{className:"text-xs text-blue-700",children:"Agora"})]})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:"Plano Atual: Premium"})})]}),n.jsx(LTe,{isOpen:K,onClose:()=>{z(!1),G(void 0)},onSave:()=>{re(),z(!1),G(void 0)},entryId:ee})]})};cf.register(P1,F1,_1,df,sk,nk,E1,k1,B1,S1);const RTe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(null),[a,i]=O.useState(null),[o,l]=O.useState(""),[c,d]=O.useState(""),[u,h]=O.useState([]),[f,p]=O.useState(!1),[v,y]=O.useState({ebitda:0,ebitda_margin:0,gross_margin:0,operating_margin:0,net_margin:0,working_capital:0,current_ratio:0,roi:0,operating_cash_flow:0,net_cash_flow:0}),[g,x]=O.useState(null),[w,_]=O.useState(null),[k,C]=O.useState({total_revenue:0,total_expenses:0,net_result:0,cash_inflow:0,cash_outflow:0,net_cash_flow:0,accounts_receivable:0,accounts_payable:0}),[B,I]=O.useState([]),[S,E]=O.useState(!0),[D,N]=O.useState(!1);O.useEffect(()=>{T(),K()},[]),O.useEffect(()=>{o&&c&&Q()},[o,c]),O.useEffect(()=>{f&&a&&U()},[f,a]),O.useEffect(()=>{r&&z()},[r]);const T=async()=>{try{const{data:de,error:me}=await pe.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!1});if(me)throw me;if(e(de||[]),de&&de.length>0){const Ce=[...new Set(de.map(Le=>Le.fiscal_year))].sort((Le,J)=>J-Le);h(Ce);const xe=new Date,we=xe.getFullYear(),Ie=(xe.getMonth()+1).toString().padStart(2,"0");d(we.toString()),l(Ie);const lt=de.find(Le=>Le.fiscal_year===we&&Le.start_date.startsWith(`${we}-${Ie}`));s(lt||de[0])}}catch(de){console.error("Error loading periods:",de)}finally{E(!1)}},Q=()=>{if(!o||!c)return;const de=t.find(me=>me.fiscal_year===parseInt(c)&&me.start_date.startsWith(`${c}-${o}`));de&&s(de)},U=async()=>{if(a)try{const[de,me,Ce,xe,we]=await Promise.all([pe.rpc("calculate_ebitda",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),pe.rpc("calculate_roi",{p_period_id:a.id,p_start_date:a.start_date,p_end_date:a.end_date}),pe.from("v_consolidated_financial_summary").select("*").eq("period_id",a.id).maybeSingle(),pe.from("v_margin_analysis").select("*").eq("period_id",a.id).maybeSingle(),pe.rpc("calculate_working_capital_consolidated",{p_period_id:a.id})]);x({ebitda:de.data?.[0]?.ebitda||0,ebitda_margin:de.data?.[0]?.ebitda_margin||0,gross_margin:xe.data?.gross_margin_percent||0,operating_margin:xe.data?.operating_margin_percent||0,net_margin:0,working_capital:we.data?.[0]?.working_capital||0,current_ratio:we.data?.[0]?.current_ratio||0,roi:me.data?.[0]?.roi_percent||0,operating_cash_flow:Ce.data?.net_cash_flow||0,net_cash_flow:Ce.data?.net_cash_flow||0}),_({total_revenue:Ce.data?.total_revenue||0,total_expenses:Ce.data?.total_expenses||0,net_result:(Ce.data?.total_revenue||0)-(Ce.data?.total_expenses||0),cash_inflow:Ce.data?.total_revenue||0,cash_outflow:Ce.data?.total_expenses||0,net_cash_flow:Ce.data?.net_cash_flow||0,accounts_receivable:Ce.data?.accounts_receivable||0,accounts_payable:Ce.data?.accounts_payable||0})}catch(de){console.error("Error calculating comparison indicators:",de)}},K=async()=>{try{const{data:de,error:me}=await pe.from("financial_periods").select("*").eq("period_type","monthly").order("start_date",{ascending:!0}).limit(12);if(me)throw me;const Ce=await Promise.all((de||[]).map(async xe=>{const{data:we}=await pe.from("v_consolidated_financial_summary").select("*").eq("period_id",xe.id).maybeSingle();return{...xe,...we}}));I(Ce)}catch(de){console.error("Error loading monthly data:",de)}},z=async()=>{if(r)try{N(!0);const[de,me,Ce,xe,we]=await Promise.all([pe.rpc("calculate_ebitda",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),pe.rpc("calculate_roi",{p_period_id:r.id,p_start_date:r.start_date,p_end_date:r.end_date}),pe.from("v_consolidated_financial_summary").select("*").eq("period_id",r.id).maybeSingle(),pe.from("v_margin_analysis").select("*").eq("period_id",r.id).maybeSingle(),pe.rpc("calculate_working_capital_consolidated",{p_period_id:r.id})]);y({ebitda:de.data?.[0]?.ebitda||0,ebitda_margin:de.data?.[0]?.ebitda_margin||0,gross_margin:xe.data?.gross_margin_percent||0,operating_margin:xe.data?.operating_margin_percent||0,net_margin:0,working_capital:we.data?.[0]?.working_capital||0,current_ratio:we.data?.[0]?.current_ratio||0,roi:me.data?.[0]?.roi_percent||0,operating_cash_flow:Ce.data?.net_cash_flow||0,net_cash_flow:Ce.data?.net_cash_flow||0}),C({total_revenue:Ce.data?.total_revenue||0,total_expenses:Ce.data?.total_expenses||0,net_result:Ce.data?.net_result||0,cash_inflow:Ce.data?.cash_inflow||0,cash_outflow:Ce.data?.cash_outflow||0,net_cash_flow:Ce.data?.net_cash_flow||0,accounts_receivable:Ce.data?.accounts_receivable||0,accounts_payable:Ce.data?.accounts_payable||0})}catch(de){console.error("Error calculating indicators:",de)}finally{N(!1)}},ee=de=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0,maximumFractionDigits:0}).format(de),G=de=>`${de.toFixed(1)}%`,q=de=>de>0?n.jsx(Mm,{className:"h-4 w-4 text-green-600"}):de<0?n.jsx(Jw,{className:"h-4 w-4 text-red-600"}):n.jsx(O0,{className:"h-4 w-4 text-gray-400"}),re=(de,me)=>me==="margin"||me==="ratio"?de>=20?"text-green-600":de>=10?"text-blue-600":de>=0?"text-yellow-600":"text-red-600":de>=0?"text-green-600":"text-red-600",Z={labels:B.map(de=>de.period_name?.split("/")[0]||""),datasets:[{label:"Receitas",data:B.map(de=>de.total_revenue||0),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!0,tension:.4},{label:"Despesas",data:B.map(de=>de.total_expenses||0),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4}]},$={labels:B.map(de=>de.period_name?.split("/")[0]||""),datasets:[{label:"Resultado Lquido",data:B.map(de=>de.net_result||0),backgroundColor:B.map(de=>(de.net_result||0)>=0?"rgba(34, 197, 94, 0.8)":"rgba(239, 68, 68, 0.8)"),borderColor:B.map(de=>(de.net_result||0)>=0?"rgb(34, 197, 94)":"rgb(239, 68, 68)"),borderWidth:2}]},L={labels:B.map(de=>de.period_name?.split("/")[0]||""),datasets:[{label:"Entradas",data:B.map(de=>de.cash_inflow||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:2},{label:"Sadas",data:B.map(de=>de.cash_outflow||0),backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgb(168, 85, 247)",borderWidth:2}]},Y={labels:["Receitas","Despesas"],datasets:[{data:[k.total_revenue,k.total_expenses],backgroundColor:["rgba(34, 197, 94, 0.8)","rgba(239, 68, 68, 0.8)"],borderColor:["rgb(34, 197, 94)","rgb(239, 68, 68)"],borderWidth:2}]},X={labels:["A Receber","A Pagar"],datasets:[{data:[k.accounts_receivable,k.accounts_payable],backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgb(59, 130, 246)","rgb(251, 146, 60)"],borderWidth:2}]},Ae={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{font:{size:12}}},tooltip:{callbacks:{label:de=>{let me=de.dataset.label||"";return me&&(me+=": "),me+=ee(de.parsed.y||de.parsed),me}}}},scales:{y:{beginAtZero:!0,ticks:{callback:de=>ee(de)}}}},fe=({title:de,value:me,icon:Ce,type:xe="currency",description:we})=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-white to-gray-50 rounded-xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-50 rounded-xl",children:n.jsx(Ce,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:de}),we&&n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:we})]})]}),q(me)]}),n.jsxs("div",{className:`text-3xl font-bold ${re(me,xe==="percent"?"margin":xe)}`,children:[xe==="currency"&&ee(me),xe==="percent"&&G(me),xe==="ratio"&&me.toFixed(2)]})]});return S?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:n.jsxs("div",{className:"text-center",children:[n.jsx(di,{className:"h-12 w-12 animate-spin text-blue-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Carregando anlise financeira..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-4xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(Dm,{className:"h-10 w-10 text-blue-600"}),"Anlise Financeira Avanada"]}),n.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"Dados consolidados: Ordens de Servio, Estoque, Compras, Folha, Equipamentos e Lanamentos"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(Cl,{to:"/financial",className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2",children:[n.jsx(EA,{className:"h-4 w-4"}),"Dashboard Integrado"]}),n.jsxs("button",{onClick:z,disabled:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[n.jsx(di,{className:`h-4 w-4 ${D?"animate-spin":""}`}),"Recalcular"]}),n.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[n.jsx(Ts,{className:"h-4 w-4"}),"Exportar"]})]})]}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(vr,{className:"h-6 w-6 text-blue-600"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Seleo de Perodo"})]}),n.jsx("button",{onClick:()=>p(!f),className:`px-4 py-2 rounded-lg font-medium transition-colors ${f?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:f?"Modo Comparao Ativo":"Ativar Comparao"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Perodo Principal"}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ms"}),n.jsxs("select",{value:o,onChange:de=>l(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"01",children:"Janeiro"}),n.jsx("option",{value:"02",children:"Fevereiro"}),n.jsx("option",{value:"03",children:"Maro"}),n.jsx("option",{value:"04",children:"Abril"}),n.jsx("option",{value:"05",children:"Maio"}),n.jsx("option",{value:"06",children:"Junho"}),n.jsx("option",{value:"07",children:"Julho"}),n.jsx("option",{value:"08",children:"Agosto"}),n.jsx("option",{value:"09",children:"Setembro"}),n.jsx("option",{value:"10",children:"Outubro"}),n.jsx("option",{value:"11",children:"Novembro"}),n.jsx("option",{value:"12",children:"Dezembro"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Ano"}),n.jsx("select",{value:c,onChange:de=>d(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:u.map(de=>n.jsx("option",{value:de,children:de},de))})]})]}),r&&n.jsxs("div",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:["Analisando: ",n.jsx("span",{className:"font-semibold text-blue-700",children:r.period_name})]})]}),f&&n.jsxs("div",{className:"space-y-4 border-l-2 border-blue-200 pl-6",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Comparar Com"}),n.jsxs("select",{value:a?.id||"",onChange:de=>{const me=t.find(Ce=>Ce.id===de.target.value);i(me||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"",children:"Selecione um perodo"}),t.filter(de=>de.id!==r?.id).map(de=>n.jsx("option",{value:de.id,children:de.period_name},de.id))]}),a&&n.jsxs("div",{className:"text-sm text-gray-600 bg-green-50 p-3 rounded-lg",children:["Comparando com: ",n.jsx("span",{className:"font-semibold text-green-700",children:a.period_name})]})]})]})]})}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(qr,{className:"h-6 w-6 text-green-600"}),"Indicadores de Rentabilidade"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(fe,{title:"EBITDA",value:v.ebitda,icon:Ed,type:"currency",description:"Lucro operacional"}),n.jsx(fe,{title:"Margem EBITDA",value:v.ebitda_margin,icon:qr,type:"percent",description:"% sobre receita"}),n.jsx(fe,{title:"Margem Bruta",value:v.gross_margin,icon:Zv,type:"percent",description:"Receita - Custos"}),n.jsx(fe,{title:"Margem Operacional",value:v.operating_margin,icon:EA,type:"percent",description:"Eficincia operacional"})]})]}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[n.jsx(gr,{className:"h-6 w-6 text-blue-600"}),"Capital de Giro e Performance"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(fe,{title:"Capital de Giro",value:v.working_capital,icon:Dm,type:"currency",description:"Recursos para operao"}),n.jsx(fe,{title:"Liquidez Corrente",value:v.current_ratio,icon:qr,type:"ratio",description:"Capacidade de pagamento"}),n.jsx(fe,{title:"ROI",value:v.roi,icon:r1,type:"percent",description:"Retorno do investimento"}),n.jsx(fe,{title:"Fluxo de Caixa",value:v.net_cash_flow,icon:gr,type:"currency",description:"Variao do caixa"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(PH,{className:"h-5 w-5 text-blue-600"}),"Evoluo de Receitas e Despesas"]}),n.jsx("div",{className:"h-80",children:n.jsx(J0,{data:Z,options:Ae})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(EA,{className:"h-5 w-5 text-green-600"}),"Resultado Lquido Mensal"]}),n.jsx("div",{className:"h-80",children:n.jsx(Gm,{data:$,options:Ae})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(EA,{className:"h-5 w-5 text-purple-600"}),"Fluxo de Caixa (Entradas vs Sadas)"]}),n.jsx("div",{className:"h-80",children:n.jsx(Gm,{data:L,options:Ae})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Zv,{className:"h-5 w-5 text-orange-600"}),"Distribuio do Perodo"]}),n.jsx("div",{className:"h-80 flex items-center justify-center",children:n.jsx(Jz,{data:Y,options:{...Ae,scales:void 0}})})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(Zv,{className:"h-6 w-6 text-indigo-600"}),"Contas a Receber vs A Pagar"]}),n.jsx("div",{className:"h-96 flex items-center justify-center",children:n.jsx(Ab,{data:X,options:{...Ae,scales:void 0}})})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 border-2 border-blue-200",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"p-4 bg-blue-100 rounded-xl",children:n.jsx(Dm,{className:"h-8 w-8 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-4",children:"Sobre os Indicadores Financeiros"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-blue-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:" EBITDA"}),n.jsx("p",{children:"Mede o desempenho operacional antes de custos financeiros e contbeis"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:" Margens"}),n.jsx("p",{children:"Indicam a eficincia na converso de receita em lucro"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:" Capital de Giro"}),n.jsx("p",{children:"Recursos disponveis para as operaes do dia a dia"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-2",children:" ROI"}),n.jsx("p",{children:"Eficincia dos investimentos realizados pela empresa"})]})]})]})]})})]})})},QTe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(!0),[o,l]=O.useState(!1),[c,d]=O.useState(null),[u,h]=O.useState({account_name:"",bank_name:"",account_number:"",balance:0,active:!0});O.useEffect(()=>{f()},[]);const f=async()=>{try{s(!0);const{data:C,error:B}=await pe.from("bank_accounts").select("*").order("created_at",{ascending:!1});if(B)throw B;e(C||[])}catch(C){console.error("Error loading accounts:",C)}finally{s(!1)}},p=async()=>{try{if(!u.account_name||!u.bank_name||!u.account_number){alert("Preencha todos os campos obrigatrios");return}if(c){const{error:C}=await pe.from("bank_accounts").update(u).eq("id",c.id);if(C)throw C}else{const{error:C}=await pe.from("bank_accounts").insert([u]);if(C)throw C}alert(c?"Conta atualizada!":"Conta criada!"),w(),await f()}catch(C){console.error("Error saving account:",C),alert("Erro ao salvar conta")}},v=async(C,B)=>{if(confirm(`Excluir a conta "${B}"?

Esta ao  irreversvel!`))try{const{error:I}=await pe.from("bank_accounts").delete().eq("id",C);if(I)throw I;alert("Conta excluda!"),await f()}catch(I){console.error("Error deleting account:",I),alert("Erro ao excluir conta")}},y=async(C,B)=>{try{const{error:I}=await pe.from("bank_accounts").update({active:!B}).eq("id",C);if(I)throw I;alert(B?"Conta congelada!":"Conta ativada!"),await f()}catch(I){console.error("Error freezing account:",I),alert("Erro ao alterar status da conta")}},g=async C=>{try{const{error:B}=await pe.from("bank_accounts").update({is_default:!0}).eq("id",C);if(B)throw B;alert("Conta definida como padro!"),await f()}catch(B){console.error("Error setting default account:",B),alert("Erro ao definir conta padro")}},x=C=>{d(C),h({account_name:C.account_name,bank_name:C.bank_name,account_number:C.account_number,balance:C.balance,active:C.active}),l(!0)},w=()=>{l(!1),d(null),h({account_name:"",bank_name:"",account_number:"",balance:0,active:!0})},_=C=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C):"R$ ",k=t.filter(C=>C.active).reduce((C,B)=>C+Number(B.balance),0);return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 pt-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(hn,{className:"h-8 w-8 text-blue-600"}),"Contas Bancrias"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerenciar contas e saldos"})]}),n.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Nova Conta"]})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-8 text-white shadow-lg mx-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm",children:"Saldo Total"}),n.jsx("h2",{className:"text-4xl font-bold mt-2",children:_(k)})]}),n.jsx("button",{onClick:()=>i(!a),className:"p-3 bg-white/20 rounded-lg hover:bg-white/30 transition-colors",children:a?n.jsx(da,{className:"h-6 w-6"}):n.jsx(vE,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[n.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-1",children:[n.jsx(qr,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Este ms"})]}),n.jsx("p",{className:"text-xl font-semibold",children:"+R$ 12.450,00"})]}),n.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-red-300 mb-1",children:[n.jsx(cc,{className:"h-4 w-4"}),n.jsx("span",{className:"text-sm",children:"Sadas"})]}),n.jsx("p",{className:"text-xl font-semibold",children:"-R$ 8.320,00"})]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 px-6 pb-6",children:t.map((C,B)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100 hover:shadow-md transition-all",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`p-3 rounded-lg ${C.active?"bg-blue-100":"bg-gray-100"}`,children:n.jsx(md,{className:`h-6 w-6 ${C.active?"text-blue-600":"text-gray-400"}`})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:C.account_name}),C.is_default&&n.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs font-medium rounded-full flex items-center gap-1",children:" Padro"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:C.bank_name}),!C.active&&n.jsxs("span",{className:"text-xs text-red-600 flex items-center gap-1 mt-1",children:[n.jsx(ZF,{className:"h-3 w-3"}),"Congelada"]})]})]})}),n.jsxs("div",{className:"mb-4",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Conta"}),n.jsx("p",{className:"font-mono text-gray-900",children:C.account_number})]}),n.jsxs("div",{className:"pt-4 border-t border-gray-100",children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Saldo Atual"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:_(Number(C.balance))})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>x(C),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[n.jsx(hn,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>y(C.id,C.active),className:`flex-1 px-3 py-2 rounded-lg transition-colors text-sm font-medium flex items-center justify-center gap-1 ${C.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:C.active?"Congelar conta":"Ativar conta",children:C.active?n.jsxs(n.Fragment,{children:[n.jsx(ZF,{className:"h-4 w-4"})," Congelar"]}):n.jsxs(n.Fragment,{children:[n.jsx(rn,{className:"h-4 w-4"})," Ativar"]})}),n.jsx("button",{onClick:()=>v(C.id,C.account_name),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm font-medium",title:"Excluir conta",children:n.jsx(Yt,{className:"h-4 w-4"})})]}),!C.is_default&&n.jsx("button",{onClick:()=>g(C.id),className:"w-full px-3 py-2 bg-gradient-to-r from-yellow-50 to-amber-50 text-yellow-700 rounded-lg hover:from-yellow-100 hover:to-amber-100 transition-all text-sm font-medium flex items-center justify-center gap-1 border border-yellow-200",children:" Definir como Padro"})]})]},C.id))}),t.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-gray-100 mx-6",children:[n.jsx(hn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma conta cadastrada"}),n.jsx("button",{onClick:()=>l(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar Primeira Conta"})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:c?"Editar Conta":"Nova Conta Bancria"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),n.jsx("input",{type:"text",value:u.account_name,onChange:C=>h({...u,account_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Conta Corrente Principal"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco *"}),n.jsx("input",{type:"text",value:u.bank_name,onChange:C=>h({...u,bank_name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da Conta *"}),n.jsx("input",{type:"text",value:u.account_number,onChange:C=>h({...u,account_number:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 12345-6"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Saldo Inicial (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:u.balance,onChange:C=>h({...u,balance:parseFloat(C.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:c?"Atualizar":"Criar Conta"}),n.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})]})},HTe=async()=>{const{data:t,error:e}=await pe.from("employees").select("*").eq("active",!0).order("name",{ascending:!0});if(e)throw e;return t||[]},$Te=async t=>{const{data:e,error:r}=await pe.from("employees").insert([t]).select().single();if(r)throw r;return e},qTe=async(t,e)=>{const{data:r,error:s}=await pe.from("employees").update(e).eq("id",t).select().single();if(s)throw s;return r},zTe=async t=>{const{error:e}=await pe.from("employees").update({active:!1}).eq("id",t);if(e)throw e},VTe=async()=>{const{data:t,error:e}=await pe.from("user_invitations").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]},KTe=async t=>{const{data:e,error:r}=await pe.from("user_invitations").insert([t]).select().single();if(r)throw r;return e},WTe=async t=>{const{error:e}=await pe.from("user_invitations").update({status:"cancelled"}).eq("id",t);if(e)throw e},GTe=async()=>{const{error:t}=await pe.rpc("expire_old_invitations");if(t)throw t},E7=[{value:"driver_license",label:"CNH - Carteira de Habilitao"},{value:"certificate",label:"Certificado / Diploma"},{value:"training",label:"Comprovante de Treinamento"},{value:"contract",label:"Contrato de Trabalho"},{value:"other",label:"Outro Documento"}],XTe=({documents:t,onDocumentAdd:e,onDocumentRemove:r})=>{const[s,a]=O.useState("driver_license"),[i,o]=O.useState(""),[l,c]=O.useState(!1),d=async h=>{const f=h.target.files?.[0];if(f){if(f.size>10*1024*1024){alert("Arquivo muito grande! Tamanho mximo: 10MB");return}c(!0);try{const p=new FileReader;p.onloadend=()=>{const v=p.result;e({document_type:s,file_name:f.name,file_url:v,file_size:f.size,notes:i||void 0}),o(""),h.target.value=""},p.readAsDataURL(f)}catch(p){console.error("Error uploading file:",p),alert("Erro ao fazer upload do arquivo")}finally{c(!1)}}},u=h=>{if(!h)return"0 KB";const f=h/1024;return f<1024?`${f.toFixed(1)} KB`:`${(f/1024).toFixed(1)} MB`};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"Upload de Documento"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),n.jsx("select",{value:s,onChange:h=>a(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:E7.map(h=>n.jsx("option",{value:h.value,children:h.label},h.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes (opcional)"}),n.jsx("input",{type:"text",value:i,onChange:h=>o(h.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Vlida at 2026, Curso concludo em 2023..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo (PDF, JPG, PNG - Mx. 10MB)"}),n.jsxs("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[n.jsx(r0,{className:"h-5 w-5 text-gray-400 mr-2"}),n.jsx("span",{className:"text-sm text-gray-600",children:l?"Enviando...":"Clique para selecionar arquivo"}),n.jsx("input",{type:"file",className:"hidden",accept:".pdf,.jpg,.jpeg,.png",onChange:d,disabled:l})]})]})]})]}),t.length>0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:"Documentos Anexados"}),n.jsx(vt,{children:t.map((h,f)=>n.jsxs(he.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"flex items-center justify-between p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(bE,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:h.file_name}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[n.jsx("span",{children:E7.find(p=>p.value===h.document_type)?.label}),n.jsx("span",{children:""}),n.jsx("span",{children:u(h.file_size)})]}),h.notes&&n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:h.notes})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("a",{href:h.file_url,download:h.file_name,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Download",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>h.id&&r(h.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remover",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]},h.id||f))})]})]})},k7=t=>t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"),T4=t=>t.replace(/\D/g,"").replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d)(\d{4})$/,"$1-$2"),YTe=t=>t.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{3})\d+?$/,"$1"),ld=t=>t.replace(/\D/g,""),JTe=t=>{const e=t.replace(/\D/g,"");if(e.length!==11||/^(\d)\1{10}$/.test(e))return!1;let r=0;for(let a=0;a<9;a++)r+=parseInt(e.charAt(a))*(10-a);let s=11-r%11;if(s>=10&&(s=0),s!==parseInt(e.charAt(9)))return!1;r=0;for(let a=0;a<10;a++)r+=parseInt(e.charAt(a))*(11-a);return s=11-r%11,s>=10&&(s=0),s===parseInt(e.charAt(10))},ZTe=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),eOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(""),[o,l]=O.useState(!1),[c,d]=O.useState(null),[u,h]=O.useState("personal"),[f,p]=O.useState([]),[v,y]=O.useState(!1),[g,x]=O.useState({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""});O.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const T=await HTe();e(T)}catch(T){console.error("Error loading employees:",T)}finally{s(!1)}},_=T=>{T?(d(T),x(T)):(d(null),x({name:"",email:"",phone:"",role:"",salary:0,active:!0,cpf:"",rg:"",birth_date:"",admission_date:"",department:"",address_street:"",address_number:"",address_complement:"",address_neighborhood:"",address_city:"",address_state:"",address_zip_code:"",bank_name:"",bank_agency:"",bank_account:"",bank_account_type:"checking",pix_key:"",driver_license_number:"",driver_license_category:"",driver_license_expiry:"",emergency_contact_name:"",emergency_contact_phone:""}),p([])),h("personal"),l(!0)},k=()=>{l(!1),d(null),p([])},C=async T=>{const Q=ld(T);if(Q.length===8){y(!0);try{const K=await(await fetch(`https://viacep.com.br/ws/${Q}/json/`)).json();K.erro||x(z=>({...z,address_street:K.logradouro||z.address_street,address_neighborhood:K.bairro||z.address_neighborhood,address_city:K.localidade||z.address_city,address_state:K.uf||z.address_state}))}catch(U){console.error("Error fetching CEP:",U)}finally{y(!1)}}},B=async T=>{if(T.preventDefault(),!g.name){alert("Por favor, preencha o nome do funcionrio");return}if(g.cpf&&!JTe(g.cpf)){alert("CPF invlido");return}if(g.email&&!ZTe(g.email)){alert("E-mail invlido");return}try{const Q={...g,cpf:g.cpf?ld(g.cpf):void 0,phone:g.phone?ld(g.phone):void 0,address_zip_code:g.address_zip_code?ld(g.address_zip_code):void 0,emergency_contact_phone:g.emergency_contact_phone?ld(g.emergency_contact_phone):void 0,birth_date:g.birth_date||null,admission_date:g.admission_date||null,driver_license_expiry:g.driver_license_expiry||null};c?.id?await qTe(c.id,Q):await $Te(Q),await w(),k()}catch(Q){console.error("Error saving employee:",Q),alert("Erro ao salvar funcionrio")}},I=async T=>{if(confirm("Tem certeza que deseja desativar este funcionrio?"))try{await zTe(T),await w()}catch(Q){console.error("Error deleting employee:",Q),alert("Erro ao desativar funcionrio")}},S=T=>{p(Q=>[...Q,{...T,id:Date.now().toString(),employee_id:c?.id||"temp"}])},E=T=>{p(Q=>Q.filter(U=>U.id!==T))},D=t.filter(T=>T.name.toLowerCase().includes(a.toLowerCase())||T.email?.toLowerCase().includes(a.toLowerCase())||T.role?.toLowerCase().includes(a.toLowerCase())||T.cpf?.includes(a)||T.department?.toLowerCase().includes(a.toLowerCase())),N=[{id:"personal",label:"Dados Pessoais",icon:Cn},{id:"address",label:"Endereo",icon:no},{id:"bank",label:"Dados Bancrios",icon:hn},{id:"license",label:"CNH",icon:kH},{id:"emergency",label:"Emergncia",icon:Un},{id:"documents",label:"Documentos",icon:Et}];return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(ir,{className:"h-8 w-8 text-blue-600"}),"Gerenciamento de Funcionrios"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie a equipe da sua empresa"})]}),n.jsxs("button",{onClick:()=>_(),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[n.jsx(zt,{className:"h-5 w-5"}),"Novo Funcionrio"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6 p-4",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar por nome, e-mail, CPF, departamento...",value:a,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),r?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando funcionrios..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.jsx(vt,{children:D.map(T=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:n.jsx(ir,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),T.role&&n.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[n.jsx(mre,{className:"h-3 w-3"}),n.jsx("span",{children:T.role})]}),T.department&&n.jsx("div",{className:"text-xs text-gray-500 mt-1",children:T.department})]})]}),n.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${T.active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.active?n.jsx(cae,{className:"h-3 w-3"}):n.jsx(fae,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[T.email&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(vs,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate",children:T.email})]}),T.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[n.jsx(ci,{className:"h-4 w-4"}),n.jsx("span",{children:T4(T.phone)})]}),T.cpf&&n.jsxs("div",{className:"text-xs text-gray-500",children:["CPF: ",k7(T.cpf)]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>_(T),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 flex items-center justify-center gap-2 transition-colors",children:[n.jsx(pse,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>T.id&&I(T.id),className:"px-3 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]},T.id))})}),n.jsx(vt,{children:o&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:c?"Editar Funcionrio":"Novo Funcionrio"}),n.jsx("button",{onClick:k,className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex border-b border-gray-200 overflow-x-auto",children:N.map(T=>{const Q=T.icon;return n.jsxs("button",{onClick:()=>h(T.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium whitespace-nowrap transition-colors ${u===T.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[n.jsx(Q,{className:"h-4 w-4"}),T.label]},T.id)})}),n.jsxs("form",{onSubmit:B,className:"flex-1 overflow-y-auto p-6",children:[u==="personal"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Pessoais"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo *"}),n.jsx("input",{type:"text",value:g.name,onChange:T=>x(Q=>({...Q,name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CPF"}),n.jsx("input",{type:"text",value:g.cpf?k7(g.cpf):"",onChange:T=>x(Q=>({...Q,cpf:ld(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"000.000.000-00",maxLength:14})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"RG"}),n.jsx("input",{type:"text",value:g.rg||"",onChange:T=>x(Q=>({...Q,rg:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),n.jsx("input",{type:"date",value:g.birth_date||"",onChange:T=>x(Q=>({...Q,birth_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Admisso"}),n.jsx("input",{type:"date",value:g.admission_date||"",onChange:T=>x(Q=>({...Q,admission_date:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),n.jsx("input",{type:"email",value:g.email||"",onChange:T=>x(Q=>({...Q,email:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:g.phone?T4(g.phone):"",onChange:T=>x(Q=>({...Q,phone:ld(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),n.jsx("input",{type:"text",value:g.role||"",onChange:T=>x(Q=>({...Q,role:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Tcnico, Supervisor..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:g.department||"",onChange:T=>x(Q=>({...Q,department:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Manuteno, Instalao..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salrio (R$)"}),n.jsx("input",{type:"number",value:g.salary||"",onChange:T=>x(Q=>({...Q,salary:parseFloat(T.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",step:"0.01",min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:g.active?"true":"false",onChange:T=>x(Q=>({...Q,active:T.target.value==="true"})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"true",children:"Ativo"}),n.jsx("option",{value:"false",children:"Inativo"})]})]})]})]}),u==="address"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Endereo Residencial"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:g.address_zip_code?YTe(g.address_zip_code):"",onChange:T=>{const Q=ld(T.target.value);x(U=>({...U,address_zip_code:Q})),Q.length===8&&C(Q)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000",maxLength:9}),v&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"})})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rua"}),n.jsx("input",{type:"text",value:g.address_street||"",onChange:T=>x(Q=>({...Q,address_street:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero"}),n.jsx("input",{type:"text",value:g.address_number||"",onChange:T=>x(Q=>({...Q,address_number:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complemento"}),n.jsx("input",{type:"text",value:g.address_complement||"",onChange:T=>x(Q=>({...Q,address_complement:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Apto, bloco, casa..."})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bairro"}),n.jsx("input",{type:"text",value:g.address_neighborhood||"",onChange:T=>x(Q=>({...Q,address_neighborhood:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),n.jsxs("select",{value:g.address_state||"",onChange:T=>x(Q=>({...Q,address_state:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"AC",children:"AC"}),n.jsx("option",{value:"AL",children:"AL"}),n.jsx("option",{value:"AP",children:"AP"}),n.jsx("option",{value:"AM",children:"AM"}),n.jsx("option",{value:"BA",children:"BA"}),n.jsx("option",{value:"CE",children:"CE"}),n.jsx("option",{value:"DF",children:"DF"}),n.jsx("option",{value:"ES",children:"ES"}),n.jsx("option",{value:"GO",children:"GO"}),n.jsx("option",{value:"MA",children:"MA"}),n.jsx("option",{value:"MT",children:"MT"}),n.jsx("option",{value:"MS",children:"MS"}),n.jsx("option",{value:"MG",children:"MG"}),n.jsx("option",{value:"PA",children:"PA"}),n.jsx("option",{value:"PB",children:"PB"}),n.jsx("option",{value:"PR",children:"PR"}),n.jsx("option",{value:"PE",children:"PE"}),n.jsx("option",{value:"PI",children:"PI"}),n.jsx("option",{value:"RJ",children:"RJ"}),n.jsx("option",{value:"RN",children:"RN"}),n.jsx("option",{value:"RS",children:"RS"}),n.jsx("option",{value:"RO",children:"RO"}),n.jsx("option",{value:"RR",children:"RR"}),n.jsx("option",{value:"SC",children:"SC"}),n.jsx("option",{value:"SP",children:"SP"}),n.jsx("option",{value:"SE",children:"SE"}),n.jsx("option",{value:"TO",children:"TO"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:g.address_city||"",onChange:T=>x(Q=>({...Q,address_city:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="bank"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informaes Bancrias"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banco"}),n.jsx("input",{type:"text",value:g.bank_name||"",onChange:T=>x(Q=>({...Q,bank_name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Banco do Brasil, Caixa Econmica..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Agncia"}),n.jsx("input",{type:"text",value:g.bank_agency||"",onChange:T=>x(Q=>({...Q,bank_agency:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta"}),n.jsx("input",{type:"text",value:g.bank_account||"",onChange:T=>x(Q=>({...Q,bank_account:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Conta"}),n.jsxs("select",{value:g.bank_account_type||"checking",onChange:T=>x(Q=>({...Q,bank_account_type:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"checking",children:"Conta Corrente"}),n.jsx("option",{value:"savings",children:"Conta Poupana"}),n.jsx("option",{value:"salary",children:"Conta Salrio"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chave PIX"}),n.jsx("input",{type:"text",value:g.pix_key||"",onChange:T=>x(Q=>({...Q,pix_key:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"CPF, e-mail, telefone ou chave aleatria"})]})]})]}),u==="license"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carteira de Habilitao (CNH)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero da CNH"}),n.jsx("input",{type:"text",value:g.driver_license_number||"",onChange:T=>x(Q=>({...Q,driver_license_number:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000000000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsxs("select",{value:g.driver_license_category||"",onChange:T=>x(Q=>({...Q,driver_license_category:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione"}),n.jsx("option",{value:"A",children:"A - Moto"}),n.jsx("option",{value:"B",children:"B - Carro"}),n.jsx("option",{value:"C",children:"C - Caminho"}),n.jsx("option",{value:"D",children:"D - nibus"}),n.jsx("option",{value:"E",children:"E - Carreta"}),n.jsx("option",{value:"AB",children:"AB - Moto e Carro"}),n.jsx("option",{value:"AC",children:"AC - Moto e Caminho"}),n.jsx("option",{value:"AD",children:"AD - Moto e nibus"}),n.jsx("option",{value:"AE",children:"AE - Moto e Carreta"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Validade"}),n.jsx("input",{type:"date",value:g.driver_license_expiry||"",onChange:T=>x(Q=>({...Q,driver_license_expiry:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),u==="emergency"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contato de Emergncia"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),n.jsx("input",{type:"text",value:g.emergency_contact_name||"",onChange:T=>x(Q=>({...Q,emergency_contact_name:T.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome completo"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone do Contato"}),n.jsx("input",{type:"text",value:g.emergency_contact_phone?T4(g.emergency_contact_phone):"",onChange:T=>x(Q=>({...Q,emergency_contact_phone:ld(T.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 00000-0000",maxLength:15})]})]}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mt-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Un,{className:"h-5 w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-yellow-900",children:"Informao Importante"}),n.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Este contato ser acionado em caso de emergncias envolvendo o funcionrio. Certifique-se de que os dados esto corretos e atualizados."})]})]})})]}),u==="documents"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Documentos Anexados"}),n.jsx(XTe,{employeeId:c?.id,documents:f,onDocumentAdd:S,onDocumentRemove:E})]})]}),n.jsxs("div",{className:"flex gap-3 p-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:k,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancelar"}),n.jsxs("button",{onClick:B,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2",children:[n.jsx(hr,{className:"h-4 w-4"}),"Salvar Funcionrio"]})]})]})})})]})})},tOe=()=>{const{user:t}=On(),[e,r]=O.useState([]),[s,a]=O.useState(!0),[i,o]=O.useState(!1),[l,c]=O.useState({email:"",role:"technician"});O.useEffect(()=>{d(),GTe()},[]);const d=async()=>{try{a(!0);const _=await VTe();r(_)}catch(_){console.error("Error loading invitations:",_)}finally{a(!1)}},u=async _=>{if(_.preventDefault(),!l.email){alert("Por favor, insira um email");return}try{await KTe({email:l.email,role:l.role,invited_by:t?.id}),await d(),o(!1),c({email:"",role:"technician"})}catch(k){console.error("Error creating invitation:",k),alert("Erro ao criar convite. Verifique se o email j no foi convidado.")}},h=async _=>{if(confirm("Tem certeza que deseja cancelar este convite?"))try{await WTe(_),await d()}catch(k){console.error("Error canceling invitation:",k),alert("Erro ao cancelar convite")}},f=_=>{const k=`${window.location.origin}/register?token=${_}`;navigator.clipboard.writeText(k),alert("Link copiado para a rea de transferncia!")},p=_=>{switch(_){case"pending":return n.jsx(Wt,{className:"h-5 w-5 text-yellow-600"});case"accepted":return n.jsx(ys,{className:"h-5 w-5 text-green-600"});case"expired":return n.jsx(ih,{className:"h-5 w-5 text-red-600"});case"cancelled":return n.jsx(Gn,{className:"h-5 w-5 text-gray-600"});default:return n.jsx(Wt,{className:"h-5 w-5 text-gray-600"})}},v=_=>{switch(_){case"pending":return"Pendente";case"accepted":return"Aceito";case"expired":return"Expirado";case"cancelled":return"Cancelado";default:return"Desconhecido"}},y=_=>{switch(_){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"expired":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},g=_=>{switch(_){case"admin":return"Administrador";case"technician":return"Tcnico";case"external":return"Externo";default:return"Usurio"}},x=_=>{switch(_){case"admin":return"bg-purple-100 text-purple-800";case"technician":return"bg-blue-100 text-blue-800";case"external":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},w=_=>_?new Date(_).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return n.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(vs,{className:"h-8 w-8 text-blue-600"}),"Convites de Usurios"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Convide novos usurios para acessar o sistema"})]}),n.jsxs("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors",children:[n.jsx(zt,{className:"h-5 w-5"}),"Novo Convite"]})]}),s?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("p",{className:"text-gray-600 mt-4",children:"Carregando convites..."})]}):n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Funo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expira em"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.jsx(vt,{children:e.map(_=>n.jsxs(he.tr,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vs,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.email})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x(_.role)}`,children:g(_.role)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[p(_.status),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y(_.status)}`,children:v(_.status)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w(_.created_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w(_.expires_at)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsx("div",{className:"flex items-center justify-end gap-2",children:_.status==="pending"&&_.token&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(_.token),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Copiar link do convite",children:n.jsx(Bd,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>h(_.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Cancelar convite",children:n.jsx(bt,{className:"h-4 w-4"})})]})})})]},_.id))})})]})}),e.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(vs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 text-lg",children:"Nenhum convite encontrado"}),n.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Crie convites para novos usurios"})]})]})]}),n.jsx(vt,{children:i&&n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>o(!1),children:n.jsxs(he.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:_=>_.stopPropagation(),className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Ti,{className:"h-6 w-6 text-blue-600"}),"Novo Convite"]}),n.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600",children:n.jsx(bt,{className:"h-6 w-6"})})]})}),n.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email do Usurio *"}),n.jsx("input",{type:"email",required:!0,value:l.email,onChange:_=>c({...l,email:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"usuario@exemplo.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funo no Sistema *"}),n.jsxs("select",{value:l.role,onChange:_=>c({...l,role:_.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"technician",children:"Tcnico"}),n.jsx("option",{value:"admin",children:"Administrador"}),n.jsx("option",{value:"external",children:"Externo"})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"O convite expira em 7 dias"})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 transition-colors",children:[n.jsx(Ti,{className:"h-4 w-4"}),"Enviar Convite"]})]})]})]})})})]})},rOe=()=>{const[t,e]=O.useState("users"),[r,s]=O.useState(!1),[a,i]=O.useState(!1),[o,l]=O.useState(null),[c,d]=O.useState(null),[u]=O.useState([{id:"view_dashboard",name:"Visualizar Dashboard",description:"Acesso ao painel principal",category:"Dashboard"},{id:"manage_orders",name:"Gerenciar OS",description:"Criar, editar e excluir ordens de servio",category:"Ordens de Servio"},{id:"view_orders",name:"Visualizar OS",description:"Apenas visualizar ordens de servio",category:"Ordens de Servio"},{id:"manage_clients",name:"Gerenciar Clientes",description:"Cadastrar e editar clientes",category:"Clientes"},{id:"view_clients",name:"Visualizar Clientes",description:"Apenas visualizar dados de clientes",category:"Clientes"},{id:"manage_inventory",name:"Gerenciar Estoque",description:"Controle total do estoque",category:"Estoque"},{id:"view_inventory",name:"Visualizar Estoque",description:"Consultar estoque sem alteraes",category:"Estoque"},{id:"manage_financial",name:"Gerenciar Financeiro",description:"Acesso total ao mdulo financeiro",category:"Financeiro"},{id:"view_financial",name:"Visualizar Financeiro",description:"Relatrios financeiros bsicos",category:"Financeiro"},{id:"view_bank_balances",name:"Visualizar Saldos Bancrios",description:"Ver saldos das contas bancrias",category:"Financeiro"},{id:"manage_users",name:"Gerenciar Usurios",description:"Administrar contas de usurio",category:"Administrao"},{id:"system_settings",name:"Configuraes do Sistema",description:"Alterar configuraes globais",category:"Administrao"}]),[h,f]=O.useState([{id:"admin",name:"Administrador",description:"Acesso total ao sistema",level:10,permissions:u.map(T=>T.id),color:"from-red-500 to-pink-500",isSystem:!0},{id:"manager",name:"Gerente",description:"Gesto de operaes e equipe",level:8,permissions:["view_dashboard","manage_orders","manage_clients","manage_inventory","view_financial","view_bank_balances"],color:"from-blue-500 to-cyan-500",isSystem:!0},{id:"technician",name:"Tcnico",description:"Execuo de servios em campo",level:5,permissions:["view_dashboard","view_orders","view_clients","view_inventory"],color:"from-green-500 to-emerald-500",isSystem:!0},{id:"external",name:"Funcionrio Externo",description:"Acesso limitado para terceirizados",level:3,permissions:["view_orders","view_clients"],color:"from-yellow-500 to-orange-500",isSystem:!1}]),[p,v]=O.useState([{id:1,name:"Joo Silva",email:"joao@giartech.com",role:"admin",status:"active",lastLogin:"2024-01-20T10:30:00",isExternal:!1,department:"TI",permissions:[]},{id:2,name:"Maria Santos",email:"maria@giartech.com",role:"manager",status:"active",lastLogin:"2024-01-20T09:15:00",isExternal:!1,department:"Operaes",permissions:[]},{id:3,name:"Carlos Tcnico",email:"carlos@terceirizada.com",role:"external",status:"active",lastLogin:"2024-01-19T16:45:00",isExternal:!0,permissions:["view_orders"]}]),[y,g]=O.useState({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),[x,w]=O.useState({name:"",description:"",level:1,permissions:[]}),_=T=>{switch(T){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},k=T=>{switch(T){case"active":return"Ativo";case"inactive":return"Inativo";case"pending":return"Pendente";default:return"Desconhecido"}},C=T=>h.find(Q=>Q.id===T)||h[0],B=()=>{if(y.name.trim()&&y.email.trim()&&y.role){const T={id:Date.now(),name:y.name,email:y.email,role:y.role,status:"pending",lastLogin:"",isExternal:y.isExternal,department:y.department||void 0,permissions:y.permissions};v([...p,T]),g({name:"",email:"",role:"",department:"",isExternal:!1,permissions:[]}),s(!1),alert("Usurio criado com sucesso!")}},I=()=>{if(x.name.trim()&&x.description.trim()){const T={id:Date.now().toString(),name:x.name,description:x.description,level:x.level,permissions:x.permissions,color:"from-gray-500 to-gray-600",isSystem:!1};f([...h,T]),w({name:"",description:"",level:1,permissions:[]}),i(!1),alert("Perfil criado com sucesso!")}},S=T=>{v(p.map(Q=>Q.id===T?{...Q,status:Q.status==="active"?"inactive":"active"}:Q))},E=T=>{if(h.find(U=>U.id===T)?.isSystem){alert("No  possvel excluir perfis do sistema");return}confirm("Tem certeza que deseja excluir este perfil?")&&f(h.filter(U=>U.id!==T))},D=u.reduce((T,Q)=>(T[Q.category]||(T[Q.category]=[]),T[Q.category].push(Q),T),{}),N={totalUsers:p.length,activeUsers:p.filter(T=>T.status==="active").length,externalUsers:p.filter(T=>T.isExternal).length,totalRoles:h.length};return n.jsxs("div",{className:"p-3 space-y-4",children:[n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-lg font-bold text-gray-900 mb-1",children:"Gesto de Acesso"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Controle de permisses e usurios"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsxs("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(MH,{className:"h-3 w-3"}),n.jsx("span",{children:"Usurio"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white px-3 py-1.5 rounded-lg flex items-center space-x-1 hover:shadow-lg transition-all text-xs",children:[n.jsx(zt,{className:"h-3 w-3"}),n.jsx("span",{children:"Perfil"})]})]})]})}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"Usurios",value:N.totalUsers,color:"from-blue-500 to-cyan-500",icon:ir},{label:"Ativos",value:N.activeUsers,color:"from-green-500 to-emerald-500",icon:rn},{label:"Externos",value:N.externalUsers,color:"from-yellow-500 to-orange-500",icon:UA},{label:"Perfis",value:N.totalRoles,color:"from-purple-500 to-pink-500",icon:_n}].map((T,Q)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},className:"bg-white rounded-xl p-3 shadow-md border border-gray-100",children:[n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("div",{className:`w-8 h-8 bg-gradient-to-r ${T.color} rounded-lg flex items-center justify-center`,children:n.jsx(T.icon,{className:"h-4 w-4 text-white"})})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:T.value}),n.jsx("p",{className:"text-xs text-gray-600",children:T.label})]},T.label))}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"users",label:"Usurios",icon:ir},{id:"roles",label:"Perfis",icon:_n},{id:"permissions",label:"Permisses",icon:Lm}].map(T=>n.jsxs("button",{onClick:()=>e(T.id),className:`flex-1 flex items-center justify-center space-x-1 py-3 px-2 transition-colors ${t===T.id?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,children:[n.jsx(T.icon,{className:"h-4 w-4"}),n.jsx("span",{className:"font-medium text-xs",children:T.label})]},T.id))}),n.jsxs("div",{className:"p-3",children:[t==="users"&&n.jsx("div",{className:"space-y-3",children:p.map((T,Q)=>{const U=C(T.role);return n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${T.isExternal?"bg-yellow-100":"bg-blue-100"}`,children:T.isExternal?n.jsx(UA,{className:"h-5 w-5 text-yellow-600"}):n.jsx(Cn,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:T.name}),n.jsx("p",{className:"text-xs text-gray-600",children:T.email})]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_(T.status)}`,children:k(T.status)}),T.isExternal&&n.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Ext"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3 text-xs",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Perfil:"}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("div",{className:`w-2 h-2 bg-gradient-to-r ${U.color} rounded-full`}),n.jsx("span",{className:"font-medium",children:U.name})]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Depto:"}),n.jsx("p",{className:"font-medium",children:T.department||"N/A"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"ltimo Acesso:"}),n.jsx("p",{className:"font-medium",children:T.lastLogin?new Date(T.lastLogin).toLocaleDateString("pt-BR"):"Nunca"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-gray-500",children:"Nvel:"}),n.jsxs("p",{className:"font-medium",children:["Nvel ",U.level]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>l(T),className:"bg-blue-500 text-white px-3 py-1.5 rounded-lg hover:bg-blue-600 transition-colors flex items-center space-x-1 text-xs",children:[n.jsx(ri,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>S(T.id),className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.status==="active"?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,children:[T.status==="active"?n.jsx(Fo,{className:"h-3 w-3"}):n.jsx(OH,{className:"h-3 w-3"}),n.jsx("span",{children:T.status==="active"?"Desativar":"Ativar"})]})]})]},T.id)})}),t==="roles"&&n.jsx("div",{className:"space-y-3",children:h.map((T,Q)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Q*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100 hover:shadow-lg transition-all duration-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${T.color} rounded-xl flex items-center justify-center`,children:T.isSystem?n.jsx(Ux,{className:"h-5 w-5 text-white"}):n.jsx(_n,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center",children:[T.name,T.isSystem&&n.jsx("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Sistema"})]}),n.jsx("p",{className:"text-xs text-gray-600",children:T.description})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-600",children:"Nvel"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:T.level})]})]}),n.jsxs("div",{className:"mb-3",children:[n.jsxs("h4",{className:"text-xs font-medium text-gray-700 mb-2",children:["Permisses (",T.permissions.length,")"]}),n.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.permissions.slice(0,3).map(U=>{const K=u.find(z=>z.id===U);return K?n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:K.name},U):null}),T.permissions.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",T.permissions.length-3]})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs("button",{onClick:()=>d(T),disabled:T.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[n.jsx(ri,{className:"h-3 w-3"}),n.jsx("span",{children:"Editar"})]}),n.jsxs("button",{onClick:()=>E(T.id),disabled:T.isSystem,className:`px-3 py-1.5 rounded-lg transition-colors flex items-center space-x-1 text-xs ${T.isSystem?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-red-500 text-white hover:bg-red-600"}`,children:[n.jsx(Yt,{className:"h-3 w-3"}),n.jsx("span",{children:"Excluir"})]})]})]},T.id))}),t==="permissions"&&n.jsx("div",{className:"space-y-4",children:Object.entries(D).map(([T,Q],U)=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:U*.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:T}),n.jsx("div",{className:"space-y-2",children:Q.map(K=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[n.jsx("h4",{className:"font-medium text-gray-900 text-xs mb-1",children:K.name}),n.jsx("p",{className:"text-xs text-gray-600",children:K.description}),n.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:K.id})]},K.id))})]},T))})]})]}),n.jsx(vt,{children:r&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-sm shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Usurio"}),n.jsx("button",{onClick:()=>s(!1),children:n.jsx(bt,{className:"h-5 w-5 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),n.jsx("input",{type:"text",value:y.name,onChange:T=>g({...y,name:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do usurio"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:y.email,onChange:T=>g({...y,email:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"email@exemplo.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perfil de Acesso"}),n.jsxs("select",{value:y.role,onChange:T=>g({...y,role:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione um perfil"}),h.map(T=>n.jsx("option",{value:T.id,children:T.name},T.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),n.jsx("input",{type:"text",value:y.department,onChange:T=>g({...y,department:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Departamento (opcional)"})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"checkbox",id:"isExternal",checked:y.isExternal,onChange:T=>g({...y,isExternal:T.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsx("label",{htmlFor:"isExternal",className:"text-sm text-gray-700",children:"Funcionrio Externo"})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-4",children:[n.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsxs("button",{onClick:B,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-lg hover:shadow-lg text-sm",children:[n.jsx(hr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})}),n.jsx(vt,{children:a&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>i(!1),className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),n.jsxs(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative bg-white rounded-xl p-4 w-full max-w-lg shadow-2xl max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Novo Perfil"}),n.jsx("button",{onClick:()=>i(!1),children:n.jsx(bt,{className:"h-5 w-5 text-gray-400"})})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Perfil"}),n.jsx("input",{type:"text",value:x.name,onChange:T=>w({...x,name:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do perfil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nvel de Acesso"}),n.jsx("input",{type:"number",min:"1",max:"10",value:x.level,onChange:T=>w({...x,level:parseInt(T.target.value)||1}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:x.description,onChange:T=>w({...x,description:T.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descrio do perfil"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Permisses"}),n.jsx("div",{className:"space-y-3",children:Object.entries(D).map(([T,Q])=>n.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[n.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:T}),n.jsx("div",{className:"space-y-1",children:Q.map(U=>n.jsxs("label",{className:"flex items-start space-x-2",children:[n.jsx("input",{type:"checkbox",checked:x.permissions.includes(U.id),onChange:K=>{K.target.checked?w({...x,permissions:[...x.permissions,U.id]}):w({...x,permissions:x.permissions.filter(z=>z!==U.id)})},className:"mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900",children:U.name}),n.jsx("p",{className:"text-xs text-gray-600",children:U.description})]})]},U.id))})]},T))})]})]}),n.jsxs("div",{className:"flex space-x-3 mt-4",children:[n.jsx("button",{onClick:()=>i(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"}),n.jsxs("button",{onClick:I,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-lg hover:shadow-lg text-sm",children:[n.jsx(hr,{className:"h-3 w-3 mr-1 inline"}),"Criar"]})]})]})]})})]})},nOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(!1),[o,l]=O.useState(null),[c,d]=O.useState(null),[u,h]=O.useState("all"),[f,p]=O.useState(""),[v,y]=O.useState(new Set),[g,x]=O.useState({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:null,active:!0});O.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const{data:D,error:N}=await pe.from("financial_categories").select("*").order("name",{ascending:!0});if(N)throw N;const T=new Map;D?.forEach(U=>{T.set(U.id,{...U,subcategories:[]})});const Q=[];T.forEach(U=>{if(U.parent_id){const K=T.get(U.parent_id);K&&(K.subcategories=K.subcategories||[],K.subcategories.push(U))}else Q.push(U)}),e(Q)}catch(D){console.error("Error loading categories:",D)}finally{s(!1)}},_=async()=>{try{if(!g.name){alert("Nome  obrigatrio!");return}const D={name:g.name,type:g.type,color:g.color,icon:g.icon,parent_id:g.parent_id||null,active:g.active};if(o){const{error:N}=await pe.from("financial_categories").update({...D,updated_at:new Date().toISOString()}).eq("id",o.id);if(N)throw N}else{const{error:N}=await pe.from("financial_categories").insert([D]);if(N)throw N}w(),B()}catch(D){console.error("Error saving category:",D),alert("Erro ao salvar categoria!")}},k=async D=>{if(confirm("Tem certeza que deseja excluir esta categoria?"))try{const{error:N}=await pe.from("financial_categories").delete().eq("id",D);if(N)throw N;w()}catch(N){console.error("Error deleting category:",N),alert("Erro ao excluir categoria! Verifique se no existem lanamentos vinculados.")}},C=(D,N)=>{D?(l(D),x({name:D.name,type:D.type,color:D.color,icon:D.icon,parent_id:D.parent_id,active:D.active})):(l(null),x({name:"",type:"receita",color:"#10b981",icon:"tag",parent_id:N||null,active:!0})),i(!0)},B=()=>{i(!1),l(null),d(null)},I=D=>{const N=new Set(v);N.has(D)?N.delete(D):N.add(D),y(N)},S=t.filter(D=>{const N=u==="all"||D.type===u,T=D.name.toLowerCase().includes(f.toLowerCase());return N&&T}),E=[{value:"#10b981",label:"Verde"},{value:"#3b82f6",label:"Azul"},{value:"#ef4444",label:"Vermelho"},{value:"#f59e0b",label:"Laranja"},{value:"#8b5cf6",label:"Roxo"},{value:"#ec4899",label:"Rosa"},{value:"#06b6d4",label:"Ciano"},{value:"#6366f1",label:"ndigo"}];return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(KF,{className:"h-8 w-8 text-blue-600"}),"Categorias de Lanamento"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie categorias e subcategorias de receitas e despesas"})]}),n.jsxs("button",{onClick:()=>C(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:n.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar categorias...",value:f,onChange:D=>p(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todas"}),n.jsxs("button",{onClick:()=>h("receita"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="receita"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(qr,{className:"h-4 w-4"}),"Receitas"]}),n.jsxs("button",{onClick:()=>h("despesa"),className:`px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2 ${u==="despesa"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[n.jsx(cc,{className:"h-4 w-4"}),"Despesas"]})]})]})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.map(D=>n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${D.color}20`},children:D.type==="receita"?n.jsx(qr,{className:"h-6 w-6",style:{color:D.color}}):n.jsx(cc,{className:"h-6 w-6",style:{color:D.color}})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:D.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.type==="receita"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D.type==="receita"?"Receita":"Despesa"}),D.subcategories&&D.subcategories.length>0&&n.jsxs("span",{className:"text-xs text-gray-500",children:[D.subcategories.length," subcategorias"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>d(D),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Visualizar",children:n.jsx(da,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>C(D),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:n.jsx(hn,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>k(D.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]}),D.subcategories&&D.subcategories.length>0&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[n.jsxs("button",{onClick:()=>I(D.id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors",children:[n.jsx(e1,{className:`h-4 w-4 transition-transform ${v.has(D.id)?"rotate-90":""}`}),"Ver subcategorias"]}),v.has(D.id)&&n.jsx("div",{className:"mt-2 space-y-2",children:D.subcategories.map(N=>n.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nb,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm text-gray-700",children:N.name})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>C(N),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Editar",children:n.jsx(hn,{className:"h-3 w-3"})}),n.jsx("button",{onClick:()=>k(N.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Excluir",children:n.jsx(Yt,{className:"h-3 w-3"})})]})]},N.id))})]}),n.jsxs("button",{onClick:()=>C(void 0,D.id),className:"mt-3 w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-sm text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[n.jsx(xne,{className:"h-4 w-4"}),"Adicionar Subcategoria"]})]})},D.id))}),S.length===0&&n.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[n.jsx(KF,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma categoria encontrada"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Crie sua primeira categoria de lanamento"}),n.jsxs("button",{onClick:()=>C(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Nova Categoria"]})]}),n.jsx(vt,{children:a&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[n.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:o?"Editar Categoria":"Nova Categoria"}),n.jsx("p",{className:"text-blue-100 text-sm mt-1",children:g.parent_id?"Criando subcategoria":"Categoria principal de lanamentos"})]}),n.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nome da Categoria ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:g.name,onChange:D=>x({...g,name:D.target.value}),placeholder:"Ex: Servios Prestados",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Tipo ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("button",{type:"button",onClick:()=>x({...g,type:"receita"}),className:`p-4 border-2 rounded-lg transition-all ${g.type==="receita"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(qr,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Receita"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Entrada de dinheiro"})]}),n.jsxs("button",{type:"button",onClick:()=>x({...g,type:"despesa"}),className:`p-4 border-2 rounded-lg transition-all ${g.type==="despesa"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[n.jsx(cc,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),n.jsx("p",{className:"font-medium text-gray-900",children:"Despesa"}),n.jsx("p",{className:"text-xs text-gray-600",children:"Sada de dinheiro"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cor"}),n.jsx("div",{className:"grid grid-cols-8 gap-2",children:E.map(D=>n.jsx("button",{type:"button",onClick:()=>x({...g,color:D.value}),className:`w-10 h-10 rounded-lg transition-all ${g.color===D.value?"ring-2 ring-offset-2 ring-blue-500 scale-110":"hover:scale-105"}`,style:{backgroundColor:D.value},title:D.label},D.value))})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"active",checked:g.active,onChange:D=>x({...g,active:D.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"active",className:"text-sm text-gray-700",children:"Categoria ativa"})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[n.jsx("button",{onClick:B,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(gr,{className:"h-4 w-4"}),"Salvar Categoria"]})]})]})})}),n.jsx(vt,{children:c&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-2xl",children:[n.jsx("div",{className:"p-6 border-b text-white",style:{background:`linear-gradient(135deg, ${c.color} 0%, ${c.color}dd 100%)`},children:n.jsxs("div",{className:"flex items-center gap-4",children:[c.type==="receita"?n.jsx(qr,{className:"h-12 w-12"}):n.jsx(cc,{className:"h-12 w-12"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:c.name}),n.jsx("p",{className:"text-white/80 text-sm",children:c.type==="receita"?"Categoria de Receita":"Categoria de Despesa"})]})]})}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tipo"}),n.jsx("p",{className:"font-medium capitalize",children:c.type})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),n.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${c.active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c.active?"Ativa":"Inativa"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Cor"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:c.color}}),n.jsx("span",{className:"font-mono text-sm",children:c.color})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Subcategorias"}),n.jsx("p",{className:"font-medium",children:c.subcategories?.length||0})]})]}),c.subcategories&&c.subcategories.length>0&&n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Subcategorias:"}),n.jsx("div",{className:"space-y-2",children:c.subcategories.map(D=>n.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2",children:[n.jsx(Nb,{className:"h-4 w-4 text-gray-400"}),n.jsx("span",{className:"text-sm font-medium",children:D.name})]},D.id))})]})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3 justify-end",children:[n.jsx("button",{onClick:B,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Fechar"}),n.jsxs("button",{onClick:()=>{C(c),d(null)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(hn,{className:"h-4 w-4"}),"Editar"]})]})]})})})]})},Ig={customers:"Clientes",service_orders:"Ordens de Servio",agenda:"Agenda",finance_entries:"Lanamentos Financeiros",employees:"Funcionrios",materials:"Materiais",service_catalog:"Catlogo de Servios",user_profiles:"Perfis de Usurios"},P7={INSERT:n.jsx(zt,{className:"w-4 h-4"}),UPDATE:n.jsx(hn,{className:"w-4 h-4"}),DELETE:n.jsx(Yt,{className:"w-4 h-4"})},F7={INSERT:"bg-green-100 text-green-700 border-green-200",UPDATE:"bg-blue-100 text-blue-700 border-blue-200",DELETE:"bg-red-100 text-red-700 border-red-200"},O4={INSERT:"Criao",UPDATE:"Edio",DELETE:"Excluso"};function sOe(){const[t,e]=O.useState([]),[r,s]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState(null),[c,d]=O.useState({table:"",operation:"",user:"",dateFrom:"",dateTo:"",search:""});O.useEffect(()=>{u()},[c]);const u=async()=>{i(!0);try{let f=pe.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(100);c.table&&(f=f.eq("table_name",c.table)),c.operation&&(f=f.eq("operation",c.operation)),c.user&&(f=f.ilike("user_email",`%${c.user}%`)),c.dateFrom&&(f=f.gte("created_at",c.dateFrom)),c.dateTo&&(f=f.lte("created_at",c.dateTo));const{data:p}=await f,{data:v}=await pe.from("audit_summary_by_table").select("*");e(p||[]),s(v||[])}catch(f){console.error("Error loading audit data:",f)}finally{i(!1)}},h=()=>{const f=["Data/Hora","Tabela","Operao","Usurio","ID do Registro"],p=t.map(w=>[ni(new Date(w.created_at),"dd/MM/yyyy HH:mm:ss"),Ig[w.table_name]||w.table_name,O4[w.operation],w.user_email||"Sistema",w.record_id]),v=[f.join(","),...p.map(w=>w.map(_=>`"${_}"`).join(","))].join(`
`),y=new Blob([v],{type:"text/csv"}),g=window.URL.createObjectURL(y),x=document.createElement("a");x.href=g,x.download=`auditoria_${ni(new Date,"yyyy-MM-dd_HHmmss")}.csv`,x.click()};return a?n.jsx("div",{className:"flex items-center justify-center h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(_n,{className:"w-8 h-8 text-blue-600"}),"Auditoria do Sistema"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Rastreamento completo de todas as operaes no sistema"})]}),n.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(Ts,{className:"w-4 h-4"}),"Exportar CSV"]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(f=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:Ig[f.table_name]||f.table_name}),n.jsx(F0,{className:"w-5 h-5 text-gray-400"})]}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-600",children:"Total:"}),n.jsx("span",{className:"font-semibold",children:f.total_operations})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-green-600",children:"Criaes:"}),n.jsx("span",{className:"font-semibold text-green-600",children:f.inserts})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-blue-600",children:"Edies:"}),n.jsx("span",{className:"font-semibold text-blue-600",children:f.updates})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-red-600",children:"Excluses:"}),n.jsx("span",{className:"font-semibold text-red-600",children:f.deletes})]})]})]},f.table_name))}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(sf,{className:"w-5 h-5 text-gray-600"}),n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Filtros"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tabela"}),n.jsxs("select",{value:c.table,onChange:f=>d({...c,table:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todas"}),Object.entries(Ig).map(([f,p])=>n.jsx("option",{value:f,children:p},f))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Operao"}),n.jsxs("select",{value:c.operation,onChange:f=>d({...c,operation:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Todas"}),n.jsx("option",{value:"INSERT",children:"Criao"}),n.jsx("option",{value:"UPDATE",children:"Edio"}),n.jsx("option",{value:"DELETE",children:"Excluso"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio"}),n.jsx("input",{type:"text",value:c.user,onChange:f=>d({...c,user:f.target.value}),placeholder:"Email do usurio",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Inicial"}),n.jsx("input",{type:"date",value:c.dateFrom,onChange:f=>d({...c,dateFrom:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Final"}),n.jsx("input",{type:"date",value:c.dateTo,onChange:f=>d({...c,dateTo:f.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200",children:[n.jsx("div",{className:"p-4 border-b border-gray-200",children:n.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[n.jsx(Et,{className:"w-5 h-5"}),"ltimas Atividades (",t.length,")"]})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tabela"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operao"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usurio"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detalhes"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wt,{className:"w-4 h-4 text-gray-400"}),ni(new Date(f.created_at),"dd/MM/yyyy HH:mm:ss")]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-md",children:Ig[f.table_name]||f.table_name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-md border ${F7[f.operation]}`,children:[P7[f.operation],O4[f.operation]]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cn,{className:"w-4 h-4 text-gray-400"}),n.jsx("span",{className:"text-gray-900",children:f.user_email||"Sistema"})]})}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-500",children:[f.operation==="UPDATE"&&f.changed_fields&&n.jsxs("span",{className:"text-blue-600",children:[f.changed_fields.length," campo(s) alterado(s)"]}),f.operation==="INSERT"&&n.jsx("span",{className:"text-green-600",children:"Novo registro"}),f.operation==="DELETE"&&n.jsx("span",{className:"text-red-600",children:"Registro excludo"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n.jsx("button",{onClick:()=>l(f),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Ver Detalhes"})})]},f.id))})]})})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Detalhes da Auditoria"}),n.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(ih,{className:"w-6 h-6"})})]}),n.jsx("div",{className:"p-6 overflow-y-auto",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Operao"}),n.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-2 rounded-lg border ${F7[o.operation]}`,children:[P7[o.operation],O4[o.operation]]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Tabela"}),n.jsx("p",{className:"text-gray-900 font-medium",children:Ig[o.table_name]||o.table_name})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Usurio"}),n.jsx("p",{className:"text-gray-900",children:o.user_email||"Sistema"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Data/Hora"}),n.jsx("p",{className:"text-gray-900",children:ni(new Date(o.created_at),"dd/MM/yyyy HH:mm:ss")})]})]}),o.operation==="UPDATE"&&o.changed_fields&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Campos Alterados"}),n.jsx("div",{className:"space-y-3",children:o.changed_fields.map((f,p)=>n.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[n.jsx("p",{className:"font-medium text-gray-900 mb-2",children:f.field}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-red-600 font-medium",children:"ANTES:"}),n.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-red-200",children:JSON.stringify(f.old_value,null,2)})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-green-600 font-medium",children:"DEPOIS:"}),n.jsx("pre",{className:"mt-1 text-sm text-gray-700 bg-white p-2 rounded border border-green-200",children:JSON.stringify(f.new_value,null,2)})]})]})]},p))})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.old_data&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Anteriores"}),n.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.old_data,null,2)})]}),o.new_data&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Dados Novos"}),n.jsx("pre",{className:"text-xs bg-gray-50 p-4 rounded-lg border border-gray-200 overflow-x-auto",children:JSON.stringify(o.new_data,null,2)})]})]})]})})]})})]})}const aOe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState([]),[s,a]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState("all"),[d,u]=O.useState(!1),[h,f]=O.useState(null),[p,v]=O.useState({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0});O.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:E,error:D}=await pe.from("crm_leads").select("*").order("created_at",{ascending:!1});if(D)throw D;r(E||[])}catch(E){console.error("Error loading leads:",E)}finally{a(!1)}},g=async()=>{try{if(h){const{error:E}=await pe.from("crm_leads").update(p).eq("id",h.id);if(E)throw E}else{const{error:E}=await pe.from("crm_leads").insert([p]);if(E)throw E}await y(),_()}catch(E){console.error("Error saving lead:",E),alert("Erro ao salvar lead")}},x=async E=>{if(confirm("Tem certeza que deseja excluir este lead?"))try{const{error:D}=await pe.from("crm_leads").delete().eq("id",E);if(D)throw D;await y()}catch(D){console.error("Error deleting lead:",D),alert("Erro ao excluir lead")}},w=E=>{f(E),v({name:E.name,email:E.email,phone:E.phone,company:E.company,source:E.source,status:E.status,score:E.score}),u(!0)},_=()=>{u(!1),f(null),v({name:"",email:"",phone:"",company:"",source:"Website",status:"new",score:0})},k=async E=>{if(confirm("Converter este lead em cliente?"))try{const{error:D}=await pe.from("customers").insert([{tipo_pessoa:"juridica",nome_razao:E.company||E.name,nome_fantasia:E.company,email:E.email,telefone:E.phone,celular:E.phone}]);if(D)throw D;const{error:N}=await pe.from("crm_leads").update({status:"qualified"}).eq("id",E.id);if(N)throw N;alert("Lead convertido em cliente com sucesso!"),await y()}catch(D){console.error("Error converting lead:",D),alert("Erro ao converter lead")}},C=E=>{switch(E){case"new":return n.jsx(Wt,{className:"w-4 h-4 text-blue-500"});case"contacted":return n.jsx(ci,{className:"w-4 h-4 text-yellow-500"});case"qualified":return n.jsx(ys,{className:"w-4 h-4 text-green-500"});case"proposal":return n.jsx(qr,{className:"w-4 h-4 text-purple-500"});default:return n.jsx(ih,{className:"w-4 h-4 text-gray-500"})}},B=E=>({new:"Novo",contacted:"Contatado",qualified:"Qualificado",proposal:"Proposta",lost:"Perdido"})[E]||E,I=e.filter(E=>{const D=E.name.toLowerCase().includes(i.toLowerCase())||E.email.toLowerCase().includes(i.toLowerCase())||E.company.toLowerCase().includes(i.toLowerCase()),N=l==="all"||E.status===l;return D&&N}),S={total:e.length,new:e.filter(E=>E.status==="new").length,contacted:e.filter(E=>E.status==="contacted").length,qualified:e.filter(E=>E.status==="qualified").length};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CRM - Leads"}),n.jsx("p",{className:"text-gray-600",children:"Gesto de leads e funil de vendas"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Leads"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]}),n.jsx(ir,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Novos"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.new})]}),n.jsx(Wt,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Contatados"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.contacted})]}),n.jsx(ci,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Qualificados"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.qualified})]}),n.jsx(ys,{className:"w-10 h-10 text-green-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar leads...",value:i,onChange:E=>o(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"new",children:"Novos"}),n.jsx("option",{value:"contacted",children:"Contatados"}),n.jsx("option",{value:"qualified",children:"Qualificados"}),n.jsx("option",{value:"proposal",children:"Proposta"}),n.jsx("option",{value:"lost",children:"Perdidos"})]})]}),n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"w-5 h-5"}),"Novo Lead"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empresa"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contato"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Origem"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:E.company})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"text-sm text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(vs,{className:"w-3 h-3"}),E.email]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ci,{className:"w-3 h-3"}),E.phone]})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:E.source})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center gap-2",children:[C(E.status),n.jsx("span",{className:"text-sm text-gray-900",children:B(E.status)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:n.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${E.score}%`}})}),n.jsx("span",{className:"text-sm text-gray-600",children:E.score})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.status!=="qualified"&&n.jsx("button",{onClick:()=>k(E),className:"text-green-600 hover:text-green-900",title:"Converter em cliente",children:n.jsx(ys,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>w(E),className:"text-blue-600 hover:text-blue-900",children:n.jsx(hn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>x(E.id),className:"text-red-600 hover:text-red-900",children:n.jsx(Yt,{className:"w-5 h-5"})})]})})]},E.id))})]}),I.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(ir,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum lead encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo lead."})]})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Lead":"Novo Lead"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),n.jsx("input",{type:"text",value:p.name,onChange:E=>v({...p,name:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa"}),n.jsx("input",{type:"text",value:p.company,onChange:E=>v({...p,company:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),n.jsx("input",{type:"email",value:p.email,onChange:E=>v({...p,email:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone *"}),n.jsx("input",{type:"tel",value:p.phone,onChange:E=>v({...p,phone:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origem"}),n.jsxs("select",{value:p.source,onChange:E=>v({...p,source:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"Website",children:"Website"}),n.jsx("option",{value:"Google Ads",children:"Google Ads"}),n.jsx("option",{value:"LinkedIn",children:"LinkedIn"}),n.jsx("option",{value:"Indicao",children:"Indicao"}),n.jsx("option",{value:"Telefone",children:"Telefone"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:p.status,onChange:E=>v({...p,status:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"new",children:"Novo"}),n.jsx("option",{value:"contacted",children:"Contatado"}),n.jsx("option",{value:"qualified",children:"Qualificado"}),n.jsx("option",{value:"proposal",children:"Proposta"}),n.jsx("option",{value:"lost",children:"Perdido"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Score (0-100)"}),n.jsx("input",{type:"number",min:"0",max:"100",value:p.score,onChange:E=>v({...p,score:parseInt(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},iOe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState([]),[s,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(""),[d,u]=O.useState("all"),[h,f]=O.useState(!1),[p,v]=O.useState(null),[y,g]=O.useState({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""});O.useEffect(()=>{x()},[]);const x=async()=>{try{o(!0);const[E,D]=await Promise.all([pe.from("contracts").select(`
            *,
            customer:customers(nome_razao)
          `).order("created_at",{ascending:!1}),pe.from("customers").select("id, nome_razao")]);if(E.error)throw E.error;if(D.error)throw D.error;r(E.data||[]),a(D.data||[])}catch(E){console.error("Error loading data:",E)}finally{o(!1)}},w=async()=>{try{if(!y.contract_number||!y.customer_id||!y.start_date){alert("Preencha os campos obrigatrios");return}if(p){const{error:E}=await pe.from("contracts").update(y).eq("id",p.id);if(E)throw E}else{const{error:E}=await pe.from("contracts").insert([y]);if(E)throw E}await x(),C()}catch(E){console.error("Error saving contract:",E),alert("Erro ao salvar contrato")}},_=async E=>{if(confirm("Tem certeza que deseja excluir este contrato?"))try{const{error:D}=await pe.from("contracts").delete().eq("id",E);if(D)throw D;await x()}catch(D){console.error("Error deleting contract:",D),alert("Erro ao excluir contrato")}},k=E=>{v(E),g({contract_number:E.contract_number,customer_id:E.customer_id,start_date:E.start_date,end_date:E.end_date,value:E.value,payment_frequency:E.payment_frequency,status:E.status,notes:E.notes||""}),f(!0)},C=()=>{f(!1),v(null),g({contract_number:"",customer_id:"",start_date:"",end_date:"",value:0,payment_frequency:"monthly",status:"active",notes:""})},B=E=>{const D={active:{bg:"bg-green-100",text:"text-green-800",icon:ys},pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Wt},expired:{bg:"bg-red-100",text:"text-red-800",icon:Gn},cancelled:{bg:"bg-gray-100",text:"text-gray-800",icon:Gn}},N=D[E]||D.pending,T=N.icon;return n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${N.bg} ${N.text}`,children:[n.jsx(T,{className:"w-3 h-3"}),E==="active"?"Ativo":E==="pending"?"Pendente":E==="expired"?"Expirado":"Cancelado"]})},I=e.filter(E=>{const D=E.contract_number.toLowerCase().includes(l.toLowerCase())||E.customer?.nome_razao?.toLowerCase().includes(l.toLowerCase()),N=d==="all"||E.status===d;return D&&N}),S={total:e.length,active:e.filter(E=>E.status==="active").length,expiringSoon:e.filter(E=>{const D=Math.floor((new Date(E.end_date).getTime()-new Date().getTime())/864e5);return D<=30&&D>0}).length,totalValue:e.filter(E=>E.status==="active").reduce((E,D)=>E+Number(D.value),0)};return i?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gesto de Contratos"}),n.jsx("p",{className:"text-gray-600",children:"Controle de contratos de manuteno e suporte"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Contratos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:S.total})]}),n.jsx(Et,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.active})]}),n.jsx(ys,{className:"w-10 h-10 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Expirando em 30 dias"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S.expiringSoon})]}),n.jsx(Gn,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total Mensal"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S.totalValue)})]}),n.jsx(gr,{className:"w-10 h-10 text-blue-500"})]})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar contratos...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:d,onChange:E=>u(E.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"active",children:"Ativos"}),n.jsx("option",{value:"pending",children:"Pendentes"}),n.jsx("option",{value:"expired",children:"Expirados"}),n.jsx("option",{value:"cancelled",children:"Cancelados"})]})]}),n.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"w-5 h-5"}),"Novo Contrato"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ttulo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Perodo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(E=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.contract_number})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:E.customer?.nome_razao})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"Contrato"})}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm text-gray-900",children:ni(new Date(E.start_date),"dd/MM/yyyy")}),n.jsxs("div",{className:"text-xs text-gray-500",children:["at ",ni(new Date(E.end_date),"dd/MM/yyyy")]})]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(E.value)}),n.jsx("div",{className:"text-xs text-gray-500",children:E.payment_frequency==="monthly"?"Mensal":E.payment_frequency==="quarterly"?"Trimestral":E.payment_frequency==="biannual"?"Semestral":"Anual"})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B(E.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>k(E),className:"text-blue-600 hover:text-blue-900",children:n.jsx(hn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>_(E.id),className:"text-red-600 hover:text-red-900",children:n.jsx(Yt,{className:"w-5 h-5"})})]})})]},E.id))})]}),I.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum contrato encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo contrato."})]})]})]}),h&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:p?"Editar Contrato":"Novo Contrato"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero do Contrato *"}),n.jsx("input",{type:"text",value:y.contract_number,onChange:E=>g({...y,contract_number:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),n.jsxs("select",{value:y.customer_id,onChange:E=>g({...y,customer_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(E=>n.jsx("option",{value:E.id,children:E.nome_razao},E.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frequncia de Pagamento"}),n.jsxs("select",{value:y.payment_frequency,onChange:E=>g({...y,payment_frequency:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"monthly",children:"Mensal"}),n.jsx("option",{value:"quarterly",children:"Trimestral"}),n.jsx("option",{value:"biannual",children:"Semestral"}),n.jsx("option",{value:"annual",children:"Anual"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Incio *"}),n.jsx("input",{type:"date",value:y.start_date,onChange:E=>g({...y,start_date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim *"}),n.jsx("input",{type:"date",value:y.end_date,onChange:E=>g({...y,end_date:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:y.value,onChange:E=>g({...y,value:parseFloat(E.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:w,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:C,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},oOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(null),[o,l]=O.useState({}),[c,d]=O.useState(!1);O.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0);const{data:y,error:g}=await pe.from("contract_templates").select("*").eq("active",!0).order("is_default",{ascending:!1}).order("name");if(g)throw console.error("Supabase error:",g),g;console.log("Templates loaded:",y),e(y||[])}catch(y){console.error("Error loading templates:",y),alert("Erro ao carregar templates: "+y.message)}finally{s(!1)}},h=y=>{i(y.id),l(y)},f=()=>{i(null),l({})},p=async()=>{if(a)try{d(!0),o.is_default&&await pe.from("contract_templates").update({is_default:!1}).neq("id",a);const{error:y}=await pe.from("contract_templates").update({name:o.name,contract_text:o.contract_text,contract_clauses:o.contract_clauses,warranty_terms:o.warranty_terms,payment_conditions:o.payment_conditions,bank_details_template:o.bank_details_template,is_default:o.is_default,updated_at:new Date().toISOString()}).eq("id",a);if(y)throw y;alert("Template salvo com sucesso!"),await u(),f()}catch(y){console.error("Error saving template:",y),alert("Erro ao salvar template")}finally{d(!1)}},v=async y=>{try{await pe.from("contract_templates").update({is_default:!1}).neq("id",y),await pe.from("contract_templates").update({is_default:!0}).eq("id",y),alert("Template definido como padro!"),await u()}catch(g){console.error("Error setting default:",g),alert("Erro ao definir padro")}};return r?n.jsx("div",{className:"flex justify-center items-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(Et,{className:"h-8 w-8 text-blue-600"}),"Templates de Contrato"]}),n.jsx("p",{className:"text-gray-600 mt-2",children:"Gerencie os modelos de contrato, termos de garantia e condies de pagamento"})]}),t.length===0?n.jsxs("div",{className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 p-12 text-center",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Nenhum template encontrado"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"No h templates de contrato cadastrados no momento."}),n.jsx("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:n.jsxs("p",{className:"text-sm text-blue-900",children:[n.jsx("strong",{children:"Nota:"})," Os templates devem ser criados diretamente no banco de dados Supabase na tabela ",n.jsx("code",{className:"bg-blue-100 px-2 py-1 rounded",children:"contract_templates"}),"."]})})]}):n.jsx("div",{className:"space-y-6",children:t.map(y=>n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-lg border-2 border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 px-6 py-4 border-b-2 border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Et,{className:"h-6 w-6 text-blue-600"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.name}),y.is_default&&n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold mt-1",children:[n.jsx(la,{className:"h-3 w-3"}),"Template Padro"]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!y.is_default&&n.jsxs("button",{onClick:()=>v(y.id),className:"px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors flex items-center gap-2",title:"Definir como padro",children:[n.jsx(la,{className:"h-4 w-4"}),"Definir Padro"]}),a===y.id?n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:p,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(hr,{className:"h-4 w-4"}),c?"Salvando...":"Salvar"]}),n.jsxs("button",{onClick:f,disabled:c,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(bt,{className:"h-4 w-4"}),"Cancelar"]})]}):n.jsxs("button",{onClick:()=>h(y),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(ri,{className:"h-4 w-4"}),"Editar"]})]})]})}),n.jsx("div",{className:"p-6",children:a===y.id?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-300 rounded-lg p-4 mb-4",children:n.jsxs("p",{className:"text-sm text-yellow-900 flex items-center gap-2",children:[n.jsx(Gn,{className:"h-4 w-4"}),n.jsx("strong",{children:"Dica:"})," Use variveis como [NOME_CLIENTE], [VALOR_TOTAL], [NUMERO_OS] para substituio automtica"]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Nome do Template"}),n.jsx("input",{type:"text",value:o.name||"",onChange:g=>l({...o,name:g.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Contrato Padro"})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:o.is_default||!1,onChange:g=>l({...o,is_default:g.target.checked}),className:"w-5 h-5 text-blue-600"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Definir como template padro para todas as novas OS"})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Texto do Contrato Principal"}),n.jsx("textarea",{value:o.contract_text||"",onChange:g=>l({...o,contract_text:g.target.value}),rows:10,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o texto principal do contrato..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Clusulas Contratuais"}),n.jsx("textarea",{value:o.contract_clauses||"",onChange:g=>l({...o,contract_clauses:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as clusulas contratuais..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Termos de Garantia"}),n.jsx("textarea",{value:o.warranty_terms||"",onChange:g=>l({...o,warranty_terms:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite os termos de garantia..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Condies de Pagamento"}),n.jsx("textarea",{value:o.payment_conditions||"",onChange:g=>l({...o,payment_conditions:g.target.value}),rows:8,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite as condies de pagamento..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" Dados Bancrios (Template)"}),n.jsx("textarea",{value:o.bank_details_template||"",onChange:g=>l({...o,bank_details_template:g.target.value}),rows:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:"Digite o template dos dados bancrios..."})]})]}):n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border-2 border-blue-200",children:[n.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Contrato Principal"]}),n.jsx("p",{className:"text-sm text-blue-800 whitespace-pre-wrap line-clamp-6",children:y.contract_text})]}),n.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border-2 border-purple-200",children:[n.jsxs("h4",{className:"font-bold text-purple-900 mb-2 flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Clusulas"]}),n.jsx("p",{className:"text-sm text-purple-800 whitespace-pre-wrap line-clamp-6",children:y.contract_clauses})]}),n.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border-2 border-green-200",children:[n.jsxs("h4",{className:"font-bold text-green-900 mb-2 flex items-center gap-2",children:[n.jsx(rn,{className:"h-4 w-4"}),"Garantia"]}),n.jsx("p",{className:"text-sm text-green-800 whitespace-pre-wrap line-clamp-6",children:y.warranty_terms})]}),n.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border-2 border-orange-200",children:[n.jsxs("h4",{className:"font-bold text-orange-900 mb-2 flex items-center gap-2",children:[n.jsx(Et,{className:"h-4 w-4"}),"Pagamento"]}),n.jsx("p",{className:"text-sm text-orange-800 whitespace-pre-wrap line-clamp-6",children:y.payment_conditions})]})]})})]},y.id))})]})},T7={contract:"Contrato",service_order:"Ordem de Servio",proposal:"Proposta",budget:"Oramento",receipt:"Recibo",invoice:"Nota Fiscal"},O7=[{id:"order_number",label:"Nmero da OS"},{id:"customer",label:"Cliente"},{id:"date",label:"Data"},{id:"services",label:"Servios"},{id:"materials",label:"Materiais"},{id:"team",label:"Equipe"},{id:"costs",label:"Custos"},{id:"total",label:"Total"},{id:"notes",label:"Observaes"},{id:"signature",label:"Assinatura"}],lOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState("service_order"),[o,l]=O.useState(null),[c,d]=O.useState({}),[u,h]=O.useState(!1),[f,p]=O.useState(!1),[v,y]=O.useState(!1);O.useEffect(()=>{g()},[a]);const g=async()=>{try{s(!0);const{data:E,error:D}=await pe.from("os_templates").select("*").eq("template_type",a).eq("active",!0).order("is_default",{ascending:!1}).order("name");if(D)throw D;e(E||[])}catch(E){console.error("Error loading templates:",E),alert("Erro ao carregar templates")}finally{s(!1)}},x=()=>{l("new"),d({name:"",template_type:a,is_default:!1,logo_url:"",header_text:"ORDEM DE SERVIO",footer_text:"Obrigado pela preferncia!",layout_config:{margins:{top:20,bottom:20,left:20,right:20},fontSize:10,lineHeight:1.2},field_order:["order_number","customer","date","services","materials","team","costs","total","signature"],show_fields:{order_number:!0,customer:!0,date:!0,services:!0,materials:!0,team:!0,costs:!0,total:!0,notes:!0,signature:!0},custom_styles:{primaryColor:"#2563eb",secondaryColor:"#64748b",headerBg:"#f8fafc",borderColor:"#e2e8f0"},active:!0})},w=E=>{l(E.id),d(E)},_=async()=>{try{if(h(!0),!c.name||!c.template_type){alert("Preencha o nome do template");return}if(o==="new"){const{error:E}=await pe.from("os_templates").insert([c]);if(E)throw E}else{const{error:E}=await pe.from("os_templates").update(c).eq("id",o);if(E)throw E}await g(),l(null),d({})}catch(E){console.error("Error saving template:",E),alert("Erro ao salvar template")}finally{h(!1)}},k=async E=>{if(confirm("Deseja excluir este template?"))try{const{error:D}=await pe.from("os_templates").update({active:!1}).eq("id",E);if(D)throw D;await g()}catch(D){console.error("Error deleting template:",D),alert("Erro ao excluir template")}},C=async E=>{try{const{error:D}=await pe.from("os_templates").update({is_default:!0}).eq("id",E);if(D)throw D;await g()}catch(D){console.error("Error setting default:",D),alert("Erro ao definir como padro")}},B=async E=>{const D=E.target.files?.[0];if(D)try{if(p(!0),!D.type.startsWith("image/")){alert("Por favor, selecione uma imagem");return}if(D.size>2*1024*1024){alert("A imagem deve ter no mximo 2MB");return}const N=new FileReader;N.onload=T=>{const Q=T.target?.result;d(U=>({...U,logo_url:Q})),p(!1)},N.onerror=()=>{alert("Erro ao carregar imagem"),p(!1)},N.readAsDataURL(D)}catch(N){console.error("Error uploading logo:",N),alert("Erro ao fazer upload da logo"),p(!1)}},I=(E,D)=>{const N=[...c.field_order||[]],T=D==="up"?E-1:E+1;T<0||T>=N.length||([N[E],N[T]]=[N[T],N[E]],d(Q=>({...Q,field_order:N})))},S=E=>{d(D=>({...D,show_fields:{...D.show_fields,[E]:!D.show_fields?.[E]}}))};return n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Templates de Documentos"}),n.jsx("p",{className:"text-gray-600",children:"Gerencie e personalize templates de documentos"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tipo:"}),Object.entries(T7).map(([E,D])=>n.jsx("button",{onClick:()=>i(E),className:`px-4 py-2 rounded-lg font-medium transition-colors ${a===E?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:D},E))]})}),!o&&n.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsxs("h2",{className:"font-semibold text-gray-900",children:["Templates de ",T7[a]]}),n.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[n.jsx(zt,{className:"w-4 h-4"}),"Novo Template"]})]}),r?n.jsx("div",{className:"p-8 text-center text-gray-500",children:"Carregando..."}):t.length===0?n.jsxs("div",{className:"p-8 text-center text-gray-500",children:[n.jsx(Et,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),"Nenhum template encontrado"]}):n.jsx("div",{className:"divide-y divide-gray-200",children:t.map(E=>n.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900",children:E.name}),E.is_default&&n.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:[n.jsx(la,{className:"w-3 h-3 fill-current"}),"Padro"]})]}),n.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Atualizado em ",new Date(E.updated_at).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[!E.is_default&&n.jsx("button",{onClick:()=>C(E.id),className:"p-2 text-gray-600 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",title:"Definir como padro",children:n.jsx(la,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>w(E),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Editar",children:n.jsx(ri,{className:"w-5 h-5"})}),!E.is_default&&n.jsx("button",{onClick:()=>k(E.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir",children:n.jsx(Yt,{className:"w-5 h-5"})})]})]})},E.id))})]}),n.jsx(vt,{children:o&&n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"bg-white rounded-lg shadow-sm",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[n.jsx("h2",{className:"font-semibold text-gray-900",children:o==="new"?"Novo Template":"Editar Template"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>y(!v),className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[n.jsx(da,{className:"w-4 h-4"}),v?"Editor":"Visualizar"]}),n.jsxs("button",{onClick:_,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[n.jsx(hr,{className:"w-4 h-4"}),u?"Salvando...":"Salvar"]}),n.jsx("button",{onClick:()=>{l(null),d({})},className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:n.jsx(bt,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Template"}),n.jsx("input",{type:"text",value:c.name||"",onChange:E=>d(D=>({...D,name:E.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Template Profissional OS"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo/Imagem"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer",children:[n.jsx(r0,{className:"w-4 h-4"}),f?"Carregando...":"Fazer Upload",n.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"hidden",disabled:f})]}),c.logo_url&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-12 w-auto object-contain border border-gray-200 rounded"}),n.jsx("button",{onClick:()=>d(E=>({...E,logo_url:""})),className:"text-red-600 hover:text-red-700",children:n.jsx(bt,{className:"w-4 h-4"})})]})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formatos aceitos: JPG, PNG, GIF. Tamanho mximo: 2MB"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Cabealho"}),n.jsx("input",{type:"text",value:c.header_text||"",onChange:E=>d(D=>({...D,header_text:E.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: ORDEM DE SERVIO"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Texto do Rodap"}),n.jsx("input",{type:"text",value:c.footer_text||"",onChange:E=>d(D=>({...D,footer_text:E.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Obrigado pela preferncia!"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ordem e Visibilidade dos Campos"}),n.jsx("div",{className:"border border-gray-200 rounded-lg divide-y",children:(c.field_order||[]).map((E,D)=>{const N=O7.find(Q=>Q.id===E);if(!N)return null;const T=c.show_fields?.[E]!==!1;return n.jsxs("div",{className:`p-3 flex items-center justify-between ${T?"":"bg-gray-50 opacity-60"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"text-sm font-medium text-gray-500",children:D+1}),n.jsx("input",{type:"checkbox",checked:T,onChange:()=>S(E),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),n.jsx("span",{className:"text-sm text-gray-900",children:N.label})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>I(D,"up"),disabled:D===0,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:n.jsx(Mm,{className:"w-4 h-4"})}),n.jsx("button",{onClick:()=>I(D,"down"),disabled:D===(c.field_order||[]).length-1,className:"p-1 text-gray-600 hover:text-blue-600 disabled:opacity-30 disabled:hover:text-gray-600",children:n.jsx(Jw,{className:"w-4 h-4"})})]})]},E)})})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(t1,{className:"w-4 h-4 inline mr-1"}),"Cores Personalizadas"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Primria"}),n.jsx("input",{type:"color",value:c.custom_styles?.primaryColor||"#2563eb",onChange:E=>d(D=>({...D,custom_styles:{...D.custom_styles,primaryColor:E.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor Secundria"}),n.jsx("input",{type:"color",value:c.custom_styles?.secondaryColor||"#64748b",onChange:E=>d(D=>({...D,custom_styles:{...D.custom_styles,secondaryColor:E.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor do Cabealho"}),n.jsx("input",{type:"color",value:c.custom_styles?.headerBg||"#f8fafc",onChange:E=>d(D=>({...D,custom_styles:{...D.custom_styles,headerBg:E.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Cor das Bordas"}),n.jsx("input",{type:"color",value:c.custom_styles?.borderColor||"#e2e8f0",onChange:E=>d(D=>({...D,custom_styles:{...D.custom_styles,borderColor:E.target.value}})),className:"w-full h-10 rounded border border-gray-300"})]})]})]}),v&&n.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8",children:n.jsxs("div",{className:"max-w-2xl mx-auto bg-white shadow-lg",children:[n.jsxs("div",{className:"p-6 text-center border-b-2",style:{backgroundColor:c.custom_styles?.headerBg,borderColor:c.custom_styles?.borderColor},children:[c.logo_url&&n.jsx("img",{src:c.logo_url,alt:"Logo",className:"h-16 w-auto mx-auto mb-4 object-contain"}),n.jsx("h1",{className:"text-2xl font-bold",style:{color:c.custom_styles?.primaryColor},children:c.header_text||"ORDEM DE SERVIO"})]}),n.jsx("div",{className:"p-6 space-y-4",children:(c.field_order||[]).map(E=>{const D=O7.find(T=>T.id===E),N=c.show_fields?.[E]!==!1;return!D||!N?null:n.jsxs("div",{className:"flex items-center gap-2 py-2 border-b",style:{borderColor:c.custom_styles?.borderColor},children:[n.jsxs("span",{className:"font-medium",style:{color:c.custom_styles?.primaryColor},children:[D.label,":"]}),n.jsx("span",{className:"text-gray-600",children:"[Contedo]"})]},E)})}),n.jsx("div",{className:"p-4 text-center text-sm border-t-2",style:{borderColor:c.custom_styles?.borderColor,color:c.custom_styles?.secondaryColor},children:c.footer_text||"Obrigado pela preferncia!"})]})})]})]})})]})},cOe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState([]),[s,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState(!0),[d,u]=O.useState(""),[h,f]=O.useState("all"),[p,v]=O.useState(!1),[y,g]=O.useState(null),[x,w]=O.useState({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""});O.useEffect(()=>{_()},[]),O.useEffect(()=>{const N=x.amount+x.tax_amount;w(T=>({...T,total_amount:N}))},[x.amount,x.tax_amount]);const _=async()=>{try{c(!0);const[N,T,Q]=await Promise.all([pe.from("finance_invoices").select(`
            *,
            customer:customers(nome_razao),
            service_order:service_orders(ordem_servico)
          `).order("created_at",{ascending:!1}),pe.from("customers").select("id, nome_razao"),pe.from("service_orders").select("id, ordem_servico")]);if(N.error)throw N.error;if(T.error)throw T.error;if(Q.error)throw Q.error;r(N.data||[]),a(T.data||[]),o(Q.data||[])}catch(N){console.error("Error loading data:",N)}finally{c(!1)}},k=async()=>{try{if(!x.invoice_number||!x.customer_id){alert("Preencha os campos obrigatrios");return}if(y){const{error:N}=await pe.from("finance_invoices").update(x).eq("id",y.id);if(N)throw N}else{const{error:N}=await pe.from("finance_invoices").insert([x]);if(N)throw N}await _(),I()}catch(N){console.error("Error saving invoice:",N),alert("Erro ao salvar nota fiscal")}},C=async N=>{if(confirm("Tem certeza que deseja excluir esta nota fiscal?"))try{const{error:T}=await pe.from("finance_invoices").delete().eq("id",N);if(T)throw T;await _()}catch(T){console.error("Error deleting invoice:",T),alert("Erro ao excluir nota fiscal")}},B=N=>{g(N),w({invoice_number:N.invoice_number,customer_id:N.customer_id,service_order_id:N.service_order_id||"",issue_date:N.issue_date,due_date:N.due_date,amount:N.amount,tax_amount:N.tax_amount,total_amount:N.total_amount,status:N.status,notes:N.notes||""}),v(!0)},I=()=>{v(!1),g(null),w({invoice_number:"",customer_id:"",service_order_id:"",issue_date:new Date().toISOString().split("T")[0],due_date:new Date().toISOString().split("T")[0],amount:0,tax_amount:0,total_amount:0,status:"pending",notes:""})},S=N=>{const T={pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Wt},issued:{bg:"bg-blue-100",text:"text-blue-800",icon:Ti},paid:{bg:"bg-green-100",text:"text-green-800",icon:ys},cancelled:{bg:"bg-red-100",text:"text-red-800",icon:ih},overdue:{bg:"bg-red-100",text:"text-red-800",icon:Gn}},Q=T[N]||T.pending,U=Q.icon;return n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs flex items-center gap-1 ${Q.bg} ${Q.text}`,children:[n.jsx(U,{className:"w-3 h-3"}),N==="pending"?"Pendente":N==="issued"?"Emitida":N==="paid"?"Paga":N==="cancelled"?"Cancelada":"Vencida"]})},E=e.filter(N=>{const T=N.invoice_number.toLowerCase().includes(d.toLowerCase())||N.customer?.nome_razao?.toLowerCase().includes(d.toLowerCase()),Q=h==="all"||N.status===h;return T&&Q}),D={total:e.length,pending:e.filter(N=>N.status==="pending").length,issued:e.filter(N=>N.status==="issued").length,paid:e.filter(N=>N.status==="paid").length,totalValue:e.filter(N=>N.status==="paid").reduce((N,T)=>N+Number(T.total_amount),0)};return l?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Notas Fiscais"}),n.jsx("p",{className:"text-gray-600",children:"Gesto e emisso de notas fiscais"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D.total})]}),n.jsx(Et,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pendentes"}),n.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:D.pending})]}),n.jsx(Wt,{className:"w-10 h-10 text-yellow-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Emitidas"}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:D.issued})]}),n.jsx(Ti,{className:"w-10 h-10 text-blue-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Pagas"}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:D.paid})]}),n.jsx(ys,{className:"w-10 h-10 text-green-500"})]})}),n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),n.jsx("p",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(D.totalValue)})]})})})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar notas fiscais...",value:d,onChange:N=>u(N.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:h,onChange:N=>f(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"pending",children:"Pendentes"}),n.jsx("option",{value:"issued",children:"Emitidas"}),n.jsx("option",{value:"paid",children:"Pagas"}),n.jsx("option",{value:"cancelled",children:"Canceladas"})]})]}),n.jsxs("button",{onClick:()=>v(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"w-5 h-5"}),"Nova NF"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nmero"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OS"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emisso"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimento"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(N=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.invoice_number})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:N.customer?.nome_razao})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-500",children:N.service_order?.ordem_servico||"-"})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ni(new Date(N.issue_date),"dd/MM/yyyy")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:ni(new Date(N.due_date),"dd/MM/yyyy")})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(N.total_amount)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:S(N.status)}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>B(N),className:"text-blue-600 hover:text-blue-900",title:"Editar",children:n.jsx(hn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>C(N.id),className:"text-red-600 hover:text-red-900",title:"Excluir",children:n.jsx(Yt,{className:"w-5 h-5"})})]})})]},N.id))})]}),E.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma nota fiscal encontrada"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando uma nova nota fiscal."})]})]})]}),p&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:y?"Editar Nota Fiscal":"Nova Nota Fiscal"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero NF *"}),n.jsx("input",{type:"text",value:x.invoice_number,onChange:N=>w({...x,invoice_number:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsxs("select",{value:x.status,onChange:N=>w({...x,status:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"issued",children:"Emitida"}),n.jsx("option",{value:"paid",children:"Paga"}),n.jsx("option",{value:"cancelled",children:"Cancelada"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),n.jsxs("select",{value:x.customer_id,onChange:N=>w({...x,customer_id:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente"}),s.map(N=>n.jsx("option",{value:N.id,children:N.nome_razao},N.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ordem de Servio (opcional)"}),n.jsxs("select",{value:x.service_order_id,onChange:N=>w({...x,service_order_id:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Sem OS vinculada"}),i.map(N=>n.jsx("option",{value:N.id,children:N.ordem_servico},N.id))]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Emisso"}),n.jsx("input",{type:"date",value:x.issue_date,onChange:N=>w({...x,issue_date:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Vencimento"}),n.jsx("input",{type:"date",value:x.due_date,onChange:N=>w({...x,due_date:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.amount,onChange:N=>w({...x,amount:parseFloat(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impostos (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.tax_amount,onChange:N=>w({...x,tax_amount:parseFloat(N.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total (R$)"}),n.jsx("input",{type:"number",step:"0.01",value:x.total_amount,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:x.notes,onChange:N=>w({...x,notes:N.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:I,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},dOe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState(!0),[s,a]=O.useState(!1),[i,o]=O.useState({company_name:"",trade_name:"",cnpj:"",state_registration:"",municipal_registration:"",address:"",city:"",state:"",zip_code:"",phone:"",email:"",website:"",primary_color:"#3B82F6",secondary_color:"#10B981"});O.useEffect(()=>{l()},[]);const l=async()=>{try{r(!0);const{data:d,error:u}=await pe.from("company_settings").select("*").limit(1).maybeSingle();if(u&&u.code!=="PGRST116")throw u;d&&o(d)}catch(d){console.error("Error loading company settings:",d)}finally{r(!1)}},c=async()=>{try{if(a(!0),i.id){const{error:d}=await pe.from("company_settings").update(i).eq("id",i.id);if(d)throw d}else{const{data:d,error:u}=await pe.from("company_settings").insert([i]).select().single();if(u)throw u;o(d)}alert("Configuraes salvas com sucesso!")}catch(d){console.error("Error saving company settings:",d),alert("Erro ao salvar configuraes")}finally{a(!1)}};return e?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Configuraes da Empresa"}),n.jsx("p",{className:"text-gray-600",children:"Configure as informaes da sua empresa"})]}),n.jsx("div",{className:"bg-white rounded-lg shadow",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[n.jsx(UA,{className:"w-6 h-6"}),"Dados da Empresa"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Razo Social *"}),n.jsx("input",{type:"text",value:i.company_name,onChange:d=>o({...i,company_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia"}),n.jsx("input",{type:"text",value:i.trade_name,onChange:d=>o({...i,trade_name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ *"}),n.jsx("input",{type:"text",value:i.cnpj,onChange:d=>o({...i,cnpj:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00.000.000/0000-00",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Estadual"}),n.jsx("input",{type:"text",value:i.state_registration,onChange:d=>o({...i,state_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Inscrio Municipal"}),n.jsx("input",{type:"text",value:i.municipal_registration,onChange:d=>o({...i,municipal_registration:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Endereo"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo Completo"}),n.jsx("input",{type:"text",value:i.address,onChange:d=>o({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cidade"}),n.jsx("input",{type:"text",value:i.city,onChange:d=>o({...i,city:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),n.jsx("input",{type:"text",value:i.state,onChange:d=>o({...i,state:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",maxLength:2})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CEP"}),n.jsx("input",{type:"text",value:i.zip_code,onChange:d=>o({...i,zip_code:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"00000-000"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contato"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"tel",value:i.phone,onChange:d=>o({...i,phone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),n.jsx("input",{type:"email",value:i.email,onChange:d=>o({...i,email:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),n.jsx("input",{type:"url",value:i.website,onChange:d=>o({...i,website:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://"})]})]})]}),n.jsxs("div",{className:"border-t pt-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Personalizao"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Primria"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"text",value:i.primary_color,onChange:d=>o({...i,primary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor Secundria"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{type:"color",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"h-10 w-20 border border-gray-300 rounded cursor-pointer"}),n.jsx("input",{type:"text",value:i.secondary_color,onChange:d=>o({...i,secondary_color:d.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsxs("button",{onClick:c,disabled:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[n.jsx(hr,{className:"w-5 h-5"}),s?"Salvando...":"Salvar Configuraes"]})})]})})]})},uOe=()=>{const{isAdmin:t}=On(),[e,r]=O.useState([]),[s,a]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState("all"),[d,u]=O.useState(!1),[h,f]=O.useState(null),[p,v]=O.useState({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""});O.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:S,error:E}=await pe.from("equipments").select("*").order("name",{ascending:!0});if(E)throw E;r(S||[])}catch(S){console.error("Error loading equipments:",S)}finally{a(!1)}},g=async()=>{try{if(!p.name||!p.brand||!p.model){alert("Preencha os campos obrigatrios");return}if(h){const{error:S}=await pe.from("equipments").update(p).eq("id",h.id);if(S)throw S}else{const{error:S}=await pe.from("equipments").insert([p]);if(S)throw S}await y(),_()}catch(S){console.error("Error saving equipment:",S),alert("Erro ao salvar equipamento")}},x=async S=>{if(confirm("Tem certeza que deseja excluir este equipamento?"))try{const{error:E}=await pe.from("equipments").delete().eq("id",S);if(E)throw E;await y()}catch(E){console.error("Error deleting equipment:",E),alert("Erro ao excluir equipamento")}},w=S=>{f(S),v({name:S.name,type:S.type,brand:S.brand,model:S.model,serial_number:S.serial_number||"",status:S.status||"active",location:S.location||"",notes:S.notes||""}),u(!0)},_=()=>{u(!1),f(null),v({name:"",type:"ar_condicionado",brand:"",model:"",serial_number:"",status:"active",location:"",notes:""})},k=S=>({ar_condicionado:"Ar Condicionado",refrigeracao:"Refrigerao",eletrica:"Eltrica",hidraulica:"Hidrulica",outros:"Outros"})[S]||S,C=e.filter(S=>{const E=S.name.toLowerCase().includes(i.toLowerCase())||S.brand.toLowerCase().includes(i.toLowerCase())||S.model.toLowerCase().includes(i.toLowerCase()),D=l==="all"||S.type===l;return E&&D}),B=["ar_condicionado","refrigeracao","eletrica","hidraulica","outros"],I={total:e.length,byCategory:B.reduce((S,E)=>(S[E]=e.filter(D=>D.type===E).length,S),{})};return s?n.jsx("div",{className:"flex items-center justify-center h-64",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Catlogo de Equipamentos"}),n.jsx("p",{className:"text-gray-600",children:"Gesto de equipamentos e especificaes tcnicas"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-8",children:[n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.total})]}),n.jsx(qt,{className:"w-10 h-10 text-blue-500"})]})}),B.slice(0,4).map(S=>n.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:k(S)}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:I.byCategory[S]||0})]})},S))]}),n.jsxs("div",{className:"bg-white rounded-lg shadow",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[n.jsxs("div",{className:"flex-1 flex gap-4",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.jsx("input",{type:"text",placeholder:"Buscar equipamentos...",value:i,onChange:S=>o(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("select",{value:l,onChange:S=>c(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[n.jsx("option",{value:"all",children:"Todas as Categorias"}),B.map(S=>n.jsx("option",{value:S,children:k(S)},S))]})]}),n.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"w-5 h-5"}),"Novo Equipamento"]})]})}),n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Marca"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Modelo"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(S=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.name})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:k(S.type)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.brand})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("div",{className:"text-sm text-gray-900",children:S.model})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:S.notes})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsx("button",{onClick:()=>w(S),className:"text-blue-600 hover:text-blue-900",children:n.jsx(hn,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>x(S.id),className:"text-red-600 hover:text-red-900",children:n.jsx(Yt,{className:"w-5 h-5"})})]})})]},S.id))})]}),C.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(qt,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhum equipamento encontrado"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Comece adicionando um novo equipamento."})]})]})]}),d&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsx(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6",children:h?"Editar Equipamento":"Novo Equipamento"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome *"}),n.jsx("input",{type:"text",value:p.name,onChange:S=>v({...p,name:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria *"}),n.jsx("select",{value:p.type,onChange:S=>v({...p,type:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:B.map(S=>n.jsx("option",{value:S,children:k(S)},S))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Marca *"}),n.jsx("input",{type:"text",value:p.brand,onChange:S=>v({...p,brand:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Modelo *"}),n.jsx("input",{type:"text",value:p.model,onChange:S=>v({...p,model:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nmero de Srie"}),n.jsx("input",{type:"text",value:p.serial_number,onChange:S=>v({...p,serial_number:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Localizao"}),n.jsx("input",{type:"text",value:p.location,onChange:S=>v({...p,location:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:p.notes,onChange:S=>v({...p,notes:S.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Salvar"}),n.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"})]})]})})})]})},hOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState(!0),[a,i]=O.useState(""),[o,l]=O.useState(!1),[c,d]=O.useState(null),[u,h]=O.useState("all"),[f,p]=O.useState(!1),[v,y]=O.useState(!1),[g,x]=O.useState(""),[w,_]=O.useState(""),[k,C]=O.useState({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""});O.useEffect(()=>{B()},[]);const B=async()=>{try{s(!0);const{data:z,error:ee}=await pe.from("suppliers").select("*").order("name");if(ee)throw ee;e(z||[])}catch(z){console.error("Error loading suppliers:",z)}finally{s(!1)}},I=async()=>{try{if(!k.name){alert("Nome  obrigatrio!");return}const z={name:k.name,cnpj:k.cnpj||null,email:k.email||null,phone:k.phone||null,address:k.address||null,contact_person:k.contact_person||null,payment_terms:k.payment_terms||null,notes:k.notes||null,active:k.active};if(c){const{error:ee}=await pe.from("suppliers").update(z).eq("id",c.id);if(ee)throw ee}else{const{error:ee}=await pe.from("suppliers").insert([z]);if(ee)throw ee}l(!1),d(null),N(),B()}catch(z){console.error("Error saving supplier:",z),alert("Erro ao salvar fornecedor!")}},S=z=>{d(z),C({name:z.name,cnpj:z.cnpj||"",email:z.email||"",phone:z.phone||"",address:z.address||"",contact_person:z.contact_person||"",payment_terms:z.payment_terms||"",active:z.active,notes:z.notes||""}),l(!0)},E=async z=>{if(confirm("Deseja realmente excluir este fornecedor?"))try{const{error:ee}=await pe.from("suppliers").delete().eq("id",z);if(ee)throw ee;B()}catch(ee){console.error("Error deleting supplier:",ee),alert("Erro ao excluir fornecedor!")}},D=async(z,ee)=>{try{const{error:G}=await pe.from("suppliers").update({active:!ee}).eq("id",z);if(G)throw G;B()}catch(G){console.error("Error updating status:",G)}},N=()=>{C({name:"",cnpj:"",email:"",phone:"",address:"",contact_person:"",payment_terms:"",active:!0,notes:""}),x(""),_("")},T=async()=>{if(!k.cnpj){x("Digite um CNPJ");return}if(k.cnpj.replace(/\D/g,"").length!==14){x("CNPJ deve ter 14 dgitos");return}p(!0),x("");try{const ee=await Zz(k.cnpj);ee&&C(G=>({...G,name:ee.nome_fantasia||ee.razao_social||G.name,email:ee.email||G.email,phone:ee.telefone||G.phone,address:ee.logradouro?`${ee.logradouro}, ${ee.numero||"S/N"}`:G.address}))}catch(ee){x(ee instanceof Error?ee.message:"Erro ao buscar CNPJ")}finally{p(!1)}},Q=z=>{const ee=eV(z);C({...k,cnpj:ee}),x("")},U=t.filter(z=>{const ee=z.name.toLowerCase().includes(a.toLowerCase())||z.cnpj?.toLowerCase().includes(a.toLowerCase()),G=u==="all"||u==="active"&&z.active||u==="inactive"&&!z.active;return ee&&G}),K={total:t.length,active:t.filter(z=>z.active).length,inactive:t.filter(z=>!z.active).length};return r?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):n.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(md,{className:"h-8 w-8 text-blue-600"}),"Gesto de Fornecedores"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gerencie seus fornecedores e parceiros"})]}),n.jsxs("button",{onClick:()=>{d(null),N(),l(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-4 w-4"}),"Novo Fornecedor"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:n.jsx(md,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.total})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:n.jsx(ys,{className:"h-6 w-6 text-green-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Ativos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.active})]})]})}),n.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:n.jsx(ih,{className:"h-6 w-6 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Inativos"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900",children:K.inactive})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar fornecedores...",value:a,onChange:z=>i(z.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),n.jsxs("select",{value:u,onChange:z=>h(z.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[n.jsx("option",{value:"all",children:"Todos"}),n.jsx("option",{value:"active",children:"Ativos"}),n.jsx("option",{value:"inactive",children:"Inativos"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(z=>n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:`p-6 rounded-xl border-2 transition-all ${z.active?"bg-white border-gray-200 hover:border-blue-300":"bg-gray-50 border-gray-200"}`,children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-lg text-gray-900 truncate",children:z.name}),z.name&&n.jsx("p",{className:"text-sm text-gray-600 truncate",children:z.name})]}),n.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full whitespace-nowrap ml-2 ${z.active?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:z.active?"Ativo":"Inativo"})]}),n.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[z.cnpj&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(md,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.cnpj})]}),z.email&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(vs,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.email})]}),z.phone&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(ci,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{children:z.phone})]}),z.address&&n.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[n.jsx(no,{className:"h-3 w-3 flex-shrink-0"}),n.jsx("span",{className:"truncate",children:z.address})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>S(z),className:"flex-1 px-3 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors text-sm font-medium flex items-center justify-center gap-1",children:[n.jsx(hn,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>D(z.id,z.active),className:`px-3 py-2 rounded-lg transition-colors ${z.active?"bg-yellow-50 text-yellow-600 hover:bg-yellow-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,title:z.active?"Desativar":"Ativar",children:z.active?n.jsx(ih,{className:"h-4 w-4"}):n.jsx(ys,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>E(z.id),className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]},z.id))}),U.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(md,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum fornecedor encontrado"})]})]}),o&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-xl p-6 max-w-3xl w-full my-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900",children:c?"Editar Fornecedor":"Novo Fornecedor"}),n.jsx("button",{onClick:()=>{l(!1),d(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:n.jsx(ih,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Fantasia *"}),n.jsx("input",{type:"text",value:k.name,onChange:z=>C({...k,name:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Materiais Premium Ltda"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPJ"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:k.cnpj,onChange:z=>Q(z.target.value),onKeyPress:z=>{z.key==="Enter"&&(z.preventDefault(),T())},className:`w-full px-4 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 ${g?"border-red-500":"border-gray-300"}`,placeholder:"00.000.000/0000-00",maxLength:18}),n.jsx("button",{type:"button",onClick:T,disabled:f||!k.cnpj,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-blue-600 hover:text-blue-700 disabled:text-gray-400",title:"Buscar CNPJ",children:f?n.jsx(Tp,{className:"w-5 h-5 animate-spin"}):n.jsx(sn,{className:"w-5 h-5"})})]}),g&&n.jsx("p",{className:"mt-1 text-sm text-red-600",children:g})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("input",{type:"email",value:k.email,onChange:z=>C({...k,email:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@fornecedor.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),n.jsx("input",{type:"text",value:k.phone,onChange:z=>C({...k,phone:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"(00) 0000-0000"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Contato"}),n.jsx("input",{type:"text",value:k.contact_person,onChange:z=>C({...k,contact_person:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do responsvel"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo"}),n.jsx("input",{type:"text",value:k.address,onChange:z=>C({...k,address:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condies de Pagamento"}),n.jsx("input",{type:"text",value:k.payment_terms,onChange:z=>C({...k,payment_terms:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 30 dias,  vista, etc"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observaes"}),n.jsx("textarea",{value:k.notes,onChange:z=>C({...k,notes:z.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais..."})]})]}),n.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-gray-200",children:[n.jsx("input",{type:"checkbox",id:"ativo",checked:k.active,onChange:z=>C({...k,active:z.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("label",{htmlFor:"ativo",className:"text-sm font-medium text-gray-700",children:"Fornecedor ativo"})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>{l(!1),d(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:I,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(ys,{className:"h-4 w-4"}),"Salvar"]})]})]})})]})},AOe=({isOpen:t,onClose:e,onSave:r,scheduleId:s})=>{const[a,i]=O.useState(!1),[o,l]=O.useState([]),[c,d]=O.useState({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""});O.useEffect(()=>{t&&(u(),s&&h())},[t,s]);const u=async()=>{try{const{data:x}=await pe.from("inventory_items").select("id, name, supplier_name, unit_cost, min_quantity").eq("active",!0).order("name");l(x||[])}catch(x){console.error("Error loading inventory:",x)}},h=async()=>{if(s)try{const{data:x,error:w}=await pe.from("purchase_schedules").select("*").eq("id",s).single();if(w)throw w;x&&d({schedule_name:x.schedule_name||"",inventory_id:x.inventory_id||"",supplier_name:x.supplier_name||"",frequency:x.frequency||"monthly",quantity:x.quantity||0,unit_price:x.unit_price||0,next_order_date:x.next_order_date||new Date().toISOString().split("T")[0],active:x.active!==!1,notes:x.notes||""})}catch(x){console.error("Error loading schedule:",x),alert("Erro ao carregar programao")}},f=x=>{const w=o.find(_=>_.id===x);w&&d(_=>({..._,inventory_id:x,supplier_name:w.supplier_name||"",unit_price:w.unit_cost||0,quantity:w.min_quantity*2||10,schedule_name:`Compra Recorrente - ${w.name}`}))},p=async x=>{try{const w=o.find(_=>_.id===x.inventory_id);if(!w)return;await pe.from("agenda_events").insert([{title:`Compra Programada: ${w.name}`,description:`Programao automtica de compra
Quantidade: ${x.quantity}
Fornecedor: ${x.supplier_name}
Valor: R$ ${(x.quantity*x.unit_price).toFixed(2)}`,start_date:x.next_order_date,end_date:x.next_order_date,type:"purchase",status:"pending",all_day:!0,color:"#f59e0b",metadata:{schedule_id:s,inventory_id:x.inventory_id,supplier:x.supplier_name,quantity:x.quantity,unit_price:x.unit_price}}])}catch(w){console.error("Error creating agenda event:",w)}},v=async()=>{if(!c.schedule_name||!c.inventory_id||c.quantity<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const x={schedule_name:c.schedule_name,inventory_id:c.inventory_id,supplier_name:c.supplier_name,frequency:c.frequency,quantity:c.quantity,unit_price:c.unit_price,next_order_date:c.next_order_date,active:c.active,notes:c.notes,updated_at:new Date().toISOString()};if(s){const{error:w}=await pe.from("purchase_schedules").update(x).eq("id",s);if(w)throw w}else{const{data:w,error:_}=await pe.from("purchase_schedules").insert([x]).select().single();if(_)throw _;await p(w)}alert("Programao salva com sucesso!"),r(),e(),y()}catch(x){console.error("Error saving schedule:",x),alert("Erro ao salvar programao")}finally{i(!1)}},y=()=>{d({schedule_name:"",inventory_id:"",supplier_name:"",frequency:"monthly",quantity:0,unit_price:0,next_order_date:new Date().toISOString().split("T")[0],active:!0,notes:""})},g=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?n.jsx(vt,{children:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-blue-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(di,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold",children:[s?"Editar":"Nova"," Programao de Compra"]}),n.jsx("p",{className:"text-sm text-blue-100",children:"Compras automticas recorrentes"})]})]}),n.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-blue-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Programao Automtica"}),n.jsx("p",{children:"Esta compra ser criada automaticamente na agenda na data especificada e se repetir na frequncia escolhida."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(qt,{className:"inline h-4 w-4 mr-1"}),"Item do Estoque *"]}),n.jsxs("select",{value:c.inventory_id,onChange:x=>f(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um item..."}),o.map(x=>n.jsxs("option",{value:x.id,children:[x.name," - ",x.supplier_name||"Sem fornecedor"]},x.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),n.jsx("input",{type:"text",value:c.schedule_name,onChange:x=>d(w=>({...w,schedule_name:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Compra Mensal de Cabos",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fornecedor *"}),n.jsx("input",{type:"text",value:c.supplier_name,onChange:x=>d(w=>({...w,supplier_name:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nome do fornecedor",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(di,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),n.jsx("select",{value:c.frequency,onChange:x=>d(w=>({...w,frequency:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:g.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantidade *"}),n.jsx("input",{type:"number",value:c.quantity,onChange:x=>d(w=>({...w,quantity:parseFloat(x.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(gr,{className:"inline h-4 w-4 mr-1"}),"Preo Unitrio (R$)"]}),n.jsx("input",{type:"number",value:c.unit_price,onChange:x=>d(w=>({...w,unit_price:parseFloat(x.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(vr,{className:"inline h-4 w-4 mr-1"}),"Prxima Compra *"]}),n.jsx("input",{type:"date",value:c.next_order_date,onChange:x=>d(w=>({...w,next_order_date:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),n.jsx("div",{children:n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.active,onChange:x=>d(w=>({...w,active:x.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Programao Ativa"})]})}),c.quantity>0&&c.unit_price>0&&n.jsx("div",{className:"md:col-span-2 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Valor Total Estimado:"}),n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",(c.quantity*c.unit_price).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:c.notes,onChange:x=>d(w=>({...w,notes:x.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informaes adicionais sobre esta programao..."})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:v,disabled:a,className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[n.jsx(hr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},fOe=({isOpen:t,onClose:e,onSave:r,scheduleId:s})=>{const[a,i]=O.useState(!1),[o,l]=O.useState([]),[c,d]=O.useState({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0});O.useEffect(()=>{t&&(u(),s&&h())},[t,s]);const u=async()=>{try{const{data:g}=await pe.from("customers").select("id, nome_razao, email, telefone").order("nome_razao");l(g||[])}catch(g){console.error("Error loading customers:",g)}},h=async()=>{if(s)try{const{data:g,error:x}=await pe.from("rental_schedules").select("*").eq("id",s).single();if(x)throw x;g&&d({schedule_name:g.schedule_name||"",customer_id:g.customer_id||"",equipment_name:g.equipment_name||"",frequency:g.frequency||"monthly",rental_value:g.rental_value||0,start_date:g.start_date||new Date().toISOString().split("T")[0],end_date:g.end_date||"",next_billing_date:g.next_billing_date||new Date().toISOString().split("T")[0],active:g.active!==!1,notes:g.notes||"",auto_generate_invoice:g.auto_generate_invoice!==!1})}catch(g){console.error("Error loading schedule:",g),alert("Erro ao carregar programao de locao")}},f=async g=>{try{const x=o.find(w=>w.id===g.customer_id);if(!x)return;await pe.from("agenda_events").insert([{title:`Locao: ${g.equipment_name}`,description:`Cliente: ${x.nome_razao}
Equipamento: ${g.equipment_name}
Valor: R$ ${g.rental_value.toFixed(2)}
Faturamento automtico: ${g.auto_generate_invoice?"Sim":"No"}`,start_date:g.next_billing_date,end_date:g.next_billing_date,type:"rental",status:"pending",all_day:!0,color:"#8b5cf6",customer_id:g.customer_id,metadata:{schedule_id:s,customer_id:g.customer_id,equipment_name:g.equipment_name,rental_value:g.rental_value,auto_generate_invoice:g.auto_generate_invoice}}])}catch(x){console.error("Error creating agenda event:",x)}},p=async()=>{if(!c.schedule_name||!c.customer_id||!c.equipment_name||c.rental_value<=0){alert("Preencha todos os campos obrigatrios");return}i(!0);try{const g={schedule_name:c.schedule_name,customer_id:c.customer_id,equipment_name:c.equipment_name,frequency:c.frequency,rental_value:c.rental_value,start_date:c.start_date,end_date:c.end_date||null,next_billing_date:c.next_billing_date,active:c.active,notes:c.notes,auto_generate_invoice:c.auto_generate_invoice,updated_at:new Date().toISOString()};if(s){const{error:x}=await pe.from("rental_schedules").update(g).eq("id",s);if(x)throw x}else{const{data:x,error:w}=await pe.from("rental_schedules").insert([g]).select().single();if(w)throw w;await f(x)}alert("Programao de locao salva com sucesso!"),r(),e(),v()}catch(g){console.error("Error saving rental schedule:",g),alert("Erro ao salvar programao de locao")}finally{i(!1)}},v=()=>{d({schedule_name:"",customer_id:"",equipment_name:"",frequency:"monthly",rental_value:0,start_date:new Date().toISOString().split("T")[0],end_date:"",next_billing_date:new Date().toISOString().split("T")[0],active:!0,notes:"",auto_generate_invoice:!0})},y=[{value:"daily",label:"Diria"},{value:"weekly",label:"Semanal"},{value:"biweekly",label:"Quinzenal"},{value:"monthly",label:"Mensal"},{value:"quarterly",label:"Trimestral"}];return t?n.jsx(vt,{children:n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-purple-700 text-white p-6 rounded-t-xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(NE,{className:"h-6 w-6"}),n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold",children:[s?"Editar":"Nova"," Programao de Locao"]}),n.jsx("p",{className:"text-sm text-purple-100",children:"Locaes e faturamentos recorrentes"})]})]}),n.jsx("button",{onClick:e,className:"text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:n.jsx(bt,{className:"h-5 w-5"})})]}),n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 flex items-start gap-3",children:[n.jsx(Gn,{className:"h-5 w-5 text-purple-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"text-sm text-purple-800",children:[n.jsx("p",{className:"font-medium mb-1",children:"Faturamento Automtico"}),n.jsx("p",{children:"Esta locao ser lanada automaticamente na agenda e pode gerar receitas financeiras na data especificada."})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Programao *"}),n.jsx("input",{type:"text",value:c.schedule_name,onChange:g=>d(x=>({...x,schedule_name:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Ex: Locao Mensal - Escavadeira",required:!0})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cliente *"}),n.jsxs("select",{value:c.customer_id,onChange:g=>d(x=>({...x,customer_id:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0,children:[n.jsx("option",{value:"",children:"Selecione um cliente..."}),o.map(g=>n.jsx("option",{value:g.id,children:g.nome_razao},g.id))]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(qt,{className:"inline h-4 w-4 mr-1"}),"Equipamento/Servio *"]}),n.jsx("input",{type:"text",value:c.equipment_name,onChange:g=>d(x=>({...x,equipment_name:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Nome do equipamento ou servio locado",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(di,{className:"inline h-4 w-4 mr-1"}),"Frequncia *"]}),n.jsx("select",{value:c.frequency,onChange:g=>d(x=>({...x,frequency:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:y.map(g=>n.jsx("option",{value:g.value,children:g.label},g.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(gr,{className:"inline h-4 w-4 mr-1"}),"Valor da Locao (R$) *"]}),n.jsx("input",{type:"number",value:c.rental_value,onChange:g=>d(x=>({...x,rental_value:parseFloat(g.target.value)||0})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",min:"0",step:"0.01",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(vr,{className:"inline h-4 w-4 mr-1"}),"Data de Incio *"]}),n.jsx("input",{type:"date",value:c.start_date,onChange:g=>d(x=>({...x,start_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data de Trmino (Opcional)"}),n.jsx("input",{type:"date",value:c.end_date,onChange:g=>d(x=>({...x,end_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prximo Faturamento *"}),n.jsx("input",{type:"date",value:c.next_billing_date,onChange:g=>d(x=>({...x,next_billing_date:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",required:!0})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.active,onChange:g=>d(x=>({...x,active:g.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ativa"})]}),n.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:c.auto_generate_invoice,onChange:g=>d(x=>({...x,auto_generate_invoice:g.target.checked})),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Gerar Receita"})]})]}),c.rental_value>0&&n.jsx("div",{className:"md:col-span-2 bg-purple-50 border border-purple-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Valor por Perodo:"}),n.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:["R$ ",c.rental_value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:c.notes,onChange:g=>d(x=>({...x,notes:g.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",rows:3,placeholder:"Informaes adicionais sobre esta locao..."})]})]})]}),n.jsxs("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-xl flex justify-end gap-3 border-t",children:[n.jsx("button",{onClick:e,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors",children:"Cancelar"}),n.jsxs("button",{onClick:p,disabled:a,className:"bg-gradient-to-r from-purple-600 to-purple-700 text-white px-6 py-2 rounded-lg hover:shadow-lg transition-all flex items-center gap-2 disabled:opacity-50",children:[n.jsx(hr,{className:"h-4 w-4"}),a?"Salvando...":"Salvar Programao"]})]})]})})}):null},mOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState("all"),[c,d]=O.useState(""),[u,h]=O.useState("alerts"),[f,p]=O.useState(!1),[v,y]=O.useState(!1);O.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0),await Promise.all([x(),w()])}catch(N){console.error("Error loading data:",N)}finally{i(!1)}},x=async()=>{const{data:N}=await pe.from("purchase_orders").select("*").order("created_at",{ascending:!1}).limit(100);e(N||[])},w=async()=>{try{const{data:N,error:T}=await pe.rpc("get_items_needing_purchase");if(T)throw T;s(N||[])}catch(N){console.error("Error loading low stock items:",N)}},_=N=>({draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",approved:"bg-blue-100 text-blue-800",ordered:"bg-purple-100 text-purple-800",partial:"bg-orange-100 text-orange-800",received:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[N]||"bg-gray-100 text-gray-800",k=N=>({draft:"Rascunho",pending:"Pendente",approved:"Aprovado",ordered:"Pedido Feito",partial:"Parcial",received:"Recebido",cancelled:"Cancelado"})[N]||N,C=N=>({low:"text-gray-500",normal:"text-blue-500",high:"text-orange-500",urgent:"text-red-500"})[N]||"text-gray-500",B=N=>({critical:"bg-red-600 text-white",urgent:"bg-orange-500 text-white",normal:"bg-yellow-500 text-white",low:"bg-blue-500 text-white"})[N]||"bg-gray-500 text-white",I=N=>({critical:"CRTICO",urgent:"URGENTE",normal:"NORMAL",low:"BAIXA"})[N]||N,S=t.filter(N=>{const T=N.order_number.toLowerCase().includes(c.toLowerCase())||N.supplier_name.toLowerCase().includes(c.toLowerCase()),Q=o==="all"||N.status===o;return T&&Q}),E={totalOrders:t.length,pendingOrders:t.filter(N=>N.status==="pending"||N.status==="approved").length,criticalItems:r.filter(N=>N.urgency==="critical").length,totalAlerts:r.length,pendingValue:t.filter(N=>N.status==="pending"||N.status==="approved").reduce((N,T)=>N+(T.final_amount||0),0)},D=async N=>{try{const{data:T}=await pe.rpc("generate_purchase_order_number"),Q=T||`PO${Date.now()}`,U=N.supplier||"A Definir",K=N.unit_price||N.estimated_cost/N.recommended_order_qty,{data:z,error:ee}=await pe.from("purchase_orders").insert([{order_number:Q,supplier_name:U,status:"draft",priority:N.urgency==="critical"?"urgent":N.urgency==="urgent"?"high":"normal",order_date:new Date().toISOString().split("T")[0],notes:`Pedido automtico - ${N.item_name}
Categoria: ${N.category||"N/A"}
Localizao: ${N.location||"N/A"}
Estoque Atual: ${N.current_stock}
Estoque Mnimo: ${N.min_stock}
Dias at ruptura: ${N.days_until_stockout||"N/A"}`}]).select().single();if(ee)throw ee;const{error:G}=await pe.from("purchase_order_items").insert([{purchase_order_id:z.id,inventory_id:N.inventory_id,item_name:N.item_name,quantity:N.recommended_order_qty,unit_price:K,urgency_level:N.urgency}]);if(G)throw G;alert(` Pedido ${Q} criado com sucesso!

Fornecedor: ${U}
Quantidade: ${N.recommended_order_qty}
Valor: R$ ${N.estimated_cost.toFixed(2)}`),await g()}catch(T){console.error("Error creating purchase order:",T),alert("Erro ao criar pedido de compra")}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[n.jsx(Sm,{className:"h-8 w-8 text-blue-600"}),"Departamento de Compras"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Gesto completa de pedidos e alertas de estoque"})]}),n.jsxs("button",{onClick:()=>alert("Modal de novo pedido em desenvolvimento"),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-3 rounded-lg flex items-center gap-2 hover:shadow-lg transition-all",children:[n.jsx(zt,{className:"h-5 w-5"}),"Novo Pedido"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(Et,{className:"h-8 w-8 text-blue-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.totalOrders}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Pedidos"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(Wt,{className:"h-8 w-8 text-yellow-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.pendingOrders}),n.jsx("p",{className:"text-sm text-gray-600",children:"Pedidos Pendentes"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(Un,{className:"h-8 w-8 text-red-500 animate-pulse mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-red-600",children:E.criticalItems}),n.jsx("p",{className:"text-sm text-gray-600",children:"Itens Crticos"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(qt,{className:"h-8 w-8 text-orange-500 mb-2"}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:E.totalAlerts}),n.jsx("p",{className:"text-sm text-gray-600",children:"Total de Alertas"})]}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl p-4 shadow-md border border-gray-100",children:[n.jsx(gr,{className:"h-8 w-8 text-green-500 mb-2"}),n.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["R$ ",E.pendingValue.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("p",{className:"text-sm text-gray-600",children:"Valor Pendente"})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden",children:[n.jsxs("div",{className:"flex border-b",children:[n.jsxs("button",{onClick:()=>h("alerts"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="alerts"?"bg-red-50 text-red-600 border-b-2 border-red-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Un,{className:"h-5 w-5"}),n.jsxs("span",{className:"font-medium",children:["Alertas de Estoque (",E.totalAlerts,")"]})]}),n.jsxs("button",{onClick:()=>h("orders"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="orders"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Sm,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Pedidos de Compra"})]}),n.jsxs("button",{onClick:()=>h("schedules"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="schedules"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Wt,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Programao"})]}),n.jsxs("button",{onClick:()=>h("quotes"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 transition-colors ${u==="quotes"?"bg-blue-50 text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:bg-gray-50"}`,children:[n.jsx(Et,{className:"h-5 w-5"}),n.jsx("span",{className:"font-medium",children:"Cotaes"})]})]}),n.jsxs("div",{className:"p-6",children:[u==="alerts"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 border border-red-200 rounded-lg",children:[n.jsx(Un,{className:"h-6 w-6 text-red-600 animate-pulse"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("h3",{className:"font-semibold text-red-900",children:[E.criticalItems," ",E.criticalItems===1?"Item Crtico":"Itens Crticos"," Necessitando Ateno Imediata"]}),n.jsx("p",{className:"text-sm text-red-700",children:'Clique em "Criar Pedido" para gerar automaticamente um pedido de compra'})]})]}),r.length>0?n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Urgncia"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Material"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fornecedor"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estoque"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Qtd. Recomendada"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Preo Unit."}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Aes"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(N=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${B(N.urgency)}`,children:I(N.urgency)})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-gray-900",children:N.item_name}),n.jsxs("div",{className:"text-xs text-gray-500",children:[N.category||"Sem categoria","  ",N.location||"Sem local"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsx("div",{className:"font-medium text-gray-900",children:N.supplier||"A definir"}),N.last_purchase_date&&n.jsxs("div",{className:"text-xs text-gray-500",children:["ltima compra: ",new Date(N.last_purchase_date).toLocaleDateString("pt-BR")]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold text-red-600",children:N.current_stock})," ",n.jsxs("span",{className:"text-gray-500",children:["/ ",N.min_stock]})]}),N.days_until_stockout!==null&&N.days_until_stockout<30&&n.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:[" ",N.days_until_stockout," dias"]})]})}),n.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:N.recommended_order_qty}),n.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:["R$ ",(N.unit_price||0).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-green-600",children:["R$ ",N.estimated_cost.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsx("td",{className:"px-6 py-4 text-right",children:n.jsxs("button",{onClick:()=>D(N),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium flex items-center gap-2 ml-auto",children:[n.jsx(Sm,{className:"h-4 w-4"}),"Criar Pedido"]})})]},N.inventory_id))})]})}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Ua,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tudo Certo!"}),n.jsx("p",{className:"text-gray-600",children:"Nenhum item necessitando compra no momento"})]})]}),u==="orders"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:c,onChange:N=>d(N.target.value),placeholder:"Buscar por nmero ou fornecedor...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),n.jsxs("select",{value:o,onChange:N=>l(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),n.jsx("option",{value:"draft",children:"Rascunho"}),n.jsx("option",{value:"pending",children:"Pendente"}),n.jsx("option",{value:"approved",children:"Aprovado"}),n.jsx("option",{value:"ordered",children:"Pedido Feito"}),n.jsx("option",{value:"received",children:"Recebido"}),n.jsx("option",{value:"cancelled",children:"Cancelado"})]})]}),S.length>0?n.jsx("div",{className:"space-y-3",children:S.map(N=>n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:N.order_number}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_(N.status)}`,children:k(N.status)}),n.jsxs("span",{className:`text-sm font-medium ${C(N.priority)}`,children:[N.priority==="urgent"&&" URGENTE",N.priority==="high"&&" ALTA",N.priority==="normal"&&" NORMAL",N.priority==="low"&&" BAIXA"]})]}),n.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[n.jsxs("div",{children:["Fornecedor: ",n.jsx("span",{className:"font-medium text-gray-900",children:N.supplier_name})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("span",{children:["Data: ",new Date(N.order_date).toLocaleDateString("pt-BR")]}),N.expected_delivery_date&&n.jsxs("span",{children:["Entrega Prevista: ",new Date(N.expected_delivery_date).toLocaleDateString("pt-BR")]})]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",N.final_amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),n.jsxs("button",{className:"mt-2 text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[n.jsx(da,{className:"h-4 w-4"}),"Ver Detalhes"]})]})]})},N.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Sm,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),n.jsx("p",{className:"text-gray-600",children:"Crie seu primeiro pedido de compra"})]})]}),u==="schedules"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-8 border-2 border-blue-200",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-blue-600 p-3 rounded-lg",children:n.jsx(di,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Compra"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Compras recorrentes automticas"})]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Configure compras automticas de materiais com base em perodos fixos. O sistema gerar pedidos automaticamente e criar eventos na agenda."}),n.jsxs("button",{onClick:()=>p(!0),className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[n.jsx(zt,{className:"h-5 w-5"}),"Nova Programao de Compra"]})]}),n.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-8 border-2 border-purple-200",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:n.jsx(NE,{className:"h-8 w-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Programao de Locao"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Locaes e faturamentos recorrentes"})]})]}),n.jsx("p",{className:"text-gray-700 mb-6",children:"Configure locaes de equipamentos com faturamento automtico. O sistema pode gerar receitas financeiras automaticamente na agenda."}),n.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[n.jsx(zt,{className:"h-5 w-5"}),"Nova Programao de Locao"]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border",children:[n.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Programaes Ativas"}),n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(Wt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),n.jsx("p",{children:"Nenhuma programao cadastrada ainda"}),n.jsx("p",{className:"text-sm",children:"Crie sua primeira programao usando os botes acima"})]})]})]}),u==="quotes"&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cotaes de Fornecedores"}),n.jsx("p",{className:"text-gray-600",children:"Compare preos e condies de diferentes fornecedores"}),n.jsx("button",{className:"mt-4 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"Nova Cotao"})]})]})]}),n.jsx(AOe,{isOpen:f,onClose:()=>p(!1),onSave:()=>{p(!1),g()}}),n.jsx(fOe,{isOpen:v,onClose:()=>y(!1),onSave:()=>{y(!1),g()}})]})},pOe=({onRouteSelect:t})=>{const[e,r]=O.useState([]),[s,a]=O.useState([]),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[d,u]=O.useState(null),[h,f]=O.useState([]),[p,v]=O.useState("today"),[y,g]=O.useState({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""});O.useEffect(()=>{x(),w()},[p]);const x=async()=>{try{o(!0);let D=pe.from("routes").select(`
          *,
          route_stops(count)
        `).order("route_date",{ascending:!1}).order("created_at",{ascending:!1});if(p==="today"){const U=new Date().toISOString().split("T")[0];D=D.eq("route_date",U)}else p!=="all"&&(D=D.eq("status",p));const{data:N,error:T}=await D;if(T)throw T;const Q=await Promise.all((N||[]).map(async U=>{let K="No atribudo";if(U.assigned_employee_id){const{data:z}=await pe.from("employees").select("name").eq("id",U.assigned_employee_id).single();z&&(K=z.name)}return{...U,employee_name:K,stop_count:U.route_stops?.[0]?.count||0}}));r(Q)}catch(D){console.error("Error loading routes:",D)}finally{o(!1)}},w=async()=>{try{const{data:D}=await pe.from("employees").select("id, name").eq("active",!0).order("name");a(D||[])}catch(D){console.error("Error loading employees:",D)}},_=async D=>{try{const{data:N,error:T}=await pe.from("route_stops").select("*").eq("route_id",D).order("stop_order");if(T)throw T;f(N||[])}catch(N){console.error("Error loading stops:",N)}},k=async()=>{if(!y.route_name){alert("Nome da rota  obrigatrio!");return}try{const{error:D}=await pe.from("routes").insert([y]);if(D)throw D;await x(),g({route_name:"",route_date:new Date().toISOString().split("T")[0],assigned_employee_id:"",vehicle_id:"",estimated_duration_minutes:0,notes:""}),c(!1)}catch(D){console.error("Error creating route:",D),alert("Erro ao criar rota!")}},C=async(D,N)=>{try{const T={status:N};if(N==="in_progress"&&!e.find(U=>U.id===D)?.start_time&&(T.start_time=new Date().toISOString()),N==="completed"){T.end_time=new Date().toISOString();const U=e.find(K=>K.id===D);if(U?.start_time){const K=new Date(U.start_time),z=new Date;T.actual_duration_minutes=Math.round((z.getTime()-K.getTime())/6e4)}}const{error:Q}=await pe.from("routes").update(T).eq("id",D);if(Q)throw Q;await x()}catch(T){console.error("Error updating status:",T),alert("Erro ao atualizar status!")}},B=async D=>{if(confirm("Deseja realmente excluir esta rota?"))try{const{error:N}=await pe.from("routes").delete().eq("id",D);if(N)throw N;await x()}catch(N){console.error("Error deleting route:",N),alert("Erro ao excluir rota!")}},I=D=>{u(D===d?null:D),D!==d&&(_(D),t&&t(D))},S=D=>{switch(D){case"pending":return{label:"Pendente",icon:Wt,color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"in_progress":return{label:"Em Andamento",icon:JF,color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"completed":return{label:"Concluda",icon:Ua,color:"green",bgColor:"bg-green-100",textColor:"text-green-800"};case"cancelled":return{label:"Cancelada",icon:FH,color:"red",bgColor:"bg-red-100",textColor:"text-red-800"};default:return{label:D,icon:Wt,color:"gray",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},E=D=>new Date(D).toLocaleDateString("pt-BR");return i?n.jsx("div",{className:"text-center py-8",children:"Carregando rotas..."}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 rounded-lg p-6 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Gesto de Rotas"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Planeje e acompanhe as rotas da equipe"})]}),n.jsxs("button",{onClick:()=>c(!l),className:"px-6 py-3 bg-white text-blue-600 rounded-lg hover:bg-blue-50 flex items-center gap-2 transition-colors font-semibold",children:[n.jsx(zt,{className:"h-5 w-5"}),"Nova Rota"]})]}),n.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[n.jsx("span",{className:"text-sm font-medium",children:"Filtrar:"}),n.jsx("button",{onClick:()=>v("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="all"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Todas"}),n.jsx("button",{onClick:()=>v("today"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="today"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Hoje"}),n.jsx("button",{onClick:()=>v("pending"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="pending"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Pendentes"}),n.jsx("button",{onClick:()=>v("in_progress"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="in_progress"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Em Andamento"}),n.jsx("button",{onClick:()=>v("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${p==="completed"?"bg-white text-blue-600":"bg-blue-500 text-white hover:bg-blue-400"}`,children:"Concludas"})]})]}),n.jsx(vt,{children:l&&n.jsxs(he.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white rounded-lg border border-gray-200 p-6",children:[n.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[n.jsx(I0,{className:"h-5 w-5 text-blue-600"}),"Nova Rota"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Rota *"}),n.jsx("input",{type:"text",value:y.route_name,onChange:D=>g({...y,route_name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rota Centro - Manh"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data"}),n.jsx("input",{type:"date",value:y.route_date,onChange:D=>g({...y,route_date:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funcionrio"}),n.jsxs("select",{value:y.assigned_employee_id,onChange:D=>g({...y,assigned_employee_id:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione..."}),s.map(D=>n.jsx("option",{value:D.id,children:D.name},D.id))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Veculo/Placa"}),n.jsx("input",{type:"text",value:y.vehicle_id,onChange:D=>g({...y,vehicle_id:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: ABC-1234"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durao Estimada (minutos)"}),n.jsx("input",{type:"number",value:y.estimated_duration_minutes,onChange:D=>g({...y,estimated_duration_minutes:parseInt(D.target.value)||0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),n.jsx("textarea",{value:y.notes,onChange:D=>g({...y,notes:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Observaes sobre a rota..."})]})]}),n.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[n.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),n.jsx("button",{onClick:k,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Criar Rota"})]})]})}),e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[n.jsx(I0,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),n.jsx("p",{className:"text-gray-600",children:"Nenhuma rota encontrada"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:'Clique em "Nova Rota" para comear'})]}):n.jsx("div",{className:"space-y-4",children:e.map(D=>{const N=S(D.status),T=N.icon,Q=d===D.id;return n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{onClick:()=>I(D.id),className:"p-6 hover:bg-gray-50 transition-colors cursor-pointer",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:D.route_name}),n.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${N.bgColor} ${N.textColor}`,children:[n.jsx(T,{className:"h-3 w-3 inline mr-1"}),N.label]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mt-3 text-sm",children:[n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(no,{className:"h-3 w-3"}),"Data:"]}),n.jsx("p",{className:"font-medium",children:E(D.route_date)})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(Cn,{className:"h-3 w-3"}),"Responsvel:"]}),n.jsx("p",{className:"font-medium",children:D.employee_name})]}),D.vehicle_id&&n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(kH,{className:"h-3 w-3"}),"Veculo:"]}),n.jsx("p",{className:"font-medium",children:D.vehicle_id})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(no,{className:"h-3 w-3"}),"Paradas:"]}),n.jsx("p",{className:"font-medium",children:D.stop_count})]}),n.jsxs("div",{children:[n.jsxs("span",{className:"text-gray-500 flex items-center gap-1",children:[n.jsx(qr,{className:"h-3 w-3"}),"Distncia:"]}),n.jsxs("p",{className:"font-medium",children:[D.total_distance_km," km"]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[D.status==="pending"&&n.jsx("button",{onClick:U=>{U.stopPropagation(),C(D.id,"in_progress")},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Iniciar rota",children:n.jsx(JF,{className:"h-5 w-5"})}),D.status==="in_progress"&&n.jsx("button",{onClick:U=>{U.stopPropagation(),C(D.id,"completed")},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Concluir rota",children:n.jsx(Ua,{className:"h-5 w-5"})}),n.jsx("button",{onClick:U=>{U.stopPropagation(),B(D.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Excluir rota",children:n.jsx(Yt,{className:"h-5 w-5"})})]})]})}),n.jsx(vt,{children:Q&&n.jsxs(he.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-gray-200 bg-gray-50 p-6",children:[n.jsxs("h5",{className:"font-semibold mb-4",children:["Paradas da Rota (",h.length,")"]}),h.length===0?n.jsx("p",{className:"text-sm text-gray-500",children:"Nenhuma parada adicionada ainda"}):n.jsx("div",{className:"space-y-3",children:h.map((U,K)=>n.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-bold",children:K+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h6",{className:"font-medium text-gray-900",children:U.customer_name}),n.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.address}),U.notes&&n.jsx("p",{className:"text-xs text-gray-500 mt-2",children:U.notes})]}),n.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium ${S(U.status).bgColor} ${S(U.status).textColor}`,children:S(U.status).label})]})},U.id))})]})})]},D.id)})})]})},gOe=()=>{const[t,e]=O.useState(null);return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:n.jsx(I0,{className:"h-6 w-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Rastreamento e Gesto de Rotas"}),n.jsx("p",{className:"text-gray-600",children:"Planeje, acompanhe e gerencie as rotas da equipe em tempo real"})]})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Rotas Hoje"}),n.jsx("p",{className:"text-3xl font-bold text-gray-900",children:"0"})]}),n.jsx(no,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Em Andamento"}),n.jsx("p",{className:"text-3xl font-bold text-blue-600",children:"0"})]}),n.jsx(I0,{className:"h-12 w-12 text-blue-500 opacity-20"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"KM Hoje"}),n.jsx("p",{className:"text-3xl font-bold text-green-600",children:"0"})]}),n.jsx(qr,{className:"h-12 w-12 text-green-500 opacity-20"})]})})]}),n.jsx(pOe,{onRouteSelect:e}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:" Como funciona o rastreamento em tempo real?"}),n.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"1. Planejamento:"})," Crie rotas e adicione as paradas (ordens de servio) em sequncia"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"2. Atribuio:"})," Designe um funcionrio e veculo para cada rota"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"3. Rastreamento:"})," Quando a rota  iniciada, o sistema registra a localizao em tempo real"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"4. Otimizao:"})," Visualize o progresso, distncia percorrida e tempo estimado"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"5. Histrico:"})," Todo o trajeto fica registrado para anlise posterior"]})]})]}),n.jsxs("div",{className:"mt-6 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-purple-900 mb-3",children:" Recursos Disponveis"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-800",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Gesto de Rotas"}),n.jsx("p",{className:"text-purple-700",children:"Criar, editar e gerenciar rotas dirias"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Paradas Sequenciais"}),n.jsx("p",{className:"text-purple-700",children:"Adicionar ordens de servio em ordem"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Clculo de Distncia"}),n.jsx("p",{className:"text-purple-700",children:"Distncia total calculada automaticamente"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Status em Tempo Real"}),n.jsx("p",{className:"text-purple-700",children:"Acompanhe o progresso de cada rota"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Histrico Completo"}),n.jsx("p",{className:"text-purple-700",children:"Registros de todas as movimentaes"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold mb-1",children:" Otimizao de Rotas"}),n.jsx("p",{className:"text-purple-700",children:"Sugestes de melhor sequncia"})]})]})]})]})})},xOe=(t,e)=>{const r=new Rt,s=r.internal.pageSize.width,a=r.internal.pageSize.height;let i=20;const o=(u=20)=>i+u>a-20?(r.addPage(),i=20,!0):!1;r.setFillColor(41,128,185),r.rect(0,0,s,40,"F"),r.setTextColor(255,255,255),r.setFontSize(24),r.setFont("helvetica","bold"),r.text(t.title,15,25),i=50,r.setTextColor(0,0,0),r.setFillColor(245,245,245),r.rect(10,i-5,s-20,40,"F"),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Informaes do Documento",15,i+3),r.setFont("helvetica","normal"),r.setFontSize(9);const l=i+10;r.text(`Departamento: ${t.department}`,15,l),r.text(`Verso: ${t.version}`,s/2,l),t.category&&r.text(`Categoria: ${t.category}`,15,l+7),r.text(`Status: ${vOe(t.status)}`,s/2,l+7),r.text(`Criado em: ${new Date(t.createdAt).toLocaleDateString("pt-BR")}`,15,l+14),r.text(`Atualizado em: ${new Date(t.updatedAt).toLocaleDateString("pt-BR")}`,s/2,l+14),i+=48,t.description&&(o(20),r.setFontSize(11),r.setFont("helvetica","bold"),r.text("Descrio",15,i),i+=7,r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(t.description,s-30).forEach(h=>{o(),r.text(h,15,i),i+=5}),i+=5),t.tags&&t.tags.length>0&&(o(15),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("Tags: ",15,i),r.setFont("helvetica","normal"),r.text(t.tags.join(", "),35,i),i+=10),o(20),r.setDrawColor(41,128,185),r.setLineWidth(.5),r.line(15,i,s-15,i),i+=10,r.setFontSize(12),r.setFont("helvetica","bold"),r.text("Contedo",15,i),i+=8,yOe(t.content).forEach(u=>{o(u.height||15),u.type==="heading1"?(r.setFontSize(16),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=10):u.type==="heading2"?(r.setFontSize(14),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=8):u.type==="heading3"?(r.setFontSize(12),r.setFont("helvetica","bold"),r.text(u.text,15,i),i+=7):u.type==="paragraph"?(r.setFontSize(10),r.setFont("helvetica","normal"),r.splitTextToSize(u.text,s-30).forEach(f=>{o(),r.text(f,15,i),i+=5}),i+=3):u.type==="list"&&(r.setFontSize(10),r.setFont("helvetica","normal"),u.items.forEach(h=>{o(),r.text(" "+h,20,i),i+=5}),i+=3)}),i=a-30,r.setDrawColor(200,200,200),r.setLineWidth(.3),r.line(15,i,s-15,i),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Documento gerado em ${new Date().toLocaleString("pt-BR")}`,s/2,i+7,{align:"center"}),t.approvedBy&&t.approvedAt&&r.text(`Aprovado por: ${t.approvedBy} em ${new Date(t.approvedAt).toLocaleDateString("pt-BR")}`,s/2,i+12,{align:"center"});const d=r.getNumberOfPages();for(let u=1;u<=d;u++)r.setPage(u),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Pgina ${u} de ${d}`,s-15,a-10,{align:"right"});return r};function yOe(t){const e=[],r=t.split(`
`);let s="",a=[];return r.forEach(i=>{const o=i.trim();o.startsWith("# ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading1",text:o.substring(2)})):o.startsWith("## ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading2",text:o.substring(3)})):o.startsWith("### ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[]),e.push({type:"heading3",text:o.substring(4)})):o.startsWith("- ")||o.startsWith("* ")?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.push(o.substring(2))):o===""?(s&&(e.push({type:"paragraph",text:s.trim()}),s=""),a.length>0&&(e.push({type:"list",items:a}),a=[])):(a.length>0&&(e.push({type:"list",items:a}),a=[]),s+=(s?" ":"")+o)}),s&&e.push({type:"paragraph",text:s.trim()}),a.length>0&&e.push({type:"list",items:a}),e}function vOe(t){return{draft:"Rascunho",review:"Em Reviso",approved:"Aprovado",archived:"Arquivado"}[t]||t}const bOe=()=>{const[t,e]=O.useState([]),[r,s]=O.useState([]),[a,i]=O.useState(!0),[o,l]=O.useState(""),[c,d]=O.useState("all"),[u,h]=O.useState("all"),[f,p]=O.useState(!1),[v,y]=O.useState(!1),[g,x]=O.useState(null),[w,_]=O.useState(null),[k,C]=O.useState({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""}),[B,I]=O.useState(""),S=["Operacional","Financeiro","Comercial","RH","TI","Geral"],E=[{value:"draft",label:"Rascunho",color:"gray",icon:Wt},{value:"review",label:"Em Reviso",color:"yellow",icon:da},{value:"approved",label:"Aprovado",color:"green",icon:Ua},{value:"archived",label:"Arquivado",color:"blue",icon:iS}];O.useEffect(()=>{D(),N()},[]);const D=async()=>{try{i(!0);const{data:L,error:Y}=await pe.from("documents").select("*").order("updated_at",{ascending:!1});if(Y)throw Y;e(L||[])}catch(L){console.error("Erro ao carregar documentos:",L)}finally{i(!1)}},N=async()=>{try{const{data:L,error:Y}=await pe.from("document_templates").select("*").eq("is_active",!0).order("name");if(Y)throw Y;s(L||[])}catch(L){console.error("Erro ao carregar templates:",L)}},T=L=>{C({...k,content:L.content_template,department:L.department,category:L.category||"",template_type:L.name}),y(!1),p(!0)},Q=async()=>{try{if(g){const{error:L}=await pe.from("documents").update({title:k.title,description:k.description,content:k.content,department:k.department,category:k.category,status:k.status,tags:k.tags,updated_at:new Date().toISOString()}).eq("id",g.id);if(L)throw L}else{const{error:L}=await pe.from("documents").insert({title:k.title,description:k.description,content:k.content,department:k.department,category:k.category,status:k.status,tags:k.tags,template_type:k.template_type,version:1});if(L)throw L}await D(),ee()}catch(L){console.error("Erro ao salvar documento:",L),alert("Erro ao salvar documento")}},U=L=>{x(L),C({title:L.title,description:L.description||"",content:L.content,department:L.department,category:L.category||"",status:L.status,tags:L.tags||[],template_type:L.template_type||""}),p(!0)},K=async L=>{if(confirm("Tem certeza que deseja excluir este documento?"))try{const{error:Y}=await pe.from("documents").delete().eq("id",L);if(Y)throw Y;await D()}catch(Y){console.error("Erro ao excluir documento:",Y),alert("Erro ao excluir documento")}},z=L=>{xOe({title:L.title,description:L.description,content:L.content,department:L.department,category:L.category,version:L.version,createdAt:L.created_at,updatedAt:L.updated_at,status:L.status,tags:L.tags}).save(`${L.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_v${L.version}.pdf`)},ee=()=>{p(!1),x(null),C({title:"",description:"",content:"",department:"Operacional",category:"",status:"draft",tags:[],template_type:""})},G=()=>{B.trim()&&!k.tags.includes(B.trim())&&(C({...k,tags:[...k.tags,B.trim()]}),I(""))},q=L=>{C({...k,tags:k.tags.filter(Y=>Y!==L)})},re=t.filter(L=>{const Y=L.title.toLowerCase().includes(o.toLowerCase())||L.description?.toLowerCase().includes(o.toLowerCase())||L.tags.some(fe=>fe.toLowerCase().includes(o.toLowerCase())),X=c==="all"||L.department===c,Ae=u==="all"||L.status===u;return Y&&X&&Ae}),Z=L=>{const Y=E.find(X=>X.value===L);return Y?Y.icon:Wt},$=L=>({draft:"bg-gray-100 text-gray-800",review:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",archived:"bg-blue-100 text-blue-800"})[L]||"bg-gray-100 text-gray-800";return n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Documentao"}),n.jsx("p",{className:"text-indigo-100",children:"Gerencie documentos departamentais e gere PDFs"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>y(!0),className:"bg-white text-indigo-600 px-6 py-3 rounded-lg font-medium hover:bg-indigo-50 transition-colors flex items-center gap-2",children:[n.jsx(lS,{className:"h-5 w-5"}),"Usar Template"]}),n.jsxs("button",{onClick:()=>p(!0),className:"bg-indigo-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-400 transition-colors flex items-center gap-2",children:[n.jsx(zt,{className:"h-5 w-5"}),"Novo Documento"]})]})]})}),n.jsxs(he.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),placeholder:"Buscar documentos, tags...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500"})]}),n.jsxs("select",{value:c,onChange:L=>d(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"Todos os Departamentos"}),S.map(L=>n.jsx("option",{value:L,children:L},L))]}),n.jsxs("select",{value:u,onChange:L=>h(L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[n.jsx("option",{value:"all",children:"Todos os Status"}),E.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))]})]}),a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando documentos..."})]}):re.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Et,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 mb-4",children:"Nenhum documento encontrado"}),n.jsx("button",{onClick:()=>p(!0),className:"text-indigo-600 hover:text-indigo-700 font-medium",children:"Criar primeiro documento"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:re.map(L=>{const Y=Z(L.status);return n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-lg transition-shadow",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:L.title}),n.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:L.description})]}),n.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${$(L.status)}`,children:[n.jsx(Y,{className:"h-3 w-3"}),E.find(X=>X.value===L.status)?.label]})]}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 mb-3",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(Et,{className:"h-3 w-3"}),L.department]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(lS,{className:"h-3 w-3"}),"v",L.version]}),n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(vr,{className:"h-3 w-3"}),new Date(L.updated_at).toLocaleDateString("pt-BR")]})]}),L.tags&&L.tags.length>0&&n.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[L.tags.slice(0,3).map(X=>n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:X},X)),L.tags.length>3&&n.jsxs("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",L.tags.length-3]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>_(L),className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors text-sm flex items-center justify-center gap-1",children:[n.jsx(da,{className:"h-4 w-4"}),"Ver"]}),n.jsxs("button",{onClick:()=>U(L),className:"flex-1 px-3 py-2 bg-indigo-100 text-indigo-700 rounded hover:bg-indigo-200 transition-colors text-sm flex items-center justify-center gap-1",children:[n.jsx(ri,{className:"h-4 w-4"}),"Editar"]}),n.jsx("button",{onClick:()=>z(L),className:"px-3 py-2 bg-green-100 text-green-700 rounded hover:bg-green-200 transition-colors",children:n.jsx(Ts,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>K(L.id),className:"px-3 py-2 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors",children:n.jsx(Yt,{className:"h-4 w-4"})})]})]},L.id)})})]}),n.jsx(vt,{children:v&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Selecionar Template"}),n.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:"Escolha um template para comear"})]}),n.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(L=>n.jsxs("div",{onClick:()=>T(L),className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-500 hover:shadow-md transition-all cursor-pointer",children:[n.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:L.name}),n.jsx("p",{className:"text-sm text-gray-600 mb-3",children:L.description}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded",children:L.department}),L.category&&n.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-700 rounded",children:L.category})]})]},L.id))})})]})})}),n.jsx(vt,{children:f&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:g?"Editar Documento":"Novo Documento"}),n.jsx("p",{className:"text-indigo-100 text-sm mt-1",children:g?"Atualize as informaes do documento":"Preencha as informaes do documento"})]}),n.jsx("button",{onClick:ee,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),n.jsx("input",{type:"text",value:k.title,onChange:L=>C({...k,title:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Ttulo do documento"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),n.jsx("textarea",{value:k.description,onChange:L=>C({...k,description:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",rows:2,placeholder:"Breve descrio do documento"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento *"}),n.jsx("select",{value:k.department,onChange:L=>C({...k,department:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:S.map(L=>n.jsx("option",{value:L,children:L},L))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),n.jsx("input",{type:"text",value:k.category,onChange:L=>C({...k,category:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Relatrio, Procedimento, etc"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),n.jsx("select",{value:k.status,onChange:L=>C({...k,status:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:E.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tags"}),n.jsxs("div",{className:"flex gap-2 mb-2",children:[n.jsx("input",{type:"text",value:B,onChange:L=>I(L.target.value),onKeyPress:L=>L.key==="Enter"&&(L.preventDefault(),G()),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Adicionar tag..."}),n.jsx("button",{onClick:G,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:n.jsx(Nb,{className:"h-5 w-5"})})]}),k.tags.length>0&&n.jsx("div",{className:"flex flex-wrap gap-2",children:k.tags.map(L=>n.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm flex items-center gap-2",children:[L,n.jsx("button",{onClick:()=>q(L),className:"hover:text-indigo-900",children:n.jsx(bt,{className:"h-3 w-3"})})]},L))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contedo * (suporta Markdown)"}),n.jsx("textarea",{value:k.content,onChange:L=>C({...k,content:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 font-mono text-sm",rows:15,placeholder:`# Ttulo do Documento

## Seo 1

Contedo da seo...

- Item 1
- Item 2`}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dicas: Use # para ttulos, ## para subttulos, - para listas"})]})]})}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsx("button",{onClick:ee,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-100 transition-colors font-medium",children:"Cancelar"}),n.jsxs("button",{onClick:Q,disabled:!k.title||!k.content,className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx(hr,{className:"h-5 w-5"}),g?"Atualizar Documento":"Criar Documento"]})]})]})})}),n.jsx(vt,{children:w&&n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs(he.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[n.jsxs("div",{className:"p-6 border-b flex items-center justify-between bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:w.title}),n.jsxs("p",{className:"text-indigo-100 text-sm mt-1",children:[w.department,"  Verso ",w.version]})]}),n.jsx("button",{onClick:()=>_(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[w.description&&n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"font-semibold text-gray-700 mb-2",children:"Descrio"}),n.jsx("p",{className:"text-gray-600",children:w.description})]}),n.jsx("div",{className:"prose max-w-none",children:w.content.split(`
`).map((L,Y)=>L.startsWith("# ")?n.jsx("h1",{className:"text-3xl font-bold mt-6 mb-4",children:L.substring(2)},Y):L.startsWith("## ")?n.jsx("h2",{className:"text-2xl font-bold mt-5 mb-3",children:L.substring(3)},Y):L.startsWith("### ")?n.jsx("h3",{className:"text-xl font-bold mt-4 mb-2",children:L.substring(4)},Y):L.startsWith("- ")?n.jsx("li",{className:"ml-6",children:L.substring(2)},Y):L.trim()===""?n.jsx("br",{},Y):n.jsx("p",{className:"mb-2",children:L},Y))})]}),n.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[n.jsxs("button",{onClick:()=>z(w),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(Ts,{className:"h-5 w-5"}),"Baixar PDF"]}),n.jsxs("button",{onClick:()=>{_(null),U(w)},className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium flex items-center justify-center gap-2",children:[n.jsx(ri,{className:"h-5 w-5"}),"Editar"]})]})]})})})]})},wOe=()=>{const t=ui(),[e,r]=O.useState([]),[s,a]=O.useState(!0),[i,o]=O.useState(!1),[l,c]=O.useState(null),[d,u]=O.useState(!1),[h,f]=O.useState({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0});O.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const{data:B,error:I}=await pe.from("email_accounts").select("*").order("is_default",{ascending:!1}).order("created_at",{ascending:!1});if(I)throw I;r(B||[])}catch(B){console.error("Error loading email accounts:",B)}finally{a(!1)}},v=async B=>{B.preventDefault();try{if(l){const{error:I}=await pe.from("email_accounts").update(h).eq("id",l);if(I)throw I;alert(" Conta de email atualizada com sucesso!")}else{const{error:I}=await pe.from("email_accounts").insert([h]);if(I)throw I;alert(" Conta de email criada com sucesso!")}w(),p()}catch(I){console.error("Error saving email account:",I),I?.message?.includes("email_address")&&I?.message?.includes("already exists")?alert(` ERRO: O email "${h.email_address}" j est cadastrado!

Para editar esta conta:
1. Feche este formulrio
2. Clique no cone de configurao () da conta existente
3. Faa as alteraes necessrias`):I?.code==="23505"?alert(` ERRO: Esta conta de email j existe no sistema!

Verifique a lista de contas abaixo.`):alert(` Erro ao salvar conta de email:

${I?.message||"Erro desconhecido"}`)}},y=B=>{f({account_name:B.account_name,email_address:B.email_address,smtp_host:B.smtp_host,smtp_port:B.smtp_port,smtp_user:B.smtp_user,smtp_password:B.smtp_password,smtp_secure:B.smtp_secure,imap_host:B.imap_host||"",imap_port:B.imap_port||993,imap_user:B.imap_user||"",imap_password:B.imap_password||"",imap_secure:B.imap_secure,sender_name:B.sender_name,signature:B.signature||"",is_default:B.is_default,is_active:B.is_active}),c(B.id),o(!0)},g=async(B,I)=>{if(confirm(`Deseja realmente excluir a conta ${I}?`))try{const{error:S}=await pe.from("email_accounts").delete().eq("id",B);if(S)throw S;p()}catch(S){console.error("Error deleting account:",S),alert("Erro ao excluir conta")}},x=async B=>{try{await pe.from("email_accounts").update({is_default:!1}).neq("id",B);const{error:I}=await pe.from("email_accounts").update({is_default:!0}).eq("id",B);if(I)throw I;p()}catch(I){console.error("Error setting default:",I)}},w=()=>{f({account_name:"",email_address:"",smtp_host:"",smtp_port:587,smtp_user:"",smtp_password:"",smtp_secure:!0,imap_host:"",imap_port:993,imap_user:"",imap_password:"",imap_secure:!0,sender_name:"",signature:"",is_default:!1,is_active:!0}),c(null),o(!1),u(!1)},_=()=>{f(B=>({...B,smtp_host:"smtp.gmail.com",smtp_port:587,imap_host:"imap.gmail.com",imap_port:993}))},k=()=>{f(B=>({...B,smtp_host:"smtp-mail.outlook.com",smtp_port:587,imap_host:"outlook.office365.com",imap_port:993}))},C=()=>{if(!h.email_address){alert("Por favor, preencha o endereo de email primeiro!");return}const B=h.email_address.split("@")[1],I=h.account_name||`Email Corporativo - ${h.email_address.split("@")[0]}`,S=h.sender_name||h.email_address.split("@")[0].charAt(0).toUpperCase()+h.email_address.split("@")[0].slice(1);f(E=>({...E,account_name:I,sender_name:S,smtp_host:`mail.${B}`,smtp_port:587,smtp_user:E.email_address,imap_host:`mail.${B}`,imap_port:993,imap_user:E.email_address,imap_password:E.smtp_password,smtp_secure:!0,imap_secure:!0,signature:`

---
Atenciosamente,
${S}
${B}`})),alert(` Configuraes Hostgator preenchidas!

Agora voc s precisa:
1. Verificar os dados
2. Preencher a senha
3. Salvar`)};return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(di,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[n.jsx(vs,{className:"h-8 w-8 text-blue-600"}),"Configuraes de Email"]}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Configure contas de email corporativo para envio e recebimento"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[!i&&n.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[n.jsx(zt,{className:"h-5 w-5"}),"Nova Conta"]}),n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Rd,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})]}),i&&n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold",children:l?"Editar Conta":"Nova Conta de Email"}),n.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700",children:n.jsx(bt,{className:"h-6 w-6"})})]}),n.jsxs("form",{onSubmit:v,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[n.jsx("span",{className:"font-medium",children:"Configurao Rpida:"})," Selecione seu provedor de email"]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-orange-50 text-orange-700 rounded-lg text-sm hover:bg-orange-100 font-medium border border-orange-200",children:" Hostgator"}),n.jsx("button",{type:"button",onClick:_,className:"px-4 py-2 bg-red-50 text-red-700 rounded-lg text-sm hover:bg-red-100 font-medium border border-red-200",children:" Gmail"}),n.jsx("button",{type:"button",onClick:k,className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm hover:bg-blue-100 font-medium border border-blue-200",children:" Outlook"})]}),n.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" ",n.jsx("strong",{children:"Hostgator:"})," Preencha primeiro o email, depois clique no boto"]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Conta *"}),n.jsx("input",{type:"text",required:!0,value:h.account_name,onChange:B=>f({...h,account_name:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Email Comercial"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Endereo de Email *"}),n.jsx("input",{type:"email",required:!0,value:h.email_address,onChange:B=>f({...h,email_address:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"contato@empresa.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Remetente *"}),n.jsx("input",{type:"text",required:!0,value:h.sender_name,onChange:B=>f({...h,sender_name:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Empresa LTDA"})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Envio (SMTP)"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor SMTP *"}),n.jsx("input",{type:"text",required:!0,value:h.smtp_host,onChange:B=>f({...h,smtp_host:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"smtp.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta SMTP *"}),n.jsx("input",{type:"number",required:!0,value:h.smtp_port,onChange:B=>f({...h,smtp_port:parseInt(B.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio SMTP *"}),n.jsx("input",{type:"text",required:!0,value:h.smtp_user,onChange:B=>f({...h,smtp_user:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha SMTP *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:d?"text":"password",required:!0,value:h.smtp_password,onChange:B=>f({...h,smtp_password:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),n.jsx("button",{type:"button",onClick:()=>u(!d),className:"absolute right-2 top-2",children:d?n.jsx(vE,{className:"h-5 w-5 text-gray-400"}):n.jsx(da,{className:"h-5 w-5 text-gray-400"})})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.smtp_secure,onChange:B=>f({...h,smtp_secure:B.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Usar conexo segura (TLS/SSL)"})]})})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Configuraes de Recebimento (IMAP) - Opcional"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servidor IMAP"}),n.jsx("input",{type:"text",value:h.imap_host,onChange:B=>f({...h,imap_host:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"imap.gmail.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Porta IMAP"}),n.jsx("input",{type:"number",value:h.imap_port,onChange:B=>f({...h,imap_port:parseInt(B.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usurio IMAP"}),n.jsx("input",{type:"text",value:h.imap_user,onChange:B=>f({...h,imap_user:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Senha IMAP"}),n.jsx("input",{type:d?"text":"password",value:h.imap_password,onChange:B=>f({...h,imap_password:B.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assinatura de Email"}),n.jsx("textarea",{value:h.signature,onChange:B=>f({...h,signature:B.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:`Atenciosamente,
Sua Empresa
Tel: (11) 1234-5678`})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.is_default,onChange:B=>f({...h,is_default:B.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Conta padro"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h.is_active,onChange:B=>f({...h,is_active:B.target.checked}),className:"rounded"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Conta ativa"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l?"Salvar Alteraes":"Criar Conta"}),n.jsx("button",{type:"button",onClick:w,className:"px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Contas Configuradas"}),e.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500",children:[n.jsx(vs,{className:"h-12 w-12 mx-auto mb-3 text-gray-300"}),n.jsx("p",{children:"Nenhuma conta de email configurada"}),n.jsx("p",{className:"text-sm mt-1",children:'Clique em "Nova Conta" para adicionar'})]}):n.jsx("div",{className:"space-y-3",children:e.map(B=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-lg",children:B.account_name}),B.is_default&&n.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Padro"}),!B.is_active&&n.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:"Inativa"})]}),n.jsx("p",{className:"text-gray-600",children:B.email_address}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["SMTP: ",B.smtp_host,":",B.smtp_port,B.imap_host&&` | IMAP: ${B.imap_host}:${B.imap_port}`]})]}),n.jsxs("div",{className:"flex gap-2",children:[!B.is_default&&n.jsx("button",{onClick:()=>x(B.id),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"Definir como padro",children:n.jsx(rn,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>y(B),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Editar",children:n.jsx(mh,{className:"h-5 w-5"})}),n.jsx("button",{onClick:()=>g(B.id,B.email_address),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Excluir",children:n.jsx(Yt,{className:"h-5 w-5"})})]})]})},B.id))})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas de Configurao"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:' Para Gmail: Ative "Acesso a apps menos seguros" ou use "Senhas de app"'}),n.jsx("li",{children:" Para Outlook/Hotmail: Use smtp-mail.outlook.com na porta 587"}),n.jsx("li",{children:" Para domnios prprios: Consulte seu provedor de hospedagem"}),n.jsx("li",{children:" Recomendamos sempre usar conexo segura (TLS/SSL)"})]})]})]})})},jOe=()=>{const t=ui(),[e,r]=O.useState([]),[s,a]=O.useState(!0),[i,o]=O.useState("inbox"),[l,c]=O.useState(""),[d,u]=O.useState(null);O.useEffect(()=>{h()},[i]);const h=async()=>{try{a(!0);let w=pe.from("email_messages").select("*").order("created_at",{ascending:!1});i==="inbox"?w=w.eq("direction","received").eq("is_archived",!1):i==="sent"?w=w.eq("direction","sent"):i==="starred"?w=w.eq("is_starred",!0):i==="archived"&&(w=w.eq("is_archived",!0));const{data:_,error:k}=await w;if(k)throw k;r(_||[])}catch(w){console.error("Error loading messages:",w)}finally{a(!1)}},f=async(w,_)=>{try{const{error:k}=await pe.from("email_messages").update({is_read:_,read_at:_?new Date().toISOString():null}).eq("id",w);if(k)throw k;h()}catch(k){console.error("Error updating message:",k)}},p=async(w,_)=>{try{const{error:k}=await pe.from("email_messages").update({is_starred:!_}).eq("id",w);if(k)throw k;h()}catch(k){console.error("Error updating message:",k)}},v=async w=>{try{const{error:_}=await pe.from("email_messages").update({is_archived:!0}).eq("id",w);if(_)throw _;h(),u(null)}catch(_){console.error("Error archiving message:",_)}},y=async w=>{if(confirm("Deseja realmente excluir esta mensagem?"))try{const{error:_}=await pe.from("email_messages").delete().eq("id",w);if(_)throw _;h(),u(null)}catch(_){console.error("Error deleting message:",_)}},g=e.filter(w=>w.subject?.toLowerCase().includes(l.toLowerCase())||w.from_address?.toLowerCase().includes(l.toLowerCase())||w.from_name?.toLowerCase().includes(l.toLowerCase())),x=w=>{switch(w){case"inbox":return e.filter(_=>_.direction==="received"&&!_.is_archived).length;case"sent":return e.filter(_=>_.direction==="sent").length;case"starred":return e.filter(_=>_.is_starred).length;case"archived":return e.filter(_=>_.is_archived).length;default:return e.length}};return s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(di,{className:"h-8 w-8 animate-spin text-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsxs("div",{className:"flex h-screen",children:[n.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[n.jsx("div",{className:"mb-6",children:n.jsxs(Cl,{to:"/email/compose",className:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 font-medium",children:[n.jsx(zt,{className:"h-5 w-5"}),"Novo Email"]})}),n.jsxs("nav",{className:"space-y-1",children:[n.jsxs("button",{onClick:()=>o("inbox"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="inbox"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Ene,{className:"h-5 w-5"}),n.jsx("span",{children:"Caixa de Entrada"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("inbox")})]}),n.jsxs("button",{onClick:()=>o("sent"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="sent"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(Ti,{className:"h-5 w-5"}),n.jsx("span",{children:"Enviados"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("sent")})]}),n.jsxs("button",{onClick:()=>o("starred"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="starred"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(la,{className:"h-5 w-5"}),n.jsx("span",{children:"Com Estrela"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("starred")})]}),n.jsxs("button",{onClick:()=>o("archived"),className:`w-full flex items-center gap-3 px-4 py-2 rounded-lg text-left ${i==="archived"?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-50"}`,children:[n.jsx(iS,{className:"h-5 w-5"}),n.jsx("span",{children:"Arquivados"}),n.jsx("span",{className:"ml-auto text-sm font-medium",children:x("archived")})]})]}),n.jsx("div",{className:"mt-6 pt-6 border-t",children:n.jsxs(Cl,{to:"/email/settings",className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-2",children:[n.jsx(vs,{className:"h-4 w-4"}),"Configuraes de Email"]})})]}),n.jsxs("div",{className:"flex-1 flex flex-col",children:[n.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(sn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Pesquisar emails...",value:l,onChange:w=>c(w.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),n.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg",title:"Atualizar",children:n.jsx(di,{className:"h-5 w-5"})}),n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Rd,{className:"h-5 w-5"}),"Voltar ao Sistema"]})]})}),n.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:g.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[n.jsx(vs,{className:"h-16 w-16 mb-4 text-gray-300"}),n.jsx("p",{className:"text-lg",children:"Nenhuma mensagem encontrada"}),n.jsxs("p",{className:"text-sm mt-1",children:[i==="inbox"&&"Sua caixa de entrada est vazia",i==="sent"&&"Voc ainda no enviou nenhum email",i==="starred"&&"Nenhuma mensagem marcada com estrela",i==="archived"&&"Nenhuma mensagem arquivada"]})]}):n.jsx("div",{className:"divide-y",children:g.map(w=>n.jsx("div",{onClick:()=>{u(w),!w.is_read&&w.direction==="received"&&f(w.id,!0)},className:`p-4 cursor-pointer hover:bg-gray-100 transition-colors ${!w.is_read&&w.direction==="received"?"bg-blue-50":"bg-white"} ${d?.id===w.id?"border-l-4 border-blue-600":""}`,children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("button",{onClick:_=>{_.stopPropagation(),p(w.id,w.is_starred)},className:"mt-1",children:n.jsx(la,{className:`h-5 w-5 ${w.is_starred?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("p",{className:`font-medium truncate ${!w.is_read&&w.direction==="received"?"text-gray-900 font-semibold":"text-gray-700"}`,children:[w.direction==="sent"?"Para: ":"",w.from_name||w.from_address]}),n.jsx("p",{className:`text-sm truncate ${!w.is_read&&w.direction==="received"?"text-gray-900 font-medium":"text-gray-600"}`,children:w.subject})]}),n.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:new Date(w.created_at).toLocaleDateString("pt-BR")})]}),n.jsxs("p",{className:"text-sm text-gray-500 truncate",children:[w.body_text?.substring(0,100),"..."]})]})]})},w.id))})})]}),d&&n.jsxs("div",{className:"w-2/5 bg-white border-l border-gray-200 flex flex-col",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold truncate",children:d.subject}),n.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsxs("button",{onClick:()=>v(d.id),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2",children:[n.jsx(iS,{className:"h-4 w-4"}),"Arquivar"]}),n.jsxs("button",{onClick:()=>y(d.id),className:"px-3 py-1.5 text-sm bg-red-50 text-red-600 hover:bg-red-100 rounded-lg flex items-center gap-2",children:[n.jsx(Yt,{className:"h-4 w-4"}),"Excluir"]})]}),n.jsxs("div",{className:"text-sm space-y-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"De:"})," ",n.jsxs("span",{className:"text-gray-600",children:[d.from_name," <",d.from_address,">"]})]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-medium",children:"Data:"})," ",n.jsx("span",{className:"text-gray-600",children:new Date(d.created_at).toLocaleString("pt-BR")})]})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.body_html?n.jsx("div",{dangerouslySetInnerHTML:{__html:d.body_html}}):n.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700",children:d.body_text})})]})]})})},NOe=()=>{const t=ui(),[e,r]=O.useState(!1),[s,a]=O.useState([]),[i,o]=O.useState([]),[l,c]=O.useState({account_id:"",to:"",cc:"",bcc:"",subject:"",body_text:"",body_html:""});O.useEffect(()=>{d(),u()},[]);const d=async()=>{try{const{data:p,error:v}=await pe.from("email_accounts").select("id, account_name, email_address, sender_name").eq("is_active",!0).order("is_default",{ascending:!1});if(v)throw v;a(p||[]),p&&p.length>0&&c(y=>({...y,account_id:p[0].id}))}catch(p){console.error("Error loading accounts:",p)}},u=async()=>{try{const{data:p,error:v}=await pe.from("email_templates").select("id, name, subject, body_html, body_text").eq("is_active",!0).order("name");if(v)throw v;o(p||[])}catch(p){console.error("Error loading templates:",p)}},h=p=>{const v=i.find(y=>y.id===p);v&&c(y=>({...y,subject:v.subject,body_text:v.body_text,body_html:v.body_html}))},f=async p=>{if(p.preventDefault(),!l.to||!l.subject||!l.body_text&&!l.body_html){alert("Preencha todos os campos obrigatrios");return}r(!0);try{const x=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/send-smtp-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({account_id:l.account_id,to:l.to.split(",").map(w=>w.trim()).filter(w=>w),cc:l.cc?l.cc.split(",").map(w=>w.trim()).filter(w=>w):void 0,bcc:l.bcc?l.bcc.split(",").map(w=>w.trim()).filter(w=>w):void 0,subject:l.subject,body_text:l.body_text,body_html:l.body_html})})).json();if(!x.success)throw new Error(x.error||"Erro ao enviar email");alert("Email enviado com sucesso!"),t("/email/inbox")}catch(v){console.error("Error sending email:",v),alert(`Erro ao enviar email: ${v.message}`)}finally{r(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[n.jsx("div",{className:"p-6 border-b border-gray-200",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Novo Email"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("button",{onClick:()=>t("/"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg flex items-center gap-2 font-medium transition-colors",title:"Voltar ao Dashboard",children:[n.jsx(Rd,{className:"h-5 w-5"}),"Voltar ao Sistema"]}),n.jsx("button",{onClick:()=>t("/email/inbox"),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg",children:n.jsx(bt,{className:"h-5 w-5"})})]})]})}),n.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"De (Conta de Email) *"}),n.jsxs("select",{required:!0,value:l.account_id,onChange:p=>c({...l,account_id:p.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[n.jsx("option",{value:"",children:"Selecione uma conta"}),s.map(p=>n.jsxs("option",{value:p.id,children:[p.account_name," (",p.email_address,")"]},p.id))]}),s.length===0&&n.jsx("p",{className:"text-sm text-orange-600 mt-1",children:"Nenhuma conta configurada. Configure em Configuraes de Email."})]}),i.length>0&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usar Template (Opcional)"}),n.jsxs("select",{onChange:p=>p.target.value&&h(p.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[n.jsx("option",{value:"",children:"Nenhum template"}),i.map(p=>n.jsx("option",{value:p.id,children:p.name},p.id))]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Para * ",n.jsx("span",{className:"text-xs text-gray-500",children:"(separe mltiplos emails com vrgula)"})]}),n.jsx("input",{type:"text",required:!0,value:l.to,onChange:p=>c({...l,to:p.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"destinatario@email.com, outro@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CC ",n.jsx("span",{className:"text-xs text-gray-500",children:"(cpia)"})]}),n.jsx("input",{type:"text",value:l.cc,onChange:p=>c({...l,cc:p.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia@email.com"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["CCO ",n.jsx("span",{className:"text-xs text-gray-500",children:"(cpia oculta)"})]}),n.jsx("input",{type:"text",value:l.bcc,onChange:p=>c({...l,bcc:p.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"copia.oculta@email.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assunto *"}),n.jsx("input",{type:"text",required:!0,value:l.subject,onChange:p=>c({...l,subject:p.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Assunto do email"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensagem *"}),n.jsx("textarea",{required:!0,value:l.body_text,onChange:p=>c({...l,body_text:p.target.value}),rows:12,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Digite a mensagem do email..."}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A assinatura configurada ser adicionada automaticamente"})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[n.jsx("button",{type:"submit",disabled:e||s.length===0,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium",children:e?n.jsxs(n.Fragment,{children:[n.jsx(Tp,{className:"h-5 w-5 animate-spin"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ti,{className:"h-5 w-5"}),"Enviar Email"]})}),n.jsx("button",{type:"button",onClick:()=>t("/email/inbox"),className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Cancelar"})]})]})]}),n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:" Dicas"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:" Use templates para agilizar o envio de emails recorrentes"}),n.jsx("li",{children:" Para enviar para mltiplos destinatrios, separe os emails com vrgula"}),n.jsx("li",{children:" A assinatura da conta ser adicionada automaticamente ao final"}),n.jsx("li",{children:" Verifique se a conta SMTP est configurada corretamente"})]})]})]})})};class I7{conversationHistory=[];sessionId;userId;currentContext={};personality=null;libraryKnowledge=[];constructor(e){this.userId=e,this.sessionId=`adv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,this.loadPersonality(),this.loadLibraryKnowledge()}async loadPersonality(){try{const{data:e}=await pe.from("thomaz_personality_config").select("*").single();this.personality=e}catch(e){console.error("Erro ao carregar personalidade:",e)}}async loadLibraryKnowledge(){try{const{data:e}=await pe.from("library_items").select("*").order("created_at",{ascending:!1}).limit(100);if(e&&e.length>0){this.libraryKnowledge=e;for(const r of e.slice(0,20)){const s=r.tags||[],a=`Documento: ${r.title}. ${r.description||""}`;await pe.from("thomaz_long_term_memory").upsert({fact:a,source:`library_${r.id}`,confidence:.95,category:"library_document",tags:[...s,r.type||"document"],metadata:{document_id:r.id,title:r.title,type:r.type,file_url:r.file_url}},{onConflict:"source",ignoreDuplicates:!1})}console.log(` Thomaz carregou ${e.length} documentos da biblioteca`)}}catch(e){console.error("Erro ao carregar biblioteca:",e)}}async detectIntent(e){try{const{data:r,error:s}=await pe.rpc("thomaz_detect_intent",{p_message:e.toLowerCase()});if(s)throw s;return r&&r.length>0?r[0]:null}catch(r){return console.error("Erro ao detectar inteno:",r),null}}async expandQuery(e){try{const{data:r,error:s}=await pe.rpc("thomaz_expand_query",{p_query:e});if(s)throw s;return r||e}catch(r){return console.error("Erro ao expandir query:",r),e}}async recallMemories(e){try{const{data:r,error:s}=await pe.rpc("thomaz_recall_memories",{p_query:e,p_limit:5});if(s)throw s;return r||[]}catch(r){return console.error("Erro ao buscar memrias:",r),[]}}async saveLearn(e,r,s={}){try{await pe.rpc("thomaz_save_learning",{p_query:e,p_response:r,p_context:s})}catch(a){console.error("Erro ao salvar aprendizado:",a)}}async searchSystemData(e){const r=await this.expandQuery(e),s={};try{const a=r.toLowerCase();if(/ordem|servi[c]o|os|atendimento|chamado/i.test(a)){const{data:i}=await pe.rpc("thomaz_get_service_orders_info",{p_filter:e,p_limit:10});s.serviceOrders=i||[]}if(/estoque|material|produto|invent[a]rio/i.test(a)){const{data:i}=await pe.rpc("thomaz_get_inventory_info",{p_search:e,p_low_stock_only:/baixo|falta|m[i]nimo/i.test(a)});s.inventory=i||[]}if(/agenda|compromisso|reuni[a]o|hor[a]rio/i.test(a)){const i=new Date,o=new Date(i);o.setDate(o.getDate()+7);const{data:l}=await pe.rpc("thomaz_get_agenda_info",{p_date_from:i.toISOString().split("T")[0],p_date_to:o.toISOString().split("T")[0]});s.agenda=l||[]}if(/funcion[a]rio|colaborador|equipe|pessoal/i.test(a)){const{data:i}=await pe.rpc("thomaz_get_employees_info",{p_search:e,p_active_only:!0});s.employees=i||[]}if(/financeiro|receita|despesa|pagamento|dinheiro/i.test(a)){const i=new Date,o=new Date(i);o.setDate(o.getDate()-30);const{data:l}=await pe.rpc("thomaz_get_financial_entries_info",{p_date_from:o.toISOString().split("T")[0],p_date_to:i.toISOString().split("T")[0]});s.finances=l||[]}if(/estat[i]stica|resumo|total|dashboard/i.test(a)||Object.keys(s).length===0){const{data:i}=await pe.rpc("thomaz_get_system_stats");s.stats=i}}catch(a){console.error("Erro ao buscar dados:",a)}return s}async generateResponse(e,r,s,a){const i=new Date().getHours();let o="";if(r?.intent==="greeting"){const d=[`${i<12?"Bom dia":i<18?"Boa tarde":"Boa noite"}! `,"E a! Vamos trabalhar juntos? ","Ol! Pronto para te ajudar! ","Opa! Como posso facilitar seu dia? "];return o=d[Math.floor(Math.random()*d.length)],o+=`

Sou o Thomaz, seu assistente inteligente! Como posso ajudar voc hoje?`,o}if(r?.intent==="farewell"){const d=["At mais! Se precisar de algo,  s chamar! ","Tchau! Foi um prazer ajudar! ","At logo! Estou sempre por aqui! ","Falou! Conte comigo sempre! "];return d[Math.floor(Math.random()*d.length)]}if(r?.intent==="gratitude"){const d=["Por nada! Fico feliz em ajudar! ","Sempre s ordens! ","De nada! Estou aqui para isso! ","Imagina! Foi um prazer! "];return d[Math.floor(Math.random()*d.length)]}if(r?.intent==="how_are_you"){const d=["Estou timo, obrigado por perguntar!  E voc?","Super bem! Pronto para te ajudar! ","Excelente! E voc, como est? ","Muito bem! E a, tudo certo? "];return d[Math.floor(Math.random()*d.length)]}if(r?.intent==="about_self")return`Eu sou o Thomaz! 

Sou seu assistente inteligente. Posso te ajudar com:

 Ordens de Servio
 Estoque e Materiais
 Agenda e Compromissos
 Funcionrios
 Finanas
 Estatsticas
 Buscar na internet
 Ler documentos

E muito mais! Posso conversar normalmente contigo, entender suas perguntas, buscar informaes na internet e aprender com cada interao. 

O que voc gostaria de saber?`;if(r?.intent==="help")return`Claro! Estou aqui para ajudar! 

Posso te auxiliar com:

  Ver e gerenciar ordens de servio
  Consultar estoque e materiais
  Checar sua agenda e compromissos
  Informaes sobre funcionrios
  Lanamentos financeiros
  Estatsticas do sistema
  Buscar informaes na internet
  Ler documentos da biblioteca

Voc pode me perguntar coisas como:
- "Quais OSs esto abertas?"
- "Tem algum item com estoque baixo?"
- "Compromissos de hoje"
- "Quanto faturamos este ms?"
- "Busca informaes sobre gesto financeira"
- "Quais documentos temos sobre segurana?"

Ou simplesmente conversar comigo normalmente! 

O que voc precisa?`;const l=/busca|pesquisa|procura|informaes sobre|o que |quem |define/i.test(e),c=/documento|manual|tutorial|guia|biblioteca|arquivo/i.test(e);if(l&&!Object.keys(s).length){const d=await this.searchSavedKnowledge(e);if(d)o=d;else{const u=await this.searchWeb(e);u&&(o=u)}}if(c){const d=await this.readLibraryDocuments(e);d&&(o+=(o?`

`:"")+d)}return Object.keys(s).length>0&&(o+=this.formatSystemDataResponse(s)),a.length>0&&(o+=`

 **Lembro de algo relacionado:**

`,a.slice(0,2).forEach(d=>{o+=` ${d.content}
`})),o||(o=this.generateConversationalResponse(e)),o}formatSystemDataResponse(e){let r="";const s=this.personality?.emoji_usage!==!1;if(e.serviceOrders&&e.serviceOrders.length>0&&(r+=`${s?" ":""}**Ordens de Servio:**

`,e.serviceOrders.slice(0,5).forEach(a=>{const i=a.status==="completed"?"":a.status==="in_progress"?"":"";r+=`${s?i:""} **OS #${a.order_number}**
`,r+=`   Cliente: ${a.customer_name}
`,r+=`   Status: ${a.status}
`,r+=`   Valor: R$ ${(a.total_value||0).toFixed(2)}

`})),e.inventory&&e.inventory.length>0){const a=e.inventory.filter(i=>i.stock_status!=="OK");a.length>0&&(r+=`${s?" ":""}**Ateno! Itens com estoque baixo:**

`,a.slice(0,5).forEach(i=>{r+=`${s?" ":""} ${i.product_name} - Qtd: ${i.current_quantity}
`}),r+=`
`)}return e.agenda&&e.agenda.length>0&&(r+=`${s?" ":""}**Prximos compromissos:**

`,e.agenda.slice(0,3).forEach(a=>{const i=new Date(a.start_time);r+=` ${a.title} - ${i.toLocaleDateString("pt-BR")} s ${i.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}
`}),r+=`
`),e.stats&&(r+=`${s?" ":""}**Resumo do Sistema:**

`,r+=` ${e.stats.total_oss} OSs (${e.stats.oss_abertas} abertas)
`,r+=` ${e.stats.total_clientes} clientes
`,r+=` ${e.stats.total_funcionarios} funcionrios ativos
`,e.stats.estoque_baixo>0&&(r+=` ${s?" ":""}${e.stats.estoque_baixo} itens com estoque baixo
`),r+=`
`),r}generateConversationalResponse(e){const r=[`Interessante...  Deixa eu pensar sobre isso.

Pelo que entendi, voc est perguntando sobre "${e}".

Posso te ajudar de vrias formas! Que tal me dar mais detalhes?`,`Entendi! Sobre "${e}"...

Ainda estou aprendendo sobre este assunto. Pode me explicar melhor o que voc precisa?`,`Boa pergunta! 

Vou guardar isso na memria para aprender mais. Enquanto isso, posso te ajudar com:
 Ordens de Servio
 Estoque
 Agenda
 Finanas

O que voc prefere?`,`Hmm... "${e}"

No tenho dados especficos sobre isso no momento, mas estou sempre aprendendo! 

Que tal me contar mais ou tentar outra pergunta?`];return r[Math.floor(Math.random()*r.length)]}async processMessage(e){try{this.conversationHistory.push({role:"user",content:e,timestamp:new Date}),this.processLearningQueue().catch(o=>console.error("Erro no aprendizado:",o));const r=await this.detectIntent(e),s=await this.recallMemories(e),a=await this.searchSystemData(e);let i=await this.generateResponse(e,r,a,s);return i=await this.improveResponse(e,i),await this.saveLearn(e,i,{intent:r?.intent,system_data_found:Object.keys(a).length>0,memories_recalled:s.length}),this.conversationHistory.push({role:"assistant",content:i,timestamp:new Date}),await this.saveContext(),i}catch(r){return console.error("Erro ao processar mensagem:",r),"Ops! Tive um probleminha aqui...  Pode tentar de novo?"}}async saveContext(){if(this.userId)try{await pe.from("thomaz_conversation_context").upsert({user_id:this.userId,session_id:this.sessionId,conversation_history:this.conversationHistory,context_data:this.currentContext,last_interaction_at:new Date().toISOString()})}catch(e){console.error("Erro ao salvar contexto:",e)}}async searchWeb(e){try{const s=await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/thomaz-web-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,saveToKnowledge:!0})});if(!s.ok)throw new Error("Erro na busca web");const a=await s.json();return a.success&&a.content?` **Encontrei informaes na internet sobre "${e}":**

${a.summary}

_Fonte: ${a.source}_`:"No encontrei informaes especficas sobre isso na internet."}catch(r){return console.error("Erro na busca web:",r),"Tive dificuldade para buscar na internet agora. Vou usar meu conhecimento interno!"}}async readLibraryDocuments(e){try{const r=e.toLowerCase();let a=this.libraryKnowledge.filter(o=>{const l=o.title?.toLowerCase().includes(r),c=o.description?.toLowerCase().includes(r),d=o.tags?.some(u=>u.toLowerCase().includes(r));return l||c||d}).slice(0,3);if(a.length===0){const{data:o}=await pe.from("library_items").select("*").or(`title.ilike.%${e}%,description.ilike.%${e}%,tags.cs.{${e}}`).limit(3);a=o||[]}if(a.length===0){const{data:o}=await pe.from("thomaz_long_term_memory").select("*").eq("category","library_document").ilike("fact",`%${e}%`).limit(3);if(o&&o.length>0){let l=` **Tenho conhecimento sobre isso na minha memria:**

`;return o.forEach((c,d)=>{l+=`${d+1}. ${c.fact}

`}),l}return null}let i=` **Encontrei ${a.length} documento(s) na biblioteca:**

`;return a.forEach((o,l)=>{i+=`${l+1}. **${o.title}**
`,o.description&&(i+=`   _${o.description.substring(0,150)}${o.description.length>150?"...":""}_
`),i+=`    Tipo: ${o.type||"Documento"}
`,o.tags&&o.tags.length>0&&(i+=`    Tags: ${o.tags.join(", ")}
`),i+=`
`}),i}catch(r){return console.error("Erro ao buscar documentos:",r),null}}async searchSavedKnowledge(e){try{const{data:r}=await pe.from("thomaz_web_knowledge").select("*").ilike("query",`%${e}%`).order("relevance_score",{ascending:!1}).limit(1);if(r&&r.length>0){const s=r[0];return` **J busquei isso antes! Aqui est:**

${s.content.substring(0,600)}...

_ltima atualizao: ${new Date(s.accessed_at).toLocaleDateString()}_`}return null}catch(r){return console.error("Erro ao buscar conhecimento salvo:",r),null}}async getInitialGreeting(){await this.loadPersonality();const e=new Date().getHours(),r=e<12?"Bom dia":e<18?"Boa tarde":"Boa noite",s=[`${r}! 

Sou o Thomaz, seu assistente inteligente! `,`${r}! E a! 

Thomaz aqui, pronto para te ajudar! `,`${r}! Opa! 

Sou o Thomaz! Vamos trabalhar juntos hoje?`];let a=s[Math.floor(Math.random()*s.length)];return this.libraryKnowledge.length>0&&(a+=`

 Tenho acesso a **${this.libraryKnowledge.length} documentos** da biblioteca digital!`),a+=`

Posso conversar normalmente contigo sobre:
`,a+=`  Ordens de Servio e Projetos
`,a+=`  Estoque e Materiais
`,a+=`  Agenda e Compromissos
`,a+=`  Finanas e Relatrios
`,a+=`  Buscar informaes na internet
`,a+=`  Consultar documentos da biblioteca
`,a+=`  Aprender com nossas conversas
`,a+=` E muito mais!

`,a+=` **Dica:** Use o boto  para reiniciar nossa conversa a qualquer momento!

`,a+="Como posso te ajudar hoje? ",a}async learnFromFeedback(e,r,s){try{if(await pe.from("thomaz_feedback_analysis").insert({user_query:e,response_given:r,feedback_type:s?"positive":"negative",score:s?1:0,user_id:this.userId,session_id:this.sessionId}),s){const{data:a}=await pe.from("thomaz_nlp_patterns").select("*").ilike("pattern",`%${e.toLowerCase().split(" ").slice(0,3).join("%")}%`).limit(1);if(a&&a.length>0){const i=a[0];await pe.from("thomaz_nlp_patterns").update({usage_count:(i.usage_count||0)+1,success_rate:Math.min(.99,(i.success_rate||.5)+.05)}).eq("id",i.id)}await pe.from("thomaz_long_term_memory").insert({fact:`Usurio perguntou: "${e}" e a resposta foi til`,source:"user_feedback",confidence:.9,category:"interaction",tags:e.toLowerCase().split(" ").filter(i=>i.length>3).slice(0,5)})}else await pe.from("thomaz_learning_queue").insert({user_query:e,response_given:r,feedback_type:"improvement_needed",priority:8,status:"pending"});await this.processLearningQueue()}catch(a){console.error("Erro ao aprender com feedback:",a)}}async processLearningQueue(){try{const{data:e}=await pe.from("thomaz_learning_queue").select("*").eq("status","pending").order("priority",{ascending:!1}).limit(5);if(!e||e.length===0)return;for(const r of e){const a=r.user_query.toLowerCase().split(" ").filter(o=>o.length>3),{data:i}=await pe.from("thomaz_nlp_patterns").select("*").containedBy("keywords",a).limit(1);(!i||i.length===0)&&await pe.from("thomaz_nlp_patterns").insert({pattern:a.join("|"),intent:"general_query",confidence:.6,keywords:a,examples:[r.user_query],usage_count:1,success_rate:.5}),await pe.from("thomaz_learning_queue").update({status:"processed",processed_at:new Date().toISOString()}).eq("id",r.id)}}catch(e){console.error("Erro ao processar fila de aprendizado:",e)}}async improveResponse(e,r){try{const{data:s}=await pe.from("thomaz_feedback_analysis").select("*").ilike("user_query",`%${e.split(" ").slice(0,2).join("%")}%`).eq("feedback_type","positive").order("score",{ascending:!1}).limit(3);if(s&&s.length>0){const a=s.map(i=>i.response_given);if(r.length<100&&a.some(i=>i.length>200))return r+`

 **Informao adicional:**
Posso detalhar mais algum ponto especfico se precisar!`}return r}catch(s){return console.error("Erro ao melhorar resposta:",s),r}}async registerFeedback(e,r,s,a,i){try{await pe.from("thomaz_feedback_analysis").insert({message_id:e,user_query:r,thomaz_response:s,feedback_type:a,feedback_score:i,context_data:this.currentContext})}catch(o){console.error("Erro ao registrar feedback:",o)}}}function _Oe(){const[t,e]=O.useState(!1),[r,s]=O.useState([]),[a,i]=O.useState(""),[o,l]=O.useState(!1),[c,d]=O.useState(!1),[u,h]=O.useState(null),f=O.useRef(null),p=O.useRef(null),v=[{icon:n.jsx(Et,{className:"w-4 h-4"}),label:"OSs Abertas",query:"Mostre as ordens de servio abertas",color:"bg-blue-500"},{icon:n.jsx(qt,{className:"w-4 h-4"}),label:"Estoque Baixo",query:"Quais itens esto com estoque baixo?",color:"bg-orange-500"},{icon:n.jsx(vr,{className:"w-4 h-4"}),label:"Agenda Hoje",query:"Compromissos de hoje",color:"bg-purple-500"},{icon:n.jsx(gr,{className:"w-4 h-4"}),label:"Resumo Financeiro",query:"Mostre o resumo financeiro do ms",color:"bg-green-500"},{icon:n.jsx(qr,{className:"w-4 h-4"}),label:"Estatsticas",query:"Estatsticas gerais do sistema",color:"bg-indigo-500"},{icon:n.jsx(ir,{className:"w-4 h-4"}),label:"Funcionrios",query:"Liste os funcionrios ativos",color:"bg-pink-500"}];O.useEffect(()=>{t&&!u&&y()},[t]),O.useEffect(()=>{g()},[r]),O.useEffect(()=>{t&&p.current&&p.current.focus()},[t]);const y=async()=>{const I=new I7;h(I);const S=await I.getInitialGreeting();s([{id:`msg_${Date.now()}`,role:"assistant",content:S,timestamp:new Date}])},g=()=>{f.current?.scrollIntoView({behavior:"smooth"})},x=async I=>{d(!0);const S=I.split(" ").length,E=Math.min(S*50,2e3);await new Promise(D=>setTimeout(D,E)),d(!1)},w=async()=>{s([]),i(""),l(!0);const I=new I7;h(I);try{const S=await I.getInitialGreeting(),E={id:`msg_${Date.now()}_welcome`,role:"assistant",content:S,timestamp:new Date};s([E])}catch(S){console.error("Erro ao reiniciar chat:",S)}finally{l(!1)}},_=async I=>{const S=I||a.trim();if(!S||!u)return;i("");const E={id:`msg_${Date.now()}_user`,role:"user",content:S,timestamp:new Date};s(D=>[...D,E]),l(!0);try{await x(S);const D=await u.processMessage(S),N={id:`msg_${Date.now()}_assistant`,role:"assistant",content:D,timestamp:new Date};s(T=>[...T,N])}catch(D){console.error("Erro ao processar mensagem:",D);const N={id:`msg_${Date.now()}_error`,role:"assistant",content:`Desculpe, tive um problema ao processar sua solicitao. 

Pode tentar novamente?`,timestamp:new Date};s(T=>[...T,N])}finally{l(!1)}},k=I=>{i(I),_(I)},C=I=>{navigator.clipboard.writeText(I)},B=I=>I.split(`
`).map((S,E)=>{if(S.startsWith("**")&&S.endsWith("**")){const D=S.slice(2,-2);return n.jsx("div",{className:"font-bold text-lg mb-2",children:D},E)}return S.startsWith("")||S.startsWith("-")?n.jsxs("div",{className:"ml-4 my-1",children:[" ",S.slice(1).trim()]},E):S.trim()?n.jsx("div",{className:"my-1",children:S},E):n.jsx("div",{className:"h-2"},E)});return t?n.jsx(vt,{children:n.jsxs(he.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 w-[450px] h-[700px] bg-white rounded-2xl shadow-2xl flex flex-col z-50 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 bg-white rounded-full flex items-center justify-center",children:n.jsx(Hy,{className:"w-7 h-7 text-blue-600"})}),n.jsx(he.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"font-bold text-white text-lg flex items-center gap-2",children:["Thomaz AI",n.jsx(D0,{className:"w-4 h-4 text-yellow-300"})]}),n.jsx("p",{className:"text-xs text-blue-100",children:"Seu assistente inteligente"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[r.length>1&&n.jsx(he.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:w,className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",title:"Reiniciar conversa",children:n.jsx(IH,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>e(!1),className:"text-white/80 hover:text-white transition-colors p-2 hover:bg-white/10 rounded-lg",children:n.jsx(bt,{className:"w-5 h-5"})})]})]}),r.length<=1&&n.jsxs("div",{className:"p-4 bg-gray-50 border-b",children:[n.jsx("p",{className:"text-xs text-gray-600 mb-2 font-medium",children:"Aes Rpidas:"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:v.map((I,S)=>n.jsxs(he.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.05},onClick:()=>k(I.query),className:"flex flex-col items-center gap-1 p-2 bg-white border-2 border-gray-200 rounded-lg hover:border-blue-400 hover:shadow-md transition-all text-center",children:[n.jsx("div",{className:`${I.color} text-white p-2 rounded-lg`,children:I.icon}),n.jsx("span",{className:"text-xs font-medium text-gray-700",children:I.label})]},S))})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[r.map(I=>n.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex gap-3 ${I.role==="user"?"flex-row-reverse":"flex-row"}`,children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${I.role==="user"?"bg-blue-600":"bg-gradient-to-br from-purple-600 to-blue-600"}`,children:I.role==="user"?n.jsx(Cn,{className:"w-5 h-5 text-white"}):n.jsx(Hy,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:`flex-1 ${I.role==="user"?"items-end":"items-start"} flex flex-col`,children:[n.jsx("div",{className:`max-w-[85%] rounded-2xl p-3 ${I.role==="user"?"bg-blue-600 text-white rounded-br-none":"bg-white border-2 border-gray-200 text-gray-900 rounded-bl-none"}`,children:n.jsx("div",{className:"text-sm whitespace-pre-wrap",children:B(I.content)})}),n.jsxs("div",{className:"flex items-center gap-2 mt-1 px-2",children:[n.jsx("span",{className:"text-xs text-gray-500",children:ni(I.timestamp,"HH:mm",{locale:Q0})}),I.role==="assistant"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>C(I.content),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Copiar",children:n.jsx(Bd,{className:"w-3 h-3"})}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"til",children:n.jsx(tae,{className:"w-3 h-3"})}),n.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"No til",children:n.jsx(Zse,{className:"w-3 h-3"})})]})]})]})]},I.id)),c&&n.jsxs(he.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-600 to-blue-600 flex items-center justify-center",children:n.jsx(Hy,{className:"w-5 h-5 text-white"})}),n.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-2xl rounded-bl-none p-3",children:n.jsxs("div",{className:"flex gap-1",children:[n.jsx(he.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:0},className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx(he.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.2},className:"w-2 h-2 bg-gray-400 rounded-full"}),n.jsx(he.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:.6,delay:.4},className:"w-2 h-2 bg-gray-400 rounded-full"})]})})]}),n.jsx("div",{ref:f})]}),n.jsxs("div",{className:"p-4 bg-white border-t",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsx("input",{ref:p,type:"text",value:a,onChange:I=>i(I.target.value),onKeyPress:I=>I.key==="Enter"&&!o&&_(),placeholder:"Pergunte algo ao Thomaz...",disabled:o,className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed"}),n.jsx("button",{onClick:()=>_(),disabled:o||!a.trim(),className:"px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center",children:o?n.jsx(Tp,{className:"w-5 h-5 animate-spin"}):n.jsx(Ti,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Thomaz pode acessar todos os dados do sistema em tempo real"})]})]})}):n.jsxs(he.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e(!0),className:"fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl flex items-center justify-center z-50 hover:shadow-blue-500/50 transition-all",children:[n.jsx(Hy,{className:"w-8 h-8"}),n.jsx(he.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{repeat:1/0,duration:2},className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full"})]})}function COe(){const[t,e]=O.useState(!1),[r,s]=O.useState(!1),[a,i]=O.useState([]),[o,l]=O.useState(""),[c,d]=O.useState(!1),[u]=O.useState(crypto.randomUUID()),h=O.useRef(null);O.useEffect(()=>{f()},[a]),O.useEffect(()=>{t&&a.length===0&&i([{id:"welcome",role:"assistant",content:` Ol! Sou o **Assistente Giartech**, sua inteligncia corporativa.

Posso ajud-lo com:

 **Financeiro** - Receitas, despesas, DRE e anlises
 **Ordens de Servio** - Status, anlises e insights
 **Estoque** - Inventrio e alertas
 **Clientes** - CRM e base de dados
 **Equipe** - Colaboradores e performance
 **Indicadores** - KPIs e dashboards
 **Agenda** - Compromissos e eventos

Como posso ajud-lo hoje?`,timestamp:new Date().toISOString()}])},[t]);const f=()=>{h.current?.scrollIntoView({behavior:"smooth"})},p=async()=>{if(!o.trim()||c)return;const x=o.trim();l("");const w={id:`user-${Date.now()}`,role:"user",content:x,timestamp:new Date().toISOString()};i(_=>[..._,w]),d(!0);try{const C=await(await fetch("https://hevvpugkhcmujiyncysq.supabase.co/functions/v1/giartech-assistant",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhldnZwdWdraGNtdWppeW5jeXNxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjkwNDAsImV4cCI6MjA3NTM0NTA0MH0.THnFgVOEDqtcVTcEyzfSwvjvlkfxJjRmSZtn2woIYEs"},body:JSON.stringify({message:x,conversationId:u,userId:"current-user"})})).json();if(C.success&&C.response){const B={id:`assistant-${Date.now()}`,role:"assistant",content:C.response,timestamp:C.timestamp,intent:C.intent};i(I=>[...I,B])}else throw new Error(C.error||"Erro ao processar mensagem")}catch(_){console.error("Error:",_);const k={id:`error-${Date.now()}`,role:"assistant",content:" Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.",timestamp:new Date().toISOString()};i(C=>[...C,k])}finally{d(!1)}},v=[{icon:gr,text:"Como est o financeiro?",color:"text-green-600"},{icon:qr,text:"Quantas OSs temos hoje?",color:"text-blue-600"},{icon:vr,text:"O que tenho na agenda hoje?",color:"text-indigo-600"},{icon:qt,text:"Qual o status do estoque?",color:"text-orange-600"}],y=x=>{l(x)},g=x=>{switch(x){case"financial":return"";case"serviceOrders":return"";case"inventory":return"";case"clients":return"";case"employees":return"";case"analytics":return"";case"calendar":return"";default:return""}};return t?n.jsxs(he.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:`fixed z-50 bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col ${r?"bottom-6 right-6 w-80 h-16":"bottom-6 right-6 w-[450px] h-[650px]"}`,style:{maxHeight:"calc(100vh - 100px)"},children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-4 py-3 rounded-t-2xl flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(D0,{className:"h-6 w-6"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-sm",children:"Assistente Giartech"}),n.jsx("p",{className:"text-xs text-blue-100",children:"Inteligncia Corporativa"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>s(!r),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:r?n.jsx(Wne,{className:"h-4 w-4"}):n.jsx(sse,{className:"h-4 w-4"})}),n.jsx("button",{onClick:()=>e(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors",children:n.jsx(bt,{className:"h-4 w-4"})})]})]}),!r&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[a.map(x=>n.jsx(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${x.role==="user"?"bg-blue-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[x.role==="assistant"&&x.intent&&n.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:[g(x.intent)," ",x.intent]}),n.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:x.content.split(`
`).map((w,_)=>{let k=w;return k=k.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),k=k.replace(/\*(.*?)\*/g,"<em>$1</em>"),n.jsxs("span",{children:[n.jsx("span",{dangerouslySetInnerHTML:{__html:k}}),_<x.content.split(`
`).length-1&&n.jsx("br",{})]},_)})}),n.jsx("div",{className:`text-xs mt-2 ${x.role==="user"?"text-blue-100":"text-gray-400"}`,children:new Date(x.timestamp).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]})},x.id)),c&&n.jsx(he.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:n.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),n.jsx("div",{ref:h})]}),a.length===1&&n.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 bg-white",children:[n.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Perguntas rpidas:"}),n.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.map((x,w)=>n.jsxs("button",{onClick:()=>y(x.text),className:"flex items-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-xs text-left transition-colors border border-gray-200",children:[n.jsx(x.icon,{className:`h-4 w-4 ${x.color} flex-shrink-0`}),n.jsx("span",{className:"text-gray-700 line-clamp-2",children:x.text})]},w))})]}),n.jsxs("div",{className:"p-4 border-t border-gray-200 bg-white rounded-b-2xl",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"text",value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&!x.shiftKey&&p(),placeholder:"Digite sua pergunta...",disabled:c,className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-gray-50 disabled:text-gray-400 text-sm"}),n.jsx("button",{onClick:p,disabled:!o.trim()||c,className:"bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 disabled:from-gray-300 disabled:to-gray-400 text-white p-3 rounded-xl transition-all duration-200 disabled:cursor-not-allowed",children:n.jsx(Ti,{className:"h-5 w-5"})})]}),n.jsx("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Powered by Giartech Intelligence"})]})]})]}):n.jsxs(he.button,{initial:{scale:0},animate:{scale:1},onClick:()=>e(!0),className:"fixed bottom-6 right-6 z-50 bg-gradient-to-br from-blue-600 to-indigo-700 text-white p-4 rounded-full shadow-2xl hover:shadow-3xl transition-all duration-300 group",children:[n.jsxs("div",{className:"relative",children:[n.jsx(D0,{className:"h-7 w-7 animate-pulse"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-ping"}),n.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full"})]}),n.jsx("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Assistente Giartech"})]})}const Gt=({children:t})=>n.jsx(n.Fragment,{children:t});function SOe(){const[t,e]=O.useState(!0),[r,s]=O.useState(!1),[a,i]=O.useState(!1),[o,l]=O.useState(!1),[c,d]=O.useState(!1),[u,h]=O.useState(""),[f,p]=O.useState(""),[v]=O.useState("admin"),[y,g]=O.useState(!1),x=nf(),[w,_]=O.useState(!1);O.useEffect(()=>{const B=setTimeout(()=>{e(!1),!localStorage.getItem("os_system_tutorial_completed")&&s(!0)},1500);return()=>clearTimeout(B)},[]),O.useEffect(()=>{const B=async()=>{try{const E=await(await fetch("/version.json?t="+Date.now())).json(),D=localStorage.getItem("app_version");D&&D!==E.version?(console.log("Nova verso disponvel:",E.version),confirm(`Nova verso ${E.version} disponvel!

${E.description}

Deseja atualizar agora?`)&&(localStorage.setItem("app_version",E.version),window.location.reload())):D||localStorage.setItem("app_version",E.version)}catch(S){console.error("Erro ao verificar atualizaes:",S)}};B();const I=setInterval(B,300*1e3);return()=>clearInterval(I)},[]);const k=B=>{h(B),i(!0),g(!0),setTimeout(()=>{g(!1)},1e4)},C=B=>{p(B),l(!0)};return t?n.jsx(_ae,{}):n.jsxs(vle,{children:[n.jsxs(vt,{mode:"wait",children:[n.jsxs(sY,{location:x,children:[n.jsx(Mt,{path:"/login",element:n.jsx(owe,{})}),n.jsx(Mt,{path:"/pricing",element:n.jsx(cwe,{})}),n.jsx(Mt,{path:"/",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(FD,{})})})}),n.jsx(Mt,{path:"/home",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(TD,{})})})}),n.jsx(Mt,{path:"/dashboard-executivo",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(FD,{})})})}),n.jsx(Mt,{path:"/ordens-servico-kanban",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Zbe,{})})})}),n.jsx(Mt,{path:"/departmental-dashboard",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(OTe,{})})})}),n.jsx(Mt,{path:"/service-orders",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(jle,{})})})}),n.jsx(Mt,{path:"/service-orders/create",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(nO,{})})})}),n.jsx(Mt,{path:"/service-orders/:id/view",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(ghe,{})})})}),n.jsx(Mt,{path:"/service-orders/:id",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(nO,{})})})}),n.jsx(Mt,{path:"/inventory",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx($ge,{})})})}),n.jsx(Mt,{path:"/inventory/:id",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(qge,{})})})}),n.jsx(Mt,{path:"/inventory/create",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(zge,{})})})}),n.jsx(Mt,{path:"/reports",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(kbe,{})})})}),n.jsx(Mt,{path:"/settings",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Pbe,{})})})}),n.jsx(Mt,{path:"/users",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Fbe,{})})})}),n.jsx(Mt,{path:"/service-catalog",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Obe,{})})})}),n.jsx(Mt,{path:"/financial",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Mbe,{})})})}),n.jsx(Mt,{path:"/client-management",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Rbe,{})})})}),n.jsx(Mt,{path:"/visual-customization",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Qbe,{onPremiumFeature:k})})})}),n.jsx(Mt,{path:"/monitoring",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx($be,{onPremiumFeature:k,onEnterpriseFeature:C})})})}),n.jsx(Mt,{path:"/calendar",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Xbe,{onPremiumFeature:k})})})}),n.jsx(Mt,{path:"/projects",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Ybe,{onPremiumFeature:k,onEnterpriseFeature:C})})})}),n.jsx(Mt,{path:"/profile",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(Jbe,{})})})}),n.jsx(Mt,{path:"/access-codes",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(lwe,{})})})}),n.jsx(Mt,{path:"/digital-library",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(ITe,{})})})}),n.jsx(Mt,{path:"/chat",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(DTe,{})})})}),n.jsx(Mt,{path:"/whatsapp-crm",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(MTe,{})})})}),n.jsx(Mt,{path:"/financial-management",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(UTe,{})})})}),n.jsx(Mt,{path:"/financial-analysis",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(RTe,{})})})}),n.jsx(Mt,{path:"/financial-categories",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(nOe,{})})})}),n.jsx(Mt,{path:"/email/settings",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(wOe,{})})})}),n.jsx(Mt,{path:"/email/compose",element:n.jsx(Gt,{children:n.jsx(NOe,{})})}),n.jsx(Mt,{path:"/email/inbox",element:n.jsx(Gt,{children:n.jsx(jOe,{})})}),n.jsx(Mt,{path:"/audit-logs",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(sOe,{})})})}),n.jsx(Mt,{path:"/bank-accounts",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(QTe,{})})})}),n.jsx(Mt,{path:"/access-management",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(rOe,{})})})}),n.jsx(Mt,{path:"/funcionarios",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(eOe,{})})})}),n.jsx(Mt,{path:"/convites-usuarios",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(tOe,{})})})}),n.jsx(Mt,{path:"/crm-leads",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(aOe,{})})})}),n.jsx(Mt,{path:"/contracts",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(iOe,{})})})}),n.jsx(Mt,{path:"/contract-templates",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(oOe,{})})})}),n.jsx(Mt,{path:"/document-templates",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(lOe,{})})})}),n.jsx(Mt,{path:"/invoices",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(cOe,{})})})}),n.jsx(Mt,{path:"/company-settings",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(dOe,{})})})}),n.jsx(Mt,{path:"/equipments",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(uOe,{})})})}),n.jsx(Mt,{path:"/suppliers",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(hOe,{})})})}),n.jsx(Mt,{path:"/purchasing",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(mOe,{})})})}),n.jsx(Mt,{path:"/rotas",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(gOe,{})})})}),n.jsx(Mt,{path:"/documentos",element:n.jsx(Gt,{children:n.jsx(nr,{children:n.jsx(bOe,{})})})}),n.jsx(Mt,{path:"/homepage",element:n.jsx(ewe,{})}),n.jsx(Mt,{path:"/home",element:n.jsx(TD,{})}),n.jsx(Mt,{path:"/sobre",element:n.jsx(twe,{})}),n.jsx(Mt,{path:"/servicos",element:n.jsx(rwe,{})}),n.jsx(Mt,{path:"/contato",element:n.jsx(nwe,{})})]},x.pathname),n.jsx(Ibe,{isOpen:r,onComplete:()=>{s(!1),localStorage.setItem("os_system_tutorial_completed","true")}}),n.jsx(swe,{isOpen:a,feature:u,onClose:()=>i(!1)}),n.jsx(iwe,{isOpen:o,feature:f,onClose:()=>l(!1)}),n.jsx(dwe,{isOpen:c,onClose:()=>d(!1),requiredRole:v}),y&&n.jsx(awe,{feature:u})]}),n.jsx(_Oe,{}),n.jsx(COe,{})]})}class BOe extends O.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,r){console.error("Uncaught error:",e,r),this.setState({error:e,errorInfo:r})}render(){return this.state.hasError?n.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-2xl w-full",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ops! Algo deu errado"}),n.jsx("p",{className:"text-gray-600",children:"Ocorreu um erro inesperado ao carregar o sistema."})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[n.jsx("h2",{className:"text-sm font-semibold text-red-800 mb-2",children:"Detalhes do erro:"}),n.jsx("pre",{className:"text-xs text-red-700 overflow-auto max-h-40",children:this.state.error?.toString()})]}),this.state.errorInfo&&n.jsxs("details",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[n.jsx("summary",{className:"text-sm font-semibold text-gray-800 cursor-pointer",children:"Stack Trace (clique para expandir)"}),n.jsx("pre",{className:"text-xs text-gray-700 overflow-auto max-h-60 mt-2",children:this.state.errorInfo.componentStack})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Recarregar Pgina"}),n.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null,errorInfo:null})},className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:"Tentar Novamente"})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:n.jsxs("p",{className:"text-sm text-blue-800",children:[n.jsx("strong",{children:"Dica:"})," Abra o console do navegador (F12) para ver mais detalhes do erro."]})})]})}):this.props.children}}dX.createRoot(document.getElementById("root")).render(n.jsx(ke.StrictMode,{children:n.jsx(BOe,{children:n.jsx(hY,{children:n.jsx(SOe,{})})})}));export{Yr as _,Dy as c,Dr as g};
